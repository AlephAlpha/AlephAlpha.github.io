var sb="function"==typeof Object.defineProperties?Object.defineProperty:function(c,e,d){c!=Array.prototype&&c!=Object.prototype&&(c[e]=d.value)},tb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ub(c,e){if(e){var d=tb;c=c.split(".");for(var a=0;a<c.length-1;a++){var b=c[a];b in d||(d[b]={});d=d[b]}c=c[c.length-1];a=d[c];e=e(a);e!=a&&null!=e&&sb(d,c,{configurable:!0,writable:!0,value:e})}}
ub("Array.prototype.fill",function(c){return c?c:function(e,d,a){var b=this.length||0;0>d&&(d=Math.max(0,b+d));if(null==a||a>b)a=b;a=Number(a);0>a&&(a=Math.max(0,b+a));for(d=Number(d||0);d<a;d++)this[d]=e;return this}});
(function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.$C||performance.aD||performance.dD||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var c=new Uint32Array(1);c[0]=4660;52===(new Uint8Array(c.buffer))[0]?window.littleEndian=!0:
window.littleEndian=!1;window.registerEvent=function(e,d,a,b){e.addEventListener?e.addEventListener(d,a,b):e.attachEvent("on"+d,a)}})();(function(){function c(a,b,f){this.type=a;this.name=f;this.elements=b;this.size=b*d.ll(a);this.Im=1}function e(){this.Ye=[];this.lk=this.Fm=this.kk=this.Cm=0}var d={uq:8,vq:40,sq:9,tq:10,oq:0,mq:1,nq:2,kq:18,lq:19,ll:function(a){return 1<<(a&7)},typeName:function(a){var b=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(b+="Clamped");return b}};e.prototype.hy=function(a){var b="";0<=a&&a<this.Ye.length&&(a=this.Ye[a],b=d.typeName(a.type)+"\t"+a.elements+"\t"+a.name+"\t"+a.Im);
return b};e.prototype.f=function(a,b,f){for(var g=0,k=!1,F;g<this.Ye.length&&!k;)F=this.Ye[g],f===F.name?(k=!0,this.Fm+=1,this.lk+=F.elements*d.ll(F.type)):g+=1;k?(this.Ye[g].type=a,this.Ye[g].elements=b,this.Ye[g].Im+=1,this.Ye[g].size=b*d.ll(a)):(g=this.Ye.length,this.Ye[g]=new c(a,b,f));this.Cm+=1;this.kk+=b*d.ll(a)};e.prototype.Ft=function(a,b,f,g,k){a=a.buffer;g*=d.ll(b);switch(b){case d.uq:f=new Uint8Array(a,g,f);break;case d.vq:f=new Uint8Array(a,g,f);break;case d.sq:f=new Uint16Array(a,g,
f);break;case d.tq:f=new Uint32Array(a,g,f);break;case d.oq:f=new Int8Array(a,g,f);break;case d.mq:f=new Int16Array(a,g,f);break;case d.nq:f=new Int32Array(a,g,f);break;case d.kq:f=new Float32Array(a,g,f);break;case d.lq:f=new Float64Array(a,g,f);break;default:f=null,alert("Illegal type specified to allocator.typedView for "+k+": "+b)}return f};e.prototype.j=function(a,b,f){switch(a){case d.uq:b=new Uint8Array(b);break;case d.vq:b=new Uint8Array(b);break;case d.sq:b=new Uint16Array(b);break;case d.tq:b=
new Uint32Array(b);break;case d.oq:b=new Int8Array(b);break;case d.mq:b=new Int16Array(b);break;case d.nq:b=new Int32Array(b);break;case d.kq:b=new Float32Array(b);break;case d.lq:b=new Float64Array(b);break;default:b=null,alert("Illegal type specified to allocator.typedMemory for "+f+": "+a)}return b};e.prototype.X=function(a,b,f){var g=null;0<b&&(g=this.j(a,b,f));(g||0===b)&&this.f(a,b,f);return g};e.prototype.gy=function(a,b,f,g){var k=null;0<b&&(k=this.j(a,b,f));(k||0===b)&&this.f(a,b*g,f);return k};
Array.Y=function(a,b,f,g,k,F){var J=0,d=[];d.i=k;d.type=a;d.En=null;var e=k.X(a,b*f,F);d.En=e;if(0<f){for(;J<b;)d[J]=k.Ft(e,a,f,J*f,F),J+=1;if(0!==g)if(e.fill)e.fill(g);else for(J=0;J<e.length;)e[J]=g,J+=1}return d};Array.wl=function(a,b){b=a.i.gy(a.type,a[0].length,b,a.length+1);a[a.length]=b};Array.gg=function(a,b){b.En.set(a.En)};Array.Uf=function(a,b){var f=Uint16,g,k=a.length,F=[],J=a.i,e=a[0].length/d.ll(f);for(g=0;g<k;g+=1)F[g]=J.Ft(a.En,f,e,g*e,b);return F};Array.cd=function(a,b,f){var g,
k=a.length,F=[],J=a.i,d=a.type,e=a[0].length;for(g=0;g<k;g+=1)F[g]=J.Ft(a.En,d,e-b,g*e+b,f);return F};window.Allocator=e;window.Uint8=d.uq;window.Uint8Clamped=d.vq;window.Uint16=d.sq;window.Uint32=d.tq;window.Int8=d.oq;window.Int16=d.mq;window.Int32=d.nq;window.Float32=d.kq;window.Float64=d.lq})();window.AliasManager={c:[],tf:[],Md:function(){var c,e;this.c=[];this.tf=[];this.tf.push("OT M");this.c.push(["Outer-Totalistic Moore",""]);this.c.push(["","B3/S23"]);this.c.push(["2x2","B36/S125"]);this.c.push(["2x2 2","B3678/S1258"]);this.c.push(["34 Life","B34/S34"]);this.c.push(["3-4 Life","B34/S34"]);this.c.push(["Amoeba","B357/S1358"]);this.c.push(["AntiLife","B0123478/S01234678"]);this.c.push(["Assimilation","B345/S4567"]);this.c.push(["Bacteria","B34/S456"]);this.c.push(["Blinkers","B345/S2"]);
this.c.push(["Bugs","B3567/S15678"]);this.c.push(["Coagulations","B378/S235678"]);this.c.push(["Conway's Game of Life","B3/S23"]);this.c.push(["Conway's Life","B3/S23"]);this.c.push(["Coral","B3/S45678"]);this.c.push(["Corrosion of Conformity","B3/S124"]);this.c.push(["Dance","B34/S35"]);this.c.push(["Day & Night","B3678/S34678"]);this.c.push(["Day and Night","B3678/S34678"]);this.c.push(["Diamoeba","B35678/S5678"]);this.c.push(["DotLife","B3/S023"]);this.c.push(["DrighLife","B367/S23"]);this.c.push(["DryFlock",
"B37/S12"]);this.c.push(["DryLife","B37/S23"]);this.c.push(["DryLife without Death","B37/S012345678"]);this.c.push(["EightFlock","B3/S128"]);this.c.push(["EightLife","B3/S238"]);this.c.push(["Electrified Maze","B45/S12345"]);this.c.push(["Eppstein","B35/S236"]);this.c.push(["Flock","B3/S12"]);this.c.push(["Forest of Ls","B168/S236"]);this.c.push(["Fredkin","B1357/S02468"]);this.c.push(["Gems Minor","B34578/S456"]);this.c.push(["Gems","B3457/S4568"]);this.c.push(["Gnarl","B1/S1"]);this.c.push(["H-Trees",
"B1/S012345678"]);this.c.push(["HighFlock","B36/S12"]);this.c.push(["HighLife","B36/S23"]);this.c.push(["HighLife without Death","B36/S012345678"]);this.c.push(["Holstein","B35678/S4678"]);this.c.push(["HoneyFlock","B38/S128"]);this.c.push(["HoneyLife","B38/S238"]);this.c.push(["Iceballs","B25678/S5678"]);this.c.push(["InverseLife","B012345678/S34678"]);this.c.push(["Invertamaze","B028/S0124"]);this.c.push(["IronFlock","B36/S128"]);this.c.push(["IronLife","B36/S238"]);this.c.push(["Land Rush","B36/S234578"]);
this.c.push(["Life SkyHigh","B368/S236"]);this.c.push(["Life without Death","B3/S012345678"]);this.c.push(["Life","B3/S23"]);this.c.push(["Live Free or Die","B2/S0"]);this.c.push(["LongLife","B345/S5"]);this.c.push(["Long Life","B345/S5"]);this.c.push(["LowDeath without death","B368/S012345678"]);this.c.push(["LowDeath","B368/S238"]);this.c.push(["LowFlockDeath","B368/S128"]);this.c.push(["LowLife","B3/S13"]);this.c.push(["Majority","B45678/S5678"]);this.c.push(["Maze","B3/S12345"]);this.c.push(["Maze with Mice",
"B37/S12345"]);this.c.push(["Mazectric","B3/S1234"]);this.c.push(["Mazectric with Mice","B37/S1234"]);this.c.push(["Morley","B368/S245"]);this.c.push(["Move","B368/S245"]);this.c.push(["Neon Blobs","B08/S4"]);this.c.push(["Pedestrian Flock","B38/S12"]);this.c.push(["Pedestrian Life","B38/S23"]);this.c.push(["Pedestrian Life without Death","B38/S012345678"]);this.c.push(["Persian Rug","B234/S"]);this.c.push(["Plow World","B378/S012345678"]);this.c.push(["Pseudo Life","B357/S238"]);this.c.push(["Replicator",
"B1357/S1357"]);this.c.push(["Rings 'n' Slugs","B56/S14568"]);this.c.push(["Seeds","B2/S"]);this.c.push(["Serviettes","B234/S"]);this.c.push(["Shoots and Roots","B3/S245678"]);this.c.push(["Slow Blob","B367/S125678"]);this.c.push(["SnowLife","B3/S1237"]);this.c.push(["Stains","B3678/S235678"]);this.c.push(["Virus","B36/S235"]);this.c.push(["Vote","B5678/S45678"]);this.c.push(["Vote 4/5","B4678/S35678"]);this.c.push(["Walled Cities","B45678/S2345"]);this.tf.push("OT Hex");this.c.push(["Outer-Totalistic Hex",
""]);this.c.push(["Fredkin Hex","B135/S0246H"]);this.c.push(["Hexagonal Life","B2/S34H"]);this.c.push(["HighHexLife","B25/S34H"]);this.c.push(["Replicator Hex","B135/S135H"]);this.tf.push("NT M");this.c.push(["Isotropic Non-Totalistic Moore",""]);this.c.push(["15Life","B34r/S23-q4et"]);this.c.push(["22k","B2-k/S2-k"]);this.c.push(["38life","B35y/S2-n35k6ci"]);this.c.push(["aLife","B3/S234iw"]);this.c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);this.c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);
this.c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);this.c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);this.c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);this.c.push(["Best Friends","B2ce3aiy/S12aei3r"]);this.c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);this.c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);this.c.push(["Breps","B34cqy5c/S23-y4y"]);this.c.push(["Bubbles","B3ai4-a/S23"]);this.c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);
this.c.push(["Buzz","B2i35-n/S2-ci36k8"]);this.c.push(["CarrierLife","B2e3aceik/S23"]);this.c.push(["CB2","B2ae4i/S1e2in"]);this.c.push(["cetlife","B34cet/S234jkwyz"]);this.c.push(["CommonRepl","B3/S23-ac4eiy6"]);this.c.push(["Conway++","B3/S234c"]);this.c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);this.c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);this.c.push(["Conway--","B3/S2-ei3"]);this.c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);this.c.push(["Diamoeral","B2n3ai4a78/S35678"]);this.c.push(["Diamonds",
"B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);this.c.push(["DLife","B3-n/S23"]);this.c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);this.c.push(["Dry15Life","B34r7/S23-q4et"]);this.c.push(["DryGoats","B2in37/S123a"]);this.c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);this.c.push(["EightGoats","B2in3/S123a8"]);this.c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);this.c.push(["FattyLife","B3-n4nt5qr6i/S23"]);this.c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
this.c.push(["FogLife","B35eq7/S2-i34q"]);this.c.push(["GlideLife","B34ek5ak/S2-c34z"]);this.c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);this.c.push(["Goat Flock","B2in3/S123a"]);this.c.push(["Goats","B2in3/S123a"]);this.c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);this.c.push(["guntlife","B35j6a/S2-i34q"]);this.c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);this.c.push(["hatlife","B35y/S23"]);this.c.push(["High15Life","B34r6/S23-q4et"]);this.c.push(["HighGoats","B2in36/S123a"]);
this.c.push(["hlife3","B3/S2-in34iw"]);this.c.push(["HoneyGoats","B2in38/S123a8"]);this.c.push(["HouseLife","B2i3/S23-r"]);this.c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);this.c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);this.c.push(["ilife","B3/S235i"]);this.c.push(["IronGoats","B2in36/S123a8"]);this.c.push(["Just Friends","B2-a/S12"]);this.c.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.c.push(["klife","B34n/S23"]);this.c.push(["Knyght","B2e3/S23-jq"]);this.c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);
this.c.push(["Linea","B2-a3-i/S23-a"]);this.c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);this.c.push(["Movostill","B2i3acijk6i/S23-a4"]);this.c.push(["Movostill 2","B3acijk/S23-a4"]);this.c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);this.c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);this.c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);this.c.push(["Pedestrian Goats","B2in38/S123a"]);this.c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);this.c.push(["PiLife","B37e/S23"]);this.c.push(["PondLife",
"B36i/S2-i35i"]);this.c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);this.c.push(["PlasmaLife","B34-air/S234-air"]);this.c.push(["reptlife","B36-k/S2-i34q"]);this.c.push(["RustyLife","B34-ai/S24-air5-a"]);this.c.push(["Salad","B2i34c/S2-i3"]);this.c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);this.c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);this.c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);this.c.push(["SilverLife","B367/S2-i34q"]);this.c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);
this.c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);this.c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);this.c.push(["SparkLife","B36i/S234j"]);this.c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);this.c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);this.c.push(["TableLife","B3/S23-ai4anq6n"]);this.c.push(["TauLife","B3-nr/S2-i34-aij"]);this.c.push(["tceclife","B36ce7c/S2-i34q"]);this.c.push(["tDryFlock","B37/S12-i4q"]);this.c.push(["tDryLife","B37/S2-i34q"]);
this.c.push(["tEightLife","B3/S2-i34q8"]);this.c.push(["tflock","B3/S12-i4q"]);this.c.push(["tHighFlock","B36/S12-i4q"]);this.c.push(["tHighLife","B36/S2-i34q"]);this.c.push(["tlife","B3/S2-i34q"]);this.c.push(["tPedestrianFlock","B38/S12-i4q"]);this.c.push(["tPedestrianLife","B38/S2-i34q"]);this.c.push(["Train","B34t6k8/S2-i35a7e"]);this.c.push(["Turro","B2-a3c/S12-i"]);this.c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);this.c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);this.c.push(["X-rule-pre",
"B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);this.c.push(["Ylife","B2e3ai4ar/S23-a4a"]);this.tf.push("NT Hex");this.c.push(["Isotropic Non-Totalistic Hex",""]);this.c.push(["Hex Life","B2o3m56/S2-p4oH"]);this.c.push(["22da","B2o/S2-mH"]);this.c.push(["Hexrule b2o","B2o/S2m34H"]);this.tf.push("OT M G");this.c.push(["Outer-Totalistic Generations Moore",""]);this.c.push(["9:43 at Knight","237/34578/4"]);this.c.push(["Banners","2367/3457/5"]);this.c.push(["BelZhab","23/23/8"]);this.c.push(["BelZhab Sediment",
"145678/23/8"]);this.c.push(["Bloomerang","234/34678/24"]);this.c.push(["Bombers","345/24/25"]);this.c.push(["Brain 5","/2/5"]);this.c.push(["Brain 6","6/246/3"]);this.c.push(["Brian's Brain","/2/3"]);this.c.push(["Burst","0235678/3468/9"]);this.c.push(["BurstII","235678/3468/9"]);this.c.push(["Caterpillars","124567/378/4"]);this.c.push(["Chenille","05678/24567/6"]);this.c.push(["Circuit Genesis","2345/1234/8"]);this.c.push(["Constellations","/23/3"]);this.c.push(["Cooties","23/2/8"]);this.c.push(["Ebb&Flow",
"012478/36/18"]);this.c.push(["Ebb&Flow II","012468/37/18"]);this.c.push(["Faders","2/2/25"]);this.c.push(["Fireworks","2/13/21"]);this.c.push(["Flaming Starbows","347/23/8"]);this.c.push(["Free Star","0345/2/10"]);this.c.push(["Frogs","12/34/3"]);this.c.push(["Frozen spirals","356/23/6"]);this.c.push(["Glisserati","035678/245678/7"]);this.c.push(["Glissergy","035678/245678/5"]);this.c.push(["Lava","12345/45678/8"]);this.c.push(["Lines","012345/458/3"]);this.c.push(["LivingOn TheEdge","345/3/6"]);
this.c.push(["Meteor Guns","01245678/3/8"]);this.c.push(["Nova","45678/2478/25"]);this.c.push(["OrthoGo","3/2/4"]);this.c.push(["Prairie on fire","345/34/6"]);this.c.push(["RainZha","2/23/8"]);this.c.push(["Rake","3467/2678/6"]);this.c.push(["SediMental","45678/25678/4"]);this.c.push(["Snake","03467/25/6"]);this.c.push(["SoftFreeze","13458/38/6"]);this.c.push(["Spirals","2/234/5"]);this.c.push(["Star Wars","345/2/4"]);this.c.push(["Sticks","3456/2/6"]);this.c.push(["Swirl","23/34/8"]);this.c.push(["Tadpoles",
"0125678/345678/64"]);this.c.push(["ThrillGrill","1234/34/48"]);this.c.push(["Transers","345/26/5"]);this.c.push(["TransersII","0345/26/6"]);this.c.push(["Transers 2","0345/26/6"]);this.c.push(["Transers 3","0345/26/7"]);this.c.push(["Wallplicators","345/25678/7"]);this.c.push(["Wanderers","345/34678/5"]);this.c.push(["Worms","3467/25/6"]);this.c.push(["Xtasy","1456/2356/16"]);this.tf.push("NT M G");this.c.push(["Isotropic Non-Totalistic Generations Moore",""]);this.c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);
this.c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);this.tf.push("LtL M");this.c.push(["Larger than Life Moore",""]);this.c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);this.c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);this.c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);this.c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);this.c.push(["Bugs R6","R6,C2,M1,S47..81,b47..63,NM"]);this.c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);this.c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);
this.c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);this.c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);this.c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);this.c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);this.c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);this.c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);this.c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);this.c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);
this.c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);this.c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);this.c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);this.c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);this.c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);this.c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);this.c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);this.c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);this.c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);
this.c.push(["Stones","R2,C2,M1,S29..58,B38..61,NM"]);this.c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);this.c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);this.c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);this.c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);this.tf.push("LtL M G");this.c.push(["Generations Larger than Life Moore",""]);this.c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);this.c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);this.tf.push("HROT M");
this.c.push(["Higher-Range Outer-Totalistic Moore",""]);this.c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.tf.push("Alt OT M");this.c.push(["Alternating Outer-Totalistic Moore",""]);this.c.push(["alternlife","B13/S012345678|B/S15"]);this.c.push(["comb625","B3/S348|B2/S356"]);this.c.push(["Fizzler","B13/S3|B/S345678"]);this.c.push(["Jelly","B3/S135|B2/S5"]);this.c.push(["Phoenix","B24/S|B35/S"]);this.tf.push("Alt NT M");this.c.push(["Alternating Non-Totalistic Moore",""]);this.c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);this.c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);this.c.push(["Unidim3",
"B12ci34578/S02345678|B6i7/S268"]);this.c[0][2]=!1;for(c=1;c<this.c.length;c+=1){var d=this.c[c][1];this.c[c][2]=!1;for(e=0;e<c;e+=1)this.c[e][1]===d&&(this.c[e][2]=!0,this.c[c][2]=!0,e=c)}},Yu:function(c){var e=null,d=0;for(c=c.toLowerCase();d<this.c.length&&null===e;)""!==this.c[d][1]&&this.c[d][0].toLowerCase()===c&&(e=this.c[d][1]),d+=1;return e},Xu:function(c){for(var e=null,d=0;d<this.c.length&&null===e;)""!==this.c[d][1]&&this.c[d][1]===c&&(e=this.c[d][0]),d+=1;return e}};(function(){function c(a,f,g,b,d){this.h=d;this.ja=a;this.wa=f;this.Ia=g;this.message="";this.K=a;this.V=f;this.Fa=g;this.Yg="";this.context=b;this.Ca=!1;this.fa=this.j=0;this.ve="rgb(32,255,255)";this.nw="white";this.f=0;this.Aq=!1;this.cb=this.tb="black";this.enabled=!1;this.s=30}function e(a,f,g,b){this.name=a;this.width=f;this.height=g;this.Im=b}function d(a,f){this.context=f;this.V=a;this.height=this.width=0;this.K=this.j=this.f=null;this.s=[];this.zp=!0;this.Cs=-1;this.Md=!1}function a(a,f,
b,d,e,c,C,l,m,r,E,z,x,t,H,n,v,D,p,y){this.id=a;this.I="";this.Ai=-1;this.l=!1;this.Nc=f;this.caller=b;this.icon=p;this.x=e;this.y=c;this.sf=e;this.f=c;this.position=d;this.width=C;this.height=l;this.border=t;this.type=z;x===g.mu?this.orientation=C>=l?g.bd:g.vertical:this.orientation=x;this.on=this.orientation;this.lower=m;this.upper=r;z===g.yc?this.current=[E,E]:this.current=E;this.Nt=H;this.pb=n;this.zs=v;this.fixed=D;this.Vo=!1;this.pm=this.om=this.rm=this.qm=this.wv=this.vv=-1;this.textAlign=g.wu;
this.enabled=!0;this.locked=!1;this.un=[];this.pp=0;this.Xz=!1;this.Vc=y.Vc;this.Mc=y.Mc;if(z===g.list)for(this.Dl=[],a=0;a<m.length;a+=1)this.Dl[a]=this.Vc;this.Kd=y.Kd;this.ge=y.ge;this.Lf=y.Lf;this.Kh=y.Kh;this.Yi=y.Yi;this.dk=y.dk;this.Sf=y.Sf;this.Di=y.Di;this.Qg=y.Qg;this.xj=y.xj;this.border=y.border;this.font=y.Gk}function b(a,f,b,d,e){this.context=d;this.Gk=e;this.locked=this.l=!1;this.Vg=this.pf=-1;this.yj=this.ac=!1;this.K=6;this.Nc=a;this.td=[];this.xb=0;this.Vc="";this.Mc=0;this.Kd="";
this.ge=0;this.Lf="";this.Kh=0;this.Yi="";this.dk=0;this.Sf="";this.Di=0;this.Qg="";this.border=this.xj=0;this.j=g.mu;this.Ji=this.gi=-1;this.cr=this.Wt=null;this.Qn=f;this.caller=b;this.ka=null}function f(a,f,g,b,d,e){var k=this,l=0,F=a.canvas;this.Er=this.As=!0;this.V=this.fa=40;this.mC=50;this.Jg=0;this.f=this.j=this.s=-1;this.Yj=!1;this.caller=d;this.gh=this.ya=this.Ni=this.Jb=!1;this.Ic=4;this.Uu=e;this.hasFocus=this.Nq=!1;this.Bl=!0;this.zn=!1;this.kj=1;this.Vc="black";this.Mc=.7;this.Kd="white";
this.ge=1;this.Lf="rgb(0,240,32)";this.Kh=.7;this.Yi="blue";this.dk=.7;this.Sf="grey";this.Di=1;this.Qg="rgb(32,255,255)";this.border=this.xj=1;this.vu=function(l){return function(){l.Sa(l)}}(this);this.ka=b;this.Tf=a;this.vd=f;this.ac=!1;this.Rh=this.Qh=-1;this.Oc=null;this.Gk=g;this.$i=this.aj=!1;this.Wo=performance.now();this.Wj=5;this.sn=0;this.Qr=[];this.Sr=[];this.Pr=[];for(l=0;5>l;l+=1)this.Qr[l]=0,this.Sr[l]=0,this.Pr[l]=0;this.um=null;this.hh=!1;this.notification=new c(25,100,25,f,this);
this.uv=performance.now();this.yj=this.Jt=!1;this.offsetTop=this.offsetLeft=0;registerEvent(F,"mousedown",function(l){k.ja(k,l)},!1);registerEvent(F,"mousemove",function(l){k.wa(k,l)},!1);registerEvent(F,"mouseup",function(l){k.Ia(k,l)},!1);registerEvent(F,"mouseover",function(l){k.Fa(k,l)},!1);registerEvent(F,"mouseout",function(l){k.Ca(k,l)},!1);registerEvent(F,"touchstart",function(l){k.K(k,l)},!1);registerEvent(F,"touchmove",function(l){k.K(k,l)},!1);registerEvent(F,"touchend",function(l){k.K(k,
l)},!1)}c.prototype.Ij=function(){var a=!1;if(""!==this.message||""!==this.Yg)a=!0;return a};c.prototype.clear=function(a,f){a?""!==this.Yg&&(f?this.Yg="":this.fa=performance.now()-(this.K+this.V)):""!==this.message&&(f?this.message="":this.j=performance.now()-(this.ja+this.wa))};c.prototype.T=function(a,f,g){this.enabled&&(g?this.Yg!==a&&(this.Yg=a,this.K=240,this.V=16*f,this.Fa=240,this.fa=performance.now(),this.f=0,this.Aq=!1):(this.message=a,this.ja=240,this.wa=16*f,this.Ia=240,this.j=performance.now()))};
c.prototype.Jj=function(a,f){96>this.context.canvas.width&&(this.s=24);var g=this.s;var k=this.context.measureText(a).width>>1;if(this.Ca){this.context.fillStyle=this.cb;var F=this.context.globalAlpha;this.context.globalAlpha=.5*F;this.context.fillRect(-k-20,-g,2*k+40,2*g);this.context.globalAlpha=F}this.context.fillStyle=this.tb;this.context.fillText(a,-k+2,2);f?this.Aq?(this.context.fillStyle=128>this.f?"rgb("+2*this.f+","+2*this.f+",255)":"rgb("+2*(256-this.f)+","+2*(256-this.f)+",255)",this.f=
this.f+4&255):this.context.fillStyle=this.nw:this.context.fillStyle=this.ve;this.context.fillText(a,-k,0)};c.prototype.Sa=function(a,f,g,b,d,e,c){var l=this.s,k=l+2,F=this.h.Ic,J=60,h=!0;this.h.Jb?(J=0,e=this.context.canvas.height/2,this.Ca=!0):this.Ca=!1;""!==a&&(h=!1,d=performance.now()-d,this.context.save(),this.h.ya&&(c?(J=0,e=this.context.canvas.height/2):(l/=F,k=k/F|0,e=e/F|0,J=J/F|0)),this.context.font=l+"px Arial",this.context.translate(this.context.canvas.width/2-1,J+e),d<=f?(e=d/f,e*=e,
this.context.globalAlpha=e,this.context.scale(e,e)):d>f+g&&d<=f+g+b&&(e=(b-(d-(f+g)))/b,e*=e,this.context.globalAlpha=e,this.context.scale(e,e)),d>f+g+b?h=!0:(f=a.indexOf("\\n"),-1===f?this.Jj(a,c):(this.Jj(a.substr(0,f),c),this.context.translate(0,k),this.Jj(a.substr(f+2),c))),this.context.restore());return h};c.prototype.update=function(){this.Sa(this.message,this.ja,this.wa,this.Ia,this.j,81,!1)&&(this.message="");this.h.ya&&"Expand"!==this.Yg&&"Launch"!==this.Yg||!this.Sa(this.Yg,this.K,this.V,
this.Fa,this.fa,45,!0)||(this.Yg="")};d.prototype.Jj=function(a,f,g){var k;this.Md||(this.width=this.V.width,this.height=this.V.height,this.f=document.createElement("canvas"),this.f.width=this.width,this.f.height=this.height,this.j=this.f.getContext("2d"),this.K=new Image);if(this.zp){this.j.drawImage(this.V,0,0);var F=this.j.getImageData(0,0,this.f.width,this.f.height);var b=new Uint32Array(F.data.buffer);for(k=0;k<b.length;k+=1)4294967295===b[k]&&(b[k]=this.Cs);this.j.putImageData(F,0,0);this.Md=
this.zp=!1}this.Md||(this.K.src=this.f.toDataURL("image/png"),this.Md=!0);this.context.drawImage(this.K,a.Im*a.width,0,a.width,a.height,f,g,a.width,a.height)};d.prototype.length=function(){return this.s.length};d.prototype.icon=function(a){var f,g=this.s,k=this.length(),b=null;for(f=0;f<k&&!b;)g[f].name===a?b=g[f]:f+=1;return b};d.prototype.add=function(a,f,g){var k=this.s.length;this.s[k]=new e(a,f,g,k)};var g={mu:0,bd:1,vertical:2,yc:0,button:1,toggle:2,Ke:3,list:4,label:5,kl:0,Ha:1,left:0,wu:1,
right:2,Kb:0,ib:1,Su:2,Vd:3,Vs:4,bh:5,xx:6,Rc:7,rA:8};a.prototype.bn=function(a,f,g,b,d,e){this.Kd=a;this.Vc=f;this.Lf=g;this.Yi=b;this.Sf=d;this.Qg=e};a.prototype.setPosition=function(a,f,g){this.position=a;this.sf=f;this.f=g;this.x=f;this.y=g};a.prototype.ty=function(a,f){this.x=this.sf;this.y=this.f;switch(this.position){case g.Kb:this.x=(a-this.width>>1)+this.sf;break;case g.ib:this.x=a+this.sf;break;case g.Su:this.y=(f-this.height>>1)+this.f;this.x=a+this.sf;break;case g.Vd:this.x=a+this.sf;
this.y=f+this.f;break;case g.Vs:this.x=(a-this.width>>1)+this.sf;this.y=f+this.f;break;case g.bh:this.y=f+this.f;break;case g.xx:this.y=(f-this.height>>1)+this.f;break;case g.rA:this.x=(a-this.width>>1)+this.sf,this.y=(f-this.height>>1)+this.f}};a.prototype.cu=function(a,f){var g=this.pp;this.un[g]=[a,f];this.pp=g+1};a.prototype.wq=function(a){var f=[],g;var k=a.length;for(g=0;g<k;g+=1)a[g].cu(this,!0);k=f.length;for(g=0;g<k;g+=1)f[g].cu(this,!1)};a.prototype.yA=function(a,f){var g=!1;this.enabled&&
a>=this.x&&a<this.x+this.width&&f>=this.y&&f<this.y+this.height&&(g=!0);return g};b.prototype.bn=function(a,f,g,b,d,e){var k;this.Kd=a;this.Vc=f;this.Lf=g;this.Sf=d;this.Qg=e;for(k=0;k<this.td.length;k+=1)this.td[k].bn(a,f,g,b,d,e)};b.prototype.s=function(a,f){var k=!1,F=a.pp;a.type===g.list&&a.upper===g.Ha?k=a.current[0]:k=a.current===a.upper;a.Xz&&(k=!k);if(k&&f)for(f=0;f<F;f+=1)k=k&&this.s(a.un[f][0],a.un[f][1]);return k};b.prototype.dx=function(a){var f,g=a.pp;var k=!0;for(f=0;f<g;f+=1)k=k&&this.s(a.un[f][0],
a.un[f][1]);a.enabled=k};b.prototype.Md=function(){var a;for(a=0;a<this.xb;a+=1){var f=this.td[a];f.enabled=!0;switch(f.type){case g.toggle:f.Nc&&(f.current=f.Nc(f.current===f.upper,!1,this.caller)?f.upper:f.lower);break;case g.yc:f.Nc&&(f.current=f.Nc(f.current,!1,this.caller));break;case g.list:f.Nc&&(f.current=f.Nc(f.current,!1,this.caller))}this.dx(f)}};b.prototype.kb=function(f,F,b,d,e,c,C,l,m){this.td[this.xb]=new a(this.xb,f,this.caller,F,b,d,e,c,C,m,l,g.list,this.j,this.border,!0,"","",-1,
[],this);this.xb+=1;return this.td[this.xb-1]};b.prototype.Ch=function(f,F,b,d,e,c,C,l,m,r,E,z){this.td[this.xb]=new a(this.xb,f,this.caller,F,b,d,e,c,C,l,m,g.yc,this.j,this.border,!0,r,E,z,null,this);this.xb+=1;return this.td[this.xb-1]};b.prototype.Bb=function(f,F,b,d,e,c){this.td[this.xb]=new a(this.xb,null,null,f,F,b,d,e,0,0,0,g.label,this.j,this.border,!0,c,"",-1,null,this);this.xb+=1;return this.td[this.xb-1]};b.prototype.Hd=function(f,F,b,d,e,c){this.td[this.xb]=new a(this.xb,f,this.caller,
F,b,d,e,40,0,0,0,g.button,this.j,this.border,!0,c,"",-1,null,this);this.xb+=1;return this.td[this.xb-1]};b.prototype.ey=function(){this.td[this.xb]=new a(this.xb,null,null,Menu.bh,0,-40,100,40,0,100,0,g.Ke,this.j,this.border,!1,"","",0,null,this);this.xb+=1;return this.td[this.xb-1]};b.prototype.f=function(a,f,b){var k;a+=String();if(""!==a){this.context.save();this.context.translate(f.x+f.width/2,f.y+f.height/2);this.context.font=f.font;f.on===g.vertical&&this.context.rotate(.5*Math.PI);var F=this.context.measureText(a).width;
var d=f.on===g.vertical?f.height:f.width;if(F>=d-6){if(k=a.length){do{--k;var J=a.substr(0,k)+"...";F=this.context.measureText(J).width}while(1<k&&F>=d-6)}a=J}switch(f.textAlign){case g.left:var l=f.width/2-2;break;case g.wu:l=F/2;break;case g.right:l=F/2-(f.width-F)/2+4}this.context.fillStyle=f.Vc;b&&this.context.fillRect(2-l,2,F,2);this.context.fillText(a,2-l+.5,2.5);this.context.fillStyle=f.locked||this.locked?f.Sf:f.Kd;this.context.fillText(a,-l+.5,.5);b&&this.context.fillRect(-l,0,F,2);this.context.restore()}};
b.prototype.ja=function(a){this.context.globalAlpha=this.ge;this.f(a.pb,a,!1)};b.prototype.V=function(a){this.context.globalAlpha=this.ge;this.f(a.pb,a,!1)};b.prototype.Ca=function(a){var f=(a.current-a.lower)/(a.upper-a.lower);this.context.globalAlpha=a.Mc;this.context.fillStyle=a.Kd;a.orientation===g.bd?(f*=a.width-3,this.context.fillRect(a.x+(f+1|0),a.y,1,a.height)):(f*=a.height-3,this.context.fillRect(a.x,a.y+(f+1|0),a.width,1));f=a.pb;a.Nt&&(f=-1!==a.fixed?f+a.current.toFixed(a.fixed):f+a.current,
f+=a.zs);""!==f&&(this.context.globalAlpha=a.ge,this.f(f,a,!1))};b.prototype.Fa=function(a,f){var k=(a.current[0]-a.lower)/(a.upper-a.lower);var F=this.K;a.orientation===g.bd?(k*=a.width-3,k=k+1|0,f&&(this.context.fillStyle=a.Lf,this.context.globalAlpha=a.Kh,this.context.fillRect(a.x+k-F,a.y,F,a.height),this.context.fillRect(a.x+k+1,a.y,F,a.height)),a.locked||this.locked?(this.context.fillStyle=a.Sf,this.context.globalAlpha=a.Di):(this.context.fillStyle=a.Kd,this.context.globalAlpha=a.ge),this.context.fillRect(a.x+
k,a.y,1,a.height)):(k*=a.height-3,k=k+1|0,f&&(this.context.fillStyle=a.Lf,this.context.globalAlpha=a.Kh,this.context.fillRect(a.x,a.y+k-F,a.width,F),this.context.fillRect(a.x,a.y+k+1,a.width,F)),a.locked||this.locked?(this.context.fillStyle=a.Sf,this.context.globalAlpha=a.Di):(this.context.fillStyle=a.Kd,this.context.globalAlpha=a.ge),this.context.fillRect(a.x,a.y+k,a.width,1));f=a.pb;a.Nt&&(f=0<=a.fixed?f+a.current[1].toFixed(a.fixed):f+a.current[1]);f+=a.zs;""!==f&&(this.context.globalAlpha=this.ge,
this.f(f,a,!1))};b.prototype.Ia=function(a){this.context.globalAlpha=this.ge;var f="-"===a.lower&&""===a.upper&&a.current===a.lower;var g=a.pb;a.Nt&&!f&&(g+=a.current);g+=a.zs;this.f(g,a,f)};b.prototype.wa=function(a,f){var k=a.x;var F=a.y;var b=a.width;var d=a.height;var e=a.orientation;var l=a.current;var m=a.lower;var r=m.length;var c=a.orientation===g.bd?b/r:d/r;this.context.globalAlpha=a.dk;this.context.fillStyle=a.Yi;if(a.upper===g.kl){var z=a.current;0<=z&&z<r&&(a.orientation===g.bd?this.context.fillRect(k+
z*c+1,F+1,c-2,d-2):this.context.fillRect(k+1,F+1+z*c,b-2,c-2))}else if(a.orientation===g.bd)for(z=0;z<r;z+=1)l[z]&&this.context.fillRect(k+z*c+1,F+1,c-2,d-2);else for(z=0;z<r;z+=1)l[z]&&this.context.fillRect(k+1,F+1+z*c,b-2,c-2);f?(this.context.globalAlpha=a.Kh,this.context.fillStyle=a.Lf,a.orientation===g.bd?(z=(this.pf-k)/b*r|0,0<=z&&z<r&&this.context.fillRect(k+z*c+.5,F+.5,c-1,d-1)):(z=(this.Vg-F)/d*r|0,0<=z&&z<r&&this.context.fillRect(k+.5,F+.5+z*c,b-1,c-1)),a.Ai=z):a.Ai=-1;this.context.globalAlpha=
this.ge;if(a.orientation===g.bd)for(z=0;z<r;z+=1)a.icon[z]&&this.ka.Jj(a.icon[z],a.x+c*z,a.y);else for(z=0;z<r;z+=1)a.icon[z]&&this.ka.Jj(a.icon[z],a.x,a.y+c*z);this.context.globalAlpha=a.ge;this.context.fillStyle=a.Kd;if(e===g.bd)for(z=0;z<r;z+=1)k=m[z],""!==k&&(this.context.save(),this.context.translate((.5+(z-r/2))*c,0),this.f(k,a,!1),this.context.restore());else for(z=0;z<r;z+=1)k=m[z],""!==k&&(this.context.save(),this.context.translate(0,(.5+(z-r/2))*c),this.f(k,a,!1),this.context.restore())};
b.prototype.fa=function(a,f,b,d){!(b===d||-1===d&&f)||a.type!==g.button&&a.type!==g.toggle?(this.context.fillStyle=a.Vc,this.context.globalAlpha=a.Mc):(this.context.fillStyle=a.Lf,this.context.globalAlpha=a.Kh);switch(a.type){case g.Ke:var k=(a.current-a.lower)/(a.upper-a.lower);this.context.fillStyle=a.Yi;this.context.globalAlpha=a.dk;a.orientation===g.bd?(k*=a.width-3,k=k+1|0,this.context.fillRect(a.x,a.y,k,a.height),this.context.fillStyle=a.Vc,this.context.globalAlpha=a.Mc,this.context.fillRect(a.x+
k,a.y,a.width-k,a.height)):(k*=a.height-3,k=k+1|0,this.context.fillRect(a.x,a.y,a.width,k),this.context.fillStyle=a.Vc,this.context.fillRect(a.x,a.y+k,a.width,a.height-k));break;case g.yc:k=(a.current[0]-a.lower)/(a.upper-a.lower);if(b===d||-1===d&&f){var F=this.K;if(a.orientation===g.bd){k*=a.width-3;k=k+1|0;var J=k-F;0<J&&this.context.fillRect(a.x,a.y,J,a.height);J=1+k+F;J<a.width&&this.context.fillRect(a.x+J,a.y,a.width-J,a.height)}else k*=a.height-3,k=k+1|0,J=k-F,0<J&&this.context.fillRect(a.x,
a.y,a.width,J),J=1+k+F,J<a.height&&this.context.fillRect(a.x,a.y+J,a.width,a.height-J)}else this.context.fillRect(a.x,a.y,a.width,a.height);break;case g.list:F=a.lower.length;if(a.orientation===g.bd)for(J=a.width/F,k=0;k<F;k+=1)this.context.fillStyle=a.Dl[k],this.context.fillRect(a.x+k*J+1,a.y+1,J-2,a.height-2);else for(J=a.height/F,k=0;k<F;k+=1)this.context.fillStyle=a.Dl[k],this.context.fillRect(a.x+1,a.y+1+k*J,a.width-2,J-2);break;default:this.context.fillRect(a.x,a.y,a.width,a.height)}a.type!==
g.list&&a.icon&&(this.context.globalAlpha=a.ge,this.ka.Jj(a.icon,a.x,a.y));if(0<a.border)switch(a.locked||this.locked?(this.context.strokeStyle=a.Sf,this.context.globalAlpha=a.Di):(this.context.strokeStyle=a.Qg,this.context.globalAlpha=a.xj),this.context.lineWidth=a.border,a.type){case g.label:break;case g.list:F=a.lower.length;if(a.orientation===g.bd)for(J=a.width/F,k=0;k<F;k+=1)this.context.strokeRect(a.x+.5+k*J,a.y+.5,J-1,a.height-1);else for(J=a.height/F,k=0;k<F;k+=1)this.context.strokeRect(a.x+
.5,a.y+.5+k*J,a.width-1,J-1);break;default:this.context.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case g.button:this.V(a);break;case g.label:this.ja(a);break;case g.yc:this.Fa(a,b===d||-1===d&&f);break;case g.toggle:this.Ia(a);break;case g.Ke:this.Ca(a);break;case g.list:this.wa(a,b===d||-1===d&&f)}if(b===d)switch(a.type){case g.yc:k=this.Vg,a.orientation===g.vertical?(k<a.y?k=a.y:k>=a.y+a.height&&(k=a.y+a.height-1),a.current[0]=(k-a.y)/(a.height-1)*(a.upper-a.lower)+a.lower):
(k=this.pf,k<a.x?k=a.x:k>=a.x+a.width&&(k=a.x+a.width-1),a.current[0]=(k-a.x)/(a.width-1)*(a.upper-a.lower)+a.lower),a.Nc&&(a.current=a.Nc(a.current,!0,a.caller))}if(f&&!this.ac&&a.Vo)switch(a.type){case g.button:a.Nc&&a.Nc(a.caller);break;case g.toggle:a.current=a.current===a.upper?a.lower:a.upper;a.Nc&&a.Nc(a.current===a.upper,!0,a.caller);break;case g.list:F=a.lower.length,J=a.orientation===g.bd?(this.pf-a.x)/a.width*F|0:(this.Vg-a.y)/a.height*F|0,a.upper===g.kl?a.Nc?a.current=a.Nc(J,!0,a.caller):
a.current=J:(a.current[J]=!a.current[J],a.Nc&&a.Nc(a.current,!0,a.caller))}f&&b===d?(a.Vo=this.ac,a.vv=this.pf,a.wv=this.Vg):(a.Vo=!1,a.vv=-1,a.wv=-1)};b.prototype.gr=function(){var a,f,b=this.context.canvas.width,d=this.context.canvas.height;var e=!1;this.Ji=-1;if(this.l)this.ac?this.gi=-2:(-2===this.gi&&this.Wt&&this.Wt(this.pf,this.Vg,this.ac,this.caller),this.ac||(this.gi=-1));else{var c=this.gi;this.context.textAlign="left";for(f=0;f<this.xb;f+=1){var C=this.td[f];C.l||(C.ty(b,d),(a=C.yA(this.pf,
this.Vg)&&!(C.locked||this.locked))&&!this.ac&&(this.Ji=f),(this.ac&&-1===c&&a||a&&this.yj)&&C.type!==g.label&&(c=f,this.yj&&(C.Vo=f)),f===c&&(C.locked||this.locked)&&(c=-1,a=!1),C.enabled&&this.fa(C,a,f,c))}0<=c&&!this.ac&&(e=!0);this.ac&&-1===c&&(c=-2);-2===c&&this.cr&&!this.locked&&this.cr(this.pf,this.Vg,this.ac,this.caller);this.ac||(c=-1);this.gi=c;this.context.globalAlpha=1}return e};f.prototype.bn=function(a,f,g,b,d,e){this.Kd=a;this.Vc=f;this.Lf=g;this.Sf=d;this.Qg=e;this.Oc&&this.Oc.bn(a,
f,g,b,d,e)};f.prototype.zy=function(){var a=this.Tf.canvas,f=a.offsetParent;this.offsetLeft=a.offsetLeft;for(this.offsetTop=a.offsetTop;f;)this.offsetLeft+=f.offsetLeft,this.offsetTop+=f.offsetTop,f=f.offsetParent;f=a.parentNode;if("fixed"===f.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==f.tagName.toLowerCase();)this.offsetLeft-=f.scrollLeft,this.offsetTop-=
f.scrollTop,f=f.parentNode};f.prototype.My=function(a,f,g){a=new b(a,f,g,this.vd,this.Gk);a.Kd=this.Kd;a.ge=this.ge;a.Vc=this.Vc;a.Mc=this.Mc;a.Lf=this.Lf;a.Kh=this.Kh;a.Yi=this.Yi;a.dk=this.dk;a.Sf=this.Sf;a.Di=this.Di;a.Qg=this.Qg;a.xj=this.xj;a.border=this.border;return a};f.prototype.qz=function(){var a=this.Oc,f=this.vd,b="";var d=1;if(-1!==a.gi||-1===a.gi&&-1===a.Ji)this.f=a.gi;if(-1===a.Ji||-1!==this.f&&this.f===a.Ji){if(-1!==a.Ji){var e=a.td[a.Ji];e.id===this.s&&e.Ai!==this.j&&(this.f=-1)}50>
this.Jg&&(this.Jg+=1)}else if(e=a.td[a.Ji],e.id!==this.s||e.id===this.s&&e.Ai!==this.j?(this.s=e.id,this.j=e.Ai,50>this.Jg&&(this.Jg+=1)):0<=this.Jg&&--this.Jg,a=-1!==this.j?e.I[this.j]:e.I,""!==a&&-1===this.Jg){this.f=-1;var c=e.x;var C=e.y;var l=e.width;var m=e.height;-1!==e.Ai&&(e.orientation===g.bd?(c+=l/e.lower.length*e.Ai,l/=e.lower.length):(C+=m/e.lower.length*e.Ai,m/=e.lower.length));f.font="18px Arial";var r=f.measureText(a).width;var E=Math.round(c+l/2);C=Math.round(C+m/2);E-=r/2;5>E?E=
5:E+r+4>f.canvas.width&&(E=f.canvas.width-r-4-1);m>l?(-1!==this.V&&l<this.V&&(l=this.V),E>f.canvas.width/2?E=c-r-l/2:E=c+e.width+l/2):(-1!==this.fa&&m<this.fa&&(m=this.fa),C>f.canvas.height/2?C-=m:C+=m);if(r>f.canvas.width){b=(r>>1)+22;b>f.canvas.width&&(b=f.canvas.width);for(r=1;f.measureText(a.substr(0,r)).width<b;)r+=1;for(d=r-1;d>r-5;)b=a[d]," "===b||","===b||"/"===b?(r=d+2,d=r-5):--d;b=a.substr(r-1);a=a.substr(0,r-1);r=f.measureText(a).width;d=f.measureText(b).width;d>r&&(r=d);d=2}f.globalAlpha=
this.Mc;f.fillStyle=this.Vc;f.fillRect((E-4|0)-.5,(C-9-4|0)-.5,r+2+8,18*d+8);f.globalAlpha=this.xj;f.strokeStyle=this.Qg;f.strokeRect((E-4|0)-.5,(C-9-4|0)-.5,r+2+8,18*d+8);f.globalAlpha=this.Mc;f.strokeStyle=this.Vc;f.beginPath();f.moveTo((E-4|0)+.5,(C-9-4|0)+.5+18*d+8);f.lineTo((E-4|0)+.5+r+2+8,(C-9-4|0)+.5+18*d+8);f.lineTo((E-4|0)+.5+r+2+8,(C-9-4|0)+.5);f.stroke();f.globalAlpha=1;f.fillStyle=this.Vc;f.fillText(a,E+2,C+2);""!==b&&f.fillText(b,E+2,C+18+2);f.fillStyle=this.Kd;f.fillText(a,E,C);""!==
b&&f.fillText(b,E,C+18)}};f.prototype.Sa=function(a){var f,g=a.vd,k=g.canvas.width-86,b=90;a.ya&&(b=0);a.zn=!1;a.Jt=!0;a.um&&(a.Oc=a.um,a.um=null,g.font=a.Gk,a.Oc.Md(),a.Oc.Qn&&a.Oc.Qn(a.Oc.caller));var d=performance.now();a.Er&&(a.Wo=d-1E3/60);a.Bl||a.notification.Ij()||a.kj||a.mC!==a.Jg&&-1!==a.Jg?(a.$m(a),a.kj&&--a.kj,a.Er=!1):a.Er=!0;var e=d-a.Wo;a.Wo=d;a.Oc.Nc&&a.Oc.Nc(e,a.Oc.caller);d=performance.now()-d;var l=performance.now();a.gr();a.yj=!1;a.qz();a.notification.update();l=performance.now()-
l;a.Qr[a.sn]=l;for(f=l=0;f<a.Wj;f+=1)l+=a.Qr[f];l/=a.Wj;a.Sr[a.sn]=d;for(f=d=0;f<a.Wj;f+=1)d+=a.Sr[f];d/=a.Wj;a.Pr[a.sn]=e;for(f=e=0;f<a.Wj;f+=1)e+=a.Pr[f];e/=a.Wj;a.sn=(a.sn+1)%a.Wj;e=1E3/e;if(a.aj){g.font="12px Arial";g.globalAlpha=.7;g.fillStyle="black";a.$i?g.fillRect(k,b,88,83):g.fillRect(k,b,88,20);f=(d+l)/16.6666;1<f&&(f=1);g.fillStyle=.5>f?"rgb("+(510*f|0)+",255,0)":"rgb(255,"+(255*(1-2*(f-.5))|0)+",0)";g.fillRect(k,b,88*f|0,20);l=l.toFixed(1);d=d.toFixed(1);4>e.toFixed(1).length?e=e.toFixed(1):
e|=0;g.globalAlpha=1;g.fillStyle="black";var m=e+"fps";var r=g.measureText(m).width;g.fillText(m,k+36-r,b+12);m=(100*f|0)+"%";r=g.measureText(m).width;g.fillText(m,k+84-r,b+12);a.$i&&(g.fillText("menu",k+6,b+28),g.fillText("work",k+6,b+44),g.fillText("update",k+6,b+60),g.fillText("focus",k+6,b+76),m=l+"ms",r=g.measureText(m).width,g.fillText(m,k+84-r,b+28),m=d+"ms",r=g.measureText(m).width,g.fillText(m,k+84-r,b+44),m=a.Bl?"on":"off",r=g.measureText(m).width,g.fillText(m,k+84-r,b+60),m=a.hasFocus?
"on":"off",r=g.measureText(m).width,g.fillText(m,k+84-r,b+76));g.fillStyle="white";m=e+"fps";r=g.measureText(m).width;g.fillText(m,k+34-r,b+10);m=(100*f|0)+"%";r=g.measureText(m).width;g.fillText(m,k+82-r,b+10);a.$i&&(g.fillText("menu",k+4,b+26),g.fillText("work",k+4,b+42),g.fillText("update",k+4,b+58),g.fillText("focus",k+4,b+74),m=l+"ms",r=g.measureText(m).width,g.fillText(m,k+82-r,b+26),m=d+"ms",r=g.measureText(m).width,g.fillText(m,k+82-r,b+42),m=a.Bl?"on":"off",r=g.measureText(m).width,g.fillText(m,
k+82-r,b+58),m=a.hasFocus?"on":"off",r=g.measureText(m).width,g.fillText(m,k+82-r,b+74));g.globalAlpha=1}a.Tf.drawImage(g.canvas,0,0);a.As=!0};f.prototype.Zx=function(a){a.ka=this.ka;this.Oc?this.um=a:(this.um=null,this.Oc=a,this.vd.font=this.Gk,this.Oc.Md(),this.Oc.Qn&&this.Oc.Qn(this.Oc.caller),this.$m(this))};f.prototype.gr=function(){var a;if(this.Oc){var f=this.Oc;this.vd.font=this.Gk;f.pf=this.Qh;f.Vg=this.Rh;f.ac=this.ac;f.yj=this.yj;if(f.gr()||this.hh){for(a=0;a<f.xb;a+=1){var g=f.td[a];f.dx(g)}this.hh=
!1}}};f.prototype.$m=function(a){a.zn||(requestAnimationFrame?requestAnimationFrame(a.vu):setTimeout(a.vu,16),a.zn=!0)};f.prototype.K=function(a,f){var g="";if("touchend"===f.type){g="mouseup";var k=document.createEvent("MouseEvent");k.initMouseEvent(g,!0,!0,window,1,a.qm,a.rm,a.om,a.pm,!1,!1,!1,!1,0,null);f.target.dispatchEvent(k);f.preventDefault()}else{if(1===f.touches.length)switch(f.type){case "touchstart":g="mousedown";break;case "touchmove":g="mousemove"}if(""!==g){var b=f.changedTouches[0];
k=document.createEvent("MouseEvent");k.initMouseEvent(g,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(k);f.preventDefault();a.qm=b.screenX;a.rm=b.screenY;a.om=b.clientX;a.pm=b.clientY}}};f.prototype.ja=function(a,f){a.Yj||(a.rk(a,f),a.ac=!0,a.Jt=!1,f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Ia=function(a,f){a.uv=performance.now();a.Yj||(a.rk(a,f),a.ac=!1,a.Jt||(a.yj=!0),a.hasFocus||(a.Tf.canvas.focus(),a.hasFocus=!0,
a.notification.clear(!0,!1),a.Uu&&a.Uu(a.caller)),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.xu=function(a){a.hasFocus||a.Nq&&""!==a.notification.Yg||(a.Jb?a.Ni||a.notification.T("Copy",3600,!0):a.ya?a.gh?a.notification.T("Launch",3600,!0):a.notification.T("Expand",3600,!0):a.notification.T("Click to control",3600,!0),a.notification.Aq=!0,a.Nq=!0)};f.prototype.wa=function(a,f){a.Yj||(a.xu(a),a.rk(a,f),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Fa=
function(a,f){a.Yj||(a.xu(a),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Ca=function(a,f){var g=performance.now()-a.uv;a.Yj||(1<g&&(a.hasFocus||a.notification.clear(!0,!1),a.Tf.canvas.blur(),a.hasFocus=!1,a.ac=!1,a.Qh=-1,a.Rh=-1,a.Nq=!1,a.zn||(a.$m(a),2>a.kj&&(a.kj=2))),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.rk=function(a,f){if(f.pageX||f.pageY){var g=f.pageX;f=f.pageY}else g=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
f=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.zy();g-=a.offsetLeft;f-=a.offsetTop;a.Qh=g-1|0;a.Rh=f-1|0;a.zn||(a.$m(a),2>a.kj&&(a.kj=2))};f.prototype.ah=function(a){!a&&!this.notification.Ij()||this.Bl||this.$m(this);this.Bl=a};window.IconManager=d;window.Menu=g;window.MenuManager=f})();(function(){function c(a,b,f,g,k,F){this.nl=a;this.ol=b;this.width=f;this.height=g;this.fC=k;this.vz=F}function e(a){var b=a.lastIndexOf(".");-1!==b&&(a=a.substr(0,b));this.name=a;this.gj=this.Og=0;this.jf=this.pd=this.wb=-1;this.Nk=this.cm=0;this.Ro=this.qr=!1;this.Zn=this.ee=this.$="";this.ba=this.R=this.km=this.Db=this.Eb=!1;this.zc=d.pk;this.Te=-1;this.rd=this.Od=!1;this.Lb=-1;this.Oh=1;this.Wf=this.eu=this.fu=this.gu=this.hu=this.$d=this.Kc=this.md=this.Cc=-1;this.pa=!1;this.mc=-1;this.zl=this.xl=
this.xd=this.Wc=null;this.g=this.Fe=-1;this.height=this.width=0;this.le=this.Qc=null;this.xg=this.Ve=this.ub=this.title="";this.Ge=2;this.Hm=0;this.Qj=this.wf=!1;this.Gw=this.Yv="";this.HB=this.Hs=this.Gs=this.Is=-1;this.Hw=this.Iw=null}var d={Sv:"none",Yn:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iv:"0123456789abcdef",Uk:86,Zo:22,$o:6,vm:8,xz:"XRLE",mw:"Pos",Vu:"Gen",m:"",sy:":",tu:"ptkcs",$p:"012345678ceaiknjqrytwz-",Tg:"0123456789",Lt:"0123456789xyz",Kt:"0123",Mt:"0123456789",
pC:8191,oC:1038,qC:7157,lx:"0123456omp-",WC:"0123456",wx:"01234",Dw:["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"],Cw:"omp",CB:[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]],Zp:" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" "),Yp:"  omp omp omp  ".split(" "),kA:[0,2,6,10,13,10,6,2,0],HA:[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,
4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]],DB:[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]],Li:13,maxWidth:16384,maxHeight:16384,nA:256,fk:new Uint32Array(256),Js:new Uint8Array(8192),Fs:new Uint8Array(8192),fl:new Uint8Array(512),Es:new Uint8Array(512),jC:new Uint16Array(512),Aa:!1,Lk:!1,Dr:"history",Wp:"l",Vp:"le",Xp:"lv",zr:"h",Vt:"v",wf:!1,mr:0,ti:!1,xp:0,yp:0,Ag:!1,index:0,Wr:1,Vr:500,wA:0,
oA:255,tA:0,lA:1,Am:0,Ut:1,yu:2,lp:1,fp:500,Pv:0,Jv:255,gp:0,ap:0,nf:0,xf:1,Lq:2,eh:-1,dh:-1,pk:0,rl:1,sl:2,yl:"|",Dh:!1,EB:"@RULE",GB:"@TREE",Is:"num_states",Gs:"num_neighbors",Hs:"num_nodes",FB:"@TABLE",Ew:"@COLORS",Fw:"@ICONS"};e.prototype.f=function(a){this.$=a.$;this.Eb=a.Eb;this.ee=a.ee;this.R=a.R;this.ba=a.ba;this.Og=a.Og;this.gj=a.gj;this.zc=a.zc;this.Te=a.Te;this.Od=a.Od;this.rd=a.rd;this.Lb=a.Lb;this.Wf=a.Wf;this.Oh=a.Oh;this.Cc=a.Cc;this.md=a.md;this.Kc=a.Kc;this.$d=a.$d;this.pa=a.pa;this.mc=
a.mc;this.Fe=a.Fe;this.g=a.g;this.Ge=a.Ge;a.xd&&(this.xd=new Uint8Array(a.xd.length),this.xd.set(a.xd));a.Wc&&(this.Wc=new Uint8Array(a.Wc.length),this.Wc.set(a.Wc))};e.prototype.Cy=function(a,b){a.xd&&(this.zl=b.X(Uint8,a.xd.length,"HROT.altSurvivals"),this.zl.set(a.xd));a.Wc&&(this.xl=b.X(Uint8,a.Wc.length,"HROT.altBirths"),this.xl.set(a.Wc));this.hu=a.Cc;this.gu=a.md;this.fu=a.Kc;this.eu=a.$d};e.prototype.yB=function(){this.ee=this.$="";this.ba=this.R=this.Eb=!1;this.gj=this.Og=0;this.zc=d.pk;
this.Te=-1;this.rd=this.Od=!1;this.Wf=this.Lb=-1;this.pa=!1;this.g=this.Fe=this.mc=-1;this.Ge=2};e.prototype.Yz=function(a){return this.rd!==a.rd||this.pa!==a.pa?"Alternate is different rule family":(-1===this.g?this.Ge:this.g)!==(-1===a.g?a.Ge:a.g)?"Alternate has different number of states":this.R!==a.R||this.ba!==a.ba||this.zc!==a.zc||this.Od!==a.Od||this.Te!==a.Te||this.Wf!==a.Wf||this.Fe!==a.Fe?"Alternate has different neighborhood":this.Lb!==a.Lb||this.mc!==a.mc?"Alternate has different range":
this.Eb||a.Eb?"Alternate can not use none":""};d.Wy=function(a,b,f){var g,k,F=0,d=0,e=0,c=!1;var h=b.length;for(g=k=0;g<h;){var C=b[g];g+=1;switch(k){case 0:switch(C){case "!":k=1;a.ub+="#C ";var l=!0;break;case "O":case "o":case "*":case ".":k=2;d=F=e=0;var m=--g}break;case 1:"\r"!==C&&"\n"!==C&&(" "===C?l||(a.title+=C,a.ub+=C):(l=!1,a.title+=C,a.ub+=C));"\n"===C&&(k=0,a.ub+=C,a.title+=" ");break;case 2:switch(C){case "O":case "o":case "*":case ".":d+=1;break;case "\n":e+=1;d>F&&(F=d);d=0;break;
case " ":case "\t":break;default:g=h,c=!0}}}if(!c){2===k&&"\n"!==C&&(e+=1,d>F&&(F=d));a.height=e;a.width=F;a.xg="Cells";a.Qc=Array.Y(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");g=m;for(k=F=0;g<h;)switch(C=b[g],g+=1,C){case "\n":F+=1;k=0;break;case "O":case "o":case "*":a.Qc[F][k>>4]|=1<<(~k&15);k+=1;break;case ".":k+=1}this.Aa=!0;this.Vl(a,"",f)}};d.Uy=function(a,b,f){var g,k;var F=b.length;var d=[];var e=0;var c=!1;var h=k=0;var C=!1;for(g=10;g<F;){var l=b[g];g+=1;switch(l){case "\n":C&&
(C=!1,2===m&&c&&(h=-h,c=!1),d[e]=[k,h],e+=1);var m=h=k=0;break;case "-":c=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(c&&(k=-k,c=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?k=10*k+parseInt(l,10):(h=10*h+parseInt(l,10),C=!0)}}C&&(2===m&&c&&(h=-h),d[e]=[k,h],e+=1);if(e){F=b=d[0][0];m=l=d[0][1];for(g=1;g<e;g+=1)k=d[g][0],h=d[g][1],k<b&&(b=k),k>F&&(F=k),h<l&&(l=h),h>m&&(m=h);a.height=m-l+1;a.width=F-b+1;a.Qc=Array.Y(Uint16,
a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.xg="Life 1.06";this.Vl(a,"",f);for(g=0;g<e;g+=1)k=d[g][0]-b,h=d[g][1]-l,a.Qc[h][k>>4]|=1<<(~k&15)}};d.Ju=function(a,b,f,g){var k,F,d=[],e=0,u=b.length;var h="";var C=!1;var l=0,m=0,r=!1,E=!1,z=0,x=0;f=f?10:0;for(this.Aa=!0;f<u&&!E;){var t=b[f];f+=1;switch(l){case 0:switch(t){case "#":l=2;break;case "*":case ".":l=3;var H=F=k=0;var n=--f}break;case 2:switch(t){case "C":case "D":l=1;a.ub+="#C ";var v=!0;break;case "N":l=0;break;case "R":l=4;break;case "P":l=
5;m=0;r=!1;x=z=0;break;case "\n":l=0;break;default:l=1,v=!0}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?v||(a.title+=t,a.ub+=t):(v=!1,a.title+=t,a.ub+=t));"\n"===t&&(l=0,a.title+=" ",a.ub+=t);break;case 4:"\n"===t?l=0:(h+=t,C=!0);break;case 5:switch(t){case "\n":l=0;2===m&&r&&(x=-x,r=!1);break;case "-":r=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(r&&(z=-z,r=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?z=10*z+parseInt(t,
10):x=10*x+parseInt(t,10)}break;case 3:switch(t){case "\n":k>F&&(F=k);k=0;H+=1;break;case "#":d[e]=new c(z,x,F,H,n,f-1);e+=1;l=2;break;case "*":case ".":k+=1;break;case " ":case "\t":break;default:E=!0}}}"\n"!==t&&(H+=1);3===l&&(d[e]=new c(z,x,F,H,n,f-1),e+=1);if(e&&!E){z=d[0].nl;x=d[0].ol;t=z+d[0].width-1;k=x+d[0].height-1;for(f=1;f<e;f+=1)d[f].nl<z&&(z=d[f].nl),d[f].ol<x&&(x=d[f].ol),d[f].nl+d[f].width-1>t&&(t=d[f].nl+d[f].width-1),d[f].ol+d[f].height-1>k&&(k=d[f].ol+d[f].height-1);a.height=k-x+
1;a.width=t-z+1;a.Qc=Array.Y(Uint16,a.height,(a.width-1>>4)+1,0,g,"Pattern.lifeMap");a.xg="Life 1.05";a.le=Array.Y(Uint8,a.height,a.width,0,g,"Pattern.multiStateMap");C?(this.Mu(a,h,!1,g),this.Aa?0<=a.g||a.Db||(a.le=null):(a.g=-1,a.Db=!1)):this.Vl(a,"",g);for(f=0;f<e;f+=1)for(g=d[f].fC,h=d[f].vz,k=d[f].nl-z,t=d[f].ol-x,C=k,F=t;g<=h;)switch(t=b[g],g+=1,t){case "\n":F+=1;C=k;break;case "*":a.Qc[F][C>>4]|=1<<(~C&15);a.le&&(a.le[F][C]=1);C+=1;break;default:C+=1}}};d.Zi=function(a,b,f,g){var k=0,d,e,c;
f&&(k=4);for(e=0;8192>e;e+=8)for(c=0;4>c;c+=1){f=0;for(d=e+c&g;0<d;)f+=d&1,d>>=1;b===f&&(a[e+c+k]=1)}};d.dn=function(a,b,f,g){var k=0,d,e,c;f&&(k=16);for(e=0;512>e;e+=32)for(c=0;16>c;c+=1){f=0;for(d=e+c&g;0<d;)f+=d&1,d>>=1;b===f&&(a[e+c+k]=1)}};d.Bz=function(a){return(a&7)<<6|(a&448)>>6|a&56};d.Bw=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};d.YB=function(a,b,f){var g;for(g=0;4>g;g+=1)a[b]=f,b=this.Bw(b);b=this.Bz(b);for(g=0;4>g;g+=1)a[b]=f,
b=this.Bw(b)};d.RB=function(a,b,f,g,k){var d=f?16:0;if(2>b||4<b)this.dn(a,b,f,254);else if(f=this.Cw.indexOf(g),-1!==f)for(b=this.CB[b-2][f],f=0;f<b.length;f+=1)g=b[f]+d,a[g]=k,a[g+256]=k,a[g+1]=k,a[g+257]=k};d.XB=function(a,b,f,g,k){var d=0,e=b-1;0===b||8===b?this.dn(a,b,f,511):(3<e&&(e=6-e,d=495),b=this.Dw[e].indexOf(g),-1!==b&&(d^=this.DB[e][b],f&&(d|=16),this.YB(a,d,k)))};d.Ow=function(a,b,f,g){var k=b.length,d=0,e="",c;for(c=0;c<k;c+=1){var u=b.charCodeAt(c)-48;d|=1<<u;this.dn(a,u,f,g)}for(c=
0;9>c;c+=1)0!==(d&1<<c)&&(e+=String(c));return e};d.ou=function(a){for(var b=0;a;)b+=1,a&=a-1;return b};d.ay=function(a,b){var f="",g=0;if(b[a]){b=b[a];0!==(b&1<<this.Li)&&(g=1,b&=~(1<<this.Li));var k=this.ou(b);var d=2>a||4<a?0:3;k+g>d>>1&&(b=~b&(1<<d)-1)&&(g=1-g);if(!g||b)for(f+=String(a),g&&(f+="-"),a=0;a<d;a+=1)0!==(b&1<<a)&&(f+=this.Cw[a])}else f+=String(a);return f};d.by=function(a,b){var f="",g=0;if(b[a]){b=b[a];0!==(b&1<<this.Li)&&(g=1,b&=~(1<<this.Li));var k=this.ou(b);var d=this.kA[a];(g||
7!==k||13!==d)&&k+g>d>>1&&(b=~b&(1<<d)-1)&&(g=1-g);if(!g||b)for(f+=String(a),g&&(f+="-"),k=0;k<d;k+=1)g=this.HA[a][k],0!==(b&1<<g)&&(f+=this.Dw[3][g])}else f+=String(a);return f};d.Kw=function(a,b,f){var g=b.length,k=0,d=[],e="",c;b+=" ";for(c=0;7>c;c+=1)d[c]=0;for(c=0;c<g;c+=1){var u=b.charCodeAt(c)-48;if(0<=u&&8>=u){var h=0!==(k&1<<u);k|=1<<u;var C=b[c+1];var l=this.Yp[u].indexOf(C);-1!==l||h||this.dn(a,u,f,254);var m=1;"-"===C&&(m=0,c+=1,C=b[c+1],l=this.Yp[u].indexOf(C));-1!==l||"0"<=C&&"9">=C||
" "===C||(this.m=(f?"S":"B")+u+C+" not valid",c=g);h&&(h=0,0===(d[u]&1<<this.Li)&&(h=1),h!==m&&(this.m=(f?"S":"B")+u+" can not have minus and non-minus",l=-1,c=g));for(;-1!==l;)0!==(d[u]&1<<l)?(this.m="duplicate "+u+this.Yp[u][l],l=-1,c=g):(this.RB(a,u,f,C,m),d[u]|=1<<l,m||(d[u]|=1<<this.Li),c+=1,C=b[c+1],l=this.Yp[u].indexOf(C))}else this.m="missing digit prefix"}for(c=0;7>c;c+=1)0!==(k&1<<c)&&(e+=this.ay(c,d));return e};d.Mw=function(a,b,f){var g=b.length,k=0,d=[],e="",c;b+=" ";for(c=0;9>c;c+=1)d[c]=
0;for(c=0;c<g;c+=1){var u=b.charCodeAt(c)-48;if(0<=u&&8>=u){var h=0!==(k&1<<u);k|=1<<u;var C=b[c+1];var l=this.Zp[u].indexOf(C);-1!==l||h||this.dn(a,u,f,511);var m=1;"-"===C&&(m=0,c+=1,C=b[c+1],l=this.Zp[u].indexOf(C));-1!==l||"0"<=C&&"9">=C||" "===C||(this.m=(f?"S":"B")+u+C+" not valid",c=g);h&&(h=0,0===(d[u]&1<<this.Li)&&(h=1),h!==m&&(this.m=(f?"S":"B")+u+" can not have minus and non-minus",l=-1,c=g));for(;-1!==l;)0!==(d[u]&1<<l)?(this.m="duplicate "+u+this.Zp[u][l],l=-1,c=g):(this.XB(a,u,f,C,m),
d[u]|=1<<l,m||(d[u]|=1<<this.Li),c+=1,C=b[c+1],l=this.Zp[u].indexOf(C))}else this.m="missing digit prefix"}for(c=0;9>c;c+=1)0!==(k&1<<c)&&(e+=this.by(c,d));return e};d.Sy=function(a,b){var f;for(f=0;512>f;f+=1)a[f]=0!==(b&1<<(f&7))?1:0!==(f&16)?1:0};d.Wq=function(a,b,f){var g=12,k=d.pC,F=a.Og,e=a.gj;a.zc===d.rl?(g=3,k=d.oC):a.zc===d.sl&&(g=9,k=d.qC);for(a=0;8192>a;a+=1)b[a]=0;if(f)for(a=0;8192>a;a+=1)f[a]=0;if(0!==(F&1))if(0!==(e&1<<g)){F=~F;e=~e;for(a=0;a<=g;a+=1)e&1<<g-a&&this.Zi(b,a,!1,k);for(a=
0;a<=g;a+=1)F&1<<g-a&&this.Zi(b,a,!0,k);f.set(b)}else{for(a=0;a<=g;a+=1)~F&1<<a&&this.Zi(f,a,!1,k);for(a=0;a<=g;a+=1)~e&1<<a&&this.Zi(f,a,!0,k);for(a=0;a<=g;a+=1)e&1<<g-a&&this.Zi(b,a,!1,k);for(a=0;a<=g;a+=1)F&1<<g-a&&this.Zi(b,a,!0,k)}else{for(a=0;a<=g;a+=1)0!==(F&1<<a)&&this.Zi(b,a,!1,k);for(a=0;a<=g;a+=1)0!==(e&1<<a)&&this.Zi(b,a,!0,k);f&&f.set(b)}};d.Ry=function(a,b,f,g,k){var F=this.Lt,e="",c="";k===d.rl?F=this.Kt:k===d.sl&&(F=this.Mt);for(k=a.Og=0;k<b.length;k+=1){var u=F.indexOf(b[k]);a.Og|=
1<<u}for(k=a.gj=0;k<f.length;k+=1)u=F.indexOf(f[k]),a.gj|=1<<u;for(k=0;k<F.length;k+=1)0!==(a.Og&1<<k)&&(e+=F[k]);for(k=0;k<F.length;k+=1)0!==(a.gj&1<<k)&&(c+=F[k]);return-1!==g?c+"/"+e+"/"+g:"B"+e+"/S"+c};d.Py=function(a,b,f,g,k,F,e,c,u,h){var J=0,l=this.jC;var m=(1<<this.vm+1)/6|0;var r=new Uint8Array(512);if(a.Eb)f=d.Sv;else if(F)f=this.Ry(a,b,f,u,e);else{a=511;k?a=254:c&&(a=186);for(F=0;512>F;F+=1)r[F]=0,h[F]=0,l[F]=k?F:(F&448)>>6|F&56|(F&7)<<6;if(""!==g){f="MAP";for(F=0;F<m;F+=1)f+=g[F],b=d.Yn.indexOf(g[F]),
r[J]=b>>5,J+=1,r[J]=b>>4&1,J+=1,r[J]=b>>3&1,J+=1,r[J]=b>>2&1,J+=1,r[J]=b>>1&1,J+=1,r[J]=b&1,J+=1;b=d.Yn.indexOf(g[F]);r[J]=b>>5;r[J+1]=b>>4&1;f+=d.Yn[b&48];for(F=0;512>F;F+=1){g=0;m=d.vm;for(J=8;0<=J;--J)0!==(a&1<<J)&&(0!==(F&1<<J)&&(g|=1<<m),--m);h[l[F]]=r[g]}-1!==u&&(f+="/"+u)}else c?(J=this.Ow(h,b,!1,a),h=this.Ow(h,f,!0,a)):k?(J=this.Kw(h,b,!1),h=this.Kw(h,f,!0)):(J=this.Mw(h,b,!1),h=this.Mw(h,f,!0)),f=-1!==u?h+"/"+J+"/"+u:"B"+J+"/S"+h}return f};d.ZC=function(a,b){var f,g="";for(f=0;f<=b;f+=1){var k=
this.$p[f];-1!==a.indexOf(k)&&(g+=this.$p[b-f])}return g};d.YC=function(a){var b,f="";for(b=0;9>b;b+=1){var g=this.$p[b];-1===a.indexOf(g)&&(f+=g)}return f};d.rw=function(a){var b=a,f=0;if(-1!==a.indexOf(" "))for(b="";f<a.length;)" "!==a[f]&&(b+=a[f]),f+=1;return b};d.jz=function(a,b){for(var f=!0,g=0,k,d=1;d<b.length&&f;)k=this.Tg.indexOf(b[d]),-1!==k?g=10*g+k:(this.m="Illegal character in Wolfram rule",f=!1),d+=1;f&&(0>g||254<g?(this.m="Wolfram rule number must be 0-254",f=!1):0!==(g&1)?(this.m=
"Wolfram rule number must be even",f=!1):(this.Sy(this.fl,g),a.Te=g,a.$="W"+g));return f};d.cy=function(a,b){var f=null;if(""===b){if(a.R)a.$+="H";else if(a.Od)a.$+="V";else if(a.ba)switch(a.zc){case d.pk:a.$+=d.Wp.toUpperCase();break;case d.rl:a.$+=d.Vp.toUpperCase();break;case d.sl:a.$+=d.Xp.toUpperCase()}f=AliasManager.Xu(a.$);a.Db&&(a.$+="History")}-1!==a.wb&&(a.$+=":"+d.tu[a.wb].toUpperCase(),a.$+=a.pd,a.cm&&(a.$+="+"+a.cm),a.qr&&(a.$+="*"),a.jf!==a.pd||a.Nk||a.Ro)&&(a.$+=","+a.jf,a.Nk&&(a.$+=
"+"+a.Nk),a.Ro&&(a.$+="*"));null!==f&&(""===f&&(f=a.Db?"Life":"Conway's Life"),a.Db&&(f+="History"),a.ee=f)};d.FC=function(a,b){var f=d.Uk,g=a.length;g>=f?this.vm=8:(f=d.Zo,g>=f?(this.vm=6,b.R=!0):(f=d.$o,g>=f?(this.vm=4,b.Od=!0):f=-1));if(0<=f)for(b=0;b<f;b+=1)-1===d.Yn.indexOf(a[b])&&(f=-1);return f};d.$c=function(a,b,f,g,k){var d=0,e=b.length,c=a.substr(this.index,e),u;if(c!==b)","===b[0]&&(","===c[0]&&(c=c.substr(1)),b=b.substr(1)),this.m="LtL expected '"+b.toUpperCase()+"' got '"+c.toUpperCase()+
"'",this.index=-1;else if(","===b[0]&&(b=b.substr(1)),this.index+=e,e=a[this.index],this.index<a.length?u=e.charCodeAt(0):u=-1,"n"===b)"m"===e||"n"===e||"c"===e?(this.index+=1,d=this.Am,"n"===e?d=this.Ut:"c"===e&&(d=this.yu)):(this.m="LtL expected 'NM', 'NN' or 'NC' got 'N"+e.toUpperCase()+"'",this.index=-1);else if(48>u||57<u)this.m="LtL '"+k+b.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=u&&57>=u;)d=10*d+(u-48),this.index+=1,this.index<a.length?u=a[this.index].charCodeAt(0):u=-1;
-1!==f&&d<f&&(this.m="LtL '"+k+b.toUpperCase()+d+"' < "+f,this.index=-1);-1!==g&&d>g&&(this.m="LtL '"+k+b.toUpperCase()+d+"' > "+g,this.index=-1)}return d};d.az=function(a,b){var f=!1,g=0;this.index=0;var k=this.$c(b,"r",this.Wr,this.Vr,"");-1!==this.index&&(a.Lb=k,k=this.$c(b,",c",this.wA,this.oA,""),-1!==this.index&&(2>k&&(k=2),a.g=k,k=this.$c(b,",m",this.tA,this.lA,""),-1!==this.index&&(a.Oh=k,k=this.$c(b,",s",0,-1,""),-1!==this.index&&(a.Cc=k,k=this.$c(b,"..",a.Cc,-1,"S"),-1!==this.index&&(a.md=
k,k=this.$c(b,",b",0,-1,""),-1!==this.index&&(a.Kc=k,k=this.$c(b,"..",a.Kc,-1,"B"),-1!==this.index&&(a.$d=k,k=this.$c(b,",n",-1,-1,""),-1!==this.index&&(a.Wf=k,f=!0))))))));if(f)if(this.index!==b.length)f=!1,this.m="LtL invalid characters after rule";else{switch(a.Wf){case d.Am:g=(2*a.Lb+1)*(2*a.Lb+1);break;case d.Ut:g=2*a.Lb*(a.Lb+1)+1;break;case d.yu:k=0;var F=a.Lb*a.Lb+a.Lb;for(b=-a.Lb;b<=a.Lb;b+=1){for(g=0;(g+1)*(g+1)+b*b<=F;)g+=1;k+=2*g+1}g=k}g-=1-a.Oh;a.Kc>g&&(f=!1,this.m="LtL 'B"+a.Kc+"..' > "+
g);a.$d>g&&(f=!1,this.m="LtL 'B.."+a.$d+"' > "+g);a.Cc>g&&(f=!1,this.m="LtL 'S"+a.Cc+"..' > "+g);a.md>g&&(f=!1,this.m="LtL 'S.."+a.md+"' > "+g)}return f};d.cz=function(a,b){var f=!1;this.index=0;a.g=2;a.Oh=1;a.Wf=d.Am;var g=this.$c(b,"",this.Wr,this.Vr,"");-1!==this.index&&(a.Lb=g,g=this.$c(b,",",0,-1,""),-1!==this.index&&(a.Kc=g,g=this.$c(b,",",a.Kc,-1,"B"),-1!==this.index&&(a.$d=g,g=this.$c(b,",",0,-1,""),-1!==this.index&&(a.Cc=g,g=this.$c(b,",",a.Cc,-1,"S"),-1!==this.index&&(a.md=g,f=!0)))));f&&
(this.index!==b.length?(f=!1,this.m="LtL invalid characters after rule"):(b=(2*a.Lb+1)*(2*a.Lb+1),a.Kc>b&&(f=!1,this.m="LtL 'B"+a.Kc+"..' > "+b),a.$d>b&&(f=!1,this.m="LtL 'B.."+a.$d+"' > "+b),a.Cc>b&&(f=!1,this.m="LtL 'S"+a.Cc+"..' > "+b),a.md>b&&(f=!1,this.m="LtL 'S.."+a.md+"' > "+b)));return f};d.bz=function(a,b){var f=!1;this.index=0;-1===a.g&&(a.g=2);a.Oh=1;a.Wf=d.Am;var g=this.$c(b,"r",this.Wr,this.Vr,"");-1!==this.index&&(a.Lb=g,g=this.$c(b,"b",0,-1,""),-1!==this.index&&(a.Kc=g,g=this.$c(b,
"t",a.Kc,-1,"B"),-1!==this.index&&(a.$d=g,g=this.$c(b,"s",0,-1,""),-1!==this.index&&(a.Cc=g,g=this.$c(b,"t",a.Cc,-1,"S"),-1!==this.index&&(a.md=g,f=!0)))));f&&(this.index!==b.length?(f=!1,this.m="LtL invalid characters after rule"):(b=(2*a.Lb+1)*(2*a.Lb+1),a.Kc>b&&(f=!1,this.m="LtL 'B"+a.Kc+"' > "+b),a.$d>b&&(f=!1,this.m="LtL 'B..T"+a.$d+"' > "+b),a.Cc>b&&(f=!1,this.m="LtL 'S"+a.Cc+"..' > "+b),a.md>b&&(f=!1,this.m="LtL 'S..T"+a.md+"' > "+b)));return f};d.pw=function(a,b,f,g,k){var d=!1,e,c="HROT.",
u,h=0;if(this.index+f>a.length)this.m="HROT '"+b+"' needs "+f+" hex digits";else{for(e=u=0;u<f&&-1!==e;)e=this.iv.indexOf(a[this.index]),-1!==e&&(this.index+=1,u+=1);if(-1===e)this.m="HROT '"+b+"' expected hex got '"+a[this.index]+"'";else{"B"===b?c+="births":(c+="survivals",h=1);k=k.X(Uint8,(f<<2)+1+h,c);d=0;k[d]=0;d+=1;--u;"S"===b&&(k[d]=0,d+=1);for(;0<=u;)e=this.iv.indexOf(a[this.index-f+u]),--u,k[d]=e&1,d+=1,k[d]=e>>1&1,d+=1,k[d]=e>>2&1,d+=1,k[d]=e>>3&1,d+=1;"B"===b?g.Wc=k:g.xd=k;d=!0}}return d};
d.Ul=function(a,b){var f=-1;this.index+=1;if(this.index<a.length){var g=a[this.index].charCodeAt(0);if(48>g||57<g)this.m="HROT '"+b+"' needs a number";else for(f=g-48,this.index+=1,g=-1,this.index<a.length&&(g=a[this.index].charCodeAt(0));48<=g&&57>=g;)f=10*f+(g-48),this.index+=1,this.index<a.length?g=a[this.index].charCodeAt(0):g=-1}else this.m="HROT '"+b+"' needs a number";return f};d.Ku=function(a,b,f,g){var d=!0,F;for(F=this.Ul(a,f);d&&-1!==F;){var e=-1;this.index<a.length&&"-"===a[this.index]&&
(e=this.Ul(a,f),-1===e&&(this.m="HROT '"+f+F+"-' needs a number",d=!1));if(d&&(-1===e&&(e=F),F>e&&(this.m="HROT '"+f+F+"-"+e+"' wrong order",d=!1),d)){"S"===f?(this.gp=e,F+=1,e+=1):this.ap=e;F>g&&(F=g);for(e>g&&(e=g);F<=e;F+=1)b[F]=1;F=-1;this.index<a.length&&","===a[this.index]&&(F=this.Ul(a,f),-1===F&&(--this.index,this.m=""))}}return d};d.bC=function(a,b){var f=a.Lb,g=(2*f+1)*(2*f+1);a.mc=f;a.Fe=a.Wf;a.xd=b.X(Uint8,g+1,"HROT.survivals");a.Wc=b.X(Uint8,g,"HROT.births");for(f=a.Cc;f<=a.md;f+=1)a.xd[f]=
1;for(f=a.Kc;f<=a.$d;f+=1)a.Wc[f]=1;if(this.Dh){a.zl=b.X(Uint8,g+1,"HROT.altSurvivals");a.xl=b.X(Uint8,g,"HROT.altBirths");for(f=a.hu;f<=a.gu;f+=1)a.zl[f]=1;for(f=a.fu;f<=a.eu;f+=1)a.xl[f]=1}a.pa=!0};d.Zy=function(a,b,f){var g=!1,k,F;this.gp=this.ap=this.index=k=0;if("r"!==b[this.index])this.m="HROT expected 'R' got '"+b[this.index].nC()+"'";else{var e=this.Ul(b,"R");-1!==e&&(e<this.lp?this.m="HROT 'R' < "+this.lp:e>this.fp?this.m="HROT 'R' > "+this.fp:(a.mc=e,g=!0,k=(2*e+1)*(2*e+1)))}g&&(g=!1,this.index<
b.length?","!==b[this.index]?this.m="HROT expected ',' got "+b[this.index].toUpperCase():(this.index+=1,this.index<b.length?"c"!==b[this.index]?this.m="HROT expected 'C' got "+b[this.index].toUpperCase():(e=this.Ul(b,"C"),-1!==e&&(e<this.Pv?this.m="HROT 'C"+e+"' < "+this.Pv:e>this.Jv?this.m="HROT 'C"+e+"' > "+this.Jv:(2>e&&(e=2),a.g=e,g=!0))):this.m="HROT expected 'C'"):this.m="HROT expected ','");g&&(g=!1,this.index<b.length?","!==b[this.index]?this.m="HROT expected ',' got "+b[this.index].toUpperCase():
(this.index+=1,this.index<b.length?"s"!==b[this.index]?this.m="HROT expected 'S' got "+b[this.index].toUpperCase():(a.xd=f.X(Uint8,k+2,"HROT.survivals"),g=this.Ku(b,a.xd,"S",k)):this.m="HROT expected 'S'"):this.m="HROT expected ','");g&&(g=!1,this.index<b.length?","!==b[this.index]?this.m="HROT expected ',' got "+b[this.index].toUpperCase():(this.index+=1,this.index<b.length?"b"!==b[this.index]?this.m="HROT expected 'B' got "+b[this.index].toUpperCase():(a.Wc=f.X(Uint8,k+1,"HROT.births"),g=this.Ku(b,
a.Wc,"B",k)):this.m="HROT expected 'B'"):this.m="HROT expected ','");a.Fe=this.nf;g&&this.index<b.length&&","===b[this.index]&&(g=!1,this.index+=1,this.index<b.length?"n"===b[this.index]?(this.index+=1,this.index<b.length?"m"===b[this.index]||"n"===b[this.index]||"c"===b[this.index]?("n"===b[this.index]?a.Fe=this.xf:"c"===b[this.index]&&(a.Fe=this.Lq),this.index+=1,g=!0):this.m="HROT expected 'NM', 'NN' or 'NC' got 'N"+b[this.index].toUpperCase()+"'":this.m="HROT 'N' needs a neighborhood"):this.m=
"HROT expected 'N' got '"+b[this.index].toUpperCase()+"'":this.m="HROT expected 'N'");if(g){switch(a.Fe){case d.nf:k=(2*a.mc+1)*(2*a.mc+1);break;case d.xf:k=2*a.mc*(a.mc+1)+1;break;case d.Lq:f=0;k=a.mc*a.mc+a.mc;for(F=-a.mc;F<=a.mc;F+=1){for(e=0;(e+1)*(e+1)+F*F<=k;)e+=1;f+=2*e+1}k=f}--k;this.gp>k&&(g=!1,this.m="HROT 'S"+this.gp+"' > "+k);g&&this.ap>k&&(g=!1,this.m="HROT 'B"+this.ap+"' > "+k);g&&(this.index!==b.length?(g=!1,this.m="HROT invalid characters after rule"):a.pa=!0)}return g};d.Yy=function(a,
b,f){var g=!1,k=0;this.index=0;-1===a.g&&(a.g=2);if("r"!==b[this.index])this.m="HROT expected 'R' got '"+b[this.index].nC()+"'";else{var e=-1;this.index+=1;this.index<b.length&&(e=b[this.index].charCodeAt(0));if(48>e||57<e)this.m="HROT 'R' needs a number";else{var c=e-48;this.index+=1;e=-1;for(this.index<b.length&&(e=b[this.index].charCodeAt(0));48<=e&&57>=e;)c=10*c+(e-48),this.index+=1,this.index<b.length?e=b[this.index].charCodeAt(0):e=-1;c<this.lp?this.m="HROT 'R' < "+this.lp:c>this.fp?this.m=
"HROT 'R' > "+this.fp:(a.mc=c,g=!0,k=c*(c+1))}}g&&(g=!1,this.index<b.length?"b"!==b[this.index]?this.m="HROT expected 'B' got "+b[this.index].toUpperCase()+"'":(this.index+=1,g=this.pw(b,"B",k,a,f)):this.m="HROT expected 'B'");g&&(g=!1,this.index<b.length?"s"!==b[this.index]?this.m="HROT expected 'S' got "+b[this.index].toUpperCase()+"'":(this.index+=1,g=this.pw(b,"S",k,a,f)):this.m="HROT expected 'S'");g&&this.index<b.length&&"z"===b[this.index]&&(a.xd[1]=1,this.index+=1);g&&(this.index!==b.length?
(g=!1,this.m="HROT invalid characters after rule"):(a.Fe=d.nf,a.pa=!0));return g};d.ku=function(a,b){for(var f=a.length,g=-1,d="",e=0;e<f;)1===a[e]?-1===g&&(g=e):-1!==g&&(""!==d&&(d+=","),d+=g+b,e-1!==g&&(d+="-"+(e-1+b)),g=-1),e+=1;-1!==g&&(""!==d&&(d+=","),d+=g+b,e-1!==g&&(d+="-"+(e-1+b)));return d};d.Vl=function(a,b,f){var g="",k=!1;var F=AliasManager.Yu(b);null!==F&&(g=AliasManager.Xu(F),b=F);F=b.indexOf(d.yl);if(-1===F)(k=this.Yq(a,b,f,this.fl))&&a.ba&&this.Wq(a,this.Js,this.Fs);else if(-1===
b.substr(F+1).indexOf(d.yl)){if(k=this.Yq(a,b.substr(0,F),f,this.Es)){var c=new e(a.name);c.f(a);a.yB();if(k=this.Yq(a,b.substr(F+1),f,this.fl))if(this.m=a.Yz(c),""===this.m)if(!a.ba&&(this.fl[0]||this.Es[0])||a.ba&&0!==(a.Og&1)||0!==(c.Og&1))this.m="Alternate not supported with B0",k=!1;else{a.ba&&(this.Wq(c,this.Fs,null),this.Wq(a,this.Js,null));if(""!==g)a.ee=g;else if(""!==a.ee||""!==c.ee)""===a.ee&&(a.ee=a.$),""===c.ee&&(c.ee=c.$),a.ee=c.ee+d.yl+a.ee;a.$=c.$+d.yl+a.$;(a.pa||a.rd)&&a.Cy(c,f);
this.Dh=!0}else k=!1}}else this.m="Only one alternate allowed";return k};d.Yq=function(a,b,f,g){var k=!1,e=null,c=null,I=null,u=this.$p;var h=d.zr.length;var C=d.Wp.length;var l=d.Vp.length,m=d.Xp.length,r=d.Vt.length,E="";g[0]=0;var z=AliasManager.Yu(b);null!==z&&(""===b&&(a.$="Conway's Life"),b=z);if("map"===b.substr(0,3).toLowerCase()){E=b.substr(3);var x=E.indexOf("/");-1===x?"=="===E.substr(-2)&&(E=E.substr(0,E.length-2)):"=="===E.substr(x-2,2)&&(E=E.substr(0,x-2)+E.substr(x));b=this.FC(E,a);
if(0<=b)if(k=!0,I=E.substr(b),E=E.substr(0,b),"/"===I[0]){z=1;a.g=0;z<I.length&&("g"===I[z].toLowerCase()||"c"===I[z].toLowerCase())&&(z+=1);for(x=0;z<I.length&&-1!==x;)x=this.Tg.indexOf(I[z]),-1!==x?a.g=10*a.g+x:(this.m="Illegal character in generations number",a.g=-1,k=!1),z+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.m="Generations number must be 2-256",a.g=-1,k=!1)}else""!==I&&(z=I.length,this.m="MAP length must be "+d.$o+", "+d.Zo+" or "+d.Uk+" not "+(z+b),k=!1);else this.m=E.length===d.Uk||E.length===
d.Zo||E.length===d.$o?"MAP contains illegal base64 character":"MAP length must be "+d.$o+", "+d.Zo+" or "+d.Uk+" not "+E.length}else{b=b.toLowerCase();b=this.rw(b);k=!0;if("g"===b[0]){z=1;for(x=a.g=0;z<b.length&&-1!==x;)x=this.Tg.indexOf(b[z]),-1!==x&&(a.g=10*a.g+x,z+=1);1<z&&(2>a.g||256<a.g?(this.m="Generations number must be 2-256",a.g=-1,k=!1):(z<b.length&&"/"===b[z]&&(z+=1),b=b.substr(z),k=!0))}if(k&&(x=b.lastIndexOf("g"),-1!==x&&x!==b.length-1&&!(0<x&&"/"===b[x-1]))){z=x+1;for(x=a.g=0;z<b.length&&
-1!==x;)x=this.Tg.indexOf(b[z]),-1!==x&&(a.g=10*a.g+x,z+=1);z===b.length?2>a.g||256<a.g?(this.m="Generations number must be 2-256",a.g=-1,k=!1):(b=b.substr(0,b.lastIndexOf("g")),k=!0):a.g=-1}if(k)if(k=!1,"r"===b[0]||"1"<=b[0]&&"9">=b[0]&&-1!==b.indexOf(",")){if(k="r"===b[0]?-1!==b.indexOf(".")?this.az(a,b):-1!==b.indexOf("t")?this.bz(a,b):-1!==b.indexOf(",")?this.Zy(a,b,f):this.Yy(a,b,f):this.cz(a,b))a.pa?(a.$="R"+a.mc+",",a.$+="C"+a.g+",",a.$+="S"+this.ku(a.xd,-1)+",",a.$+="B"+this.ku(a.Wc,0),a.Fe!==
this.nf&&(a.$+=",N",a.$=a.Fe===this.xf?a.$+"N":a.$+"C")):(a.rd=!0,a.$="R"+a.Lb+",C"+a.g+",M"+a.Oh+",S"+a.Cc+".."+a.md+",B"+a.Kc+".."+a.$d+",N",a.$=a.Wf===this.Am?a.$+"M":a.Wf===this.Ut?a.$+"N":a.$+"C",0===a.Oh&&(a.Cc+=1,a.md+=1))}else if("w"===b[0])k=this.jz(a,b);else if(z=b.lastIndexOf(d.Wp),-1!==z&&z===b.length-C&&(a.ba=!0,a.zc=d.pk,b=b.substr(0,b.length-C),u=this.Lt),z=b.lastIndexOf(d.Vp),-1!==z&&z===b.length-l&&(a.ba=!0,a.zc=d.rl,b=b.substr(0,b.length-l),u=this.Kt),z=b.lastIndexOf(d.Xp),-1!==
z&&z===b.length-m&&(a.ba=!0,a.zc=d.sl,b=b.substr(0,b.length-m),u=this.Mt),z=b.lastIndexOf(d.zr),-1!==z&&z===b.length-h&&(a.R=!0,b=b.substr(0,b.length-h),u=this.lx),z=b.lastIndexOf(d.Vt),-1!==z&&z===b.length-r&&(a.Od=!0,b=b.substr(0,b.length-r),u=this.wx),f=b.indexOf("/"),-1===f&&(f=b.indexOf("_")),-1!==f&&(z=b.lastIndexOf("/"),-1===z&&(z=b.lastIndexOf("_")),z!==f&&(I=b.substring(z+1),b=b.substr(0,z),z=b.lastIndexOf(d.Wp),-1!==z&&z===b.length-C&&(a.ba=!0,a.zc=d.pk,b=b.substr(0,b.length-C),u=this.Lt),
z=b.lastIndexOf(d.Vp),-1!==z&&z===b.length-l&&(a.ba=!0,a.zc=d.rl,b=b.substr(0,b.length-l),u=this.Kt),z=b.lastIndexOf(d.Xp),-1!==z&&z===b.length-m&&(a.ba=!0,a.zc=d.sl,b=b.substr(0,b.length-m),u=this.Mt),z=b.lastIndexOf(d.zr),-1!==z&&z===b.length-h&&(a.R=!0,b=b.substr(0,b.length-h),u=this.lx),z=b.lastIndexOf(d.Vt),-1!==z&&z===b.length-r&&(a.Od=!0,b=b.substr(0,b.length-r),u=this.wx))),b===d.Sv)a.Eb=!0,a.g=256,k=!0;else{h=b.indexOf("b");C=b.indexOf("s");-1===f?0===h||0===C?-1===C?(e=b,c=""):-1===h?(c=
b,e=""):h<C&&-1!==C?(e=b.substring(h+1,C),c=b.substring(C+1)):(c=b.substring(C+1,h),e=b.substring(h+1)):this.m="Unsupported rule name":(-1===h&&-1!==C?h=f:-1!==h&&-1===C&&(C=f),h<C?(e=b.substring(0,f),c=b.substring(f+1)):(e=b.substring(f+1),c=b.substring(0,f)));-1!==h&&e&&"b"===e[0]&&(e=e.substring(1));-1!==C&&c&&"s"===c[0]&&(c=c.substring(1));if(null!==I)if(z=0,-1!==a.g)this.m="Generations defined twice",e=null;else{a.g=0;z<I.length&&("g"===I[z].toLowerCase()||"c"===I[z].toLowerCase())&&(z+=1);for(x=
0;z<I.length&&-1!==x;)x=this.Tg.indexOf(I[z]),-1!==x?a.g=10*a.g+x:(this.m="Illegal character in generations number",a.g=-1,e=null),z+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.m="Generations number must be 2-256",a.g=-1,e=null)}if(null!==e&&null!==c){k=!0;for(z=0;z<e.length;)x=u.indexOf(e[z]),-1===x?(this.m="Illegal character in birth specification",k=!1,z=e.length):z+=1;if(k)for(z=0;z<c.length;)x=u.indexOf(c[z]),-1===x?(this.m="Illegal character in survival specification",k=!1,z=c.length):z+=1}}}k&&-1===
a.Te&&!1===a.rd&&!1===a.pa&&(a.$=this.Py(a,e,c,E,a.R,a.ba,a.zc,a.Od,a.g,g),""!==this.m&&(k=!1),2===a.g&&(a.g=-1));k&&this.cy(a,E);return k};d.Ek=function(a,b,f,g){var k=0,e=b.length-1,c=!1,I=!0,u,h=0,C=0,l=0,m=0,r=this.fk;for(u=b[k];!c;){var E=u;u=b[k+1];var z=-1;switch(E){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":m=10*m+parseInt(E,10);break;case "b":z=0;break;case "o":z=1;break;case ".":z=0;break;case "z":z=7;a.Db=!0;a.km=!0;break;case "$":0===m&&(m=
1);l+=m;m=0;C>h&&(h=C);C=0;break;case "!":0===m&&(m=1);l+=m;m=0;C>h&&(h=C);c=!0;break;default:I=!1,"A"<=E&&"X">=E?(I=!0,z=E.charCodeAt(0)-64):"p"<=E&&"y">E?"A"<=u&&"X">=u?(I=!0,z=24*(E.charCodeAt(0)-111)+(u.charCodeAt(0)-64),k+=1,u=b[k+1]):"x"===E&&(I=!0,a.Db=!0,a.km=!0,z=3):"y"===E&&("A"<=u&&"O">=u?(I=!0,z=24*(E.charCodeAt(0)-111)+(u.charCodeAt(0)-64),k+=1,u=b[k+1]):(I=!0,a.Db=!0,a.km=!0,z=5))}if(0<=z)if(0===m&&(m=1),f||(0===r[z]&&(a.Hm+=1),r[z]+=m,z>=a.Ge&&(a.Ge=z+1)),0<z&&f)for(;0<m;){a.le[l][C]=
-1===a.g?z:2===a.g?1===z?LifeConstants.Ua:0:z<a.g?z:1;if(!a.Db&&-1===a.g||a.Db&&z&1||-1!==a.g&&1===z)a.Qc[l][C>>4]|=1<<(~C&15);C+=1;--m}else C+=m,m=0;I||(" "===E||"\t"===E||"\n"===E?I=!0:(this.m="Illegal character in pattern: "+E,c=a.Qj=!0));k+=1;k===e&&(c||(0===m&&(m=1),l+=m,m=0,C>h&&(h=C)),c=!0)}f||(0===h&&(l=h=1),a.width=h,a.height=l,h>d.maxWidth||l>d.maxHeight?a.wf=!0:(a.Qc=Array.Y(Uint16,l,(h-1>>4)+1,0,g,"Pattern.lifeMap"),a.le=Array.Y(Uint8,l,h,0,g,"Pattern.multiStateMap")),a.xg="RLE");a.Qj&&
(k=-1);return k};d.TB=function(a,b){var f=b.indexOf("\n");-1===f&&(f=b.length);a.Yv=b.substring(0,f).trim()};d.Kp=function(a,b,f){for(var g=!1;b<f&&!g;)" "===a[b]?b+=1:g=!0;return b};d.eB=function(a){var b=a.indexOf("\n"),f=0,g=!1,k=0;-1===b&&(b=a.length);for(;k<b&&!g;)"="===a[k]?g=!0:" "!==a[k]?g=!0:k+=1;if(g&&"="===a[k]){k=this.Kp(a,k+1,b);for(g=!1;k<b&&!g;){var e=d.Tg.indexOf(a[k]);-1!==e?(f=10*f+e,k+=1):g=!0}this.ti=!0;this.mr=f}};d.qw=function(a,b){var f=a.indexOf("\n"),g=0,k=0,e=!1,c=!1,I=!1,
u=0;-1===f&&(f=a.length);if(b){for(;u<f&&!I;)"="===a[u]?I=!0:" "!==a[u]?I=!0:u+=1;I&&"="===a[u]&&(u+=1)}else I=!0;if(I&&(u=this.Kp(a,u,f),u<f)){"-"===a[u]&&(e=!0,u+=1);for(I=!1;u<f&&!I;)b=d.Tg.indexOf(a[u]),-1!==b?(g=10*g+b,u+=1):I=!0;this.Ag=!0;this.xp=e?-g:g;u=this.Kp(a,u,f);if(u<f&&","===a[u]&&(u=this.Kp(a,u+1,f),u<f)){"-"===a[u]&&(c=!0,u+=1);for(I=!1;u<f&&!I;)b=d.Tg.indexOf(a[u]),-1!==b?(k=10*k+b,u+=1):I=!0;this.yp=c?-k:k}}};d.wy=function(a){var b=a.indexOf(d.xz);0===b&&(b=a.indexOf(d.mw),-1!==
b&&this.qw(a.substr(b+d.mw.length),!0),b=a.indexOf(d.Vu),-1!==b&&this.eB(a.substr(b+d.Vu.length)))};d.SB=function(a,b){var f=b.indexOf("\n");-1===f&&(f=b.length);a.name=b.substring(0,f).trim()};d.xq=function(a,b,f,g){var d=f.indexOf("\n");-1===d&&(d=f.length);" "===f[0]&&(b+=" ");f=""+f.substring(0,d).trim();a.title+=f+" ";g?a.Ve+=b+f+"\n":a.ub+=b+f+"\n";return d+1};d.rf=function(a){var b=-1;a+=" ";var f=this.Tg.indexOf(a[this.index]);if(-1!==f)for(b=0;-1!==f;)b=10*b+f,this.index+=1,f=this.Tg.indexOf(a[this.index]);
return b};d.gz=function(a,b){b=this.rf(b);a.pd=b;a.jf=b};d.hz=function(a,b){var f=this.rf(b),g=-1,d=0,e=0;if(-1!==f){var c=b[this.index];if("-"===c||"+"===c)this.index+=1,d=this.rf(b),-1===d?f=-1:"-"===c&&(d=-d);if(","===b[this.index])if(this.index+=1,g=this.rf(b),-1===g)f=-1;else{if(c=b[this.index],"-"===c||"+"===c)this.index+=1,e=this.rf(b),-1===e?f=-1:"-"===c&&(e=-e)}else g=f}0!==d&&0!==e&&(f=-1);0===f&&0===g&&(f=-1);0===d&&0===e||0!==f&&0!==g||(f=-1);a.pd=f;a.jf=g;a.cm=d;a.Nk=e};d.$y=function(a,
b){var f=this.rf(b),g=-1,d=0,e=0,c=!1,I=!1;if(-1!==f){var u=b[this.index];"*"===u&&(c=!0,this.index+=1,u=b[this.index]);if("-"===u||"+"===u)d=this.rf(b),-1===d?f=-1:"-"===u&&(d=-d),this.index+=1,u=b[this.index];if(","===u)if(this.index+=1,g=this.rf(b),-1===g)f=-1;else{if(u=b[this.index],"*"===u&&(I=!0,this.index+=1,u=b[this.index]),"-"===u||"+"===u)this.index+=1,e=this.rf(b),-1===e?f=-1:"-"===u&&(e=-e)}else g=f}c&&I&&(f=-1);0!==d&&0!==e&&(f=-1);if(c&&0!==e||I&&0!==d)f=-1;if(0===f||0===g)f=-1;c||I||
(I=!0);a.pd=f;a.jf=g;a.cm=d;a.Nk=e;a.qr=c;a.Ro=I};d.Xy=function(a,b){var f=this.rf(b),g=-1;-1!==f&&(","===b[this.index]?(this.index+=1,g=this.rf(b),-1===g&&(f=-1)):g=f);a.pd=f;a.jf=g};d.dz=function(a,b){var f=this.rf(b),g=-1;-1!==f&&(","===b[this.index]?(this.index+=1,g=this.rf(b),-1===g&&(f=-1)):g=f);0===f&&0===g&&(f=-1);a.pd=f;a.jf=g};d.Vy=function(a,b){var f=!1;b=this.rw(b).toLowerCase();if(""!==b){a.wb=this.tu.indexOf(b[0]);if(-1!==a.wb)if(this.index=1,2!==a.wb&&-1!==b.indexOf("*"))a.pd=-1;else switch(a.wb){case 0:this.dz(a,
b);break;case 1:this.hz(a,b);break;case 2:this.$y(a,b);break;case 3:this.Xy(a,b);break;case 4:this.gz(a,b);break;default:a.pd=-1}this.index!==b.length&&(a.pd=-1);-1!==a.pd?f=!0:(a.wb=-1,this.m="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return f};d.xo=function(a,b,f,g){var d,e,c=null;if(f[b]===a){for(b+=1;b<g&&" "===f[b];)b+=1;for(b<g&&"="===f[b]&&(b+=1);b<g&&" "===f[b];)b+=1;a=0;var I=d=!1;"-"===f[b]&&(b+=1,I=!0);for(e=f[b].charCodeAt(0);b<g&&48<=e&&57>=e;)a=10*a+(e-48),b+=1,d=!0,b<
g&&(e=f[b].charCodeAt(0));for(d&&(c=I?-a:a);b<g&&" "===f[b];)b+=1;for(b<g&&","===f[b]&&(b+=1);b<g&&" "===f[b];)b+=1}return[c,b]};d.fz=function(a,b){this.dh=this.eh=-1;var f=this.xo("x",0,a,b);var g=f[1];f[0]&&(this.eh=f[0]);f=this.xo("y",g,a,b);g=f[1];f[0]&&(this.dh=f[0]);f=this.xo("h",g,a,b);g=f[1];f[0]&&(this.xp=f[0],this.Ag=!0);f=this.xo("v",g,a,b);f[0]&&(this.yp=f[0])};d.Mu=function(a,b,f,g){var k=b.indexOf("\n"),e=b.indexOf("rule"),c=d.Dr.length,I="";-1===k&&(k=b.length);this.fz(b,k);-1===e?
f?I="":I=b.substring(1,k).trim():(I=b.substring(e+4,k).trim(),"="===I[0]&&(I=I.substring(1).trim()));a.$=I;b=I.lastIndexOf(d.sy);-1!==b&&(this.Vy(a,I.substring(b+1))?I=I.substr(0,b).trim():b=-2);f=I.toLowerCase().lastIndexOf(d.Dr);-1!==f&&f===I.length-c&&(a.Db=!0,I=I.substr(0,I.length-c).trim());f=I.indexOf(this.yl);-1!==f&&I.toLowerCase().substr(0,f).trim().substr(-c)===d.Dr&&(a.Db=!0,e=I.substr(0,f).trim(),I=e.substr(0,e.length-c)+I.substr(f));-2!==b&&this.Vl(a,I,g)?this.Aa=!0:this.Lk=!0;return k+
1};d.su=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};d.Lu=function(a,b,f){var g=0,k=b.length,e=!1,c=!1;var I=this.fk;var u=d.nA,h=4,C;a.Eb=!1;a.wb=-1;a.width=0;a.height=0;a.wf=!1;a.Qc=null;a.le=null;a.Qj=!1;a.Db=!1;a.km=!1;a.R=!1;a.Te=-1;a.Od=!1;a.g=-1;a.rd=!1;a.Lb=-1;a.Oh=1;a.Cc=-1;a.md=-1;a.Kc=-1;a.$d=-1;a.pa=!1;a.Wc=null;a.xd=null;a.mc=-1;a.title="";a.ub="";
a.Ve="";a.Ge=2;for(C=a.Hm=0;C<u;C+=1)I[C]=0;for(b+=" ";g<k&&!a.Qj;)switch(I=b[g],I){case "#":g+=1;I=b[g];g+=1;switch(I){case "N":this.SB(a,b.substring(g));break;case "O":this.TB(a,b.substring(g));break;case "C":this.wy(b.substring(g));break;case "P":case "R":this.qw(b.substring(g),!1);break;case "\n":--g}g="\n"===I?g+this.xq(a,"#",b.substring(g),e):g+this.xq(a,"#"+I,b.substring(g),e);break;case "x":g+=this.Mu(a,b.substring(g),!0,f);c=!0;break;case "\n":g+=1;break;default:e?g+=this.xq(a,"",b.substring(g),
!0):(e=!0,I=this.Ek(a,b.substring(g),!1,f),-1!==I&&(g=a.wf?g+I:g+this.Ek(a,b.substring(g),!0,f)))}c||(this.Vl(a,"",f)?this.Aa=!0:this.Lk=!0);-1!==a.wb&&(a.pa&&(h=6*a.mc),a.rd&&(h=6*a.Lb),a.pd>=this.maxWidth-h||a.jf>=this.maxHeight-h)&&(this.m="Bounded grid is too big",this.Aa=!1,a.wb=-1);!a.rd||(1<a.wb&&(this.m="LtL only supports Plane or Torus",this.Aa=!1,a.wb=-1),a.R&&(this.m="LtL does not support Hex grid",this.Aa=!1,a.R=!1),0===a.Kc&&-1===a.wb&&(this.m="LtL does not support B0 unbounded",this.Aa=
!1),0!==a.wb&&1!==a.wb)||0!==a.pd&&0!==a.jf||(this.m="LtL bounded grid must be finite",this.Aa=!1,a.wb=-1);a.ba&&-1!==a.wb&&(0!==(a.pd&1)?(this.m="Bounded grid width must be even",this.Aa=!1,a.wb=-1):0!==(a.jf&1)&&(this.m="Bounded grid height must be even",this.Aa=!1,a.wb=-1));!a.pa||(1<a.wb&&(this.m="HROT only supports Plane or Torus",this.Aa=!1,a.wb=-1),a.R&&(this.m="HROT does not support Hex grid",this.Aa=!1,a.R=!1),a.Wc&&1===a.Wc[0]&&-1===a.wb&&(this.m="HROT does not support B0 unbounded",this.Aa=
!1),0!==a.wb&&1!==a.wb)||0!==a.pd&&0!==a.jf||(this.m="HROT bounded grid must be finite",this.Aa=!1,a.wb=-1);a.Eb&&a.Db&&(this.m="[R]History not valid with none rule",this.Aa=a.Db=!1);-1===a.g||!a.Db||a.rd||a.pa||(this.m="[R]History not valid with Generations",this.Aa=a.Db=!1);-1===a.g||!this.fl[0]||a.rd||a.pa||(this.m="Generations does not support B0",this.Aa=!1);a.rd&&a.Db&&(this.m="[R]History not valid with LtL",this.Aa=a.Db=!1);a.pa&&a.Db&&(this.m="[R]History not valid with HROT",this.Aa=a.Db=
!1);this.Aa&&(a.km?8<a.Ge&&(this.m="Illegal state in pattern for Niemiec",this.Aa=!1):a.Db?7<a.Ge&&(this.m="Illegal state in pattern for [R]History",this.Aa=!1):-1!==a.g&&a.Ge>a.g&&(this.m=a.rd?"Illegal state in pattern for LtL":a.pa?"Illegal state in pattern for HROT":"Illegal state in pattern for Generations",this.Aa=!1));a.rd&&this.bC(a,f)};d.TC=function(){return!0};d.SC=function(){return!0};d.UC=function(){return!1};d.iz=function(a,b){var f=-1,g=-1,k=-1,e=!1,c=[],I=[],u=[],h=[],C=1E3;var l=b.Lo();
l===d.Is&&"="===b.O()&&b.w()&&(f=b.C(),2<=f&&256>=f&&(e=!0));e&&(l=b.Lo(),l===d.Gs&&"="===b.O()&&b.w()&&(g=b.C(),4===g||8===g))&&(e=!0);e&&(l=b.Lo(),l===d.Hs&&"="===b.O()&&b.w()&&(k=b.C(),k>=g&&1E8>=k&&(e=!0)));for(l=b.Lo();e&&""!==l;){for(;b.pv(l);)l=b.O();if(b.Sk(l)){C=b.Iq(l);var m=0;u[u.length]=1===C?I.length:c.length;h[h.length]=C;for(l=b.O();e&&!b.pv(l);)b.Sk(l)?(l=b.Iq(l),1===C?0>l||l>=f?e=!1:I[I.length]=l:0>l||l>u.length?e=!1:h[l]!==C-1?e=!1:c[c.length]=u[l],m+=1,l=b.O()):e=!1;m!==f&&(e=!1)}else""!==
l&&l!==d.Ew&&l!==d.Fw?e=!1:l=""}c.length+I.length!==k*f&&(e=!1);C!==g+1&&(e=!1);if(e)if(a.$===a.Gw){a.Gs=g;a.Is=f;a.Hs=k;a.HB=u[u.length-1];a.Hw=new Uint32Array(c.length);a.Iw=new Uint32Array(I.length);for(b=0;b<c.length;b+=1)a.Hw[b]=c[b];for(b=0;b<I.length;b+=1)a.Iw[b]=I[b];this.m="";this.Aa=!0}else e=!1;return e};d.ez=function(a){var b=!1,f=new Script(a.Ve,!0);if(-1!==f.Mj(d.EB,-1)&&!f.CA()){a.Gw=f.O();var g=f.Mj(d.FB,-1);-1!==g?b=!1:(g=f.Mj(d.GB,-1),-1!==g&&(b=this.iz(a,f)));b&&(a=f.Mj(d.Ew,0),
-1!==a&&(b=!0),b&&f.Mj(d.Fw,0))}};d.create=function(a,b,f){a=new e(a);this.Aa=this.Lk=this.wf=!1;this.m="";this.ti=!1;this.mr=0;this.Ag=!1;this.yp=this.xp=0;this.dh=this.eh=-1;this.Dh=!1;if("!"===b.substr(0,1)||"O"===b.substr(0,1)||"."===b.substr(0,1)||"*"===b.substr(0,1)||"o"===b.substr(0,1))this.Wy(a,b,f),this.Aa=!0;null===a.Qc&&(this.Aa=!1,"#Life 1.05"===b.substr(0,10)?this.Ju(a,b,!0,f):"#Life 1.06"===b.substr(0,10)?(this.Uy(a,b,f),this.Aa=!0):"#"===b[0]||"x"===b[0]?(this.Lu(a,b,f),null!==a.Qc||
a.wf||a.Qj||(this.Ju(a,b,!1,f),this.Lk=!1,a.le=null,a.Db=!1,a.Ge=2,a.Hm=0)):this.Lu(a,b,f));a.wf&&(this.m="Pattern too big (maximum "+this.maxWidth+"x"+this.maxHeight+")",this.wf=!0,a.Qj=!1,a.width=1,a.height=1,a.Qc=Array.Y(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap"));-1!==a.wb?(b=a.$.lastIndexOf(":"),a.Zn=a.$.substr(b),a.$=a.$.substr(0,b)):a.Zn="";null===a.Qc&&""===this.m&&(this.m="Invalid pattern",a=null,this.Aa=!1);a&&a.Qj&&!a.wf&&(a=null,this.Aa=!1);a&&(""!==a.ub&&"\n"!==a.ub[a.ub.length-
1]&&(a.ub+="\n"),""!==a.Ve&&("\n"!==a.Ve[a.Ve.length-1]&&(a.Ve+="\n"),this.ez(a)),""!==this.m&&(a.R||a.ba)&&null===a.$.match(/[0-9]/)&&(a.R=!1,a.ba=!1));return a};window.PatternManager=d;window.Pattern=e})();(function(){function c(){this.Qq=[]}c.prototype.add=function(e,d,a){this.Qq[this.Qq.length]=e<<16|d<<8|a};window.ColourManager={Rg:[],Xm:[],nv:!1,Zq:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,
169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,
59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,
113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,
158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,
108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],yo:[],Xc:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,
245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",
0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",
47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],
gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},VC:function(){return this.yo},Au:function(e){for(var d=0,a=!1,b=[];d<this.Xm.length&&!a;)e===this.Xm[d][0]?a=!0:d+=1;a&&(b=this.Rg[this.Xm[d][1]].Qq);return b},Ta:function(e){this.Xm[this.Xm.length]=e},Md:function(){var e,d=0,a;if(!this.nv){this.nv=!0;for(e=a=0;256>e;e+=1)this.yo[e]=this.Zq[a]<<16|this.Zq[a+1]<<8|this.Zq[a+2],a+=3;e=new c;e.add(0,0,0);e.add(0,255,0);e.add(0,0,128);
e.add(216,255,216);e.add(255,0,0);e.add(255,255,0);e.add(96,96,96);e.add(255,128,128);this.Rg[d]=e;this.Ta(["LifeHistory",d]);d+=1;e=new c;e.add(48,48,48);e.add(0,128,255);e.add(255,255,255);e.add(255,128,0);this.Rg[d]=e;this.Ta(["WireWorld",d]);d+=1;e=new c;e.add(0,0,0);e.add(255,255,255);e.add(144,128,112);e.add(144,90,45);e.add(192,192,192);e.add(255,0,0);e.add(255,128,0);e.add(255,255,0);e.add(0,255,0);e.add(0,255,208);e.add(0,192,255);e.add(0,0,255);e.add(192,0,255);e.add(255,64,160);e.add(112,
128,144);e.add(0,128,0);e.add(0,96,128);e.add(160,0,80);e.add(40,40,40);e.add(220,220,220);e.add(140,60,0);e.add(0,160,0);e.add(160,160,250);this.Rg[d]=e;this.Ta(["WWE",d]);this.Ta(["WWE2",d]);this.Ta(["WWEJ",d]);this.Ta(["WWEJ2",d]);this.Ta(["WWEJ3",d]);d+=1;e=new c;e.add(30,30,30);e.add(0,128,128);e.add(0,255,0);e.add(255,0,0);e.add(255,128,0);e.add(255,255,0);e.add(128,0,128);e.add(128,128,128);e.add(255,255,255);e.add(128,128,255);this.Rg[d]=e;this.Ta(["Novoloop",d]);d+=1;e=new c;e.add(0,0,0);
e.add(255,128,0);e.add(255,0,0);e.add(0,255,0);e.add(0,0,255);e.add(0,190,0);e.add(0,140,0);e.add(255,255,255);e.add(80,80,80);e.add(95,95,95);e.add(128,128,128);e.add(0,64,0);e.add(255,255,0);e.add(64,0,164);e.add(64,32,64);e.add(80,80,100);e.add(95,95,125);e.add(128,255,128);e.add(64,100,100);this.Rg[d]=e;this.Ta(["shapeloop",d]);this.Ta(["shapeloop-b",d]);this.Ta(["shapeloop2",d]);this.Ta(["shapeloop-ltd",d]);this.Ta(["2armshapeloop-a",d]);this.Ta(["2armshapeloop2-a",d]);this.Ta(["shapeloop2a-bounded",
d]);this.Ta(["foodshapeloop",d]);this.Ta(["foodshapeloop2",d]);d+=1;e=new c;e.add(0,0,0);e.add(255,255,255);e.add(255,0,0);e.add(0,128,255);e.add(170,0,0);e.add(85,0,0);this.Rg[d]=e;this.Ta(["b3s23mmg",d]);d+=1;e=new c;e.add(0,0,0);e.add(255,0,0);e.add(0,255,0);e.add(0,0,255);e.add(255,255,0);e.add(0,255,255);e.add(255,0,255);e.add(92,36,110);e.add(0,99,140);e.add(176,196,222);e.add(115,61,26);this.Rg[d]=e;this.Ta(["_235_4_O3",d]);this.Ta(["0_245_5_O4",d]);this.Ta(["0_245_5_O3",d]);this.Ta(["58_27_4_O3",
d]);this.Ta(["0_24_4H_O3",d]);this.Ta(["2_235_4H_O3",d]);this.Ta(["24_235_4H_O3",d]);this.Ta(["3_25_4_O2",d]);this.Ta(["Snake_O5",d]);this.Ta(["Mites",d]);this.Ta(["Mites2",d]);this.Ta(["Mites3",d]);d+=1;e=new c;e.add(48,48,48);e.add(255,128,0);e.add(0,0,255);e.add(32,32,255);e.add(64,64,255);e.add(96,96,255);this.Rg[d]=e;this.Ta(["Alpha-1",d]);d+=1;e=new c;e.add(48,48,48);e.add(255,0,0);e.add(255,125,0);e.add(255,150,25);e.add(255,175,50);e.add(255,200,75);e.add(255,225,100);e.add(255,250,125);e.add(251,
255,0);e.add(89,89,255);e.add(106,106,255);e.add(122,122,255);e.add(139,139,255);e.add(27,176,27);e.add(36,200,36);e.add(73,255,73);e.add(106,255,106);e.add(235,36,36);e.add(255,56,56);e.add(255,73,73);e.add(255,89,89);e.add(185,56,255);e.add(191,73,255);e.add(197,89,255);e.add(203,106,255);e.add(0,255,128);e.add(255,128,64);e.add(255,255,128);e.add(33,215,215);e.add(27,176,176);e.add(24,156,156);e.add(21,137,137);this.Ta(["JvN29",d]);this.Ta(["Hutton32",d]);this.Ta(["Nobili32",d]);this.Rg[d]=e}}}})();window.BoundingBox=function(c,e,d,a){this.G=c;this.A=e;this.M=d;this.L=a};(function(){function c(d,a){this.index=a;this.qa=d.jk[a];this.eb=d.Bj[a];this.s=d.Oo[a];this.j=d.ao[a];this.v=new BoundingBox(0,0,0,0);this.ea=new BoundingBox(0,0,0,0);this.va=this.o=this.kc=this.Cb=this.xa=0;this.f=d}function e(d,a){this.i=d;this.dd=[];this.Cf=[];this.jk=[];this.Bj=[];this.Oo=[];this.ao=[];this.f=[];this.j=0;this.index=-1;this.mA=51;this.Le=[];this.pu=a}c.prototype.AB=function(d,a,b){var f=a.length,g=a[0].length,k,e,c=0,I,u=b.qn;b=b.rn;var h,C=0,l=this.s,m=0,r=l[m],E=r.length;Array.gg(this.qa,
a);for(k=0;k<f;k+=1){var z=this.qa[k];for(a=h=0;a<g;a+=1)if(I=z[a])for(e=15;0<=e;--e){if(0!==(I&1<<e)){var x=C;var t=h;var H=r[c];c+=1;d[x][t]=H&255;d[x][t+1]=H>>8&255;d[x+1][t]=H>>16&255;d[x+1][t+1]=H>>24;x+=2;H=r[c];c+=1;d[x][t]=H&255;d[x][t+1]=H>>8&255;d[x+1][t]=H>>16&255;d[x+1][t+1]=H>>24;x+=2;H=r[c];c+=1;d[x][t]=H&255;d[x][t+1]=H>>8&255;d[x+1][t]=H>>16&255;d[x+1][t+1]=H>>24;x+=2;H=r[c];c+=1;d[x][t]=H&255;d[x][t+1]=H>>8&255;d[x+1][t]=H>>16&255;d[x+1][t+1]=H>>24;x+=2;H=r[c];c+=1;d[x][t]=H&255;
d[x][t+1]=H>>8&255;d[x+1][t]=H>>16&255;d[x+1][t+1]=H>>24;x+=2;H=r[c];c+=1;d[x][t]=H&255;d[x][t+1]=H>>8&255;d[x+1][t]=H>>16&255;d[x+1][t+1]=H>>24;x+=2;H=r[c];c+=1;d[x][t]=H&255;d[x][t+1]=H>>8&255;d[x+1][t]=H>>16&255;d[x+1][t+1]=H>>24;x+=2;H=r[c];c+=1;d[x][t]=H&255;d[x][t+1]=H>>8&255;d[x+1][t]=H>>16&255;d[x+1][t+1]=H>>24;c>=E&&(m+=1,r=l[m],c=0)}h+=u}else h+=u<<4;C+=b}};c.prototype.MB=function(d,a,b){var f=a.length,g=a[0].length,k,e=0,c;var I=0;var u=b.qn,h=b.rn,C,l=0,m=this.s,r=0,E=m[r],z=E.length,
x=m.length;var t=this.f.pu;Array.gg(a,this.qa);for(k=0;k<f;k+=1){var H=a[k];for(b=0;b<g;b+=1)(c=H[b])&&(I+=t[c])}if(I)for(k=0;k<f;k+=1){H=a[k];for(b=C=0;b<g;b+=1)if(c=H[b])for(I=15;0<=I;--I){if(0!==(c&1<<I)){var n=l;t=C;E[e]=d[n][t]|d[n][t+1]<<8|d[n+1][t]<<16|d[n+1][t+1]<<24;e+=1;n+=2;E[e]=d[n][t]|d[n][t+1]<<8|d[n+1][t]<<16|d[n+1][t+1]<<24;e+=1;n+=2;E[e]=d[n][t]|d[n][t+1]<<8|d[n+1][t]<<16|d[n+1][t+1]<<24;e+=1;n+=2;E[e]=d[n][t]|d[n][t+1]<<8|d[n+1][t]<<16|d[n+1][t+1]<<24;e+=1;n+=2;E[e]=d[n][t]|d[n][t+
1]<<8|d[n+1][t]<<16|d[n+1][t+1]<<24;e+=1;n+=2;E[e]=d[n][t]|d[n][t+1]<<8|d[n+1][t]<<16|d[n+1][t+1]<<24;e+=1;n+=2;E[e]=d[n][t]|d[n][t+1]<<8|d[n+1][t]<<16|d[n+1][t+1]<<24;e+=1;n+=2;E[e]=d[n][t]|d[n][t+1]<<8|d[n+1][t]<<16|d[n+1][t+1]<<24;e+=1;e>=z&&(r+=1,e=0,r>=x&&(Array.wl(m,"Snapshot.gridBufferRow"),x+=1));E=m[r]}C+=u}else C+=u<<4;l+=h}};c.prototype.zB=function(d,a,b){var f=a.length,g=a[0].length,e,c,J,I=0,u,h=b.qn<<3,C=b.rn,l,m=0,r=this.j,E=0,z=r[E],x=z.length;Array.gg(this.eb,a);for(e=0;e<f;e+=1){var t=
a[e];for(b=l=0;b<g;b+=1)if(u=t[b])for(c=15;0<=c;--c){if(0!==(u&1<<c))for(J=l;J<l+h;J+=4){var H=m;var n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>
16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;
d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;H+=1;n=z[I];I+=1;d[H][J]=n&255;d[H][J+1]=n>>8&255;d[H][J+2]=n>>16&255;d[H][J+3]=n>>24;I>=x&&(E+=1,z=r[E],I=0)}l+=h}else l+=
h<<4;m+=C}};c.prototype.IB=function(d,a,b){var f=a.length,g=a[0].length,e,c=0,J;var I=0;var u=b.qn<<3,h=b.rn,C,l=0,m=this.j,r=0,E=m[r],z=E.length,x=m.length;var t=this.f.pu;Array.gg(a,this.eb);for(e=0;e<f;e+=1){var H=a[e];for(b=0;b<g;b+=1)(J=H[b])&&(I+=t[J])}if(I)for(e=0;e<f;e+=1){H=a[e];for(b=C=0;b<g;b+=1)if(J=H[b])for(I=15;0<=I;--I){if(0!==(J&1<<I))for(t=C;t<C+u;t+=4){var n=l;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=
1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+
3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;n+=1;E[c]=d[n][t]|d[n][t+1]<<8|d[n][t+2]<<16|d[n][t+3]<<24;c+=1;c>=z&&(r+=1,c=0,r>=x&&(Array.wl(m,"Snapshot.colourGridBufferRow"),x+=1),E=m[r])}C+=u}else C+=u<<4;l+=h}};
e.prototype.bufferSize=function(){for(var d=0,a=0;a<this.Cf.length;)d+=this.jk[a].length*this.jk[a][0].length*2,d+=this.Bj[a].length*this.Bj[a][0].length*2,d+=this.Oo[a].length*this.Oo[a][0].length*4,d+=this.ao[a].length*this.ao[a][0].length*4,this.f[a]&&(d+=this.f[a].length*this.f[a][0].length*4),a+=1;return d};e.prototype.EC=function(){for(var d=0,a=0;a<this.Cf.length;)this.Cf[a]&&(d+=1),a+=1;return d};e.prototype.reset=function(){var d=0,a;this.dd=[];for(this.index=-1;d<this.Cf.length;){var b=
!1;for(a=0;a<this.Le.length&&!b;)d===this.Le[a].index?b=!0:a+=1;b||(this.Cf[d]=!1);d+=1}};e.prototype.dC=function(d){var a=null;0<this.dd.length&&(a=this.dd[this.index],a.o>d&&(a=null,0<this.index&&(this.s(this.dd[this.index].index),this.dd.pop(),--this.index,0<=this.index&&(a=this.dd[this.index]))));return a};e.prototype.Ym=function(d,a,b,f,g,e,c,J,I,u,h,C,l,m,r,E){var k=null,F=0,t=this.Le.length,H=!1;g=null!==g;if(r){for(;F<t&&!H;)this.Le[F].o===h?H=!0:F+=1;H?k=this.Le[F]:alert("reset snapshot at generation "+
h+" not found!")}else if(51>this.dd.length)k=this.Vq(C,l,!1,h,g),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.s(this.dd[0].index);for(F=0;50>F;F+=1)this.dd[F]=this.dd[F+1];this.dd.pop();this.Vq(C,l,!1,h,g)}k=this.dd[this.index]}k.va=E;k.MB(d,a,m);k.IB(b,f,m);k.v.G=e.G;k.v.M=e.M;k.v.A=e.A;k.v.L=e.L;k.ea.G=c.G;k.ea.M=c.M;k.ea.A=c.A;k.ea.L=c.L;k.xa=J;k.Cb=I;k.kc=u;k.o=h};e.prototype.s=function(d){this.Cf[d]=!1};e.prototype.V=function(d,a,b){for(var f=0,g=!1;f<this.j&&!g;)this.Cf[f]?
f+=1:g=!0;g?(d=f,this.Cf[f]=!0):(this.jk[f]=Array.Y(Uint16,a,d,0,this.i,"Snapshot.tileGrid"+f),this.Bj[f]=Array.Y(Uint16,a,d,0,this.i,"Snapshot.colourTileGrid"+f),this.Oo[f]=Array.Y(Uint32,1,1024,0,this.i,"Snapshot.gridBuffer"+f),this.ao[f]=Array.Y(Uint32,1,8192,0,this.i,"Snapshot.colourGridBuffer"+f),b&&(this.f[f]=Array.Y(Uint32,1,8192,0,this.i,"Snapshot.overlayGridBuffer"+f)),this.Cf[f]=!0,this.j+=1,d=f);return d};e.prototype.Vq=function(d,a,b,f,g){var e=0,F=this.Le.length,J=!1;d=this.V(d,a,g);
if(b){for(;e<F&&!J;)this.Le[e].o===f?J=!0:e+=1;J?b=this.Le[e]:(b=new c(this,d,g),this.Le[this.Le.length]=b)}else b=new c(this,d,g),this.dd[this.dd.length]=b;return b};e.prototype.K=function(d,a,b,f){var g=d.qa,e=d.eb,c=d.qa.length,J=c>>1,I=d.qa[0].length>>1,u=0,h=d.index;this.jk[h]=Array.Y(Uint16,b,a,0,this.i,"Snapshot.tileGrid"+h);this.Bj[h]=Array.Y(Uint16,b,a,0,this.i,"Snapshot.colourTileGrid"+h);d.qa=this.jk[h];d.eb=this.Bj[h];if(0<f){for(;u<c;)d.qa[u+J].set(g[u],I),d.eb[u+J].set(e[u],I),u+=1;
d.v.G+=f;d.v.M+=f;d.v.A+=f;d.v.L+=f;d.ea.G+=f;d.ea.M+=f;d.ea.A+=f;d.ea.L+=f}};e.prototype.zw=function(d,a,b){for(var f=0,g=this.Le.length;f<g;)this.K(this.Le[f],d,a,b),f+=1;f=0;for(g=this.dd.length;f<g;)this.K(this.dd[f],d,a,b),f+=1;for(f=0;f<this.Cf.length;)this.Cf[f]||(this.jk[f]=Array.Y(Uint16,a,d,0,this.i,"Snapshot.tileGrid"+f),this.Bj[f]=Array.Y(Uint16,a,d,0,this.i,"Snapshot.colourTileGrid"+f)),f+=1};window.SnapshotManager=e;window.Snapshot=c})();(function(){function c(e,d){this.i=e;this.a=d;this.yc=1;this.Fp=2;this.Cb=e.X(Uint8,0,"HROT.births");this.Pp=e.X(Uint8,0,"HROT.survivals");this.Sn=e.X(Uint8,0,"HROT.altBirths");this.Tn=e.X(Uint8,0,"HROT.altSurvivals");this.type=PatternManager.nf;this.K=Array.Y(Uint32,1,1,0,e,"HROT.counts");this.fa=e.X(Uint32,0,"HROT.widths");this.Ca=e.X(Uint8,0,"HROT.colUsed");this.ja=this.j=this.s=this.V=0;this.Dh=!1}c.prototype.resize=function(e,d){this.K=Array.Y(Uint32,d,e,0,this.i,"HROT.counts");this.Ca=this.i.X(Uint8,
e,"HROT.colUsed")};c.prototype.$B=function(e,d){var a=2*d+1,b=d*d+d;this.type=e;this.yc=d;this.fa=this.i.X(Uint32,a,"HROT.widths");switch(e){case PatternManager.nf:for(e=0;e<a;e+=1)this.fa[e]=d;break;case PatternManager.xf:for(e=0;e<d;e+=1)this.fa[e]=e,this.fa[a-e-1]=e;this.fa[e]=d;break;case PatternManager.Lq:for(e=-d;e<=d;e+=1){for(a=0;(a+1)*(a+1)+e*e<=b;)a+=1;this.fa[e+d]=a}}};c.prototype.f=function(e,d){return 0>e||0>e+d||d-e>=this.s?0:0>d&&e+d<this.j?this.K[e+d][0]:d>=this.s&&d-e>=this.s-this.j?
this.K[e+this.s-1-d][this.s-1]:e<this.j?this.K[e][d]:e-this.j+1+d<=this.ja?this.K[this.j-1][e-this.j+1+d]:d-(e-this.j+1)>=this.ja?this.K[this.j-1][d-(e-this.j+1)]:this.K[this.j-1][this.ja+(e+d+this.j+this.ja+1)%2]};c.prototype.Ia=function(e,d,a,b){var f=this.a.oa,g=this.yc,k,c;for(c=0;c<g;c+=1){var J=f[d+c];var I=f[b+c+1];for(k=e;k<=a;k+=1)I[k]=J[k]}for(c=0;c<g;c+=1)for(J=f[b-c],I=f[d-c-1],k=e;k<=a;k+=1)I[k]=J[k];for(c=d;c<=b;c+=1)for(J=f[c],k=0;k<g;k+=1)J[a+k+1]=J[e+k],J[e-k-1]=J[a-k];for(c=0;c<
g;c+=1)for(J=f[d+c],I=f[b+c+1],k=0;k<g;k+=1)I[k+a+1]=J[k+e],I[e-k-1]=J[a-k];for(c=0;c<g;c+=1)for(J=f[b-c],I=f[d-c-1],k=0;k<g;k+=1)I[k+a+1]=J[k+e],I[e-k-1]=J[a-k]};c.prototype.wa=function(e,d,a,b){var f=this.a.oa,g=this.yc,k,c;for(c=0;c<g;c+=1){var J=f[b+c+1];for(k=e;k<=a;k+=1)J[k]=0}for(c=0;c<g;c+=1)for(J=f[d-c-1],k=e;k<=a;k+=1)J[k]=0;for(c=d;c<=b;c+=1)for(J=f[c],k=0;k<g;k+=1)J[a+k+1]=0,J[e-k-1]=0;for(c=0;c<g;c+=1)for(J=f[b+c+1],k=0;k<g;k+=1)J[k+a+1]=0,J[e-k-1]=0;for(c=0;c<g;c+=1)for(J=f[d-c-1],k=
0;k<g;k+=1)J[k+a+1]=0,J[e-k-1]=0};c.prototype.Fa=function(e,d,a,b,f){var g,k,c=this.a.oa,J=this.a.Va,I=this.a.width,u=0,h=this.a.height,C=0,l=I,m=u,r=h,E=C,z=this.a.v,x=this.a.ea,t=this.yc,H=f?this.Sn:this.Cb,n=f?this.Tn:this.Pp,v=this.K;var D=this.Fp-1;var p=LifeConstants.Ua,y=LifeConstants.mi,w=this.a.bo;var q=this.a.g+this.a.ca-1;var G=this.a.ca,B=0<this.a.ca?1:0;var L=g=f=0;if(1===D)for(D=d-t;D<=b+t;D+=1){var M=c[D];var A=v[D];var T=J[D>>4];var Z=k=!1;for(d=e-t;d<=a+t;d+=1){var Y=M[d];var S=A[d];
q=0;Y<p?1===H[S]&&(g+=1,q=128):0===n[S]?L+=1:q=128;Y=w[Y+q];M[d]=Y;Y>y&&(k=!0,T[d>>8]|=1<<(~(d>>4)&15),d<I&&(I=d),d>u&&(u=d),Y>=p&&(f+=1,d<l&&(l=d),d>m&&(m=d),Z=!0))}k&&(D<h&&(h=D),D>C&&(C=D));Z&&(D<r&&(r=D),D>E&&(E=D))}else for(D=d-t;D<=b+t;D+=1){M=c[D];A=v[D];T=J[D>>4];Z=k=!1;for(d=e-t;d<=a+t;d+=1)Y=M[d],S=A[d],Y<=G?1===H[S]?(Y=q,g+=1):Y>B&&--Y:Y===q?0===n[S]&&(--Y,L+=1):Y>B&&--Y,M[d]=Y,0<Y&&(k=!0,T[d>>8]|=1<<(~(d>>4)&15),d<I&&(I=d),d>u&&(u=d),Y===q&&(f+=1,d<l&&(l=d),d>m&&(m=d),Z=!0));k&&(D<h&&
(h=D),D>C&&(C=D));Z&&(D<r&&(r=D),D>E&&(E=D))}this.a.xa=f;this.a.Cb=g;this.a.kc=L;0<f?(z.G=I,z.M=u,z.A=h,z.L=C,x.G=l,x.M=m,x.A=r,x.L=E):this.a.va=0};c.prototype.Sa=function(e){var d,a,b=this.a.v.G,f=this.a.v.M,g=this.a.v.A,k=this.a.v.L,c=this.yc,J=e?this.Sn:this.Cb,I=e?this.Tn:this.Pp,u=c+c;var h=c+1;var C=this.K,l=this.type,m=this.Fp-1,r=this.a.width,E=0,z=this.a.height,x=0,t=r,H=E,n=z,v=x,D=this.a.oa,p=this.a.Va;var y=this.fa;var w=this.a.ma;var q=this.a.ra,G=0,B=0,L=0,M=0,A=0,T=0,Z=0,Y=LifeConstants.Ua,
S=LifeConstants.mi,ba=this.a.bo;var X=this.Ca;-1!==this.a.ia&&(G=Math.round((this.a.width-w)/2),L=Math.round((this.a.height-q)/2),B=G+w-1,M=L+q-1,1===J[0]&&(b=G+c,f=B-c,k=M-c,g=L+c),1===this.a.ia&&(b-G<c&&(f=B),B-f<c&&(b=G),M-k<c&&(g=L),g-L<c&&(k=M),this.Ia(G,L,B,M)),0===this.a.ia&&1===m&&this.a.Ru(0),b-G<c&&(b=G+c),B-f<c&&(f=B-c),M-k<c&&(k=M-c),g-L<c&&(g=L+c),l===PatternManager.nf?(b-=u,g-=u,f+=u,k+=u):l===PatternManager.xf&&6<c&&(b-=c,g-=c,f+=c,k+=c));if(l===PatternManager.nf){b-=u;g-=u;f+=u;k+=
u;for(a=g;a<g+u;a+=1){var N=C[a];for(d=b;d+8<=f;)N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1;for(;d<=f;)N[d]=0,d+=1}for(a=g+u;a<=k;a+=1){N=C[a];for(d=b;d+8<=b+u;)N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1;for(;d<=b+u;)N[d]=0,d+=1}var R=C[g+u-1];for(a=g+u;a<=k;a+=1){N=C[a];m=D[a];w=0;for(d=b+u;d+8<=f;)m[d]>=Y&&(w+=1),N[d]=R[d]+w,d+=1,m[d]>=Y&&(w+=1),N[d]=R[d]+w,d+=1,m[d]>=Y&&(w+=1),
N[d]=R[d]+w,d+=1,m[d]>=Y&&(w+=1),N[d]=R[d]+w,d+=1,m[d]>=Y&&(w+=1),N[d]=R[d]+w,d+=1,m[d]>=Y&&(w+=1),N[d]=R[d]+w,d+=1,m[d]>=Y&&(w+=1),N[d]=R[d]+w,d+=1,m[d]>=Y&&(w+=1),N[d]=R[d]+w,d+=1;for(;d<=f;)m[d]>=Y&&(w+=1),N[d]=R[d]+w,d+=1;R=N}b+=c;g+=c;f-=c;k-=c;-1!==this.a.ia&&(b+=u,g+=u,f-=u,k-=u);u=D[g][b];w=C[g+c][b+c];var U=0;u<Y?1===J[w]&&(T+=1,U=128):0===I[w]?Z+=1:U=128;u=ba[u+U];D[g][b]=u;u>S&&(X[b]|=1,x=z=g,p[g>>4][b>>8]|=1<<(~(b>>4)&15),u>=Y&&(A+=1,X[b]|=2,v=n=g));var ca=q=!1;N=C[g+c];R=C[g+c];m=D[g];
y=p[g>>4];for(d=b+1;d<=f;d+=1)u=m[d],w=N[d+c]-R[d-h],U=0,u<Y?1===J[w]&&(T+=1,U=128):0===I[w]?Z+=1:U=128,u=ba[u+U],m[d]=u,u>S&&(X[d]|=1,q=!0,y[d>>8]|=1<<(~(d>>4)&15),u>=Y&&(A+=1,X[d]|=2,ca=!0));q&&(x=z=g);ca&&(v=n=g);y=m=!1;N=b+c;for(a=g+1;a<=k;a+=1)u=D[a][b],w=C[a+c][N]-C[a-h][N],U=0,u<Y?1===J[w]&&(T+=1,U=128):0===I[w]?Z+=1:U=128,u=ba[u+U],D[a][b]=u,u>S&&(a<z&&(z=a),a>x&&(x=a),m=!0,p[a>>4][b>>8]|=1<<(~(b>>4)&15),u>=Y&&(A+=1,a<n&&(n=a),a>v&&(v=a),y=!0));m&&(X[b]|=1);y&&(X[b]|=2);for(a=g+1;a<=k;a+=
1){m=D[a];y=p[a>>4];R=C[a+c];var P=C[a-h];N=b+1+c;var K=b+1-h;ca=q=!1;for(d=b+1;d<=f;d+=1)u=m[d],w=R[N]+P[K]-R[K]-P[N],U=0,u<Y?1===J[w]&&(U=128,T+=1):0===I[w]?Z+=1:U=128,u=ba[u+U],m[d]=u,u>S&&(q=!0,y[d>>8]|=1<<(~(d>>4)&15),X[d]|=1,u>=Y&&(A+=1,ca=!0,X[d]|=2)),N+=1,K+=1;q&&(a<z&&(z=a),a>x&&(x=a));ca&&(a<n&&(n=a),a>v&&(v=a))}for(d=b;d<=f;d+=1)X[d]&&(d<r&&(r=d),d>E&&(E=d),0!==(X[d]&2)&&(d<t&&(t=d),d>H&&(H=d)),X[d]=0);this.a.xa=A;this.a.Cb=T;this.a.kc=Z;0<A?(this.a.v.G=r,this.a.v.M=E,this.a.v.A=z,this.a.v.L=
x,this.a.ea.G=t,this.a.ea.M=H,this.a.ea.A=n,this.a.ea.L=v):this.a.va=0}else if(l===PatternManager.xf&&6<c){b-=c;f+=c;g-=c;k+=c;-1===this.a.ia&&(b-=c,f+=c,g-=c,k+=c);this.V=k-g+1;this.s=f-b+1;this.j=this.V+(this.s-1)/2|0;this.ja=this.s/2|0;for(h=0;h<this.j;h+=1)for(N=C[h],m=D[h+g],a=h-1,w=a-1,X=0;X<=this.s;X+=1)N[X]=this.f(a,X-1)+this.f(a,X+1)-this.f(w,X),h<this.V&&m[X+b]>=Y&&(N[X]+=1);for(h=c;h<=this.V-c;h+=1){a=h-1;P=h+c;C=P-1;d=h-c-1;N=d-1;R=h+g;m=D[R];y=p[R>>4];ca=q=!1;for(X=c;X<=this.s-c;X+=1)w=
X+c,u=X-c,w=this.f(P,X)-this.f(a,w+1)-this.f(a,u-1)+this.f(N,X)+this.f(C,X)-this.f(a,w)-this.f(a,u)+this.f(d,X),K=X+b,u=m[K],U=0,u<Y?1===J[w]&&(U=128,T+=1):0===I[w]?Z+=1:U=128,u=ba[u+U],m[K]=u,u>S&&(K<r&&(r=K),K>E&&(E=K),q=!0,y[K>>8]|=1<<(~(K>>4)&15),u>=Y&&(A+=1,ca=!0,K<t&&(t=K),K>H&&(H=K)));q&&(R<z&&(z=R),R>x&&(x=R));ca&&(R<n&&(n=R),R>v&&(v=R))}this.a.xa=A;this.a.Cb=T;this.a.kc=Z;0<A?(this.a.v.G=r,this.a.v.M=E,this.a.v.A=z,this.a.v.L=x,this.a.ea.G=t,this.a.ea.M=H,this.a.ea.A=n,this.a.ea.L=v):this.a.va=
0}else for(a=g-c;a<=k+c;a+=1){N=C[a];d=b-c;w=0;for(X=-c;X<=c;X+=1)for(J=y[X+c],m=D[a+X],h=-J;h<=J;h+=1)m[d+h]>=Y&&(w+=1);N[d]=w;for(d+=1;d<=f+c;){for(X=-c;X<=c;X+=1)J=y[X+c],m=D[a+X],m[d-J-1]>=Y&&--w,m[d+J]>=Y&&(w+=1);N[d]=w;d+=1}}-1!==this.a.ia&&(b<G+c&&(b=G+c),f>B-c&&(f=B-c),g<L+c&&(g=L+c),k>M-c&&(k=M-c));l===PatternManager.nf||l===PatternManager.xf&&6<c||this.Fa(b,g,f,k,e);1===this.a.ia&&this.wa(G,L,B,M)};c.prototype.cb=function(c){var d,a,b=this.a.v.G,f=this.a.v.M,g=this.a.v.A,e=this.a.v.L,F=
this.yc,J=c?this.Sn:this.Cb,I=c?this.Tn:this.Pp,u=F+F;var h=F+1;var C=this.K,l=this.type,m=this.a.width,r=0,E=this.a.height,z=0,x=m,t=r,H=E,n=z,v=this.a.oa,D=this.a.Va;var p=this.fa;var y=this.a.ma;var w=this.a.ra;var q=0,G=0,B=0,L=0,M=0,A=0,T=0,Z,Y=this.a.g+this.a.ca-1,S=this.a.ca,ba=0<this.a.ca?1:0;-1!==this.a.ia&&(q=Math.round((this.a.width-y)/2),B=Math.round((this.a.height-w)/2),G=q+y-1,L=B+w-1,1===J[0]&&(b=q+F,f=G-F,e=L-F,g=B+F),1===this.a.ia&&(b-q<F&&(f=G),G-f<F&&(b=q),L-e<F&&(g=B),g-B<F&&(e=
L),this.Ia(q,B,G,L)),b-q<F&&(b=q+F),G-f<F&&(f=G-F),L-e<F&&(e=L-F),g-B<F&&(g=B+F),l===PatternManager.nf?(b-=u,g-=u,f+=u,e+=u):l===PatternManager.xf&&6<F&&(b-=F,g-=F,f+=F,e+=F));if(l===PatternManager.nf){b-=u;g-=u;f+=u;e+=u;for(a=g;a<g+u;a+=1){var X=C[a];for(d=b;d<=f;d+=1)X[d]=0}for(d=b;d<b+u;d+=1)for(a=g+u;a<=e;a+=1)C[a][d]=0;for(a=g+u;a<=e;a+=1){var N=C[a-1];X=C[a];y=v[a];w=0;for(d=b+u;d<=f;d+=1)y[d]===Y&&(w+=1),X[d]=N[d]+w}b+=F;g+=F;f-=F;e-=F;-1!==this.a.ia&&(b+=u,g+=u,f-=u,e-=u);u=v[g][b];w=C[g+
F][b+F];u<=S?1===J[w]?(u=Y,A+=1):u>ba&&--u:u===Y?0===I[w]&&(--u,T+=1):u>ba&&--u;v[g][b]=u;0<u&&(r=m=b,z=E=g,D[g>>4][b>>8]|=1<<(~(b>>4)&15),u===Y&&(M+=1,t=x=b,n=H=g));var R=Z=!1;X=C[g+F];N=C[g+F];y=v[g];p=D[g>>4];for(d=b+1;d<=f;d+=1)u=y[d],w=X[d+F]-N[d-h],u<=S?1===J[w]?(u=Y,A+=1):u>ba&&--u:u===Y?0===I[w]&&(--u,T+=1):u>ba&&--u,y[d]=u,0<u&&(d<m&&(m=d),d>r&&(r=d),Z=!0,p[d>>8]|=1<<(~(d>>4)&15),u===Y&&(M+=1,d<x&&(x=d),d>t&&(t=d),R=!0));Z&&(z=E=g);R&&(n=H=g);p=y=!1;N=b+F;for(a=g+1;a<=e;a+=1)u=v[a][b],w=
C[a+F][N]-C[a-h][N],u<=S?1===J[w]?(u=Y,A+=1):u>ba&&--u:u===Y?0===I[w]&&(--u,T+=1):u>ba&&--u,v[a][b]=u,0<u&&(a<E&&(E=a),a>z&&(z=a),y=!0,D[a>>4][b>>8]|=1<<(~(b>>4)&15),u===Y&&(M+=1,a<H&&(H=a),a>n&&(n=a),p=!0));y&&(b<m&&(m=b),b>r&&(r=b));p&&(b<x&&(x=b),b>t&&(t=b));for(a=g+1;a<=e;a+=1){y=v[a];p=D[a>>4];X=C[a+F];var U=C[a-h];R=Z=!1;N=b+1+F;var ca=b+1-h;for(d=b+1;d<=f;d+=1)u=y[d],w=X[N]+U[ca]-X[ca]-U[N],u<=S?1===J[w]?(u=Y,A+=1):u>ba&&--u:u===Y?0===I[w]&&(--u,T+=1):u>ba&&--u,y[d]=u,0<u&&(p[d>>8]|=1<<(~(d>>
4)&15),d<m&&(m=d),d>r&&(r=d),Z=!0,u===Y&&(M+=1,R=!0,d<x&&(x=d),d>t&&(t=d))),N+=1,ca+=1;Z&&(a<E&&(E=a),a>z&&(z=a));R&&(a<H&&(H=a),a>n&&(n=a))}this.a.xa=M;this.a.Cb=A;this.a.kc=T;0<M?(this.a.v.G=m,this.a.v.M=r,this.a.v.A=E,this.a.v.L=z,this.a.ea.G=x,this.a.ea.M=t,this.a.ea.A=H,this.a.ea.L=n):this.a.va=0}else if(l===PatternManager.xf&&6<F){b-=F;f+=F;g-=F;e+=F;-1===this.a.ia&&(b-=F,f+=F,g-=F,e+=F);this.V=e-g+1;this.s=f-b+1;this.j=this.V+(this.s-1)/2|0;this.ja=this.s/2|0;for(h=0;h<this.j;h+=1)for(X=C[h],
y=v[h+g],a=h-1,w=a-1,N=0;N<=this.s;N+=1)X[N]=this.f(a,N-1)+this.f(a,N+1)-this.f(w,N),h<this.V&&y[N+b]===Y&&(X[N]+=1);for(h=F;h<=this.V-F;h+=1){a=h-1;ca=h+F;C=ca-1;d=h-F-1;X=d-1;U=h+g;y=v[U];p=D[U>>4];R=Z=!1;for(N=F;N<=this.s-F;N+=1){w=N+F;u=N-F;w=this.f(ca,N)-this.f(a,w+1)-this.f(a,u-1)+this.f(X,N)+this.f(C,N)-this.f(a,w)-this.f(a,u)+this.f(d,N);var P=N+b;u=y[P];u<=S?1===J[w]?(u=Y,A+=1):u>ba&&--u:u===Y?0===I[w]&&(--u,T+=1):u>ba&&--u;y[P]=u;0<u&&(p[P>>8]|=1<<(~(P>>4)&15),P<m&&(m=P),P>r&&(r=P),Z=!0,
u===Y&&(M+=1,R=!0,P<x&&(x=P),P>t&&(t=P)))}Z&&(U<E&&(E=U),U>z&&(z=U));R&&(U<H&&(H=U),U>n&&(n=U))}this.a.xa=M;this.a.Cb=A;this.a.kc=T;0<M?(this.a.v.G=m,this.a.v.M=r,this.a.v.A=E,this.a.v.L=z,this.a.ea.G=x,this.a.ea.M=t,this.a.ea.A=H,this.a.ea.L=n):this.a.va=0}else for(a=g-F;a<=e+F;a+=1){X=C[a];d=b-F;w=0;for(N=-F;N<=F;N+=1)for(J=p[N+F],y=v[a+N],h=-J;h<=J;h+=1)y[d+h]===Y&&(w+=1);X[d]=w;for(d+=1;d<=f+F;){for(N=-F;N<=F;N+=1)J=p[N+F],y=v[a+N],y[d-J-1]===Y&&--w,y[d+J]===Y&&(w+=1);X[d]=w;d+=1}}-1!==this.a.ia&&
(b<q+F&&(b=q+F),f>G-F&&(f=G-F),g<B+F&&(g=B+F),e>L-F&&(e=L-F));l===PatternManager.nf||l===PatternManager.xf&&6<F||this.Fa(b,g,f,e,c);1===this.a.ia&&this.wa(q,B,G,L)};c.prototype.AA=function(e){var d=!1;this.Dh&&1===(e&1)&&(d=!0);2===this.Fp?this.Sa(d):this.cb(d)};window.HROT=c})();(function(){function c(a,g,b,d,e,c,u,h){this.name=a;this.Pj=!1;this.rr=10;this.Jf=this.If=0;this.Ma=d;this.Ba=b;this.za=g;this.We=e;this.Wa=c;this.Hb=u;this.kh=h;this.Ik=!1;-1===this.Wa.J.red&&(this.Ik=!0);128<=(this.Ma.red+this.Ma.green+this.Ma.blue)/3?(this.If=ViewConstants.ev,this.Jf=ViewConstants.dv):(this.If=ViewConstants.Qo,this.Jf=ViewConstants.Po)}function e(a,g,b){this.red=a;this.green=g;this.blue=b}function d(a,g){this.H=a;this.J=g}function a(a,g,d,e,c){this.i=new Allocator;this.fg=!1;this.Em=
0;this.vh=[];this.uh=[];this.xh=[];this.wh=[];this.Pf=[];this.Ve=this.ub="";this.rc=255;this.vb=null;this.be=this.i.X(Uint8,65536,"Life.bitCounts16");this.lm();this.Ze=this.Ue=this.Sa=null;this.yb=this.Fb=this.Ob=this.ff=0;this.Qb=1;this.va=0;this.ra=this.ma=this.ia=-1;this.Fl=this.El=0;this.uu=this.Kq=!1;this.Wm=ViewConstants.Nu;this.Uc=[];this.gd=[];this.Uc[0]=this.i.X(Int32,b.Ap,"Life.boundaryX0");this.gd[0]=this.i.X(Int32,b.Ap,"Life.boundaryY0");this.oh=0;this.Ck=4294967295;this.Eb=!1;this.Te=
-1;this.ba=!1;this.zc=PatternManager.pk;this.R=!1;this.Re=!0;this.Od=this.Km=!1;this.g=-1;this.Wb=!1;this.ca=0;this.Ff=this.pa=!1;this.Ud=new SnapshotManager(this.i,this.be);this.Vj=b.gn;this.Fc=this.mb=this.Zw=!1;this.vj=this.qd=this.Nd=this.ea=this.v=null;this.title="LifeViewer";this.width=e;this.height=c;this.qn=2;this.rn=16;this.f=this.width>>4;this.j=this.height>>4;this.Dp=this.Ud.Vq((this.f-1>>4)+1,this.j,!0,0);this.F=g;this.B=d;this.kc=this.Cb=this.xa=0;this.Ua=b.Ua;this.tc=b.tc;this.Jd=b.Jd;
this.mi=b.mi;this.Wo=this.Ma=0;this.zj=this.we=this.N=1;this.Aj=30;this.angle=this.o=0;this.zoom=6;this.aa=this.da=0;this.wc=.1;this.Oa=0;this.na=1;this.Ec=this.Dc=0;this.s=.1;this.qg=littleEndian;this.La=[];this.de=this.hd=this.sc=this.ae=this.Lc=this.qc=this.Ia=this.lf=this.Dd=this.jd=this.re=this.ld=this.Tc=this.Nb=null;this.me=-1;this.Gd=this.Zc=this.th=null;this.context=a;this.hb=this.fb=0;this.qa=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.tileGrid");this.Ja=Array.Y(Uint16,this.j,(this.f-
1>>4)+1,0,this.i,"Life.nextTileGrid");this.uc=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.i,"Life.grid");this.Ub=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.i,"Life.nextGrid");this.gb=Array.Uf(this.uc,"Life.grid16");this.V=Array.Uf(this.Ub,"Life.nextGrid16");this.lh=this.i.X(Uint32,this.F,"Life.blankPixelRow");this.wa=this.i.X(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Of=this.i.X(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.tb=this.i.X(Uint16,this.f>>4,"Life.blankTileRow");
this.Mf=this.i.X(Uint8,this.width,"Life.blankColourRow");this.oa=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.colourGrid");this.K=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.smallColourGrid");this.Ca=Array.cd(this.K,1,"Life.smallColourGrid4");this.Fa=Array.cd(this.K,3,"Life.smallColourGrid8");this.cb=Array.cd(this.K,7,"Life.smallColourGrid16");this.sh=Array.Uf(this.oa,"Life.colourGrid16");this.Bg=this.Kg=this.hf=this.gf=this.fa=this.lc=null;this.eb=Array.Y(Uint16,this.j,
(this.f-1>>4)+1,0,this.i,"Life.colourTileGrid");this.Va=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.colourTileHistoryGrid");this.oe=this.kd=this.Bc=this.ja=null;this.Ra=this.i.X(Uint8,256,"Life.redChannel");this.Qa=this.i.X(Uint8,256,"Life.greenChannel");this.Na=this.i.X(Uint8,256,"Life.blueChannel");this.$f=this.i.X(Uint32,256,"Life.pixelColours");this.tg=this.i.X(Uint8,b.ur,"Life.indexLookup63");this.vg=this.i.X(Uint8,b.ur,"Life.indexLookup632");this.yh=this.i.X(Uint8,b.fv,"Life.indexLookupTri1");
this.zh=this.i.X(Uint8,b.fv,"Life.indexLookupTri2");this.bo=this.i.X(Uint8,2*(this.tc+1),"Life.colourLookup");this.ei=this.i.X(Uint8,2048,"Life.colourReset");this.vc=ViewConstants.Qo;this.sg=-1;this.ie=ViewConstants.Po;this.Qf=-1;this.kf=10;this.Jh=!0;this.lo=!1;this.lz=10;this.ce=this.i.X(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.W=8192;this.Nz=[0,0,48];this.Mz=[255,255,255];this.Lz=[255,255,255];this.Oz=[0,255,0];this.Pz=[255,0,0];this.ng=[0,0,48];this.mg=[255,255,255];this.lg=[255,
255,255];this.og=[0,255,0];this.pg=[255,0,0];this.Vb=new HROT(this.i,this);this.coords=this.i.X(Float32,1,"Life.coords");this.Cd=this.i.X(Uint32,1,"Life.cellColours");this.Ac=0}var b={Iz:[[1,1,1],[1,0,0],[0,1,0]],Hz:[[1,1,1],[0,0,1],[0,1,0]],Kz:[[0,1,0],[1,0,0],[1,1,1]],Jz:[[0,1,0],[0,0,1],[1,1,1]],xe:4096,ki:16,Ap:4096,Sz:512,ur:262144,gv:8192,fv:131072,gn:64,Iv:262144,Si:12,Ua:64,tc:127,Jd:63,mi:1,Pd:1,Td:2,Xd:4,Id:8,Pe:16,Qe:32,te:64,ue:128};c.prototype.cn=function(a,g,b){this.Pj=!0;this.rr=a;
this.If=g.red<<16|g.green<<8|g.blue;this.Jf=b.red<<16|b.green<<8|b.blue};c.prototype.QB=function(a,g){-1!==a?this.If=a:this.If=128<=(this.Ma.red+this.Ma.green+this.Ma.blue)/3?ViewConstants.ev:ViewConstants.Qo;-1!==g?this.Jf=g:this.Jf=128<=(this.Ma.red+this.Ma.green+this.Ma.blue)/3?ViewConstants.dv:ViewConstants.Po};c.prototype.Rz=function(a){var f=!0;a||this.Ba.H.Gr(this.Ba.J)&&this.za.H.Gr(this.za.J)&&this.za.H.Gr(this.Ma)&&(f=!1);return f};e.prototype.set=function(a){this.red=a.red;this.green=a.green;
this.blue=a.blue};e.prototype.Gr=function(a){var f=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(f=!0);return f};d.prototype.set=function(a){this.H.set(a.H);this.J.set(a.J)};a.prototype.rz=function(){var a=this.oa,g=this.qd,d=this.F/2,e=this.B/2,c,I,u=this.width/2-.25,h=this.height/2,C=this.coords,l=this.Cd,m=g.G,r=g.M;var E=g.A;var z=g.L,x=this.height/2-this.aa-this.yb+.5,t=this.width/2-this.da-this.Fb+.5,H=this.zoom*this.Qb,n=!this.mb&&!this.Fc;l.length!==b.xe&&(this.coords=this.i.X(Float32,
12*b.xe,"Life.coords"),this.Cd=this.i.X(Uint32,b.xe,"Life.cellColours"),C=this.coords,l=this.Cd);-1!==this.ia&&(0!==this.ma?(m=Math.round((this.width-this.ma)/2)-1,r=m+this.ma-1+2):(m=0,r=this.width-1),0!==this.ra?(E=Math.round((this.height-this.ra)/2)-1,z=E+this.ra-1+2):(E=0,z=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(I=g=0;E<=z;E+=1){var v=(E-h+x)*H+e;if(v>=-H&&v<this.B+H){v=a[E];var D=E-h;var p=t-u;for(c=m;c<=r;c+=1){var y=(c+p)*H+
d;if(y>=-H&&y<this.F+2*H){y=v[c];if(0<y){l[g]=(y<<b.ki)+I;y=c-u;var w=c+E&1;C[I]=y-1;C[I+1]=D+w;C[I+2]=y+1;C[I+3]=D+w;C[I+4]=y;C[I+5]=D+1-w;I+=6;g+=1}g===b.xe&&(this.Ac=g,this.df(!0,n),this.Fc&&!this.mb&&(this.context.strokeStyle="rgb("+this.Ra[0]+","+this.Na[0]+","+this.Qa[0]+")",this.df(!1,!1)),I=g=0)}}}}this.Ac=g;0<g&&(this.df(!0,n),this.Fc&&!this.mb&&(this.context.strokeStyle="rgb("+this.Ra[0]+","+this.Na[0]+","+this.Qa[0]+")",this.df(!1,!1)),I=0);if(this.mb){this.context.strokeStyle="rgb("+(this.vc>>
16)+","+(this.vc>>8&255)+","+(this.vc&255)+")";this.context.lineWidth=1;z=e/H-x+h|0;g=0;for(E=-e/H-x+h|0;E<=z;E+=1)if(v=(E-h+x)*H+e,v>=-H&&v<this.B+H)for(D=E-h,p=t-u,m=-d/H-p-H|0,r=d/H-p+H|0,c=m;c<=r;c+=1)y=(c+p)*H+d,y>=-H&&y<this.F+H&&(y=c-u,w=c+E&1,C[I]=y-1,C[I+1]=D+w,C[I+2]=y+1,C[I+3]=D+w,C[I+4]=y,C[I+5]=D+1-w,I+=6,g+=1),g===b.xe&&(this.Ac=g,this.df(!1,!1),I=g=0);this.Ac=g;0<g&&this.df(!1,!1)}};a.prototype.df=function(a,g){var f,d=this.context,c=this.width/2-this.da-this.Fb,e=this.height/2-this.aa-
this.yb,u=this.zoom*this.Qb,h=this.zoom*this.Qb*Math.sqrt(3),C=this.F/2,l=this.B/2,m=0,r=0,E=-1,z=this.coords,x=this.Ac,t=this.Cd,H=(1<<b.ki)-1;if(a&&t.sort){r=(b.xe<<b.ki)+256;for(f=x;f<b.xe;f+=1)t[f]=r;t.sort()}d.beginPath();a||(E=r=m=0);for(f=0;f<x;f+=1){a&&(r=t[f],m=r&H,r>>=b.ki);var n=z[m];var v=z[m+1];m+=2;var D=(v+e)*h+l;var p=(n+c)*u+C;var y=(z[m+1]-v)*h;var w=(z[m]-n)*u;m+=2;r!==E&&(E=r,0<f&&(a?(g&&d.stroke(),d.fill()):d.stroke(),d.beginPath()),a&&(d.fillStyle=this.Pf[r],g&&(d.strokeStyle=
this.Pf[r])));d.moveTo(p|0,D|0);d.lineTo(w+p|0,y+D|0);d.lineTo(w+p|0,D|0);y=(z[m+1]-v)*h;w=(z[m]-n)*u;d.lineTo(w+p|0,y+D|0);m+=2}a?(g&&d.stroke(),d.fill()):d.stroke()};a.prototype.oz=function(){var a=this.oa,g=this.qd,d=this.F/2,c=this.B/2,e,I=this.width/2-.25,u=this.height/2,h=Math.PI/3,C=.5/Math.cos(h/2)*1.16,l=Math.sqrt(3)/4/Math.cos(h/2)*1.16,m=[],r=[],E=this.coords,z=this.Cd,x=g.G,t=g.M;var H=g.A;var n=g.L,v=this.height/2-this.aa-this.yb+.5,D=this.width/2-this.da-this.Fb+.5-(this.height>>2)+
v/2,p=this.zoom*this.Qb,y=!this.mb&&!this.Fc;z.length!==b.xe&&(this.coords=this.i.X(Float32,12*b.xe,"Life.coords"),this.Cd=this.i.X(Uint32,b.xe,"Life.cellColours"),E=this.coords,z=this.Cd);-1!==this.ia&&(0!==this.ma?(x=Math.round((this.width-this.ma)/2)-1,t=x+this.ma-1+2):(x=0,t=this.width-1),0!==this.ra?(H=Math.round((this.height-this.ra)/2)-1,n=H+this.ra-1+2):(H=0,n=this.height-1));var w=h/2;for(g=0;5>=g;g+=1)m[g]=Math.cos(w)*l,r[g]=Math.sin(w)*C,m[g]+=r[g]/2,w+=h;h=m[0];C=r[0];l=m[1];var q=r[1];
var G=m[2];var B=r[2];var L=m[3];var M=r[3];var A=m[4];var T=r[4];m=m[5];r=r[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(w=g=0;H<=n;H+=1){var Z=(H+v-u)*p+c;if(Z>=-p&&Z<this.B+p){Z=a[H];var Y=H-u;var S=D-I-(Y+v)/2;for(e=x;e<=t;e+=1){var ba=(e+S)*p+d;ba>=-p&&ba<this.F+p&&(ba=Z[e],0<ba&&(z[g]=(ba<<b.ki)+w,ba=e-I,E[w]=h+ba,E[w+1]=C+Y,E[w+2]=l+ba,E[w+3]=q+Y,E[w+4]=G+ba,E[w+5]=B+Y,E[w+6]=L+ba,E[w+7]=M+Y,E[w+8]=A+ba,E[w+9]=T+Y,E[w+10]=m+ba,E[w+11]=r+Y,w+=12,
g+=1),g===b.xe&&(this.Ac=g,this.$e(!0,y,!1),this.Fc&&!this.mb&&(this.context.strokeStyle="rgb("+this.Ra[0]+","+this.Na[0]+","+this.Qa[0]+")",this.$e(!1,!1,!1)),w=g=0))}}}this.Ac=g;0<g&&(this.$e(!0,y,!1),this.Fc&&!this.mb&&(this.context.strokeStyle="rgb("+this.Ra[0]+","+this.Na[0]+","+this.Qa[0]+")",this.$e(!1,!1,!1)),w=0);if(this.mb){this.context.strokeStyle="rgb("+(this.vc>>16)+","+(this.vc>>8&255)+","+(this.vc&255)+")";this.context.lineWidth=1;g=0;n=c/p-v+u|0;for(H=-c/p-v+u|0;H<=n;H+=1)if(Z=(H+
v-u)*p+c,Z>=-p&&Z<this.B+p)for(Y=H-u,S=D-I-(Y+v)/2,x=-d/p-S-p|0,t=d/p-S+p|0,e=x;e<=t;e+=1)ba=(e+S)*p+d,ba>=-p&&ba<this.F+p&&(ba=e-I,E[w]=h+ba,E[w+1]=C+Y,E[w+2]=l+ba,E[w+3]=q+Y,E[w+4]=G+ba,E[w+5]=B+Y,E[w+6]=L+ba,E[w+7]=M+Y,w+=8,g+=1),g===b.xe&&(this.Ac=g,this.$e(!1,!1,!0),w=g=0);this.Ac=g;0<g&&this.$e(!1,!1,!0)}};a.prototype.$e=function(a,g,d){var f,e=this.context,c=this.width/2-this.da-this.Fb,k=this.height/2-this.aa-this.yb,h=this.zoom*this.Qb,C=this.F/2,l=this.B/2,m=0,r=0,E=12,z=0,x=-1,t=this.coords,
H=this.Ac,n=this.Cd,v=(1<<b.ki)-1;c=c+k/2+-(this.height>>2)+.5;k+=.5;if(a&&n.sort){z=(b.xe<<b.ki)+256;for(f=H;f<b.xe;f+=1)n[f]=z;n.sort()}e.beginPath();a||(r=E=d?8:12,x=z=m=0);for(f=0;f<H;f+=1){a&&(z=n[f],m=z&v,r=m+E,z>>=b.ki);d=t[m];var D=t[m+1];var p=D+k;var y=d+c-p/2;m+=2;p=p*h+l;y=y*h+C;var w=(t[m+1]-D)*h;var q=(t[m]-d)*h-w/2;m+=2;z!==x&&(x=z,0<f&&(a?(g&&e.stroke(),e.fill()):e.stroke(),e.beginPath()),a&&(e.fillStyle=this.Pf[z],g&&(e.strokeStyle=this.Pf[z])));e.moveTo(y,p);for(e.lineTo(q+y,w+p);m<
r;)w=(t[m+1]-D)*h,q=(t[m]-d)*h-w/2,m+=2,e.lineTo(q+y,w+p);r+=E}a?(g&&e.stroke(),e.fill()):e.stroke()};a.prototype.lu=function(a,g,d){var f="",b=g.Wb?g.qd:g.v,e=b.G,c=b.M,k=b.L,C=b.A,l=c-e+1,m=k-C+1,r=0,E=[];var z=0;var x=!1,t=this.oa,H=null;g.ba&&(0<e&&0!==(e&1)&&(--e,l+=1),0<C&&0!==(C&1)&&(--C,m+=1));if(2>=g.g&&!g.Hh)x=!0,E[0]="b",E[1]="o";else for(g.Hh?z=7:z=g.g,E[0]=".",b=0;b<z-1;b+=1)E[b+1]=24<=b?String.fromCharCode(112+(b/24|0)-1)+String.fromCharCode(65+b%24):String.fromCharCode(65+b);d&&(f+=
g.ub);0===this.xa&&(m=l=0,k=C-1);f+="x = "+l+", y = "+m+", rule = ";f="LifeHistory"===a.Yf?g.Hh?f+a.Yf:f+"Life":g.Wb&&!g.Hh?f+a.Zf.substr(0,a.Zf.length-7):f+a.Zf;f+=a.ps;f+="\n";for(a=f.length;C<=k;){b=e;x?(H=t[C],z=H[b],l=z<=this.Jd||z===this.rc?0:1):l=g.getState(b,C,!1);m=1;for(b+=1;b<=c+1;)b>c?z=-1:x?(z=H[b],z=z<=this.Jd||z===this.rc?0:1):z=g.getState(b,C,!1),z!==l?((-1!==z||0!==l)&&0<r&&(1<r&&(f+=r),f+="$",69<=f.length-a&&(f+="\n",a=f.length),r=0),0<l?(1<m&&(f+=m),f+=E[l]):b<=c&&(1<m&&(f+=m),
f+=E[l]),69<=f.length-a&&(f+="\n",a=f.length),m=1,l=z):m+=1,b+=1;r+=1;C+=1}f+="!\n";d&&(f+=g.Ve);return f};a.prototype.Nw=function(a,g,b){var f=0,d=0,e=this.gb,c=this.qa,k=this.oa,C=this.eb,l=this.Va,m=this.v,r=this.qd,E,z=this.ba?1:0,x=this.ba?14:15;0!==(this.o&1)&&(e=this.V,c=this.Ja);for(;f<a.length;){var t=a[f]+g;var H=a[f+1]+b;if(t===(t&this.fb)&&H===(H&this.hb)){d=a[f+2];var n=1<<(~t&15);var v=1<<(~(t>>4)&15);(E=1===(d&1))?(0===(e[H][t>>4]&n)&&(this.xa+=1),k[H][t]=this.Ua,C[H>>4][t>>8]|=v,l[H>>
4][t>>8]|=v,e[H][t>>4]|=n,c[H>>4][t>>8]|=v,n=t&15,0<t&&n<=z?(t-=n+1,c[H>>4][t>>8]|=1<<(~(t>>4)&15),t+=n+1):t<this.width-1&&n>=x&&(t+=16-n,c[H>>4][t>>8]|=1<<(~(t>>4)&15),t-=16-n),0<H&&0===(H&15)?(--H,c[H>>4][t>>8]|=v,0<t&&n<=z?(t-=n+1,c[H>>4][t>>8]|=1<<(~(t>>4)&15),t+=n+1):t<this.width-1&&n>=x&&(t+=16-n,c[H>>4][t>>8]|=1<<(~(t>>4)&15),t-=16-n),H+=1):H<this.height-1&&15===(H&15)&&(H+=1,c[H>>4][t>>8]|=v,0<t&&n<=z?(t-=n+1,c[H>>4][t>>8]|=1<<(~(t>>4)&15),t+=n+1):t<this.width-1&&n>=x&&(t+=16-n,c[H>>4][t>>
8]|=1<<(~(t>>4)&15),t-=16-n),--H)):(0!==(e[H][t>>4]&n)&&--this.xa,k[H][t]=this.Ma,C[H>>4][t>>8]|=v,l[H>>4][t>>8]|=v,e[H][t>>4]&=~n)}0<d&&(t<m.G&&(m.G=t),t>m.M&&(m.M=t),H<m.A&&(m.A=H),H>m.L&&(m.L=H),t<r.G&&(r.G=t),t>r.M&&(r.M=t),H<r.A&&(r.A=H),H>r.L&&(r.L=H));f+=3}};a.prototype.Th=function(a,g,d,c){var f=this.gb,e=this.qa,k=this.oa,F=this.eb,C=this.Va,l=this.lc,m=this.v,r=this.ea,E=this.qd;var z=Math.round((this.width-this.ma)/2);var x=Math.round((this.height-this.ra)/2);var t=z+this.ma-1,H=x+this.ra-
1,n=!0,v=this.ba?1:0,D=this.ba?14:15;-1!==this.ia&&(0===this.ma&&(z=0,t=this.width-1),0===this.ra&&(x=0,H=this.height-1));if(a!==(a&this.fb)||g!==(g&this.hb)){for(n=!1;this.width<this.W&&(a!==(a&this.fb)||g!==(g&this.hb));)this.sr(),a+=this.width>>2,g+=this.height>>2;a===(a&this.fb)&&g===(g&this.hb)&&(n=!0,f=this.gb,e=this.qa,k=this.oa,F=this.eb,C=this.Va,l=this.lc)}n&&(-1===this.ia||a>=z&&a<=t&&g>=x&&g<=H)&&(0!==(this.o&1)&&(f=this.V,e=this.Ja),x=1<<(~a&15),z=1<<(~(a>>4)&15),this.pa?(l=k[g][a],2===
this.g?(e=this.Ua,1===d&&(d=this.Ua)):(e=this.g-1+this.ca,0<d&&(d=this.ca+d)),k[g][a]=d,F[g>>4][a>>8]|=z,C[g>>4][a>>8]|=z,l!==e&&d===e?this.xa+=1:l===e&&d!==e&&--this.xa):((t=2>=this.g?1===(d&1):d===this.g-1)?(0===(f[g][a>>4]&x)&&(this.xa+=1),k[g][a]=this.Ua,F[g>>4][a>>8]|=z,C[g>>4][a>>8]|=z,f[g][a>>4]|=x,e[g>>4][a>>8]|=z,F=a&15,0<a&&F<=v?(a-=F+1,e[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=F+1):a<this.width-1&&F>=D&&(a+=16-F,e[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-F),0<g&&0===(g&15)?(--g,e[g>>4][a>>8]|=1<<(~(a>>
4)&15),0<a&&F<=v?(a-=F+1,e[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=F+1):a<this.width-1&&F>=D&&(a+=16-F,e[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-F),g+=1):g<this.height-1&&15===(g&15)&&(g+=1,e[g>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&F<=v?(a-=F+1,e[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=F+1):a<this.width-1&&F>=D&&(a+=16-F,e[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-F),--g)):(0!==(f[g][a>>4]&x)&&--this.xa,k[g][a]=c?this.Ma:this.Jd,F[g>>4][a>>8]|=z,C[g>>4][a>>8]|=z,f[g][a>>4]&=~x),this.Wb&&l&&(2===d?k[g][a]=b.mi:l[g][a]=0===d?0:ViewConstants.qb[d]+
128),2<this.g&&(0<d&&(d=this.ca+d),k[g][a]=d)),0<d?(a<m.G&&(m.G=a),a>m.M&&(m.M=a),g<m.A&&(m.A=g),g>m.L&&(m.L=g),a<E.G&&(E.G=a),a>E.M&&(E.M=a),g<E.A&&(E.A=g),g>E.L&&(E.L=g),this.pa&&d===this.g-1+this.ca&&(a<r.G&&(r.G=a),a>r.M&&(r.M=a),g<r.A&&(r.A=g),g>r.L&&(r.L=g))):0<this.xa&&(a===m.G||a===m.M||g===m.L||g===m.A)&&a>=m.G&&a<=m.M&&g>=m.A&&g<=m.L&&this.On(a,g))};a.prototype.fy=function(a){var f=1<<b.Si;a?(this.Sa=Array.Y(Uint32,1,f,0,this.i,"Life.popGraphData"),this.Ue=Array.Y(Uint32,1,f,0,this.i,"Life.birthGraphData"),
this.Ze=Array.Y(Uint32,1,f,0,this.i,"Life.deathGraphData"),this.ff=f):(this.Sa=Array.Y(Uint32,0,0,0,this.i,"Life.popGraphData"),this.Ue=Array.Y(Uint32,0,0,0,this.i,"Life.birthGraphData"),this.Ze=Array.Y(Uint32,0,0,0,this.i,"Life.deathGraphData"),this.ff=0)};a.prototype.getState=function(a,g,d){var f=0,b=ViewConstants.qb[3]+128,e=ViewConstants.qb[4]+128,c=ViewConstants.qb[5]+128,k=ViewConstants.qb[6]+128,C=Math.round((this.width-this.ma)/2),l=Math.round((this.height-this.ra)/2),m=C+this.ma-1,r=l+this.ra-
1;a===(a&this.fb)&&g===(g&this.hb)&&(f=this.oa[g][a],d||2<this.g?2<this.g&&0<f&&!this.Eb&&(f<=this.ca?f=0:(-1!==this.ia&&(0===this.ma&&(C=0,m=this.width-1),0===this.ra&&(l=0,r=this.height-1)),f=-1===this.ia||f!==this.rc||a>=C&&a<=m&&g>=l&&g<=r?this.g+this.ca-f:0)):this.lc?(a=this.lc[g][a],a===e||a===k?(f>=this.Ua&&(a=b),f=ViewConstants.qb.indexOf(a-128)):a===b||a===c?(f<this.Ua&&(a=e),f=ViewConstants.qb.indexOf(a-128)):f=f===this.Ma?0:f<=this.Jd?2:1):f=f<=this.Jd||f===this.rc?0:1);return f};a.prototype.pn=
function(a){var f,d,b,e=a.length,c=a[0].length,u=this.be,h=0;for(f=0;f<e;f+=1){var C=a[f];for(d=0;d<c;d+=1)(b=C[d])&&(h+=u[b])}return h};a.prototype.bk=function(a,g,d,e){var f=this.Ud.dd.length,c=this.Ud.dC(a);f!==this.Ud.dd.length&&(this.Vj-=b.gn);if(c){this.sj(c);for(e.hs();this.o<a-1;)this.va=1,this.Mi(!1,!0,d),this.Dj(),e.Zj();this.o<a&&(this.va=1,this.Mi(g,!0,d),this.Dj(),e.Zj());e.Lh&&(this.va=1)}};a.prototype.sj=function(a){var f,d=this.wa,e=this.Mf;this.o=a.o;if(0!==(this.o&1)){var b=this.Ub;
var c=this.uc;var u=this.Ja;var h=this.qa}else b=this.uc,c=this.Ub,u=this.qa,h=this.Ja;var C=b.length;for(f=0;f<C;f+=1)b[f].set(d),this.oa[f].set(e),this.K[f].set(e);Array.gg(b,c);Array.gg(this.Va,this.eb);a.AB(b,u,this);a.zB(this.oa,this.Va,this);Array.gg(u,h);Array.gg(b,c);this.v.G=a.v.G;this.v.A=a.v.A;this.v.M=a.v.M;this.v.L=a.v.L;this.ea.G=a.ea.G;this.ea.A=a.ea.A;this.ea.M=a.ea.M;this.ea.L=a.ea.L;this.xa=a.xa;this.Cb=a.Cb;this.kc=a.kc;this.va=a.va};a.prototype.Ym=function(){if(0!==(this.o&1)){var a=
this.Ub;var g=this.Ja}else a=this.uc,g=this.qa;this.uj(!1,a,g)};a.prototype.Ep=function(a){this.sj(this.Dp);this.Ud.reset();this.Vj=b.gn;a||this.Ym()};a.prototype.uj=function(a,g,d){this.Ud.Ym(g,d,this.oa,this.Va,this.lc,this.v,this.ea,this.xa,this.Cb,this.kc,this.o,(this.f-1>>4)+1,this.j,this,a,this.va)};a.prototype.LB=function(a){this.Ud.reset();this.uj(!0,this.uc,this.qa);a||this.Ym()};a.prototype.uB=function(){var a=this.lc,g=this.ja;this.height=this.width=512;this.pa&&this.Vb.resize(this.width,
this.height);this.uc=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.i,"Life.grid");this.Ub=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.i,"Life.nextGrid");this.gb=Array.Uf(this.uc,"Life.grid16");this.V=Array.Uf(this.Ub,"Life.nextGrid16");g&&(this.ja=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.i,"Life.state6Mask"),this.kd=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.i,"Life.state6Alive"),this.Bc=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.i,"Life.state6Cells"));
this.f=this.width>>4;this.j=this.height>>4;g&&(this.oe=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.state6TileGrid"));this.qa=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.tileGrid");this.Ja=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.nextTileGrid");this.eb=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.colourTileGrid");this.Va=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.colourTileHistoryGrid");this.wa=this.i.X(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Of=
this.i.X(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.tb=this.i.X(Uint16,this.f>>4,"Life.blankTileRow");this.Mf=this.i.X(Uint8,this.width,"Life.blankColourRow");this.ce=this.i.X(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.oa=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.colourGrid");this.K=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.smallColourGrid");this.Ca=Array.cd(this.K,1,"Life.smallColourGrid4");this.Fa=Array.cd(this.K,3,"Life.smallColourGrid8");this.cb=
Array.cd(this.K,7,"Life.smallColourGrid16");this.sh=Array.Uf(this.oa,"Life.colourGrid16");a&&(this.lc=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.overlayGrid"),this.fa=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.smallOverlayGrid"),this.gf=Array.cd(this.fa,1,"Life.smallColourGrid4"),this.hf=Array.cd(this.fa,3,"Life.smallColourGrid8"),this.Kg=Array.cd(this.fa,7,"Life.smallColourGrid16"),this.Bg=Array.Uf(this.lc,"Life.overlayGrid16"));this.fb=this.width-1;this.hb=this.height-
1;this.Ud.zw((this.f-1>>4)+1,this.j,0)};a.prototype.sr=function(){var a=this.uc,g=this.Ub,d=this.oa,b=this.K,e=this.lc,c=this.fa,u=this.ja,h=this.kd,C=this.Bc,l=this.oe,m=this.qa,r=this.Ja,E=this.eb,z=this.Va,x=this.height,t=this.j,H=this.width>>1,n=this.height>>1,v;if(this.width<this.W){this.width*=2;this.height*=2;this.pa&&this.Vb.resize(this.width,this.height);this.uc=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.i,"Life.grid");this.Ub=Array.Y(Uint8,this.height,(this.width-1>>3)+1,0,this.i,
"Life.nextGrid");this.gb=Array.Uf(this.uc,"Life.grid16");this.V=Array.Uf(this.Ub,"Life.nextGrid16");u&&(this.ja=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.i,"Life.state6Mask"),this.kd=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.i,"Life.state6Alive"),this.Bc=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.i,"Life.state6Cells"));this.f=this.width>>4;this.j=this.height>>4;u&&(this.oe=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.state6TileGrid"));this.qa=Array.Y(Uint16,
this.j,(this.f-1>>4)+1,0,this.i,"Life.tileGrid");this.Ja=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.nextTileGrid");this.eb=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.colourTileGrid");this.Va=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.colourTileHistoryGrid");this.wa=this.i.X(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Of=this.i.X(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.tb=this.i.X(Uint16,this.f>>4,"Life.blankTileRow");this.Mf=this.i.X(Uint8,this.width,"Life.blankColourRow");
this.ce=this.i.X(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.oa=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.colourGrid");this.K=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.smallColourGrid");this.Ca=Array.cd(this.K,1,"Life.smallColourGrid4");this.Fa=Array.cd(this.K,3,"Life.smallColourGrid8");this.cb=Array.cd(this.K,7,"Life.smallColourGrid16");this.sh=Array.Uf(this.oa,"Life.colourGrid16");e&&(this.lc=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.overlayGrid"),
this.fa=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.smallOverlayGrid"),this.gf=Array.cd(this.fa,1,"Life.smallColourGrid4"),this.hf=Array.cd(this.fa,3,"Life.smallColourGrid8"),this.Kg=Array.cd(this.fa,7,"Life.smallColourGrid16"),this.Bg=Array.Uf(this.lc,"Life.overlayGrid16"));this.fb=this.width-1;this.hb=this.height-1;for(v=0;v<x;v+=1)this.uc[v+n].set(a[v],H>>3),this.Ub[v+n].set(g[v],H>>3),this.oa[v+n].set(d[v],H),this.K[v+n].set(b[v],H),e&&c&&(this.lc[v+n].set(e[v],H),this.fa[v+n].set(c[v],
H)),u&&h&&C&&(this.ja[v+n].set(u[v],H>>4),this.kd[v+n].set(h[v],H>>4),this.Bc[v+n].set(C[v],H>>4));n=t>>1;for(v=0;v<t;v+=1)l&&this.oe[v+n].set(l[v],this.oe[v].length>>2),this.qa[v+n].set(m[v],this.qa[v].length>>2),this.Ja[v+n].set(r[v],this.Ja[v].length>>2),this.eb[v+n].set(E[v],this.eb[v].length>>2),this.Va[v+n].set(z[v],this.Va[v].length>>2);H=this.width>>2;n=this.height>>2;this.Ud.zw((this.f-1>>4)+1,this.j,H);this.da+=H;this.aa+=n;this.R&&(this.da-=n/2|0);this.v.G+=H;this.v.M+=H;this.v.L+=n;this.v.A+=
n;this.ea.G+=H;this.ea.M+=H;this.ea.L+=n;this.ea.A+=n;this.Nd.G+=H;this.Nd.M+=H;this.Nd.L+=n;this.Nd.A+=n;this.qd.G+=H;this.qd.M+=H;this.qd.L+=n;this.qd.A+=n}};a.prototype.xy=function(a){var f=this.v,d=this.width,b=this.height,e=!1;d<this.W&&this.va&&(f.G<=a||f.A<=a||f.M>=d-a||f.L>=b-a)&&(this.sr(),e=!0);return e};a.prototype.lm=function(){var a,g,d=this.be;for(a=0;65536>a;a+=1){var e=a;for(g=0;e;g+=1)e&=e-1;d[a]=g}};a.prototype.mm=function(){var a,g,d=this.ei,e=this.Ua;for(a=0;256>a;a+=1)for(g=0;8>
g;g+=1)d[(a<<3)+g]=a&1<<7-g?e:0};a.prototype.wB=function(a,g){var f,d=0,e=this.be;var b=this.v;var c=b.G,h=b.M,C=b.L;b=b.A;if(this.pa)for(;b<=C;b+=1){var l=g[b];for(f=c;f<=h;f+=1)0<l[f]&&(d+=1)}else for(c>>=4,h>>=4;b<=C;b+=1)for(l=a[b],f=c;f<=h;f+=1)g=e[l[f]],d+=g;this.xa=d;this.kc=this.Cb=0};a.prototype.yw=function(a,g){var f=this.context;var d=this.qg?4278190080:255;this.F=a;this.B=g;this.th=this.Zc=this.Gd=null;this.Gd=f.createImageData(f.canvas.width,f.canvas.height);this.Gd.data.buffer?this.Zc=
new Uint32Array(this.Gd.data.buffer):(this.Zc=new Uint32Array(this.Gd.data.length>>2),this.th=new Uint8Array(this.Zc.buffer));this.lh=this.i.X(Uint32,a,"Life.blankPixelRow");for(g=0;g<a;g+=1)this.lh[g]=d;this.tk()};a.prototype.Ey=function(a,g,d){var f,b,e=this.oa,c=a.width,k=a.height,C=this.fb,l=this.hb,m=this.mi,r=ViewConstants.qb[2];for(b=0;b<k;b+=1){var E=a.le[b];var z=e[b+d&l];for(f=0;f<c;f+=1)E[f]===r&&(z[f+g&C]=m)}};a.prototype.Dz=function(){this.Bg=this.fa=this.lc=null};a.prototype.Ny=function(){this.lc=
Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.overlayGrid");this.fa=Array.Y(Uint8,this.height,this.width,this.Ma,this.i,"Life.smallOverlayGrid");this.gf=Array.cd(this.fa,1,"Life.smallOverlayGrid4");this.hf=Array.cd(this.fa,3,"Life.smallOverlayGrid8");this.Kg=Array.cd(this.fa,7,"Life.smallOverlayGrid16");this.Bg=Array.Uf(this.lc,"Life.overlayGrid16")};a.prototype.Ez=function(){this.oe=this.Bc=this.kd=this.ja=null};a.prototype.Qy=function(){this.ja=Array.Y(Uint16,this.height,(this.width-
1>>4)+1,0,this.i,"Life.state6Mask");this.kd=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.i,"Life.state6Alive");this.Bc=Array.Y(Uint16,this.height,(this.width-1>>4)+1,0,this.i,"Life.state6Cells");this.oe=Array.Y(Uint16,this.j,(this.f-1>>4)+1,0,this.i,"Life.state6TileGrid")};a.prototype.VA=function(){var a,g,d=this.fb,b=this.hb,e=this.oe,c=ViewConstants.qb[6]+128;for(g=0;g<this.ja.length;g+=1)this.ja[g].set(this.Of),this.Bc[g].set(this.Of),this.kd[g].set(this.Of);for(g=0;g<this.oe.length;g+=
1)this.oe[g].set(this.tb);for(g=1;g<this.height-1;g+=1){var u=this.lc[g];var h=this.ja[g-1&b];var C=this.ja[g&b];var l=this.ja[g+1&b];var m=this.Bc[g&b];var r=e[(g-1&b)>>4];var E=e[(g&b)>>4];var z=e[(g+1&b)>>4];for(a=1;a<=this.width-1;a+=1)if(u[a]===c){var x=a&d;m[x>>4]|=1<<(~x&15);h[x>>4]|=1<<(~x&15);C[x>>4]|=1<<(~x&15);l[x>>4]|=1<<(~x&15);r[x>>8]|=1<<(~(x>>4)&15);E[x>>8]|=1<<(~(x>>4)&15);z[x>>8]|=1<<(~(x>>4)&15);x=a-1&d;h[x>>4]|=1<<(~x&15);C[x>>4]|=1<<(~x&15);l[x>>4]|=1<<(~x&15);r[x>>8]|=1<<(~(x>>
4)&15);E[x>>8]|=1<<(~(x>>4)&15);z[x>>8]|=1<<(~(x>>4)&15);x=a+1&d;h[x>>4]|=1<<(~x&15);C[x>>4]|=1<<(~x&15);l[x>>4]|=1<<(~x&15);r[x>>8]|=1<<(~(x>>4)&15);E[x>>8]|=1<<(~(x>>4)&15);z[x>>8]|=1<<(~(x>>4)&15)}}};a.prototype.UA=function(a,g,d){var f,b,e=a.width,c=a.height,k=this.fb,C=this.hb,l=this.oe;for(b=0;b<c;b+=1){var m=a.le[b];var r=this.ja[b-1+d&C];var E=this.ja[b+d&C];var z=this.ja[b+1+d&C];var x=this.Bc[b+d&C];var t=l[(b-1+d&C)>>4];var H=l[(b+d&C)>>4];var n=l[(b+1+d&C)>>4];for(f=0;f<e;f+=1)if(6===
m[f]){var v=f+g&k;x[v>>4]|=1<<(~v&15);r[v>>4]|=1<<(~v&15);E[v>>4]|=1<<(~v&15);z[v>>4]|=1<<(~v&15);t[v>>8]|=1<<(~(v>>4)&15);H[v>>8]|=1<<(~(v>>4)&15);n[v>>8]|=1<<(~(v>>4)&15);v=f-1+g&k;r[v>>4]|=1<<(~v&15);E[v>>4]|=1<<(~v&15);z[v>>4]|=1<<(~v&15);t[v>>8]|=1<<(~(v>>4)&15);H[v>>8]|=1<<(~(v>>4)&15);n[v>>8]|=1<<(~(v>>4)&15);v=f+1+g&k;r[v>>4]|=1<<(~v&15);E[v>>4]|=1<<(~v&15);z[v>>4]|=1<<(~v&15);t[v>>8]|=1<<(~(v>>4)&15);H[v>>8]|=1<<(~(v>>4)&15);n[v>>8]|=1<<(~(v>>4)&15)}}};a.prototype.vw=function(a){var f,d=
this.oa,b=this.ei;var e=this.v;var c=e.G>>4,u=e.M>>4,h=e.L;for(f=e.A;f<=h;f+=1){var C=a[f];var l=d[f];var m=c<<4;for(e=c;e<=u;e+=1){var r=C[e]>>8<<3;l[m]=b[r];m+=1;l[m]=b[r+1];m+=1;l[m]=b[r+2];m+=1;l[m]=b[r+3];m+=1;l[m]=b[r+4];m+=1;l[m]=b[r+5];m+=1;l[m]=b[r+6];m+=1;l[m]=b[r+7];m+=1;r=(C[e]&255)<<3;l[m]=b[r];m+=1;l[m]=b[r+1];m+=1;l[m]=b[r+2];m+=1;l[m]=b[r+3];m+=1;l[m]=b[r+4];m+=1;l[m]=b[r+5];m+=1;l[m]=b[r+6];m+=1;l[m]=b[r+7];m+=1}}};a.prototype.ph=function(a){var f=[],b,d;for(d=0;7>d;d+=1)for(f[d]=
[],b=0;7>b;b+=1)f[d][b]=0;for(d=0;3>d;d+=1)for(b=0;3>b;b+=1)f[d+2][b+2]=a[d][b];return f};a.prototype.Cl=function(){this.vh=this.ph(b.Iz);this.uh=this.ph(b.Hz);this.xh=this.ph(b.Kz);this.wh=this.ph(b.Jz)};a.prototype.Vz=function(a,g,b){var f=this.Ma,d=this.wa,e=this.Mf,c=this.lh,k=this.tb;var C=this.qg?4278190080:255;this.Ff=!1;this.fb=this.width-1;this.hb=this.height-1;this.v=new BoundingBox(0,0,this.width-1,this.height-1);this.ea=new BoundingBox(0,0,this.width-1,this.height-1);this.Nd=new BoundingBox(0,
0,this.width-1,this.height-1);this.qd=new BoundingBox(0,0,this.width-1,this.height-1);this.vj=new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.mm();AliasManager.Md();this.yw(g,b);b=(this.width-1>>3)+1;for(a=0;a<b;a+=1)d[a]=0;b=this.width;for(a=0;a<b;a+=1)e[a]=f;b=this.f>>4;for(a=0;a<b;a+=1)k[a]=0;for(a=0;a<g;a+=1)c[a]=C;this.Cl()};a.prototype.Jy=function(){var a=0;this.La[a]=new c("Mono",new d(new e(0,0,0),new e(0,0,0)),new d(new e(255,255,255),new e(255,255,255)),new e(0,0,0),
new e(255,255,255),new d(new e(0,0,0),new e(-1,-1,-1)),new d(new e(0,0,0),new e(0,0,0)),new e(0,0,0));a+=1;this.La[a]=new c("Blues",new d(new e(0,0,47),new e(0,0,255)),new d(new e(0,255,255),new e(255,255,255)),new e(0,0,0),new e(0,255,255),new d(new e(0,0,255),new e(-1,-1,-1)),new d(new e(0,0,47),new e(0,0,128)),new e(0,0,0));a+=1;this.La[a]=new c("Fire",new d(new e(32,0,0),new e(160,0,0)),new d(new e(255,144,0),new e(255,255,0)),new e(0,0,0),new e(255,144,0),new d(new e(240,0,0),new e(-1,-1,-1)),
new d(new e(32,0,0),new e(160,0,0)),new e(0,0,0));a+=1;this.La[a]=new c("Poison",new d(new e(0,24,0),new e(0,128,0)),new d(new e(0,255,255),new e(255,255,255)),new e(0,0,0),new e(0,255,255),new d(new e(0,192,0),new e(-1,-1,-1)),new d(new e(0,24,0),new e(0,128,0)),new e(0,0,0));a+=1;this.La[a]=new c("Yellow",new d(new e(0,47,0),new e(128,0,128)),new d(new e(255,255,0),new e(255,255,255)),new e(0,32,128),new e(255,255,0),new d(new e(192,64,64),new e(-1,-1,-1)),new d(new e(0,47,0),new e(128,0,128)),
new e(0,32,128));a+=1;this.La[a]=new c("Gray",new d(new e(16,16,16),new e(104,104,104)),new d(new e(176,176,176),new e(240,240,240)),new e(0,0,0),new e(240,240,240),new d(new e(160,160,160),new e(-1,-1,-1)),new d(new e(16,16,16),new e(104,104,104)),new e(0,0,0));a+=1;this.La[a]=new c("Inverse",new d(new e(255,255,255),new e(255,255,255)),new d(new e(0,0,0),new e(0,0,0)),new e(255,255,255),new e(0,0,0),new d(new e(255,255,255),new e(-1,-1,-1)),new d(new e(255,255,255),new e(255,255,255)),new e(255,
255,255));a+=1;this.La[a]=new c("Day",new d(new e(240,240,240),new e(0,255,255)),new d(new e(0,0,255),new e(0,0,0)),new e(255,255,255),new e(0,0,255),new d(new e(0,255,255),new e(-1,-1,-1)),new d(new e(240,240,240),new e(0,192,192)),new e(255,255,255));a+=1;this.La[a]=new c("Occupied",new d(new e(240,240,240),new e(240,240,240)),new d(new e(240,240,240),new e(240,240,240)),new e(0,0,0),new e(240,240,240),new d(new e(240,240,240),new e(240,240,240)),new d(new e(240,240,240),new e(240,240,240)),new e(0,
0,0));a+=1;this.La[a]=new c("Red",new d(new e(160,0,0),new e(160,0,0)),new d(new e(240,240,240),new e(240,240,240)),new e(0,0,0),new e(255,255,255),new d(new e(160,160,160),new e(160,160,160)),new d(new e(160,0,0),new e(160,0,0)),new e(0,0,0));a+=1;this.La[a]=new c("LifeHistory",new d(new e(0,0,96),new e(0,0,160)),new d(new e(0,240,0),new e(16,255,16)),new e(0,0,0),new e(16,255,16),new d(new e(0,128,160),new e(-1,-1,-1)),new d(new e(0,0,96),new e(0,0,160)),new e(0,0,0));a+=1;this.La[a]=new c("Generations",
new d(new e(64,0,0),new e(255,0,0)),new d(new e(255,255,0),new e(255,255,255)),new e(0,0,0),new e(255,255,0),new d(new e(255,0,0),new e(-1,-1,-1)),new d(new e(64,0,0),new e(128,0,0)),new e(0,0,0));a+=1;this.La[a]=new c("Golly",new d(new e(48,48,48),new e(48,48,48)),new d(new e(255,255,255),new e(255,255,255)),new e(48,48,48),new e(255,255,0),new d(new e(255,0,0),new e(-1,-1,-1)),new d(new e(48,48,48),new e(48,48,48)),new e(48,48,48));this.La[a].cn(10,new e(80,80,80),new e(112,112,112));a+=1;this.La[a]=
new c("MCell",new d(new e(0,0,0),new e(0,0,0)),new d(new e(255,255,0),new e(255,255,0)),new e(0,0,0),new e(255,255,0),new d(new e(128,128,0),new e(128,128,128)),new d(new e(0,0,0),new e(0,0,0)),new e(0,0,0));this.La[a].cn(5,new e(64,0,0),new e(99,3,1));a+=1;this.La[a]=new c("Catagolue",new d(new e(160,221,204),new e(160,221,204)),new d(new e(0,0,0),new e(0,0,0)),new e(192,255,238),new e(0,0,0),new d(new e(96,192,139),new e(2,129,2)),new d(new e(160,221,204),new e(160,221,204)),new e(192,255,238));
this.La[a].cn(0,new e(160,221,204),new e(160,221,204));a+=1;this.La[a]=new c("Caterer",new d(new e(54,57,62),new e(54,57,62)),new d(new e(255,255,255),new e(255,255,255)),new e(54,57,62),new e(255,170,0),new d(new e(255,85,0),new e(-1,-1,-1)),new d(new e(54,57,62),new e(54,57,62)),new e(54,57,62));this.La[a].cn(0,new e(0,0,0),new e(0,0,0));a+=1;this.La[a]=new c("Life32",new d(new e(255,255,255),new e(255,255,255)),new d(new e(0,0,128),new e(0,0,128)),new e(255,255,255),new e(0,0,128),new d(new e(0,
0,64),new e(-1,-1,-1)),new d(new e(255,255,255),new e(255,255,255)),new e(255,255,255));this.La[a].cn(5,new e(192,192,192),new e(128,128,128));this.La[a+1]=new c(Keywords.pl,new d(new e(0,0,0),new e(0,0,0)),new d(new e(0,0,0),new e(0,0,0)),new e(0,0,0),new e(0,0,0),new d(new e(0,0,0),new e(0,0,0)),new d(new e(0,0,0),new e(0,0,0)),new e(0,0,0));this.me=this.La.length-1;this.Tc=new d(new e(0,0,0),new e(0,0,0));this.Nb=new d(new e(0,0,0),new e(0,0,0));this.ld=new e(0,0,0);this.re=new e(0,0,0);this.jd=
new d(new e(0,0,0),new e(0,0,0));this.Dd=new d(new e(0,0,0),new e(0,0,0));this.lf=new e(0,0,0);this.qc=new d(new e(0,0,0),new e(0,0,0));this.Ia=new d(new e(0,0,0),new e(0,0,0));this.Lc=new e(0,0,0);this.ae=new e(0,0,0);this.sc=new d(new e(0,0,0),new e(0,0,0));this.hd=new d(new e(0,0,0),new e(0,0,0));this.de=new e(0,0,0)};a.prototype.il=function(a,g,b){var f=this.La[a];this.we=a;this.Tc.set(this.qc);this.Nb.set(this.Ia);this.ld.set(this.Lc);this.re.set(this.ae);this.Dd.set(this.hd);this.jd.set(this.sc);
this.lf.set(this.de);this.qc.set(f.Ba);this.Ia.set(f.za);this.Lc.set(f.Ma);this.ae.set(f.We);this.hd.set(f.Hb);this.sc.set(f.Wa);this.de.set(f.kh);this.zj=g;this.Zw=f.Rz(this.Wb);this.vc=f.If;this.ie=f.Jf;this.lo||(this.kf=f.rr);this.qg?(this.sg=-16777216|(this.vc&255)<<16|(this.vc>>8&255)<<8|this.vc>>16,this.Qf=-16777216|(this.ie&255)<<16|(this.ie>>8&255)<<8|this.ie>>16):(this.sg=this.vc>>16<<24|(this.vc>>8&255)<<16|(this.vc&255)<<8|255,this.Qf=this.ie>>16<<24|(this.ie>>8&255)<<16|(this.ie&255)<<
8|255);b.zu()};a.prototype.Fu=function(){var a;var g=this.bo;var b=this.tc;var d=this.Ua;var e=this.mi;var c=this.Jd;g[0]=0;g[b+1]=d;for(a=1;a<b+1;a+=1)g[a]=Math.min(Math.max(a-1,e),c),g[a+b+1]=Math.max(Math.min(a+1,b),d);if(0===this.ca)for(a=this.Ua;a<=this.tc;a+=1)g[a]=0;else this.ca<this.Jd&&(g[this.Jd-this.ca]=0)};a.prototype.bB=function(){var a;for(a=0;a<this.La.length;a+=1){var g=this.La[a];if(g.Ik)if(2>=this.g)g.Wa.J.set(g.We);else{var b=1/(this.g-2);g.Wa.J.red=g.Wa.H.red*b+g.We.red*(1-b)|
0;g.Wa.J.green=g.Wa.H.green*b+g.We.green*(1-b)|0;g.Wa.J.blue=g.Wa.H.blue*b+g.We.blue*(1-b)|0}}};a.prototype.Gu=function(){var a=(this.zj-1)/this.Aj;if(!this.Eb)if(2<this.g){var g=0;this.Ra[g]=this.lf.red*a+this.de.red*(1-a);this.Qa[g]=this.lf.green*a+this.de.green*(1-a);this.Na[g]=this.lf.blue*a+this.de.blue*(1-a);for(g=1;g<this.g-1;g+=1){var b=3>=this.g?0:(g-1)/(this.g-3);var d=this.jd.J.red*b+this.jd.H.red*(1-b);var e=this.sc.J.red*b+this.sc.H.red*(1-b);this.Ra[g+this.ca]=d*a+e*(1-a);d=this.jd.J.green*
b+this.jd.H.green*(1-b);e=this.sc.J.green*b+this.sc.H.green*(1-b);this.Qa[g+this.ca]=d*a+e*(1-a);d=this.jd.J.blue*b+this.jd.H.blue*(1-b);e=this.sc.J.blue*b+this.sc.H.blue*(1-b);this.Na[g+this.ca]=d*a+e*(1-a);this.vb.length>=g&&(b=this.pa?this.vb[g]:this.vb[this.g-g],-1!==b&&(this.Ra[g+this.ca]=b>>16,this.Qa[g+this.ca]=b>>8&255,this.Na[g+this.ca]=b&255))}g=this.g-1;this.Ra[g+this.ca]=this.re.red*a+this.ae.red*(1-a);this.Qa[g+this.ca]=this.re.green*a+this.ae.green*(1-a);this.Na[g+this.ca]=this.re.blue*
a+this.ae.blue*(1-a);this.vb.length>=g&&(b=this.pa?this.vb[g]:this.vb[this.g-g],-1!==b&&(this.Ra[g+this.ca]=b>>16,this.Qa[g+this.ca]=b>>8&255,this.Na[g+this.ca]=b&255));for(g=0;g<this.ca;g+=1)b=1<this.ca?1-g/(this.ca-1):1,d=this.Dd.H.red*b+this.Dd.J.red*(1-b),e=this.hd.H.red*b+this.hd.J.red*(1-b),this.Ra[g+1]=d*a+e*(1-a),d=this.Dd.H.green*b+this.Dd.J.green*(1-b),e=this.hd.H.green*b+this.hd.J.green*(1-b),this.Qa[g+1]=d*a+e*(1-a),d=this.Dd.H.blue*b+this.Dd.J.blue*(1-b),e=this.hd.H.blue*b+this.hd.J.blue*
(1-b),this.Na[g+1]=d*a+e*(1-a);0<this.vb.length&&(b=this.vb[0],-1!==b&&(this.Ra[0]=b>>16,this.Qa[0]=b>>8&255,this.Na[0]=b&255))}else{g=0;this.Ra[g]=this.ld.red*a+this.Lc.red*(1-a);this.Qa[g]=this.ld.green*a+this.Lc.green*(1-a);this.Na[g]=this.ld.blue*a+this.Lc.blue*(1-a);if(0===this.ca)for(g=1;g<=this.Jd;g+=1)this.Ra[g]=this.ld.red*a+this.Lc.red*(1-a),this.Qa[g]=this.ld.green*a+this.Lc.green*(1-a),this.Na[g]=this.ld.blue*a+this.Lc.blue*(1-a);else{var c=this.Jd-this.ca+1;for(g=1;g<c;g+=1)this.Ra[g]=
this.Nb.H.red*a+this.Ia.H.red*(1-a),this.Qa[g]=this.Nb.H.green*a+this.Ia.H.green*(1-a),this.Na[g]=this.Nb.H.blue*a+this.Ia.H.blue*(1-a);for(g=c;g<=this.Jd;g+=1)b=this.Jd===c?1:1-(g-c)/(this.Jd-c),d=this.Nb.H.red*b+this.Nb.J.red*(1-b),e=this.Ia.H.red*b+this.Ia.J.red*(1-b),this.Ra[g]=d*a+e*(1-a),d=this.Nb.H.green*b+this.Nb.J.green*(1-b),e=this.Ia.H.green*b+this.Ia.J.green*(1-b),this.Qa[g]=d*a+e*(1-a),d=this.Nb.H.blue*b+this.Nb.J.blue*(1-b),e=this.Ia.H.blue*b+this.Ia.J.blue*(1-b),this.Na[g]=d*a+e*(1-
a)}for(g=this.Ua;g<=this.tc;g+=1)b=1-(g-this.Ua)/(this.tc-this.Ua),d=this.Tc.H.red*b+this.Tc.J.red*(1-b),e=this.qc.H.red*b+this.qc.J.red*(1-b),this.Ra[g]=d*a+e*(1-a),d=this.Tc.H.green*b+this.Tc.J.green*(1-b),e=this.qc.H.green*b+this.qc.J.green*(1-b),this.Qa[g]=d*a+e*(1-a),d=this.Tc.H.blue*b+this.Tc.J.blue*(1-b),e=this.qc.H.blue*b+this.qc.J.blue*(1-b),this.Na[g]=d*a+e*(1-a)}};a.prototype.Hu=function(a,g){var f=this.Ra,b=this.Qa,d=this.Na,e,c=g.length;for(e=0;e<a.length;e+=1){var h=e>=c||-1===g[e]?
a[e]:g[e];f[e]=h>>16;b[e]=h>>8&255;d[e]=h&255}this.zj=0};a.prototype.Ky=function(a,g){var f=this.Ra,b=this.Qa,d=this.Na,e=ViewConstants.qb,c=g.length,h;for(h=0;h<a.length;h+=1)h>=c||-1===g[h]?(f[128+e[h]]=a[h]>>16,b[128+e[h]]=a[h]>>8&255,d[128+e[h]]=a[h]&255):(f[128+e[h]]=g[h]>>16,b[128+e[h]]=g[h]>>8&255,d[128+e[h]]=g[h]&255)};a.prototype.Yc=function(a){var f=this.Ra,b=this.Qa,d=this.Na,e=this.$f,c=this.vc,u=this.ie,h=this.Pf,C=this.R&&this.Re||this.ba,l;if(2<this.g){if(this.qg)for(l=0;l<=this.g+
this.ca;l+=1)e[l]=-16777216|d[l]<<16|b[l]<<8|f[l],C&&(h[l]="#"+(16777216+((f[l]<<16)+(b[l]<<8)+d[l])).toString(16).substr(1))}else if(this.qg){for(l=0;l<this.Ua;l+=1)e[l]=-16777216|d[l]<<16|b[l]<<8|f[l],C&&(h[l]="#"+(16777216+((f[l]<<16)+(b[l]<<8)+d[l])).toString(16).substr(1));for(l=this.Ua;l<=this.tc;l+=1)e[l]=-16777216|d[l]*a<<16|b[l]*a<<8|f[l]*a,C&&(h[l]="#"+(16777216+((f[l]<<16)+(b[l]<<8)+d[l])).toString(16).substr(1));for(l=this.tc+1;256>l;l+=1)e[l]=-16777216|d[l]*a<<16|b[l]*a<<8|f[l]*a,C&&
(h[l]="#"+(16777216+((f[l]<<16)+(b[l]<<8)+d[l])).toString(16).substr(1))}else{for(l=0;l<this.Ua;l+=1)e[l]=f[l]<<24|b[l]<<16|d[l]<<8|255,C&&(h[l]="#"+(16777216+((f[l]<<16)+(b[l]<<8)+d[l])).toString(16).substr(1));for(l=this.Ua;l<=this.tc;l+=1)e[l]=f[l]*a<<24|b[l]*a<<16|d[l]*a<<8|255,C&&(h[l]="#"+(16777216+((f[l]<<16)+(b[l]<<8)+d[l])).toString(16).substr(1));for(l=this.tc+1;256>l;l+=1)e[l]=f[l]*a<<24|b[l]*a<<16|d[l]*a<<8|255,C&&(h[l]="#"+(16777216+((f[l]<<16)+(b[l]<<8)+d[l])).toString(16).substr(1))}this.qg?
(this.sg=-16777216|(c&255)<<16|(c>>8&255)<<8|c>>16,this.Qf=-16777216|(u&255)<<16|(u>>8&255)<<8|u>>16):(this.sg=c>>16<<24|(c>>8&255)<<16|(c&255)<<8|255,this.Qf=u>>16<<24|(u>>8&255)<<16|(u&255)<<8|255);-1!==this.ia&&(l=this.rc,e[l]=this.qg?-16777216|d[l]*a<<16|b[l]*a<<8|f[l]*a:f[l]*a<<24|b[l]*a<<16|d[l]*a<<8|255,C&&(h[l]="#"+(16777216+((f[l]<<16)+(b[l]<<8)+d[l])).toString(16).substr(1)))};a.prototype.PB=function(){var a=this.Ra,g=this.Qa,b=this.Na;this.rc=-1!==this.ia&&256===this.g+this.ca?2:255;-1!==
this.ia&&256>this.g+this.ca&&(a[this.rc]=128,g[this.rc]=128,b[this.rc]=128)};a.prototype.$n=function(a){var f=this.height,b=this.uc,d=this.Ub,e=this.oa,c=this.K,u=this.lc,h=this.fa,C=this.qa,l=this.eb,m=this.Va,r=this.Ja,E=this.wa,z=this.tb,x=this.Mf,t;for(t=0;t<f;t+=1)b[t].set(E),d[t].set(E),a||(e[t].set(x),c[t].set(x),u&&(u[t].set(x),h[t].set(x)));f=this.j;for(t=0;t<f;t+=1)C[t].set(z),r[t].set(z),a||(l[t].set(z),m[t].set(z))};a.prototype.qj=function(a,g){var f=b.gv,d;for(d=0;d<f;d+=1)a[d]=g[d]};
a.prototype.qh=function(a,g){var f=b.ur,d;for(d=0;d<f;d+=1){var e=g[d>>9&448|d>>6&56|d>>3&7]<<3;e|=g[d>>8&448|d>>5&56|d>>2&7]<<2;e|=g[d>>7&448|d>>4&56|d>>1&7]<<1;e|=g[d>>6&448|d>>3&56|d&7];a[d]=e}};a.prototype.wC=function(){var a,g=this.ba?PatternManager.Js:PatternManager.fl,d=this.ba?PatternManager.Fs:PatternManager.Es,e=PatternManager.Dh,c=this.ba?b.gv:b.Sz,I=!1;if(this.ba)this.qj(this.zh,g),this.qj(this.yh,d);else{if(-1===this.Te&&g[0]){if(!g[c-1]){for(a=0;a<c/2;a+=1){var u=g[a];g[a]=g[c-a-1];
g[c-a-1]=u}I=!0;this.qh(this.vg,g)}for(a=0;a<c/2;a+=1)u=g[a],g[a]=1-g[c-a-1],g[c-a-1]=1-u}e?(this.qh(this.vg,g),this.qh(this.tg,d)):(this.qh(this.tg,g),I||this.vg.set(this.tg))}};a.prototype.wg=function(a){var f=0;0!==(a&32768)?f=0:0!==(a&16384)?f=1:0!==(a&8192)?f=2:0!==(a&4096)?f=3:0!==(a&2048)?f=4:0!==(a&1024)?f=5:0!==(a&512)?f=6:0!==(a&256)?f=7:0!==(a&128)?f=8:0!==(a&64)?f=9:0!==(a&32)?f=10:0!==(a&16)?f=11:0!==(a&8)?f=12:0!==(a&4)?f=13:0!==(a&2)?f=14:0!==(a&1)&&(f=15);return f};a.prototype.Ig=
function(a){var f=0;0!==(a&1)?f=15:0!==(a&2)?f=14:0!==(a&4)?f=13:0!==(a&8)?f=12:0!==(a&16)?f=11:0!==(a&32)?f=10:0!==(a&64)?f=9:0!==(a&128)?f=8:0!==(a&256)?f=7:0!==(a&512)?f=6:0!==(a&1024)?f=5:0!==(a&2048)?f=4:0!==(a&4096)?f=3:0!==(a&8192)?f=2:0!==(a&16384)&&(f=1);return f};a.prototype.Gl=function(a){var f=this.lc,b=this.qa,d=this.width,e=this.height,c,u=this.v.L,h=this.v.A,C=this.v.G,l=this.v.M,m,r;for(m=0;m<e;m+=1){var E=f[m];var z=b[m>>4];for(r=c=0;r<d;r+=1)0!==E[r]&&(z[r>>8]|=1<<(~(r>>4)&15),c|=
E[r],r<C&&(C=r),r>l&&(l=r));c&&(m<h&&(h=m),m>u&&(u=m))}a||(this.v.L=u,this.v.A=h,this.v.G=C,this.v.M=l)};a.prototype.Pn=function(){var a,g,d,e=this.gb,c=this.Ja,I=this.qa,u,h=this.j,C=this.f>>4,l=this.tb;var m=0;var r=m+16;for(g=0;g<h;g+=1)I[g].set(l);for(g=0;g<h;g+=1){var E=0;var z=c[g];var x=I[g];var t=0<g?I[g-1]:l;var H=g<h-1?I[g+1]:l;z[0]&=32767;z[C-1]&=65534;for(d=0;d<C;d+=1)if(u=z[d]){var n=x[d];var v=t[d];var D=H[d];for(a=15;0<=a;--a){if(0!==(u&1<<a)){var p=!1;var y=0;var w=m;var q=e[w];if(q=
q[E])p=!0,0!==(q&32768)&&(y|=b.Pd,y|=b.te),0!==(q&1)&&(y|=b.Td,y|=b.ue),y|=b.Id;for(w+=1;w<r-1;){q=e[w];if(q=q[E])p=!0,0!==(q&32768)&&(y|=b.Pd),0!==(q&1)&&(y|=b.Td);w+=1}q=e[w];if(q=q[E])p=!0,0!==(q&32768)&&(y|=b.Pd,y|=b.Pe),0!==(q&1)&&(y|=b.Td,y|=b.Qe),y|=b.Xd;p&&(n|=1<<a,y&&(0!==(y&b.Pd)&&(15>a?n|=1<<a+1:0<d&&(x[d-1]|=1)),0!==(y&b.Td)&&(0<a?n|=1<<a-1:d<C-1&&(x[d+1]|=32768)),0!==(y&b.Id)&&(v|=1<<a),0!==(y&b.Xd)&&(D|=1<<a),0!==(y&b.te)&&(15>a?v|=1<<a+1:0<d&&(t[d-1]|=1)),0!==(y&b.ue)&&(0<a?v|=1<<a-
1:d<C-1&&(t[d+1]|=32768)),0!==(y&b.Pe)&&(15>a?D|=1<<a+1:0<d&&(H[d-1]|=1)),0!==(y&b.Qe)&&(0<a?D|=1<<a-1:d<C-1&&(H[d+1]|=32768))))}E+=1}x[d]|=n;0<g&&(t[d]|=v);g<h-1&&(H[d]|=D)}else E+=16;m+=16;r+=16}for(g=0;g<l.length;g+=1)l[g]=0};a.prototype.pq=function(){var a,g,d,e=this.gb,c=this.Ja,I=this.oa,u=this.qa,h,C=this.j,l=this.f>>4,m=this.tb;var r=0;var E=r+16;for(g=0;g<C;g+=1)u[g].set(m);for(g=0;g<C;g+=1){var z=0;var x=c[g];var t=u[g];var H=0<g?u[g-1]:m;var n=g<C-1?u[g+1]:m;x[0]&=32767;x[l-1]&=65534;for(d=
0;d<l;d+=1)if(h=x[d]){var v=t[d];var D=H[d];var p=n[d];for(a=15;0<=a;--a){if(0!==(h&1<<a)){var y=!1;var w=0;var q=r;var G=e[q];var B=I[q];G=G[z];var L=z<<4;0<B[L]&&(G|=32768);L+=1;0<B[L]&&(G|=16384);L+=1;0<B[L]&&(G|=8192);L+=1;0<B[L]&&(G|=4096);L+=1;0<B[L]&&(G|=2048);L+=1;0<B[L]&&(G|=1024);L+=1;0<B[L]&&(G|=512);L+=1;0<B[L]&&(G|=256);L+=1;0<B[L]&&(G|=128);L+=1;0<B[L]&&(G|=64);L+=1;0<B[L]&&(G|=32);L+=1;0<B[L]&&(G|=16);L+=1;0<B[L]&&(G|=8);L+=1;0<B[L]&&(G|=4);L+=1;0<B[L]&&(G|=2);L+=1;0<B[L]&&(G|=1);G&&
(y=!0,0!==(G&32768)&&(w|=b.Pd,w|=b.te),0!==(G&1)&&(w|=b.Td,w|=b.ue),w|=b.Id);for(q+=1;q<E-1;)G=e[q],B=I[q],G=G[z],L=z<<4,0<B[L]&&(G|=32768),L+=1,0<B[L]&&(G|=16384),L+=1,0<B[L]&&(G|=8192),L+=1,0<B[L]&&(G|=4096),L+=1,0<B[L]&&(G|=2048),L+=1,0<B[L]&&(G|=1024),L+=1,0<B[L]&&(G|=512),L+=1,0<B[L]&&(G|=256),L+=1,0<B[L]&&(G|=128),L+=1,0<B[L]&&(G|=64),L+=1,0<B[L]&&(G|=32),L+=1,0<B[L]&&(G|=16),L+=1,0<B[L]&&(G|=8),L+=1,0<B[L]&&(G|=4),L+=1,0<B[L]&&(G|=2),L+=1,0<B[L]&&(G|=1),G&&(y=!0,0!==(G&32768)&&(w|=b.Pd),0!==
(G&1)&&(w|=b.Td)),q+=1;G=e[q];B=I[q];G=G[z];L=z<<4;0<B[L]&&(G|=32768);L+=1;0<B[L]&&(G|=16384);L+=1;0<B[L]&&(G|=8192);L+=1;0<B[L]&&(G|=4096);L+=1;0<B[L]&&(G|=2048);L+=1;0<B[L]&&(G|=1024);L+=1;0<B[L]&&(G|=512);L+=1;0<B[L]&&(G|=256);L+=1;0<B[L]&&(G|=128);L+=1;0<B[L]&&(G|=64);L+=1;0<B[L]&&(G|=32);L+=1;0<B[L]&&(G|=16);L+=1;0<B[L]&&(G|=8);L+=1;0<B[L]&&(G|=4);L+=1;0<B[L]&&(G|=2);L+=1;0<B[L]&&(G|=1);G&&(y=!0,0!==(G&32768)&&(w|=b.Pd,w|=b.Pe),0!==(G&1)&&(w|=b.Td,w|=b.Qe),w|=b.Xd);y&&(v|=1<<a,w&&(0!==(w&b.Pd)&&
(15>a?v|=1<<a+1:0<d&&(t[d-1]|=1)),0!==(w&b.Td)&&(0<a?v|=1<<a-1:d<l-1&&(t[d+1]|=32768)),0!==(w&b.Id)&&(D|=1<<a),0!==(w&b.Xd)&&(p|=1<<a),0!==(w&b.te)&&(15>a?D|=1<<a+1:0<d&&(H[d-1]|=1)),0!==(w&b.ue)&&(0<a?D|=1<<a-1:d<l-1&&(H[d+1]|=32768)),0!==(w&b.Pe)&&(15>a?p|=1<<a+1:0<d&&(n[d-1]|=1)),0!==(w&b.Qe)&&(0<a?p|=1<<a-1:d<l-1&&(n[d+1]|=32768))))}z+=1}t[d]|=v;0<g&&(H[d]|=D);g<C-1&&(n[d]|=p)}else z+=16;r+=16;E+=16}for(g=0;g<m.length;g+=1)m[g]=0};a.prototype.On=function(a,g){var f,d=this.v.G,b=this.v.M,e=this.v.L,
c=this.v.A,h=this.oa,C,l=2>=this.g?this.Ua:this.ca+1,m;if(a===d)for(m=!1;a<=b&&!m;){for(f=c;f<=e&&!m;)h[f][a]>=l?m=!0:f+=1;m?(this.v.G=a,this.pa&&a>this.ea.G&&(this.ea.G=a)):a+=1}else if(a===b)for(m=!1;a>=d&&!m;){f=c;for(C=h[f];f<=e&&!m;)C[a]>=l?m=!0:f+=1;m?(this.v.M=a,this.pa&&a<this.ea.M&&(this.ea.M=a)):--a}if(g===c)for(f=g,m=!1;f<=e&&!m;){a=d;for(C=h[f];a<=b&&!m;)C[a]>=l?m=!0:a+=1;m?(this.v.A=f,this.pa&&f>this.ea.A&&(this.ea.A=f)):f+=1}else if(g===e)for(f=g,m=!1;f>=c&&!m;){for(a=d;a<=b&&!m;)h[f][a]>=
l?m=!0:a+=1;m?(this.v.L=f,this.pa&&f<this.ea.L&&(this.ea.L=f)):--f}};a.prototype.uw=function(a){var f,d,b=this.width>>4,e=this.height,c=this.width,u=this.gb,h=this.lc;var C=this.oa;var l=this.v,m=this.ea,r=this.Nd,E=this.height,z=-1,x=this.width,t=-1,H=this.height,n=-1,v=this.width,D=-1,p,y=this.ce,w=this.j,q=this.qa,G=this.Ja,B=this.eb,L=this.Va,M=this.tb;if(h&&!a)for(d=0;d<e;d+=1){var A=h[d];for(f=p=0;f<c;f+=1){var T=A[f];p|=T;T&&(f<v&&(v=f),f>D&&(D=f))}p&&(d<H&&(H=d),d>n&&(n=d))}for(d=0;d<y.length;d+=
1)y[d]=0;for(d=0;d<w;d+=1)G[d].set(M);if(-1!==this.g)for(d=0;d<e;d+=1){b=C[d];for(f=p=0;f<c;f+=1)T=b[f],p|=T,T&&(f<x&&(x=f),f>t&&(t=f));p&&(d<E&&(E=d),d>z&&(z=d))}else{for(d=0;d<e;d+=1){C=u[d];for(f=p=0;f<b;f+=1)T=C[f],p|=T,y[f]|=T;p&&(d<E&&(E=d),d>z&&(z=d))}for(f=0;f<b;f+=1)y[f]&&(f<x&&(x=f),f>t&&(t=f));x=(x<<4)+this.wg(y[x]);t=(t<<4)+this.Ig(y[t])}if(0>z||E>=e||x>=c||0>t)E=z=e>>1,t=x=c>>1;h&&!a&&(n<z&&(z=n),H>E&&(E=H),v<x&&(x=v),D>t&&(t=D));z>this.height-1&&(z=this.height-1);0>E&&(E=0);0>x&&(x=
0);t>this.width-1&&(t=this.width-1);l.L=z;l.A=E;l.G=x;l.M=t;m.L=z;m.A=E;m.G=x;m.M=t;r.L=z;r.A=E;r.G=x;r.M=t;0<x&&--x;0<E&&--E;t<this.width-1&&(t+=1);z<this.height-1&&(z+=1);T=z>>4;x>>=8;t>>=8;for(d=E>>4;d<=T;d+=1)for(E=G[d],f=x;f<=t;f+=1)E[f]=-1;-1!==this.g?this.pq():this.Pn();h&&(this.Gl(a),r.L=l.L,r.A=l.A,r.G=l.G,r.M=l.M);Array.gg(q,G);Array.gg(q,B);Array.gg(q,L)};a.prototype.uk=function(a){var f=Math.round((this.width-this.ma)/2),d=Math.round((this.height-this.ra)/2),b=f+this.ma-1,e=d+this.ra-
1,c=b+a>>4,u=f-a>>4,h=b+a>>4,C=~(1<<(~(f-a)&15)),l=~(1<<(~(b+a)&15)),m,r=this.be,E=0;var z=0!==(this.o&1)?this.V:this.gb;var x=z[e+a];var t=z[d-a];if(0===this.ma)for(c=this.width>>4,m=0;m<c;m+=1)E+=r[t[m]],t[m]=0,E+=r[x[m]],x[m]=0;else if(0===this.ra)for(d=0,e=this.height,c=0;c<e;c+=1)x=z[c],x[u]&~C&&(E+=1),x[u]&=C,x[h]&~l&&(E+=1),x[h]&=l;else{for(m=f-a>>4;m<=c;m+=1)E+=r[t[m]],t[m]=0,E+=r[x[m]],x[m]=0;for(c=d-a+1;c<=e+a-1;c+=1)x=z[c],x[u]&~C&&(E+=1),x[u]&=C,x[h]&~l&&(E+=1),x[h]&=l}this.xa-=E;if(-1!==
this.g)if(z=this.oa,f-=a,b+=a,e+=a,d-=a,x=z[e],t=z[d],0===this.ma)for(m=0;m<this.width;m+=1)t[m]=0,x[m]=0;else if(0===this.ra)for(c=0;c<this.height;c+=1)z[c][f]=0,z[c][b]=0;else{for(m=f;m<=b;m+=1)t[m]=0,x[m]=0;for(c=d+1;c<=e-1;c+=1)z[c][f]=0,z[c][b]=0}};a.prototype.Fd=function(a,g,d){var f,b;g-=2;d-=2;var e=0;for(f=!0;f&&e<a.length;){var c=0;for(b=a[e];f&&c<b.length;){var k=b[c];var C=this.oa[d+e][g+c];C<this.Ua&&0===k||C>=this.Ua&&1===k||(f=!1);c+=1}e+=1}if(f)for(this.Em+=1,e=0;e<a.length;e+=1)for(b=
a[e],c=0;c<b.length;c+=1)1===b[c]&&this.Th(g+c,d+e,0,!1);return f};a.prototype.vk=function(){var a,g=this.v.G,d=this.v.M,b=this.v.A,e=this.v.L,c=this.oa,u=c[e],h=c[b],C=this.Ua;if(-1===this.ia){for(a=g;a<=d;a+=1)h[a]>=C&&(this.Fd(this.vh,a,b)||this.Fd(this.uh,a,b)),u[a]>=C&&(this.Fd(this.xh,a,e-2)||this.Fd(this.wh,a,e-2));for(a=b;a<=e;a+=1)b=c[a],b[g]>=C&&(this.Fd(this.vh,g,a)||this.Fd(this.xh,g,a-1)),b[d]>=C&&(this.Fd(this.uh,d-2,a)||this.Fd(this.wh,d-2,a-1))}};a.prototype.Ns=function(){var a=this.ma;
var g=this.ra;var d=Math.round((this.width-a)/2-1)>>4,b=Math.round((this.width+a)/2)>>4;var e=Math.round((this.height-g)/2-1)>>4;var c=Math.round((this.height+g)/2)>>4;0===g&&(e=0,c=(this.height>>4)-1);0===a&&(d=0,b=(this.width>>4)-1);0>d&&(d=0);0>e&&(e=0);b>=this.width>>4&&(b=(this.width>>4)-1);c>=this.height>>4&&(c=(this.height>>4)-1);for(g=d;g<=b;g+=1)a=1<<(~g&15),this.qa[e][g>>4]|=a,this.Ja[e][g>>4]|=a,this.eb[e][g>>4]|=a,this.Va[e][g>>4]|=a,this.qa[c][g>>4]|=a,this.Ja[c][g>>4]|=a,this.eb[c][g>>
4]|=a,this.Va[c][g>>4]|=a;for(;e<=c;e+=1)a=1<<(~d&15),this.qa[e][d>>4]|=a,this.Ja[e][d>>4]|=a,this.eb[e][d>>4]|=a,this.Va[e][d>>4]|=a,a=1<<(~b&15),this.qa[e][b>>4]|=a,this.Ja[e][b>>4]|=a,this.eb[e][b>>4]|=a,this.Va[e][b>>4]|=a};a.prototype.eq=function(){var a=this.eb,g=this.ma,d=this.ra,b=Math.round((this.width-g)/2),e=Math.round((this.height-d)/2),c=b+g-1,u=e+d-1,h=this.El,C=this.Fl,l=this.ba&&0<b&&c<this.width-1,m;if(0!==(this.o&1)){var r=this.V;var E=this.Ja}else r=this.gb,E=this.qa;0===this.ma&&
(b=0,c=this.width-1,g=this.width);0===this.ra&&(e=0,u=this.height-1,d=this.height);if(0!==this.ra)for(m=0;m<g;m+=1){var z=b+m;var x=b+(m+h+g)%g;0!==(r[u][z>>4]&1<<(~z&15))&&(r[e-1][x>>4]|=1<<(~x&15),E[e-1>>4][x>>8]|=1<<(~(x>>4)&15),a[e-1>>4][x>>8]|=1<<(~(x>>4)&15),15===(e-1&15)&&(E[(e-1>>4)+1][x>>8]|=1<<(~(x>>4)&15),a[(e-1>>4)+1][x>>8]|=1<<(~(x>>4)&15)));x=b+(m-h+g)%g;0!==(r[e][z>>4]&1<<(~z&15))&&(r[u+1][x>>4]|=1<<(~x&15),E[u+1>>4][x>>8]|=1<<(~(x>>4)&15),a[u+1>>4][x>>8]|=1<<(~(x>>4)&15),0===(u+1&
15)&&(E[(u+1>>4)-1][x>>8]|=1<<(~(x>>4)&15),a[(u+1>>4)-1][x>>8]|=1<<(~(x>>4)&15)))}if(0!==this.ma)for(m=0;m<d;m+=1)z=e+m,x=e+(m-C+d)%d,0!==(r[z][b>>4]&1<<(~b&15))&&(r[x][c+1>>4]|=1<<(~(c+1)&15),E[x>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[x>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(E[x>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[x>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),l&&(b+=1,c+=1,0!==(r[z][b>>4]&1<<(~b&15))&&(r[x][c+1>>4]|=1<<(~(c+1)&15),E[x>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[x>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===
(c+1&15)&&(E[x>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[x>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),--b,--c),x=e+(m+C+d)%d,0!==(r[z][c>>4]&1<<(~c&15))&&(r[x][b-1>>4]|=1<<(~(b-1)&15),E[x>>4][b-1>>8]|=1<<(~(b-1>>4)&15),a[x>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(E[x>>4][b+15>>8]|=1<<(~(b+15>>4)&15),a[x>>4][b+15>>8]|=1<<(~(b+15>>4)&15))),l&&(--b,--c,0!==(r[z][c>>4]&1<<(~c&15))&&(r[x][b-1>>4]|=1<<(~(b-1)&15),E[x>>4][b-1>>8]|=1<<(~(b-1>>4)&15),a[x>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(E[x>>4][b+15>>
8]|=1<<(~(b+15>>4)&15),a[x>>4][b+15>>8]|=1<<(~(b+15>>4)&15))),b+=1,c+=1);0!==this.ma&&0!==this.ra&&(z=b+(-h+g)%g,r[e-1][c+1>>4]=0!==(r[e+(d-1+C+d)%d][z>>4]&1<<(~z&15))?r[e-1][c+1>>4]|1<<(~(c+1)&15):r[e-1][c+1>>4]&~(1<<(~(c+1)&15)),z=b+(g-1-h+g)%g,r[e-1][b-1>>4]=0!==(r[e+(d-1-C+d)%d][z>>4]&1<<(~z&15))?r[e-1][b-1>>4]|1<<(~(b-1)&15):r[e-1][b-1>>4]&~(1<<(~(b-1)&15)),z=b+(h+g)%g,r[u+1][c+1>>4]=0!==(r[e+(C+d)%d][z>>4]&1<<(~z&15))?r[u+1][c+1>>4]|1<<(~(c+1)&15):r[u+1][c+1>>4]&~(1<<(~(c+1)&15)),z=b+(g-1+h+
g)%g,r[u+1][b-1>>4]=0!==(r[e+(-C+d)%d][z>>4]&1<<(~z&15))?r[u+1][b-1>>4]|1<<(~(b-1)&15):r[u+1][b-1>>4]&~(1<<(~(b-1)&15)))};a.prototype.yn=function(){var a=this.eb,g=this.ma,d=this.ra,b=Math.round((this.width-g)/2),e=Math.round((this.height-d)/2),c=b+g-1,u=e+d-1,h=this.El,C=this.Fl,l=this.Kq,m=this.uu,r;if(0!==(this.o&1)){var E=this.V;var z=this.Ja}else E=this.gb,z=this.qa;for(r=0;r<g;r+=1){var x=b+r;var t=l?c-(r+h+g)%g:b+(r+h+g)%g;0!==(E[u][x>>4]&1<<(~x&15))&&(E[e-1][t>>4]|=1<<(~t&15),z[e-1>>4][t>>
8]|=1<<(~(t>>4)&15),a[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(z[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=l?c-(r-h+g)%g:b+(r-h+g)%g;0!==(E[e][x>>4]&1<<(~x&15))&&(E[u+1][t>>4]|=1<<(~t&15),z[u+1>>4][t>>8]|=1<<(~(t>>4)&15),a[u+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(u+1&15)&&(z[(u+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(u+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<d;r+=1)x=e+r,t=m?u-(r-C+d)%d:e+(r-C+d)%d,0!==(E[x][b>>4]&1<<(~b&15))&&(E[t][c+1>>4]|=1<<(~(c+1)&15),z[t>>4][c+
1>>8]|=1<<(~(c+1>>4)&15),a[t>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(z[t>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[t>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),t=m?u-(r+C+d)%d:e+(r+C+d)%d,0!==(E[x][c>>4]&1<<(~c&15))&&(E[t][b-1>>4]|=1<<(~(b-1)&15),z[t>>4][b-1>>8]|=1<<(~(b-1>>4)&15),a[t>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(z[t>>4][b+15>>8]|=1<<(~(b+15>>4)&15),a[t>>4][b+15>>8]|=1<<(~(b+15>>4)&15)));x=l?c-(-h+g)%g:b+(-h+g)%g;0!==(E[m?u-(d-1+C+d)%d:e+(d-1+C+d)%d][x>>4]&1<<(~x&15))&&(E[e-1][c+1>>4]|=1<<
(~(c+1)&15));x=l?c-(g-1-h+g)%g:b+(g-1-h+g)%g;0!==(E[m?u-(d-1+C+d)%d:e+(d-1+C+d)%d][x>>4]&1<<(~x&15))&&(E[e-1][b-1>>4]|=1<<(~(b-1)&15));x=l?c-(h+g)%g:b+(h+g)%g;0!==(E[m?u-(C+d)%d:e+(C+d)%d][x>>4]&1<<(~x&15))&&(E[u+1][c+1>>4]|=1<<(~(c+1)&15));x=l?c-(g-1+h+g)%g:b+(g-1+h+g)%g;0!==(E[m?u-(C+d)%d:e+(C+d)%d][x>>4]&1<<(~x&15))&&(E[u+1][b-1>>4]|=1<<(~(b-1)&15))};a.prototype.mn=function(){var a=this.eb,g=Math.round((this.width-this.ma)/2),d=Math.round((this.height-this.ra)/2),b=g+this.ma-1,e=d+this.ra-1,c;
if(0!==(this.o&1)){var u=this.V;var h=this.Ja}else u=this.gb,h=this.qa;for(c=0;c<this.ma;c+=1){var C=g+c;var l=b-c;0!==(u[e][C>>4]&1<<(~C&15))&&(u[d-1][l>>4]|=1<<(~l&15),h[d-1>>4][l>>8]|=1<<(~(l>>4)&15),a[d-1>>4][l>>8]|=1<<(~(l>>4)&15),15===(d-1&15)&&(h[(d-1>>4)+1][l>>8]|=1<<(~(l>>4)&15),a[(d-1>>4)+1][l>>8]|=1<<(~(l>>4)&15)));0!==(u[d][C>>4]&1<<(~C&15))&&(u[e+1][l>>4]|=1<<(~l&15),h[e+1>>4][l>>8]|=1<<(~(l>>4)&15),a[e+1>>4][l>>8]|=1<<(~(l>>4)&15),0===(e+1&15)&&(h[(e+1>>4)-1][l>>8]|=1<<(~(l>>4)&15),
a[(e+1>>4)-1][l>>8]|=1<<(~(l>>4)&15)))}for(c=0;c<=this.ra;c+=1)C=d+c,l=e-c,0!==(u[C][g>>4]&1<<(~g&15))&&(u[l][b+1>>4]|=1<<(~(b+1)&15),h[l>>4][b+1>>8]|=1<<(~(b+1>>4)&15),a[l>>4][b+1>>8]|=1<<(~(b+1>>4)&15),0===(b+1&15)&&(h[l>>4][b-15>>8]|=1<<(~(b-15>>4)&15),a[l>>4][b-15>>8]|=1<<(~(b-15>>4)&15))),0!==(u[C][b>>4]&1<<(~b&15))&&(u[l][g-1>>4]|=1<<(~(g-1)&15),h[l>>4][g-1>>8]|=1<<(~(g-1>>4)&15),a[l>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(h[l>>4][g+15>>8]|=1<<(~(g+15>>4)&15),a[l>>4][g+15>>8]|=1<<(~(g+
15>>4)&15)));0!==(u[e][g>>4]&1<<(~g&15))&&(u[e+1][g-1>>4]|=1<<(~(g-1)&15));0!==(u[e][b>>4]&1<<(~b&15))&&(u[e+1][b+1>>4]|=1<<(~(b+1)&15));0!==(u[d][g>>4]&1<<(~g&15))&&(u[d-1][g-1>>4]|=1<<(~(g-1)&15));0!==(u[d][b>>4]&1<<(~b&15))&&(u[d-1][b+1>>4]|=1<<(~(b+1)&15))};a.prototype.bq=function(){var a=this.eb,b=Math.round((this.width-this.ma)/2),d=Math.round((this.height-this.ra)/2),e=b+this.ma-1,c=d+this.ma-1,I;if(0!==(this.o&1)){var u=this.V;var h=this.Ja}else u=this.gb,h=this.qa;for(I=0;I<this.ma;I+=1){var C=
d+I;var l=b+I;0!==(u[C][b>>4]&1<<(~b&15))&&(u[d-1][l>>4]|=1<<(~l&15),h[d-1>>4][l>>8]|=1<<(~(l>>4)&15),a[d-1>>4][l>>8]|=1<<(~(l>>4)&15),15===(d-1&15)&&(h[(d-1>>4)+1][l>>8]|=1<<(~(l>>4)&15),a[(d-1>>4)+1][l>>8]|=1<<(~(l>>4)&15)));0!==(u[C][e>>4]&1<<(~e&15))&&(u[c+1][l>>4]|=1<<(~l&15),h[c+1>>4][l>>8]|=1<<(~(l>>4)&15),a[c+1>>4][l>>8]|=1<<(~(l>>4)&15),0===(c+1&15)&&(h[(c+1>>4)-1][l>>8]|=1<<(~(l>>4)&15),a[(c+1>>4)-1][l>>8]|=1<<(~(l>>4)&15)));0!==(u[d][l>>4]&1<<(~l&15))&&(u[C][b-1>>4]|=1<<(~(b-1)&15),h[C>>
4][b-1>>8]|=1<<(~(b-1>>4)&15),a[C>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(h[C>>4][b+15>>8]|=1<<(~(b+15>>4)&15),a[C>>4][b+15>>8]|=1<<(~(b+15>>4)&15)));0!==(u[c][l>>4]&1<<(~l&15))&&(u[C][e+1>>4]|=1<<(~(e+1)&15),h[C>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[C>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(h[C>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[C>>4][e-15>>8]|=1<<(~(e-15>>4)&15)))}0!==(u[c][b>>4]&1<<(~b&15))&&(u[c+1][b-1>>4]|=1<<(~(b-1)&15));0!==(u[c][e>>4]&1<<(~e&15))&&(u[c+1][e+1>>4]|=1<<(~(e+1)&15));
0!==(u[d][b>>4]&1<<(~b&15))&&(u[d-1][b-1>>4]|=1<<(~(b-1)&15));0!==(u[d][e>>4]&1<<(~e&15))&&(u[d-1][e+1>>4]|=1<<(~(e+1)&15))};a.prototype.Vm=function(){var a,b=1;0!==this.ia&&(b=2);this.ba&&(b+=1);for(a=1;a<=b+1;a+=1)this.uk(a)};a.prototype.Zm=function(){this.Ns();switch(this.ia){case 1:this.eq();break;case 2:this.yn();break;case 3:this.mn();break;case 4:this.bq()}this.Ns()};a.prototype.Mi=function(a,b,d){this.Eb?(this.va=1,this.o+=1):this.An(a,b,d)};a.prototype.An=function(a,d,e){var f=!1,g=this.v,
c=this.qd;e||(a=!0);this.o===this.Vj-1&&(f=!0,d||(a=!0));-1===this.ia||this.pa||this.Zm();this.ja&&this.rq();this.va&&(this.pa?this.Vb.AA(this.o):a&&2>this.g?this.ba?this.Um():this.Om():this.ba?this.Jm():this.Bm());this.o+=1;-1===this.g||this.pa||this.xm();this.ja&&this.qq();-1===this.ia||this.pa||this.Vm();this.width===this.W&&(e=this.pa?2*this.Vb.yc:16,g.G<=e||g.M>=this.W-e||g.A<=e||g.L>=this.W-e)&&(this.pa?this.xk():this.wk());f&&(this.Vj+=b.gn,d||this.Ym());g.G<c.G&&(c.G=g.G);g.M>c.M&&(c.M=g.M);
g.A<c.A&&(c.A=g.A);g.L>c.L&&(c.L=g.L);this.o<b.Iv&&(a?(this.tj(this.xa,this.Cb,this.kc),this.xa>this.Ob&&(this.Ob=this.xa),this.Cb>this.Ob&&(this.Ob=this.Cb),this.kc>this.Ob&&(this.Ob=this.kc)):this.tj(0,0,0))};a.prototype.tj=function(a,d,e){var f=this.o>>b.Si,g=this.o&(1<<b.Si)-1;this.Sa&&0<this.Sa.length&&(this.o>=this.ff&&(Array.wl(this.Sa,"Life.popGraphData"),Array.wl(this.Ue,"Life.birthGraphData"),Array.wl(this.Ze,"Life.deathGraphData"),this.ff+=1<<b.Si),this.Sa[f][g]=a,this.Ue[f][g]=d,this.Ze[f][g]=
e)};a.prototype.Bh=function(a,d,e,c,J,I,u,h){var f,l=1,g=(1<<b.Si)-1;this.o>e&&(l=e/this.o);if(h){a.strokeStyle=d;a.beginPath();var r=c-u[0]/this.Ob*c|0;a.moveTo(0+I+.5,r+J+I+.5)}else a.fillStyle=d;var k=0;for(d=f=1;d<e;d+=1){if(f<b.Iv){var F=f>>b.Si;var x=f&g;x=F=u[F][x];k+=l;for(f+=1;0===(k|0);){var t=u[f];f+=1;t>x&&(x=t);t<F&&(F=t);k+=l}--k}else x=F=0;d<=this.o&&(t=0+I+1+d,r=c-F/this.Ob*c|0,h?(a.lineTo(t+.5,r+J+I+.5),F!==x&&(r=c-x/this.Ob*c|0,a.lineTo(t+.5,r+J+I+.5))):0<F&&0<x&&(F!==x&&(r=c-x/
this.Ob*c|0),a.fillRect(t+.5,r+J+I+.5,1,1)))}h&&a.stroke()};a.prototype.Fo=function(a,b,d,e){var f=this.context,g=40,c=40,k=this.F-c,F=this.B-g-c,l="rgb("+this.ng[0]+","+this.ng[1]+","+this.ng[2]+")",m="rgb("+this.mg[0]+","+this.mg[1]+","+this.mg[2]+")",r="rgb("+this.lg[0]+","+this.lg[1]+","+this.lg[2]+")",E="rgb("+this.og[0]+","+this.og[1]+","+this.og[2]+")",z="rgb("+this.pg[0]+","+this.pg[1]+","+this.pg[2]+")";if(this.Sa&&0<this.Sa.length){if(d||e)g=0,F+=80;e&&(c=0,k=this.F);var x=k-c;f.save();
f.fillStyle=l;f.globalAlpha=b;f.fillRect(0,g,k+c,F);f.globalAlpha=1;d&&(F-=40);if(!e){f.font="16px Arial";f.textAlign="center";f.fillStyle="black";for(b=2;0<=b;b-=2)f.save(),f.translate(this.F/2,F+c/2-6),f.fillText("Generation",b,b),f.restore(),f.save(),f.translate(c/2+6,this.B/2),f.rotate(-90*Math.PI/180),320>this.B?f.fillText("Pop",b,b):f.fillText("Population",b,b),f.restore(),f.fillStyle=m;f.fillStyle="black";for(b=2;0<=b;b-=2)f.save(),f.translate(c-c/2+6,g+c),f.rotate(-90*Math.PI/180),f.fillText(String(this.Ob),
b,b),f.restore(),f.save(),f.translate(c-c/2+6,F),f.rotate(-90*Math.PI/180),f.fillText("0",b,b),f.restore(),f.save(),f.translate(c,F+c/2-6),f.fillText("0",b,b),f.restore(),f.save(),f.translate(k,F+c/2-6),f.fillText(String(this.o>x?this.o:x),b,b),f.restore(),f.fillStyle=m}-1===this.ia&&(this.Bh(f,z,x,F-g-c,g,c,this.Ze,a),this.Bh(f,E,x,F-g-c,g,c,this.Ue,a));this.Bh(f,r,x,F-g-c,g,c,this.Sa,a);f.strokeStyle=m;f.lineWidth=1;f.beginPath();f.moveTo(c+.5,g+c+.5);f.lineTo(c+.5,F+.5);f.lineTo(k+.5,F+.5);f.lineTo(k+
.5,F+2.5);f.moveTo(c+.5,F+.5);f.lineTo(c+.5,F+2.5);f.moveTo(c+.5,F+.5);f.lineTo(c+.5-2,F+.5);f.moveTo(c+.5,g+c+.5);f.lineTo(c+.5-2,g+c+.5);f.stroke();f.restore()}};a.prototype.xw=function(){var a=(1<<b.Si)-1,d;if(this.Sa&&0<this.Sa.length){for(d=0;d<this.ff;d+=1){var e=d>>b.Si;var c=d&a;this.Sa[e][c]=0;this.Ue[e][c]=0;this.Ze[e][c]=0}this.Sa[0][0]=this.xa}this.Ob=this.xa};a.prototype.Cp=function(){var a=this.v,b=this.qd;b.G=a.G;b.M=a.M;b.L=a.L;b.A=a.A};a.prototype.rq=function(){var a,b,d,e,c=this.ja,
I=this.kd,u=this.Bc,h=this.oe,C=this.j,l=this.f>>4,m;var r=0;var E=0!==(this.o&1)?this.V:this.gb;for(a=0;a<C;a+=1){var z=0;var x=h[a];for(b=0;b<l;b+=1)if(m=x[b])for(d=15;0<=d;--d){if(0!==(m&1<<d))for(e=r;e<r+16;e+=1)I[e][z]=(E[e][z]|u[e][z])&c[e][z];z+=1}else z+=16;r+=16}};a.prototype.qq=function(){var a,b,d,e,c,I=this.kd,u=this.oe,h=this.j,C=this.f>>4,l;var m=0!==(this.o&1)?this.V:this.gb;for(a=c=0;a<h;a+=1){var r=0;var E=u[a];for(b=0;b<C;b+=1)if(l=E[b])for(d=15;0<=d;--d){if(0!==(l&1<<d))for(e=c;e<
c+16;e+=1)m[e][r]&=~I[e][r];r+=1}else r+=16;c+=16}};a.prototype.Ah=function(a,d,e){var f,g,c=this.oh,k=0,h=this.Uc[k],C=this.gd[k],l=0,m=b.Ap,r=m-1,E=0,z=m,x=this.Wm,t=this.fb,H=this.hb;h[l]=a;C[l]=d;l+=1;for(e[d][a>>4]&=~(1<<(~a&15));0<l;)for(--l,l<E&&(--k,E-=m,z-=m,h=this.Uc[k],C=this.gd[k]),a=h[l&r],d=C[l&r],g=d-x;g<=d+x;){for(f=a-x;f<=a+x;)f===(f&t)&&g===(g&H)&&0!==(e[g][f>>4]&1<<(~f&15))&&(e[g][f>>4]&=~(1<<(~f&15)),l===z&&(k+=1,E+=m,z+=m,k>c&&(this.Uc[k]=this.i.X(Int32,m,"Life.boundaryX"+k),
this.gd[k]=this.i.X(Int32,m,"Life.boundaryY"+k),this.oh=c+=1),h=this.Uc[k],C=this.gd[k]),h[l&r]=f,C[l&r]=g,l+=1),f+=1;g+=1}};a.prototype.rj=function(a,b,d){for(var f=d[b][a],e=15;0<=e;)0!==(f&1<<e)&&this.Ah((a<<4)+(~e&15),b,d),--e};a.prototype.gq=function(a,b){this.Ah(0,a,b)};a.prototype.hq=function(a,b,d){this.Ah((a<<4)+15,b,d)};a.prototype.wk=function(){var a;var b=0!==(this.o&1)?this.V:this.gb;var d=b.length;var e=b[0].length;var c=b[0];var I=b[d-1];for(a=0;a<e;)c[a]&&this.rj(a,0,b),I[a]&&this.rj(a,
d-1,b),a+=1;for(a=0;a<d;)0!==(b[a][0]&32768)&&this.gq(a,b),0!==(b[a][e-1]&1)&&this.hq(e-1,a,b),a+=1};a.prototype.Lg=function(a,d){var f,e=this.oa,g,c=this.oh,u=0,h=this.Uc[u],C=this.gd[u],l=0,m=b.Ap,r=m-1,E=0,z=m,x=this.fb,t=this.hb,H=2<this.g?0:b.Ua,n=2<this.g?0:b.Jd,v=this.Wm;h[l]=a;C[l]=d;l+=1;for(e[d][a]=0;0<l;)for(--l,l<E&&(--u,E-=m,z-=m,h=this.Uc[u],C=this.gd[u]),a=h[l&r],d=C[l&r],f=d-v;f<=d+v;){var D=a-v;for(g=e[f];D<=a+v;)D===(D&x)&&f===(f&t)&&g[D]>=H&&(g[D]=n,l===z&&(u+=1,E+=m,z+=m,u>c&&
(this.Uc[u]=this.i.X(Int32,m,"Life.boundaryX"+u),this.gd[u]=this.i.X(Int32,m,"Life.boundaryY"+u),this.oh=c+=1),h=this.Uc[u],C=this.gd[u]),h[l&r]=D,C[l&r]=f,l+=1),D+=1;f+=1}};a.prototype.xk=function(){var a=this.oa,d=a.length,e=a[0].length,c=this.v,J=c.G,I=c.M,u=c.A,h=c.L,C=2*this.Vb.yc+1,l=2<this.g?0:b.Ua,m,r;if(d-h<=C){for(r=d-C;r<=h;r+=1){var E=a[r];for(m=J;m<=I;m+=1)E[m]>=l&&this.Lg(m,r)}c.L=d-C}if(u<=C){for(r=u;r<=C;r+=1)for(E=a[r],m=J;m<=I;m+=1)E[m]>=l&&this.Lg(m,r);c.A=C}if(J<=C){for(r=u;r<=
h;r+=1)for(E=a[r],m=J;m<=C;m+=1)E[m]>=l&&this.Lg(m,r);c.G=C}if(e-I<=C){for(r=u;r<=h;r+=1)for(E=a[r],m=e-C;m<=I;m+=1)E[m]>=l&&this.Lg(m,r);c.M=e-C}};a.prototype.Um=function(){var a,d,e,c,J,I=this.ce,u,h=this.height,C=this.width,l=C>>4,m=this.v,r=h,E=-1,z=C,x=-1,t=this.j,H=this.f>>4,n=this.tb;var v=0;var D=t,p=this.be,y=0,w=0,q=0;if(0!==(this.o&1)){var G=this.V;var B=this.gb;var L=this.Ja;var M=this.qa;var A=this.zh}else G=this.gb,B=this.V,L=this.qa,M=this.Ja,A=this.yh;for(d=0;d<I.length;d+=1)I[d]=
0;0>v&&(v=0);D>t&&(D=t);var T=v<<4;var Z=T+16;for(d=v;d<D;d+=1){var Y=M[d];for(e=0;e<Y.length;e+=1)Y[e]=0}for(d=v;d<D;d+=1){var S=0;Y=L[d];var ba=M[d];var X=0<d?M[d-1]:n;var N=d<t-1?M[d+1]:n;for(e=0;e<H;e+=1)if(c=Y[e]){var R=ba[e];var U=X[e];var ca=N[e];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var P=u=0;var K=T;var Q=0===K?this.wa:G[K-1];var W=G[K];v=G[K+1];var ha=J=W[S];Q=Q[S-1]<<18|Q[S]<<2|Q[S+1]>>14;var V=W[S-1]<<18|J<<2|W[S+1]>>14;var O=v[S-1]<<18|v[S]<<2|v[S+1]>>14;var aa=A[Q>>7&7936|O>>11&224|V>>
15&31]<<15;aa|=A[O>>6&7936|Q>>10&224|V>>14&31]<<14;aa|=A[Q>>5&7936|O>>9&224|V>>13&31]<<13;aa|=A[O>>4&7936|Q>>8&224|V>>12&31]<<12;aa|=A[Q>>3&7936|O>>7&224|V>>11&31]<<11;aa|=A[O>>2&7936|Q>>6&224|V>>10&31]<<10;aa|=A[Q>>1&7936|O>>5&224|V>>9&31]<<9;aa|=A[O>>0&7936|Q>>4&224|V>>8&31]<<8;aa|=A[Q<<1&7936|O>>3&224|V>>7&31]<<7;aa|=A[O<<2&7936|Q>>2&224|V>>6&31]<<6;aa|=A[Q<<3&7936|O>>1&224|V>>5&31]<<5;aa|=A[O<<4&7936|Q>>0&224|V>>4&31]<<4;aa|=A[Q<<5&7936|O<<1&224|V>>3&31]<<3;aa|=A[O<<6&7936|Q<<2&224|V>>2&31]<<
2;aa|=A[Q<<7&7936|O<<3&224|V>>1&31]<<1;aa|=A[O<<8&7936|Q<<4&224|V>>0&31]<<0;B[K][S]=aa;y+=p[aa];w+=p[aa&~J];q+=p[J&~aa];aa&&(u|=aa,K<r&&(r=K),K>E&&(E=K),0!==(aa&49152)&&(P|=b.te),0!==(aa&3)&&(P|=b.ue),P|=b.Id);for(K+=1;K<Z-1;){J=v[S];ha|=J;v=G[K+1];Q=V;V=O;O=v[S-1]<<18|v[S]<<2|v[S+1]>>14;0!==(K&1)&&(W=Q,Q=O,O=W);aa=A[Q>>7&7936|O>>11&224|V>>15&31]<<15;aa|=A[O>>6&7936|Q>>10&224|V>>14&31]<<14;aa|=A[Q>>5&7936|O>>9&224|V>>13&31]<<13;aa|=A[O>>4&7936|Q>>8&224|V>>12&31]<<12;aa|=A[Q>>3&7936|O>>7&224|V>>11&
31]<<11;aa|=A[O>>2&7936|Q>>6&224|V>>10&31]<<10;aa|=A[Q>>1&7936|O>>5&224|V>>9&31]<<9;aa|=A[O>>0&7936|Q>>4&224|V>>8&31]<<8;aa|=A[Q<<1&7936|O>>3&224|V>>7&31]<<7;aa|=A[O<<2&7936|Q>>2&224|V>>6&31]<<6;aa|=A[Q<<3&7936|O>>1&224|V>>5&31]<<5;aa|=A[O<<4&7936|Q>>0&224|V>>4&31]<<4;aa|=A[Q<<5&7936|O<<1&224|V>>3&31]<<3;aa|=A[O<<6&7936|Q<<2&224|V>>2&31]<<2;aa|=A[Q<<7&7936|O<<3&224|V>>1&31]<<1;aa|=A[O<<8&7936|Q<<4&224|V>>0&31]<<0;y+=p[aa];w+=p[aa&~J];q+=p[J&~aa];0!==(K&1)&&(O=W=Q);if(B[K][S]=aa)u|=aa,K<r&&(r=K),K>
E&&(E=K);K+=1}J=v[S];ha|=J;v=K===this.height-1?this.wa:G[K+1];Q=V;V=O;O=v[S-1]<<18|v[S]<<2|v[S+1]>>14;0!==(K&1)&&(W=Q,Q=O,O=W);aa=A[Q>>7&7936|O>>11&224|V>>15&31]<<15;aa|=A[O>>6&7936|Q>>10&224|V>>14&31]<<14;aa|=A[Q>>5&7936|O>>9&224|V>>13&31]<<13;aa|=A[O>>4&7936|Q>>8&224|V>>12&31]<<12;aa|=A[Q>>3&7936|O>>7&224|V>>11&31]<<11;aa|=A[O>>2&7936|Q>>6&224|V>>10&31]<<10;aa|=A[Q>>1&7936|O>>5&224|V>>9&31]<<9;aa|=A[O>>0&7936|Q>>4&224|V>>8&31]<<8;aa|=A[Q<<1&7936|O>>3&224|V>>7&31]<<7;aa|=A[O<<2&7936|Q>>2&224|V>>
6&31]<<6;aa|=A[Q<<3&7936|O>>1&224|V>>5&31]<<5;aa|=A[O<<4&7936|Q>>0&224|V>>4&31]<<4;aa|=A[Q<<5&7936|O<<1&224|V>>3&31]<<3;aa|=A[O<<6&7936|Q<<2&224|V>>2&31]<<2;aa|=A[Q<<7&7936|O<<3&224|V>>1&31]<<1;aa|=A[O<<8&7936|Q<<4&224|V>>0&31]<<0;y+=p[aa];w+=p[aa&~J];q+=p[J&~aa];if(B[K][S]=aa)u|=aa,K<r&&(r=K),K>E&&(E=K),0!==(aa&49152)&&(P|=b.Pe),0!==(aa&3)&&(P|=b.Qe),P|=b.Xd;u&&(0!==(u&49152)&&(P|=b.Pd),0!==(u&3)&&(P|=b.Td));I[S]|=u;if(u||ha)R|=1<<a,P&&(0!==(P&b.Pd)&&(15>a?R|=1<<a+1:0<e&&0<S&&(ba[e-1]|=1)),0!==(P&
b.Td)&&(0<a?R|=1<<a-1:e<H-1&&S<l-1&&(ba[e+1]|=32768)),0!==(P&b.Id)&&(U|=1<<a),0!==(P&b.Xd)&&(ca|=1<<a),0!==(P&b.te)&&(15>a?U|=1<<a+1:0<e&&0<S&&(X[e-1]|=1)),0!==(P&b.ue)&&(0<a?U|=1<<a-1:e<H-1&&S<l-1&&(X[e+1]|=32768)),0!==(P&b.Pe)&&(15>a?ca|=1<<a+1:0<e&&0<S&&(N[e-1]|=1)),0!==(P&b.Qe)&&(0<a?ca|=1<<a-1:e<H-1&&S<l-1&&(N[e+1]|=32768)))}S+=1}ba[e]|=R;0<d&&(X[e]|=U);d<t-1&&(N[e]|=ca)}else S+=16;T+=16;Z+=16}for(e=0;e<l;e+=1)I[e]&&(e<z&&(z=e),e>x&&(x=e));z=(z<<4)+this.wg(I[z]);x=(x<<4)+this.Ig(I[x]);0>E&&(E=
h-1);r>=h&&(r=0);z>=C&&(z=0);0>x&&(x=C-1);E>h-1&&(E=h-1);0>r&&(r=0);0>z&&(z=0);x>C-1&&(x=C-1);m.L=E;m.A=r;m.G=z;m.M=x;for(d=0;d<n.length;d+=1)n[d]=0;this.xa=y;this.Cb=w;this.kc=q};a.prototype.Jm=function(){var a,d,e,c,J=this.ce,I,u=this.height,h=this.width,C=h>>4,l=this.v,m=u,r=-1,E=h,z=-1,x=this.j,t=this.f>>4,H=this.tb;var n=0;var v=x;if(0!==(this.o&1)){var D=this.V;var p=this.gb;var y=this.Ja;var w=this.qa;var q=this.zh}else D=this.gb,p=this.V,y=this.qa,w=this.Ja,q=this.yh;for(d=0;d<J.length;d+=
1)J[d]=0;0>n&&(n=0);v>x&&(v=x);var G=n<<4;var B=G+16;for(d=n;d<v;d+=1){var L=w[d];for(e=0;e<L.length;e+=1)L[e]=0}for(d=n;d<v;d+=1){var M=0;L=y[d];var A=w[d];var T=0<d?w[d-1]:H;var Z=d<x-1?w[d+1]:H;for(e=0;e<t;e+=1)if(c=L[e]){var Y=A[e];var S=T[e];var ba=Z[e];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var X=I=0;var N=G;var R=0===N?this.wa:D[N-1];var U=D[N];n=D[N+1];var ca=U[M];R=R[M-1]<<18|R[M]<<2|R[M+1]>>14;var P=U[M-1]<<18|ca<<2|U[M+1]>>14;var K=n[M-1]<<18|n[M]<<2|n[M+1]>>14;var Q=q[R>>7&7936|K>>11&224|
P>>15&31]<<15;Q|=q[K>>6&7936|R>>10&224|P>>14&31]<<14;Q|=q[R>>5&7936|K>>9&224|P>>13&31]<<13;Q|=q[K>>4&7936|R>>8&224|P>>12&31]<<12;Q|=q[R>>3&7936|K>>7&224|P>>11&31]<<11;Q|=q[K>>2&7936|R>>6&224|P>>10&31]<<10;Q|=q[R>>1&7936|K>>5&224|P>>9&31]<<9;Q|=q[K>>0&7936|R>>4&224|P>>8&31]<<8;Q|=q[R<<1&7936|K>>3&224|P>>7&31]<<7;Q|=q[K<<2&7936|R>>2&224|P>>6&31]<<6;Q|=q[R<<3&7936|K>>1&224|P>>5&31]<<5;Q|=q[K<<4&7936|R>>0&224|P>>4&31]<<4;Q|=q[R<<5&7936|K<<1&224|P>>3&31]<<3;Q|=q[K<<6&7936|R<<2&224|P>>2&31]<<2;Q|=q[R<<
7&7936|K<<3&224|P>>1&31]<<1;Q|=q[K<<8&7936|R<<4&224|P>>0&31]<<0;if(p[N][M]=Q)I|=Q,N<m&&(m=N),N>r&&(r=N),0!==(Q&49152)&&(X|=b.te),0!==(Q&3)&&(X|=b.ue),X|=b.Id;for(N+=1;N<B-1;){ca|=n[M];n=D[N+1];R=P;P=K;K=n[M-1]<<18|n[M]<<2|n[M+1]>>14;0!==(N&1)&&(U=R,R=K,K=U);Q=q[R>>7&7936|K>>11&224|P>>15&31]<<15;Q|=q[K>>6&7936|R>>10&224|P>>14&31]<<14;Q|=q[R>>5&7936|K>>9&224|P>>13&31]<<13;Q|=q[K>>4&7936|R>>8&224|P>>12&31]<<12;Q|=q[R>>3&7936|K>>7&224|P>>11&31]<<11;Q|=q[K>>2&7936|R>>6&224|P>>10&31]<<10;Q|=q[R>>1&7936|
K>>5&224|P>>9&31]<<9;Q|=q[K>>0&7936|R>>4&224|P>>8&31]<<8;Q|=q[R<<1&7936|K>>3&224|P>>7&31]<<7;Q|=q[K<<2&7936|R>>2&224|P>>6&31]<<6;Q|=q[R<<3&7936|K>>1&224|P>>5&31]<<5;Q|=q[K<<4&7936|R>>0&224|P>>4&31]<<4;Q|=q[R<<5&7936|K<<1&224|P>>3&31]<<3;Q|=q[K<<6&7936|R<<2&224|P>>2&31]<<2;Q|=q[R<<7&7936|K<<3&224|P>>1&31]<<1;Q|=q[K<<8&7936|R<<4&224|P>>0&31]<<0;0!==(N&1)&&(K=U=R);if(p[N][M]=Q)I|=Q,N<m&&(m=N),N>r&&(r=N);N+=1}ca|=n[M];n=N===this.height-1?this.wa:D[N+1];R=P;P=K;K=n[M-1]<<18|n[M]<<2|n[M+1]>>14;0!==(N&1)&&
(U=R,R=K,K=U);Q=q[R>>7&7936|K>>11&224|P>>15&31]<<15;Q|=q[K>>6&7936|R>>10&224|P>>14&31]<<14;Q|=q[R>>5&7936|K>>9&224|P>>13&31]<<13;Q|=q[K>>4&7936|R>>8&224|P>>12&31]<<12;Q|=q[R>>3&7936|K>>7&224|P>>11&31]<<11;Q|=q[K>>2&7936|R>>6&224|P>>10&31]<<10;Q|=q[R>>1&7936|K>>5&224|P>>9&31]<<9;Q|=q[K>>0&7936|R>>4&224|P>>8&31]<<8;Q|=q[R<<1&7936|K>>3&224|P>>7&31]<<7;Q|=q[K<<2&7936|R>>2&224|P>>6&31]<<6;Q|=q[R<<3&7936|K>>1&224|P>>5&31]<<5;Q|=q[K<<4&7936|R>>0&224|P>>4&31]<<4;Q|=q[R<<5&7936|K<<1&224|P>>3&31]<<3;Q|=q[K<<
6&7936|R<<2&224|P>>2&31]<<2;Q|=q[R<<7&7936|K<<3&224|P>>1&31]<<1;Q|=q[K<<8&7936|R<<4&224|P>>0&31]<<0;if(p[N][M]=Q)I|=Q,N<m&&(m=N),N>r&&(r=N),0!==(Q&49152)&&(X|=b.Pe),0!==(Q&3)&&(X|=b.Qe),X|=b.Xd;I&&(0!==(I&49152)&&(X|=b.Pd),0!==(I&3)&&(X|=b.Td));J[M]|=I;if(I||ca)Y|=1<<a,X&&(0!==(X&b.Pd)&&(15>a?Y|=1<<a+1:0<e&&0<M&&(A[e-1]|=1)),0!==(X&b.Td)&&(0<a?Y|=1<<a-1:e<t-1&&M<C-1&&(A[e+1]|=32768)),0!==(X&b.Id)&&(S|=1<<a),0!==(X&b.Xd)&&(ba|=1<<a),0!==(X&b.te)&&(15>a?S|=1<<a+1:0<e&&0<M&&(T[e-1]|=1)),0!==(X&b.ue)&&
(0<a?S|=1<<a-1:e<t-1&&M<C-1&&(T[e+1]|=32768)),0!==(X&b.Pe)&&(15>a?ba|=1<<a+1:0<e&&0<M&&(Z[e-1]|=1)),0!==(X&b.Qe)&&(0<a?ba|=1<<a-1:e<t-1&&M<C-1&&(Z[e+1]|=32768)))}M+=1}A[e]|=Y;0<d&&(T[e]|=S);d<x-1&&(Z[e]|=ba)}else M+=16;G+=16;B+=16}for(e=0;e<C;e+=1)J[e]&&(e<E&&(E=e),e>z&&(z=e));E=(E<<4)+this.wg(J[E]);z=(z<<4)+this.Ig(J[z]);0>r&&(r=u-1);m>=u&&(m=0);E>=h&&(E=0);0>z&&(z=h-1);r>u-1&&(r=u-1);0>m&&(m=0);0>E&&(E=0);z>h-1&&(z=h-1);l.L=r;l.A=m;l.G=E;l.M=z;for(d=0;d<H.length;d+=1)H[d]=0};a.prototype.Bm=function(){var a,
d,e,c,J=this.ce,I,u=this.height,h=this.width,C=h>>4,l=this.v,m=u,r=-1,E=h,z=-1,x=this.j,t=this.f>>4,H=this.tb;var n=0;var v=x;if(0!==(this.o&1)){var D=this.V;var p=this.gb;var y=this.Ja;var w=this.qa;var q=this.vg}else D=this.gb,p=this.V,y=this.qa,w=this.Ja,q=this.tg;for(d=0;d<J.length;d+=1)J[d]=0;0>n&&(n=0);v>x&&(v=x);var G=n<<4;var B=G+16;for(d=n;d<v;d+=1){var L=w[d];for(e=0;e<L.length;e+=1)L[e]=0}for(d=n;d<v;d+=1){var M=0;L=y[d];var A=w[d];var T=0<d?w[d-1]:H;var Z=d<x-1?w[d+1]:H;for(e=0;e<t;e+=
1)if(c=L[e]){var Y=A[e];var S=T[e];var ba=Z[e];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var X=I=0;var N=G;var R=0===N?this.wa:D[N-1];var U=D[N];n=D[N+1];var ca=U[M];if(M)if(M>=C-1){R=R[M-1]<<17|R[M]<<1;U=U[M-1]<<17|ca<<1;var P=n[M-1]<<17|n[M]<<1;var K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N),0!==(K&32768)&&(X|=b.te),X|=b.Id;for(N+=1;N<B-1;){ca|=
n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1}ca|=n[M];n=N===this.height-1?this.wa:D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=
K)I|=K,N<m&&(m=N),N>r&&(r=N),0!==(K&32768)&&(X|=b.Pe),X|=b.Xd}else{R=R[M-1]<<17|R[M]<<1|R[M+1]>>15;U=U[M-1]<<17|ca<<1|U[M+1]>>15;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N),0!==(K&32768)&&(X|=b.te),0!==(K&1)&&(X|=b.ue),X|=b.Id;N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>
12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<
17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=
1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=
K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&
63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|
(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&
63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|
(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1;ca|=n[M];n=N===this.height-1?this.wa:D[N+1];R=U;U=P;P=n[M-1]<<17|n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N),0!==(K&32768)&&(X|=b.Pe),
0!==(K&1)&&(X|=b.Qe),X|=b.Xd}else{R=R[M]<<1|R[M+1]>>15;U=ca<<1|U[M+1]>>15;P=n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N),0!==(K&1)&&(X|=b.ue),X|=b.Id;for(N+=1;N<B-1;){ca|=n[M];n=D[N+1];R=U;U=P;P=n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>
4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N);N+=1}ca|=n[M];n=N===this.height-1?this.wa:D[N+1];R=U;U=P;P=n[M]<<1|n[M+1]>>15;K=q[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;K|=q[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;K|=q[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;K|=q[R&63|(U&63)<<6|(P&63)<<12];if(p[N][M]=K)I|=K,N<m&&(m=N),N>r&&(r=N),0!==(K&1)&&(X|=b.Qe),X|=b.Xd}I&&(0!==(I&32768)&&(X|=b.Pd),0!==(I&1)&&(X|=b.Td));J[M]|=I;if(I||ca)Y|=1<<a,X&&(0!==(X&b.Pd)&&
(15>a?Y|=1<<a+1:0<e&&0<M&&(A[e-1]|=1)),0!==(X&b.Td)&&(0<a?Y|=1<<a-1:e<t-1&&M<C-1&&(A[e+1]|=32768)),0!==(X&b.Id)&&(S|=1<<a),0!==(X&b.Xd)&&(ba|=1<<a),0!==(X&b.te)&&(15>a?S|=1<<a+1:0<e&&0<M&&(T[e-1]|=1)),0!==(X&b.ue)&&(0<a?S|=1<<a-1:e<t-1&&M<C-1&&(T[e+1]|=32768)),0!==(X&b.Pe)&&(15>a?ba|=1<<a+1:0<e&&0<M&&(Z[e-1]|=1)),0!==(X&b.Qe)&&(0<a?ba|=1<<a-1:e<t-1&&M<C-1&&(Z[e+1]|=32768)))}M+=1}A[e]|=Y;0<d&&(T[e]|=S);d<x-1&&(Z[e]|=ba)}else M+=16;G+=16;B+=16}for(e=0;e<C;e+=1)J[e]&&(e<E&&(E=e),e>z&&(z=e));E=(E<<4)+
this.wg(J[E]);z=(z<<4)+this.Ig(J[z]);0>r&&(r=u-1);m>=u&&(m=0);E>=h&&(E=0);0>z&&(z=h-1);r>u-1&&(r=u-1);0>m&&(m=0);0>E&&(E=0);z>h-1&&(z=h-1);l.L=r;l.A=m;l.G=E;l.M=z;for(d=0;d<H.length;d+=1)H[d]=0};a.prototype.Om=function(){var a,d,e,c,J,I=this.ce,u,h=this.height,C=this.width,l=C>>4,m=this.v,r=h,E=-1,z=C,x=-1,t=this.j,H=this.f>>4,n=this.tb,v=this.be,D=0,p=0,y=0;var w=0;var q=t;if(0!==(this.o&1)){var G=this.V;var B=this.gb;var L=this.Ja;var M=this.qa;var A=this.vg}else G=this.gb,B=this.V,L=this.qa,M=
this.Ja,A=this.tg;for(d=0;d<I.length;d+=1)I[d]=0;0>w&&(w=0);q>t&&(q=t);var T=w<<4;var Z=T+16;for(d=w;d<q;d+=1){var Y=M[d];for(e=0;e<Y.length;e+=1)Y[e]=0}for(d=w;d<q;d+=1){var S=0;Y=L[d];var ba=M[d];var X=0<d?M[d-1]:n;var N=d<t-1?M[d+1]:n;for(e=0;e<H;e+=1)if(c=Y[e]){var R=ba[e];var U=X[e];var ca=N[e];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var P=u=0;var K=T;var Q=0===K?this.wa:G[K-1];var W=G[K];w=G[K+1];var ha=J=W[S];if(S)if(S>=l-1){Q=Q[S-1]<<17|Q[S]<<1;W=W[S-1]<<17|J<<1;var V=w[S-1]<<17|w[S]<<1;var O=
A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=A[Q&63|(W&63)<<6|(V&63)<<12];B[K][S]=O;D+=v[O];p+=v[O&~J];y+=v[J&~O];O&&(u|=O,K<r&&(r=K),K>E&&(E=K),0!==(O&32768)&&(P|=b.te),P|=b.Id);for(K+=1;K<Z-1;)J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],
B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1;J=w[S];ha|=J;w=K===this.height-1?this.wa:G[K+1];Q=W;W=V;V=w[S-1]<<17|w[S]<<1;O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=A[Q&63|(W&63)<<6|(V&63)<<12];B[K][S]=O;D+=v[O];p+=v[O&~J];y+=v[J&~O];O&&(u|=O,K<r&&(r=K),K>E&&(E=K),0!==(O&32768)&&(P|=b.Pe),P|=b.Xd)}else Q=Q[S-1]<<17|Q[S]<<1|Q[S+1]>>15,W=W[S-1]<<17|J<<1|W[S+1]>>15,V=w[S-1]<<
17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K),0!==(O&32768)&&(P|=b.te),0!==(O&1)&&(P|=b.ue),P|=b.Id),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>
4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&
63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],
O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>
4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|
w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],
p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>
8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=
V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<
12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1,J=w[S],ha|=J,w=K===this.height-1?this.wa:G[K+1],Q=W,W=V,V=w[S-1]<<17|w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K),0!==(O&32768)&&(P|=b.Pe),0!==(O&1)&&(P|=b.Qe),P|=b.Xd);else{Q=Q[S]<<1|Q[S+1]>>15;W=J<<1|W[S+1]>>
15;V=w[S]<<1|w[S+1]>>15;O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=A[Q&63|(W&63)<<6|(V&63)<<12];B[K][S]=O;D+=v[O];p+=v[O&~J];y+=v[J&~O];O&&(u|=O,K<r&&(r=K),K>E&&(E=K),0!==(O&1)&&(P|=b.ue),P|=b.Id);for(K+=1;K<Z-1;)J=w[S],ha|=J,w=G[K+1],Q=W,W=V,V=w[S]<<1|w[S+1]>>15,O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=A[Q&
63|(W&63)<<6|(V&63)<<12],B[K][S]=O,D+=v[O],p+=v[O&~J],y+=v[J&~O],O&&(u|=O,K<r&&(r=K),K>E&&(E=K)),K+=1;J=w[S];ha|=J;w=K===this.height-1?this.wa:G[K+1];Q=W;W=V;V=w[S]<<1|w[S+1]>>15;O=A[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=A[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=A[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=A[Q&63|(W&63)<<6|(V&63)<<12];B[K][S]=O;D+=v[O];p+=v[O&~J];y+=v[J&~O];O&&(u|=O,K<r&&(r=K),K>E&&(E=K),0!==(O&1)&&(P|=b.Qe),P|=b.Xd)}u&&(0!==(u&32768)&&(P|=b.Pd),0!==(u&1)&&(P|=b.Td));I[S]|=
u;if(u||ha)R|=1<<a,P&&(0!==(P&b.Pd)&&(15>a?R|=1<<a+1:0<e&&0<S&&(ba[e-1]|=1)),0!==(P&b.Td)&&(0<a?R|=1<<a-1:e<H-1&&S<l-1&&(ba[e+1]|=32768)),0!==(P&b.Id)&&(U|=1<<a),0!==(P&b.Xd)&&(ca|=1<<a),0!==(P&b.te)&&(15>a?U|=1<<a+1:0<e&&0<S&&(X[e-1]|=1)),0!==(P&b.ue)&&(0<a?U|=1<<a-1:e<H-1&&S<l-1&&(X[e+1]|=32768)),0!==(P&b.Pe)&&(15>a?ca|=1<<a+1:0<e&&0<S&&(N[e-1]|=1)),0!==(P&b.Qe)&&(0<a?ca|=1<<a-1:e<H-1&&S<l-1&&(N[e+1]|=32768)))}S+=1}ba[e]|=R;0<d&&(X[e]|=U);d<t-1&&(N[e]|=ca)}else S+=16;T+=16;Z+=16}for(e=0;e<l;e+=
1)I[e]&&(e<z&&(z=e),e>x&&(x=e));z=(z<<4)+this.wg(I[z]);x=(x<<4)+this.Ig(I[x]);0>E&&(E=h-1);r>=h&&(r=0);z>=C&&(z=0);0>x&&(x=C-1);E>h-1&&(E=h-1);0>r&&(r=0);0>z&&(z=0);x>C-1&&(x=C-1);m.L=E;m.A=r;m.G=z;m.M=x;for(d=0;d<n.length;d+=1)n[d]=0;this.xa=D;this.Cb=p;this.kc=y};a.prototype.nj=function(a,d){var e,b=this.Va,c,f,g,h,C=this.j,l=this.f>>4;var m=0;var r=m+16;for(c=0;c<C;c+=1){var E=0;var z=b[c];for(f=0;f<l;f+=1)if(h=z[f])for(g=15;0<=g;--g){if(0!==(h&1<<g))for(e=m;e<r;e+=2){var x=a[e];var t=a[e+1];var H=
d[e];var n=E<<3;var v=0;var D=x[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);D=t[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);H[n+n]=v;n+=1;v=0;D=x[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);D=t[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);H[n+n]=v;n+=1;v=0;D=x[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);D=t[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);H[n+n]=v;n+=1;v=0;D=x[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);D=t[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);H[n+n]=v;n+=1;v=0;D=x[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=
D);D=t[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);H[n+n]=v;n+=1;v=0;D=x[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);D=t[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);H[n+n]=v;n+=1;v=0;D=x[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);D=t[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);H[n+n]=v;n+=1;v=0;D=x[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);D=t[n];(D&255)>v&&(v=D&255);D>>=8;D>v&&(v=D);H[n+n]=v}E+=1}else E+=16;m+=16;r+=16}};a.prototype.oj=function(a,d){var e,b=this.Va,c,f,g,h,C=this.j,l=this.f>>4;var m=0;var r=m+
16;for(c=0;c<C;c+=1){var E=0;var z=b[c];for(f=0;f<l;f+=1)if(h=z[f])for(g=15;0<=g;--g){if(0!==(h&1<<g))for(e=m;e<r;e+=4){var x=d[e];var t=a[e];var H=a[e+2];var n=E<<4;var v=t[n];var D=t[n+2];D>v&&(v=D);D=H[n];D>v&&(v=D);D=H[n+2];D>v&&(v=D);x[n]=v;n+=4;v=t[n];D=t[n+2];D>v&&(v=D);D=H[n];D>v&&(v=D);D=H[n+2];D>v&&(v=D);x[n]=v;n+=4;v=t[n];D=t[n+2];D>v&&(v=D);D=H[n];D>v&&(v=D);D=H[n+2];D>v&&(v=D);x[n]=v;n+=4;v=t[n];D=t[n+2];D>v&&(v=D);D=H[n];D>v&&(v=D);D=H[n+2];D>v&&(v=D);x[n]=v}E+=1}else E+=16;m+=16;r+=
16}};a.prototype.pj=function(a,d){var e,b=this.Va,c,f,g,h,C=this.j,l=this.f>>4;var m=0;var r=m+16;for(c=0;c<C;c+=1){var E=0;var z=b[c];for(f=0;f<l;f+=1)if(h=z[f])for(g=15;0<=g;--g){if(0!==(h&1<<g))for(e=m;e<r;e+=8){var x=d[e];var t=a[e];var H=a[e+4];var n=E<<4;var v=t[n];var D=t[n+4];D>v&&(v=D);D=H[n];D>v&&(v=D);D=H[n+4];D>v&&(v=D);x[n]=v;n+=8;v=t[n];D=t[n+4];D>v&&(v=D);D=H[n];D>v&&(v=D);D=H[n+4];D>v&&(v=D);x[n]=v}E+=1}else E+=16;m+=16;r+=16}};a.prototype.fi=function(a,d){var e=this.Va,b,c,f,g,h,
C=this.j,l=this.f>>4;for(b=g=0;b<C;b+=1){var m=0;var r=e[b];for(c=0;c<l;c+=1)if(h=r[c])for(f=15;0<=f;--f){if(0!==(h&1<<f)){var E=d[g];var z=a[g];var x=a[g+8];var t=m<<4;var H=z[t];z=z[t+8];z>H&&(H=z);z=x[t];z>H&&(H=z);z=x[t+8];z>H&&(H=z);E[t]=H}m+=1}else m+=16;g+=16}};a.prototype.Wl=function(){1>this.na&&(this.nj(this.sh,this.K),.5>this.na&&(this.oj(this.K,this.Ca),.25>this.na&&(this.pj(this.Ca,this.Fa),.125>this.na&&this.fi(this.Fa,this.cb))));this.Ff&&1>this.na&&(this.nj(this.Bg,this.fa),.5>this.na&&
(this.oj(this.fa,this.gf),.25>this.na&&(this.pj(this.gf,this.hf),.125>this.na&&this.fi(this.hf,this.Kg))))};a.prototype.xm=function(){var a=this.oa,d=this.Va,e=this.eb,b,c,I,u,h,C=0,l=0,m=0;var r=this.j;var E=this.f>>4;var z=0;var x=r,t=this.g+this.ca-1,H=this.ca,n=0<this.ca?1:0;this.va=0;if(0!==(this.o&1)){var v=this.V;var D=this.Ja}else v=this.gb,D=this.qa;0>z&&(z=0);x>r&&(x=r);r=z<<4;var p=r+16;for(c=z;c<x;c+=1){var y=0;var w=D[c];var q=e[c];var G=d[c];for(I=0;I<E;I+=1){var B=w[I]|q[I];var L=0;
if(B)for(u=15;0<=u;--u){if(0!==(B&1<<u)){var M=0;for(z=r;z<p;z+=1){var A=v[z];var T=a[z];var Z=y<<4;var Y=A[y];for(h=32768;0<h;h>>=1){var S=b=T[Z];(b<=H||b===t)&&0!==(Y&h)?b=t:(Y&=~h,b>n&&--b);T[Z]=b;b>n&&(M=1,b===t&&(C+=1,S!==t&&(l+=1)));S===t&&b!==t&&(m+=1);Z+=1}A[y]=Y;this.va|=Y}M&&(L|=1<<u)}y+=1}else y+=16;q[I]=L;G[I]|=L}r+=16;p+=16}this.xa=C;this.Cb=l;this.kc=m};a.prototype.im=function(){var a=this.oa,d=this.Va,e,b,c,I,u;var h=this.j;var C=this.f>>4;var l=0;var m=h,r=0<this.ca?1:0;0>l&&(l=0);
m>h&&(m=h);h=l<<4;var E=h+16;for(e=l;e<m;e+=1){var z=0;var x=d[e];for(b=0;b<C;b+=1)if(u=x[b])for(c=15;0<=c;--c){if(0!==(u&1<<c))for(l=h;l<E;l+=1){var t=a[l];var H=z<<4;for(I=15;0<=I;--I){var n=t[H];n>r&&(--n,t[H]=n);H+=1}}z+=1}else z+=16;h+=16;E+=16}};a.prototype.Dj=function(){this.Eb||(-1===this.g?this.vl():this.va||this.im(),this.fg&&this.vk())};a.prototype.vl=function(){var a=this.oa,d=this.Va,e=this.eb,b=this.bo,c=this.tc+1,I,u,h;var C=this.j;var l=this.f>>4;var m=0;var r=C;this.va=0;if(0!==(this.o&
1)){var E=this.V;var z=this.Ja}else E=this.gb,z=this.qa;0>m&&(m=0);r>C&&(r=C);C=m<<4;var x=C+16;for(I=m;I<r;I+=1){var t=0;var H=z[I];var n=e[I];var v=d[I];for(u=0;u<l;u+=1){var D=H[u]|n[u];var p=0;if(D)for(h=15;0<=h;--h){if(0!==(D&1<<h)){var y=0;for(m=C;m<x;){var w=E[m];var q=a[m];var G=t<<4;w=w[t];this.va|=w;y|=w;if(0!==(w&32768))var B=b[q[G]+c];else B=b[q[G]],y|=1<B;q[G]=B;G+=1;0!==(w&16384)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&8192)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&
4096)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&2048)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&1024)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&512)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&256)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&128)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&64)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&32)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&16)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&8)?B=b[q[G]+
c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&4)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&2)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&1)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;m+=1;w=E[m];q=a[m];G=t<<4;w=w[t];this.va|=w;y|=w;0!==(w&32768)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&16384)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&8192)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&4096)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&2048)?B=b[q[G]+c]:(B=b[q[G]],y|=
1<B);q[G]=B;G+=1;0!==(w&1024)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&512)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&256)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&128)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&64)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&32)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&16)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&8)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&4)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;
G+=1;0!==(w&2)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&1)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;m+=1;w=E[m];q=a[m];G=t<<4;w=w[t];this.va|=w;y|=w;0!==(w&32768)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&16384)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&8192)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&4096)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&2048)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&1024)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&512)?
B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&256)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&128)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&64)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&32)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&16)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&8)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&4)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&2)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&1)?B=b[q[G]+c]:(B=b[q[G]],
y|=1<B);q[G]=B;m+=1;w=E[m];q=a[m];G=t<<4;w=w[t];this.va|=w;y|=w;0!==(w&32768)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&16384)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&8192)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&4096)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&2048)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&1024)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&512)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&256)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=
B;G+=1;0!==(w&128)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&64)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&32)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&16)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&8)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&4)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&2)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;G+=1;0!==(w&1)?B=b[q[G]+c]:(B=b[q[G]],y|=1<B);q[G]=B;m+=1}y&&(p|=1<<h)}t+=1}else t+=16;n[u]=p;v[u]|=p}C+=16;x+=16}};a.prototype.Ax=
function(a,b,d,e,c,I,u,h,C,l){var f=this.Nd;e=e*a+f.L;d=d*a+f.M;b=b*a+f.A;c=c*a+f.G;f=d-c+1;a=e-b+1;this.R&&(f=d-b/2-(c-e/2)+1);0===f&&(f=1);0===a&&(a=1);I/=f;u/=a;l=Math.round(1E3*(I>u?u:I)/l)/1E3;l<h?l=h:l>C&&(l=C);return l};a.prototype.sm=function(a){var b=a;1>a&&(b=1/a);var d=Math.round(b);(d<b?d/b:b/d)>=ViewConstants.Wz&&(a=1>a?1/d:d);return a};a.prototype.kg=function(a,b,d,e,c,I,u,h,C,l,m,r,E,z,x,t,H){var f=this.v,g=this.Nd,k=this.qd,J=this.vj;m?(J.L=z*a+g.L,J.M=E*a+g.M,J.A=r*a+g.A,J.G=x*a+
g.G,l&&(k.G<J.G&&(J.G=k.G),k.A<J.A&&(J.A=k.A),k.M>J.M&&(J.M=k.M),k.L>J.L&&(J.L=k.L)),f=J):l?f=k:this.pa&&(f=this.ea);a=f.G;l=f.M;m=f.L;f=f.A;this.Wb&&!t&&(g.G<a&&(a=g.G),g.M>l&&(l=g.M),g.L>m&&(m=g.L),g.A<f&&(f=g.A));-1!==this.ia&&(t=this.ma,g=this.ra,0<t&&(this.width/2-t/2<a&&(a=this.width/2-t/2),this.width/2+t/2>l&&(l=this.width/2+t/2)),0<g&&(this.height/2-g/2<f&&(f=this.height/2-g/2),this.height/2+g/2>m&&(m=this.height/2+g/2)));C?(t=u,g=h,a=this.width/2-t/2,l=this.width/2+t/2,m=this.height/2+g/
2,f=this.height/2-g/2):(t=l-a+1,g=m-f+1);this.R&&(a-=m/2,t=l-f/2-a+1);0===t&&(t=1);0===g&&(g=1);b/=t;d/=g;I=Math.round(1E3*(b>d?d:b)/I)/1E3;I/=this.Qb;I<e?I=e:I>c&&(I=c);e=f-this.yb+g/2;c=a-this.Fb+t/2;H||(I=this.sm(I));return[I,c,e]};a.prototype.am=function(a,b,d,e){var c=this.Zc,f=this.F,g=this.B;if(a>b){var h=b;b=a;a=h}0>a?a=0:a>=f&&(a=f-1);0>b?b=0:b>=f&&(b=f-1);a=d*f+a;b=d*f+b;f=b-15;if(0<=d&&d<g){for(;a<=f;)c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=
e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1,c[a]=e,a+=1;for(;a<=b;)c[a]=e,a+=1}};a.prototype.fm=function(a,b,e,d){var c=this.Zc,f=this.F,g=this.B;if(b>e){var h=e;e=b;b=h}0>b?b=0:b>=g&&(b=g-1);0>e?e=0:e>=g&&(e=g-1);b=b*f+a;e=e*f+a;g=e-15*f;if(0<=a&&a<f){for(;b<=g;)c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=f,c[b]=d,b+=
f;for(;b<=e;)c[b]=d,b+=f}};a.prototype.Xl=function(a,b,d,e,c){var f=Math.abs(d-a),g=Math.abs(e-b),h=a<d?1:-1,k=b<e?1:-1,l=f-g,m=this.F,r=this.B,E=this.Zc;if(!(0>a&&0>d||a>=m&&d>=m||0>b&&0>e||b>=r&&e>=r))if(0<=a&&a<m&&0<=b&&b<r&&0<=d&&d<m&&0<=e&&e<r)for(E[b*m+a]=c;a!==d||b!==e;){var z=l+l;z>-g&&(l-=g,a+=h);z<f&&(l+=f,b+=k);E[b*m+a]=c}else for(0<=a&&a<m&&0<=b&&b<r&&(E[b*m+a]=c);a!==d||b!==e;)z=l+l,z>-g&&(l-=g,a+=h),z<f&&(l+=f,b+=k),0<=a&&a<m&&0<=b&&b<r&&(E[b*m+a]=c)};a.prototype.rh=function(a,b,d,e,
c){var f=this.F/2,g=this.B/2;if(0!==this.Oa){a-=f;b-=g;var h=Math.sqrt(a*a+b*b);var k=180/Math.PI*Math.atan2(b,a);k+=this.Oa;a=Math.round(h*Math.cos(Math.PI/180*k)+f);b=Math.round(h*Math.sin(Math.PI/180*k)+g);d-=f;e-=g;h=Math.sqrt(d*d+e*e);k=180/Math.PI*Math.atan2(e,d);k+=this.Oa;d=Math.round(h*Math.cos(Math.PI/180*k)+f);e=Math.round(h*Math.sin(Math.PI/180*k)+g)}a===d?this.fm(a,b,e,c):b===e?this.am(a,d,b,c):this.Xl(a,b,d,e,c)};a.prototype.Ed=function(){var a,b=this.F,d=this.B,e=this.sg,c=this.Qf,
I=this.na,u=e,h,C,l=0<this.kf&&this.Jh,m=((this.height/2-(this.aa+this.yb))*I+d/2)%I,r=((this.width/2-(this.da+this.Fb))*I+b/2)%I;if(this.mb)var E=l?2:1;else E=1,l=!1,u=e=this.$f[0];for(h=e;E;){var z=-(b/2/I)-(this.width/2-this.da-this.Fb)|0;var x=22*-I;var t=b+I+22*I;var H=m-22*I;var n=d+22*I;var v=-b/1.5;var D=b+b/1.5;var p=-d/1.5;for(C=d+d/1.5;x<=t;x+=I)if(l&&(0===z%this.kf?u=c:u=e),z+=1,u===h)if(this.R){var y=-(d/2/I)-(this.height/2-this.aa-this.yb)|0;for(a=H;a<n;a+=I)0===(y&1)?this.rh(Math.round(x+
r),Math.round(a),Math.round(x+r),Math.round(a+I-1),u):this.rh(Math.round(x+r+I/2),Math.round(a),Math.round(x+r+I/2),Math.round(a+I-1),u),y+=1}else this.rh(Math.round(x+r),p,Math.round(x+r),C-1,u);z=-(d/2/I)-(this.height/2-this.aa-this.yb)|0;for(a=H;a<n;a+=I)l&&(0===z%this.kf?u=c:u=e),z+=1,u===h&&this.rh(v,Math.round(a),D-1,Math.round(a),u);--E;h=c}};a.prototype.Eh=function(){return 4<=this.na};a.prototype.Ru=function(a){var b=this.ma,d=this.ra,e=this.oa,c=Math.round((this.width-b)/2-1),f=c+b+1,u=
Math.round((this.height-d)/2-1),h=u+d+1,C=e[u],l=e[h];if(0===b)for(b=0;b<this.width;b+=1)C[b]=a,l[b]=a;else if(0===d)for(b=0;b<this.height;b+=1)e[b][c]=a,e[b][f]=a;else{for(b=c;b<=f;b+=1)C[b]=a,l[b]=a;for(b=u+1;b<=h-1;b+=1)e[b][c]=a,e[b][f]=a}};a.prototype.kB=function(){var a=this.$f[0],b=this.Zc,d;this.zj&&(this.Gu(),--this.zj,this.zj||(this.Tc.set(this.qc),this.Nb.set(this.Ia),this.ld.set(this.Lc),this.re.set(this.ae),this.jd.set(this.sc),this.lf.set(this.de)));this.na=this.zoom*this.Qb;this.na<
ViewConstants.Ya?this.na=ViewConstants.Ya:this.na>ViewConstants.Ib&&(this.na=ViewConstants.Ib);this.Dc=this.da+this.Fb;this.Ec=this.aa+this.yb;this.s=this.wc/2+1;this.Oa=this.R||this.ba?0:this.angle;-1!==this.ia&&this.Ru(this.rc);if(4<=this.na&&(this.Re&&this.R||this.ba)){var e=0;for(d=b.length;e<d;)b[e]=a,e+=1;this.Yc(1)}else this.Wl(),.125>this.na?this.Ff?this.Cg(this.Kg,this.cb,15):this.Dg(this.cb,15):.25>this.na?this.Ff?this.Cg(this.hf,this.Fa,7):this.Dg(this.Fa,7):.5>this.na?this.Ff?this.Cg(this.gf,
this.Ca,3):this.Dg(this.Ca,3):1>this.na?this.Ff?this.Cg(this.fa,this.K,1):this.Dg(this.K,1):this.Ff?this.Cg(this.lc,this.oa,0):this.Dg(this.oa,0)};a.prototype.Kn=function(a,b){var e=this.F>>3,d=this.$f,c=this.Zc,f,g,h=1,C=1,l=0,m=this.fb&~b,r=this.hb&~b,E=~b;b=~b;var z=a,x=this.na;1<this.s&&(h=this.N);a=Math.sin(this.Oa/180*Math.PI)/this.na;var t=Math.cos(this.Oa/180*Math.PI)/this.na;var H=-(this.F/2*-a+this.B/2*t)+this.Ec;var n=-(this.F/2*t+this.B/2*a)+this.Dc;1<this.N&&1<this.s&&(l=.4/(this.N-1),
C=.6);this.Yc(C);var v=this.width<this.W?d[0]|0:this.Ck|0;var D=0;var p=H;for(f=0;f<this.B;f+=1){var y=n;for(g=0;g<e;g+=1){if((y&E)===(y&m)&&(p&b)===(p&r)){var w=z[p&r][y&m]|0;c[D]=d[w]}else c[D]=v;D+=1;y+=t;p-=a;(y&E)===(y&m)&&(p&b)===(p&r)?(w=z[p&r][y&m]|0,c[D]=d[w]):c[D]=v;D+=1;y+=t;p-=a;(y&E)===(y&m)&&(p&b)===(p&r)?(w=z[p&r][y&m]|0,c[D]=d[w]):c[D]=v;D+=1;y+=t;p-=a;(y&E)===(y&m)&&(p&b)===(p&r)?(w=z[p&r][y&m]|0,c[D]=d[w]):c[D]=v;D+=1;y+=t;p-=a;(y&E)===(y&m)&&(p&b)===(p&r)?(w=z[p&r][y&m]|0,c[D]=
d[w]):c[D]=v;D+=1;y+=t;p-=a;(y&E)===(y&m)&&(p&b)===(p&r)?(w=z[p&r][y&m]|0,c[D]=d[w]):c[D]=v;D+=1;y+=t;p-=a;(y&E)===(y&m)&&(p&b)===(p&r)?(w=z[p&r][y&m]|0,c[D]=d[w]):c[D]=v;D+=1;y+=t;p-=a;(y&E)===(y&m)&&(p&b)===(p&r)?(w=z[p&r][y&m]|0,c[D]=d[w]):c[D]=v;D+=1;y+=t;p-=a}n+=a;p=H+=t}(this.mb||this.Fc)&&this.Eh()&&this.Ed();for(v=1;v<h;v+=1){var q=2<this.g?this.g/this.N*v|0:(this.tc+1)/this.N*v|0;C+=l;this.Yc(C);a/=this.s;t/=this.s;x*=this.s;.125>x?(z=this.cb,b=15):.25>x?(z=this.Fa,b=7):.5>x?(z=this.Ca,b=
3):1>x?(z=this.K,b=1):(z=this.oa,b=0);m=this.fb&~b;r=this.hb&~b;E=~b;b=~b;H=-(this.F/2*-a+this.B/2*t)+this.Ec;n=-(this.F/2*t+this.B/2*a)+this.Dc;D=0;p=H;for(f=0;f<this.B;f+=1){y=n;for(g=0;g<e;g+=1)(y&E)===(y&m)&&(p&b)===(p&r)&&(w=z[p&r][y&m]|0,w>=q&&(c[D]=d[w])),D+=1,y+=t,p-=a,(y&E)===(y&m)&&(p&b)===(p&r)&&(w=z[p&r][y&m]|0,w>=q&&(c[D]=d[w])),D+=1,y+=t,p-=a,(y&E)===(y&m)&&(p&b)===(p&r)&&(w=z[p&r][y&m]|0,w>=q&&(c[D]=d[w])),D+=1,y+=t,p-=a,(y&E)===(y&m)&&(p&b)===(p&r)&&(w=z[p&r][y&m]|0,w>=q&&(c[D]=d[w])),
D+=1,y+=t,p-=a,(y&E)===(y&m)&&(p&b)===(p&r)&&(w=z[p&r][y&m]|0,w>=q&&(c[D]=d[w])),D+=1,y+=t,p-=a,(y&E)===(y&m)&&(p&b)===(p&r)&&(w=z[p&r][y&m]|0,w>=q&&(c[D]=d[w])),D+=1,y+=t,p-=a,(y&E)===(y&m)&&(p&b)===(p&r)&&(w=z[p&r][y&m]|0,w>=q&&(c[D]=d[w])),D+=1,y+=t,p-=a,(y&E)===(y&m)&&(p&b)===(p&r)&&(w=z[p&r][y&m]|0,w>=q&&(c[D]=d[w])),D+=1,y+=t,p-=a;n+=a;p=H+=t}}};a.prototype.Ln=function(a,b){var d=this.F>>3,e=this.$f,c=this.Zc,f,g,h=1,C=1,l=0,m=this.fb&~b,r=this.hb&~b,E=~b;b=~b;var z=a,x=this.na;1<this.s&&(h=
this.N);a=1/this.na;var t=-(this.B/2*a)+this.Ec;var H=-(this.F/2*a)+this.Dc;1<this.N&&1<this.s&&(l=.4/(this.N-1),C=.6);this.Yc(C);var n=this.width<this.W?e[0]|0:this.Ck|0;var v=0;var D=t;for(f=0;f<this.B;f+=1){if((D&b)===(D&r)){var p=z[D&r];var y=H;this.R&&(y+=.5*(D|0));for(g=0;g<d;g+=1){if((y&E)===(y&m)){var w=p[y&m]|0;c[v]=e[w]}else c[v]=n;v+=1;y+=a;(y&E)===(y&m)?(w=p[y&m]|0,c[v]=e[w]):c[v]=n;v+=1;y+=a;(y&E)===(y&m)?(w=p[y&m]|0,c[v]=e[w]):c[v]=n;v+=1;y+=a;(y&E)===(y&m)?(w=p[y&m]|0,c[v]=e[w]):c[v]=
n;v+=1;y+=a;(y&E)===(y&m)?(w=p[y&m]|0,c[v]=e[w]):c[v]=n;v+=1;y+=a;(y&E)===(y&m)?(w=p[y&m]|0,c[v]=e[w]):c[v]=n;v+=1;y+=a;(y&E)===(y&m)?(w=p[y&m]|0,c[v]=e[w]):c[v]=n;v+=1;y+=a;(y&E)===(y&m)?(w=p[y&m]|0,c[v]=e[w]):c[v]=n;v+=1;y+=a}}else for(g=0;g<d;g+=1)c[v]=n,v+=1,c[v]=n,v+=1,c[v]=n,v+=1,c[v]=n,v+=1,c[v]=n,v+=1,c[v]=n,v+=1,c[v]=n,v+=1,c[v]=n,v+=1;D=t+=a}(this.mb||this.Fc)&&this.Eh()&&this.Ed();for(n=1;n<h;n+=1){var q=2<this.g?this.g/this.N*n|0:(this.tc+1)/this.N*n|0;C+=l;this.Yc(C);a/=this.s;x*=this.s;
.125>x?(z=this.cb,b=15):.25>x?(z=this.Fa,b=7):.5>x?(z=this.Ca,b=3):1>x?(z=this.K,b=1):(z=this.oa,b=0);m=this.fb&~b;r=this.hb&~b;E=~b;b=~b;t=-(this.B/2*a)+this.Ec;H=-(this.F/2*a)+this.Dc;v=0;D=t;for(f=0;f<this.B;f+=1){if((D&b)===(D&r))for(p=z[D&r],y=H,this.R&&(y+=.5*(D|0)),g=0;g<d;g+=1)(y&E)===(y&m)&&(w=p[y&m]|0,w>=q&&(c[v]=e[w])),v+=1,y+=a,(y&E)===(y&m)&&(w=z[D&r][y&m]|0,w>=q&&(c[v]=e[w])),v+=1,y+=a,(y&E)===(y&m)&&(w=z[D&r][y&m]|0,w>=q&&(c[v]=e[w])),v+=1,y+=a,(y&E)===(y&m)&&(w=z[D&r][y&m]|0,w>=q&&
(c[v]=e[w])),v+=1,y+=a,(y&E)===(y&m)&&(w=z[D&r][y&m]|0,w>=q&&(c[v]=e[w])),v+=1,y+=a,(y&E)===(y&m)&&(w=z[D&r][y&m]|0,w>=q&&(c[v]=e[w])),v+=1,y+=a,(y&E)===(y&m)&&(w=z[D&r][y&m]|0,w>=q&&(c[v]=e[w])),v+=1,y+=a,(y&E)===(y&m)&&(w=z[D&r][y&m]|0,w>=q&&(c[v]=e[w])),v+=1,y+=a;else v+=d<<3;D=t+=a}}};a.prototype.Mn=function(a,b){var d=this.F>>3,e=this.$f,c=this.Zc,f,g,h=1,C=1,l=0,m=this.fb&~b;b=this.hb&~b;var r=a,E=this.na;1<this.s&&(h=this.N);var z=Math.sin(this.Oa/180*Math.PI)/this.na;var x=Math.cos(this.Oa/
180*Math.PI)/this.na;var t=-(this.F/2*-z+this.B/2*x)+this.Ec;var H=-(this.F/2*x+this.B/2*z)+this.Dc;1<this.N&&1<this.s&&(l=.4/(this.N-1),C=.6);this.Yc(C);var n=0;var v=t;for(f=0;f<this.B;f+=1){var D=H;for(g=0;g<d;g+=1){var p=r[v&b][D&m]|0;c[n]=e[p];n+=1;D+=x;v-=z;p=r[v&b][D&m]|0;c[n]=e[p];n+=1;D+=x;v-=z;p=r[v&b][D&m]|0;c[n]=e[p];n+=1;D+=x;v-=z;p=r[v&b][D&m]|0;c[n]=e[p];n+=1;D+=x;v-=z;p=r[v&b][D&m]|0;c[n]=e[p];n+=1;D+=x;v-=z;p=r[v&b][D&m]|0;c[n]=e[p];n+=1;D+=x;v-=z;p=r[v&b][D&m]|0;c[n]=e[p];n+=1;D+=
x;v-=z;p=r[v&b][D&m]|0;c[n]=e[p];n+=1;D+=x;v-=z}H+=z;v=t+=x}(this.mb||this.Fc)&&this.Eh()&&this.Ed();for(a=1;a<h;a+=1){var y=2<this.g?this.g/this.N*a|0:(this.tc+1)/this.N*a|0;C+=l;this.Yc(C);z/=this.s;x/=this.s;E*=this.s;.125>E?(r=this.cb,b=15):.25>E?(r=this.Fa,b=7):.5>E?(r=this.Ca,b=3):1>E?(r=this.K,b=1):(r=this.oa,b=0);m=this.fb&~b;b=this.hb&~b;t=-(this.F/2*-z+this.B/2*x)+this.Ec;H=-(this.F/2*x+this.B/2*z)+this.Dc;n=0;v=t;for(f=0;f<this.B;f+=1){D=H;for(g=0;g<d;g+=1)p=r[v&b][D&m]|0,p>=y&&(c[n]=e[p]),
n+=1,D+=x,v-=z,p=r[v&b][D&m]|0,p>=y&&(c[n]=e[p]),n+=1,D+=x,v-=z,p=r[v&b][D&m]|0,p>=y&&(c[n]=e[p]),n+=1,D+=x,v-=z,p=r[v&b][D&m]|0,p>=y&&(c[n]=e[p]),n+=1,D+=x,v-=z,p=r[v&b][D&m]|0,p>=y&&(c[n]=e[p]),n+=1,D+=x,v-=z,p=r[v&b][D&m]|0,p>=y&&(c[n]=e[p]),n+=1,D+=x,v-=z,p=r[v&b][D&m]|0,p>=y&&(c[n]=e[p]),n+=1,D+=x,v-=z,p=r[v&b][D&m]|0,p>=y&&(c[n]=e[p]),n+=1,D+=x,v-=z;H+=z;v=t+=x}}};a.prototype.Nn=function(a,b){var e=this.F>>3,d=this.$f,c=this.Zc,f,g=1,h=1,C=0,l=this.fb&~b;b=this.hb&~b;var m=a,r=this.na;1<this.s&&
(g=this.N);var E=1/this.na;var z=-(this.B/2*E)+this.Ec;var x=-(this.F/2*E)+this.Dc;1<this.N&&1<this.s&&(C=.4/(this.N-1),h=.6);this.Yc(h);var t=0;var H=z;for(f=0;f<this.B;f+=1){var n=m[H&b];var v=x;this.R&&(v+=.5*(H|0));for(H=0;H<e;H+=1){var D=n[v&l]|0;c[t]=d[D];t+=1;v+=E;D=n[v&l]|0;c[t]=d[D];t+=1;v+=E;D=n[v&l]|0;c[t]=d[D];t+=1;v+=E;D=n[v&l]|0;c[t]=d[D];t+=1;v+=E;D=n[v&l]|0;c[t]=d[D];t+=1;v+=E;D=n[v&l]|0;c[t]=d[D];t+=1;v+=E;D=n[v&l]|0;c[t]=d[D];t+=1;v+=E;D=n[v&l]|0;c[t]=d[D];t+=1;v+=E}H=z+=E}(this.mb||
this.Fc)&&this.Eh()&&this.Ed();for(a=1;a<g;a+=1){var p=2<this.g?this.g/this.N*a|0:(this.tc+1)/this.N*a|0;h+=C;this.Yc(h);E/=this.s;r*=this.s;.125>r?(m=this.cb,b=15):.25>r?(m=this.Fa,b=7):.5>r?(m=this.Ca,b=3):1>r?(m=this.K,b=1):(m=this.oa,b=0);l=this.fb&~b;b=this.hb&~b;z=-(this.B/2*E)+this.Ec;x=-(this.F/2*E)+this.Dc;t=0;H=z;for(f=0;f<this.B;f+=1){n=m[H&b];v=x;this.R&&(v+=.5*(H|0));for(H=0;H<e;H+=1)D=n[v&l]|0,D>=p&&(c[t]=d[D]),t+=1,v+=E,D=n[v&l]|0,D>=p&&(c[t]=d[D]),t+=1,v+=E,D=n[v&l]|0,D>=p&&(c[t]=
d[D]),t+=1,v+=E,D=n[v&l]|0,D>=p&&(c[t]=d[D]),t+=1,v+=E,D=n[v&l]|0,D>=p&&(c[t]=d[D]),t+=1,v+=E,D=n[v&l]|0,D>=p&&(c[t]=d[D]),t+=1,v+=E,D=n[v&l]|0,D>=p&&(c[t]=d[D]),t+=1,v+=E,D=n[v&l]|0,D>=p&&(c[t]=d[D]),t+=1,v+=E;H=z+=E}}};a.prototype.Dg=function(a,b){var d=Math.sin(this.Oa/180*Math.PI)/this.na,e=Math.cos(this.Oa/180*Math.PI)/this.na,c=this.F,f=this.B,g=-(this.F/2*-d+this.B/2*e)+this.Ec,h=-(this.F/2*e+this.B/2*d)+this.Dc,C=g+c*-d,l=h+c*e,m=g+f*e;f=h+f*d;d=m+c*-d;e=f+c*e;c=g;var r=h;l<r&&(r=l);f<r&&
(r=f);e<r&&(r=f);l>h&&(h=l);f>h&&(h=f);e>h&&(h=e);C<c&&(c=C);m<c&&(c=m);d<c&&(c=d);C>g&&(g=C);m>g&&(g=m);d>g&&(g=d);0>(r|0)||(h|0)>=this.width||0>(c|0)||(g|0)>=this.height?0===this.Oa?this.Ln(a,b):this.Kn(a,b):0===this.Oa?this.Nn(a,b):this.Mn(a,b)};a.prototype.Gn=function(a,b,d){var e=this.F>>3,c=this.$f,f=this.Zc,g,h;var k=ViewConstants.qb[3]+128;var l=ViewConstants.qb[4]+128,m=ViewConstants.qb[5]+128,r=ViewConstants.qb[6]+128,E=1,z=1,x=0,t=this.Ua,H=this.fb&~d,n=this.hb&~d,v=~d;d=~d;var D=b,p=this.na;
1<this.s&&(E=this.N);b=Math.sin(this.Oa/180*Math.PI)/this.na;var y=Math.cos(this.Oa/180*Math.PI)/this.na;var w=-(this.F/2*-b+this.B/2*y)+this.Ec;var q=-(this.F/2*y+this.B/2*b)+this.Dc;1<this.N&&1<this.s&&(x=.4/(this.N-1),z=.6);this.Yc(z);var G=this.width<this.W?c[0]|0:this.Ck|0;var B=0;var L=w;for(g=0;g<this.B;g+=1){var M=q;for(h=0;h<e;h+=1){if((M&v)===(M&H)&&(L&d)===(L&n)){var A=D[L&n][M&H];var T=a[L&n][M&H];T===l||T===r?(A>=t&&(T=k),A=c[T]|0):T===k||T===m?(A<t&&(T=l),A=c[T]|0):A=c[A]|0;f[B]=A}else f[B]=
G;B+=1;M+=y;L-=b;(M&v)===(M&H)&&(L&d)===(L&n)?(A=D[L&n][M&H],T=a[L&n][M&H],T===l||T===r?(A>=t&&(T=k),A=c[T]|0):T===k||T===m?(A<t&&(T=l),A=c[T]|0):A=c[A]|0,f[B]=A):f[B]=G;B+=1;M+=y;L-=b;(M&v)===(M&H)&&(L&d)===(L&n)?(A=D[L&n][M&H],T=a[L&n][M&H],T===l||T===r?(A>=t&&(T=k),A=c[T]|0):T===k||T===m?(A<t&&(T=l),A=c[T]|0):A=c[A]|0,f[B]=A):f[B]=G;B+=1;M+=y;L-=b;(M&v)===(M&H)&&(L&d)===(L&n)?(A=D[L&n][M&H],T=a[L&n][M&H],T===l||T===r?(A>=t&&(T=k),A=c[T]|0):T===k||T===m?(A<t&&(T=l),A=c[T]|0):A=c[A]|0,f[B]=A):f[B]=
G;B+=1;M+=y;L-=b;(M&v)===(M&H)&&(L&d)===(L&n)?(A=D[L&n][M&H],T=a[L&n][M&H],T===l||T===r?(A>=t&&(T=k),A=c[T]|0):T===k||T===m?(A<t&&(T=l),A=c[T]|0):A=c[A]|0,f[B]=A):f[B]=G;B+=1;M+=y;L-=b;(M&v)===(M&H)&&(L&d)===(L&n)?(A=D[L&n][M&H],T=a[L&n][M&H],T===l||T===r?(A>=t&&(T=k),A=c[T]|0):T===k||T===m?(A<t&&(T=l),A=c[T]|0):A=c[A]|0,f[B]=A):f[B]=G;B+=1;M+=y;L-=b;(M&v)===(M&H)&&(L&d)===(L&n)?(A=D[L&n][M&H],T=a[L&n][M&H],T===l||T===r?(A>=t&&(T=k),A=c[T]|0):T===k||T===m?(A<t&&(T=l),A=c[T]|0):A=c[A]|0,f[B]=A):f[B]=
G;B+=1;M+=y;L-=b;(M&v)===(M&H)&&(L&d)===(L&n)?(A=D[L&n][M&H],T=a[L&n][M&H],T===l||T===r?(A>=t&&(T=k),A=c[T]|0):T===k||T===m?(A<t&&(T=l),A=c[T]|0):A=c[A]|0,f[B]=A):f[B]=G;B+=1;M+=y;L-=b}q+=b;L=w+=y}(this.mb||this.Fc)&&this.Eh()&&this.Ed();for(a=1;a<E;a+=1)for(k=2<this.g?this.g/this.N*a|0:(this.tc+1)/this.N*a|0,z+=x,this.Yc(z),b/=this.s,y/=this.s,p*=this.s,.125>p?(D=this.cb,d=15):.25>p?(D=this.Fa,d=7):.5>p?(D=this.Ca,d=3):1>p?(D=this.K,d=1):(D=this.oa,d=0),H=this.fb&~d,n=this.hb&~d,v=~d,d=~d,w=-(this.F/
2*-b+this.B/2*y)+this.Ec,q=-(this.F/2*y+this.B/2*b)+this.Dc,B=0,L=w,g=0;g<this.B;g+=1){M=q;for(h=0;h<e;h+=1)(M&v)===(M&H)&&(L&d)===(L&n)&&(A=D[L&n][M&H]|0,A>=k&&(f[B]=c[A])),B+=1,M+=y,L-=b,(M&v)===(M&H)&&(L&d)===(L&n)&&(A=D[L&n][M&H]|0,A>=k&&(f[B]=c[A])),B+=1,M+=y,L-=b,(M&v)===(M&H)&&(L&d)===(L&n)&&(A=D[L&n][M&H]|0,A>=k&&(f[B]=c[A])),B+=1,M+=y,L-=b,(M&v)===(M&H)&&(L&d)===(L&n)&&(A=D[L&n][M&H]|0,A>=k&&(f[B]=c[A])),B+=1,M+=y,L-=b,(M&v)===(M&H)&&(L&d)===(L&n)&&(A=D[L&n][M&H]|0,A>=k&&(f[B]=c[A])),B+=
1,M+=y,L-=b,(M&v)===(M&H)&&(L&d)===(L&n)&&(A=D[L&n][M&H]|0,A>=k&&(f[B]=c[A])),B+=1,M+=y,L-=b,(M&v)===(M&H)&&(L&d)===(L&n)&&(A=D[L&n][M&H]|0,A>=k&&(f[B]=c[A])),B+=1,M+=y,L-=b,(M&v)===(M&H)&&(L&d)===(L&n)&&(A=D[L&n][M&H]|0,A>=k&&(f[B]=c[A])),B+=1,M+=y,L-=b;q+=b;L=w+=y}};a.prototype.In=function(a,b,d){var e=this.F>>3,c=this.$f,f=this.Zc,g,h;var k=ViewConstants.qb[3]+128;var l=ViewConstants.qb[4]+128,m=ViewConstants.qb[5]+128,r=ViewConstants.qb[6]+128,E=1,z=1,x=0,t=this.Ua,H=this.fb&~d;d=this.hb&~d;var n=
b,v=this.na;1<this.s&&(E=this.N);b=Math.sin(this.Oa/180*Math.PI)/this.na;var D=Math.cos(this.Oa/180*Math.PI)/this.na;var p=-(this.F/2*-b+this.B/2*D)+this.Ec;var y=-(this.F/2*D+this.B/2*b)+this.Dc;1<this.N&&1<this.s&&(x=.4/(this.N-1),z=.6);this.Yc(z);var w=0;var q=p;for(g=0;g<this.B;g+=1){var G=y;for(h=0;h<e;h+=1){var B=n[q&d][G&H];var L=a[q&d][G&H];L===l||L===r?(B>=t&&(L=k),B=c[L]|0):L===k||L===m?(B<t&&(L=l),B=c[L]|0):B=c[B]|0;f[w]=B;w+=1;G+=D;q-=b;B=n[q&d][G&H];L=a[q&d][G&H];L===l||L===r?(B>=t&&
(L=k),B=c[L]|0):L===k||L===m?(B<t&&(L=l),B=c[L]|0):B=c[B]|0;f[w]=B;w+=1;G+=D;q-=b;B=n[q&d][G&H];L=a[q&d][G&H];L===l||L===r?(B>=t&&(L=k),B=c[L]|0):L===k||L===m?(B<t&&(L=l),B=c[L]|0):B=c[B]|0;f[w]=B;w+=1;G+=D;q-=b;B=n[q&d][G&H];L=a[q&d][G&H];L===l||L===r?(B>=t&&(L=k),B=c[L]|0):L===k||L===m?(B<t&&(L=l),B=c[L]|0):B=c[B]|0;f[w]=B;w+=1;G+=D;q-=b;B=n[q&d][G&H];L=a[q&d][G&H];L===l||L===r?(B>=t&&(L=k),B=c[L]|0):L===k||L===m?(B<t&&(L=l),B=c[L]|0):B=c[B]|0;f[w]=B;w+=1;G+=D;q-=b;B=n[q&d][G&H];L=a[q&d][G&H];L===
l||L===r?(B>=t&&(L=k),B=c[L]|0):L===k||L===m?(B<t&&(L=l),B=c[L]|0):B=c[B]|0;f[w]=B;w+=1;G+=D;q-=b;B=n[q&d][G&H];L=a[q&d][G&H];L===l||L===r?(B>=t&&(L=k),B=c[L]|0):L===k||L===m?(B<t&&(L=l),B=c[L]|0):B=c[B]|0;f[w]=B;w+=1;G+=D;q-=b;B=n[q&d][G&H];L=a[q&d][G&H];L===l||L===r?(B>=t&&(L=k),B=c[L]|0):L===k||L===m?(B<t&&(L=l),B=c[L]|0):B=c[B]|0;f[w]=B;w+=1;G+=D;q-=b}y+=b;q=p+=D}(this.mb||this.Fc)&&this.Eh()&&this.Ed();for(a=1;a<E;a+=1)for(k=2<this.g?this.g/this.N*a|0:(this.tc+1)/this.N*a|0,z+=x,this.Yc(z),b/=
this.s,D/=this.s,v*=this.s,.125>v?(n=this.cb,d=15):.25>v?(n=this.Fa,d=7):.5>v?(n=this.Ca,d=3):1>v?(n=this.K,d=1):(n=this.oa,d=0),H=this.fb&~d,d=this.hb&~d,p=-(this.F/2*-b+this.B/2*D)+this.Ec,y=-(this.F/2*D+this.B/2*b)+this.Dc,w=0,q=p,g=0;g<this.B;g+=1){G=y;for(h=0;h<e;h+=1)B=n[q&d][G&H]|0,B>=k&&(f[w]=c[B]),w+=1,G+=D,q-=b,B=n[q&d][G&H]|0,B>=k&&(f[w]=c[B]),w+=1,G+=D,q-=b,B=n[q&d][G&H]|0,B>=k&&(f[w]=c[B]),w+=1,G+=D,q-=b,B=n[q&d][G&H]|0,B>=k&&(f[w]=c[B]),w+=1,G+=D,q-=b,B=n[q&d][G&H]|0,B>=k&&(f[w]=c[B]),
w+=1,G+=D,q-=b,B=n[q&d][G&H]|0,B>=k&&(f[w]=c[B]),w+=1,G+=D,q-=b,B=n[q&d][G&H]|0,B>=k&&(f[w]=c[B]),w+=1,G+=D,q-=b,B=n[q&d][G&H]|0,B>=k&&(f[w]=c[B]),w+=1,G+=D,q-=b;y+=b;q=p+=D}};a.prototype.Jn=function(a,b,d){var e=this.F>>3,c=this.$f,f=this.Zc,g;var h=ViewConstants.qb[3]+128;var k=ViewConstants.qb[4]+128,l=ViewConstants.qb[5]+128,m=ViewConstants.qb[6]+128,r=1,E=1,z=0,x=this.Ua,t=this.fb&~d;d=this.hb&~d;var H=b,n=this.na;1<this.s&&(r=this.N);b=1/this.na;var v=-(this.B/2*b)+this.Ec;var D=-(this.F/2*
b)+this.Dc;1<this.N&&1<this.s&&(z=.4/(this.N-1),E=.6);this.Yc(E);var p=0;var y=v;for(g=0;g<this.B;g+=1){var w=H[y&d];var q=a[y&d];var G=D;this.R&&(G+=.5*(y|0));for(y=0;y<e;y+=1){var B=w[G&t];var L=q[G&t];L===k||L===m?(B>=x&&(L=h),B=c[L]|0):L===h||L===l?(B<x&&(L=k),B=c[L]|0):B=c[B]|0;f[p]=B;p+=1;G+=b;B=w[G&t];L=q[G&t];L===k||L===m?(B>=x&&(L=h),B=c[L]|0):L===h||L===l?(B<x&&(L=k),B=c[L]|0):B=c[B]|0;f[p]=B;p+=1;G+=b;B=w[G&t];L=q[G&t];L===k||L===m?(B>=x&&(L=h),B=c[L]|0):L===h||L===l?(B<x&&(L=k),B=c[L]|
0):B=c[B]|0;f[p]=B;p+=1;G+=b;B=w[G&t];L=q[G&t];L===k||L===m?(B>=x&&(L=h),B=c[L]|0):L===h||L===l?(B<x&&(L=k),B=c[L]|0):B=c[B]|0;f[p]=B;p+=1;G+=b;B=w[G&t];L=q[G&t];L===k||L===m?(B>=x&&(L=h),B=c[L]|0):L===h||L===l?(B<x&&(L=k),B=c[L]|0):B=c[B]|0;f[p]=B;p+=1;G+=b;B=w[G&t];L=q[G&t];L===k||L===m?(B>=x&&(L=h),B=c[L]|0):L===h||L===l?(B<x&&(L=k),B=c[L]|0):B=c[B]|0;f[p]=B;p+=1;G+=b;B=w[G&t];L=q[G&t];L===k||L===m?(B>=x&&(L=h),B=c[L]|0):L===h||L===l?(B<x&&(L=k),B=c[L]|0):B=c[B]|0;f[p]=B;p+=1;G+=b;B=w[G&t];L=q[G&
t];L===k||L===m?(B>=x&&(L=h),B=c[L]|0):L===h||L===l?(B<x&&(L=k),B=c[L]|0):B=c[B]|0;f[p]=B;p+=1;G+=b}y=v+=b}(this.mb||this.Fc)&&this.Eh()&&this.Ed();for(a=1;a<r;a+=1)for(h=2<this.g?this.g/this.N*a|0:(this.tc+1)/this.N*a|0,E+=z,this.Yc(E),b/=this.s,n*=this.s,.125>n?(H=this.cb,d=15):.25>n?(H=this.Fa,d=7):.5>n?(H=this.Ca,d=3):1>n?(H=this.K,d=1):(H=this.oa,d=0),t=this.fb&~d,d=this.hb&~d,v=-(this.B/2*b)+this.Ec,D=-(this.F/2*b)+this.Dc,p=0,y=v,g=0;g<this.B;g+=1){w=H[y&d];G=D;this.R&&(G+=.5*(y|0));for(y=
0;y<e;y+=1)B=w[G&t]|0,B>=h&&(f[p]=c[B]),p+=1,G+=b,B=w[G&t]|0,B>=h&&(f[p]=c[B]),p+=1,G+=b,B=w[G&t]|0,B>=h&&(f[p]=c[B]),p+=1,G+=b,B=w[G&t]|0,B>=h&&(f[p]=c[B]),p+=1,G+=b,B=w[G&t]|0,B>=h&&(f[p]=c[B]),p+=1,G+=b,B=w[G&t]|0,B>=h&&(f[p]=c[B]),p+=1,G+=b,B=w[G&t]|0,B>=h&&(f[p]=c[B]),p+=1,G+=b,B=w[G&t]|0,B>=h&&(f[p]=c[B]),p+=1,G+=b;y=v+=b}};a.prototype.Hn=function(a,b,d){var e=this.F>>3,c=this.$f,f=this.Zc,g;var h=ViewConstants.qb[3]+128;var k=ViewConstants.qb[4]+128,l=ViewConstants.qb[5]+128,m=ViewConstants.qb[6]+
128,r=1,E=1,z=0,x=this.Ua,t=this.fb&~d,H=this.hb&~d,n=~d;d=~d;var v=b,D=this.na;1<this.s&&(r=this.N);b=1/this.na;var p=-(this.B/2*b)+this.Ec;var y=-(this.F/2*b)+this.Dc;1<this.N&&1<this.s&&(z=.4/(this.N-1),E=.6);this.Yc(E);var w=this.width<this.W?c[0]|0:this.Ck|0;var q=0;var G=p;for(g=0;g<this.B;g+=1){if((G&d)===(G&H)){var B=v[G&H];var L=a[G&H];var M=y;this.R&&(M+=.5*(G|0));for(G=0;G<e;G+=1){if((M&n)===(M&t)){var A=B[M&t];var T=L[M&t];T===k||T===m?(A>=x&&(T=h),A=c[T]|0):T===h||T===l?(A<x&&(T=k),A=
c[T]|0):A=c[A]|0}else A=w;f[q]=A;q+=1;M+=b;(M&n)===(M&t)?(A=B[M&t],T=L[M&t],T===k||T===m?(A>=x&&(T=h),A=c[T]|0):T===h||T===l?(A<x&&(T=k),A=c[T]|0):A=c[A]|0):A=w;f[q]=A;q+=1;M+=b;(M&n)===(M&t)?(A=B[M&t],T=L[M&t],T===k||T===m?(A>=x&&(T=h),A=c[T]|0):T===h||T===l?(A<x&&(T=k),A=c[T]|0):A=c[A]|0):A=w;f[q]=A;q+=1;M+=b;(M&n)===(M&t)?(A=B[M&t],T=L[M&t],T===k||T===m?(A>=x&&(T=h),A=c[T]|0):T===h||T===l?(A<x&&(T=k),A=c[T]|0):A=c[A]|0):A=w;f[q]=A;q+=1;M+=b;(M&n)===(M&t)?(A=B[M&t],T=L[M&t],T===k||T===m?(A>=x&&
(T=h),A=c[T]|0):T===h||T===l?(A<x&&(T=k),A=c[T]|0):A=c[A]|0):A=w;f[q]=A;q+=1;M+=b;(M&n)===(M&t)?(A=B[M&t],T=L[M&t],T===k||T===m?(A>=x&&(T=h),A=c[T]|0):T===h||T===l?(A<x&&(T=k),A=c[T]|0):A=c[A]|0):A=w;f[q]=A;q+=1;M+=b;(M&n)===(M&t)?(A=B[M&t],T=L[M&t],T===k||T===m?(A>=x&&(T=h),A=c[T]|0):T===h||T===l?(A<x&&(T=k),A=c[T]|0):A=c[A]|0):A=w;f[q]=A;q+=1;M+=b;(M&n)===(M&t)?(A=B[M&t],T=L[M&t],T===k||T===m?(A>=x&&(T=h),A=c[T]|0):T===h||T===l?(A<x&&(T=k),A=c[T]|0):A=c[A]|0):A=w;f[q]=A;q+=1;M+=b}}else for(G=0;G<
e;G+=1)f[q]=w,q+=1,f[q]=w,q+=1,f[q]=w,q+=1,f[q]=w,q+=1,f[q]=w,q+=1,f[q]=w,q+=1,f[q]=w,q+=1,f[q]=w,q+=1;G=p+=b}(this.mb||this.Fc)&&this.Eh()&&this.Ed();for(a=1;a<r;a+=1)for(h=2<this.g?this.g/this.N*a|0:(this.tc+1)/this.N*a|0,E+=z,this.Yc(E),b/=this.s,D*=this.s,.125>D?(v=this.cb,d=15):.25>D?(v=this.Fa,d=7):.5>D?(v=this.Ca,d=3):1>D?(v=this.K,d=1):(v=this.oa,d=0),t=this.fb&~d,H=this.hb&~d,n=~d,d=~d,p=-(this.B/2*b)+this.Ec,y=-(this.F/2*b)+this.Dc,q=0,G=p,g=0;g<this.B;g+=1){if((G&d)===(G&H))for(B=v[G&H],
M=y,this.R&&(M+=.5*(G|0)),G=0;G<e;G+=1)(M&n)===(M&t)&&(A=B[M&t]|0,A>=h&&(f[q]=c[A])),q+=1,M+=b,(M&n)===(M&t)&&(A=B[M&t]|0,A>=h&&(f[q]=c[A])),q+=1,M+=b,(M&n)===(M&t)&&(A=B[M&t]|0,A>=h&&(f[q]=c[A])),q+=1,M+=b,(M&n)===(M&t)&&(A=B[M&t]|0,A>=h&&(f[q]=c[A])),q+=1,M+=b,(M&n)===(M&t)&&(A=B[M&t]|0,A>=h&&(f[q]=c[A])),q+=1,M+=b,(M&n)===(M&t)&&(A=B[M&t]|0,A>=h&&(f[q]=c[A])),q+=1,M+=b,(M&n)===(M&t)&&(A=B[M&t]|0,A>=h&&(f[q]=c[A])),q+=1,M+=b,(M&n)===(M&t)&&(A=B[M&t]|0,A>=h&&(f[q]=c[A])),q+=1,M+=b;else q+=e<<3;G=
p+=b}};a.prototype.Cg=function(a,b,d){var c=Math.sin(this.Oa/180*Math.PI)/this.na,e=Math.cos(this.Oa/180*Math.PI)/this.na,f=this.F,g=this.B,h=-(this.F/2*-c+this.B/2*e)+this.Ec,k=-(this.F/2*e+this.B/2*c)+this.Dc,l=h+f*-c,m=k+f*e,r=h+g*e;g=k+g*c;c=r+f*-c;e=g+f*e;f=h;var E=k;m<E&&(E=m);g<E&&(E=g);e<E&&(E=g);m>k&&(k=m);g>k&&(k=g);e>k&&(k=e);l<f&&(f=l);r<f&&(f=r);c<f&&(f=c);l>h&&(h=l);r>h&&(h=r);c>h&&(h=c);0>(E|0)||(k|0)>=this.width||0>(f|0)||(h|0)>=this.height?0===this.Oa?this.Hn(a,b,d):this.Gn(a,b,d):
0===this.Oa?this.Jn(a,b,d):this.In(a,b,d)};a.prototype.Eo=function(){var a;if(!this.Gd.data.buffer){var b=this.Gd.data;var d=this.th;var c=d.length;for(a=0;a<c;)b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1}this.context.putImageData(this.Gd,0,0)};a.prototype.tk=function(){var a,b=0,d=this.B,c=this.F,e=this.Zc,I=this.lh;for(a=0;a<d;a+=1)e.set(I,b),b+=c};window.LifeConstants=b;window.Life=a})();(function(){function c(c,d){var a;c=c.replace(/&amp;/gi,"&");d&&(c=c.replace(/=/gm," = "),c=c.replace(/\n/gm," _NEWLINE_ "));c=c.match(/\S+/g);this.f=[];for(a=0;a<c.length;a+=1){if(d&&"#"===c[a][0]){for(a+=1;a<c.length&&"_NEWLINE_"!==c[a];)a+=1;a<c.length&&(a+=1)}a<c.length&&(this.f[this.f.length]=c[a])}this.current=0}c.prototype.CA=function(){var c=!1;this.f&&this.current<this.f.length&&"_NEWLINE_"===this.f[this.current]&&(c=!0);return c};c.prototype.pv=function(c){var d=!1;"_NEWLINE_"===c&&(d=!0);
return d};c.prototype.O=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current],this.current+=1);return c};c.prototype.Lo=function(){var c;for(c=this.O();"_NEWLINE_"===c;)c=this.O();return c};c.prototype.ga=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current]);return c};c.prototype.Mj=function(c,d){var a=-1,b=this.current;-1!==d&&0<=d&&d<this.f.length&&(b=d);if(this.f)for(;b<this.f.length&&-1===a;)this.f[b]===c&&(a=b),b+=1;-1!==a&&(this.current=b);
return a};c.prototype.Sk=function(c){return!isNaN(parseFloat(c))&&isFinite(Number(c))};c.prototype.j=function(c){var d=!1,a=c.indexOf("/");-1!==a&&(d=c.substr(0,a),c=c.substr(a+1),d=this.Sk(d)&&this.Sk(c));return d};c.prototype.Iq=function(c){var d=0;if(this.j(c)){var a=c.indexOf("/");var b=c.substr(0,a);c=c.substr(a+1);0!==Number(c)&&(d=Number(b)/Number(c))}else this.Sk(c)&&(d=parseFloat(c));return d};c.prototype.C=function(){var c=this.O();return this.Iq(c)};c.prototype.w=function(){var c=!1;if(this.f&&
this.current<this.f.length){var d=this.f[this.current];this.j(d)?c=!0:c=this.Sk(d)}return c};c.prototype.sz=function(){this.f&&(this.current=this.f.length)};window.Script=c})();(function(){function c(a){this.s=a;this.$j=this.Nf=!1;this.Ee=f.fs;this.Xg=f.bl;this.sa=this.rb=-1;this.angle=this.y=this.x=0;this.depth=this.N=this.zoom=1;this.sb=0;this.nb=60;this.step=1;this.fc=this.bb=0;this.zd="";this.Tm=this.Pj=this.Op=this.Fn=this.di=this.ci=this.ht=this.Ww=this.kn=this.Ei=this.fj=this.cg=this.Hf=this.Wd=this.Ef=this.Rf=this.Jc=this.Bf=this.Zd=this.qe=this.uc=this.bj=this.Af=this.zf=this.yf=this.od=!1}function e(a,b,d,c,e,f,h,C,l,m,r,E,z,x,t,H,n){this.coords=a;this.Fr=b;this.zoom=
d;this.ve=c;this.alpha=e;this.size=f;this.ab=h;this.Oe=C;this.ec=l;this.angle=m;this.hi=r;this.Wi=E;this.ij=z;this.jj=x;this.yd=t;this.pi=H;this.ri=n}function d(a,b,d,c,e,f,h,C,l,m,r,E,z,x,t,H,n,v,D,p){this.Zt=a;this.$t=b;this.yx=d;this.zx=c;this.zoom=e;this.ve=f;this.alpha=h;this.size=C;this.hv=l;this.ab=m;this.Oe=r;this.ec=E;this.angle=z;this.hi=x;this.Wi=t;this.ij=H;this.jj=n;this.yd=v;this.pi=D;this.ri=p}function a(a,b,d,c,e,f,h,C,l,m,r,E,z,x,t,H,n){this.message="";this.x=a;this.y=b;this.zoom=
d;this.ve=c;this.alpha=e;this.size=f;this.ab=h;this.Oe=C;this.ec=l;this.angle=m;this.hi=r;this.Wi=E;this.ij=z;this.jj=x;this.yd=t;this.pi=H;this.ri=n}function b(){this.la=[];this.zb=[];this.sd=[];this.nd=[];this.wd=[];this.current=new c(this);this.wa=new c(this);this.j=new c(this);this.s=!1;this.Wh=0;this.K=!1}var f={fs:0,play:1,stop:2,bl:12,hw:0,gw:200};c.prototype.set=function(a){this.Nf=a.Nf;this.$j=a.$j;this.Ee=a.Ee;this.Xg=a.Xg;this.rb=a.rb;this.sa=a.sa;this.x=a.x;this.y=a.y;this.yf=a.yf;this.zf=
a.zf;this.Af=a.Af;this.od=a.od;this.angle=a.angle;this.zoom=a.zoom;this.N=a.N;this.depth=a.depth;this.sb=a.sb;this.nb=a.nb;this.bb=a.bb;this.fc=a.fc;this.zd=a.zd;this.bj=a.bj;this.uc=a.uc};c.prototype.f=function(){var a="";switch(this.Ee){case f.play:a=Keywords.cl;break;case f.stop:a=Keywords.dl}return a};c.prototype.UB=function(a){this.Nf?(this.Ee!==f.fs&&(a[a.length]=[Keywords.cl,"overwrites "+this.f()]),this.Ee=f.play):a[a.length]=[Keywords.cl,"only valid at POI"]};c.prototype.WB=function(a){this.Nf?
(this.Ee!==f.fs&&(a[a.length]=[Keywords.dl,"overwrites "+this.f()]),this.Ee=f.stop):a[a.length]=[Keywords.dl,"only valid at POI"]};c.prototype.VB=function(a){this.Nf?(this.$j&&(a[a.length]=[Keywords.Pm,"already defined"]),this.$j=!0):a[a.length]=[Keywords.Pm,"only valid at POI"]};c.prototype.ZB=function(a,b){this.Nf?(this.Xg!==f.bl&&(b[b.length]=[Keywords.Qm+" "+a,"overwrites "+this.Xg]),this.Xg=a):b[b.length]=[Keywords.Qm,"only valid at POI"]};c.prototype.j=function(a,b,d){var c=a.fc+0,e=b.fc+0,
f=a.angle+0,g=b.angle+0,k=1,l=1,m=1,r=1,E=1;d>e&&(d=e);e-c===ViewConstants.cC&&(c=e);e!==c&&(k=Math.round((d-c)/(e-c)*1E6)/1E6,l=this.s.nu(k)+0);b.yf||b.od?m=k:m=l;b.zf||b.od?r=k:r=l;b.Af||b.od?E=k:E=l;this.x=a.x+m*(b.x-a.x);this.y=a.y+r*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,E);180<g-f?f+=360:-180>g-f&&(g+=360);this.angle=(f+l*(g-f))%360;this.N=a.N+k*(b.N-a.N)|0;this.depth=a.depth+k*(b.depth-a.depth);this.sb=b.sb;this.nb=b.nb;this.step=b.step;this.bb=a.bb+k*(b.bb-a.bb)|0;this.fc=d;this.zd=
b.zd;this.od=b.od};b.prototype.Oy=function(a,b,d,c,f,u,h,C,l,m,r,E,z,x,t,H,n){return new e(a,b,d,c,f,u,h,C,l,m,r,E,z,x,t,H,n)};b.prototype.Ia=function(){this.wd=[]};b.prototype.dy=function(a){this.wd[this.wd.length]=a};b.prototype.Iy=function(a,b,c,e,f,u,h,C,l,m,r,E,z,x,t,H,n,v,D,p){return new d(a,b,c,e,f,u,h,C,l,m,r,E,z,x,t,H,n,v,D,p)};b.prototype.Ca=function(){this.nd=[]};b.prototype.$x=function(a){this.nd[this.nd.length]=a};b.prototype.Ly=function(b,d,c,e,f,u,h,C,l,m,r,E,z,x,t,H,n){return new a(b,
d,c,e,f,u,h,C,l,m,r,E,z,x,t,H,n)};b.prototype.Fa=function(){this.sd=[]};b.prototype.bu=function(a){this.sd[this.sd.length]=a};b.prototype.Dm=function(){return this.sd.length+this.nd.length+this.wd.length};b.prototype.yy=function(){this.Fa();this.Ca();this.Ia()};b.prototype.QA=function(a){var b="",d="";0<=a&&a<this.wd.length&&(a=this.wd[a],a.Wi&&(d="*"),b=a.Fr?"FILL\t":"LINE\t",b+="X1"+d+" "+a.coords[0]+"\tY1"+d+" "+a.coords[1]);return b};b.prototype.RA=function(a){var b="",d="";0<=a&&a<this.wd.length&&
(b=this.wd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.hi&&(d="*"),b="Z "+a.toFixed(1)+"\tA"+d+" "+b.angle.toFixed(1));return b};b.prototype.SA=function(a){var b="";0<=a&&a<this.wd.length&&(a=this.wd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.ab&&(b+="\tT1 "+a.ab+"\tT2 "+a.Oe,0<a.ec&&(b+="\tFade "+a.ec)));return b};b.prototype.TA=function(a){var b="";0<=a&&a<this.wd.length&&(b=this.wd[a].ve);return b};b.prototype.jy=function(a){var b="",d="";0<=a&&a<this.nd.length&&(a=this.nd[a],a.Wi&&(d="*"),b="X1"+d+" "+a.Zt+
"\tY1"+d+" "+a.$t,b+="\tX2"+d+" "+a.yx+"\tY2"+d+" "+a.zx);return b};b.prototype.ky=function(a){var b="",d="";0<=a&&a<this.nd.length&&(b=this.nd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.hi&&(d="*"),b="Z "+a.toFixed(1)+"\tA"+d+" "+b.angle.toFixed(1));return b};b.prototype.ly=function(a){var b="";0<=a&&a<this.nd.length&&(a=this.nd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.ab&&(b+="\tT1 "+a.ab+"\tT2 "+a.Oe,0<a.ec&&(b+="\tFade "+a.ec)));return b};b.prototype.Un=function(a){var b="";0<=a&&a<this.nd.length&&(b=this.nd[a].ve);
return b};b.prototype.aA=function(a){var b="",d="",c="";if(0<=a&&a<this.sd.length){var e=this.sd[a];a=e.zoom;0<=a&&1>a&&(a=-1/a);e.Wi&&(d="*");e.hi&&(c="*");b="X"+d+" "+e.x+"\tY"+d+" "+e.y;b+="\tZ "+a.toFixed(1)+"\tA"+c+" "+e.angle.toFixed(1)}return b};b.prototype.bA=function(a){var b="";0<=a&&a<this.sd.length&&(a=this.sd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.ab&&(b+="\tT1 "+a.ab+"\tT2 "+a.Oe,0<a.ec&&(b+="\tFade "+a.ec)));return b};b.prototype.cA=function(a){var b="";0<=a&&a<this.sd.length&&(a=
this.sd[a],b="Size "+a.size+'\t"'+a.message+'"');return b};b.prototype.dA=function(a){var b="";0<=a&&a<this.sd.length&&(b=this.sd[a].ve);return b};b.prototype.Ob=function(){this.sd.sort(function(a,b){return a.zoom-b.zoom})};b.prototype.Nb=function(){this.nd.sort(function(a,b){return a.zoom-b.zoom})};b.prototype.Ub=function(){this.wd.sort(function(a,b){return a.zoom-b.zoom})};b.prototype.eC=function(){this.Ob();this.Nb();this.Ub()};b.prototype.V=function(a,b){var d,c=a.a,e=c.context,f=c.width/2-c.da-
c.Fb,g=c.height/2-c.aa-c.yb,k=c.zoom*c.Qb,l=c.F/2,m=c.B/2,r=a.a.o,E=c.R?-(c.height>>2):0,z=0,x=0,t=0,H=0,n=0;c.R&&(f+=g/2);b&&(e.strokeStyle=ViewConstants.ny);for(d=0;d<this.nd.length;d+=1){var v=this.nd[d];var D=!0;-1!==v.ab&&(r<v.ab||r>v.Oe)&&(D=!1);if(D){var p=v.size*k/v.zoom;var y=v.size/4;var w=4*v.size;b&&(z=1,24<=p&&(z=2,48<=p&&(z=3)));if(p>=y&&p<=w){y=Math.log(p/y)/Math.log(w/y);y=.25>=y?4*y:.75<=y?4*(1-y):1;w=1;-1!==v.ab&&0<v.ec&&(r-v.ab<v.ec?w=(r-v.ab+1)/v.ec:v.Oe-r<v.ec&&(w=(v.Oe-r+1)/
v.ec));D=!0;var q=1;if(-1!==v.yd){var G=Math.sqrt((-(f+E)-v.ij)*(-(f+E)-v.ij)+(-g-v.jj)*(-g-v.jj));G>v.yd?D=!1:0<v.yd&&.75<G/v.yd&&(q=4*(1-G/v.yd))}D&&(e.globalAlpha=y*v.alpha*w*q,q=v.$t+g-(a.qf>>1)+.5,y=v.Zt+f+E-(a.Ie>>1)+.5,v.Wi||(y+=c.Fb,q+=c.yb),-1!==v.ab?(y+=v.pi*(a.Ga-v.ab),q+=v.ri*(a.Ga-v.ab)):(y+=v.pi*a.Ga,q+=v.ri*a.Ga),0!==c.Oa&&(w=Math.sqrt(y*y+q*q),D=180/Math.PI*Math.atan2(q,y),D+=c.Oa,y=w*Math.cos(Math.PI/180*D),q=w*Math.sin(Math.PI/180*D)),c.R&&(y-=q/2),D=q*k+m,G=y*k+l,y=(v.yx-v.Zt)*
k,w=(v.zx-v.$t)*k,c.R&&(y-=w/2),q=0===v.hv?0:Math.sqrt(y*y+w*w)*v.hv,e.save(),e.translate(G,D),D=v.angle,v.hi||(D+=c.Oa),e.rotate(D/180*Math.PI),e.lineWidth=p,b||(e.strokeStyle=v.ve),e.lineCap="round",e.lineJoin="round",0<q&&(v=Math.atan2(w,y),x=Math.cos(.85*Math.PI+v),t=Math.sin(.85*Math.PI+v),H=Math.cos(.85*-Math.PI+v),n=Math.sin(.85*-Math.PI+v)),0<z&&e.translate(z,z),e.beginPath(),e.moveTo(0,0),e.lineTo(y,w),0<q&&(e.moveTo(y,w),e.lineTo(y+q*x,w+q*t),e.moveTo(y,w),e.lineTo(y+q*H,w+q*n)),e.stroke(),
e.restore())}}}e.globalAlpha=1};b.prototype.Sa=function(a){this.V(a,!0);this.V(a,!1)};b.prototype.fa=function(a,b){var d,c=a.a,e=c.context,f=c.width/2-c.da-c.Fb,g=c.height/2-c.aa-c.yb,k=c.zoom*c.Qb,l=c.F/2,m=c.B/2,r=a.a.o,E=c.R?-(c.height>>2):0,z=0;b&&(e.strokeStyle=ViewConstants.jw,e.fillStyle=ViewConstants.jw);c.R&&(f+=g/2);for(d=0;d<this.wd.length;d+=1){var x=this.wd[d];var t=x.coords;var H=t.length;var n=!0;-1!==x.ab&&(r<x.ab||r>x.Oe)&&(n=!1);if(n){var v=x.size*k/x.zoom;var D=x.size/4;var p=4*
x.size;b&&(z=1,24<=v&&(z=2,48<=v&&(z=3)));if(v>=D&&v<=p){D=Math.log(v/D)/Math.log(p/D);D=.25>=D?4*D:.75<=D?4*(1-D):1;p=1;-1!==x.ab&&0<x.ec&&(r-x.ab<x.ec?p=(r-x.ab+1)/x.ec:x.Oe-r<x.ec&&(p=(x.Oe-r+1)/x.ec));n=!0;var y=1;if(-1!==x.yd){var w=Math.sqrt((-(f+E)-x.ij)*(-(f+E)-x.ij)+(-g-x.jj)*(-g-x.jj));w>x.yd?n=!1:0<x.yd&&.75<w/x.yd&&(y=4*(1-w/x.yd))}if(n){e.globalAlpha=D*x.alpha*p*y;D=0;y=t[D]+f+E-(a.Ie>>1)+.5;p=t[D+1]+g-(a.qf>>1)+.5;D+=2;x.Wi||(y+=c.Fb,p+=c.yb);-1!==x.ab?(y+=x.pi*(a.Ga-x.ab),p+=x.ri*(a.Ga-
x.ab)):(y+=x.pi*a.Ga,p+=x.ri*a.Ga);0!==c.Oa&&(n=Math.sqrt(y*y+p*p),p=180/Math.PI*Math.atan2(p,y),p+=c.Oa,y=n*Math.cos(Math.PI/180*p),p=n*Math.sin(Math.PI/180*p));c.R&&(y-=p/2);p=p*k+m;w=y*k+l;y=(t[D]-t[0])*k;n=(t[D+1]-t[1])*k;c.R&&(y-=n/2);D+=2;e.save();e.translate(w,p);p=x.angle;x.hi||(p+=c.Oa);e.rotate(p/180*Math.PI);e.lineWidth=v;b||(x.Fr?e.fillStyle=x.ve:e.strokeStyle=x.ve);e.lineCap="round";e.lineJoin="round";0<z&&e.translate(z,z);e.beginPath();e.moveTo(0,0);for(e.lineTo(y,n);D<H;)y=(t[D]-t[0])*
k,n=(t[D+1]-t[1])*k,c.R&&(y-=n/2),D+=2,e.lineTo(y,n);x.Fr?e.fill():e.stroke();e.restore()}}}}e.globalAlpha=1};b.prototype.tb=function(a){this.fa(a,!0);this.fa(a,!1)};b.prototype.cb=function(a){var b,c=a.a,d=c.context,e=c.width/2-c.da-c.Fb,f=c.height/2-c.aa-c.yb,g=c.zoom*c.Qb,C=c.F/2,l=c.B/2,m=ViewConstants.gA,r="px "+ViewConstants.eA,E=a.a.o,z=c.R?-(c.height>>2):0;c.R&&(e+=f/2);for(b=0;b<this.sd.length;b+=1){var x=this.sd[b];var t=!0;-1!==x.ab&&(E<x.ab||E>x.Oe)&&(t=!1);if(t){var H=x.size*g/x.zoom;
var n=x.size/4;var v=4*x.size;var D=1;24<=H&&(D=2,48<=H&&(D=3));if(H>=n&&H<=v){n=Math.log(H/n)/Math.log(v/n);d.font=H+r;n=.25>=n?4*n:.75<=n?4*(1-n):1;v=1;-1!==x.ab&&0<x.ec&&(E-x.ab<x.ec?v=(E-x.ab+1)/x.ec:x.Oe-E<x.ec&&(v=(x.Oe-E+1)/x.ec));t=!0;var p=1;if(-1!==x.yd){var y=Math.sqrt((-(e+z)-x.ij)*(-(e+z)-x.ij)+(-f-x.jj)*(-f-x.jj));y>x.yd?t=!1:0<x.yd&&.75<y/x.yd&&(p=4*(1-y/x.yd))}if(t){d.globalAlpha=n*x.alpha*v*p;t=x.x+e+z-(a.Ie>>1)+.5;p=x.y+f-(a.qf>>1)+.5;x.Wi||(t+=c.Fb,p+=c.yb);-1!==x.ab?(t+=x.pi*(a.Ga-
x.ab),p+=x.ri*(a.Ga-x.ab)):(t+=x.pi*a.Ga,p+=x.ri*a.Ga);0!==c.Oa&&(n=Math.sqrt(t*t+p*p),p=180/Math.PI*Math.atan2(p,t),p+=c.Oa,t=n*Math.cos(Math.PI/180*p),p=n*Math.sin(Math.PI/180*p));c.R&&(t-=p/2);n=x.message;v=n.indexOf("\\n");p=p*g+l;t=t*g+C;d.save();d.translate(t,p);p=x.angle;x.hi||(p+=c.Oa);d.rotate(p/180*Math.PI);for(p=0;-1!==v;)t=n.substr(0,v),n=n.substr(v+2),v=d.measureText(t).width>>1,d.fillStyle=m,d.fillText(t,-v+D,p+D),d.fillStyle=x.ve,d.fillText(t,-v,p),p+=H,v=n.indexOf("\\n");v=d.measureText(n).width>>
1;d.fillStyle=m;d.fillText(n,-v+D,p+D);d.fillStyle=x.ve;d.fillText(n,-v,p);d.restore()}}}}d.globalAlpha=1};b.prototype.dr=function(a){this.tb(a);this.Sa(a);this.cb(a)};b.prototype.gC=function(a){var b;for(b=this.la.length-1;0<=b;--b){var c=this.la[b];c.fc>a&&c.Tm&&(this.Wh=b,c.Tm=!1)}};b.prototype.vB=function(){var a;for(a=0;a<this.la.length;a+=1)this.la[a].Tm=!1;this.Wh=0;this.K=!1};b.prototype.fo=function(){return new c(this)};b.prototype.nu=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*
a};b.prototype.reset=function(){this.la=[];this.zb=[];this.s=!1;this.Wh=0};b.prototype.hA=function(){return this.la[this.la.length-1]};b.prototype.Tu=function(a){var b=this.ja(a),c=this.la[b];a>c.bb?a=c.fc+1E3*(a-c.bb)/(c.nb*c.step):0<b?(b=this.la[b-1],a=b.fc+1E3*(a-b.bb)/(c.nb*c.step)):a=1E3*a/(c.nb*c.step);return a};b.prototype.Iu=function(a,b,c,d,e,f,h,C,l,m,r){var g=this.wa;g.x=a;g.y=b;g.zoom=c;g.angle=d;g.nb=C;g.step=l;g.N=e;g.depth=f;g.sb=h;g.bb=m;this.s&&(r=this.j.fc);g.fc=r-1E3;this.update(r,
m);this.j.set(this.current);this.j.od=!1;this.j.fc=r;this.s=!0;return g.fc};b.prototype.Zl=function(){return this.la[0]};b.prototype.EA=function(){return this.la.length};b.prototype.add=function(a){a.Nf?this.zb[this.zb.length]=a:this.la[this.la.length]=a};b.prototype.Jq=function(a){var b=!1;this.Wh>=this.la.length-1&&a>=this.la[this.Wh].fc&&(b=!0);return b};b.prototype.f=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};b.prototype.LA=function(a){var b="";0<=a&&a<this.zb.length&&(a=this.zb[a],
a.qe&&(b+=" X "+-a.x),a.Zd&&(b+=" Y "+-a.y),a.Jc&&(b+=" ZOOM "+this.f(a.zoom)),a.Bf&&(b+=" ANGLE "+a.angle));return b.substr(1)};b.prototype.fw=function(a){var b="";0<=a&&a<this.zb.length&&(a=this.zb[a],a.$j&&(b+=" POIRESET"),a.Ee===f.play?b+=" POIPLAY":a.Ee===f.stop&&(b+=" POISTOP"),a.Xg!==f.bl&&(b+=" POITRANS "+a.Xg));return b.substr(1)};b.prototype.MA=function(a){var b="";0<=a&&a<this.zb.length&&(a=this.zb[a],a.Ei&&(b+=" LOOP "+(-1===a.sa?"OFF":a.sa)),a.fj&&(b+=" STOP "+(-1===a.rb?"OFF":a.rb)),
a.Hf&&(b+=" GPS "+a.nb),a.cg&&(b+=" STEP "+a.step));return b.substr(1)};b.prototype.fw=function(a){var b="";0<=a&&a<this.zb.length&&(a=this.zb[a],a.$j&&(b+=" POIRESET"),a.Ee===f.play?b+=" POIPLAY":a.Ee===f.stop&&(b+=" POISTOP"),a.Xg!==f.bl&&(b+=" POITRANS "+a.Xg));return b.substr(1)};b.prototype.PA=function(a){var b="";0<=a&&a<this.zb.length&&(a=this.zb[a],a.Wd&&(b+=" THEME "+a.sb),a.Ef&&(b+=" DEPTH "+this.f(a.depth)),a.Rf&&(b+=" LAYERS "+a.N));return b.substr(1)};b.prototype.OA=function(a){var b=
"";0<=a&&a<this.zb.length&&(a=this.zb[a],a.kn&&(b+=" POIT "+a.bb));return b.substr(1)};b.prototype.NA=function(a){var b=Keywords.Zb,c="";0<=a&&a<this.zb.length&&(a=this.zb[a],""!==a.zd&&(c+=" "+b+a.zd+b));return c.substr(1)};b.prototype.LC=function(a){var b=Keywords.Zb,c="";if(0<=a&&a<this.la.length){var d=this.la[a];0<a?(a=this.la[a-1],c=d.bb===a.bb?"P "+this.f((d.fc-a.fc|0)/1E3):"T "+d.bb,d.od?c+=" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.f(d.zoom))),
d.angle!==a.angle&&(c+=" A "+d.angle),d.N!==a.N&&(c+=" L "+d.N),d.depth!==a.depth&&(c+=" D "+this.f(d.depth)),d.sb!==a.sb&&(c+=" C "+d.sb),d.nb!==a.nb&&(c+=" G "+d.nb),d.step!==a.step&&(c+=" S "+d.step),""!==d.zd&&(c+=" "+b+d.zd+b)):c="T "+d.bb+" X "+-d.x+" Y "+-d.y+" Z "+this.f(d.zoom)+" A "+d.angle+" L "+d.N+" D "+this.f(d.depth)+" C "+d.sb+" G "+d.nb+" S "+d.step}return c};b.prototype.update=function(a,b){var c=this.la.length,d=!1,e=this.Wh,f=!1;if(this.s)this.current.j(this.wa,this.j,a),a>=this.j.fc&&
(this.s=!1);else{for(;e<c&&!d;){var g=this.la[e];g.fc>=a||!g.Tm?d=!0:e+=1}d?(this.la[e].Tm=!0,0<e?(this.la[e].od&&(this.la[e].x=this.current.x,this.la[e].y=this.current.y,this.la[e].zoom=this.current.zoom),this.current.j(this.la[e-1],this.la[e],a)):(e=0,this.current.set(this.la[e]))):(e=c-1,this.current.set(this.la[e]),b>=this.current.bb&&this.K&&(f=!0),this.K=!0);this.Wh=e}return f};b.prototype.ja=function(a){for(var b=0,c=!1,d=this.la,e=this.la.length;b<e&&!c;)d[b].bb>=a?c=!0:b+=1;c||(b=e-1);return b};
b.prototype.Az=function(a){this.Wh=this.ja(a)};b.prototype.jc=function(a,b,c,d){if(0===this.la.length)c[c.length]=[a+" "+Keywords.Xa,"no initial waypoint defined"];else switch(a){case Keywords.ed:b.qe&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+-b.x]);b.x=this.la[0].x;b.qe=!0;break;case Keywords.fd:b.Zd&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+-b.y]);b.y=this.la[0].y;b.Zd=!0;break;case Keywords.pc:b.Jc&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":
"overwrites "+this.f(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.la[0].zoom;b.Jc=!0;break;case Keywords.ii:b.Bf&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+b.angle]);b.angle=this.la[0].angle;b.Bf=!0;break;case Keywords.Hj:b.Ef&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+this.f(b.depth)]);b.depth=this.la[0].depth;b.Ef=!0;break;case Keywords.Sj:b.Rf&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+b.N]);b.N=this.la[0].N;b.Rf=!0;break;case Keywords.Xh:b.Wd&&
(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+b.sb]);b.sb=this.la[0].sb;b.Wd=!0;break;case Keywords.Oj:b.Hf&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+b.nb]);b.nb=this.la[0].nb;b.Hf=!0;break;case Keywords.gk:b.cg&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+b.step]);b.step=this.la[0].step;b.cg=!0;break;case Keywords.Hg:b.fj&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+(-1===b.rb?"OFF":b.rb)]);b.rb=this.la[0].rb;
b.fj=!0;break;case Keywords.rg:b.Ei&&(c[c.length]=[a+" "+Keywords.Xa,d?"already defined":"overwrites "+(-1===b.sa?"OFF":b.sa)]);b.sa=this.la[0].sa;b.Ei=!0;break;default:c[c.length]=[a+" "+Keywords.Xa,"illegal command before "+Keywords.Xa]}};b.prototype.By=function(a,b){this.jc(Keywords.ed,a,b,!1);this.jc(Keywords.fd,a,b,!1);this.jc(Keywords.pc,a,b,!1);this.jc(Keywords.ii,a,b,!1);this.jc(Keywords.Sj,a,b,!1);this.jc(Keywords.Hj,a,b,!1);this.jc(Keywords.Xh,a,b,!1);this.jc(Keywords.Oj,a,b,!1);this.jc(Keywords.gk,
a,b,!1);this.jc(Keywords.rg,a,b,!1);this.jc(Keywords.Hg,a,b,!1)};b.prototype.WA=function(a){var b,c=this.la,d=this.la.length;for(b=1;b<d;b+=1){var e=c[b-1];var f=c[b];f.qe||(f.x=e.x);f.Zd||(f.y=e.y);f.ci||(f.yf=e.yf);f.di||(f.zf=e.zf);f.Fn||(f.Af=e.Af);f.Bf||(f.angle=e.angle);f.Jc||(f.zoom=e.zoom);f.Rf||(f.N=e.N);f.Ef||(f.depth=e.depth);f.Wd||(f.sb=e.sb);f.Hf||(f.nb=e.nb);f.cg||(f.step=e.step);f.kn?f.bb<=e.bb&&(a[a.length]=[Keywords.jn+" "+f.bb,"target generation must be later than previous ("+e.bb+
")"]):f.bb=e.bb;f.fc=f.Ww?1E3*f.fc+e.fc:e.fc+1E3*(f.bb-e.bb)/(f.nb*f.step);f.Op||(f.bj=e.bj);f.Pj||(f.uc=e.uc)}};window.Waypoint=c;window.WaypointManager=b;window.WaypointConstants=f})();(function(){function c(c,d){var a=this;this.Yt=c;this.h=d;this.top=this.left=0;""!==c.style.left&&(this.left=parseInt(c.style.left,10));""!==c.style.top&&(this.top=parseInt(c.style.top,10));this.ac=this.Ij=!1;this.pm=this.om=this.rm=this.qm=this.Rh=this.Qh=-1;this.Ds=this.offsetTop=this.offsetLeft=0;registerEvent(c,"mousedown",function(b){a.j(a,b)},!1);registerEvent(document,"mousemove",function(b){a.s(a,b)},!1);registerEvent(document,"mouseup",function(b){a.K(a,b)},!1);registerEvent(c,"touchstart",
function(b){a.f(a,b)},!1);registerEvent(c,"touchmove",function(b){a.f(a,b)},!1);registerEvent(c,"touchend",function(b){a.f(a,b)},!1);registerEvent(window,"resize",function(){a.Aw(a)},!1)}c.prototype.Aw=function(c){c.Pw(c.left+c.Ds,c.top,c.Yt);c.Ds=0};c.prototype.xC=function(c,d){this.Pw(this.left+c,this.top+d,this.Yt)};c.prototype.Pw=function(c,d,a){var b=window.innerWidth-a.clientWidth,e=window.innerHeight-a.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(b-=
21);0>c&&(c=0);0>d&&(d=0);c>b&&(c=b);d>e&&(d=e);a.style.left=c+"px";a.style.top=d+"px";a.style.position="fixed";this.left=c;this.top=d};c.prototype.Ay=function(){var c=this.Yt,d=c.offsetParent;this.offsetLeft=c.offsetLeft;for(this.offsetTop=c.offsetTop;d;)this.offsetLeft+=d.offsetLeft,this.offsetTop+=d.offsetTop,d=d.offsetParent;d=c.parentNode;if("fixed"===d.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;
else for(;"body"!==d.tagName.toLowerCase();)this.offsetLeft-=d.scrollLeft,this.offsetTop-=d.scrollTop,d=d.parentNode};c.prototype.f=function(c,d){var a="";if("touchend"===d.type){a="mouseup";var b=document.createEvent("MouseEvent");b.initMouseEvent(a,!0,!0,window,1,c.qm,c.rm,c.om,c.pm,!1,!1,!1,!1,0,null);d.target.dispatchEvent(b);d.preventDefault()}else{if(1===d.touches.length)switch(d.type){case "touchstart":a="mousedown";break;case "touchmove":a="mousemove"}if(""!==a){var e=d.changedTouches[0];
b=document.createEvent("MouseEvent");b.initMouseEvent(a,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);e.target.dispatchEvent(b);d.preventDefault();c.qm=e.screenX;c.rm=e.screenY;c.om=e.clientX;c.pm=e.clientY}}};c.prototype.j=function(c,d){c.rk(c,d);c.ac=!0;c.h.Yj=!0;d.stopPropagation&&d.stopPropagation();d.preventDefault()};c.prototype.K=function(c,d){c.Ij&&c.ac&&(c.rk(c,d),c.ac=!1,c.h.Yj=!1,d.stopPropagation&&d.stopPropagation(),d.preventDefault())};c.prototype.s=function(c,
d){if(c.Ij&&c.ac){var a=c.Qh,b=c.Rh;c.rk(c,d);c.ac&&c.xC(c.Qh-a,c.Rh-b);c.Qh=a;c.Rh=b;d.stopPropagation&&d.stopPropagation();d.preventDefault()}};c.prototype.rk=function(c,d){if(d.pageX||d.pageY){var a=d.pageX;d=d.pageY}else a=d.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=d.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.Ay();a-=c.offsetLeft;d-=c.offsetTop;c.Qh=a-1|0;c.Rh=d-1|0};window.PopupWindow=c})();(function(){function c(){this.key=new Uint8Array(256);this.j=this.f=0}c.prototype.Md=function(c){var d,a,b=this.key;for(d=0;256>d;d+=1)b[d]=d;for(d=a=0;256>d;d+=1){a=a+b[d]+c.charCodeAt(d%c.length)&255;var e=b[d];b[d]=b[a];b[a]=e}this.j=this.f=0};c.prototype.random=function(){var c,d=0,a=1,b=this.key,f=this.f,g=this.j;for(c=0;8>c;c+=1){f=f+1&255;g=g+b[f]&255;var k=b[f];b[f]=b[g];b[g]=k;d+=b[b[f]+b[g]&255]*a;a*=256}this.f=f;this.j=g;return d/1.8446744073709552E19};window.Random=c;window.myRand=new c})();(function(){function c(c,d){this.op=c;this.x=d.X(Float32,0,"Stars.x");this.y=d.X(Float32,0,"Stars.y");this.f=d.X(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.j=new Random;this.j.Md(Date.now().toString());this.sin=d.X(Float32,0,"Stars.sin");this.cos=d.X(Float32,0,"Stars.cos");this.s=Math.PI/180;this.V=180/Math.PI;this.i=d;this.K=!1}c.prototype.Md=function(c,d,a){var b,e=this.op,g=c*c+d*d;this.x=this.i.X(Float32,e,"Stars.x");this.y=this.i.X(Float32,e,"Stars.y");this.f=this.i.X(Float32,
e,"Stars.z");for(b=0;b<e;b+=1){var k=b/e*(b/e)*(b/e)*(b/e)*a+1;do{var F=3*(this.j.random()*c-c/2);var J=3*(this.j.random()*d-d/2)}while(F*F+J*J>g);this.x[b]=F;this.y[b]=J;this.f[b]=k}this.sin=this.i.X(Float32,2880,"Stars.sin");this.cos=this.i.X(Float32,2880,"Stars.cos");for(b=0;2880>b;)this.sin[b]=Math.sin(b/8*this.s),this.cos[b]=Math.cos(b/8*this.s),b+=1};c.prototype.Hy=function(c,d,a,b,f,g,k,F){var e;this.K||(this.Md(8192,8192,1024),this.K=!0);if(littleEndian){var I=F>>16&255;var u=F>>8&255;var h=
F&255}else h=F>>24&255,u=F>>16&255,I=F>>8&255;for(e=0;e<this.op;e+=1){var C=this.x[e]+c;var l=this.y[e]+d;if(0!==b){var m=Math.sqrt(C*C+l*l);l=Math.atan2(l,C)*this.V;l+=b;0>l?l+=360:360<=l&&(l-=360);l*=8;l|=0;C=m*this.cos[l];l=m*this.sin[l]}m=this.f[e]/a*2;C=f/2+C/m|0;l=g/2+l/m|0;if(0<C&&C<f-1&&0<l&&l<g-1){C+=l*f;m=1536/m|0;255<m&&(m=255);m/=255;if(k[C]===F){l=h+(this.red-h)*m;var r=u+(this.green-u)*m;var E=I+(this.blue-I)*m;l=littleEndian?-16777216|E<<16|r<<8|l:l<<24|E<<16|r<<8|255;k[C]=l}m/=2;l=
h+(this.red-h)*m;r=u+(this.green-u)*m;E=I+(this.blue-I)*m;l=littleEndian?-16777216|E<<16|r<<8|l:l<<24|E<<16|r<<8|255;--C;k[C]===F&&(k[C]=l);C+=2;k[C]===F&&(k[C]=l);--C;C-=f;k[C]===F&&(k[C]=l);C+=f+f;k[C]===F&&(k[C]=l)}}};window.Stars=c})();(function(){function c(a,b,c,d,e){this.name=a;this.pattern=b;this.BB=c;this.width=d;this.height=e}function e(a){this.Ca=[];this.fi=[];this.vh=this.j=0;this.af=[];this.Ze=[];this.Pf=[];this.Mf=0;this.rc=[];this.rc[h.xn]=[1,0,0,1];this.rc[h.qt]=[-1,0,0,-1];this.rc[h.rt]=[-1,0,0,1];this.rc[h.st]=[1,0,0,-1];this.rc[h.vt]=[0,1,1,0];this.rc[h.wt]=[0,-1,-1,0];this.rc[h.ut]=[0,-1,1,0];this.rc[h.tt]=[0,1,-1,0];this.Zg=[];this.lf=[];this.$g=[];this.He=[];this.ce=h.qp;this.gf=0;this.wh=-1;this.ff=[];this.xh=
0;this.Lh=!1;this.Hi=0;this.tj=!1;this.Mb=this.Ri=this.Oi=this.Qi=this.Pi=0;this.Uo=!1;this.ka=null;this.qk=0;this.yn=!0;this.bg=0;this.ef=1;this.jl=this.$k=!1;this.Nh=7;this.Mp=!0;this.Cl=this.vl=0;this.Jk=!1;this.ca=this.bp=63;this.Fd=this.Tc=this.ph=this.rh=this.Ac=this.qh=this.oh=this.lh=this.Gd=this.sh=this.Lg=this.Bm=!1;this.Wg=this.Ga=0;this.gd=null;this.Rd=this.Qd=0;this.Xt=!1;this.Fj=this.dh=this.eh=-1;this.eq=Date.now().toString();this.xi=h.bi;this.ag=!0;this.jb=!1;this.Je=!0;this.Yb=h.Ou;
this.Pc=!1;this.element=a;this.Ea=!1;this.$h=this.ih=this.jh=this.Zh=this.ko=this.ho=this.jo=this.io=0;this.hc=this.re=this.gc=this.mk=!1;this.bm=!0;this.Ko=!1;this.Jo=0;this.ti=!1;this.Vi=this.Ui=0;this.Ag=!1;this.m="";this.Bd=this.Ad=0;this.ir=this.hr=this.Kk=this.si=this.Lj=this.Ih=this.at=this.$s=this.cj=this.ek=this.ej=this.dj=this.ye=-1;this.Yo=this.Bo=!1;this.ln=this.Ne=-1;this.Hl=this.Cj=!1;this.co=-1;this.hk=this.hj=null;this.nn="";this.ik=this.fh=0;this.lC=32768;this.Sq=this.Tq=0;this.Rq=
!0;this.Vn=this.lb=!1;this.wj=0;this.qy=.01;this.Fg=this.Kf=!1;this.Fh=this.bf=null;this.jg=h.jg;this.li=[96,96,96];this.Up=null;this.tb="";this.Eg=this.Aa=this.Xf=this.bs=!1;this.Uh=null;this.Ae=!1;this.P=1;this.yg=this.zg=0;this.ic=this.Hr=!1;this.D=new WaypointManager;this.Xo="";this.Rr=-1;this.je=this.Tb=!1;this.ha=1;this.lr=this.gs=this.Gm=0;this.Ug=h.pA;this.Ia=this.wa=this.ja=this.fa=this.Gh=-1;this.Lm=this.Xk="";this.Nm=this.Sh=this.qf=this.Ie=0;this.Mm=null;this.ps=this.Yf=this.Zf=this.xg=
"";this.hg=!1;this.f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.lo=!1;this.Wl=h.tv;this.Gl=h.Un;this.Xl=h.iw;this.Dk="";this.Xc=[];this.Rn=!1;this.vb=[];this.Ej=[];this.Sb=[];this.Za=1;this.Z=0;this.fn=!1;this.Wk=100;this.bc=10;this.S=[64,200,290,530,700];this.pe=!1;this.U=[];this.vr=[];this.wr=[];this.sa=this.rb=-1;this.So=this.ji=this.se=this.Xb=this.Ni=this.mp=this.Jb=this.hm=this.$b=this.oc=this.$a=!1;this.Zm=this.lm=this.Om=-1;this.a=null;this.elapsedTime=
0;this.F=640;this.B=512;this.Um=!1;this.xm=640;this.vf=this.Us=this.ug=this.Gc=!1;this.s=this.cc=this.Ah=this.al=this.Uj=this.ta=this.Ke=this.ni=this.$e=this.Pg=this.Ob=this.Ti=this.hf=this.sc=this.Kj=this.Qf=this.ei=this.Mk=this.uh=this.yh=this.ml=this.Qk=this.Mh=this.Rk=this.mm=this.ui=this.Bk=this.zi=this.yi=this.th=this.Bi=this.Ub=this.zh=this.Nj=this.vi=this.Mg=this.Nb=this.df=this.sg=this.tg=this.Cg=this.vg=this.Bg=this.wg=this.uj=this.uk=this.xk=this.wi=this.de=this.Fi=this.cb=this.Ue=this.kd=
this.Cd=this.ld=this.jd=this.qj=this.sj=this.rj=this.pj=this.sm=this.hd=this.Dg=this.Ed=this.Kg=this.Dd=this.Ig=this.Tk=this.qc=this.Bc=this.he=this.xc=this.Pb=this.Ab=this.Gb=this.Sc=this.Vf=this.Of=this.dc=this.Pa=null;this.Ci=this.Rj=-1;this.wheelDelta=0;this.vd=this.Xj=this.Tf=this.V=this.Uc=null;this.Ld=60;this.u=this.h=null;this.Gj=this.fe=this.Fk=0;this.Ao=this.Qu=1;this.ar=60;this.Hk=this.zo=1;this.$q=.1;this.vk=-1;this.ck=this.ne=this.Ks=0;this.gl=1;this.Yh=this.ya=this.fm=this.am=this.im=
!1;this.Ic=h.Pu;this.Hn=this.Jn=this.lt=this.In=0;this.wk=this.gh=!1;this.an=this.mn=0;this.ze=!1;this.Zk=-1}function d(a,b,c,d,f){var l,m=b.parentNode,r=null;for(l=0;l<C.nc.length&&!r;)C.nc[l][0].tabIndex===b.tabIndex?r=C.nc[l][1]:l+=1;r||(r=new e(f),r.Ae=d,u.tm&&!d&&(r.Ug=c&-8,r.Ug<h.ud&&(r.Ug=h.ud)),b.tabIndex=C.nc.length+1,r.Ox(b),"none"===m.style.display&&(C.ys=new PopupWindow(m,r.h)),C.nc[C.nc.length]=[b,r,C.ys]);d||r.Vh(a,!1)}function a(a){a=a.parentNode;for(var b=!1;!b;)"div"!==a.localName||
a.className!==u.Co&&a.className!==u.Do||(b=!0),b||(a=a.parentNode);return a}function b(){var a=C.Zs(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.Ij=!1;b.Gc&&(b.ta.current=b.Yd(h.ob,!0,b))}function f(a){b();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function g(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();
a=a.replace(/\n[ ]+/g,"\n");return a=a.replace(/\n\t+/g,"\n")}function k(b){b=a(b);var c=b.getElementsByTagName(u.Yk)[0],l=g(c),e=C.Zs();if(e)e[1].element=c,e[1].St(e[1]);else{e=document.createElement("canvas");e.width=h.ud;e.height=h.Ph+80;e.style.display="block";var z=document.createElement("a");z.setAttribute("href","#");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";z.style.color="#FFFFFF";z.style.backgroundColor=
"#C75050";z.style.cssFloat="right";z.style.height="28px";z.style.fontSize="18px";var x=document.createElement("a");x.innerHTML="&nbsp;X&nbsp;";x.style.textDecoration="none";x.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";x.style.visibility="hidden";x.style.cssFloat="left";x.style.height="28px";x.style.fontSize="18px";var t=document.createElement("div");t.style.textAlign="center";t.style.color="rgb(83,100,130)";t.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";t.style.fontSize=
"18px";t.style.height="28px";var k=document.createTextNode("LifeViewer");t.style.cursor="default";t.appendChild(k);registerEvent(z,"click",f,!1);var n=document.createElement("div");n.style.display="none";n.style.position="fixed";n.style.border="1px solid rgb(128,128,128)";n.style.left="2048px";n.style.top="0px";n.style.textAlign="right";n.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";n.style.margin="1px";var v=document.createElement("div");v.className=u.Do;v.style.backgroundColor=
"#FFFFFF";v.style.height="28px";v.style.lineHeight="28px";v.appendChild(x);v.appendChild(z);v.appendChild(t);n.appendChild(v);n.appendChild(e);b.appendChild(n);d(l,e,h.ud,!0,c);C.Ys=C.nc.length-1;e=C.Zs();e[1].Up=k}b=e[0].parentNode;""!==b.style.display&&(b.style.display="");e[1].F=h.ud;e[1].B=h.Ph+80;e[1].resize();e[1].h.notification.clear(!0,!0);e[1].h.notification.clear(!1,!0);e[1].Vh(l,!0);e[1].resize();b=e[2];b.Ij=!0;b.Aw(b);e[1].Tf.canvas.focus();e[1].h.hasFocus=!0;return!1}function F(a,b){var d=
!1,l=null;try{l=PatternManager.create("",a,b),l.Qc&&(d=!0,u.Ha&&(C.Hc[C.Hc.length]=new c(l.name,a,l.$+l.Zn,l.width,l.height)))}catch(z){}return d}function J(a){k(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function I(){var a=document.getElementsByTagName("div"),b,c,e=new Allocator;var f=document.getElementsByTagName("meta");for(b=0;b<f.length;b+=1){var h=f[b];if(h.name===u.tagName&&(u.Ar=!1,u.tm=!1,h=h.content,(c=h.match(/\S+/g))&&2<=c.length&&5>=c.length))for(u.Co=c[0],
u.Yk=c[1],h=2;h<c.length;h+=1)switch(c[h]){case "hide":u.Ar=!0;break;case "limit":u.tm=!0;break;case "multi":u.Ha=!0;break;default:var t=c[h];!isNaN(parseFloat(t))&&isFinite(Number(t))&&(u.tp=parseFloat(t)|0)}}for(f=0;f<a.length;f+=1)(h=a[f],h.className===u.Co)?(b=h.getElementsByTagName(u.Yk)[0],h=h.getElementsByTagName("canvas")[0],(c=b.getElementsByTagName(u.Yk)[0])&&(b=c),typedArrays&&b&&(c=g(b),u.Ha&&F(c,e),h&&h.getContext?(-1<u.tp&&b.clientHeight>u.tp&&(b.style.height=u.tp+"px"),d(c,h,b.offsetWidth,
!1,b)):u.Ar&&h&&(h.style.display="none"))):typedArrays&&h.className===u.Do&&h.parentNode.className!==u.Co&&(b=h.getElementsByTagName(u.Yk)[0])&&(c=g(b),F(c,e)&&(h=h.getElementsByTagName("a")[0],c=document.createElement("a"),c.setAttribute("href","#"),c.innerHTML="Show in Viewer",registerEvent(c,"click",J,!1),h?(b=document.createTextNode(" / "),h.parentNode.appendChild(b),h.parentNode.appendChild(c)):b.parentNode.appendChild(c)))}var u={tagName:"LifeViewer",Co:"rle",Yk:"code",tp:37,Ar:!0,tm:!1,Ha:!1,
Do:"codebox",Hc:[]},h={DA:5,Ng:1E8,xn:0,qt:1,rt:2,st:3,vt:4,wt:5,ut:6,tt:7,qp:0,aw:1,cw:2,$v:3,bw:4,Np:Math.sqrt(3),Dy:65536,Fy:500,Gy:17,dv:13750737,ev:15066597,Po:7368816,Qo:5263440,Qw:.016,cC:16,Tv:16384,Ou:.7,op:1E4,OB:"Script errors",De:-2,Be:2,Qv:2,Kv:4,Pu:4,kx:16.7,Nv:9,Gv:14,kz:13,mv:null,Mv:1,Ev:16,Nu:3,cf:0,Sg:1,mo:2,ig:3,Jl:4,Kl:5,Ll:6,vo:7,wo:8,no:9,so:10,ro:11,qo:12,to:13,uo:14,po:15,Ml:16,oo:17,Xq:18,Ql:19,Ol:20,Rl:21,Tl:22,Sl:23,Pl:24,Il:25,Nl:26,Vv:0,Xv:1,lv:2,yv:3,Cv:4,Av:5,sv:6,
qb:[0,6,2,5,3,4,1],Sw:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),fD:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),KA:0,JA:160,ew:10,rs:100,dw:20,Cz:18.5,Rw:1E3/60,RC:!1,Go:1800,yz:"LifeViewer",Ls:"LifeViewer Image",nx:"LifeViewer",Ot:344,mx:"Chris Rowett",jp:1,cp:10,Xr:0,xA:1,ob:2,Ii:3,Rv:0,zm:1,iq:1.25,Wz:.99,ip:0,Fv:10,oi:10,Dv:32,Ya:.0625,Ib:64,ym:-16,wm:-1,Ce:1,Gi:60,Tj:1,ke:64,fontSize:18,$l:"18px Courier",lj:"18px Arial",Gg:"18px Arial",Me:"14px Arial",Lp:"9px Arial",Un:"rgb(240,255,255)",
ny:"rgb(0,0,0)",iw:"rgb(240,255,255)",jw:"rgb(0,0,0)",iu:2,kp:1,ep:64,my:.2,tv:"rgb(240,255,255)",gA:"rgb(0,0,0)",fA:18,Ov:4,Hv:128,eA:"Arial",Pk:"rgb(32,255,255)",gm:"#000000",jg:"rgb(255,96,96)",No:"rgb(128,128,128)",vA:64,uA:64,ud:480,pA:2048,Qz:80,Vk:240,hp:2048,Ph:480,jq:132,Bx:292,GA:154,ct:0,Tw:1,Uw:2,sA:0,jA:16,bi:0,qv:1,Ms:2,jm:3,$w:4,Bu:5,du:6,Lv:7,ju:8},C={i:new Allocator,nc:[],Ys:-1,ys:null,Hc:[],Zs:function(){var a=null;-1!==this.Ys&&(a=this.nc[this.Ys]);return a},Gz:function(a){var b=
null;0<=a&&a<this.nc.length&&(b=this.nc[a][1]);return b},cD:function(){return this.nc.length},KC:function(){var a=0,b;for(b=0;b<this.nc.length;b+=1){var c=this.nc[b][1];c.Gc&&(a+=1)}return a},sB:function(){var a,b=0;for(a=0;a<this.nc.length;a+=1){var c=this.nc[a][1];c.ta.current=c.Yd(h.Xr,!0,c);c.h.ah(!0);b+=1}return b},hC:function(){var a,b=0;for(a=0;a<this.nc.length;a+=1){var c=this.nc[a][1];c.Gc&&(c.ta.current=c.Yd(h.ob,!0,c),b+=1)}return b},iC:function(a){var b,c=0;for(b=0;b<this.nc.length;b+=
1){var d=this.nc[b][1];d!==a&&d.Gc&&(d.ta.current=d.Yd(h.ob,!0,d),c+=1)}return c}};e.prototype.Gn=function(a,b,c){var d=this.a.getState(a,b,!1),l=this.af.length,e=!0,f=(this.a.width>>1)-(this.Ie>>1),m=(this.a.height>>1)-(this.qf>>1);0<l&&this.af[l-3]===a-f&&this.af[l-2]===b-m&&this.af[l-1]===c&&(e=!1);e&&(this.af[l]=a-f,this.af[l+1]=b-m,this.af[l+2]=c,this.Ze[l]=a-f,this.Ze[l+1]=b-m,this.Ze[l+2]=d);this.a.Th(a,b,c,!0)};e.prototype.Jm=function(a,b){a=a.cells;var c=0,d=a.length,l=3,e=(this.a.width>>
1)-(this.Ie>>1),f=(this.a.height>>1)-(this.qf>>1);b&&(l=-l,c=d+l,d=l);for(;c!==d;)this.a.Th(a[c]+e,a[c+1]+f,a[c+2],!0),c+=l};e.prototype.Ps=function(a){for(var b=this.j-1,c=!1;0<b&&!c;)this.Ca[b].Gf<=a?c=!0:--b;c&&(this.j=b+1)};e.prototype.zk=function(){var a=!0,b=this.a.o;0<this.j&&(a=b===this.Ca[this.j-1].Gf&&0===this.af.length?!1:!0);a&&(0<this.j&&this.Ca[this.j-1].Gf!==b&&0!==this.af.length&&(this.Ca[this.j]={Gf:b,cells:[]},this.fi[this.j]={Gf:b,cells:[]},this.j+=1),this.Ca[this.j]={Gf:b,cells:this.af.slice()},
this.fi[this.j]={Gf:b,cells:this.Ze.slice()},this.vh=this.j+=1,this.af=[],this.Ze=[])};e.prototype.sC=function(){var a=this.a.o,b=this.j;b===this.vh&&(this.zk(),b=this.j);if(0<b){var c=this.fi[b-1];var d=c.Gf;0===c.cells.length&&1<b&&(d=this.fi[b-2].Gf);d<a&&(0===d?this.reset(this):this.bk(d));this.Jm(c,!0);this.j=b-1}else 0<a&&this.reset(this)};e.prototype.fB=function(){var a=this.a.o;this.j<this.vh&&(this.Ca[this.j].Gf===a&&0===this.Ca[this.j].cells.length&&(this.j+=1),this.Ca[this.j].Gf>a?this.bk(this.Ca[this.j].Gf):
this.Jm(this.Ca[this.j],!0),this.j+=1)};e.prototype.gq=function(a,b,c,d){var l=[],e,f=this.a.g,r=this.rc[d];d=r[0];var m=r[1],g=r[2];r=r[3];var h=new Pattern("rleToCellList"),E=2<f&&!this.a.Eb;a+=" ";if(-1!==PatternManager.Ek(h,a,!1,this.a.i)){if(-1!==PatternManager.Ek(h,a,!0,this.a.i))for(e=0;e<h.height;e+=1){var k=h.le[e];for(a=0;a<h.width;a+=1){var u=k[a];0<u&&(E&&(u=f-u),l[l.length]=b+a*d+e*m,l[l.length]=c+a*g+e*r,l[l.length]=u)}}}else l[0]="error";return l};e.prototype.vy=function(a){var b=0,
c=a.indexOf("["),d=a.indexOf("]");if(-1!==c&&-1!==d&&c<d&&d===a.length-1){for(c+=1;c<d&&0<=b;){var l=a.charCodeAt(c)-48;0>l||9<l?b=-1:(b=10*b+l,c+=1)}0<b&&(this.tj=!0)}return b};e.prototype.Tx=function(a){var b=0>this.Pi?-this.Pi:this.Pi,c=0>this.Qi?-this.Qi:this.Qi;b=2*(b<c?c:b);a<b&&(a=b);return a};e.prototype.Sx=function(a){var b=0>this.Oi?-this.Oi:this.Oi,c=0>this.Ri?-this.Ri:this.Ri;b=2*(b<c?c:b);a<b&&(a=b);return a};e.prototype.Lx=function(a,b){var c,d=!1;for(c=0;!d&&c<this.Zg.length;)a===this.Zg[c].name?
d=!0:c+=1;if(d)for(a=this.Zg[c].mz,c=0;c<a.length;c+=1)b[b.length]=a[c];return d};e.prototype.qq=function(a,b,c){var d,e=!1;if(this.ae(b))a[a.length]=[Keywords.el+" "+b,"name is reserved word"];else{for(d=0;!e&&d<this.Zg.length;)b===this.Zg[d].name?e=!0:d+=1;if(e)a[a.length]=[Keywords.el+" "+b,"name already defined"];else{e=!1;for(d=0;!e&&d<c.length;)1>c[d]?e=!0:d+=1;e?a[a.length]=[Keywords.el+" "+b+" "+c[d],"invalid delta"]:(a=c.slice(),this.Zg[this.Zg.length]={name:b,mz:a})}}};e.prototype.pq=function(a,
b,c,d,e,f){var l,r=!1;if(this.ae(b))a[a.length]=[Keywords.ak+" "+b,"name is reserved word"];else if(-1!==b.indexOf("["))a[a.length]=[Keywords.ak+" "+b,"name can not contain ["];else{for(l=0;!r&&l<this.$g.length;)b===this.$g[l].name?r=!0:l+=1;r?a[a.length]=[Keywords.ak+" "+b,"name already defined"]:(c=this.gq(c,d,e,f),"error"!==c[0]?this.$g[this.$g.length]={name:b,cells:c}:a[a.length]=[Keywords.ak+" "+b,"invalid RLE"])}};e.prototype.rq=function(a,b,c,d,e,f,g,k,n){var l=0,r=!1,m=[],t=this.rc[n],x=t[0],
E=t[1],z=t[2],u=t[3];t=h.Ng;var H=-h.Ng,C=h.Ng,A=-h.Ng,F=f.indexOf("["),I=f,J=0,S=[];-1!==F&&(I=f.substr(0,F),J=this.vy(f));for(;l<this.$g.length&&!r;)this.$g[l].name===I?(r=!0,m=this.$g[l].cells.slice()):l+=1;if(r)for(l=0;l<m.length;)f=m[l],n=m[l+1],m[l]=g+f*x+n*E,m[l+1]=k+f*z+n*u,l+=3;else m=this.gq(f,g,k,n),"error"!==m[0]&&(r=!0);-1===J&&(r=!1);if(r){for(l=0;l<m.length;)g=m[l],k=m[l+1],g<t&&(t=g),g>H&&(H=g),k<C&&(C=k),k>A&&(A=k),l+=3;g<this.Pi&&(this.Pi=g);g>this.Qi&&(this.Qi=g);k<this.Oi&&(this.Oi=
k);k>this.Ri&&(this.Ri=k);x=Array.Y(Uint8,A-C+1,H-t+1,0,this.a.i,"View.rle"+this.He.length);for(l=0;l<m.length;)g=m[l],k=m[l+1],x[k-C][g-t]=m[l+2],l+=3;S[0]=a;for(l=0;l<c.length;l+=1)S[S.length]=S[S.length-1]+c[l];this.He[this.He.length]={Io:S,end:b,every:d,mode:e,cells:m,map:x,G:t,A:C,width:H-t+1,height:A-C+1,wz:J};0<d&&(this.Lh=!0);S[S.length-1]>this.Hi&&(this.Hi=S[S.length-1])}return r};e.prototype.iA=function(){var a,b,c=this.a.width,d,e=this.a.v,f=2>=this.a.g&&!this.a.pa&&!this.a.Wb&&-1===this.a.ia;
for(a=0;a<this.He.length;a+=1){var g=this.He[a];var k=g.wz;if(0<k){var n=g.cells;var v=(c>>1)-(g.width>>1);var u=(c>>1)-(g.height>>1);var p=0;e.G=v;e.M=v+g.width-1;e.A=u;e.L=u+g.height-1;this.a.o=0;if(f)for(;p<n.length;)this.a.Th(v+n[p]-g.G,u+n[p+1]-g.A,n[p+2],!0),p+=3;else this.a.Nw(n,v-g.G,u-g.A);for(;0<k;)this.a.Mi(!1,!0,!0),this.a.Dj(),--k;n=[];p=0;var y=d=h.Ng;for(b=e.A;b<=e.L;b+=1)for(k=e.G;k<=e.M;k+=1){var w=this.a.getState(k,b,!1);0!==w&&(n[p]=k-v+g.G,n[p+1]=b-u+g.A,n[p+2]=w,n[p]<d&&(d=n[p]),
n[p+1]<y&&(y=n[p+1]),p+=3)}g.cells=n.slice();g.width=e.M-e.G+1;g.height=e.L-e.A+1;g.A=y;g.G=d;g.map=Array.Y(Uint8,g.height,g.width,0,this.a.i,"View.rle"+a);for(p=0;p<n.length;)k=n[p],b=n[p+1],g.map[b-g.A][k-g.G]=n[p+2],p+=3;this.a.$n(!1)}}this.tj&&this.a.$n(!1)};e.prototype.Zj=function(){var a,b,c=this.a.o,d=this.a.width,e=2>=this.a.g&&!this.a.pa&&!this.a.Wb&&-1===this.a.ia;for(b=0;b<this.He.length;b+=1){var f=this.He[b];var g=!1;if(0!==f.every&&c>=f.Io[0]&&0===(c-f.Io[0])%f.every)-1!==f.end&&c>f.end||
(g=!0);else for(a=0;a<f.Io.length&&!g;)c===f.Io[a]?g=!0:a+=1;if(g){var k=f.mode;g=(d>>1)-(this.Ie>>1);var n=(d>>1)-(this.qf>>1);var v=f.cells;var u=f.map;a=0;switch(k){case h.qp:if(e)for(;a<v.length;)this.a.Th(g+v[a],n+v[a+1],v[a+2],!0),a+=3;else this.a.Nw(v,g,n);break;case h.aw:g+=f.G;n+=f.A;for(f=0;f<u.length;f+=1)for(v=u[f],k=0;k<v.length;k+=1)this.a.Th(g+k,n+f,v[k],!0);break;case h.cw:for(;a<v.length;){k=v[a];f=v[a+1];var p=this.a.getState(g+k,n+f,!1);this.a.Th(g+k,n+f,v[a+2]^p,!1);a+=3}break;
case h.$v:g+=f.G;n+=f.A;for(f=0;f<u.length;f+=1)for(v=u[f],k=0;k<v.length;k+=1)p=this.a.getState(g+k,n+f,!1),this.a.Th(g+k,n+f,v[k]&p,!1);break;case h.bw:for(g+=f.G,n+=f.A,f=0;f<u.length;f+=1){v=u[f];for(k=0;k<v.length;k+=1)0===v[k]&&this.a.Th(g+k,n+f,1,!0);a+=3}}}}if(this.Lh||c<=this.Hi)this.a.va=!0;this.hs()};e.prototype.hs=function(){var a,b=this.a.o;for(a=0;a<this.j;a+=1)this.Ca[a].Gf===b&&this.Jm(this.Ca[a],!1)};e.prototype.hq=function(a){this.Fd=this.Tc=this.ph=this.rh=this.Ac=this.qh=this.oh=
this.lh=this.Gd=this.sh=this.Lg=a};e.prototype.Px=function(){this.hq(!1)};e.prototype.cB=function(){this.hq(!0)};e.prototype.zu=function(){this.vr=[];this.wr=[]};e.prototype.uy=function(a){var b=a.Xj.toDataURL("image/png"),c;(c=document.getElementById("screenshot"))?c.src=b:(c=window.open("",h.Ls))?(c.width=a.F+20,c.height=a.B+20,c.document.open(),c.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+h.Ls+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+a.F+
'" height="'+a.B+'" src="'+b+'" alt="'+h.Ls+'"/>\n\t</body>\n</html>\n'),c.document.close(),a.h.notification.T("Image Captured",300,!0)):a.h.notification.T("Could not open Image window!",h.Go,!0)};e.prototype.Vx=function(a){var b=this.a.gb,c=this.a.oa,d=this.a.lc;var e=a.width;var l=a.height;var f=this.Qd,g=this.Rd,k=this.a.fb,v=this.a.fb>>4,u=this.a.hb,p=null,y=e,w=l;var q=Math.round(-this.a.ma/2);var C=Math.floor((this.a.ma-1)/2);var B=Math.round(-this.a.ra/2);var F=Math.floor((this.a.ra-1)/2);
var I=f-(this.a.width>>1),A=g-(this.a.height>>1),J=this.a.g,Z=!0,Y=2===J&&this.a.pa;-1!==this.a.ia&&(0!==this.a.ma&&(I<q||I+e-1>C)&&(Z=!1),0!==this.a.ra&&(A<B||A+l-1>F)&&(Z=!1),Z||(this.Xt=!0,0!==this.a.ma?(f=Math.round(this.a.width/2)+q,y>C-q+1&&(y=C-q+1)):f=Math.round(this.a.width/2),0!==this.a.ra?(g=Math.round(this.a.height/2)+B,w>F-B+1&&(w=F-B+1)):g=Math.round(this.a.height/2)));a.ba&&(0!==(f&1)&&(f+=1),0!==(g&1)&&(g+=1));for(l=0;l<w;l+=1){B=a.Qc[l];F=b[l+g&u];if(this.Xb)for(q=a.le[l],p=c[l+g&
u],e=0;e<y;e+=1)p[e+f&k]=q[e];else if(2<J)for(q=a.le[l],p=c[l+g&u],e=0;e<y;e+=1)C=q[e],0<C&&!this.a.Eb&&(C=J+this.ca-C),p[e+f&k]=C;Y&&(p=c[l+g&u]);for(e=0;e<y;e+=1)0!==(B[e>>4]&1<<(~e&15))&&(F[e+f>>4&v]|=1<<(~(e+f)&15),Y&&(p[e+f&k]=LifeConstants.Ua))}if(d)for(l=0;l<w;l+=1)for(q=a.le[l],b=d[l+g&u],e=0;e<y;e+=1)(C=q[e])&&(b[e+f&k]=h.qb[C]+128)};e.prototype.Yl=function(){var a=!1;-1!==this.a.ia&&0!==this.a.ma&&0!==this.a.ra&&(a=!0);return a};e.prototype.oj=function(){var a=!1;-1===this.a.ia||0!==this.a.ma&&
0!==this.a.ra||(a=!0);return a};e.prototype.tk=function(a,b,c){a=a[0];b&&(c.Yb=a);return[a,100*a]};e.prototype.On=function(a,b,c){b&&(c.bg=(c.a.g-c.Nh)*a[0]|0);a[1]=c.bg+"-"+(c.bg+c.Nh-1);return a};e.prototype.nh=function(a,b,c){var d=a[0],e=0;b?(c.je=!0,c.a.zoom=h.Ya*Math.pow(h.Ib/h.Ya,a[0])/c.a.Qb):(d=Math.log(c.a.zoom*c.a.Qb/h.Ya)/Math.log(h.Ib/h.Ya),0>d?d=0:1<d&&(d=1));this.gc&&!this.hc?e=c.a.zoom*c.a.Qb:e=c.a.zoom;e<h.Ya?e=h.Ya:e>h.Ib&&(e=h.Ib);1>e&&(e=-1/e);return[d,e]};e.prototype.oy=function(a){var b=
a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};e.prototype.kg=function(a,b){var c=this.a.zoom,d=this.a.da,e=this.a.aa,l=6;if(this.ya){var f=this.a.kg(this.Ga,this.F*this.Ic,this.B*this.Ic,h.Ya,h.Ib,h.iq,this.Ie,this.qf,this.$b&&this.Xb,this.Kf,this.gc,this.Zh,this.ih,this.jh,this.$h,this.Fg,this.lb);f[0]/=this.Ic}else f=h.Qz,this.Jb&&(f=0),f=this.a.kg(this.Ga,this.F,this.B-f,h.Ya,h.Ib,h.iq,this.Ie,this.qf,this.$b&&this.Xb,this.Kf,this.gc,this.Zh,this.ih,this.jh,
this.$h,this.Fg,this.lb);this.lb&&!a?(24<this.a.zoom&&(l=3),1<this.ha&&(l=1),this.a.zoom=(this.a.zoom*(l-1)+f[0])/l,this.a.da=(this.a.da*(l-1)+f[1])/l,this.a.aa=(this.a.aa*(l-1)+f[2])/l,a=this.a.zoom>c?this.a.zoom/c-1:c/this.a.zoom-1,d=this.a.da>d?this.a.da-d:d-this.a.da,e=this.a.aa>e?this.a.aa-e:e-this.a.aa,this.wj=a,d>this.wj&&(this.wj=d),e>this.wj&&(this.wj=e),.01>=this.wj&&(this.a.zoom=f[0],this.a.da=f[1],this.a.aa=f[2])):(this.dj=this.a.width/2-this.a.da,this.ej=this.a.height/2-this.a.aa,this.ek=
this.a.zoom,this.cj=this.a.angle,this.Ih=this.a.width/2-f[1],this.Lj=this.a.height/2-f[2],this.si=f[0],this.Kk=this.cj,this.ln=WaypointConstants.bl,b?this.Ne=0:(this.Ne=WaypointConstants.bl,this.Gt()));this.Ab&&(this.Ab.current=this.nh([this.a.zoom,this.a.zoom],!1,this));this.Gb&&(this.Gb.current=this.Bn([this.a.angle,this.a.angle],!1,this))};e.prototype.Ux=function(a,b){-1!==this.a.ia&&this.Ag?(this.Qd=(this.a.width>>1)+this.Ad,this.Rd=(this.a.height>>1)+this.Bd):(this.Qd=Math.round((this.a.width-
a)/2)+this.Ad,this.Rd=Math.round((this.a.height-b)/2)+this.Bd);!this.$b&&this.a.Wb||!PatternManager.Lk||(this.$b=this.Xb=!0)};e.prototype.en=function(a){var b=a+String();1E9<=a?b="1B+":1E8<=a?b=(a/1E6|0)+"M":1E7<=a?b=Number(a/1E6).toFixed(1)+"M":1E6<=a?b=Number(a/1E6).toFixed(2)+"M":1E5<=a&&(b=(a/1E3|0)+"K");return b};e.prototype.yk=function(a,b){var c=this.h.Qh,d=this.h.Rh;b=a+b;var e=-this.a.angle,l=Math.sin(e/180*Math.PI);e=Math.cos(e/180*Math.PI);0>b?b=0:1<b&&(b=1);a=h.Ya*Math.pow(h.Ib/h.Ya,a);
b=h.Ya*Math.pow(h.Ib/h.Ya,b);b<h.Ya?b=h.Ya:b>h.Ib&&(b=h.Ib);c-=this.F/2;d-=this.B/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.a.da-=c*e+a*-l;this.a.aa-=c*l+a*e;b=Math.log(b/h.Ya)/Math.log(h.Ib/h.Ya);this.Ab.current=this.nh([b,b],!0,this)};e.prototype.zC=function(a){a.Ke.current=a.fh/a.ik*100;a.Ke.l=!1;a.he.Mc=0};e.prototype.AC=function(a,b){a.Ke.current=a.a.o/b*100;a.Ke.l=!1;a.he.Mc=0};e.prototype.yC=function(a){var b=!1,c=!1,d=0;a.$a||-1===a.sa||(b=!0);!a.oc&&a.Tb&&(c=!0);if(b||c){var e=!1;if(c&&b)d=a.elapsedTime/
a.D.Tu(a.sa);else if(c){if(b=a.D.hA().fc)d=a.elapsedTime/b,1<d&&(e=!0)}else 0<a.sa&&(d=a.a.o/a.sa);1<d&&(d=1);a.Ke.current=100*d}else e=!0;(a.Ke.l=e)?a.he.Mc=a.u.Mc:a.he.Mc=0};e.prototype.pz=function(){this.Uh.Hy(this.a.width/2-this.a.Dc,this.a.height/2-this.a.Ec,this.a.na,this.a.Oa,this.a.F,this.a.B,this.a.Zc,this.a.$f[0])};e.prototype.ow=function(){var a=this.u.pf-this.F/2,b=this.u.Vg-this.B/2,c=this.Rd-this.a.aa,d=this.Qd-this.a.da-(this.a.R?this.a.aa/2:0),e=this.a.zoom;var f=this.a.zoom*(this.a.ba&&
4<=e?h.Np:1);var g=-1;-1!==this.u.pf&&(0!==this.a.Oa&&(g=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.a.Oa,a=g*Math.cos(Math.PI/180*b),b=g*Math.sin(Math.PI/180*b)),f=b/f-c+this.a.yb,a=a/e+(this.a.R?c/2+f/2:0)-d+this.a.Fb,this.a.ba&&(a-=this.a.zoom/32*.2),d=a-Math.floor(a),c=f-Math.floor(f),a-=d,f-=c,this.a.ba&&(0===(a+this.Qd+f+this.Rd&1)?1<d+c&&(a+=1):1>1-d+c&&(a+=1)),g=this.a.getState(a+this.Qd,f+this.Rd,this.Xb&&this.$b));return g};e.prototype.Ln=function(a,b){var c=a-this.F/2,d=b-
this.B/2;b=this.Rd-this.a.aa;var e=this.Qd-this.a.da-(this.a.R?this.a.aa/2:0),l=0,f=0,m=0,g=0,k=this.a.zoom,u=this.a.zoom*(this.a.ba&&4<=k?h.Np:1);-1!==a&&(0!==this.a.Oa&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.a.Oa,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),l=d/u-b+this.a.yb,f=c/k+(this.a.R?b/2+l/2:0)-e+this.a.Fb,this.a.ba&&(f-=this.a.zoom/32*.2),g=f-Math.floor(f),m=l-Math.floor(l),f-=g,l-=m);this.a.ba&&(0===(f+this.Qd+l+this.Rd&1)?1<g+m&&(f+=1):1>1-g+m&&(f+=1));
this.vl=f+this.Qd;this.Cl=l+this.Rd};e.prototype.Cx=function(a,b,c,d,e){var l=Math.abs(c-a),f=Math.abs(d-b),r=a<c?1:-1,m=b<d?1:-1,g=l-f,h=this.a.width,k;for(k=0|this.Gn(a,b,e);h!==this.a.width;)a+=h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1;for(;a!==c||b!==d;){var E=g+g;E>-f&&(g-=f,a+=r);E<l&&(g+=l,b+=m);for(k|=this.Gn(a,b,e);h!==this.a.width;)a+=h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1}return k};e.prototype.BC=function(a){var b=0;this.Pf[this.Mf]=a;this.Mf+=1;this.Mf>=h.DA&&(this.Mf=0);for(a=0;a<this.Pf.length;a+=
1)b+=this.Pf[a];b/=this.Pf.length;this.Of.pb=String(Math.round(b));this.Of.l=!1};e.prototype.Mq=function(){var a;for(a=0;a<this.Pf.length;a+=1)this.Pf[a]=0;this.Mf=0;this.Of.l=!0};e.prototype.aC=function(){var a=this.u.pf-this.F/2,b=this.u.Vg-this.B/2,c=this.Rd-this.a.aa,d=this.Qd-this.a.da-(this.a.R?this.a.aa/2:0),e=this.a.zoom,f=this.a.zoom*(this.a.ba&&4<=e?h.Np:1);var g=9999<this.a.W?99999:9999;if(-1===this.u.pf)this.sc.pb="",this.sc.l=!this.vf;else{if(0!==this.a.Oa){var k=Math.sqrt(a*a+b*b);b=
180/Math.PI*Math.atan2(b,a);b-=this.a.Oa;a=k*Math.cos(Math.PI/180*b);b=k*Math.sin(Math.PI/180*b)}f=b/f-c+this.a.yb;a=a/e+(this.a.R?c/2+f/2:0)-d+this.a.Fb;this.a.ba&&(a-=this.a.zoom/32*.2);d=a-Math.floor(a);c=f-Math.floor(f);a-=d;f-=c;this.a.ba&&(0===(a+this.Qd+f+this.Rd&1)?1<d+c&&(a+=1):1>1-d+c&&(a+=1));c=this.a.getState(a+this.Qd,f+this.Rd,this.Xb&&this.$b);a+=this.Ad;f+=this.Bd;-1===this.a.ia||this.Ag||(a-=Math.floor((-1===this.eh?this.Ie:this.eh)/2),f-=Math.floor((-1===this.dh?this.qf:this.dh)/
2));a=a<-g||a>g?Number(a/1E3).toFixed(1)+"K":String(a);g=f<-g||f>g?Number(f/1E3).toFixed(1)+"K":String(f);this.sc.pb=a+","+g+"="+c;this.sc.l=!1}this.sc.enabled=this.vf||this.ta.current===h.ob&&-1!==this.u.pf?this.Z||this.Za||0===this.Ie?!1:!0:!1};e.prototype.aB=function(a){if(!this.Jb&&!this.ya)if(0<this.Z)0<a?this.Jp(this,3):this.Ip(this,3);else if(0<this.Za)0<a?this.Hp(this,3):this.Gp(this,3);else if(!this.ic){var b=this.Ab.current[0];0>a?this.yk(b,-.05):this.yk(b,.05)}};e.prototype.JC=function(a,
b){var c=b.D.current;var d=!1,e=!1,l=!1,f=!1,g=!1,m;b.ic=!1;b.Hr&&(b.Hr=!1,a=0);b.$b||b.yC(b);b.ha=b.dc.current[0];b.ta.current!==h.ob?(a>h.Cz&&(e=!0),a>h.Rw&&(a=h.Rw),!b.Gc||b.Tb&&!b.oc||(b.Wg+=b.ha*b.Ld*a/1E3,b.Ga+=b.Ld*a/1E3,(b.Ga|0)>b.a.o?(b.Ga+=b.ha-1,b.ug=!0):b.elapsedTime+=a)):b.ug&&(g=!0,b.Ga=b.Us?b.a.o+1:b.a.o+b.ha,b.Wg=b.Ga);b.It();b.Tb&&!b.oc&&b.ta.current!==h.ob?(b.je&&!b.D.Jq(b.elapsedTime+a)&&(b.je=!1,b.elapsedTime=b.D.Iu(b.a.width/2-b.a.da,b.a.height/2-b.a.aa,b.a.zoom,b.a.angle,b.a.N,
b.a.wc*h.oi,b.a.we,b.Ld,b.ha,b.a.o,b.elapsedTime)),c.od&&(b.kg(!0,!1),b.je=!1,c.x=b.a.width/2-b.a.da,c.y=b.a.height/2-b.a.aa,b.ya&&(b.a.zoom*=b.Ic),c.zoom=b.a.zoom),(l=b.D.update(b.elapsedTime+a,b.a.o))?(c.od&&(c.od=!1,b.ya&&(b.a.zoom=c.zoom/b.Ic),b.Ab&&(b.Ab.current=b.nh([b.a.zoom,b.a.zoom],!1,b))),b.Ga+=b.Ld*a/1E3,(b.Ga|0)>b.a.o&&(b.Ga+=b.ha-1,b.ug=!0)):(b.ta.current!==h.ob&&(b.ic=!0),b.a.da=b.a.width/2-c.x,b.a.aa=b.a.height/2-c.y,b.a.zoom=c.zoom,b.ya&&(b.a.zoom=b.a.zoom/b.Ic),b.Ab&&(b.Ab.current=
b.nh([b.a.zoom,b.a.zoom],!1,b)),b.a.angle=c.angle,b.Gb&&(b.Gb.current=[b.a.angle,b.a.angle]),b.a.N=c.N,b.xc&&(b.xc.current=[b.a.N,b.a.N]),b.a.wc=c.depth/h.oi+h.ip,b.Pb&&(b.Pb.current=[Math.sqrt(b.a.wc),b.a.wc*h.oi]),b.Ld=c.nb,b.Pa&&(b.Pa.current=[Math.sqrt((c.nb-h.Ce)/(h.Gi-h.Ce)),b.Wu(c.nb)]),b.ha=c.step,b.dc.current=[b.ha,b.ha],c.bb>b.a.o?(b.ug=!0,b.Ga=c.bb):b.ug=!1,c.zd!==b.Xo&&(""===c.zd?b.h.notification.clear(!1,!1):b.h.notification.T(c.zd,1E3,!1),b.Xo=c.zd),c.sb!==b.Rr&&(b.Sc.current=b.sk([c.sb,
""],!0,b),b.Rr=c.sb)),b.ug||(b.elapsedTime+=a)):b.lb&&b.ta.current!==h.ob&&(b.ic=!0);b.ic&&(b.Ne=-1);c=0;if(b.ug){if(b.a.va){var k=performance.now();var u=(b.Ga|0)-b.a.o;for(m=0;!f&&b.a.o<(b.Ga|0);){c=performance.now()-k;if(b.a.o===b.rb-1||c>h.kx&&!g)f=!0;b.vf&&(b.a.o===(b.Ga|0)-1||f)?b.a.Mi(!0,b.Xf,b.Pc):b.a.Mi(!1,b.Xf,b.Pc);m+=1;(b.a.Zw||0<b.He.length||b.a.o===(b.Ga|0)||f)&&!(0===b.a.va&&2<b.a.g)&&(b.a.Dj(),b.Zj(),b.Lh||b.a.o<=b.Hi)&&(b.a.va=1);b.KB(a,u);-1!==b.sa&&b.a.o>=b.sa&&!b.$a&&(b.elapsedTime=
0,b.reset(b),l&&(b.ic=!0));b.a.va||(f=!0)}b.a.va||(b.lr=b.ca+(0<b.a.g?b.a.g:0),-1===b.Gh&&(b.Gh=b.a.o,b.a.$n(!0),!b.bm||-1!==b.sa&&!b.$a||b.Jk||b.h.notification.T("Life ended at generation "+b.Gh,600,!0)));b.Ga-=u-m;m<u&&b.a.o!==b.rb?b.BC(m):b.Mq()}else b.Mq(),b.lr&&(--b.lr,a=b.a.o,b.a.o=b.Gh,b.a.Dj(),b.a.o=a),b.a.o+=b.ha,-1!==b.sa&&b.a.o>=b.sa&&!b.$a&&(b.elapsedTime=0,b.reset(b),l&&(b.ic=!0));b.a.o===b.rb&&(b.ta.current=b.Yd(h.ob,!0,b),b.bm&&b.h.notification.T("STOP reached - Play to continue ",
180,!0))}else b.Mq();b.Mg.locked=b.ic&&b.Tb;b.Nj.locked=b.ic||b.lb&&b.ta.current!==h.ob;b.Pa.locked=b.ic&&b.Tb;b.dc.locked=b.ic&&b.Tb;b.Sc.locked=b.ic&&b.Tb;b.Ab.locked=b.ic;b.Gb.locked=b.ic&&b.Tb;b.xc.locked=b.ic&&b.Tb;b.Pb.locked=b.ic&&b.Tb;b.wheelDelta&&(b.aB(b.wheelDelta),b.wheelDelta=0);b.lb&&(b.ta.current!==h.ob||b.Tb)&&b.kg(!1,!1);b.a.kB();b.Eg&&b.pz();b.a.Eo();b.a.Re&&b.a.R&&4<=b.a.zoom?b.a.oz():b.a.ba&&4<=b.a.zoom&&b.a.rz();b.an&&(2===b.an&&b.a.Fo(b.Je,1,!0,b.ya),b.uy(b),2===b.an&&b.a.Eo(),
b.an=0);b.a.o&&b.a.va&&(l=h.ke,b.a.pa&&(l=4*b.a.Vb.yc+1,-1!==b.a.ia&&(l+=2*b.a.Vb.yc),b.a.Vb.type===PatternManager.xf&&(l=-1!==b.a.ia?l+b.a.ra/2:l+(b.a.v.L-b.a.v.A+1)/2),l<h.ke&&(l=h.ke)),b.a.xy(l)&&(b.fe+=b.a.width>>2,b.Gj+=b.a.height>>2,b.ne+=b.a.width>>2,b.ck+=b.a.height>>2,b.a.R&&(b.fe-=b.a.height>>3,b.ne-=b.a.height>>3),b.Qd+=b.a.width>>2,b.Rd+=b.a.height>>2));b.ag&&b.D.dr(b);b.jb&&b.a.Fo(b.Je,b.Yb,!1,b.ya);b.Z?Help.fr(b):b.Sb.length&&Help.er(b);b.he.lower[0]=b.Ko?"+ "+b.en(b.a.o):"T "+b.en(b.a.o+
b.Jo);b.Kj.pb=b.oy(b.elapsedTime);b.Ti.pb=b.en(b.a.xa);b.Yl()?b.Pg.pb=(100*b.a.xa/(b.a.ra*b.a.ma)|0)+"%":(b.Pg.pb=b.en(b.a.Cb),b.ni.pb=b.en(b.a.kc));b.Ti.I="alive "+b.a.xa;b.Yl()?b.Pg.I="density "+(100*b.a.xa/(b.a.ra*b.a.ma)|0)+"%":(b.Pg.I="births "+b.a.Cb,b.ni.I="deaths "+b.a.kc);b.bs||b.tC(c,e,g,b);b.ug=!1;b.Us=!1;b.aC();-1!==b.Ne&&b.Gt();if(b.Gc||b.lb&&b.wj>b.qy||-1!==b.Ne)d=!0;b.uC();b.CC();b.vC();b.DC(b.Z||b.Sb.length);b.h.ah(d)};e.prototype.tC=function(a,b,c,d){a>h.kx&&!c?(d.yg+=h.dw,d.yg>=
2*h.rs&&(d.yg=0)):0<d.yg&&(d.yg-=h.dw);b&&!c?d.zg<h.JA&&(d.zg+=h.ew):d.zg>h.KA&&(d.zg-=h.ew);d.yg>=h.rs&&(d.eD=2*h.rs-d.yg);a=d.qk>>16;b=d.qk>>8&255;c=d.qk&255;128<=a?64<=b||64<=c?(b-=d.zg,c-=d.zg,0>b&&(b=0),0>c&&(c=0)):(b+=d.zg,255<b&&(b=255)):(a+=d.zg,255<a&&(a=255));d.Pa.Vc="rgb("+a+","+b+","+c+")";a=d.qk>>16;b=d.qk>>8&255;c=d.qk&255;128<=b?(a-=d.zg,0>a&&(a=0),c-=d.yg,0>c&&(c=0)):(b+=d.yg,255<b&&(b=255));d.dc.Vc="rgb("+a+","+b+","+c+")"};e.prototype.It=function(){if(this.gc&&!this.hc){this.a.Fb=
this.Wg*(this.ih+this.$h)/2;this.a.yb=this.Wg*(this.Zh+this.jh)/2;var a=this.a.Ax(0,this.Zh,this.ih,this.jh,this.$h,this.F,this.B-80,h.Ya,h.Ib,h.iq);var b=this.a.Ax(this.Wg,this.Zh,this.ih,this.jh,this.$h,this.F,this.B-80,h.Ya,h.Ib,h.iq);this.a.Qb=b/a}else this.a.Fb=0,this.a.yb=0,this.a.Qb=1;this.Ab.current=this.nh([this.a.zoom,this.a.zoom],!1,this)};e.prototype.DC=function(a){var b=!(this.Z&&this.xi===h.bi);var c=[];var d=[];this.Mg.l=a;this.Ab.l=a||this.jb;this.Nj.l=a;this.vi.l=a;this.Ue.l=a||this.jb;
this.de.l=a||this.jb;this.cb.l=a||this.jb;this.Fi.l=a||this.jb;this.Uj.l=a;this.qc.l=a||!this.jb;this.mm.l=a||!this.jb;this.Tk.l=a||!this.jb;this.Qf.l=a;this.Kj.l=a;this.hf.l=a;this.Ti.l=a;this.Ob.l=a||this.oj();this.Pg.l=a||this.oj();this.$e.l=a||this.Yl()||this.oj();this.ni.l=a||this.Yl()||this.oj();this.Uc.l=a;this.Gb.l=a||this.a.R||this.a.ba;this.Pb.l=a;this.Sc.l=a||this.Xb||this.a.Eb;this.xc.l=a;this.Nj.l=a;this.zh.l=a||!this.Yh;this.Ub.l=!(this.Ae||this.Sb.length);this.yi.l=a;this.zi.l=a;this.Bk.l=
a;this.Bi.l=a;this.th.l=a;this.ui.l=a;this.Rk.l=a;this.Mh.l=a;this.Qk.l=a;this.ml.l=a;this.Mk.l=a;this.ei.l=a;this.Ig.l=a||!this.Ea;this.Dd.l=a||!this.Ea;this.Kg.l=a||!this.Ea;this.Ed.l=a||!this.Ea;this.Dg.l=a||!this.Ea;this.hd.l=a||!this.Ea;this.sm.l=a||!this.Ea;this.pj.l=a||!this.Ea;this.rj.l=a||!this.Ea;this.sj.l=a||!this.Ea;this.qj.l=a||!this.Ea;this.jd.l=a||!this.Ea;this.ld.l=a||!this.Ea;this.Cd.l=a||!this.Ea;this.kd.l=a||!this.Ea;this.Sb.length?(this.Ub.I="close errors",this.Ub.pb="Esc",this.Ub.font=
"16px Arial"):(this.Ub.I="close window",this.Ub.pb="X",this.Ub.font="24px Arial");this.xk.l=!(this.Z&&this.xi!==h.bi);this.Nb.l=!(this.Z&&this.xi!==h.bi)||!this.fn;this.wg.l=b;this.Bg.l=b;this.vg.l=b;this.Cg.l=b;this.tg.l=b;this.sg.l=b;this.df.l=b;this.nj.l=b||0===this.D.Dm();this.uj.l=!(this.Z&&this.xi!==h.bi)||this.fn;if(this.yn){this.yn=!1;for(b=0;b<this.U.length;b+=1)c[b]=this.U[b][1],d[b]="";this.Nb.lower=c;this.Nb.I=d;this.Nb.height=26*this.U.length;this.Nb.current=0}this.cc.l=a||!this.ze||
!this.jl;this.s.l=a||!this.ze||!this.jl;if(2>=this.a.g)for(b=0;b<this.s.lower.length;b+=1)c=2>=b?0===b?b:1===b?LifeConstants.Ua:LifeConstants.mi:128+h.qb[b],this.s.Dl[b]="rgb("+this.a.Ra[c]+","+this.a.Qa[c]+","+this.a.Na[c]+")";else for(b=0;b<this.s.lower.length;b+=1)c=0===b+this.bg?0:this.ca+this.a.g-(b+this.bg),this.s.Dl[b]="rgb("+this.a.Ra[c]+","+this.a.Qa[c]+","+this.a.Na[c]+")";this.al.l=a||!this.ze;this.Ah.l=a||!this.ze;this.uk.l=a||!this.ze||!this.jl||8>this.a.g;this.a.g>this.Nh&&this.Mn();
if(0<this.Z){b=0;for(c=-1;b<this.U.length&&-1===c;)this.U[b][0]>this.Z?c=this.U[b][0]:b+=1;b===this.U.length&&(c=b);-1!==c&&(this.Nb.current=b-1)}this.hm&&(this.u.l=this.ta.current===h.Ii?!0:!1)};e.prototype.vC=function(){var a=-(this.a.width/2-this.a.da-this.a.Fb|0),b=-(this.a.height/2-this.a.aa-this.a.yb|0),c=String(a),d=String(b);this.Ig.l=!this.Ea;this.Dd.l=!this.Ea;this.Kg.l=!this.Ea;this.Ed.l=!this.Ea;this.Dg.l=!this.Ea;this.hd.l=!this.Ea;this.sm.l=!this.Ea;this.pj.l=!this.Ea;this.rj.l=!this.Ea;
this.sj.l=!this.Ea;this.qj.l=!this.Ea;this.jd.l=!this.Ea;this.ld.l=!this.Ea;this.kd.l=!this.Ea;this.Cd.l=!this.Ea;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.Dd.pb=c;this.Ed.pb=d;this.hd.pb=this.a.angle.toFixed(0)+"\u00b0";this.jd.pb=this.ho.toFixed(3);this.ld.pb=this.jo.toFixed(3);this.Cd.pb=this.ko.toFixed(3);this.kd.pb=this.io.toFixed(3)};e.prototype.CC=function(){0===this.a.o?this.ko=this.ho=this.jo=this.io=0:(this.jo=(this.a.v.L-this.a.Nd.L)/this.a.o,this.io=
(this.a.v.A-this.a.Nd.A)/this.a.o,this.ho=(this.a.v.M-this.a.Nd.M)/this.a.o,this.ko=(this.a.v.G-this.a.Nd.G)/this.a.o)};e.prototype.uC=function(){this.Mg.current=[this.lb];this.Ue.current=[!this.ji&&this.se];this.Ue.locked=!this.se;this.gc?(this.cb.lower[0]="TRACK",this.cb.current=[!this.hc&&this.gc],this.cb.locked=!this.gc,this.cb.I=["toggle track mode"]):(this.cb.lower[0]="WAYPT",this.cb.current=[!this.oc&&this.Tb],this.cb.locked=!this.Tb,this.cb.I=["toggle waypoint mode"]);this.Fi.current=[!this.$a&&
-1!==this.sa];this.Fi.locked=-1===this.sa;this.Fi.I=["loop at "+this.sa];this.de.current=[-1!==this.rb];this.de.locked=-1===this.rb;this.de.I=["stop at "+this.rb]};e.prototype.KB=function(a,b){if(this.a.o>=this.gd.length){var c=this.a.i.X(Float32,this.gd.length+h.Tv,"View.elapsedTimes");c.set(this.gd);this.gd=c}this.elapsedTime+=a/b;this.gd[this.a.o]=this.elapsedTime};e.prototype.HC=function(a){var b=a.lC,c=a.ik-a.fh;if(a.fh<a.ik)if(0<a.Tq)--a.Tq;else if(a.Uo)a.hj.innerHTML=a.nn,a.fh=a.ik;else{c<
b&&(b=c);var d=document.createElement("textarea");a.Br(d);if(b!==c)for(;"\n"!==a.nn[a.fh+b];)--b;d.innerHTML=a.nn.substr(a.fh,b);a.fh+=b;a.hj.appendChild(d)}else a.h.notification.T("Press Enter to complete copy",1E4,!0);a.zC(a);a.a.Eo();a.ag&&a.D.dr(a);a.jb&&a.a.Fo(a.Je,a.Yb,!1,a.ya);a.Z?Help.fr(a):a.Sb.length&&Help.er(a);a.h.ah(!0)};e.prototype.IC=function(a){for(var b=a.Sq,c=performance.now(),d,e=a.a.Ud.mA*LifeConstants.gn;a.a.o<b-1&&13>performance.now()-c;)if(d=b-1-a.a.o<=e?!1:!0,a.a.Mi(!1,d,a.Pc),
a.a.Dj(),a.Zj(),a.Lh||a.a.o<=a.Hi)a.a.va=1;if(a.a.o===b-1){a.a.Mi(a.vf,!1,a.Pc);a.a.Dj();a.Zj();if(a.Lh||a.a.o<=a.Hi)a.a.va=1;a.Cj=!1;a.Rq&&a.h.notification.clear(!0,!1);a.u.locked=!1}else a.u.locked=!0;a.AC(a,b);a.a.Eo();a.ag&&a.D.dr(a);a.jb&&a.a.Fo(a.Je,a.Yb,!1,a.ya);a.Z?Help.fr(a):a.Sb.length&&Help.er(a);a.h.ah(!0)};e.prototype.Fx=function(a,b){b.Cj?b.IC(b):b.Hl?b.HC(b):b.JC(a,b)};e.prototype.St=function(a){a.a.o=0;a.Ga=0;a.Wg=0;a.elapsedTime=0;a.a.da=a.a.width>>1;a.a.aa=a.a.height>>1;a.a.da&=
a.a.width-1;a.a.aa&=a.a.height-1;a.a.va=!0;a.Hr=!0;a.Gh=-1};e.prototype.vx=function(a,b,c){b&&(c.Eg=a[0]);return[c.Eg]};e.prototype.rx=function(a,b,c){b&&(c.Kf=a[0]);return[c.Kf]};e.prototype.ux=function(a,b,c){b&&(c.a.Jh=a[0]);return[c.a.Jh]};e.prototype.sx=function(a,b,c){b&&(c.Ea=a[0]);return[c.Ea]};e.prototype.Pt=function(a,b,c){b&&(c.jb=a[0]);return[c.jb]};e.prototype.Ix=function(a,b,c){b&&(c.a.fg=a[0]);return[c.a.fg]};e.prototype.tx=function(a,b,c){b&&(c.ag=a[0]);return[c.ag]};e.prototype.ox=
function(a,b,c){b&&(c.a.Fc=a[0]);return[c.a.Fc]};e.prototype.qx=function(a,b,c){b&&(c.a.Re=a[0],c.Ht());return[c.a.Re]};e.prototype.Qt=function(a,b,c){b&&(c.a.R=a[0],c.a.R?(c.a.da-=c.a.aa/2,c.fe-=c.a.aa/2,c.ne-=c.a.aa/2):(c.a.da+=c.a.aa/2,c.fe+=c.a.aa/2,c.ne+=c.a.aa/2),c.Ht(),c.Gb.l=c.a.R);return[c.a.R]};e.prototype.An=function(a,b,c){b&&(c.h.$i=a[0]);c.h.ah(!0);return[c.h.$i]};e.prototype.tl=function(a,b,c){b&&(c.h.aj=a[0]);c.h.ah(!0);return[c.h.aj]};e.prototype.sk=function(a,b,c){b&&(b=a[0]+.5|
0,c.a.we!==b&&(c.a.il(b,c.a.Aj,c),1<c.a.Aj&&(c.h.kj=c.a.Aj)));return[a[0],c.jt(c.a.we)]};e.prototype.mj=function(a,b,c){b&&(c.ha=a[0]+.5|0);return[c.ha,c.ha]};e.prototype.Wu=function(a){return(10>a.toFixed(1)?a.toFixed(1):a.toFixed(0))+"/s"};e.prototype.mh=function(a,b,c){b?(c.Ld=h.Ce+a[0]*a[0]*(h.Gi-h.Ce),a=a[0]):a=Math.sqrt((c.Ld-h.Ce)/(h.Gi-h.Ce));return[a,c.Wu(c.Ld)]};e.prototype.Jw=function(a){a.gl=a.a.zoom;a.ya&&(a.gl=a.gl*a.Ic);a.Ks=a.a.angle;a.ne=a.a.da;a.ck=a.a.aa};e.prototype.xB=function(a){a.dj=
a.a.width/2-a.a.da;a.ej=a.a.height/2-a.a.aa;a.ek=a.a.zoom;a.cj=a.a.angle;a.Ih=a.a.width/2-a.ne;a.Lj=a.a.height/2-a.ck;a.Kk=a.Ks;a.ya?a.si=a.gl/a.Ic:a.si=a.gl;a.Ne=0};e.prototype.tB=function(a,b){a.a.zoom=a.Qu;a.ya&&(a.a.zoom=a.a.zoom/a.Ic);a.Ab&&(a.Ab.current=a.nh([a.a.zoom,a.a.zoom],!1,a));a.a.angle=a.Fk;a.Gb&&(a.Gb.current=[a.Fk,a.Fk]);a.a.da=a.fe;a.a.aa=a.Gj;b&&(b=a.a.Aj,a.a.Aj=1,a.Sc.current=a.sk([a.Ao,""],!0,a),a.a.Aj=b,a.Xb&&(a.a.zj=0),b=Math.sqrt((a.ar-h.Ce)/(h.Gi-h.Ce)),a.Pa.current=a.mh([b,
b],!0,a),a.ha=a.zo,a.dc.current=[a.ha,a.ha],a.a.N=a.Hk,a.xc.current=[a.Hk,a.Hk],b=Math.sqrt(a.$q),a.Pb.current=a.ai([b,b],!0,a))};e.prototype.yq=function(a){a?(this.a.da+=this.a.Fb,this.a.aa+=this.a.yb,this.a.zoom*=this.a.Qb):(this.It(),this.a.da-=this.a.Fb,this.a.aa-=this.a.yb,this.a.zoom/=this.a.Qb,this.It());this.a.zoom<h.Ya?this.a.zoom=h.Ya:this.a.zoom>h.Ib&&(this.a.zoom=h.Ib)};e.prototype.ww=function(a){a.elapsedTime=0;a.Xb||(a.a.Ep(a.Xf),a.a.va=!0,a.a.Cp())};e.prototype.reset=function(a){var b=
!1,c=!1;if(0===a.elapsedTime||a.So)b=!0;a.$a||-1===a.sa||a.a.o>=a.sa&&(c=!0);c||b||(a.Tb&&(a.oc=!0),a.gc&&(a.hc=!0),-1!==a.sa&&(a.$a=!0),a.Vn&&(a.lb=!1));a.elapsedTime=0;a.a.Fb=0;a.a.yb=0;a.a.Qb=1;if(b){a.Tb&&(a.oc=!1);a.gc&&(a.hc=!1);a.Vn&&(a.lb=!0);if(!c||a.Tb||a.lb)a.tB(a,b),a.lb&&a.kg(!0,!1);a.$a=!1}a.Xb||(a.a.Ep(a.Xf),a.Ga=a.a.o,a.Wg=a.Ga,a.a.va=!0);a.Pc||a.a.xw();a.a.Cp();a.Xo="";a.Rr=-1;a.je=!1;a.D.vB();a.h.notification.clear(!1,!1);a.Gh=-1;a.a.Em=0;a.hs()};e.prototype.Lw=function(a){a?(this.ta.icon[2]=
this.ka.icon("pause"),this.ta.I[2]="pause"):(this.ta.icon[2]=this.ka.icon("stepforward"),this.ta.I[2]="next generation")};e.prototype.uf=function(a,b){b.xi=a;b.Z=1;b.fn=!0;b.vr=[];b.wr=[];this.yn=!0};e.prototype.Tz=function(a){a.uf(h.qv,a)};e.prototype.FA=function(a){a.uf(h.Ms,a)};e.prototype.zz=function(a){a.uf(h.jm,a)};e.prototype.MC=function(a){a.uf(h.$w,a)};e.prototype.Rx=function(a){a.uf(h.Bu,a)};e.prototype.Mx=function(a){a.uf(h.du,a)};e.prototype.Uz=function(a){a.uf(h.Lv,a)};e.prototype.Nx=
function(a){a.uf(h.ju,a)};e.prototype.Hx=function(a,b,c){b&&(c.Z=c.U[a][0],c.fn=!1);return a};e.prototype.Rt=function(a,b,c){var d=a;if(b)switch(a){case h.Rv:c.$b||c.a.Eb?(c.h.notification.T("Drawing not available",40,!0),d=h.zm):(c.ze=!0,c.al.current=c.pt([!1],!0,c));break;case h.zm:c.ze=!1}return d};e.prototype.Tt=function(a,b,c){var d=a;b&&(c.ef=a,2>=c.a.g?b=c.a.Wb?h.Sw[c.ef]:c.ef?"Alive":"Dead":(a+=c.bg,0===a?(c.ef=0,b="Dead"):(c.ef=c.a.g-a,b=1===a?"Alive":"Dying "+String(a-1))),c.h.notification.T("Drawing with state "+
a+" ("+b+")",120,!0),c.al.current=c.pt([!1],!0,c));return d};e.prototype.Jx=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.cc.current=c.Tt(d,!0,c)),d+=1;return a};e.prototype.Yd=function(a,b,c){var d=a,e=c.$a,f=c.oc,l=c.ji,g=c.lb,r=c.hc,m=40,k=0,p=0,u=0,w=0,q=0;if(b){switch(a){case h.Xr:c.ji=c.So||c.se&&0===c.a.o&&0===c.elapsedTime?!1:!0;c.se&&!c.ji?(a=h.Ii,c.Gc=!0,c.Jk=0===c.a.xa?!0:!1):(a=h.ob,c.Gc=!1);c.reset(c);this.vh=this.j=0;b="Reset";!c.$a&&e&&-1!==c.sa&&(k=1);c.$a&&!e&&-1!==
c.sa&&(k=-1);!g&&c.lb&&(q=1);g&&!c.lb&&(q=-1);!c.oc&&f&&(p=1);c.oc&&!f&&(p=-1);!c.hc&&r&&(u=1);c.hc&&!r&&(u=-1);!c.ji&&l&&c.se&&(w=1);c.ji&&!l&&c.se&&(w=-1);if(0!==k||0!==p||0!==u||0!==w||0!==q){b="";0!==k&&(b+="Loop");if(0!==p||0!==u||0!==q)0!==k&&(b=0!==w?b+", ":b+" and "),b=0!==p?b+"Waypoints":0!==u?b+"Track":b+"AutoFit";if(0!==w){if(0!==k||0!==p||0!==u||0!==q)b+=" and ";b+="AutoStart"}b=0<k||0<p||0<u||0<w||0<q?b+" On":b+" Off";m=120}c.h.notification.T(b,m,!0);break;case h.Ii:c.ta.current!==h.Ii&&
(c.Gc=!0,c.zk(),c.Jk=0===c.a.xa?!0:!1,c.h.notification.T("Play",40,!0));break;case h.xA:c.Gc?(c.Gc=!1,c.h.notification.T("Pause",40,!0)):0<c.a.o&&(c.bk(c.a.o-c.ha),c.Ps(c.a.o-c.ha+1));a=h.ob;break;case h.ob:c.Gc?(c.Gc=!1,(c.a.o!==c.rb||c.bm)&&c.h.notification.T("Pause",40,!0)):(c.ug=!0,c.zk(),c.Jk=0===c.a.xa?!0:!1)}d=a;c.Lw(c.Gc)}return d};e.prototype.Bn=function(a,b,c){b&&(c.je=!0,c.a.angle=a[0]);return[c.a.angle,c.a.angle]};e.prototype.Cn=function(a,b,c){b?(c.je=!0,c.a.N=a[0]+.5|0,a=a[0]):a=c.a.N;
return[a,c.a.N]};e.prototype.ai=function(a,b,c){return b?(c.je=!0,c.a.wc=a[0]*a[0],[a[0],c.a.wc*h.oi]):[Math.sqrt(c.a.wc),c.a.wc*h.oi]};e.prototype.nz=function(a,b,c,d){var e=this.ef;-1===c&&-1===d?(this.Zk=this.ow(),2<this.a.g&&(e=this.a.g-e),this.Zk=this.Mp&&this.Zk===e?0:this.ef):(this.Ln(c,d),c=this.vl,d=this.Cl,this.Ln(a,b),a=this.vl,b=this.Cl,this.Cx(c,d,a,b,this.Zk)&&this.a.VA());0<this.a.xa&&(this.Gh=-1,this.a.va=!0)};e.prototype.Kx=function(a,b,c,d){d.hm&&!c&&(d.ta.current=d.Yd(h.ob,!0,d))};
e.prototype.Gx=function(a,b,c,d){d.px(a,b,c,d,!1)};e.prototype.px=function(a,b,c,d,e){if(c){if(d.Z||d.Za||!d.ze||e){if(-1!==d.Rj)if(d.Z)e=d.Ci-b,e/=h.fontSize,0<e?d.Ip(d,e):0>e&&d.Jp(d,-e);else if(d.Za)e=d.Ci-b,e/=h.fontSize,0<e?d.Gp(d,e):0>e&&d.Hp(d,-e);else{c=(d.Rj-a)/d.a.na;e=(d.Ci-b)/d.a.na/(d.a.ba&&4<=d.a.na?h.Np:1);var f=d.a.R||d.a.ba?0:-d.a.angle;if(!d.ic){var l=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);d.je=!0;d.a.da+=c*f+e*-l;d.a.aa+=c*l+e*f}}}else d.ze&&-1!==a&&-1!==b&&!d.$k&&d.nz(a,
b,d.Rj,d.Ci);d.Rj=a;d.Ci=b}else e||(!0===d.$k?-1!==a&&-1!==b&&(d.Zk=d.ow(),a=d.bg,d.bg=0,d.cc.current=d.Tt(d.Zk,!0,d),d.bg=a):0<d.af.length&&d.zk()),d.Rj=-1,d.Ci=-1};e.prototype.Ki=function(a,b){8>this.a.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8));this.Ci=this.Rj=0;this.px(a,b,!0,this,!0);this.Ci=this.Rj=-1};e.prototype.Wx=function(a){var b=h.mv;null===b&&(b=new Image,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAAAoCAIAAABYa1qWAAAABnRSTlMAAAAAAABupgeRAAAHbklEQVR4nO2dWbKtKBBFtaIGfIbijK0P4xIUSL8zE3Cvr/fEmx1dHkQ8DkIIIYQQQghp5ff7iV7/MtKxZcw/yFPpcdVLXw/uydwAKf03o56QRbnvO7hynqeCZCu9Vtz3rWOGmiJCTLiu6/f7Xdeldr0v3x0pPZhwkI2RmKLy6YWtXn3O8wxSAUhmICFzAxgHAiROSp50Ib6OKj2O458uUwmZnWculJOfGv2t9FrxNX8J2ZLXdRF4KRMOsi1yc2F+FrTSa8XX/CVkV54nL0KlBxMOsjcSc2HNLGil14qv+UvITugsbxCyJ8HkB5wL85Kt9MaYvDFx3zfEZZQcIazeUpk5Jj4TVt+EJgXM8JZKcPN4aXxn8geE1c+L1o14kI17vpARr3f6TfbExLmD2iBZlBPoRSGxmXESvfpvUfo/WSRen9F8Jae+gmzjfIgNL1ixqLEURdCWZjApxl8GUPt3/I9Xk+Cl79x/VN2N406Aur8oZNDsPqUQ+iyvdAeltChHwp0PwjMhahjvPppxlugUg+7nBwr/CsDWAfOExkkIVqsaVqXvWFVS68TWen9RyKDBfX+FotX4om1Fg0eEFxVB3PkmTDgqGWzPqyccI2JfQxdcMezOqaFmiYFFp10pnPQVUHsOxy2z0L00SzTcVqZy6t7oERWZCjegSb/WOzm7drEv12klLiGQO+krKL2uq+3gL6YdD7u25gn92nVATBFUwdK+tzYnfWef1vXonbDxT06Qq9V3VdFOXazHpfsUEPcWq9xJX3Fpz0mjX047UKOSxO+qwRqZdsD9Ws6xE/UVp9n83AjmFthd2vEpxntWxzjmHrUIbYCFy9wVyLbQvOSY/nM4VnkYhgLu74lmxJjJq3Jy88hyPP3FfzeKbUwB0SDXCP9gWpkCcrTG607VTOnowV9f6Kjb+7iEd0sYSeZnp4dWI0isMQSxVe6zRXdq/M1sNXXuoO55SM3ZctcDRE8XDUpz53DkrYyBNN+U3pTw1vuLQvw/tAqCJnkf/Z+A+RsG1RUV9albjo7p0Px8iBRNU5rQGnus5Yii6mKeN8A8ztgQAaVVjpPB8xfpdCfWXikkM9e47T6Qexwm53DUGIAtzZFP0Cpztw5axULMiP/Qyn1l6t1B+dutaNEIWzHDa7FNlaVQs6km1NqupGObul5pZM1tg9GOI1bsttId2Zc5oitzsy8fco+P9NkbxbMx8i+tQEoPiW+prD4rqNnf0UWxHXjRalrU7KPuyIfBOl0IK+9Syxt7cP9tyZRWIa2lifv/C1crroM+Tx/ixQDp6wHdu0FrSg+5j7dtP1wOIhGcJplL187SxpOHqWaFqYyBkOkjt/rDlBjss6G8wP0qVwKdnRz8WiwhRAl/flLOGl+npeJctRb337EiDzq/+jpUSGcb/sVtKncPpBKO8Rc1iShL187Sxn8Zv+I0K3GzxOKVeN3CpR3521qJ/9xqxZHZBhDRhymuFJ9wrJ5q6NgvoaJV5qLVtKjZxKGwzyBWV399RTJphL/UgXJ5hj74hSUrfUQfrBzYhGP1VMNHwZfsIV499NkA90uU5Qz2qamv8Tqdn9Pi1+frzKRvhgTFRYunLWETLNu47ZdtSJ+9kT+TQ2d540CdwwGs45TelIrW+4tC4j+0CoUaGQedO5A418ipMWYbAmfjWaHGZfPzIVI0rd4DdzIGYp9/jE9O5nGOQ9TqBTbIfRnMuAGi2UbeqbPiszv19zimOodD9L9JEq9ehpQFNdKqCGLYiCLpgOhQdAflr5qiJYh9RHnNczic2DiSwEalGWc5L7pJ9dYMEI01F1fB8OyNvAESpUmk202rXtT9RSF95kmHRYG8Oyh/i3I2i2qe2E2U40w4nNg4nsBGZZhwvF7RJ9Wjiz29W1fNxdVRaFeos7yaSnu+FrvfynY9NctllcA7yWC9wJ/yovhye1ud2VqUs2ePRjWDF03jxrjBO+3bsOXKfp5eqLQt4WC9PoynHRID8W3xsWlp2OTWhXX3ESrHjcH2kFrgYTPrI7+GEd82XnpdV23CwUqNAa52zMNUOcf2rS52cHuXZ4BBhqM/bjDbGCS/SnH8pQvY0vJrsRu/ngdhv/hM4s4kZpDNYLtaET+9eDZt7DfwKqP2KqxPLuFgjdbTGiuJwAJlmtc73ACrbTdzbvcBgt0V2CczsznRNaS9jzb5CFumGlZnbzzofELFsU+1EeIItrOM726plGyi1/x8CAdqlbtDTpyUwOck8zgDmxOZCvNzODL2jJTWHsJByNL40w98eSAj3EpvjP5rsTfu8GygKAmkY5u6Pm1AyDjSZ2/kz+SQO3hDP00nRBs3NAuN0Sn5VnpjlBMOrOPSYRyECQeRwKpdBaUjx3IUD+3g5+nJtsgtQef35FvpteJr/hryulsFiLV/xBjRnaRH38FfhMyP9APv1FxopdcKHX+5d+GYYCs32Rid3aNMOMi2+BMzcPPmtHr1iVMBiL+xTOYchGAZfPLSUXow4SBbIjc55SVb6bVCzao53SdkXV6/Gft6HVVKCCGEEKLBfwV0RB7MVN6yAAAAAElFTkSuQmCC",
h.mv=b);this.ka=new IconManager(b,a);this.ka.add("play",40,40);this.ka.add("pause",40,40);this.ka.add("tostart",40,40);this.ka.add("menu",40,40);this.ka.add("stepback",40,40);this.ka.add("stepforward",40,40);this.ka.add("autofit",40,40);this.ka.add("fit",40,40);this.ka.add("grid",40,40);this.ka.add("shrink",40,40);this.ka.add("draw",40,40);this.ka.add("hexgrid",40,40);this.ka.add("lines",40,40);this.ka.add("pan",40,40);this.ka.add("pick",40,40);this.ka.add("states",40,40);this.ka.add("hexagongrid",
40,40);this.ka.add("trianglegrid",40,40)};e.prototype.Ht=function(){this.vi.icon=this.a.R?this.a.Re?[this.ka.icon("hexagongrid")]:[this.ka.icon("hexgrid")]:this.a.ba?[this.ka.icon("trianglegrid")]:[this.ka.icon("grid")]};e.prototype.Pn=function(a,b){a.h.hasFocus&&(a.Cj||(b.wheelDelta?a.wheelDelta=b.wheelDelta/120:b.detail&&(a.wheelDelta=-b.detail/3),a.h.ah(!0)),b.preventDefault())};e.prototype.Gt=function(){var a=this.D.nu(0===this.ln?0:this.Ne/this.ln),b=this.cj,c=this.Kk;this.a.da=this.a.width/
2-(this.dj+a*(this.Ih-this.dj));this.a.aa=this.a.height/2-(this.ej+a*(this.Lj-this.ej));this.a.zoom=this.ek*Math.pow(this.si/this.ek,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.a.angle=(b+a*(c-b))%360;this.Bo&&(this.a.wc=this.$s+a*(this.hr-this.$s),this.Pb.current=this.ai([this.a.wc,this.a.wc],!1,this));this.Yo&&(this.a.N=this.at+a*(this.ir-this.at),this.xc.current=this.Cn([this.a.N,this.a.N],!1,this));this.Ne+=1;this.Ne>this.ln&&(this.Ne=-1,this.a.zoom=this.si,this.a.angle=c%360,this.a.da=this.a.width/
2-this.Ih,this.a.aa=this.a.height/2-this.Lj,this.Bo&&(this.a.wc=this.hr,this.Pb.current=this.ai([this.a.wc,this.a.wc],!1,this)),this.Yo&&(this.a.N=this.ir,this.xc.current=this.Cn([this.a.N,this.a.N],!1,this)));this.Ab&&(this.Ab.current=this.nh([this.a.zoom,this.a.zoom],!1,this));this.Gb&&(this.Gb.current=this.Bn([this.a.angle,this.a.angle],!1,this))};e.prototype.Os=function(a,b){var c=a.D.zb[b];a.dj=a.a.width/2-a.a.da;a.ej=a.a.height/2-a.a.aa;a.ek=a.a.zoom;a.cj=a.a.angle;c.qe?a.Ih=c.x:a.Ih=a.dj;c.Zd?
a.Lj=c.y:a.Lj=a.ej;c.Jc?a.si=c.zoom:a.si=a.ek;c.Bf?a.Kk=c.angle:a.Kk=a.cj;a.a.R&&(a.Ih+=a.a.aa/2);a.Bo=c.Ef;a.Bo&&(a.$s=a.a.wc,a.hr=c.depth/h.oi);a.Yo=c.Rf;a.Yo&&(a.at=a.a.N,a.ir=c.N);a.Ne=0;a.ln=c.Xg;a.Gt();c.$j&&a.ww(a);c.Ee===WaypointConstants.play?a.ta.current=a.Yd(h.Ii,!0,a):c.Ee===WaypointConstants.stop&&a.ta.current!==h.ob&&(a.ta.current=a.Yd(h.ob,!0,a));c.Wd&&(a.Sc.current=a.sk([c.sb,""],!0,a));a.h.notification.T("POI "+(b+1),60,!0);""!==c.zd?a.h.notification.T(c.zd,180,!1):a.h.notification.clear(!1,
!0);c.fj&&(a.rb=c.rb);c.Ei&&(a.sa=c.sa);c.Hf&&(a.Ld=Math.sqrt((c.nb-h.Ce)/(h.Gi-h.Ce)),a.Pa.current=a.mh([a.Ld,a.Ld],!0,a));c.cg&&(a.ha=c.step,a.dc.current=a.mj([a.ha,a.ha],!0,a));c.kn&&(a.a.o>c.bb&&a.ww(a),a.a.o<c.bb&&(a.Cj=!0,a.Sq=c.bb,a.Rq=!1));c.Pj&&(a.a.mb=c.uc);c.Op&&(this.Eg=c.bj)};e.prototype.Df=function(a,b,c){var d=b/a.a.Qb;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.a.Qb);a.ic||(a.dj=a.a.width/2-a.a.da,a.ej=a.a.height/2-a.a.aa,a.ek=a.a.zoom,a.cj=a.a.angle,a.Ih=a.dj,a.Lj=a.ej,a.si=
d,a.Kk=a.cj,a.Ne=0)};e.prototype.uz=function(a){a.jb=!1;a.ui.current=a.Pt([a.jb],!0,a)};e.prototype.Qx=function(a){a.Sb.length?(a.Sb=[],a.Za=0):b()};e.prototype.Zz=function(a){a.Mb+=1;a.Mb>=C.Hc.length&&(a.Mb=0);a.Vh(C.Hc[a.Mb].pattern,!1)};e.prototype.$z=function(a){--a.Mb;0>a.Mb&&(a.Mb=C.Hc.length-1);a.Vh(C.Hc[a.Mb].pattern,!1)};e.prototype.rC=function(a){a.ft();a.Z&&(a.Z=0);a.Vf.current[0]=!1;a.h.hh=!0};e.prototype.IA=function(a){a.fn=!0};e.prototype.PC=function(a){a.uf(h.bi,a)};e.prototype.Yx=
function(a){a.kg(!0,!0);a.ta.current===h.ob&&(a.je=!0)};e.prototype.bx=function(a,b,c){b&&(c.a.mb=a[0]);return[c.a.mb]};e.prototype.cx=function(a,b,c){b&&(c.Je=a[0]);return[c.Je]};e.prototype.Kn=function(a,b,c){b&&(c.jl=a[0]);return[c.jl]};e.prototype.pt=function(a,b,c){b&&(c.$k=a[0],c.$k&&c.h.notification.T("Now click on a cell",180,!0));return[c.$k]};e.prototype.ax=function(a,b,c){b&&(c.lb=a[0],c.lb&&c.ta.current===h.ob&&c.kg(!0,!0));return[c.lb]};e.prototype.NC=function(a,b,c){b&&-1!==c.sa&&(c.$a=
!a[0],c.Tb?(c.oc=c.$a,c.h.notification.T("Loop and Waypoints "+(c.$a?"Off":"On"),40,!0)):c.gc?(c.hc=c.$a,c.h.notification.T("Loop and Track "+(c.$a?"Off":"On"),40,!0),c.yq(c.hc)):c.h.notification.T("Loop "+(c.$a?"Off":"On"),40,!0));return[c.$a]};e.prototype.OC=function(a,b,c){b&&(c.gc?(c.hc=!a[0],c.yq(c.hc),-1!==c.sa?(c.$a=c.hc,c.h.notification.T("Loop and Track "+(c.$a?"Off":"On"),40,!0)):c.h.notification.T("Track "+(c.hc?"Off":"On"),40,!0)):c.Tb&&(c.oc=!a[0],-1!==c.sa?(c.$a=c.oc,c.h.notification.T("Loop and Waypoints "+
(c.$a?"Off":"On"),40,!0)):c.h.notification.T("Waypoints "+(c.oc?"Off":"On"),40,!0)));return c.gc?[c.hc]:[c.oc]};e.prototype.tn=function(a,b,c){b&&(c.Z=a[0],c.Z?c.Sb.length&&c.uf(h.Ms,c):(c.uf(h.bi,c),c.Z=0));return[c.Z]};e.prototype.aq=function(a,b,c){b&&(c.vf=a[0],c.vf&&(c.a.va?0===c.a.o?(c.a.xa=c.a.Dp.xa,c.a.Cb=c.a.Dp.Cb,c.a.kc=c.a.Dp.kc):-1===c.a.g&&(--c.a.o,c.a.Mi(!0,c.Xf,c.Pc),c.Zj()):(c.a.xa=0,c.a.Cb=0,c.a.kc=0)));c.h.ah(!0);return[c.vf]};e.prototype.Hp=function(a,b){1<a.Za&&(a.Za-=b,1>a.Za&&
(a.Za=1))};e.prototype.Gp=function(a,b){a.Za<a.Sb.length-a.bc+1&&(a.Za+=b,a.Za>a.Sb.length-a.bc+1&&(a.Za=a.Sb.length-a.bc+1))};e.prototype.Jp=function(a,b){1<a.Z&&(a.Z-=b,1>a.Z&&(a.Z=1))};e.prototype.Ip=function(a,b){a.Z<a.Wk-a.bc&&(a.Z+=b,a.Z>a.Wk-a.bc&&(a.Z=a.Wk-a.bc))};e.prototype.XA=function(a){for(var b=a.U.length-1,c=!1;0<=b&&!c;)a.Z<=a.U[b][0]?--b:c=!0;c&&(a.Z=a.U[b][0])};e.prototype.BA=function(a){for(var b=0,c=!1;b<a.U.length&&!c;)a.Z>=a.U[b][0]?b+=1:c=!0;c&&(a.Z=a.U[b][0])};e.prototype.bk=
function(a){var b=this.ca+(0<this.a.g?this.a.g:0);this.Xf?this.h.notification.T("Step back disabled",40,!0):this.h.As&&(this.h.As=!1,0>a&&(a=0),this.elapsedTime=this.gd[a],this.Wg=this.Ga=a,-1!==this.Gh&&a>this.Gh+b?this.a.o=a:this.a.bk(a,this.vf,this.Pc,this),this.D.gC(this.elapsedTime),this.je=!0,a!==this.a.o&&(this.Cj=!0,this.Sq=a,this.a.Ep(!1),this.h.notification.T("Computing previous generations",1E4,!0),this.Rq=!0))};e.prototype.Br=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=
0;a.style.QC="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};e.prototype.eo=function(a,b,c){var d="textarea";a.nn=b;a.fh=0;a.ik=b.length;if(c){var e=performance.now()-a.co;e<h.Fy&&a.ik<h.Dy?c=!1:a.Uo||(d="div")}a.hk=document.createElement("div");a.hk.contentEditable=!0;a.Br(a.hk);a.hj=document.createElement(d);a.Br(a.hj);a.hj.contentEditable=!0;a.hk.appendChild(a.hj);document.body.appendChild(a.hk);
c?(a.Tq=h.Gy,a.h.notification.T("Copying...",1E4,!0),a.Hl=!0,a.u.locked=!0):(a.hj.innerHTML=b,a.Cu(a,c))};e.prototype.Cu=function(a,b){a.Uo?a.hj.focus():a.hk.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(r){}document.body.removeChild(a.hk);a.nn="";a.Tf.canvas.focus();a.h.notification.T("Copy complete",120,!0);b&&(a.Hl=!1,a.u.locked=!1);a.co=-1};e.prototype.dg=function(a){var b=ColourManager.Xc,c=Object.keys(b),d=a.red,e=a.green;a=a.blue;for(var f="",l=!1,g=null,
h=0;h<c.length&&!l;)g=b[c[h]],g[1]===d&&g[2]===e&&g[3]===a?(l=!0,h=c.length):h+=1;l?f=g[0]:f=d+" "+e+" "+a;return f};e.prototype.Ak=function(a,b){return a.red===b.red&&a.green===b.green&&a.blue===b.blue};e.prototype.Eu=function(a,b){var c="#C "+Keywords.Xi+" ",d=String(-(a.a.width/2-a.a.da-a.a.Fb|0)),e=String(-(a.a.height/2-a.a.aa-a.a.yb|0)),f=a.a.zoom,l=a.a.angle|0,g=a.a.La[a.a.we];0!==a.a.o&&(c+=Keywords.jn+a.a.o+" ");c+=Keywords.ed+" "+d+" "+Keywords.fd+" "+e+" ";c+=Keywords.pc+" "+(f===(f|0)?
String(f):String(f.toFixed(2)))+" ";c+=Keywords.ii+" "+l+" ";c+=Keywords.hl+"\n";if(b){c+="#C "+Keywords.Xi+" ";if(a.hg){if(2<a.a.g){if(c+=Keywords.ua+" "+Keywords.Rp+" "+a.dg(g.kh),c+=" "+Keywords.ua+" "+Keywords.Qp+" "+a.dg(g.We),a.Ak(g.Hb.J,g.kh)||(c+=" "+Keywords.ua+" "+Keywords.Tp+" "+a.dg(g.Hb.J)),a.Ak(g.Hb.H,g.Hb.J)||(c+=" "+Keywords.ua+" "+Keywords.Sp+" "+a.dg(g.Hb.H)),g.Ik||(c+=" "+Keywords.ua+" "+Keywords.Yw+" "+a.dg(g.Wa.J)),g.Ik||!a.Ak(g.Wa.H,g.Wa.J))c+=" "+Keywords.ua+" "+Keywords.Xw+
" "+a.dg(g.Wa.H)}else c+=Keywords.ua+" "+Keywords.Rp+" "+a.dg(g.Ma),c+=" "+Keywords.ua+" "+Keywords.Qp+" "+a.dg(g.Ba.H),a.Ak(g.Ba.H,g.Ba.J)||(c+=" "+Keywords.ua+" "+Keywords.it+" "+a.dg(g.Ba.J)),a.Ak(g.za.J,g.Ma)||(c+=" "+Keywords.ua+" "+Keywords.Tp+" "+a.dg(g.za.J)),a.Ak(g.za.H,g.za.J)||(c+=" "+Keywords.ua+" "+Keywords.Sp+" "+a.dg(g.za.H));c+=" "+Keywords.hl+"\n#C "+Keywords.Xi+" "}c+=Keywords.Xh+" "+g.name+" ";a.ca!==a.bp&&(c+=Keywords.To+" "+a.ca+" ");c+=Keywords.ul+" "+a.F+" ";c+=Keywords.Ok+
" "+a.B+" ";c+=Keywords.hl+"\n"}a.eo(a,c,!1)};e.prototype.JB=function(a){a.element.innerHTML=a.a.lu(a,a.a,!0)};e.prototype.Uq=function(a,b){a.co=performance.now();u.Ha?a.eo(a,C.Hc[a.Mb].pattern,b):a.eo(a,g(a.element),b)};e.prototype.Du=function(a,b){a.co=performance.now();a.eo(a,a.a.lu(a,a.a,b),!0)};e.prototype.YA=function(a,c,d){var e=!0;if(a.Jb)a.mp||85!==c||(a.Jb=!a.Jb,a.u.l=a.Jb,a.h.Jb=a.Jb);else{if(d.ctrlKey&&67!==c&&83!==c&&90!==c||d.metaKey)d.ctrlKey&&37<=c&&40>=c?37===c?c=33:38===c?c=36:39===
c?c=34:40===c&&(c=35):d.ctrlKey&&82===c||(c=-1);if(d.altKey&&!d.ctrlKey){if(49<=c&&57>=c)c-=49,0<=c&&c<a.D.zb.length&&(a.ye=c,a.Os(a,a.ye));else switch(c){case 67:a.Xb||(a.Sc.current=a.sk([a.Ao,""],!0,a),a.a.Eb||a.h.notification.T(a.jt(a.a.we)+" Theme",40,!0));break;case 72:a.a.Wb&&(a.a.Hh=!0,a.a.Ff=!0,a.h.notification.T("[R]History Display "+(a.a.Hh?"On":"Off"),40,!0));break;case 74:a.a.Wb&&(a.a.Hh=!1,a.a.Ff=!1,a.h.notification.T("[R]History Display "+(a.a.Hh?"On":"Off"),40,!0));break;case 75:a.a.fg=
!a.a.fg;a.h.notification.T("Kill Gliders "+(a.a.fg?"On":"Off"),40,!0);break;case 88:a.Bk.current=a.ox([!a.a.Fc],!0,a);break;case 191:a.a.ba||(a.zi.current=a.qx([!a.a.Re],!0,a),a.h.notification.T("Hex display uses "+(a.a.Re?"Hexagons":"Squares"),40,!0))}c=-2}switch(c){case 191:case 111:a.a.ba||(d.shiftKey?a.a.Km!==a.a.R&&(a.yi.current=a.Qt([a.a.Km],!0,a)):a.yi.current=a.Qt([!a.a.R],!0,a),a.h.notification.T("Hex Display "+(a.a.R?"On":"Off"),40,!0));break;case 66:a.$b||(a.ta.current===h.ob?0<a.a.o&&
(a.bk(a.a.o-1),a.Ps(a.a.o)):a.ta.current=a.Yd(h.ob,!0,a));break;case 13:a.$b||(a.ta.current=a.ta.current===h.Ii?a.Yd(h.ob,!0,a):a.Yd(h.Ii,!0,a));break;case 9:a.$b||(a.Gc?a.ta.current=a.Yd(h.ob,!0,a):d.shiftKey?0<a.a.o&&(a.bk(a.a.o-a.ha),a.Ps(a.a.o-a.ha+1)):(a.ug=!0,a.zk()));break;case 32:a.$b||(a.Gc?a.ta.current=a.Yd(h.ob,!0,a):(a.ug=!0,a.Us=!0,a.zk()));break;case 87:a.Tb?(a.oc=!a.oc,-1!==a.sa?(a.$a=a.oc,a.h.notification.T("Loop and Waypoints "+(a.oc?"Off":"On"),40,!0)):a.h.notification.T("Waypoints "+
(a.oc?"Off":"On"),40,!0),a.oc?a.h.notification.clear(!1,!1):a.D.Jq(a.elapsedTime)||(a.D.Az(a.a.o),a.elapsedTime=a.D.Tu(a.a.o),a.elapsedTime=a.D.Iu(a.a.width/2-a.a.da,a.a.height/2-a.a.aa,a.a.zoom,a.a.angle,a.a.N,a.a.wc*h.oi,a.a.we,a.Ld,a.ha,a.a.o,a.elapsedTime),a.je=!1)):a.gc?(a.hc=!a.hc,-1!==a.sa?(a.$a=a.hc,a.h.notification.T("Loop and Track "+(a.hc?"Off":"On"),40,!0)):a.h.notification.T("Track "+(a.hc?"Off":"On"),40,!0),a.yq(a.hc)):-1!==a.sa&&(a.$a=!a.$a,a.h.notification.T("Loop "+(a.$a?"Off":"On"),
40,!0));break;case 69:!a.dc.locked&&a.ha<h.ke&&(d.shiftKey?a.ha=h.ke:a.ha+=1,a.dc.current=a.mj([a.ha,a.ha],!0,a));break;case 68:!a.dc.locked&&a.ha>h.Tj&&(d.shiftKey?a.ha=h.Tj:--a.ha,a.dc.current=a.mj([a.ha,a.ha],!0,a));break;case 90:d.ctrlKey?d.shiftKey?a.fB():a.sC():d.shiftKey?(c=C.hC(),0===c?a.h.notification.T("No LifeViewers playing",100,!0):1<c&&a.h.notification.T("Paused all LifeViewers",100,!0)):(c=C.iC(a),0<c&&(1<c?a.h.notification.T("Paused "+c+" other LifeViewers",100,!0):a.h.notification.T("Paused "+
c+" other LifeViewer",100,!0)));break;case 88:d.shiftKey?(a.Mh.current=a.ux([!a.a.Jh],!0,a),0<a.a.kf&&(a.h.notification.T("Major Grid Lines "+(a.a.Jh?"On":"Off"),40,!0),a.zu())):(a.a.mb=!a.a.mb,a.vi.current=a.bx([a.a.mb],!0,a),a.h.notification.T("Grid Lines "+(a.a.mb?"On":"Off"),40,!0));break;case 89:a.Pc?a.h.notification.T("Graph Disabled",40,!0):d.shiftKey?(a.Je=!a.Je,a.Tk.current=a.cx([a.Je],!0,a),a.h.notification.T("Graph "+(a.Je?"Lines":"Points"),40,!0)):(a.jb=!a.jb,a.ui.current=a.Pt([a.jb],
!0,a),a.h.notification.T("Population Graph "+(a.jb?"On":"Off"),40,!0));break;case 75:d.shiftKey?(a.Eu(a,!0),a.h.notification.T("Copied view to clipboard",180,!0)):(a.Eu(a,!1),a.h.notification.T("Copied position to clipboard",180,!0));break;case 80:d.shiftKey?-1!==a.Tr&&(a.$a=!a.$a,a.Fi.current=[a.$a],a.h.notification.T("Loop "+(a.$a?"Off":"On"),40,!0)):a.Xb||a.Pb.locked||(a.Pb.current=.99>=a.Pb.current[0]?a.ai([a.Pb.current[0]+.01,a.Pb.current[1]],!0,a):a.ai([1,a.Pb.current[1]],!0,a));break;case 76:d.shiftKey?
0<a.D.Dm()&&(a.Bi.current=a.tx([!a.ag],!0,a),a.h.notification.T("Annotations "+(a.ag?"On":"Off"),40,!0)):a.Xb||a.Pb.locked||(a.Pb.current=.01<=a.Pb.current[0]?a.ai([a.Pb.current[0]-.01,a.Pb.current[1]],!0,a):a.ai([0,a.Pb.current[1]],!0,a));break;case 81:!a.Xb&&!a.xc.locked&&a.xc.current[0]<h.cp&&(a.xc.current=a.Cn([a.a.N+1,a.xc.current[1]],!0,a));break;case 65:!a.Xb&&!a.xc.locked&&a.xc.current[0]>h.jp&&(a.xc.current=a.Cn([a.a.N-1,a.xc.current[1]],!0,a));break;case 82:d.shiftKey?C.sB():a.ta.current=
a.Yd(h.Xr,!0,a);break;case 83:d.ctrlKey?(a.JB(a),a.h.notification.T("Saved",40,!0)):d.shiftKey?a.a.Wb&&(a.Fg=!a.Fg,a.h.notification.T("AutoFit State 1 Mode "+(a.Fg?"On":"Off"),40,!0)):(a.ml.current=a.vx([!a.Eg],!0,a),a.h.notification.T("Stars "+(a.Eg?"On":"Off"),40,!0));break;case 78:a.Yh&&(a.ya?a.et():(a.ft(),a.Z&&(a.Z=0)));break;case 86:d.shiftKey?(a.Jw(a),a.h.notification.T("Saved camera position",100,!0)):a.ic||(a.xB(a),a.h.notification.T("Restored camera position",100,!0),a.ta.current===h.ob&&
(a.je=!0));break;case 221:a.ic||(d.shiftKey?a.yk(a.Ab.current[0],Math.log(a.a.zoom*a.a.Qb*2/h.Ya)/Math.log(h.Ib/h.Ya)-a.Ab.current[0]):a.yk(a.Ab.current[0],.01));break;case 219:a.ic||(d.shiftKey?a.yk(a.Ab.current[0],Math.log(a.a.zoom*a.a.Qb/2/h.Ya)/Math.log(h.Ib/h.Ya)-a.Ab.current[0]):a.yk(a.Ab.current[0],-.01));break;case 53:case 101:a.Gb.locked||(a.a.angle=0,a.Gb.current=[a.a.angle,a.a.angle]);break;case 49:case 97:d.shiftKey?(a.Df(a,a.a.zoom*a.a.Qb,!0),a.h.notification.T("Integer Zoom",40,!0)):
a.Df(a,1,!1);break;case 50:case 98:d.shiftKey?a.Df(a,.5,!1):a.Df(a,2,!1);break;case 51:case 99:d.shiftKey?a.Df(a,64,!1):a.Df(a,32,!1);break;case 52:case 100:d.shiftKey?a.Df(a,.25,!1):a.Df(a,4,!1);break;case 54:case 102:d.shiftKey?a.Df(a,.0625,!1):a.Df(a,16,!1);break;case 55:a.Pc?a.h.notification.T("Graph Disabled",40,!0):(0<a.Yb&&(a.Yb-=.05,0>a.Yb&&(a.Yb=0)),this.qc.current=this.tk([a.Yb,a.Yb],!1,a));break;case 56:case 104:d.shiftKey?a.Df(a,.125,!1):a.Df(a,8,!1);break;case 57:a.Pc?a.h.notification.T("Graph Disabled",
40,!0):(1>a.Yb&&(a.Yb+=.05,1<a.Yb&&(a.Yb=1)),this.qc.current=this.tk([a.Yb,a.Yb],!1,a));break;case 48:case 96:a.ha=1;a.dc.current=a.mj([a.ha,a.ha],!0,a);a.Pa.current=a.mh([1,a.Pa.current[1]],!0,a);break;case 189:case 109:a.$b||(a.ha>h.Tj?(d.shiftKey?a.ha=h.Tj:--a.ha,a.dc.current=a.mj([a.ha,a.ha],!0,a)):a.Pa&&(a.Pa.current=.01<=a.Pa.current[0]&&!d.shiftKey?a.mh([a.Pa.current[0]-.01,a.Pa.current[1]],!0,a):a.mh([0,a.Pa.current[1]],!0,a)));break;case 187:case 107:!a.$b&&a.Pa&&(.99>=a.Pa.current[0]&&!d.shiftKey?
a.Pa.current=a.mh([a.Pa.current[0]+.01,a.Pa.current[1]],!0,a):.99>=a.Pa.current[0]?a.Pa.current=a.mh([1,a.Pa.current[1]],!0,a):(a.Pa.current=a.mh([1,a.Pa.current[1]],!0,a),a.ha<h.ke&&(d.shiftKey?a.ha=h.ke:a.ha+=1,a.dc.current=a.mj([a.ha,a.ha],!0,a))));break;case 188:a.Gb.locked||(c=a.Gb.current[0],c=d.shiftKey?c-90:c-1,0>c&&(c+=360),a.Gb.current=a.Bn([c,c],!0,a));break;case 190:a.Gb.locked||(c=a.Gb.current[0],c=d.shiftKey?c+90:c+1,360<=c&&(c-=360),a.Gb.current=a.Bn([c,c],!0,a));break;case 74:a.D.zb.length?
a.ic||(d.shiftKey?(--a.ye,0>a.ye&&(a.ye=a.D.zb.length-1),a.Os(a,a.ye)):(a.ye+=1,a.ye>=a.D.zb.length&&(a.ye=0),a.Os(a,a.ye))):a.h.notification.T("No POIs defined",80,!0);break;case 84:d.shiftKey?a.h.$i=!a.h.$i:a.Mk.current=a.tl([!a.h.aj],!0,a);break;case 85:a.mp||(a.Jb=!a.Jb,a.u.l=a.Jb,a.h.Jb=a.Jb);break;case 71:a.$b||(d.shiftKey?a.ti&&(a.Ko=!a.Ko):(a.aq([!a.vf],!0,a),a.he&&(a.he.current=[a.vf],a.h.hh=!0)));break;case 70:d.shiftKey?a.Mg.locked||(a.lb=!a.lb,a.Mg.current=a.ax([a.lb],!0,a),a.h.notification.T("AutoFit "+
(a.lb?"On":"Off"),40,!0)):a.Nj.locked||(a.kg(!0,!0),a.h.notification.T("Fit Zoom",80,!0),a.ta.current===h.ob&&(a.je=!0));break;case 79:a.an=d.shiftKey?2:1;break;case 37:d.shiftKey?a.Ki(a.a.zoom,a.a.zoom):a.Ki(a.a.zoom,0);break;case 38:a.Z?a.Jp(a,1):a.Za?a.Hp(a,1):d.shiftKey?a.Ki(-a.a.zoom,a.a.zoom):a.Ki(0,a.a.zoom);break;case 39:d.shiftKey?a.Ki(-a.a.zoom,-a.a.zoom):a.Ki(-a.a.zoom,0);break;case 40:a.Z?a.Ip(a,1):a.Za?a.Gp(a,1):d.shiftKey?a.Ki(a.a.zoom,-a.a.zoom):a.Ki(0,-a.a.zoom);break;case 77:a.Vf&&
!a.Vf.l&&(a.Vf.current[0]=!a.Vf.current[0],a.h.hh=!0);break;case 67:d.ctrlKey?a.Ni||(d.shiftKey?a.Uq(a,!0):a.$b?a.Uq(a,!0):d.altKey?a.Du(a,!0):a.Du(a,!1)):a.Xb||!a.Sc||a.Sc.locked||(d.shiftKey?(c=a.Sc.current[0]+.5|0,--c,0>c&&(a.hg?c=a.a.me:c=a.a.me-1)):(c=a.Sc.current[0]+.5|0,c+=1,a.hg?c>=a.a.me+1&&(c=0):c>=a.a.me&&(c=0)),a.Sc.current=a.sk([c,""],!0,a),a.a.Eb||a.h.notification.T(a.jt(a.a.we)+" Theme",40,!0));break;case 72:d.shiftKey?(a.Qk.current=a.rx([!a.Kf],!0,a),a.h.notification.T("AutoFit History Mode "+
(a.Kf?"On":"Off"),40,!0)):(a.Sb.length?a.Z=a.Z?0:1:a.Z?a.Z=0:a.ya||(a.Z=1),a.wi.current=a.tn([a.Z],!0,a),a.h.hh=!0);break;case 73:d.shiftKey?a.Rk.current=a.sx([!a.Ea],!0,a):(a.Z?a.xi===h.jm?a.Z=0:a.uf(h.jm,a):a.ya||a.uf(h.jm,a),a.wi.current=a.tn([a.Z],!0,a),a.h.hh=!0);break;case 27:a.Ae?a.Sb.length?(a.Sb=[],a.Za=0):b():a.Z?a.Z=0:a.Sb.length?(a.Sb=[],a.Za=0):a.Gc&&(a.ta.current=a.Yd(h.ob,!0,a));a.wi.current=a.tn([a.Z],!0,a);a.h.hh=!0;break;case 33:a.Z?d.shiftKey?a.XA(a):a.Jp(a,a.bc):a.Za?a.Hp(a,a.bc):
u.Ha&&(--a.Mb,0>a.Mb&&(a.Mb=C.Hc.length-1),a.Vh(C.Hc[a.Mb].pattern,!1));break;case 34:a.Z?d.shiftKey?a.BA(a):a.Ip(a,a.bc):a.Za?a.Gp(a,a.bc):u.Ha&&(a.Mb+=1,a.Mb>=C.Hc.length&&(a.Mb=0),a.Vh(C.Hc[a.Mb].pattern,!1));break;case 36:a.Z?a.Z=1:a.Za?a.Za=1:u.Ha&&(a.Mb=0,a.Vh(C.Hc[a.Mb].pattern,!1));break;case 35:a.Z?a.Z=a.Wk-a.bc:a.Za?a.Za=a.Sb.length-a.bc:u.Ha&&(a.Mb=C.Hc.length-1,a.Vh(C.Hc[a.Mb].pattern,!1));break;case 112:d.shiftKey?(a.Mp=!a.Mp,a.h.notification.T("Smart Drawing "+(a.Mp?"On":"Off"),40,!0)):
a.$b?a.h.notification.T("Drawing not available",40,!0):(a.ze=!a.ze,a.Uj.current=a.Rt(a.ze?h.Rv:h.zm,!0,a),a.h.notification.T((a.ze?"Draw":"Pan")+" Mode",40,!0));break;default:if(-1===c||116===c)e=!1}}return e};e.prototype.ZA=function(a,b,c){var d=!0;if(c.ctrlKey&&82===b)return!0;switch(b){case 13:a.fh===a.ik&&a.Cu(a,!0);break;case 84:a.tl([!a.h.aj],!0,a);break;default:d=!1}return d};e.prototype.$A=function(a,b,c){var d=!0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 84:a.tl([!a.h.aj],!0,
a);break;default:d=!1}return d};e.prototype.Fz=function(a,b){var c=b.charCode||b.keyCode;if(a.Cj?a.$A(a,c,b):a.Hl?a.ZA(a,c,b):a.YA(a,c,b))a.h.ah(!0),b.preventDefault()};e.prototype.Dx=function(){this.B<h.Ph?(this.wg.setPosition(Menu.Rc,10,50),this.Bg.setPosition(Menu.Kb,0,50),this.vg.setPosition(Menu.ib,-160,50),this.Cg.setPosition(Menu.Rc,10,100),this.tg.setPosition(Menu.Kb,0,100),this.sg.setPosition(Menu.ib,-160,100),0<this.D.Dm()?(this.df.setPosition(Menu.Rc,10,150),this.nj.setPosition(Menu.ib,
-160,150)):this.df.setPosition(Menu.Kb,0,150)):(this.wg.setPosition(Menu.Kb,0,40),this.Bg.setPosition(Menu.Kb,0,90),this.vg.setPosition(Menu.Kb,0,140),this.Cg.setPosition(Menu.Kb,0,190),this.tg.setPosition(Menu.Kb,0,240),this.sg.setPosition(Menu.Kb,0,290),this.df.setPosition(Menu.Kb,0,340),this.nj.setPosition(Menu.Kb,0,390))};e.prototype.dB=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",e="grey",f="white";var g=this.f[h.Ql];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.ka.zp=
!0,this.ka.Cs=this.a.qg?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255):(this.ka.zp=!0,g=16777215,this.ka.Cs=this.a.qg?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);g=this.f[h.Ol];-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.qk=g;g=this.f[h.Rl];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.Tl];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.Sl];-1!==g&&(e="rgb("+(g>>
16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.Pl];-1!==g&&(f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.h.bn(a,b,c,d,e,f)};e.prototype.Xx=function(){this.u=this.h.My(this.Fx,this.St,this);this.u.cr=this.Gx;this.u.Wt=this.Kx;this.Ig=this.u.Bb(Menu.Rc,0,40,16,20,"X");this.Ig.font=h.Me;this.Ig.on=Menu.bd;this.Kg=this.u.Bb(Menu.Rc,70,40,16,20,"Y");this.Kg.font=h.Me;this.Kg.on=Menu.bd;this.Dg=this.u.Bb(Menu.Rc,140,40,16,20,"A");this.Dg.font=h.Me;this.Dg.on=Menu.bd;this.Dd=this.u.Bb(Menu.Rc,16,
40,54,20,"");this.Dd.font=h.Me;this.Dd.textAlign=Menu.right;this.Dd.I="camera X position";this.Ed=this.u.Bb(Menu.Rc,86,40,54,20,"");this.Ed.font=h.Me;this.Ed.textAlign=Menu.right;this.Ed.I="camera Y position";this.hd=this.u.Bb(Menu.Rc,156,40,40,20,"");this.hd.font=h.Me;this.hd.textAlign=Menu.right;this.hd.I="camera angle";this.sm=this.u.Bb(Menu.Rc,196,40,4,20,"");this.pj=this.u.Bb(Menu.ib,-280,40,20,20,"E");this.pj.font=h.Me;this.rj=this.u.Bb(Menu.ib,-210,40,20,20,"S");this.rj.font=h.Me;this.sj=this.u.Bb(Menu.ib,
-140,40,20,20,"W");this.sj.font=h.Me;this.qj=this.u.Bb(Menu.ib,-70,40,20,20,"N");this.qj.font=h.Me;this.jd=this.u.Bb(Menu.ib,-260,40,50,20,"");this.jd.font=h.Me;this.jd.textAlign=Menu.right;this.jd.I="bounding box east edge velocity";this.ld=this.u.Bb(Menu.ib,-190,40,50,20,"");this.ld.font=h.Me;this.ld.textAlign=Menu.right;this.ld.I="bounding box south edge velocity";this.Cd=this.u.Bb(Menu.ib,-120,40,50,20,"");this.Cd.font=h.Me;this.Cd.textAlign=Menu.right;this.Cd.I="bounding box west edge velocity";
this.kd=this.u.Bb(Menu.ib,-50,40,50,20,"");this.kd.font=h.Me;this.kd.textAlign=Menu.right;this.kd.I="bounding box north edge velocity";this.Ue=this.u.kb(null,Menu.ib,-170,0,40,20,["START"],[!1],Menu.Ha);this.Ue.font=h.Lp;this.Ue.I=["autostart indicator"];this.de=this.u.kb(null,Menu.ib,-170,20,40,20,["STOP"],[!1],Menu.Ha);this.de.font=h.Lp;this.de.I=["stop indicator"];this.cb=this.u.kb(this.OC,Menu.ib,-130,0,40,20,["WAYPT"],[!1],Menu.Ha);this.cb.font=h.Lp;this.cb.I=["toggle waypoint mode"];this.Fi=
this.u.kb(this.NC,Menu.ib,-130,20,40,20,["LOOP"],[!1],Menu.Ha);this.Fi.font=h.Lp;this.Fi.I=["toggle loop mode"];this.Uj=this.u.kb(this.Rt,Menu.Rc,90,0,80,40,["",""],h.zm,Menu.kl);this.Uj.icon=[this.ka.icon("draw"),this.ka.icon("pan")];this.Uj.I=["draw","pan"];this.Nb=this.u.kb(this.Hx,Menu.ib,-80,100,80,60,["1","2"],0,Menu.kl);this.Nb.orientation=Menu.vertical;this.Nb.I=["",""];this.Nb.font="14px Arial";this.wi=this.u.kb(this.tn,Menu.ib,-40,0,40,40,["Help"],[!1],Menu.Ha);this.wi.I=["toggle help display"];
this.wi.font="16px Arial";this.xk=this.u.Hd(this.PC,Menu.ib,-40,50,40,["^"]);this.xk.I=["show help topics"];this.uj=this.u.Hd(this.IA,Menu.ib,-40,100,40,["<"]);this.uj.I=["show help sections"];this.wg=this.u.Hd(this.Tz,Menu.Kb,0,50,150,["Keys"]);this.wg.I=["show keyboard shortcuts"];this.Bg=this.u.Hd(this.FA,Menu.Kb,0,100,150,["Scripts"]);this.Bg.I=["show script commands"];this.vg=this.u.Hd(this.zz,Menu.Kb,0,150,150,["Info"]);this.vg.I=["show pattern and engine information"];this.Cg=this.u.Hd(this.MC,
Menu.Kb,0,200,150,["Themes"]);this.Cg.I=["show colour Themes"];this.tg=this.u.Hd(this.Rx,Menu.Kb,0,250,150,["Colours"]);this.tg.I=["show colour names"];this.sg=this.u.Hd(this.Mx,Menu.Kb,0,300,150,["Aliases"]);this.sg.I=["show rule aliases"];this.df=this.u.Hd(this.Uz,Menu.Kb,0,350,150,["Memory"]);this.df.I=["show memory usage"];this.nj=this.u.Hd(this.Nx,Menu.Kb,0,350,150,["Annotations"]);this.nj.I=["show annotations"];this.Mg=this.u.kb(this.ax,Menu.Rc,0,0,40,40,["Auto"],[!1],Menu.Ha);this.Mg.icon=
[this.ka.icon("autofit")];this.Mg.I=["toggle autofit"];this.Mg.font="16px Arial";this.Nj=this.u.Hd(this.Yx,Menu.Rc,45,0,40,"");this.Nj.icon=this.ka.icon("fit");this.Nj.I="fit pattern to display";this.vi=this.u.kb(this.bx,Menu.ib,-85,0,40,40,["Grid"],[!1],Menu.Ha);this.vi.icon=[this.ka.icon("grid")];this.vi.I=["toggle grid lines"];this.vi.font="16px Arial";this.Ke=this.u.ey();this.Ke.locked=!0;this.Qf=this.u.Bb(Menu.bh,0,-100,70,30,"Time");this.Qf.textAlign=Menu.left;this.Qf.font=h.Gg;this.Qf.I="elapsed time";
this.Kj=this.u.Bb(Menu.bh,70,-100,70,30,"");this.Kj.textAlign=Menu.right;this.Kj.font=h.Gg;this.Kj.I="elapsed time";this.sc=this.u.Bb(Menu.bh,0,-70,166,30,"");this.sc.textAlign=Menu.left;this.sc.font=h.Gg;this.sc.I="cell state at cursor position";this.he=this.u.kb(this.aq,Menu.bh,0,-40,100,40,[""],[this.vf],Menu.Ha);this.he.I=["toggle generation statistics"];this.Bc=this.u.Bb(Menu.bh,0,-40,this.F-40,40,"");this.Bc.textAlign=Menu.left;this.Bc.l=!0;this.hf=this.u.Bb(Menu.Vd,-140,-130,70,30,"Alive");
this.hf.textAlign=Menu.left;this.hf.font=h.Gg;this.hf.I="current population";this.Ti=this.u.Bb(Menu.Vd,-70,-130,70,30,"");this.Ti.textAlign=Menu.right;this.Ti.font=h.Gg;this.Ti.I="alive";this.Ob=this.u.Bb(Menu.Vd,-140,-100,70,30,"Births");this.Ob.textAlign=Menu.left;this.Ob.font=h.Gg;this.Ob.I="cells born this generation";this.Pg=this.u.Bb(Menu.Vd,-70,-100,70,30,"");this.Pg.textAlign=Menu.right;this.Pg.font=h.Gg;this.Pg.I="births";this.$e=this.u.Bb(Menu.Vd,-140,-70,70,30,"Deaths");this.$e.textAlign=
Menu.left;this.$e.font=h.Gg;this.$e.I="cells died this generation";this.ni=this.u.Bb(Menu.Vd,-70,-70,70,30,"");this.ni.textAlign=Menu.right;this.ni.font=h.Gg;this.ni.I="deaths";this.Uc=this.u.Bb(Menu.bh,0,-130,140,30,this.Zf);this.Uc.font=h.Gg;this.Ab=this.u.Ch(this.nh,Menu.Kb,0,0,h.jq,40,0,1,.1,"Zoom ","",1);this.Ab.I="camera zoom";this.xc=this.u.Ch(this.Cn,Menu.xx,30,0,40,292,h.cp,h.jp,1,"Layers ","",0);this.xc.I="number of layers";this.Pb=this.u.Ch(this.ai,Menu.Su,-70,0,40,292,1,0,.1,"Depth ",
"",2);this.Pb.I="depth between layers";this.Gb=this.u.Ch(this.Bn,Menu.Kb,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Gb.I="camera angle";this.zh=this.u.Hd(this.rC,Menu.Vd,-40,-90,40,"");this.zh.icon=this.ka.icon("shrink");this.zh.I="shrink to thumbnail";this.yi=this.u.kb(this.Qt,Menu.Rc,80,100,80,40,["Hex"],[this.a.R],Menu.Ha);this.yi.I=["toggle hex display"];this.zi=this.u.kb(this.qx,Menu.Kb,0,100,80,40,["Hexagon"],[this.a.Re],Menu.Ha);this.zi.I=["toggle hexagonal cells"];this.zi.font="18px Arial";
this.Bk=this.u.kb(this.ox,Menu.ib,-160,100,80,40,["Borders"],[this.a.Fc],Menu.Ha);this.Bk.I=["toggle cell borders"];this.Bk.font="18px Arial";this.Bi=this.u.kb(this.tx,Menu.Rc,80,220,80,40,["Labels"],[this.ag],Menu.Ha);this.Bi.I=["toggle labels"];this.th=this.u.kb(this.Ix,Menu.Kb,0,220,80,40,["Kill"],[this.a.fg],Menu.Ha);this.th.I=["kill escaping gliders"];this.ui=this.u.kb(this.Pt,Menu.ib,-160,220,80,40,["Graph"],[this.jb],Menu.Ha);this.ui.I=["toggle graph display"];this.Rk=this.u.kb(this.sx,Menu.Kb,
0,160,80,40,["Info"],[this.Ea],Menu.Ha);this.Rk.I=["toggle InfoBar"];this.Qk=this.u.kb(this.rx,Menu.Rc,80,160,80,40,["HistFit"],[this.Kf],Menu.Ha);this.Qk.I=["toggle AutoFit History"];this.Mh=this.u.kb(this.ux,Menu.ib,-160,160,80,40,["Major"],[this.a.Jh],Menu.Ha);this.Mh.I=["toggle major grid lines"];this.ml=this.u.kb(this.vx,Menu.Vd,-160,-140,80,40,["Stars"],[this.Eg],Menu.Ha);this.ml.I=["toggle stars display"];this.Ub=this.u.Hd(this.Qx,Menu.Vd,-40,-90,40,"X");this.Ub.I="close window";this.Mk=this.u.kb(this.tl,
Menu.bh,80,-140,80,40,["Timing"],[this.h.aj],Menu.Ha);this.Mk.I=["toggle timing display"];this.ei=this.u.kb(this.An,Menu.Vs,0,-140,80,40,["Details"],[this.h.$i],Menu.Ha);this.ei.I=["toggle timing details"];this.yh=this.u.Hd(this.$z,Menu.bh,80,-200,80,"Prev");this.yh.I="go to previous universe";this.uh=this.u.Hd(this.Zz,Menu.Vd,-160,-200,80,"Next");this.uh.I="go to next universe";this.qc=this.u.Ch(this.tk,Menu.Kb,0,0,132,40,0,1,this.Yb,"Opac ","%",0);this.qc.I="graph opacity";this.Tk=this.u.kb(this.cx,
Menu.ib,-170,0,40,40,[""],[!1],Menu.Ha);this.Tk.icon=[this.ka.icon("lines")];this.Tk.I=["toggle graph lines/points"];this.mm=this.u.Hd(this.uz,Menu.ib,-130,0,40,"X");this.mm.I="close graph";this.al=this.u.kb(this.pt,Menu.Rc,0,40,40,40,[""],[this.$k],Menu.Ha);this.al.icon=[this.ka.icon("pick")];this.al.I=["pick state"];this.Ah=this.u.kb(this.Kn,Menu.Rc,45,40,40,40,[""],[this.jl],Menu.Ha);this.Ah.icon=[this.ka.icon("states")];this.Ah.I=["toggle states"];this.Vf=this.u.kb(null,Menu.Vd,-40,-40,40,40,
[""],[!1],Menu.Ha);this.Vf.icon=[this.ka.icon("menu")];this.Vf.I=["toggle navigation menu"];this.Sc=this.u.Ch(this.sk,Menu.Vs,0,-90,390,40,0,this.a.me-1,1,""," Theme",-1);this.Sc.I="colour theme";this.Pa=this.u.Ch(this.mh,Menu.Vd,-375,-40,80,40,0,1,0,"","",-1);this.Pa.I="steps per second";this.dc=this.u.Ch(this.mj,Menu.Vd,-290,-40,80,40,h.Tj,h.ke,1,"x","",0);this.dc.I="generations per step";this.Of=this.u.Bb(Menu.Vd,-290,-60,80,20,0);this.Of.font=h.Gg;this.Of.l=!0;this.ta=this.u.kb(this.Yd,Menu.Vd,
-205,-40,160,40,["","","",""],h.ob,Menu.kl);this.ta.icon=[this.ka.icon("tostart"),this.ka.icon("stepback"),this.ka.icon("pause"),this.ka.icon("play")];this.ta.I=["reset","previous generation","pause","play"];this.cc=this.u.kb(this.Tt,Menu.ib,-280,40,280,20,"0123456".split(""),this.ef,Menu.kl);this.cc.I="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.cc.font="14px Arial";this.s=this.u.kb(this.Jx,Menu.ib,-280,60,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ha);this.s.I="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
this.s.Mc=1;this.uk=this.u.Ch(this.On,Menu.Rc,90,40,105,40,0,1,0,"","",-1);this.uk.I="select drawing states range";this.Vf.wq([this.xc,this.Pb,this.Gb,this.Sc,this.zh,this.Ub,this.yi,this.zi,this.Bk,this.Bi,this.th,this.ui,this.Mk,this.ei,this.Rk,this.ml,this.Qk,this.Mh,this.yh,this.uh]);this.he.wq([this.hf,this.Ti,this.Ob,this.Pg,this.$e,this.ni,this.Qf,this.Kj,this.Uc]);this.wi.wq([this.Nb,this.xk,this.uj])};e.prototype.Ox=function(a){var b=this,c=0,d=0;this.V=a;this.V.getContext&&(c=this.V.width,
d=this.V.height,c!==this.Ug&&u.tm&&(c=this.Ug),c<h.ud&&(c=h.ud),d<h.Vk&&(d=h.Vk),c&=-8,this.V.width!==c&&(this.V.width=c),this.V.height!==d&&(this.V.height=d),this.Tf=this.V.getContext("2d",{alpha:!1}),this.Tf.globalAlpha=1,this.Tf.fillStyle="black",this.Tf.fillRect(0,0,this.V.width,this.V.height),this.Xj=document.createElement("canvas"),this.Xj.width=this.V.width,this.Xj.height=this.V.height,this.vd=this.Xj.getContext("2d",{alpha:!1}),this.F=this.V.width,this.B=this.V.height,this.a=new Life(this.vd,
this.F,this.B,512,512),this.a.Vz(this.vd,this.F,this.B),this.gd=this.a.i.X(Float32,h.Tv,"View.elapsedTimes"),this.Uh=new Stars(h.op,this.a.i),this.vd.textAlign="left",this.vd.textBaseline="middle",this.Wx(this.vd),this.h=new MenuManager(this.Tf,this.vd,"24px Arial",this.ka,this,this.Ty),this.h.aj=!1,this.a.Jy(),this.Xx(),this.Om=this.ta.x,this.lm=this.Pa.x,this.Zm=this.dc.x,registerEvent(this.V,"DOMMouseScroll",function(a){b.Pn(b,a)},!1),registerEvent(this.V,"mousewheel",function(a){b.Pn(b,a)},!1),
this.h.notification.enabled=!0,this.h.Zx(this.u),registerEvent(this.V,"keydown",function(a){b.Fz(b,a)},!1))};e.prototype.jt=function(a){var b=this.a.La,c="";a|=0;a<b.length&&(c=b[a].name);return c};e.prototype.GC=function(a){var b=!1,c=this.a.La,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};e.prototype.ae=function(a){switch(a){case Keywords.gt:case Keywords.jr:case Keywords.Rs:case Keywords.Ts:case Keywords.kr:case Keywords.Ss:case Keywords.es:case Keywords.mf:case Keywords.eg:case Keywords.yr:case Keywords.Xs:case Keywords.xr:case Keywords.Ws:case Keywords.qu:case Keywords.Bs:case Keywords.br:case Keywords.vp:case Keywords.ql:case Keywords.us:case Keywords.wp:case Keywords.ss:case Keywords.vs:case Keywords.ws:case Keywords.ts:case Keywords.xs:case Keywords.kw:case Keywords.Al:case Keywords.Bq:case Keywords.Dq:case Keywords.Eq:case Keywords.Cq:case Keywords.Fq:case Keywords.Gq:case Keywords.nm:case Keywords.Jr:case Keywords.Lr:case Keywords.Mr:case Keywords.Kr:case Keywords.Nr:case Keywords.Or:case Keywords.$r:case Keywords.ds:case Keywords.cs:case Keywords.XC:case Keywords.wn:case Keywords.tr:case Keywords.Pm:case Keywords.dl:case Keywords.cl:case Keywords.up:case Keywords.Qm:case Keywords.Xa:case Keywords.Xe:case Keywords.Ka:case Keywords.bt:case Keywords.nk:case Keywords.vn:case Keywords.Mo:case Keywords.np:case Keywords.nr:case Keywords.pr:case Keywords.hn:case Keywords.Ur:case Keywords.Wn:case Keywords.Cr:case Keywords.To:case Keywords.jn:case Keywords.gk:case Keywords.qs:case Keywords.em:case Keywords.dm:case Keywords.dt:case Keywords.ua:case Keywords.Pq:case Keywords.ed:case Keywords.fd:case Keywords.cq:case Keywords.fq:case Keywords.pc:case Keywords.zq:case Keywords.ov:case Keywords.rg:case Keywords.Dn:case Keywords.Zr:case Keywords.Yr:case Keywords.ot:case Keywords.mt:case Keywords.kt:case Keywords.nt:case Keywords.Xn:case Keywords.Xi:case Keywords.hl:case Keywords.ii:case Keywords.Xh:case Keywords.Oj:case Keywords.Hg:case Keywords.Sj:case Keywords.Hj:case Keywords.ul:case Keywords.Ok:case Keywords.Sm:case Keywords.Rm:case Keywords.Ir:case Keywords.el:case Keywords.ak:case Keywords.sp:case Keywords.Ho:case Keywords.rp:case Keywords.ns:case Keywords.ms:case Keywords.ks:case Keywords.os:case Keywords.js:case Keywords.ls:a=
!0;break;default:a=!1}return a};e.prototype.be=function(a,b,c,d,e){var f=a.ga();""===f||this.ae(f)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+f,d+" must be "+e],a.O())};e.prototype.K=function(a,b,c,d){var e=!0,f=0,g=0,r=0,l=a.O();if(a.w()){f=a.C()|0;if(0>f||255<f)b[b.length]=[d+" "+l+" "+f,"RED out of range"];if(a.w()){g=a.C();if(0>g||255<g)b[b.length]=[d+" "+l+" "+f+" "+g,"GREEN out of range"];a.w()?(r=a.C(),0>r||255<r?b[b.length]=[d+" "+l+" "+f+" "+g+" "+r,"BLUE out of range"]:e=!1):this.be(a,
b,d+" "+l+" "+f+" "+g,"BLUE","numeric")}else this.be(a,b,d+" "+l+" "+f,"GREEN","numeric")}else{var m=a.ga();var k=ColourManager.Xc[m.toLowerCase()];void 0!==k?(a.O(),f=k[1],g=k[2],r=k[3],e=!1):""===m||this.ae(m)?b[b.length]=[d+" "+l,"name missing"]:(b[b.length]=[d+" "+l+" "+m,"name not known"],a.O())}if(!e)switch(-1!==this.f[c]&&c!==h.Ml&&c!==h.Il&&c!==h.Nl&&(b[b.length]=[d+" "+l+" "+f+" "+g+" "+r,"overwrites "+(this.f[c]>>16)+" "+(this.f[c]>>8&255)+" "+(this.f[c]&255)]),this.f[c]=f<<16|g<<8|r,c){case h.Kl:this.hg=
!0;break;case h.Ll:this.hg=!0;break;case h.vo:this.Uh.red=f;this.Uh.green=g;this.Uh.blue=r;break;case h.wo:this.bf=[f,g,r];break;case h.po:this.Fh=[f,g,r];this.jg="rgb("+f+","+g+","+r+")";break;case h.Ml:this.Wl="rgb("+f+","+g+","+r+")";break;case h.Il:this.Gl="rgb("+f+","+g+","+r+")";break;case h.Nl:this.Xl="rgb("+f+","+g+","+r+")";break;case h.no:this.li=[f,g,r];this.a.Ck=this.a.qg?-16777216|r<<16|g<<8|f:f<<24|g<<16|r<<8|255;break;case h.so:this.a.ng=[f,g,r];break;case h.ro:this.a.mg=[f,g,r];break;
case h.qo:this.a.lg=[f,g,r];break;case h.to:this.a.og=[f,g,r];break;case h.uo:this.a.pg=[f,g,r];break;case h.Ql:case h.Ol:case h.Rl:case h.Tl:case h.Sl:case h.Pl:break;default:this.hg=!0}};e.prototype.NB=function(){var a=this.a.La[this.a.me],b=this.f;if(-1===b[h.Sg]){var c=b[h.ig];-1!==c?b[h.Sg]=16777215-c:(c=b[h.cf],b[h.Sg]=-1!==c?16777215-c:16777215)}-1===b[h.cf]&&-1===b[h.ig]&&(b[h.cf]=16777215-b[h.Sg]);c=b[h.cf];-1===c&&(c=b[h.ig]);a.Ma.red=c>>16;a.Ma.green=c>>8&255;a.Ma.blue=c&255;c=b[h.Sg];
a.Ba.H.red=c>>16;a.Ba.H.green=c>>8&255;a.Ba.H.blue=c&255;c=b[h.mo];-1===c&&(c=b[h.Sg]);a.Ba.J.red=c>>16;a.Ba.J.green=c>>8&255;a.Ba.J.blue=c&255;c=b[h.ig];-1===c&&(c=b[h.cf]);a.za.J.red=c>>16;a.za.J.green=c>>8&255;a.za.J.blue=c&255;c=b[h.Jl];-1===c&&(c=b[h.ig],-1===c&&(c=b[h.cf]));a.za.H.red=c>>16;a.za.H.green=c>>8&255;a.za.H.blue=c&255;c=b[h.cf];-1===c&&(c=b[h.ig]);a.kh.red=c>>16;a.kh.green=c>>8&255;a.kh.blue=c&255;c=b[h.Sg];a.We.red=c>>16;a.We.green=c>>8&255;a.We.blue=c&255;c=b[h.ig];-1===c&&(c=
b[h.cf]);a.Hb.J.red=c>>16;a.Hb.J.green=c>>8&255;a.Hb.J.blue=c&255;c=b[h.Jl];-1===c&&(c=b[h.ig],-1===c&&(c=b[h.cf]));a.Hb.H.red=c>>16;a.Hb.H.green=c>>8&255;a.Hb.H.blue=c&255;c=b[h.oo];-1===c?a.Ik=!0:(a.Ik=!1,a.Wa.J.red=c>>16,a.Wa.J.green=c>>8&255,a.Wa.J.blue=c&255);c=b[h.Xq];-1===c&&(c=b[h.oo],-1===c&&(c=b[h.cf]));a.Wa.H.red=c>>16;a.Wa.H.green=c>>8&255;a.Wa.H.blue=c&255;a.QB(b[h.Kl],b[h.Ll])};e.prototype.Ex=function(a){var b=this.D.Zl();b.qe||(b.x=this.a.width/2-this.a.da);b.Zd||(b.y=this.a.height/
2-this.a.aa);b.Jc||(b.zoom=this.a.zoom);b.Bf||(b.angle=this.a.angle);b.Rf||(b.N=this.a.N);b.Ef||(b.depth=this.a.wc);b.Hf||(b.nb=this.Ld);b.cg||(b.step=this.ha);b.Wd||(b.sb=this.a.we);this.D.WA(a)};e.prototype.ry=function(a){var b=a,c=this.vd,d=a.length;c.font=h.lj;var e=c.measureText(a).width;if(420<e){--d;for(e=c.measureText(a.substr(0,d)+"...").width;420<e;)--d,e=c.measureText(a.substr(0,d)+"...").width;b=b.substr(0,d)+"..."}return b};e.prototype.vj=function(a,b){var c=a;a.length>b&&(c=a.substr(0,
b-1)+"...");return c};e.prototype.Nn=function(a,b,c,d){var e=a.indexOf("\\n");-1!==e&&(c?b[b.length]=[Keywords.ql+" "+Keywords.Zb+this.vj(a,23)+Keywords.Zb,"only one line allowed"]:(e=a.substr(e+2).indexOf("\\n"),-1===e||d||(b[b.length]=[Keywords.Zb+this.vj(a,23),"only two lines allowed"])))};e.prototype.Vm=function(a,b,c){var d=Keywords.Xh+" ",e="overwrites ";d=b>=this.a.me?d+Keywords.pl:d+b;e=c>=this.a.me?e+Keywords.pl:e+c;a[a.length]=[d,e]};e.prototype.Lc=function(a,b,c,d,e,f){var g=0,h=0,r=0;
if(a.w())if(g=a.C()|0,0>g||255<g)b[b.length]=[d+" "+f+" "+g,"RED out of range"],e=!0;else if(a.w())if(h=a.C()|0,0>h||255<h)b[b.length]=[d+" "+f+" "+g+" "+h,"GREEN out of range"],e=!0;else if(a.w()){if(r=a.C()|0,0>r||255<r)b[b.length]=[d+" "+f+" "+g+" "+h+" "+r,"BLUE out of range"],e=!0}else this.be(a,b,d+" "+f+" "+g+" "+h,"BLUE","numeric"),e=!0;else this.be(a,b,d+" "+f+" "+g,"GREEN","numeric"),e=!0;else{var l=a.ga();var k=ColourManager.Xc[l.toLowerCase()];void 0!==k?(a.O(),g=k[1],h=k[2],r=k[3]):(e=
!0,""===l||this.ae(l)?b[b.length]=[d+" "+f,"name missing"]:(b[b.length]=[d+" "+f+" "+l,"name not known"],a.O()))}e||(-1!==this.vb[c]&&(b[b.length]=[d+" "+f+" "+g+" "+h+" "+r,"overwrites "+(this.vb[c]>>16)+" "+(this.vb[c]>>8&255)+" "+(this.vb[c]&255)]),this.vb[c]=g<<16|h<<8|r)};e.prototype.Bh=function(a){var b="",c=a.indexOf(Keywords.Se);if(-1===c)b=a;else{for(;-1!==c;)if(b+=a.substr(0,c),c+1<a.length){var d=a[c+1];a=a.substr(c+2);switch(d){case "B":b+=h.Ot;break;case "N":b+=this.Xk;break;case "R":b+=
this.Zf;break;case "A":b=""===this.Yf?b+this.Zf:b+this.Yf;break;case "O":b+=this.Lm;break;case "T":b+=h.yz;break;case Keywords.Se:b+=Keywords.Se;break;default:b+=Keywords.Se+d}c=a.indexOf(Keywords.Se)}else c=-1;b+=a}return b};e.prototype.Fa=function(a,b,c,d){d[d.length]=a?b===Keywords.mf?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+Keywords.mf]:b===Keywords.mf?[b+" "+c,"overwrites "+Keywords.eg]:[b+" "+c,"already defined"]};e.prototype.Sa=function(a){var b="";a===(a|0)?b=String(a):b=a.toFixed(2);
return b};e.prototype.qA=function(a,b){var c=new Script(a,!1),d=!1,e=!1,f="",g="",l="",k="",m=!1,D="",p=0,y=!1,w=!1,q=this.Sb,C=null,B=0,F=0,I="",A=this.D.fo(),J=null,Z=!1,Y=!1,S=null,ba=1,X=h.iu,N=-1,R=-1,U=0,ca=0,P=!1,K=!1,Q=0,W=0,ha=-1,V=0,O=0,aa=null,ib=1,jb=h.iu,kb=h.my,Aa=-1,Ba=-1,Ca=0,lb=0,Da=!1,Ea=!1,Fa=0,Ga=0,Ha=-1,Ia=0,Ja=0,qa=null,mb=1,nb=h.fA,Ka=-1,La=-1,Ma=0,ob=0,Na=!1,Oa=!1,Pa=0,Qa=0,Ra=-1,Sa=0,Ta=0,ja=!1,Ua=!1,Va="numeric",za=-1,la=-1,ma=-1,Wa=-1,na=-1,oa=-1,ra=0,sa=0,ta=0,ua=0,da=
0,fa=0,ea=0,pb=0,qb=0,ka=[],ia=0,rb=new Pattern("decode"),Xa=!1,Ya=!1,Za=!1,$a=!1,ab=!1,bb=!1,va=!1,cb=!1,db=!1,wa=!1,xa=!1,eb=!1,fb=!1,gb=!1,hb=!1;this.gs=this.Gm=0;this.hg=!1;this.f[h.cf]=-1;this.f[h.Sg]=-1;this.f[h.mo]=-1;this.f[h.ig]=-1;this.f[h.Jl]=-1;this.f[h.Kl]=-1;this.f[h.Ll]=-1;this.f[h.vo]=-1;this.f[h.wo]=-1;this.f[h.no]=-1;this.f[h.so]=-1;this.f[h.ro]=-1;this.f[h.qo]=-1;this.f[h.to]=-1;this.f[h.uo]=-1;this.f[h.po]=-1;this.f[h.Ml]=-1;this.f[h.Ql]=-1;this.f[h.Ol]=-1;this.f[h.Rl]=-1;this.f[h.Tl]=
-1;this.f[h.Sl]=-1;this.f[h.Pl]=-1;this.f[h.Il]=-1;this.f[h.Nl]=-1;this.vb=[];if(-1!==c.Mj(Keywords.Xi,-1)){for(ia=0;256>ia;ia+=1)this.vb[ia]=-1;for(f=c.O();""!==f;){Va="numeric";if(m)f[f.length-1]===Keywords.Zb?(D=D+" "+f.substr(0,f.length-1),m=!1,this.Nn(D,q,e,ja),e?(""!==this.tb&&(q[q.length]=[Keywords.ql+" "+Keywords.Zb+this.vj(D,20)+Keywords.Zb,"overwrites "+Keywords.Zb+this.tb+Keywords.Zb]),this.tb=D,e=!1):ja?(qa.message=this.Bh(D),ja=!1,this.D.bu(qa)):(A.zd=this.Bh(D),A.ht=!0)):D=D+" "+f;else if(f[0]===
Keywords.Zb)D=f.substr(1),m=!0,f[f.length-1]===Keywords.Zb&&(m=!1,D=D.substr(0,D.length-1),this.Nn(D,q,e,ja),e?(""!==this.tb&&(q[q.length]=[Keywords.ql+" "+Keywords.Zb+this.vj(D,20)+Keywords.Zb,"overwrites "+Keywords.Zb+this.tb+Keywords.Zb]),this.tb=D,e=!1):ja?(qa.message=this.Bh(D),ja=!1,this.D.bu(qa)):(A.zd=this.Bh(D),A.ht=!0));else{y=w=!1;this.Gm+=1;switch(f){case Keywords.ql:y=e=!0;break;case Keywords.vs:c.w()&&(w=!0,p=c.C(),p>=h.kp&&p<=h.ep&&(X=p,y=!0));break;case Keywords.kw:c.w()?(w=!0,p=c.C(),
p>=h.De&&p<=h.Be&&(da=p,w=!1,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(V=da,O=p,y=!0)))):(g=c.ga(),g===Keywords.ad&&(g=c.O(),O=V=0,y=!0));break;case Keywords.xs:c.w()?(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(w=!1,da=p,c.w()&&(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(w=!1,fa=p,c.w()&&(w=!0,p=c.C(),0<=p&&p<=this.a.W/2&&(Q=da,W=fa,ha=p,y=!0)))))):(g=c.ga(),g===Keywords.Ka&&(g=c.O(),W=Q=0,ha=-1,y=!0));break;case Keywords.ts:c.w()&&(w=!0,p=c.C(),0<=p&&360>p&&(ca=p,P=!1,g=c.ga(),g===Keywords.ad&&
(g=c.O(),P=!0),y=!0));break;case Keywords.ws:c.w()?(w=!0,p=c.C()|0,0<=p&&(da=p,c.w()?(p=c.C()|0,p>=da?(fa=p,c.w()?(p=c.C()|0,0<=p&&p<=fa-da>>1?(N=da,R=fa,U=p,y=!0):(y=!0,q[q.length]=[f+" "+da+" "+fa+" "+p,"third argument must from 0 to "+(fa-da>>1)])):w=!1):(y=!0,q[q.length]=[f+" "+da+" "+p,"second argument must be >= first"])):w=!1)):(g=c.ga(),g===Keywords.Xe?(g=c.O(),R=N=-1,U=0,y=!0):w=!1);break;case Keywords.ss:c.w()&&(w=!0,p=c.C(),0<=p&&1>=p&&(ba=p,y=!0));break;case Keywords.us:case Keywords.wp:ka=
[];y=!0;for(ea=-1E3;y&&c.w();)da=c.C(),c.w()?(fa=c.C(),da>=-this.a.W&&da<2*this.a.W&&fa>=-this.a.W&&fa<2*this.a.W?(ka[ka.length]=da,ka[ka.length]=fa):(q[q.length]=[f+" "+da+" "+fa,"coordinate out of range"],ea=0,y=!1)):da>=h.Ya&&da<=h.Ib?ea=da:da>=h.ym&&da<=h.wm?ea=-(1/da):(q[q.length]=[f+" "+da,"zoom out of range"],ea=0,y=!1);-1E3===ea&&(q[q.length]=[f,"missing zoom value"]);4>ka.length&&(q[q.length]=[f,"requires at least 2 coordinate pairs"],y=!1);y?(g=c.ga(),K=!1,g===Keywords.ad&&(g=c.O(),K=!0,
g=c.ga()),S=this.D.Oy(ka,f===Keywords.wp,ea,this.Xl,ba,X,N,R,U,ca,P,K,Q,W,ha,V,O),this.D.dy(S)):y=!0;break;case Keywords.Dq:c.w()&&(w=!0,p=c.C(),p>=h.kp&&p<=h.ep&&(da=p,w=!1,c.w()&&(w=!0,p=c.C(),0<=p&&1>=p&&(kb=p,jb=da,y=!0))));break;case Keywords.Gq:c.w()?(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(da=p,w=!1,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(Ia=da,Ja=p,y=!0)))):(g=c.ga(),g===Keywords.ad&&(g=c.O(),Ja=Ia=0,y=!0));break;case Keywords.Fq:c.w()?(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(w=!1,da=p,c.w()&&
(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(w=!1,fa=p,c.w()&&(w=!0,p=c.C(),0<=p&&p<=this.a.W/2&&(Fa=da,Ga=fa,Ha=p,y=!0)))))):(g=c.ga(),g===Keywords.Ka&&(g=c.O(),Ga=Fa=0,Ha=-1,y=!0));break;case Keywords.Cq:c.w()&&(w=!0,p=c.C(),0<=p&&360>p&&(lb=p,Da=!1,g=c.ga(),g===Keywords.ad&&(g=c.O(),Da=!0),y=!0));break;case Keywords.Eq:c.w()?(w=!0,p=c.C()|0,0<=p&&(da=p,c.w()?(p=c.C()|0,p>=da?(fa=p,c.w()?(p=c.C()|0,0<=p&&p<=fa-da>>1?(Aa=da,Ba=fa,Ca=p,y=!0):(y=!0,q[q.length]=[f+" "+da+" "+fa+" "+p,"third argument must from 0 to "+
(fa-da>>1)])):w=!1):(y=!0,q[q.length]=[f+" "+da+" "+p,"second argument must be >= first"])):w=!1)):(g=c.ga(),g===Keywords.Xe?(g=c.O(),Ba=Aa=-1,Ca=0,y=!0):w=!1);break;case Keywords.Bq:c.w()&&(w=!0,p=c.C(),0<=p&&1>=p&&(ib=p,y=!0));break;case Keywords.Al:c.w()&&(w=!0,p=c.C(),p>=-this.a.W&&p<2*this.a.W&&(w=!1,da=p,c.w()&&(w=!0,p=c.C(),p>=-this.a.W&&p<2*this.a.W&&(w=!1,fa=p,c.w()&&(w=!0,p=c.C(),p>=-this.a.W&&p<2*this.a.W&&(w=!1,pb=p,c.w()&&(w=!0,p=c.C(),p>=-this.a.W&&p<2*this.a.W&&(w=!1,qb=p,c.w()&&(w=
!0,p=c.C(),ea=-1E3,p>=h.Ya&&p<=h.Ib?ea=p:p>=h.ym&&p<=h.wm&&(ea=-(1/p)),-1E3!==ea&&(g=c.ga(),Ea=!1,g===Keywords.ad&&(g=c.O(),Ea=!0,g=c.ga()),aa=this.D.Iy(da,fa,pb,qb,ea,this.Gl,ib,jb,kb,Aa,Ba,Ca,lb,Da,Ea,Fa,Ga,Ha,Ia,Ja),this.D.$x(aa),y=!0))))))))));break;case Keywords.Lr:c.w()&&(w=!0,p=c.C(),p>=h.Ov&&p<=h.Hv&&(nb=p,y=!0));break;case Keywords.Or:c.w()?(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(da=p,w=!1,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(Sa=da,Ta=p,y=!0)))):(g=c.ga(),g===Keywords.ad&&(g=c.O(),Ta=Sa=0,y=
!0));break;case Keywords.Nr:c.w()?(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(w=!1,da=p,c.w()&&(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(w=!1,fa=p,c.w()&&(w=!0,p=c.C(),0<=p&&p<=this.a.W/2&&(Pa=da,Qa=fa,Ra=p,y=!0)))))):(g=c.ga(),g===Keywords.Ka&&(g=c.O(),Qa=Pa=0,Ra=-1,y=!0));break;case Keywords.Kr:c.w()&&(w=!0,p=c.C(),0<=p&&360>p&&(ob=p,Na=!1,g=c.ga(),g===Keywords.ad&&(g=c.O(),Na=!0),y=!0));break;case Keywords.Mr:c.w()?(w=!0,p=c.C()|0,0<=p&&(da=p,c.w()?(p=c.C()|0,p>=da?(fa=p,c.w()?(p=c.C()|0,
0<=p&&p<=fa-da>>1?(Ka=da,La=fa,Ma=p,y=!0):(y=!0,q[q.length]=[f+" "+da+" "+fa+" "+p,"third argument must from 0 to "+(fa-da>>1)])):w=!1):(y=!0,q[q.length]=[f+" "+da+" "+p,"second argument must be >= first"])):w=!1)):(g=c.ga(),g===Keywords.Xe?(g=c.O(),La=Ka=-1,Ma=0,y=!0):w=!1);break;case Keywords.Jr:c.w()&&(w=!0,p=c.C(),0<=p&&1>=p&&(mb=p,y=!0));break;case Keywords.nm:c.w()&&(w=!0,p=c.C(),p>=-this.a.W&&p<2*this.a.W&&(w=!1,da=p,c.w()&&(w=!0,p=c.C(),p>=-this.a.W&&p<2*this.a.W&&(w=!1,fa=p,c.w()&&(w=!0,
p=c.C(),ea=-1E3,p>=h.Ya&&p<=h.Ib?ea=p:p>=h.ym&&p<=h.wm&&(ea=-(1/p)),-1E3!==ea&&(g=c.ga(),Oa=!1,g===Keywords.ad&&(g=c.O(),Oa=!0,g=c.ga()),g[0]===Keywords.Zb?(qa=this.D.Ly(da,fa,ea,this.Wl,mb,nb,Ka,La,Ma,ob,Na,Oa,Pa,Qa,Ra,Sa,Ta),y=ja=!0):w=!1))))));break;case Keywords.Ir:y=this.a.fg=!0;break;case Keywords.el:y=!1;g=c.O();if(""!==g){for(this.lf=[];c.w();)p=c.C(),this.lf[this.lf.length]=p;this.qq(q,g,this.lf);this.lf=[];y=!0}break;case Keywords.ak:y=!1;g=c.O();if(""!==g&&(l=c.ga(),""!==l)){c.O();for(k=
c.ga();""!==k&&!this.ae(k)&&!c.w()&&-1!==PatternManager.Ek(rb,k,!1,this.a.i);)c.O(),l+=k,k=c.ga();fa=da=0;c.w()&&(w=!0,da=c.C());c.w()&&(w=!0,fa=c.C());ea=-1;k=c.ga();if(""!==k){switch(k){case Keywords.At:ea=h.xn;break;case Keywords.xt:ea=h.qt;break;case Keywords.yt:ea=h.rt;break;case Keywords.zt:ea=h.st;break;case Keywords.Dt:ea=h.vt;break;case Keywords.Et:ea=h.wt;break;case Keywords.Ct:ea=h.ut;break;case Keywords.Bt:ea=h.tt}-1!==ea&&c.O()}-1===ea&&(ea=h.xn);this.pq(q,g,l,da,fa,ea);y=!0}break;case Keywords.sp:l=
c.ga();if(""!==l){c.O();for(k=c.ga();""!==k&&!this.ae(k)&&!c.w()&&-1!==PatternManager.Ek(rb,k,!1,this.a.i);)c.O(),l+=k,k=c.ga();fa=da=0;c.w()&&(w=!0,da=c.C());c.w()&&(w=!0,fa=c.C());ea=-1;k=c.ga();if(""!==k){switch(k){case Keywords.At:ea=h.xn;break;case Keywords.xt:ea=h.qt;break;case Keywords.yt:ea=h.rt;break;case Keywords.zt:ea=h.st;break;case Keywords.Dt:ea=h.vt;break;case Keywords.Et:ea=h.wt;break;case Keywords.Ct:ea=h.ut;break;case Keywords.Bt:ea=h.tt}-1!==ea&&c.O()}-1===ea&&(ea=h.xn);this.rq(this.gf,
this.wh,this.ff,this.xh,this.ce,l,da,fa,ea)||(q[q.length]=[Keywords.sp+" "+l,"invalid name or rle"]);y=!0}break;case Keywords.rp:if(c.w()){if(w=!0,p=c.C(),0<=p){this.gf=p;this.xh=0;this.wh=-1;this.ff=[];for(d=!0;d;)c.w()?(p=c.C(),this.ff[this.ff.length]=p):(g=c.ga(),this.Lx(g,this.ff)?c.O():d=!1);y=!0}}else g=c.ga(),g===Keywords.Ho&&(g=c.O(),c.w()&&(w=!0,p=c.C(),1<=p&&(this.xh=p,this.gf=0,this.wh=-1,c.w()?(p=c.C(),0<=p&&(this.gf=p,c.w()?(p=c.C(),p>=this.gf+this.xh&&(this.wh=p,y=!0)):y=!0)):y=!0)));
break;case Keywords.ns:y=!0;w=!1;Va="paste mode";g=c.ga();switch(g){case Keywords.ms:this.ce=h.qp;break;case Keywords.ks:this.ce=h.aw;break;case Keywords.os:this.ce=h.cw;break;case Keywords.js:this.ce=h.$v;break;case Keywords.ls:this.ce=h.bw;break;default:y=!1}y&&c.O();break;case Keywords.jv:y=this.hm=!0;break;case Keywords.cs:y=this.bs=!0;break;case Keywords.$r:y=this.Xf=!0;break;case Keywords.ds:this.bm=!1;y=!0;break;case Keywords.Ur:c.w()&&(w=!0,p=c.C()|0,p>=h.Nv&&p<=h.Gv&&(this.a.W=1<<p,y=!0));
break;case Keywords.hn:g=c.ga();g===Keywords.Ka?(g=c.O(),A.bj=!1):A.bj=!0;y=A.Op=!0;break;case Keywords.Wn:g=c.ga();g===Keywords.Ka?(g=c.O(),A.od=!1):A.od=!0;y=!0;break;case Keywords.To:c.w()&&(w=!0,p=c.C()|0,0<=p&&p<=this.bp&&(this.ca=p,y=!0));break;case Keywords.Cr:g=c.ga();g===Keywords.Ka?(g=c.O(),this.Kf=!1):this.Kf=!0;y=!0;break;case Keywords.em:g=c.ga();g===Keywords.Ka?(g=c.O(),A.uc=!1):A.uc=!0;y=A.Pj=!0;break;case Keywords.dm:c.w()&&(w=!0,p=c.C()|0,p>=h.sA&&p<=h.jA&&(this.a.kf=p,y=this.a.lo=
!0));break;case Keywords.ua:case Keywords.Pq:I=f;Ua=!1;if(c.w()){F=c.C()|0;if(0>F||255<F)q[q.length]=[f+" "+F,"STATE out of range"],Ua=!0;this.Lc(c,q,F,f,Ua,F)}else switch(g=c.ga(),g){case Keywords.Uv:g=c.O();this.Lc(c,q,h.Vv,f,!1,g);break;case Keywords.Wv:g=c.O();this.Lc(c,q,h.Xv,f,!1,g);break;case Keywords.kv:g=c.O();this.Lc(c,q,h.lv,f,!1,g);break;case Keywords.xv:g=c.O();this.Lc(c,q,h.yv,f,!1,g);break;case Keywords.Bv:g=c.O();this.Lc(c,q,h.Cv,f,!1,g);break;case Keywords.zv:g=c.O();this.Lc(c,q,
h.Av,f,!1,g);break;case Keywords.rv:g=c.O();this.Lc(c,q,h.sv,f,!1,g);break;case Keywords.Rp:this.K(c,q,h.cf,I);break;case Keywords.Qp:this.K(c,q,h.Sg,I);break;case Keywords.it:this.K(c,q,h.mo,I);break;case Keywords.Tp:this.K(c,q,h.ig,I);break;case Keywords.Sp:this.K(c,q,h.Jl,I);break;case Keywords.Yw:this.K(c,q,h.oo,I);break;case Keywords.Xw:this.K(c,q,h.Xq,I);break;case Keywords.em:this.K(c,q,h.Kl,I);break;case Keywords.dm:this.K(c,q,h.Ll,I);break;case Keywords.hn:this.K(c,q,h.vo,I);break;case Keywords.gt:this.K(c,
q,h.wo,I);break;case Keywords.jr:this.K(c,q,h.po,I);break;case Keywords.nm:this.K(c,q,h.Ml,I);break;case Keywords.Al:this.K(c,q,h.Il,I);break;case Keywords.lw:this.K(c,q,h.Nl,I);break;case Keywords.ru:this.K(c,q,h.no,I);break;case Keywords.av:this.K(c,q,h.so,I);break;case Keywords.$u:this.K(c,q,h.ro,I);break;case Keywords.Zu:this.K(c,q,h.qo,I);break;case Keywords.bv:this.K(c,q,h.to,I);break;case Keywords.cv:this.K(c,q,h.uo,I);break;case Keywords.gx:this.K(c,q,h.Ql,I);break;case Keywords.ex:this.K(c,
q,h.Ol,I);break;case Keywords.hx:this.K(c,q,h.Rl,I);break;case Keywords.jx:this.K(c,q,h.Tl,I);break;case Keywords.ix:this.K(c,q,h.Sl,I);break;case Keywords.fx:this.K(c,q,h.Pl,I);break;default:q[q.length]=[f+" "+g,"illegal element"],g=c.O()}y=!0;break;case Keywords.hl:-1===c.Mj(Keywords.Xi,-1)&&c.sz();y=!0;--this.Gm;break;case Keywords.Dn:y=this.$b=!0;break;case Keywords.es:y=this.Bm=!0;break;case Keywords.Zr:y=this.mp=this.Jb=!0;break;case Keywords.Yr:y=this.Ni=!0;break;case Keywords.dt:y=hb=gb=fb=
eb=xa=wa=db=cb=va=bb=ab=$a=Za=Ya=Xa=!0;break;case Keywords.Ka:q[q.length]=[Keywords.Ka,"must follow LOOP or STOP"];y=!0;break;case Keywords.Xe:g=c.ga();g===Keywords.Xa?(g=c.O(),A.Nf?(this.D.By(A,q),this.cB()):q[q.length]=[Keywords.Xe+" "+Keywords.Xa,"only valid at a POI"]):q[q.length]=[Keywords.Xe,"must be followed by INITIAL"];y=!0;break;case Keywords.Xa:q[q.length]=[Keywords.Xa,"must follow POI, ALL or a POI setting"];y=!0;break;case Keywords.Xn:g=c.ga();g===Keywords.Ka?(g=c.O(),this.se=!1):this.Aa&&
(this.se=!0);y=!0;break;case Keywords.up:c.w()&&(w=!0,p=c.C()|0,0<=p&&(A.Nf?(A.bb=p,A.kn=!0):q[q.length]=[Keywords.up+" "+p,"only valid at a POI"],y=!0));break;case Keywords.cl:A.UB(q);y=!0;break;case Keywords.dl:A.WB(q);y=!0;break;case Keywords.Pm:A.VB(q);y=!0;break;case Keywords.Qm:c.w()&&(w=!0,p=c.C(),p>=WaypointConstants.hw&&p<=WaypointConstants.gw&&(A.ZB(p,q),y=!0));break;case Keywords.tr:y=this.So=!0;break;case Keywords.bt:g=c.ga();g===Keywords.Ka?(g=c.O(),this.Fg=!1):this.Fg=!0;y=!0;break;
case Keywords.wn:c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(na=p,w=!1,f+=" "+p,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(oa=p,y=!0,this.gc&&(q[q.length]=[Keywords.wn+" "+na+" "+oa,"overwrites "+la+" "+ma]),la=na,ma=oa,this.gc=!0))));break;case Keywords.vn:c.w()&&(w=!0,p=c.C()|0,0<p&&(Wa=p,w=!1,f+=" "+p,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(na=p,w=!1,f+=" "+p,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(oa=p,y=!0,this.re&&(q[q.length]=[Keywords.vn+" "+Wa+" "+na+" "+oa,"overwrites "+za+" "+la+" "+ma]),za=Wa,
la=na,ma=oa,this.gc=this.re=!0))))));break;case Keywords.nk:c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(ta=p,w=!1,f+=" "+p,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(sa=p,w=!1,f+=" "+p,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(ua=p,w=!1,f+=" "+p,c.w()&&(w=!0,p=c.C(),p>=h.De&&p<=h.Be&&(ra=p,y=!0,ua>ta?q[q.length]=[Keywords.nk+" W "+this.Sa(ua)+" E "+this.Sa(ta),"W is greater than E"]:ra>sa?q[q.length]=[Keywords.nk+" N "+this.Sa(ra)+" S "+this.Sa(sa),"N is greater than S"]:(this.mk&&(q[q.length]=[Keywords.nk+
" "+this.Sa(ta)+" "+this.Sa(sa)+" "+this.Sa(ua)+" "+this.Sa(ra),"overwrites "+this.Sa(this.ih)+" "+this.Sa(this.jh)+" "+this.Sa(this.$h)+" "+this.Sa(this.Zh)]),this.gc=this.mk=!0,this.Zh=ra,this.ih=ta,this.jh=sa,this.$h=ua)))))))));break;case Keywords.Hg:J=A;!A.Nf&&0<this.D.EA&&(A=this.D.Zl());c.w()?(w=!0,p=c.C()|0,0<p&&(!A.fj||this.Tc||xa||(q[q.length]=-1===A.rb?[Keywords.Hg+" "+p,"overwrites "+Keywords.Ka]:[Keywords.Hg+" "+p,"overwrites "+A.rb]),A.rb=p,A.fj=!0,xa=this.Tc=!1,y=!0)):(g=c.ga(),g===
Keywords.Ka?(g=c.O(),!A.fj||this.Tc||xa||(q[q.length]=-1!==A.rb||this.Tc?[Keywords.Hg+" "+Keywords.Ka,"overwrites "+A.rb]:[Keywords.Hg+" "+Keywords.Ka,"overwrites "+Keywords.Ka]),A.rb=-1,A.fj=!0,xa=this.Tc=!1,y=!0):g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.Hg,A,q,this.Tc),y=this.Tc=!0));A=J;break;case Keywords.rg:J=A;!A.Nf&&0<this.D.la.length&&(A=this.D.Zl());c.w()?(w=!0,p=c.C()|0,0<p&&(!A.Ei||this.Fd||wa||(q[q.length]=-1===A.sa?[Keywords.rg+" "+p,"overwrites "+Keywords.Ka]:[Keywords.rg+" "+p,
"overwrites "+A.sa]),A.sa=p,A.Ei=!0,wa=this.Fd=!1,y=!0)):(g=c.ga(),g===Keywords.Ka?(g=c.O(),!A.Ei||this.Fd||wa||(q[q.length]=-1===A.sa?[Keywords.rg+" "+Keywords.Ka,"overwrites "+Keywords.Ka]:[Keywords.rg+" "+Keywords.Ka,"overwrites "+A.sa]),A.sa=-1,A.Ei=!0,wa=this.Fd=!1,y=!0):g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.rg,A,q,this.Fd),y=this.Fd=!0));A=J;break;case Keywords.ii:c.w()?(w=!0,p=c.C()|0,0<=p&&359>=p&&(!A.Bf||this.lh||$a||(q[q.length]=[Keywords.ii+" "+p,"overwrites "+A.angle]),A.angle=
p,A.Bf=!0,$a=this.lh=!1,y=!0)):(g=c.ga(),g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.ii,A,q,this.lh),y=this.lh=!0));break;case Keywords.Sj:c.w()?(w=!0,p=c.C()|0,p>=h.jp&&p<=h.cp&&(!A.Rf||this.qh||ab||(q[q.length]=[Keywords.Sj+" "+p,"overwrites "+A.N]),A.N=p,A.Rf=!0,ab=this.qh=!1,y=!0)):(g=c.ga(),g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.Sj,A,q,this.qh),y=this.qh=!0));break;case Keywords.Hj:c.w()?(w=!0,p=c.C(),p>=h.ip&&p<=h.Fv&&(!A.Ef||this.oh||bb||(q[q.length]=[Keywords.Hj+" "+p,"overwrites "+
A.depth]),A.depth=p,A.Ef=!0,bb=this.oh=!1,y=!0)):(g=c.ga(),g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.Hj,A,q,this.oh),y=this.oh=!0));break;case Keywords.cq:c.w()&&(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(this.Ad=p,y=!0));break;case Keywords.fq:c.w()&&(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(this.Bd=p,y=!0));break;case Keywords.ed:c.w()?(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(!A.qe||this.Lg||Xa||(q[q.length]=[Keywords.ed+" "+p,"overwrites "+-A.x]),A.x=-p,A.qe=!0,Xa=this.Lg=!1,y=!0)):
(g=c.ga(),g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.ed,A,q,this.Lg),y=this.Lg=!0));break;case Keywords.fd:c.w()?(w=!0,p=c.C(),p>=-this.a.W/2&&p<=this.a.W/2&&(!A.Zd||this.sh||Ya||(q[q.length]=[Keywords.fd+" "+p,"overwrites "+-A.y]),A.y=-p,A.Zd=!0,Ya=this.sh=!1,y=!0)):(g=c.ga(),g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.fd,A,q,this.sh),y=this.sh=!0));break;case Keywords.ov:y=!0;break;case Keywords.nt:c.w()&&(w=!0,p=c.C(),p>=h.Ya&&p<=h.Ib?(this.wk=!0,this.mn=p,y=!0):p>=h.ym&&p<=h.wm&&(this.wk=!0,
this.mn=-(1/p),y=!0));break;case Keywords.zq:case Keywords.pc:c.w()?(w=!0,p=c.C(),p>=h.Ya&&p<=h.Ib?(!A.Jc||this.Gd||Za||(q[q.length]=1>A.zoom?[Keywords.pc+" "+p,"overwrites "+-(1/A.zoom)]:[Keywords.pc+" "+p,"overwrites "+A.zoom]),A.zoom=p,A.Jc=!0,Za=this.Gd=!1,y=!0):p>=h.ym&&p<=h.wm&&(A.Jc&&!this.Gd&&(q[q.length]=1>A.zoom?[Keywords.pc+" "+p,"overwrites "+-(1/A.zoom)]:[Keywords.pc+" "+p,"overwrites "+A.zoom]),A.zoom=-(1/p),A.Jc=!0,this.Gd=!1,y=!0)):(g=c.ga(),g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.pc,
A,q,this.Gd),y=this.Gd=!0));break;case Keywords.Oj:c.w()?(w=!0,p=c.C()|0,p>=h.Ce&&p<=h.Gi&&(!A.Hf||this.ph||cb||(q[q.length]=[Keywords.Oj+" "+p,"overwrites "+A.nb]),A.nb=p,A.Hf=!0,cb=this.ph=!1,y=!0)):(g=c.ga(),g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.Oj,A,q,this.ph),y=this.ph=!0));break;case Keywords.ot:g=c.ga();g===Keywords.Ka?(g=c.O(),this.Ae||(this.Yh=this.ya=!1)):this.Ae||(this.Yh=this.ya=!0);y=!0;break;case Keywords.kt:g=c.ga();g===Keywords.Ka?(g=c.O(),this.Ae||(this.gh=this.Yh=this.ya=
!1,this.h.gh=!1)):this.Ae||(this.gh=this.Yh=this.ya=!0,this.h.gh=!0);y=!0;break;case Keywords.mt:c.w()&&(w=!0,p=c.C()|0,p>=h.Qv&&p<=h.Kv&&(this.Ic=p,y=!0));break;case Keywords.Xh:c.w()?(w=!0,p=c.C()|0,0<=p&&p<this.a.me&&(!A.Wd||this.Ac||va||this.Vm(q,p,A.sb),A.sb=p,A.Wd=!0,va=this.Ac=!1,y=!0)):(g=c.ga(),g===Keywords.pl?(g=c.O(),this.hg?(A.Wd&&!this.Ac&&this.Vm(q,this.a.me,A.sb),A.sb=this.a.me,A.Wd=!0,this.Ac=!1):q[q.length]=[Keywords.Xh+" "+Keywords.pl,"no custom THEME defined"],y=!0):(p=this.GC(g),
-1!==p?(g=c.O(),!A.Wd||this.Ac||va||this.Vm(q,p,A.sb),A.sb=p,A.Wd=!0,va=this.Ac=!1,y=!0):g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.Xh,A,q,this.Ac),y=this.Ac=!0)));break;case Keywords.Xi:q[q.length]=[f,"already in a script block"];y=!0;break;case Keywords.Ss:this.Ea=!this.Ea;y=!0;break;case Keywords.Ts:this.Mk.current=this.tl([!0],!0,this);y=!0;break;case Keywords.kr:this.ei.current=this.An([!0],!0,this);y=!0;break;case Keywords.Rs:this.aq([!0],!0,this);this.he&&(this.he.current=[this.vf],this.h.hh=
!0);y=!0;break;case Keywords.br:c.w()&&(w=!0,p=c.C()|0,p>=h.Mv&&p<=h.Ev&&(y=!0,this.a.Wm=p));break;case Keywords.np:y=this.Pc=!0;break;case Keywords.Mo:y=this.jb=!0;break;case Keywords.nr:c.w()&&(w=!0,p=c.C(),0<=p&&1>=p&&(y=!0,this.Yb=p));break;case Keywords.pr:this.Je=!1;y=!0;break;case Keywords.xr:y=this.a.Re=!0;break;case Keywords.Ws:this.a.Re=!1;y=!0;break;case Keywords.Xs:this.a.ba||(this.a.R=!1,this.Gb.l=this.a.R);y=!0;break;case Keywords.yr:this.a.ba||(this.a.R=!0,this.Gb.l=this.a.R);y=!0;
break;case Keywords.qu:y=this.a.Fc=!0;break;case Keywords.Bs:this.eq=c.O();y=!0;break;case Keywords.mf:g=c.ga();switch(g){case Keywords.ed:A.ci&&this.Fa(A.yf,Keywords.mf,Keywords.ed,q);A.yf=!0;A.ci=!0;g=c.O();break;case Keywords.fd:A.di&&this.Fa(A.zf,Keywords.mf,Keywords.fd,q);A.zf=!0;A.di=!0;g=c.O();break;case Keywords.pc:A.au&&this.Fa(A.Af,Keywords.mf,Keywords.pc,q);A.Af=!0;A.Fn=!0;g=c.O();break;case Keywords.Xe:A.ci&&this.Fa(A.yf,Keywords.mf,Keywords.ed,q);A.di&&this.Fa(A.zf,Keywords.mf,Keywords.fd,
q);A.au&&this.Fa(A.Af,Keywords.mf,Keywords.pc,q);A.yf=!0;A.ci=!0;A.zf=!0;A.di=!0;A.Af=!0;A.Fn=!0;g=c.O();break;default:this.be(c,q,Keywords.mf,"argument",Keywords.Xe+", "+Keywords.ed+", "+Keywords.fd+" or "+Keywords.pc)}y=!0;break;case Keywords.eg:g=c.ga();switch(g){case Keywords.ed:A.ci&&this.Fa(A.yf,Keywords.eg,Keywords.ed,q);A.yf=!1;A.ci=!0;g=c.O();break;case Keywords.fd:A.di&&this.Fa(A.zf,Keywords.eg,Keywords.fd,q);A.zf=!1;A.di=!0;g=c.O();break;case Keywords.pc:A.au&&this.Fa(A.Af,Keywords.eg,
Keywords.pc,q);A.Af=!1;A.Fn=!0;g=c.O();break;case Keywords.Xe:A.ci&&this.Fa(A.yf,Keywords.eg,Keywords.ed,q);A.di&&this.Fa(A.zf,Keywords.eg,Keywords.fd,q);A.au&&this.Fa(A.Af,Keywords.eg,Keywords.pc,q);A.yf=!1;A.ci=!0;A.zf=!1;A.di=!0;A.Af=!1;A.Fn=!0;g=c.O();break;default:this.be(c,q,Keywords.eg,"argument",Keywords.Xe+", "+Keywords.ed+", "+Keywords.fd+" or "+Keywords.pc)}y=!0;break;case Keywords.vp:Y=!0;this.D.add(A);A=this.D.fo();A.Nf=!0;g=c.ga();g===Keywords.Xa&&(g=c.O(),-1!==this.Fj&&(q[q.length]=
[Keywords.vp+" "+Keywords.Xa,"overrides previous initial POI"]),this.Fj=this.D.zb.length);this.Px();y=!0;break;case Keywords.jn:c.w()&&(w=!0,p=c.C()|0,0<=p&&(Z||(Z=!0),0<p&&(this.D.add(A),A=this.D.fo()),A.bb=p,y=A.kn=!0));break;case Keywords.gk:c.w()?(w=!0,p=c.C()|0,p>=h.Tj&&p<=h.ke&&(!A.cg||this.rh||db||(q[q.length]=[Keywords.gk+" "+p,"overwrites "+A.step]),A.step=p,A.cg=!0,db=this.rh=!1,y=!0)):(g=c.ga(),g===Keywords.Xa&&(g=c.O(),this.D.jc(Keywords.gk,A,q,this.rh),y=this.rh=!0));break;case Keywords.qs:c.w()&&
(w=!0,p=c.C(),0<=p&&(Z||(Z=!0),this.D.add(A),A=this.D.fo(),p<h.Qw&&(p=h.Qw),A.fc=p,y=A.Ww=!0));break;case Keywords.ul:c.w()&&(w=!0,p=c.C()|0,this.Ae||(-1===this.fa||eb||(q[q.length]=[Keywords.ul+" "+p,"overwrites "+this.fa]),this.fa=p),eb=!1,y=!0);break;case Keywords.Ok:c.w()&&(w=!0,p=c.C()|0,this.Ae||(-1===this.ja||fb||(q[q.length]=[Keywords.Ok+" "+p,"overwrites "+this.ja]),this.ja=p),fb=!1,y=!0);break;case Keywords.Sm:c.w()&&(w=!0,p=c.C()|0,-1===this.wa||gb||(q[q.length]=[Keywords.Sm+" "+p,"overwrites "+
this.wa]),this.wa=p,gb=!1,y=!0);break;case Keywords.Rm:c.w()&&(w=!0,p=c.C()|0,-1===this.Ia||hb||(q[q.length]=[Keywords.Rm+" "+p,"overwrites "+this.Ia]),this.Ia=p,hb=!1,y=!0);break;default:q[q.length]=[f,"unknown or misspelt command"],y=!0}y||(w?q[q.length]=[f+" "+p,"argument out of range"]:this.be(c,q,f,"argument",Va))}""!==f&&(f=c.O())}m&&(q[q.length]=[Keywords.Zb+D,"unterminated string"]);Z&&this.gc&&(C=this.mk?Keywords.nk:this.re?Keywords.vn:Keywords.wn,q[q.length]=[C,"can not be used with Waypoints"],
this.re=this.mk=this.gc=!1);this.mk||!this.gc&&!this.re||(this.re&&(0<this.a.kf&&(za*=this.a.kf),A.sa=za),this.Zh=ma,this.ih=la,this.jh=ma,this.$h=la);if(Z||Y){this.D.add(A);A=this.D.Zl();Z?this.Tb=!0:-1!==this.Fj&&(this.ye=this.Fj,J=this.D.zb[this.Fj],J.qe&&(A.qe=J.qe,A.x=J.x),J.Zd&&(A.Zd=J.Zd,A.y=J.y),J.Jc&&(A.Jc=J.Jc,A.zoom=J.zoom),J.Bf&&(A.Bf=J.Bf,A.angle=J.angle),J.Ef&&(A.Ef=J.Ef,A.depth=J.depth),J.Rf&&(A.Rf=J.Rf,A.N=J.N),J.Wd&&(A.Wd=J.Wd,A.sb=J.sb),J.Hf&&(A.Hf=J.Hf,A.nb=J.nb),J.cg&&(A.cg=J.cg,
A.step=J.step),J.Vw&&(A.Vw=J.Vw,A.stop=J.stop),J.Tr&&(A.Tr=J.Tr,A.loop=J.loop));if(Z){for(ia=0;ia<this.D.la.length;ia+=1)A=this.D.la[ia],A.od&&(A.qe||A.Zd||A.Jc)&&(D="",A.qe?(D="X "+A.x,A.Zd?D=A.Jc?D+(", Y "+A.y+" and ZOOM "+A.zoom):D+(" and Y "+A.y):A.Jc&&(D+=" and ZOOM "+A.zoom)):A.Zd?(D="Y "+A.y,A.Jc&&(D+=" and ZOOM "+A.zoom)):A.Jc&&(D="ZOOM "+A.zoom),q[q.length]=[Keywords.Wn,"overwrites "+D]);A=this.D.Zl()}Y&&A.Ee===WaypointConstants.play&&this.Aa&&(this.se=!0)}A.od&&(this.lb=!0);A.qe&&(this.a.da=
this.a.width/2-A.x);A.Zd&&(this.a.aa=this.a.height/2-A.y);A.Jc&&(this.a.zoom=A.zoom);A.Bf&&(this.a.angle=A.angle);A.Ef&&(this.a.wc=A.depth/h.oi+h.ip);A.Rf&&(this.a.N=A.N);A.Wd&&(this.vk=A.sb);A.Hf&&(this.Ld=A.nb);A.cg&&(this.ha=A.step);A.ht&&this.h.notification.T(A.zd,1E3,!1);this.rb=A.rb;this.sa=A.sa;A.Jc&&(this.im=!0);A.qe&&(this.am=!0);A.Zd&&(this.fm=!0);A.Pj&&(this.a.mb=A.uc);A.Op&&(this.Eg=A.bj);for(ia=0;ia<b;ia+=1)-1!==this.vb[ia]&&(B+=1);if(0<B){this.Rn=!0;for(ia=0;ia<b;ia+=1)PatternManager.fk[ia]?
-1===this.vb[ia]?(this.Rn=!1,this.Ej[ia]=h.Uw):this.Ej[ia]=h.Tw:this.Ej[ia]=h.ct;this.Dk=this.Rn?"(custom)":this.Dk+" (custom*)"}else this.vb=[];this.hg&&(this.NB(),this.Sc&&(this.Sc.upper=this.a.me));2<b&&!this.a.Wb&&-1===this.a.g&&(this.$b=!0);this.$b&&(C="not possible due to "+Keywords.Dn,this.se&&(q[q.length]=[Keywords.Xn,C],this.se=!1),-1!==this.rb&&(q[q.length]=[Keywords.Hg+" "+this.rb,C]),-1!==this.sa&&(q[q.length]=[Keywords.rg+" "+this.sa,C]));0!==this.Ad&&this.Ie+h.ke+2*Math.abs(this.Ad)>=
this.a.W&&(q[q.length]=[Keywords.cq+" "+this.Ad,"pattern does not fit on grid at this offset"],this.Ad=0);0!==this.Bd&&this.qf+h.ke+2*Math.abs(this.Bd)>=this.a.W&&(q[q.length]=[Keywords.fq+" "+this.Bd,"pattern does not fit on grid at this offset"],this.Bd=0);this.gs=q.length}""!==this.tb&&(this.tb=this.Bh(this.tb));this.lb&&(this.Vn=!0);this.jb&&this.Pc&&(q[q.length]=[Keywords.Mo,"not valid with "+Keywords.np],this.jb=!1);var pa=0,ya=!1;-1!==this.fa&&(pa=h.ud,this.Jb&&(pa=h.vA),this.fa<pa||this.fa>
this.Ug)&&(q[q.length]=[Keywords.ul+" "+this.fa,"argument out of range"],ya=!0);-1!==this.ja&&(pa=h.Vk,this.Jb&&(pa=h.uA),this.ja<pa||this.ja>h.hp)&&(q[q.length]=[Keywords.Ok+" "+this.ja,"argument out of range"],ya=!0);this.Ae&&(-1!==this.wa&&(this.wa<h.ud||this.wa>this.Ug)&&(q[q.length]=[Keywords.Sm+" "+this.wa,"argument out of range"],this.wa=-1,ya=!0),-1!==this.Ia&&(this.Ia<h.Vk||this.Ia>h.hp)&&(q[q.length]=[Keywords.Rm+" "+this.Ia,"argument out of range"],this.Ia=-1,ya=!0));if(ya||q.length)-1!==
this.fa&&this.fa<h.ud&&(this.fa=h.ud),-1!==this.ja&&this.ja<h.Ph&&(this.ja=h.Ph),this.Jb=!1;this.u.l=this.Jb;this.h.Jb=this.Jb;this.h.Ni=this.Ni;this.Jb&&(this.jb=this.gh=this.ya=this.se=!1,this.tl([!1],!0,this),this.An([!1],!0,this),this.aq([!1],!0,this),this.hm=this.Ea=!1);this.Bm&&(this.element.style="display:none",this.element.parentNode&&this.element.parentNode.parentNode&&this.element.parentNode.parentNode.className===u.Do&&(this.element.parentNode.parentNode.style="display:none;"));this.D.eC()};
e.prototype.zA=function(){this.a.lo=!1;this.a.W=1<<h.kz;this.Fj=this.vk=-1;this.Ni=this.Bm=this.mp=this.Jb=!1;this.a.Fb=0;this.a.yb=0;this.a.Qb=1;this.Ea=this.Vn=this.lb=!1;this.vb=[];this.Fh=this.bf=null;this.jg=h.jg;this.a.ng=this.a.Nz;this.a.mg=this.a.Mz;this.a.lg=this.a.Lz;this.a.og=this.a.Oz;this.a.pg=this.a.Pz;this.ji=this.se=this.So=!1;this.sa=this.rb=-1;this.vf=this.hc=this.re=this.gc=this.mk=this.Tb=this.oc=this.$a=!1;this.ca=this.bp=2<this.a.g?63<=256-this.a.g?63:256-this.a.g:63;this.ze=
!1;this.a.fg=!1;this.a.Em=0};e.prototype.et=function(){this.gh?k(this.element):(this.F=this.In,this.B=this.lt,this.lb?(this.ya=!1,this.kg(!0,!1)):this.a.zoom=this.Jn,this.Ab&&(this.Ab.current=this.nh([this.a.zoom,this.a.zoom],!1,this)),this.Z=this.Hn,this.ya=!1,this.h.ya=!1,this.u.l=!1,this.h.notification.T("Shrink with hotkey N",100,!0),this.resize())};e.prototype.Ty=function(a){a.ya?a.et():a.Jb&&(a.Ni||a.Uq(a,!1))};e.prototype.resize=function(){this.Um&&(C.ys.Ds=this.xm-this.F,this.xm=this.F,this.Um=
!1);this.V.width=this.F;this.V.height=this.B;this.Xj.width=this.F;this.Xj.height=this.B;this.vd.textBaseline="middle";this.a.yw(this.F,this.B)};e.prototype.ft=function(){this.In=this.F;this.lt=this.B;this.Jn=this.a.zoom;this.Hn=this.Z;this.F=this.F/this.Ic|0;this.B=this.B/this.Ic|0;this.a.zoom=this.a.zoom/this.Ic;this.F&=-8;this.u.l=!0;this.h.ya=!0;this.h.Ic=this.Ic;this.ya=!0;this.resize()};e.prototype.Mn=function(){var a=this.a.g;a>this.Nh&&(a=this.Nh);this.cc.lower=[];this.cc.I=[];this.cc.width=
40*a;this.s.lower=[];this.s.I=[];this.s.current=[];this.s.width=40*a;this.s.Mc=1;for(a=0;a<this.Nh;a+=1){var b=a+this.bg;this.cc.lower[a]=String(b);b=0===b?"dead":1===b?"alive":"dying "+String(b-1);this.cc.I[a]=b;this.s.lower[a]="";this.s.I[a]=b;this.s.current[a]=!1}b=this.ef;0<b&&(b=this.a.g-b);this.cc.current=b-this.bg};e.prototype.kC=function(){var a=this.a.g;this.ef=1;this.bg=0;this.Ah.current=[this.Kn([!0],!0,this)];this.Nh=7+((this.F-h.ud)/40|0);this.a.Wb?(this.cc.lower="0123456".split(""),
this.cc.width=280,this.cc.I="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.cc.current=this.ef,this.s.lower="      ".split(" "),this.s.width=280,this.s.I="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.s.Mc=1,this.s.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.cc.lower=["0","1"],this.cc.width=80,this.cc.I=["dead","alive"],this.cc.current=this.ef,this.s.lower=["",""],this.s.width=80,this.s.I=["dead","alive"],this.s.Mc=1,this.s.current=[!1,!1]):(this.ef=a-1,a>this.Nh&&
(a=this.Nh),this.Mn(),this.cc.width=40*a,this.s.width=40*a,this.uk.current=this.On([0,0],!0,this));this.cc.setPosition(Menu.ib,-this.cc.width,40);this.s.setPosition(Menu.ib,-this.s.width,60)};e.prototype.bq=function(){this.ti=!1;this.Jo=0;this.Ag=!1;this.Vi=this.Ui=0;this.Lm=this.Xk=this.ps=this.Yf=this.Zf="";this.Nm=this.Sh=this.qf=this.Ie=0;this.xg="(none)";this.a.Eb=!1;this.a.Wb=!1;this.a.Hh=!1;this.a.R=!1;this.a.ba=!1;this.a.zc=PatternManager.pk;this.a.Od=!1;this.a.Te=-1;this.a.Km=!1;this.a.g=
-1;this.a.ia=-1;this.a.pa=!1;this.Aa=this.a.bD=!1};e.prototype.Vh=function(a,b){var c,d=!1;var e=0;this.Uo=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;this.Zg=[];this.lf=[];this.Sb=[];this.$g=[];this.Ca=[];this.fi=[];this.af=[];this.Ze=[];this.vh=this.j=0;this.He=[];this.ce=h.qp;this.gf=0;this.wh=-1;this.ff=[];this.xh=0;this.Lh=!1;this.Hi=0;this.tj=!1;this.Pi=h.Ng;this.Qi=-h.Ng;this.Oi=h.Ng;this.Ri=-h.Ng;this.h.notification.clear(!0,!0);this.h.notification.clear(!1,!0);if(a=PatternManager.create("",
a,this.a.i)){this.ti=PatternManager.ti;this.Jo=PatternManager.mr;this.Ag=PatternManager.Ag;this.Ui=PatternManager.xp;this.Vi=PatternManager.yp;this.eh=PatternManager.eh;this.dh=PatternManager.dh;this.Ie=a.width;this.qf=a.height;this.Xk=a.name;this.Lm=a.Yv;this.xg=a.xg;""===this.xg&&(this.xg="(none)");this.Sh=a.Ge;this.Nm=a.Hm;this.Zf=a.$;this.Yf=a.ee;this.ps=a.Zn;this.a.ub=a.ub;this.a.Ve=a.Ve;this.Aa=PatternManager.Aa;this.a.Wb=a.Db;this.a.Hh=a.Db;this.a.g=a.g;if(this.a.pa=a.pa)this.a.Vb.Cb=a.Wc,
this.a.Vb.Pp=a.xd,this.a.Vb.Fp=a.g,this.a.Vb.$B(a.Fe,a.mc),PatternManager.Dh?(this.a.Vb.Sn=a.xl,this.a.Vb.Tn=a.zl,this.a.Vb.Dh=!0):this.a.Vb.Dh=!1;this.a.Eb=a.Eb;this.a.Re=!0;this.a.R=a.R;this.a.Km=a.R;this.a.ba=a.ba;this.a.zc=a.zc;this.a.Od=a.Od;this.a.Te=a.Te;this.a.ia=a.wb;this.a.ma=a.pd;this.a.ra=a.jf;this.a.El=a.cm;this.a.Fl=a.Nk;this.a.Kq=a.qr;this.a.uu=a.Ro;this.Mm=new Uint32Array(this.Sh);for(c=0;c<this.Sh;c+=1)this.Mm[c]=PatternManager.fk[c]}else this.bq();this.ag=!0;this.jb=!1;this.Je=!0;
this.Yb=h.Ou;this.Pc=a?!1:!0;this.bm=!0;this.Ko=!1;this.Gb.l=this.a.R;this.m=PatternManager.m;this.a.va=!0;this.a.Wm=h.Nu;this.Bd=this.Ad=0;this.Ne=this.ye=-1;this.Hl=this.Cj=!1;this.Fg=this.Kf=this.u.locked=!1;this.a.Dz();this.a.Ez();this.a.Wb&&(this.a.Ny(),this.a.Qy());this.tb="";this.Eg=!1;ColourManager.Md();this.a.$n(!1);this.a.vc=this.a.Qo;this.a.ie=this.a.Po;this.a.kf=10;this.a.lz=10;this.a.Jh=!0;this.Ld=60;this.ha=1;this.a.N=1;this.a.wc=.1;this.a.angle=0;this.a.zoom=6;this.a.uB();this.a.da=
this.a.width/2;this.a.aa=this.a.height/2;this.fm=this.am=this.im=!1;this.Gj=this.fe=0;this.Ia=this.wa=this.ja=this.fa=-1;this.f[h.cf]=-1;this.f[h.Sg]=-1;this.f[h.mo]=-1;this.f[h.ig]=-1;this.f[h.Jl]=-1;this.f[h.Kl]=-1;this.f[h.Ll]=-1;this.f[h.vo]=-1;this.f[h.wo]=-1;this.f[h.no]=-1;this.f[h.so]=-1;this.f[h.ro]=-1;this.f[h.qo]=-1;this.f[h.to]=-1;this.f[h.uo]=-1;this.f[h.po]=-1;this.f[h.Ml]=-1;this.f[h.oo]=-1;this.f[h.Xq]=-1;this.f[h.Ql]=-1;this.f[h.Ol]=-1;this.f[h.Rl]=-1;this.f[h.Tl]=-1;this.f[h.Sl]=
-1;this.f[h.Pl]=-1;this.f[h.Il]=-1;this.f[h.Nl]=-1;this.Wl=h.tv;this.Gl=h.Un;this.Xl=h.iw;this.ya&&this.et();this.Yh=!1;this.h.ya=!1;this.Ic=h.Pu;this.gh=!1;this.wk=this.h.gD=!1;this.Xb=a?!1:!0;this.$b=!1;this.a.mb=!1;this.a.Fc=!1;this.ta.l=!1;this.Uj.l=!1;this.he.l=!1;this.Pa.l=!1;this.dc.l=!1;this.Vf.l=!1;this.xc.l=!1;this.Pb.l=!1;this.Sc.l=!1;this.u.l=!1;this.Ke.l=!1;this.Vf.current=[!1];this.he.current=[!1];this.Za=this.Z=0;this.Uj.current=this.Rt(h.zm,!0,this);this.wi.current=this.tn([this.Z],
!0,this);this.li=[96,96,96];this.a.Ck=this.a.qg?4284506208:1616929023;this.D.reset();this.Tb=!1;this.D.yy();this.hg=this.bs=this.Xf=this.hm=!1;this.a.Ff=!1;if(a){if(a.Eb)this.Xc=ColourManager.yo,this.Dk="(default)";else if(PatternManager.Lk||a.Db)a.Db?(this.Xc=ColourManager.Au("LifeHistory"),this.Xc[2]=96):this.Xc=ColourManager.Au(a.$),this.Xc.length?this.Dk=a.$:(this.Xc=ColourManager.yo,this.Dk="(default)");this.zA();a.title&&(this.qA(a.title,a.Ge),myRand.Md(this.eq),this.Sb.length&&(this.Za=1),
this.ya&&b&&(this.ya=!1),-1<this.fa&&(this.fa&=-8,this.fa!==this.F&&(this.F=this.fa,d=!0)),-1<this.ja&&this.ja!==this.B&&(this.B=this.ja,d=!0),this.Ae&&(-1<this.wa?(this.wa&=-8,this.wa!==this.F&&(this.F=this.wa,d=!0)):this.F=h.ud,this.F!==this.xm&&(this.Um=!0),-1<this.Ia?this.Ia!==this.B&&(this.B=this.Ia,d=!0):this.B=h.Ph+80));a.wf&&0===this.He.length&&(this.Aa=!1);this.kC();this.dB();this.Dx();this.a.bB();this.a.ca=this.ca;this.gh&&!this.jb&&(this.Pc=!0,this.jb=!1);this.a.fy(!this.Pc);if(a.width>
this.a.W||a.height>this.a.W)this.m="Pattern too big (maximum "+this.a.W+"x"+this.a.W+")",this.wf=!0,this.Aa=!1,this.bq();-1!==a.wb&&(a.pa&&(e=6*a.mc),a.rd&&(e=6*a.Lb),a.pd>=this.a.W-e||a.jf>=this.a.W-e)&&(this.m="Bounded grid is too big",this.Aa=!1,this.a.ia=-1);this.a.wC();this.tj&&(this.a.Fu(),this.iA());this.Xt=!1;if(-1!==this.a.ia){b=this.a.ma;var f=this.a.ra;0===b&&(b=a.width);0===f&&(f=a.height)}else b=a.width,f=a.height,0<this.He.length&&(b=this.Tx(b),f=this.Sx(f));e=h.ke;this.a.pa&&(e=4*this.a.Vb.yc+
1,-1!==this.a.ia&&(e+=2*this.a.Vb.yc),this.a.Vb.type===PatternManager.xf&&(e=-1!==this.a.ia?e+this.a.ra/2:e+(this.a.v.L-this.a.v.A+1)/2),e<h.ke&&(e=h.ke));c=this.a.W/2-e;this.Ag&&(this.Ui<-c?this.Ui=-c:this.Ui>=c&&(this.Ui=c-1),this.Vi<-c?this.Vi=-c:this.Vi>=c&&(this.Vi=c-1),this.Ad+=this.Ui,this.Bd+=this.Vi);this.Ad<-c?this.Ad=-c:this.Ad>=c&&(this.Ad=c-1);this.Bd<-c?this.Bd=-c:this.Bd>=c&&(this.Bd=c-1);for(;this.a.width<this.a.W&&(b+e+2*Math.abs(this.Ad)>=this.a.width||f+e+2*Math.abs(this.Bd)>=this.a.height);)this.a.sr(),
this.fe+=this.a.width>>2,this.Gj+=this.a.height>>2,this.ne+=this.a.width>>2,this.ck+=this.a.height>>2,this.a.R&&(this.fe-=this.a.height>>3,this.ne-=this.a.height>>3);a.pa&&this.a.Vb.resize(this.a.width,this.a.height);this.Ux(a.width,a.height);this.a.Wb&&PatternManager.fk[6]&&this.a.UA(a,this.Qd,this.Rd);this.bf?this.h.notification.ve="rgb("+this.bf[0]+","+this.bf[1]+","+this.bf[2]+")":this.h.notification.ve=this.h.notification.nw;if(0===this.vb.length)for(c=0;c<this.Xc.length;c+=1)this.Ej[c]=PatternManager.fk[c]?
h.Uw:h.ct;this.a.lc?(this.a.Ky(this.Xc,this.vb),this.a.Ff=!0):this.a.Ff=!1;this.Vx(a);this.Uc.pb=""!==this.Yf?this.Yf:this.Zf;this.Uc.I=this.Zf;""!==this.Yf&&(this.Uc.I+=" alias "+this.Yf)}this.a.Fu();-1!==this.vk?this.a.il(this.vk,1,this):this.hg?this.a.il(this.a.me,1,this):this.a.Wb?this.a.il(10,1,this):2<this.a.g?this.a.il(11,1,this):this.a.il(1,1,this);this.a.vb=this.vb;this.a.Eb?this.a.Hu(this.Xc,this.vb):this.a.Gu();this.a.Yc(1);this.a.PB();this.qc.current=this.tk([this.Yb,this.Yb],!1,this);
this.Tk.current=[this.Je];this.Mg.current=[this.lb];this.vi.current=[this.a.mb];this.elapsedTime=this.Wg=this.Ga=this.a.o=0;this.Xb?(a&&0<this.vb.length&&(this.Xc=this.vb),this.a.Hu(this.Xc,this.vb),this.a.Ud.reset(),this.Pc=!0,this.jb=!1):(this.a.Wb&&PatternManager.fk[2]&&this.a.Ey(a,this.Qd,this.Rd),this.a.uw(this.Fg),this.a.Cp(),2>=this.a.g&&this.a.vw(this.a.gb),this.Zj(),0<this.He.length&&(this.a.uw(this.Fg),this.a.Cp(),2>=this.a.g&&this.a.vw(this.a.gb)),this.a.wB(this.a.gb,this.a.oa),a&&0===
this.a.xa&&!this.Lh?(this.Jk=!0,this.a.Eb||(a.wf?this.h.notification.T("Pattern too big!",h.Go,!1):this.h.notification.T("Nothing alive!",300,!1))):this.Jk=!1,-1!==this.a.ia&&this.a.Ns(),this.a.LB(this.Xf),this.a.Ep(this.Xf));this.sc.width=9999<this.a.W?166:140;this.ui.locked=this.Pc;this.ui.current=[this.jb];this.th.current=[this.a.fg];this.yi.current=[this.a.R];this.yi.locked=this.a.ba;this.zi.current=[this.a.Re];this.zi.locked=this.a.ba;0===this.D.Dm()?(this.Bi.locked=!0,this.ag=!1):(this.Bi.locked=
!1,this.ag=!0);this.Bi.current=[this.ag];this.Rk.current=[this.Ea];this.ml.current=[this.Eg];this.Qk.current=[this.Kf];0===this.a.kf?(this.Mh.current=[!1],this.Mh.locked=!0):(this.Mh.current=[this.a.Jh],this.Mh.locked=!1);this.Pc||this.a.xw();a&&(a.le=null);e=this.a.zoom;c=this.a.da;b=this.a.aa;f=this.ya;this.ya=!1;this.kg(!0,!1);this.ya=f;this.im?this.a.zoom=e:!this.lb&&this.a.zoom>h.Dv&&(this.a.zoom=h.Dv);this.am&&(this.a.da=c);this.fm&&(this.a.aa=b);this.Tb&&this.Ex(this.Sb);this.ya&&this.wk&&
(this.a.zoom=this.mn);this.Qu=this.a.zoom;this.Ab.current=this.nh([this.a.zoom,this.a.zoom],!1,this);this.fe=this.a.da;this.Gj=this.a.aa;this.Fk=this.a.angle;this.Gb.current=[this.Fk,this.Fk];this.Ao=this.a.we;this.Sc.current=this.sk([this.Ao,""],!0,this);this.ar=this.Ld;e=Math.sqrt((this.ar-h.Ce)/(h.Gi-h.Ce));this.Pa.current=this.mh([e,e],!0,this);this.zo=this.ha;this.dc.current=this.mj([this.zo,this.zo],!0,this);this.Hk=this.a.N;this.xc.current=[this.Hk,this.Hk];this.$q=this.a.wc;e=Math.sqrt(this.$q);
this.Pb.current=this.ai([e,e],!0,this);this.a.va=!0;this.se&&!this.ji?(this.Gc=!0,this.ta.current=h.Ii):(this.Gc=!1,this.ta.current=h.ob);this.Lw(this.Gc);this.B<h.Ph?(this.Vf.l=!0,this.ta.x=this.Om+45,this.ta.sf=this.ta.x,this.Pa.x=this.lm+45,this.Pa.sf=this.Pa.x,this.dc.x=this.Zm+45):(this.ta.x=this.Om,this.ta.sf=this.ta.x,this.Pa.x=this.lm,this.Pa.sf=this.Pa.x,this.dc.x=this.Zm);this.dc.sf=this.dc.x;this.F>h.ud?(c=this.F-h.ud+h.jq,c>h.Bx&&(c=h.Bx),this.Ab.width=c,this.qc.width=c,c>h.GA&&(this.qc.pb=
"Opacity ")):(this.Ab.width=h.jq,this.qc.width=h.jq,this.qc.pb="Opac ");if(d||this.ya)this.ya?this.ft():this.resize();a||(PatternManager.wf?this.h.notification.T("Pattern too big!",h.Go,!1):this.h.notification.T("Invalid pattern!",h.Go,!1));this.Sb.length?this.Z=0:this.Za=0;this.Aa||(this.$b=!0);this.$b?(this.ta.l=!0,this.he.l=!0,this.Ke.l=!0,this.Pa.l=!0,this.dc.l=!0,this.Xb&&(this.xc.l=!0,this.Pb.l=!0,this.Sc.l=!0,this.a.N=1),this.Bc.l=!1,""===this.m?(this.Bc.pb=Keywords.Dn,this.Bc.Kd=h.Pk):(this.Bc.pb=
this.m,this.Bc.Kd=this.jg)):this.Bc.l=!0;this.Ht();this.je=!1;this.Xo="";this.Jw(this);this.Yl()?(this.Ob.pb="Density",this.Ob.I="cell density"):(this.Ob.pb="Births",this.Ob.I="cells born this generation");this.h.hh=!0;this.h.ah(!0);this.Ae&&this.Up&&(""===this.tb?this.Up.nodeValue="LifeViewer":this.Up.nodeValue=this.ry(this.tb));u.Ha?(d=this.Xk,""===d&&(d="Universe "+(this.Mb+1)),this.h.notification.T(d,120,!0),this.yh.l=!1,this.uh.l=!1):(this.yh.l=!0,this.uh.l=!0)};registerEvent(window,"load",I,
!1);window.DocConfig=u;window.Controller=C;window.ViewConstants=h;window.startAllViewers=I;window.updateViewer=k;window.updateMe=function(b){var c=a(b).getElementsByTagName(u.Yk)[0];b=C.nc[0];c.innerHTML=c.value;c=g(c);b[1].St(b[1]);b[1].h.notification.clear(!0,!0);b[1].h.notification.clear(!1,!0);b[1].Vh(c,!1)};window.hideViewer=b})();window.Help={Qs:0,lB:function(c,e,d,a,b,f,g,k,F,J){var I=k,u=!1,h=c.P;f&&(f.fillStyle===ViewConstants.gm&&(u=!0),h>=J&&h<=J+c.bc&&(f.font=ViewConstants.$l,u||(f.fillStyle=1<(c.Z|0)?ViewConstants.Pk:ViewConstants.No),f.fillText(e,g,k),u||(f.fillStyle=ViewConstants.Pk),f.fillText(d,g+f.measureText(e).width,k),u||(f.fillStyle=(c.Z|0)<c.Wk-c.bc?ViewConstants.Pk:ViewConstants.No),f.fillText(a,g+f.measureText(e+d).width,k),u||(f.fillStyle=ViewConstants.Pk),f.font=ViewConstants.lj,f.fillText(b,g+c.S[0],
k),I+=F));c.P+=1;return I},Hq:function(c){c/=1048576;return 10>c?String(c.toFixed(1)):String(c.toFixed(0))},Da:function(c,e,d,a,b,f,g,k,F){var J=c.P;b&&(k-=6,J>=F&&J<=F+c.bc&&(c=b.fillStyle,c!==ViewConstants.gm&&(b.fillStyle="rgb("+e+","+d+","+a+")"),b.fillRect(f,g-(k>>1)-1,k,k),b.fillStyle=c))},measureText:function(c,e,d,a){var b=a?c.wr:c.vr;b[c.P]?e=b[c.P]:(e.font=0===a?ViewConstants.$l:ViewConstants.lj,e=e.measureText(d).width,b[c.P]=e);return e},b:function(c,e,d,a,b,f,g,k){var F=f,J=String(d).indexOf("\t"),
I=c.P,u=0,h=!0;(I<k||I>k+c.bc)&&h&&(h=!1);if(e.length){h&&(a.font=ViewConstants.$l,a.fillText(e,b,f));e=this.measureText(c,a,e,0);e>c.S[u]&&(h&&(f+=g,F+=g),c.P+=1);h&&(a.font=ViewConstants.lj);for(;-1!==J;)h&&a.fillText(d.substr(0,J),b+c.S[u],f),u+=1,d=d.substr(J+1),J=d.indexOf("\t");J=!1;c.pe&&(e=this.measureText(c,a,d,1),b+c.S[u]+e+this.Qs>a.canvas.width&&(e=d.toLowerCase().indexOf("|"),-1===e&&(e=d.toLowerCase().indexOf("s"),-1===e&&(e=d.indexOf("/"),-1!==e&&(e+=1))),-1!==e&&(h&&(a.fillText(d.substr(0,
e),b+c.S[u],f),f+=g,F+=g,a.fillText("  "+d.substr(e),b+c.S[u],f)),c.P+=1,J=!0)));J||h&&a.fillText(d,b+c.S[u],f)}else a.font=ViewConstants.lj,h&&a.fillText(d,b,f);h&&(F+=g);c.P+=1;return F},Rb:function(c,e,d){for(var a=ColourManager.Xc,b=Object.keys(a),f="    "+c+"\t"+e+"\t"+d,g=!1,k,F=0;F<b.length&&!g;)k=a[b[F]],k[1]===c&&k[2]===e&&k[3]===d?(f+="\t"+k[0],g=!0,F=b.length):F+=1;return f},Sd:function(c){return this.Rb(c.red,c.green,c.blue)},iy:function(c){var e=0,d=0;c.a.va&&(e=c.a.v.M-c.a.v.G+1,d=c.a.v.L-
c.a.v.A+1);-1!==c.a.ia&&(0!==c.a.ma&&(e=c.a.ma),0!==c.a.ra&&(d=c.a.ra));return e+" x "+d},py:function(c){var e="AutoFit";c.Kf&&(e+=" History");c.Fg&&(e+=" State 1");return e},Zv:function(c,e){e-=c.length;for(var d="";0<e;)d+=" ",--e;return d+c},Oq:function(c){var e=c.indexOf(","),d=c.lastIndexOf(",");return[c.substring(4,e),c.substring(e+1,d),c.substring(d+1,c.length-1)]},tw:function(c,e,d,a,b,f){var g=a;switch(c.xi){case ViewConstants.bi:this.rB(c,e,d,a,b,f);break;case ViewConstants.qv:this.nB(c,
e,d,a,b,f);break;case ViewConstants.Ms:this.pB(c,e,d,a,b,f);break;case ViewConstants.jm:this.mB(c,e,d,a,b,f);break;case ViewConstants.$w:this.qB(c,e,d,a,b,f);break;case ViewConstants.Bu:this.iB(c,e,d,a,b,f);break;case ViewConstants.du:this.gB(c,e,d,a,b,f);break;case ViewConstants.Lv:this.oB(c,e,d,a,b,f);break;case ViewConstants.ju:this.hB(c,e,d,a,b,f)}c.Wk=c.P-1;c.P=1;c.S[0]=120;a=g+b*(c.bc+2);a=c.xi!==ViewConstants.bi?this.lB(c,"Up"," / ","Down","scroll help",e,d,a,b,0):a+b;c.Ae?this.b(c,"H","close help",
e,d,a,b,0):this.b(c,"H / Esc","close help",e,d,a,b,0)},rB:function(c,e,d,a,b,f){c.P=1;c.pe=!1;c.U=[];c.S[0]=108;c.U[0]=[c.P,"Top"];this.b(c,"",ViewConstants.nx+" build "+ViewConstants.Ot+" by "+ViewConstants.mx,e,d,a,b,f)},hB:function(c,e,d,a,b,f){var g,k=0;c.P=1;c.pe=!1;c.U=[];c.U[k]=[c.P,"Top"];k+=1;c.S[0]=128;c.S[1]=208;c.S[2]=288;c.S[3]=368;a=this.b(c,"","Annotations",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Labels"];k+=1;a=this.b(c,"","Labels:",e,d,a,b,f);a=this.b(c,"Number",c.D.sd.length,
e,d,a,b,f);for(g=0;g<c.D.sd.length;g+=1){var F="Label "+String(g+1);a=this.b(c,F,c.D.aA(g),e,d,a,b,f);a=this.b(c," ",c.D.bA(g),e,d,a,b,f);a=this.b(c," ",c.D.cA(g),e,d,a,b,f);F=this.Oq(c.D.dA(g));this.Da(c,F[0],F[1],F[2],e,d+c.S[0],a,b,f);a=this.b(c,"Colour",this.Rb(F[0],F[1],F[2]),e,d,a,b,f)}a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Arrows"];k+=1;a=this.b(c,"","Arrows:",e,d,a,b,f);a=this.b(c,"Number",c.D.nd.length,e,d,a,b,f);for(g=0;g<c.D.nd.length;g+=1)F="Arrow "+String(g+1),a=this.b(c,F,c.D.jy(g),
e,d,a,b,f),a=this.b(c," ",c.D.ky(g),e,d,a,b,f),a=this.b(c," ",c.D.ly(g),e,d,a,b,f),F=this.Oq(c.D.Un(g)),this.Da(c,F[0],F[1],F[2],e,d+c.S[0],a,b,f),a=this.b(c,"Colour",this.Rb(F[0],F[1],F[2]),e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Polygons"];a=this.b(c,"","Polygons:",e,d,a,b,f);a=this.b(c,"Number",c.D.wd.length,e,d,a,b,f);for(g=0;g<c.D.wd.length;g+=1)F="Polygon "+String(g+1),a=this.b(c,F,c.D.QA(g),e,d,a,b,f),a=this.b(c," ",c.D.RA(g),e,d,a,b,f),a=this.b(c," ",c.D.SA(g),e,d,a,b,f),F=this.Oq(c.D.TA(g)),
this.Da(c,F[0],F[1],F[2],e,d+c.S[0],a,b,f),a=this.b(c,"Colour",this.Rb(F[0],F[1],F[2]),e,d,a,b,f)},nB:function(c,e,d,a,b,f){var g,k=0;c.P=1;c.pe=!1;c.U=[];c.S[0]=124;c.U[k]=[c.P,"Top"];k+=1;a=this.b(c,"","Keyboard commands",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Playback"];k+=1;a=this.b(c,"","Playback controls:",e,d,a,b,f);c.Xb?a=this.b(c,"R","reset",e,d,a,b,f):(a=this.b(c,"Enter","toggle play / pause",e,d,a,b,f),a=this.b(c,"Space","pause / next generation",e,d,a,b,f),a=this.b(c,"B",
"pause / previous generation",e,d,a,b,f),a=this.b(c,"Tab","pause / next step",e,d,a,b,f),a=this.b(c,"Shift Tab","pause / previous step",e,d,a,b,f),a=c.Ae?this.b(c,"Esc","close LifeViewer",e,d,a,b,f):this.b(c,"Esc","pause if playing",e,d,a,b,f),a=this.b(c,"R","reset to generation 0",e,d,a,b,f),a=this.b(c,"-","decrease generation speed",e,d,a,b,f),a=this.b(c,"+","increase generation speed",e,d,a,b,f),a=this.b(c,"Shift -","minimum generation speed",e,d,a,b,f),a=this.b(c,"Shift +","maximum generation speed",
e,d,a,b,f),a=this.b(c,"D","decrease step size",e,d,a,b,f),a=this.b(c,"E","increase step size",e,d,a,b,f),a=this.b(c,"Shift D","minimum step size",e,d,a,b,f),a=this.b(c,"Shift E","maximum step size",e,d,a,b,f),a=this.b(c,"0","reset step and speed",e,d,a,b,f),c.Tb?-1!==c.sa?(a=this.b(c,"W","toggle waypoint playback and loop",e,d,a,b,f),a=this.b(c,"Shift P","toggle just loop",e,d,a,b,f)):a=this.b(c,"W","toggle waypoint playback",e,d,a,b,f):-1!==c.sa&&(a=this.b(c,"W","toggle loop",e,d,a,b,f)));a=this.b(c,
"","",e,d,a,b,f);c.U[k]=[c.P,"Multi"];k+=1;a=this.b(c,"","Multi-Viewer controls:",e,d,a,b,f);DocConfig.Ha&&(a=this.b(c,"Page Up","previous universe",e,d,a,b,f),a=this.b(c,"Page Down","next universe",e,d,a,b,f),a=this.b(c,"Home","first universe",e,d,a,b,f),a=this.b(c,"End","last universe",e,d,a,b,f));a=this.b(c,"Shift R","reset all LifeViewers to generation 0",e,d,a,b,f);a=this.b(c,"Z","stop playback in all other LifeViewers",e,d,a,b,f);a=this.b(c,"Shift Z","stop playback in all LifeViewers",e,d,a,
b,f);a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Camera"];k+=1;a=this.b(c,"","Camera controls:",e,d,a,b,f);if(c.B>=ViewConstants.Ph||(c.ya&&c.lt)>=ViewConstants.Ph)a=this.b(c,"M","toggle navigation menu",e,d,a,b,f);a=this.b(c,"V","restore saved camera position",e,d,a,b,f);a=this.b(c,"Shift V","save current camera position",e,d,a,b,f);var F=c.D.zb.length;if(0<F)for(a=this.b(c,"J","jump to next point of interest",e,d,a,b,f),a=this.b(c,"Shift J","jump to previous point of interest",e,d,a,b,f),9<F&&(F=9),
g=1;g<=F;g+=1)a=this.b(c,"Alt "+String(g),"jump to POI #"+String(g),e,d,a,b,f);a=this.b(c,"F","fit pattern to display",e,d,a,b,f);a=this.b(c,"Shift F","toggle autofit",e,d,a,b,f);a=this.b(c,"Shift H","toggle autofit history mode",e,d,a,b,f);c.a.Wb&&(a=this.b(c,"Shift S","toggle autofit state 1 mode",e,d,a,b,f));a=this.b(c,"[","zoom out",e,d,a,b,f);a=this.b(c,"]","zoom in",e,d,a,b,f);a=this.b(c,"Shift [","halve zoom",e,d,a,b,f);a=this.b(c,"Shift ]","double zoom",e,d,a,b,f);a=this.b(c,"1","1x zoom",
e,d,a,b,f);a=this.b(c,"2","2x zoom",e,d,a,b,f);a=this.b(c,"4","4x zoom",e,d,a,b,f);a=this.b(c,"8","8x zoom",e,d,a,b,f);a=this.b(c,"6","16x zoom",e,d,a,b,f);a=this.b(c,"3","32x zoom",e,d,a,b,f);a=this.b(c,"Shift 3","64x zoom",e,d,a,b,f);a=this.b(c,"Shift 1","integer zoom",e,d,a,b,f);a=this.b(c,"Shift 2","-2x zoom",e,d,a,b,f);a=this.b(c,"Shift 4","-4x zoom",e,d,a,b,f);a=this.b(c,"Shift 8","-8x zoom",e,d,a,b,f);a=this.b(c,"Shift 6","-16x zoom",e,d,a,b,f);a=this.b(c,"Left","pan left",e,d,a,b,f);a=this.b(c,
"Right","pan right",e,d,a,b,f);a=this.b(c,"Up","pan up",e,d,a,b,f);a=this.b(c,"Down","pan down",e,d,a,b,f);a=this.b(c,"Shift Left","pan north west",e,d,a,b,f);a=this.b(c,"Shift Right","pan south east",e,d,a,b,f);a=this.b(c,"Shift Up","pan north east",e,d,a,b,f);a=this.b(c,"Shift Down","pan south west",e,d,a,b,f);a=this.b(c,"<","rotate left",e,d,a,b,f);a=this.b(c,">","rotate right",e,d,a,b,f);a=this.b(c,"Shift <","rotate left 90 degrees",e,d,a,b,f);a=this.b(c,"Shift >","rotate right 90 degrees",e,
d,a,b,f);a=this.b(c,"5","reset angle",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.Xb||(c.U[k]=[c.P,"View"],k+=1,a=this.b(c,"","View controls:",e,d,a,b,f),a=this.b(c,"Q","increase number of layers",e,d,a,b,f),a=this.b(c,"A","decrease number of layers",e,d,a,b,f),a=this.b(c,"P","increase layer depth",e,d,a,b,f),a=this.b(c,"L","decrease layer depth",e,d,a,b,f),a=this.b(c,"C","next colour theme",e,d,a,b,f),a=this.b(c,"Shift C","previous colour theme",e,d,a,b,f),a=this.b(c,"Alt C","default theme",e,d,a,b,
f),a=this.b(c,"","",e,d,a,b,f));c.U[k]=[c.P,"Display"];k+=1;a=this.b(c,"","Display controls:",e,d,a,b,f);c.Xb||(a=this.b(c,"G","toggle generation statistics",e,d,a,b,f),a=this.b(c,"Shift G","toggle generation display mode",e,d,a,b,f),a=this.b(c,"Y","toggle population graph",e,d,a,b,f),a=this.b(c,"Shift Y","toggle graph lines",e,d,a,b,f),a=this.b(c,"7","decrease graph opacity",e,d,a,b,f),a=this.b(c,"9","increase graph opacity",e,d,a,b,f));a=this.b(c,"/","toggle hex view",e,d,a,b,f);a=this.b(c,"Shift /",
"pattern default view",e,d,a,b,f);a=this.b(c,"T","toggle timing information",e,d,a,b,f);a=this.b(c,"Shift T","toggle extended timing information",e,d,a,b,f);a=this.b(c,"I","toggle pattern and engine information",e,d,a,b,f);a=this.b(c,"Shift I","toggle information bar",e,d,a,b,f);a=this.b(c,"X","toggle grid lines",e,d,a,b,f);0<c.a.kf&&(a=this.b(c,"Shift X","toggle major grid lines",e,d,a,b,f));a=this.b(c,"Alt X","toggle cell borders",e,d,a,b,f);c.a.Wb&&(a=this.b(c,"Alt H","[R]History display on",e,
d,a,b,f),a=this.b(c,"Alt J","[R]History display off",e,d,a,b,f));0<c.D.Dm()&&(a=this.b(c,"Shift L","toggle annotation display",e,d,a,b,f));a=this.b(c,"Alt K","toggle kill escaping gliders",e,d,a,b,f);c.Yh&&(a=this.b(c,"N","toggle thumbnail view",e,d,a,b,f));a=this.b(c,"S","toggle stars",e,d,a,b,f);a=this.b(c,"O","open screenshot in separate window",e,d,a,b,f);a=this.b(c,"Shift O","open population graph in separate window",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Clipboard"];k+=1;a=this.b(c,
"","Clipboard controls:",e,d,a,b,f);a=this.b(c,"Ctrl+Shift C","copy original pattern",e,d,a,b,f);a=this.b(c,"Ctrl C","copy current pattern",e,d,a,b,f);a=this.b(c,"Ctrl+Alt C","copy current pattern with comments",e,d,a,b,f);a=this.b(c,"K","copy camera position",e,d,a,b,f);a=this.b(c,"Shift K","copy camera position and view",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Edit"];k+=1;a=this.b(c,"","Edit controls:",e,d,a,b,f);a=this.b(c,"F1","toggle draw/pan mode",e,d,a,b,f);a=this.b(c,"Shift F1",
"toggle smart drawing",e,d,a,b,f);a=this.b(c,"Ctrl Z","undo edit",e,d,a,b,f);a=this.b(c,"Ctrl+Shift Z","redo edit",e,d,a,b,f);a=this.b(c,"Ctrl S","save pattern",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Help"];a=this.b(c,"","Help controls:",e,d,a,b,f);a=this.b(c,"Up","scroll up one line",e,d,a,b,f);a=this.b(c,"Down","scroll down one line",e,d,a,b,f);a=this.b(c,"Page Up","scroll up one page",e,d,a,b,f);a=this.b(c,"Page Down","scroll down one page",e,d,a,b,f);a=this.b(c,"Shift Page Up","scroll up one section",
e,d,a,b,f);a=this.b(c,"Shift Page Down","scroll down one section",e,d,a,b,f);a=this.b(c,"Home","go to first help page",e,d,a,b,f);this.b(c,"End","go to last help page",e,d,a,b,f)},pB:function(c,e,d,a,b,f){var g=0;c.P=1;c.pe=!1;c.U=[];c.S[0]=252;c.U[g]=[c.P,"Top"];g+=1;a=this.b(c,"","Scripts",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);a=this.b(c,"","Scripts must be embedded in pattern comments",e,d,a,b,f);a=this.b(c,"","Commands must be surrounded by whitespace",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);
c.U[g]=[c.P,"Params"];g+=1;a=this.b(c,"","Parameter conventions:",e,d,a,b,f);a=this.b(c,"A|B","either A or B",e,d,a,b,f);a=this.b(c,"(A)","A is optional",e,d,a,b,f);a=this.b(c,"A*","zero or more A",e,d,a,b,f);a=this.b(c,"A+","one or more A",e,d,a,b,f);a=this.b(c,"<1..3>","integer range",e,d,a,b,f);a=this.b(c,"<1.0..3.0>","decimal range",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[g]=[c.P,"General"];g+=1;a=this.b(c,"","General:",e,d,a,b,f);a=this.b(c,Keywords.Xi,"start script section",e,d,a,b,f);a=
this.b(c,Keywords.hl,"end script section",e,d,a,b,f);a=this.b(c,Keywords.dt,"suppress overwrite warning",e,d,a,b,f);a=this.b(c,Keywords.Bs+" <string>","set random seed",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[g]=[c.P,"Playback"];g+=1;a=this.b(c,"","Playback:",e,d,a,b,f);a=this.b(c,Keywords.Xn+" ("+Keywords.Ka+")","start play automatically",e,d,a,b,f);a=this.b(c,Keywords.rg+" <1..>|"+Keywords.Ka,"loop at generation",e,d,a,b,f);a=this.b(c,Keywords.Hg+" <1..>|"+Keywords.Ka,"stop at generation",e,
d,a,b,f);a=this.b(c,Keywords.Oj+" <"+ViewConstants.Ce+".."+ViewConstants.Gi+">","set steps per second",e,d,a,b,f);a=this.b(c,Keywords.gk+" <"+ViewConstants.Tj+".."+ViewConstants.ke+">","set generations per step",e,d,a,b,f);a=this.b(c,Keywords.tr,"always use hard reset",e,d,a,b,f);a=this.b(c,Keywords.Dn,"disable playback",e,d,a,b,f);a=this.b(c,Keywords.$r,"disable step back",e,d,a,b,f);a=this.b(c,Keywords.ds,"disable stop messages",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[g]=[c.P,"Camera"];g+=1;
a=this.b(c,"","Camera:",e,d,a,b,f);a=this.b(c,Keywords.ii+" <0..359>","set camera angle",e,d,a,b,f);a=this.b(c,Keywords.ed+" <-"+(c.a.W>>1)+".."+(c.a.W>>1)+">","set camera x position",e,d,a,b,f);a=this.b(c,Keywords.fd+" <-"+(c.a.W>>1)+".."+(c.a.W>>1)+">","set camera y position",e,d,a,b,f);a=this.b(c,Keywords.pc+" <"+Number(-1/ViewConstants.Ya).toFixed(1)+".."+ViewConstants.Ib.toFixed(1)+">","set camera zoom",e,d,a,b,f);a=this.b(c,Keywords.zq,"same as "+Keywords.pc,e,d,a,b,f);a=this.b(c,Keywords.Wn+
" ("+Keywords.Ka+")","fit pattern to display",e,d,a,b,f);a=this.b(c,Keywords.Cr+" ("+Keywords.Ka+")","autofit uses pattern history",e,d,a,b,f);a=this.b(c,Keywords.bt+" ("+Keywords.Ka+")","autofit only uses state 1",e,d,a,b,f);a=this.b(c,Keywords.wn+" X Y","camera tracking",e,d,a,b,f);a=this.b(c," X ","horizontal speed cells/gen",e,d,a,b,f);a=this.b(c," Y ","vertical speed cells/gen",e,d,a,b,f);a=this.b(c,Keywords.nk+" E S W N","camera box tracking",e,d,a,b,f);a=this.b(c," E ","east edge speed cells/gen",
e,d,a,b,f);a=this.b(c," S ","south edge speed cells/gen",e,d,a,b,f);a=this.b(c," W ","west edge speed cells/gen",e,d,a,b,f);a=this.b(c," N ","north edge speed cells/gen",e,d,a,b,f);a=this.b(c,Keywords.vn+" P X Y","camera tracking with loop",e,d,a,b,f);a=this.b(c," P ","period",e,d,a,b,f);a=this.b(c," X ","horizontal speed cells/gen",e,d,a,b,f);a=this.b(c," Y ","vertical speed cells/gen",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[g]=[c.P,"Waypoints"];g+=1;a=this.b(c,"","Waypoints:",e,d,a,b,f);a=this.b(c,
Keywords.jn+" <0..>","waypoint at generation",e,d,a,b,f);a=this.b(c,Keywords.qs+" <0.0..>","pause for time",e,d,a,b,f);a=this.b(c,Keywords.mf+" "+Keywords.Xe+"|"+Keywords.ed+"|"+Keywords.fd+"|"+Keywords.pc,"linear motion",e,d,a,b,f);a=this.b(c,Keywords.eg+" "+Keywords.Xe+"|"+Keywords.ed+"|"+Keywords.fd+"|"+Keywords.pc,"bezier motion (default)",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[g]=[c.P,"POIs"];g+=1;a=this.b(c,"","Points of interest:",e,d,a,b,f);a=this.b(c,Keywords.vp,"define point of interest",
e,d,a,b,f);a=this.b(c,Keywords.up+" <0..>","start POI at generation",e,d,a,b,f);a=this.b(c,Keywords.Pm,"reset generation at POI",e,d,a,b,f);a=this.b(c,Keywords.cl,"start playback at POI",e,d,a,b,f);a=this.b(c,Keywords.dl,"stop playback at POI",e,d,a,b,f);a=this.b(c,Keywords.Qm+" <"+WaypointConstants.hw+".."+WaypointConstants.gw+">","set POI transition speed",e,d,a,b,f);a=this.b(c,"<command>|ALL "+Keywords.Xa,"use initial value for POI",e,d,a,b,f);a=this.b(c,Keywords.Zb+"<string>"+Keywords.Zb,"define message",
e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[g]=[c.P,"Annotations"];g+=1;a=this.b(c,"","Annotations:",e,d,a,b,f);a=this.b(c,Keywords.nm+" X Y ZOOM ("+Keywords.ad+")","define label at position",e,d,a,b,f);a=this.b(c," "+Keywords.Zb+"<string>"+Keywords.Zb,"... optionally fix position",e,d,a,b,f);a=this.b(c,Keywords.Lr+" <"+ViewConstants.Ov+".."+ViewConstants.Hv+">","define label font size",e,d,a,b,f);a=this.b(c,Keywords.Jr+" <0.0..1.0>","define label font alpha",e,d,a,b,f);a=this.b(c,Keywords.Mr+" <0..> <0..> <0..>",
"generation range / fade",e,d,a,b,f);a=this.b(c,Keywords.Kr+" <0..359>","label angle",e,d,a,b,f);a=this.b(c," ("+Keywords.ad+")","... optionally fix angle",e,d,a,b,f);a=this.b(c,Keywords.Nr+" X Y D|"+Keywords.Ka,"label target and distance",e,d,a,b,f);a=this.b(c,Keywords.Or+" DX DY|"+Keywords.ad,"label move per generation",e,d,a,b,f);a=this.b(c,Keywords.Al+" X1 Y1 X2 Y2 ZOOM","define arrow at position",e,d,a,b,f);a=this.b(c," ("+Keywords.ad+")","... optionally fix position",e,d,a,b,f);a=this.b(c,Keywords.Dq+
" <"+ViewConstants.kp+".."+ViewConstants.ep+"> <0.0..1.0>","line width and head multiple",e,d,a,b,f);a=this.b(c,Keywords.Bq+" <0.0..1.0>","define arrow alpha",e,d,a,b,f);a=this.b(c,Keywords.Eq+" <0..> <0..> <0..>","generation range / fade",e,d,a,b,f);a=this.b(c,Keywords.Cq+" <0..359>","arrow angle",e,d,a,b,f);a=this.b(c," ("+Keywords.ad+")","... optionally fix angle",e,d,a,b,f);a=this.b(c,Keywords.Fq+" X Y D|"+Keywords.Ka,"arrow target and distance",e,d,a,b,f);a=this.b(c,Keywords.Gq+" DX DY|"+Keywords.ad,
"arrow move per generation",e,d,a,b,f);a=this.b(c,Keywords.us+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",e,d,a,b,f);a=this.b(c," ("+Keywords.ad+")","... optionally fix position",e,d,a,b,f);a=this.b(c,Keywords.wp+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",e,d,a,b,f);a=this.b(c," ("+Keywords.ad+")","... optionally fix position",e,d,a,b,f);a=this.b(c,Keywords.vs+" <"+ViewConstants.kp+".."+ViewConstants.ep+">","line width",e,d,a,b,f);a=this.b(c,Keywords.ss+" <0.0..1.0>","define polygon alpha",
e,d,a,b,f);a=this.b(c,Keywords.ws+" <0..> <0..> <0..>","generation range / fade",e,d,a,b,f);a=this.b(c,Keywords.ts+" <0..359>","polygon angle",e,d,a,b,f);a=this.b(c," ("+Keywords.ad+")","... optionally fix angle",e,d,a,b,f);a=this.b(c,Keywords.xs+" X Y D|"+Keywords.Ka,"polygon target and distance",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[g]=[c.P,"Display"];g+=1;a=this.b(c,"","Display:",e,d,a,b,f);a=this.b(c,Keywords.ul+" <"+ViewConstants.ud+".."+c.Ug+">","set LifeViewer width",e,d,a,b,f);a=this.b(c,
Keywords.Ok+" <"+ViewConstants.Vk+".."+ViewConstants.hp+">","set LifeViewer height",e,d,a,b,f);a=this.b(c,Keywords.Sm+" <"+ViewConstants.ud+".."+c.Ug+">","set popup width",e,d,a,b,f);a=this.b(c,Keywords.Rm+" <"+ViewConstants.Vk+".."+ViewConstants.hp+">","set popup height",e,d,a,b,f);a=this.b(c,Keywords.ql+" "+Keywords.Zb+"<string>"+Keywords.Zb,"set popup window title",e,d,a,b,f);a=this.b(c," "+Keywords.Se+"B","program build number",e,d,a,b,f);a=this.b(c," "+Keywords.Se+"N","pattern name",e,d,a,b,
f);a=this.b(c," "+Keywords.Se+"O","pattern originator",e,d,a,b,f);a=this.b(c," "+Keywords.Se+"R","rule name",e,d,a,b,f);a=this.b(c," "+Keywords.Se+"A","rule alias",e,d,a,b,f);a=this.b(c," "+Keywords.Se+"T","program title",e,d,a,b,f);a=this.b(c," "+Keywords.Se+Keywords.Se,Keywords.Se+" symbol",e,d,a,b,f);a=this.b(c,Keywords.Sj+" <"+ViewConstants.jp+".."+ViewConstants.cp+">","set number of layers",e,d,a,b,f);a=this.b(c,Keywords.Hj+" <"+ViewConstants.ip.toFixed(1)+".."+ViewConstants.Fv.toFixed(1)+">",
"set layer depth",e,d,a,b,f);a=this.b(c,Keywords.em+" ("+Keywords.Ka+")","display grid lines",e,d,a,b,f);a=this.b(c,Keywords.dm+" <0..16>","set major grid line interval",e,d,a,b,f);a=this.b(c,Keywords.To+" <0.."+(2<c.a.g?1:63)+">","number of history states",e,d,a,b,f);a=this.b(c,Keywords.hn+" ("+Keywords.Ka+")","display stars",e,d,a,b,f);a=this.b(c,Keywords.yr,"force hex display",e,d,a,b,f);a=this.b(c,Keywords.Xs,"force square display",e,d,a,b,f);a=this.b(c,Keywords.xr,"hexagonal cells for hex",e,
d,a,b,f);a=this.b(c,Keywords.Ws,"square cells for hex",e,d,a,b,f);a=this.b(c,Keywords.Zr,"disable menus and hotkeys",e,d,a,b,f);a=this.b(c,Keywords.jv,"hide menus during playback",e,d,a,b,f);a=this.b(c,Keywords.Ts,"show timing information",e,d,a,b,f);a=this.b(c,Keywords.kr,"extended timing information",e,d,a,b,f);a=this.b(c,Keywords.Rs,"show generation statistics",e,d,a,b,f);a=this.b(c,Keywords.Ss,"show information bar",e,d,a,b,f);a=this.b(c,Keywords.cs,"hide performance warning",e,d,a,b,f);a=this.b(c,
"","",e,d,a,b,f);c.U[g]=[c.P,"Thumb"];g+=1;a=this.b(c,"","Thumbnails:",e,d,a,b,f);a=this.b(c,Keywords.ot+" ("+Keywords.Ka+")","start at 1/"+c.Ic+" size",e,d,a,b,f);a=this.b(c,Keywords.mt+" <"+ViewConstants.Qv+".."+ViewConstants.Kv+">","set thumbnail divisor",e,d,a,b,f);a=this.b(c,Keywords.kt+" ("+Keywords.Ka+")","thumbnail launches viewer",e,d,a,b,f);a=this.b(c,Keywords.nt+" <"+Number(-1/ViewConstants.Ya).toFixed(1)+".."+ViewConstants.Ib.toFixed(1)+">","set thumbnail zoom",e,d,a,b,f);a=this.b(c,"",
"",e,d,a,b,f);c.U[g]=[c.P,"Graph"];g+=1;a=this.b(c,"","Population Graph:",e,d,a,b,f);a=this.b(c,Keywords.Mo,"display population graph",e,d,a,b,f);a=this.b(c,Keywords.nr+" <0.0..1.0>","population graph opacity",e,d,a,b,f);a=this.b(c,Keywords.pr,"population graph use points",e,d,a,b,f);a=this.b(c,Keywords.np,"disable population graph",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[g]=[c.P,"Colours"];g+=1;a=this.b(c,"","Colours:",e,d,a,b,f);a=this.b(c,Keywords.Xh+" <0.."+(c.a.me-1)+">|<name>","set theme",
e,d,a,b,f);a=this.b(c," <name> = "+Keywords.pl,"set custom theme",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Rp+" R G B","set theme background",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Qp+" R G B","set theme alive color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.it+" R G B","set theme alive ramp",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Tp+" R G B","set theme dead color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Sp+" R G B","set theme dead ramp",e,d,a,b,f);a=this.b(c,Keywords.ua+
" "+Keywords.ru+" R G B","set boundary color",e,d,a,b,f);a=this.b(c,Keywords.ua+" <0.."+String(c.Sh-1)+"> R G B","set state color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Uv+" R G B","set [R]History state color "+ViewConstants.Vv,e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Wv+" R G B","set [R]History state color "+ViewConstants.Xv,e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.kv+" R G B","set [R]History state color "+ViewConstants.lv,e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.xv+" R G B",
"set [R]History state color "+ViewConstants.yv,e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Bv+" R G B","set [R]History state color "+ViewConstants.Cv,e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.zv+" R G B","set [R]History state color "+ViewConstants.Av,e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.rv+" R G B","set [R]History state color "+ViewConstants.sv,e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.em+" R G B","set grid color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.dm+" R G B","set grid major color",
e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.hn+" R G B","set star color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.gt+" R G B","set waypoint message color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.jr+" R G B","set error message color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.av+" R G B","set graph background color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.$u+" R G B","set graph axis color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Zu+" R G B","set graph alive color",
e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.bv+" R G B","set graph birth color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.cv+" R G B","set graph death color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.nm+" R G B","set label text color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.Al+" R G B","set arrow line color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.lw+" R G B","set polygon color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.gx+" R G B","set UI foreground color",e,d,a,b,
f);a=this.b(c,Keywords.ua+" "+Keywords.ex+" R G B","set UI background color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.hx+" R G B","set UI highlight text color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.jx+" R G B","set UI selected color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.ix+" R G B","set UI locked color",e,d,a,b,f);a=this.b(c,Keywords.ua+" "+Keywords.fx+" R G B","set UI border color",e,d,a,b,f);a=this.b(c,Keywords.Pq,"same as "+Keywords.ua,e,d,a,b,f);a=this.b(c,"","",e,d,a,
b,f);c.U[g]=[c.P,"Pattern"];a=this.b(c,"","Pattern:",e,d,a,b,f);a=this.b(c,Keywords.cq+" <-"+(c.a.W>>1)+".."+(c.a.W>>1)+">","set pattern x offset",e,d,a,b,f);a=this.b(c,Keywords.fq+" <-"+(c.a.W>>1)+".."+(c.a.W>>1)+">","set pattern y offset",e,d,a,b,f);a=this.b(c,Keywords.br+" <"+ViewConstants.Mv+".."+ViewConstants.Ev+">","set boundary delete range",e,d,a,b,f);a=this.b(c,Keywords.Yr,"disable pattern source copy",e,d,a,b,f);a=this.b(c,Keywords.es,"hide pattern source",e,d,a,b,f);a=this.b(c,Keywords.Ur+
" <"+ViewConstants.Nv+".."+ViewConstants.Gv+">","set maximum grid size 2^n",e,d,a,b,f);a=this.b(c,Keywords.el+" name X Y (<1..>)+","create a named recipe",e,d,a,b,f);a=this.b(c,Keywords.ak+" name rle","create a named rle",e,d,a,b,f);a=this.b(c," (X Y) (TRANS)","... X Y and transformation",e,d,a,b,f);a=this.b(c," "+Keywords.At,"identity",e,d,a,b,f);a=this.b(c," "+Keywords.xt,"flip",e,d,a,b,f);a=this.b(c," "+Keywords.yt,"flip X",e,d,a,b,f);a=this.b(c," "+Keywords.zt,"flip Y",e,d,a,b,f);a=this.b(c," "+
Keywords.Dt,"swap X and Y",e,d,a,b,f);a=this.b(c," "+Keywords.Et,"swap X and Y and flip",e,d,a,b,f);a=this.b(c," "+Keywords.Ct,"rotate clockwise",e,d,a,b,f);a=this.b(c," "+Keywords.Bt,"rotate counter-clockwise",e,d,a,b,f);a=this.b(c,Keywords.sp+" name|rle (X Y)","paste rle at optional X Y",e,d,a,b,f);a=this.b(c," (TRANS)","... optional transformation",e,d,a,b,f);a=this.b(c,Keywords.rp+" <0..>","set paste generation",e,d,a,b,f);a=this.b(c,"(recipe|<1..>+)*","... optional delta list",e,d,a,b,f);a=this.b(c,
Keywords.rp+" "+Keywords.Ho+" <1..>","set paste interval",e,d,a,b,f);a=this.b(c," (<0..> (<1..>))","... optional start and end",e,d,a,b,f);a=this.b(c,Keywords.ns+" "+Keywords.ms+"|"+Keywords.ks+"|"+Keywords.os+"|"+Keywords.js+"|"+Keywords.ls,"set the paste mode",e,d,a,b,f);this.b(c,Keywords.Ir,"suppress escaping gliders",e,d,a,b,f)},mB:function(c,e,d,a,b,f){var g,k=Controller.nc.length,F=c.Xc,J=c.a.La[c.a.we];var I="";var u=0;c.P=1;c.pe=!1;c.U=[];c.S[0]=128;c.U[u]=[c.P,"Top"];u+=1;a=this.b(c,"","Information",
e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Display"];u+=1;a=this.b(c,"","Display:",e,d,a,b,f);a=this.b(c,"Size",c.F+" x "+c.B,e,d,a,b,f);DocConfig.tm&&(a=this.b(c,"Limit Width",c.Ug,e,d,a,b,f));var h=c.a.na;1>h&&(h=-1/h);a=this.b(c,"View","X "+-(c.a.width/2-(c.a.da+c.a.Fb)|0)+"  Y "+-(c.a.height/2-(c.a.aa+c.a.yb)|0)+"  Z "+h.toFixed(2)+"  ANGLE "+c.a.angle.toFixed(0),e,d,a,b,f);h=c.gl;1>h&&(h=1/h);a=this.b(c,"Saved View","X "+-(c.a.width/2-c.ne|0)+"  Y "+-(c.a.height/2-c.ck|0)+"  Z "+h.toFixed(2)+
"  ANGLE "+c.Ks.toFixed(0),e,d,a,b,f);a=this.b(c,"Origin","X "+c.a.Fb.toFixed(2)+"  Y "+c.a.yb.toFixed(2)+"  Z "+c.a.Qb.toFixed(3),e,d,a,b,f);c.$b?I=c.Xb?"Multi-State Viewer":"Viewer":c.a.Wb&&(I="History Player");a=this.b(c,"Type",I,e,d,a,b,f);I=c.a.R?"Hexagonal":c.a.ba?"Triangular":"Square";a=this.b(c,"Mode",I,e,d,a,b,f);I=c.a.R&&c.a.Re?"Hexagonal":c.a.ba?"Triangular":"Square";a=this.b(c,"Cells",I,e,d,a,b,f);c.Yh&&(a=this.b(c,"Thumbnail","1/"+c.Ic,e,d,a,b,f));a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,
"Pattern"];u+=1;a=this.b(c,"","Pattern:",e,d,a,b,f);""!==c.Xk&&(a=this.b(c,"Name",c.Xk,e,d,a,b,f));""!==c.Lm&&(a=this.b(c,"Originator",c.Lm,e,d,a,b,f));a=this.b(c,"Actual Size",c.Ie+" x "+c.qf,e,d,a,b,f);-1!==c.eh&&-1!==c.dh&&(a=this.b(c,"Specified",c.eh+" x "+c.dh,e,d,a,b,f));0<c.He.length&&(a=this.b(c,"Pastes",c.He.length,e,d,a,b,f),a=this.b(c,"Paste Size",c.Qi-c.Pi+1+" x "+(c.Ri-c.Oi+1)+" from ("+c.Pi+", "+c.Oi+") to ("+c.Qi+", "+c.Ri+")",e,d,a,b,f),a=this.b(c,"Paste Max T",c.Hi+(c.Lh?" + "+Keywords.Ho:
""),e,d,a,b,f));0<c.$g.length&&(a=this.b(c,"RLEs",c.$g.length,e,d,a,b,f));0<c.Zg.length&&(a=this.b(c,"Recipes",c.Zg.length,e,d,a,b,f));a=this.b(c,"Offset","X "+c.Ad+"  Y "+c.Bd,e,d,a,b,f);c.ti&&(a=this.b(c,"CXRLE Gen",c.Jo,e,d,a,b,f));c.Ag&&(a=this.b(c,"CXRLE Pos","X "+c.Ui+"  Y "+c.Vi,e,d,a,b,f));c.Xt&&(a=this.b(c,"Clipped",(0===c.a.ma?"Inf":c.a.ma)+" x "+(0===c.a.ra?"Inf":c.a.ra)+" "+PatternManager.su(c.a.ia),e,d,a,b,f));c.Aa?I=c.Zf:(I=c.Zf,""===I&&(I="(none)"));if("MAP"===I.substr(0,3)&&I.length===
PatternManager.Uk+3)for(a=this.b(c,"Rule","MAP",e,d,a,b,f),h=3;h<PatternManager.Uk+3;)a=this.b(c,"  "+(h-3),I.substr(h,16),e,d,a,b,f),h+=16;else c.pe=!0,a=this.b(c,"Rule",I,e,d,a,b,f),c.pe=!1;""!==c.Yf&&(a=this.b(c,"Alias",c.Yf,e,d,a,b,f));-1!==c.a.Te?I="1D":c.a.Km?I="Hex":c.a.pa?(I=c.a.Vb.type===PatternManager.nf?"Moore":c.a.Vb.type===PatternManager.xf?"von Neumann":"Circular",1<c.a.Vb.yc&&(I+=" range "+c.a.Vb.yc)):c.a.ba?(I="Triangular",c.a.zc===PatternManager.rl?I+=" Edges":c.a.zc===PatternManager.sl&&
(I+=" Vertices")):I=c.a.Od?"von Neumann":"Moore";a=this.b(c,"N'hood",I,e,d,a,b,f);I=c.Sh;2<c.Sh&&c.Nm!==c.Sh&&(I=c.Nm+" of "+I);a=this.b(c,"States",I,e,d,a,b,f);if(c.Mm)for(g=1;g<c.Sh;g+=1)c.Mm[g]&&(a=this.b(c,"State "+g,c.Mm[g],e,d,a,b,f));a=this.b(c,"Decoder",c.xg,e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Grid"];u+=1;a=this.b(c,"","Grid:",e,d,a,b,f);a=this.b(c,"Size",c.a.width+" x "+c.a.height,e,d,a,b,f);a=this.b(c,"Maximum",c.a.W+" x "+c.a.W,e,d,a,b,f);a=this.b(c,"Area",this.iy(c),e,
d,a,b,f);a=0!==(c.a.o&1)?this.b(c,"Tiles",c.a.pn(c.a.Ja)+" / "+c.a.pn(c.a.Va),e,d,a,b,f):this.b(c,"Tiles",c.a.pn(c.a.qa)+" / "+c.a.pn(c.a.Va),e,d,a,b,f);c.a.oe&&(a=this.b(c,"State6",c.a.pn(c.a.oe),e,d,a,b,f));a=this.b(c,"Tile Size",(c.a.qn<<3)+" x "+c.a.rn,e,d,a,b,f);a=this.b(c,"Generation",c.a.o,e,d,a,b,f);a=this.b(c,"DeleteRange",c.a.Wm,e,d,a,b,f);c.a.fg&&(a=this.b(c,"KillGliders",c.a.Em,e,d,a,b,f));a=this.b(c,"","",e,d,a,b,f);-1!==c.a.ia&&(c.U[u]=[c.P,"Bounded"],u+=1,a=this.b(c,"","Bounded grid:",
e,d,a,b,f),a=this.b(c,"Type",PatternManager.su(c.a.ia),e,d,a,b,f),a=0===c.a.ma?this.b(c,"Width","Infinite",e,d,a,b,f):this.b(c,"Width",c.a.ma,e,d,a,b,f),4!==c.a.ia&&(a=0===c.a.ra?this.b(c,"Height","Infinite",e,d,a,b,f):this.b(c,"Height",c.a.ra,e,d,a,b,f),2===c.a.ia&&(a=c.a.Kq?this.b(c,"Twist","Horizontal",e,d,a,b,f):this.b(c,"Twist","Vertical",e,d,a,b,f)),0!==c.a.El&&(a=this.b(c,"H'Shift",c.a.El,e,d,a,b,f)),0!==c.a.Fl&&(a=this.b(c,"V'Shift",c.a.Fl,e,d,a,b,f))),a=this.b(c,"","",e,d,a,b,f));c.U[u]=
[c.P,"AutoFit"];u+=1;a=this.b(c,"","AutoFit:",e,d,a,b,f);a=this.b(c,"Enabled",c.lb?"On":"Off",e,d,a,b,f);a=this.b(c,"Mode",this.py(c),e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Track"];u+=1;a=this.b(c,"","Track:",e,d,a,b,f);a=this.b(c,"Enabled",c.gc&&!c.hc?"On":"Off",e,d,a,b,f);c.gc&&(c.mk?(a=this.b(c,"Mode","Track Box",e,d,a,b,f),a=this.b(c,"Definition","E "+c.ih.toFixed(3)+"  S "+c.jh.toFixed(3)+"  W "+c.$h.toFixed(3)+"  N "+c.Zh.toFixed(3),e,d,a,b,f)):(a=this.b(c,"Mode","Track",e,d,a,
b,f),a=this.b(c,"Definition","X "+c.ih.toFixed(3)+"  Y "+c.jh.toFixed(3),e,d,a,b,f)));a=this.b(c,"Current","E "+c.ho.toFixed(3)+"  S "+c.jo.toFixed(3)+"  W "+c.ko.toFixed(3)+"  N "+c.io.toFixed(3),e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Snapshots"];u+=1;a=this.b(c,"","Step back:",e,d,a,b,f);a=this.b(c,"Enabled",c.Xf?"Off":"On",e,d,a,b,f);if(!c.Xf){a=this.b(c,"Snapshots",c.a.Ud.EC()+"/"+c.a.Ud.Cf.length,e,d,a,b,f);g=0;h=c.a.Ud.Le.length;if(0<h)for(a=this.b(c,"Reset Gens",h,e,d,a,b,f);g<
h;)a=this.b(c,String(g),c.a.Ud.Le[g].o,e,d,a,b,f),g+=1;a=this.b(c,"Buffer",(c.a.Ud.bufferSize()>>10)+"K",e,d,a,b,f);a=this.b(c,"Next Gen",c.a.Vj,e,d,a,b,f)}a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Engine"];u+=1;a=this.b(c,"","Engine:",e,d,a,b,f);a=this.b(c,"Name",ViewConstants.nx,e,d,a,b,f);a=this.b(c,"Build",ViewConstants.Ot,e,d,a,b,f);a=this.b(c,"Author",ViewConstants.mx,e,d,a,b,f);a=this.b(c,"Decoders","RLE, Life 1.06, Life 1.05, Cells",e,d,a,b,f);a=this.b(c,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",
e,d,a,b,f);a=this.b(c,"Rules","Wolfram, Totalistic, Generations,",e,d,a,b,f);a=this.b(c," ","Isotropic Non-Totalistic (Hensel, Callahan),",e,d,a,b,f);a=this.b(c," ","Alternating, MAP, Larger than Life (LtL),",e,d,a,b,f);a=this.b(c," ","Higher-range outer-totalistic (HROT)",e,d,a,b,f);a=this.b(c,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",e,d,a,b,f);a=this.b(c,"States","2 state, [R]History, Niemiec, Generations",e,d,a,b,f);a=this.b(c,"Viewers",k,e,d,a,b,f);a=this.b(c,"Playing",Controller.KC(),
e,d,a,b,f);if(DocConfig.Ha){h=Controller.Hc.length;a=this.b(c,"Universe","Multi ("+(c.Mb+1)+" of "+h+")",e,d,a,b,f);c.pe=!0;for(g=0;g<h;g+=1)a=this.b(c,String(g+1)+(g===c.Mb?"*":""),Controller.Hc[g].name,e,d,a,b,f),a=this.b(c," ",Controller.Hc[g].BB,e,d,a,b,f),a=this.b(c," ",Controller.Hc[g].width+" x "+Controller.Hc[g].height,e,d,a,b,f);c.pe=!1}else a=this.b(c,"Universe","Single",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.S[1]=210;c.S[2]=270;c.S[3]=330;if(c.Xb)for(c.U[u]=[c.P,"Colours"],u+=1,a=this.b(c,
"","Set:",e,d,a,b,f),a=this.b(c,"Name",c.Dk,e,d,a,b,f),a=this.b(c,"Used",c.Nm,e,d,a,b,f),g=0;g<c.Ej.length;g+=1)c.Ej[g]!==ViewConstants.ct&&(k=this.Rb(F[g]>>16&255,F[g]>>8&255,F[g]&255),I=String(g),c.Ej[g]!==ViewConstants.Tw||c.Rn||(I+="*"),this.Da(c,F[g]>>16,F[g]>>8&255,F[g]&255,e,d+c.S[0],a,b,f),a=this.b(c,I,k,e,d,a,b,f));else{c.U[u]=[c.P,"Theme"];u+=1;a=this.b(c,"","Theme:",e,d,a,b,f);a=this.b(c,"Name",c.a.La[c.a.we].name,e,d,a,b,f);a=this.b(c,"History",c.ca,e,d,a,b,f);this.Da(c,c.a.Ra[0],c.a.Qa[0],
c.a.Na[0],e,d+c.S[0],a,b,f);a=this.b(c,"Background",this.Rb(c.a.Ra[0],c.a.Qa[0],c.a.Na[0]),e,d,a,b,f);if(c.a.Eb)for(g=1;g<c.a.g;g+=1)this.Da(c,c.a.Ra[g],c.a.Qa[g],c.a.Na[g],e,d+c.S[0],a,b,f),a=this.b(c,"State "+g,this.Rb(c.a.Ra[g],c.a.Qa[g],c.a.Na[g]),e,d,a,b,f);else if(2<c.a.g){I=c.a.g+c.ca-1;this.Da(c,c.a.Ra[I],c.a.Qa[I],c.a.Na[I],e,d+c.S[0],a,b,f);a=this.b(c,"Alive",this.Rb(c.a.Ra[I],c.a.Qa[I],c.a.Na[I]),e,d,a,b,f);for(g=1;g<c.a.g-1;g+=1)I=c.a.g-g+c.ca-1,this.Da(c,c.a.Ra[I],c.a.Qa[I],c.a.Na[I],
e,d+c.S[0],a,b,f),a=this.b(c,"Dying "+g,this.Rb(c.a.Ra[I],c.a.Qa[I],c.a.Na[I]),e,d,a,b,f);0<c.ca&&(I=c.ca,this.Da(c,c.a.Ra[I],c.a.Qa[I],c.a.Na[I],e,d+c.S[0],a,b,f),a=this.b(c,"Dead",this.Rb(c.a.Ra[I],c.a.Qa[I],c.a.Na[I]),e,d,a,b,f),1<c.ca&&(I=1,this.Da(c,c.a.Ra[I],c.a.Qa[I],c.a.Na[I],e,d+c.S[0],a,b,f),a=this.b(c,"DeadRamp",this.Rb(c.a.Ra[I],c.a.Qa[I],c.a.Na[I]),e,d,a,b,f)))}else this.Da(c,J.Ba.H.red,J.Ba.H.green,J.Ba.H.blue,e,d+c.S[0],a,b,f),a=this.b(c,"Alive",this.Sd(J.Ba.H),e,d,a,b,f),J.Ba.H.red!==
J.Ba.J.red||J.Ba.H.green!==J.Ba.J.green||J.Ba.H.blue!==J.Ba.J.blue?(this.Da(c,J.Ba.J.red,J.Ba.J.green,J.Ba.J.blue,e,d+c.S[0],a,b,f),a=this.b(c,"AliveRamp",this.Sd(J.Ba.J),e,d,a,b,f)):a=this.b(c,"AliveRamp","    (none)",e,d,a,b,f),0<c.ca&&(this.Da(c,J.za.J.red,J.za.J.green,J.za.J.blue,e,d+c.S[0],a,b,f),a=this.b(c,"Dead",this.Sd(J.za.J),e,d,a,b,f),1<c.ca&&(J.za.H.red!==J.za.J.red||J.za.H.green!==J.za.J.green||J.za.H.blue!==J.za.J.blue?(this.Da(c,J.za.H.red,J.za.H.green,J.za.H.blue,e,d+c.S[0],a,b,f),
a=this.b(c,"DeadRamp",this.Sd(J.za.H),e,d,a,b,f)):a=this.b(c,"DeadRamp","    (none)",e,d,a,b,f)));if(c.a.Wb)for(g=3;6>=g;g+=1)h=128+ViewConstants.qb[g],k=this.Rb(c.a.Ra[h],c.a.Qa[h],c.a.Na[h]),I=ViewConstants.Sw[g],this.Da(c,c.a.Ra[h],c.a.Qa[h],c.a.Na[h],e,d+c.S[0],a,b,f),a=this.b(c,I,k,e,d,a,b,f)}this.Da(c,c.li[0],c.li[1],c.li[2],e,d+c.S[0],a,b,f);a=this.b(c,"Boundary",this.Rb(c.li[0],c.li[1],c.li[2]),e,d,a,b,f);c.bf&&(this.Da(c,c.bf[0],c.bf[1],c.bf[2],e,d+c.S[0],a,b,f),a=this.b(c,"Text",this.Rb(c.bf[0],
c.bf[1],c.bf[2]),e,d,a,b,f));c.Fh&&(this.Da(c,c.Fh[0],c.Fh[1],c.Fh[2],e,d+c.S[0],a,b,f),a=this.b(c,"Error",this.Rb(c.Fh[0],c.Fh[1],c.Fh[2]),e,d,a,b,f));a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Grid Lines"];u+=1;a=this.b(c,"","Grid Lines:",e,d,a,b,f);I=c.a.mb?"On":"Off";c.a.mb&&!c.a.Eh()&&(I+=" (Hidden)");a=this.b(c,"Enabled",I,e,d,a,b,f);this.Da(c,c.a.vc>>16,c.a.vc>>8&255,c.a.vc&255,e,d+c.S[0],a,b,f);a=this.b(c,"Line Color",this.Rb(c.a.vc>>16,c.a.vc>>8&255,c.a.vc&255),e,d,a,b,f);this.Da(c,c.a.ie>>
16,c.a.ie>>8&255,c.a.ie&255,e,d+c.S[0],a,b,f);a=this.b(c,"Major Color",this.Rb(c.a.ie>>16,c.a.ie>>8&255,c.a.ie&255),e,d,a,b,f);I=0<c.a.kf&&c.a.Jh?String(c.a.kf):"Off";a=this.b(c,"Interval",I,e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Graph"];u+=1;a=this.b(c,"","Population Graph:",e,d,a,b,f);a=this.b(c,"Enabled",c.jb?"On":"Off",e,d,a,b,f);a=this.b(c,"Disabled",c.Pc?"On":"Off",e,d,a,b,f);a=this.b(c,"Mode",c.Je?"Lines":"Points",e,d,a,b,f);a=this.b(c,"Opacity",c.Yb.toFixed(2),e,d,a,b,f);this.Da(c,
c.a.ng[0],c.a.ng[1],c.a.ng[2],e,d+c.S[0],a,b,f);a=this.b(c,"Bg Color",this.Rb(c.a.ng[0],c.a.ng[1],c.a.ng[2]),e,d,a,b,f);this.Da(c,c.a.mg[0],c.a.mg[1],c.a.mg[2],e,d+c.S[0],a,b,f);a=this.b(c,"Axis Color",this.Rb(c.a.mg[0],c.a.mg[1],c.a.mg[2]),e,d,a,b,f);this.Da(c,c.a.lg[0],c.a.lg[1],c.a.lg[2],e,d+c.S[0],a,b,f);a=this.b(c,"Alive Color",this.Rb(c.a.lg[0],c.a.lg[1],c.a.lg[2]),e,d,a,b,f);this.Da(c,c.a.og[0],c.a.og[1],c.a.og[2],e,d+c.S[0],a,b,f);a=this.b(c,"Birth Color",this.Rb(c.a.og[0],c.a.og[1],c.a.og[2]),
e,d,a,b,f);this.Da(c,c.a.pg[0],c.a.pg[1],c.a.pg[2],e,d+c.S[0],a,b,f);a=this.b(c,"Death Color",this.Rb(c.a.pg[0],c.a.pg[1],c.a.pg[2]),e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Stars"];u+=1;a=this.b(c,"","Stars:",e,d,a,b,f);a=this.b(c,"Enabled",c.Eg?"On":"Off",e,d,a,b,f);this.Da(c,c.Uh.red,c.Uh.green,c.Uh.blue,e,d+c.S[0],a,b,f);a=this.b(c,"Color",this.Sd(c.Uh),e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[u]=[c.P,"Script"];u+=1;a=this.b(c,"","Script:",e,d,a,b,f);a=this.b(c,"Commands",c.Gm,e,
d,a,b,f);a=this.b(c,"Errors",c.gs,e,d,a,b,f);if(c.Tb)for(a=this.b(c,"","",e,d,a,b,f),c.U[u]=[c.P,"Waypoints"],u+=1,a=this.b(c,"","Waypoints:",e,d,a,b,f),a=this.b(c,"Enabled",c.oc?"Off":"On",e,d,a,b,f),a=this.b(c,"Number",c.D.la.length,e,d,a,b,f),g=0;g<c.D.la.length;g+=1)I=String(g),g===c.D.Wh&&(I=c.D.Jq(c.elapsedTime)?I+">":I+"*"),a=this.b(c,I,c.D.LC(g),e,d,a,b,f);if(c.D.zb.length)for(a=this.b(c,"","",e,d,a,b,f),c.U[u]=[c.P,"POIs"],a=this.b(c,"","Points of interest:",e,d,a,b,f),a=this.b(c,"Number",
c.D.zb.length,e,d,a,b,f),g=0;g<c.D.zb.length;g+=1)I=String(g+1),g===c.ye&&(I+="*"),g===c.Fj&&(I+=" INITIAL"),u=!1,h=c.D.LA(g),""!==h&&(a=this.b(c,u?" ":I,(u?"  ":"")+h,e,d,a,b,f),u=!0),h=c.D.PA(g),""!==h&&(a=this.b(c,u?" ":I,(u?"  ":"")+h,e,d,a,b,f),u=!0),h=c.D.MA(g),""!==h&&(a=this.b(c,u?" ":I,(u?"  ":"")+h,e,d,a,b,f),u=!0),h=c.D.fw(g),""!==h&&(a=this.b(c,u?" ":I,(u?"  ":"")+h,e,d,a,b,f),u=!0),h=c.D.OA(g),""!==h&&(a=this.b(c,u?" ":I,(u?"  ":"")+h,e,d,a,b,f),u=!0),h=c.D.NA(g),""!==h&&(a=this.b(c,
u?" ":I,(u?"  ":"")+h,e,d,a,b,f))},qB:function(c,e,d,a,b,f){var g,k=0;c.P=1;c.pe=!1;c.U=[];c.S[0]=130;c.S[1]=200;c.S[2]=250;c.S[3]=300;c.U[k]=[c.P,"Top"];k+=1;a=this.b(c,"","Themes",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);a=this.b(c,"","Themes are used to provide a visual representation of",e,d,a,b,f);a=this.b(c,"","cell history and longevity",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"2-State"];k+=1;a=this.b(c,"","Two-state Themes:",e,d,a,b,f);a=this.b(c,"BACKGROUND","cell never occupied",
e,d,a,b,f);a=this.b(c,"ALIVE","cell just born",e,d,a,b,f);a=this.b(c,"ALIVERAMP","cell alive for several generations",e,d,a,b,f);a=this.b(c,"DEAD","cell just died",e,d,a,b,f);a=this.b(c,"DEADRAMP","cell dead for several generations",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);a=this.b(c,"",LifeConstants.tc-LifeConstants.Ua+1+" states from ALIVE to ALIVERAMP",e,d,a,b,f);a=this.b(c,"",c.ca+" (HISTORYSTATES) states from DEAD to DEADRAMP",e,d,a,b,f);for(g=0;g<c.a.La.length-1;g+=1){a=this.b(c,"","",e,d,a,b,
f);var F=c.a.La[g];a=this.b(c,"Name"+(g===c.a.we&&2>=c.a.g?"*":""),F.name,e,d,a,b,f);this.Da(c,F.Ma.red,F.Ma.green,F.Ma.blue,e,d+c.S[0],a,b,f);a=this.b(c,"BACKGROUND",this.Sd(F.Ma),e,d,a,b,f);this.Da(c,F.Ba.H.red,F.Ba.H.green,F.Ba.H.blue,e,d+c.S[0],a,b,f);a=this.b(c,"ALIVE",this.Sd(F.Ba.H),e,d,a,b,f);if(F.Ba.H.red!==F.Ba.J.red||F.Ba.H.green!==F.Ba.J.green||F.Ba.H.blue!==F.Ba.J.blue)this.Da(c,F.Ba.J.red,F.Ba.J.green,F.Ba.J.blue,e,d+c.S[0],a,b,f),a=this.b(c,"ALIVERAMP",this.Sd(F.Ba.J),e,d,a,b,f);this.Da(c,
F.za.J.red,F.za.J.green,F.za.J.blue,e,d+c.S[0],a,b,f);a=this.b(c,"DEAD",this.Sd(F.za.J),e,d,a,b,f);if(F.za.H.red!==F.za.J.red||F.za.H.green!==F.za.J.green||F.za.H.blue!==F.za.J.blue)this.Da(c,F.za.H.red,F.za.H.green,F.za.H.blue,e,d+c.S[0],a,b,f),a=this.b(c,"DEADRAMP",this.Sd(F.za.H),e,d,a,b,f);F.Pj&&(this.Da(c,F.If>>16,F.If>>8&255,F.If&255,e,d+c.S[0],a,b,f),a=this.b(c,"GRID",this.Rb(F.If>>16,F.If>>8&255,F.If&255),e,d,a,b,f),this.Da(c,F.Jf>>16,F.Jf>>8&255,F.Jf&255,e,d+c.S[0],a,b,f),a=this.b(c,"GRIDMAJOR",
this.Rb(F.Jf>>16,F.Jf>>8&255,F.Jf&255),e,d,a,b,f),a=this.b(c,"GRIDMAJOR",F.rr,e,d,a,b,f))}a=this.b(c,"","",e,d,a,b,f);c.U[k]=[c.P,"Multi"];a=this.b(c,"","Multi-state Themes:",e,d,a,b,f);a=this.b(c,"BACKGROUND","cell never occupied",e,d,a,b,f);a=this.b(c,"ALIVE","cell alive",e,d,a,b,f);a=this.b(c,"DYING","cell just starting dying",e,d,a,b,f);a=this.b(c,"DYINGRAMP","cell about to die",e,d,a,b,f);a=this.b(c,"DEAD","cell just died",e,d,a,b,f);a=this.b(c,"DEADRAMP","cell dead for several generations",
e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);a=this.b(c,"","Rule defines "+(2>c.a.g?"":String(c.a.g-1)+" ")+"states from DYING to DYINGRAMP",e,d,a,b,f);a=this.b(c,"",c.ca+" (HISTORYSTATES) states from DEAD to DEADRAMP",e,d,a,b,f);for(g=0;g<c.a.La.length-1;g+=1){a=this.b(c,"","",e,d,a,b,f);F=c.a.La[g];a=this.b(c,"Name"+(g===c.a.we&&2<c.a.g?"*":""),F.name,e,d,a,b,f);this.Da(c,F.kh.red,F.kh.green,F.kh.blue,e,d+c.S[0],a,b,f);a=this.b(c,"BACKGROUND",this.Sd(F.kh),e,d,a,b,f);this.Da(c,F.We.red,F.We.green,F.We.blue,
e,d+c.S[0],a,b,f);a=this.b(c,"ALIVE",this.Sd(F.We),e,d,a,b,f);this.Da(c,F.Wa.J.red,F.Wa.J.green,F.Wa.J.blue,e,d+c.S[0],a,b,f);a=this.b(c,"DYING",this.Sd(F.Wa.J),e,d,a,b,f);if(F.Wa.H.red!==F.Wa.J.red||F.Wa.H.green!==F.Wa.J.green||F.Wa.H.blue!==F.Wa.J.blue)this.Da(c,F.Wa.H.red,F.Wa.H.green,F.Wa.H.blue,e,d+c.S[0],a,b,f),a=this.b(c,"DYINGRAMP",this.Sd(F.Wa.H),e,d,a,b,f);this.Da(c,F.Hb.J.red,F.Hb.J.green,F.Hb.J.blue,e,d+c.S[0],a,b,f);a=this.b(c,"DEAD",this.Sd(F.Hb.J),e,d,a,b,f);if(F.Hb.H.red!==F.Hb.J.red||
F.Hb.H.green!==F.Hb.J.green||F.Hb.H.blue!==F.Hb.J.blue)this.Da(c,F.Hb.H.red,F.Hb.H.green,F.Hb.H.blue,e,d+c.S[0],a,b,f),a=this.b(c,"DEADRAMP",this.Sd(F.Hb.H),e,d,a,b,f)}},iB:function(c,e,d,a,b,f){var g,k=ColourManager.Xc,F=Object.keys(k);c.P=1;c.pe=!1;c.U=[];c.S[0]=260;c.S[1]=330;c.S[2]=380;c.S[3]=c.F;c.U[0]=[c.P,"Top"];a=this.b(c,"","Colours",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);a=this.b(c,"","The following names can be used in place of R G B",e,d,a,b,f);a=this.b(c,"","for example [[ COLOUR ALIVE Green ]]",
e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);for(g=0;g<F.length;g+=1){var J=k[F[g]];this.Da(c,J[1],J[2],J[3],e,d+c.S[0],a,b,f);a=this.b(c,J[0],this.Rb(J[1],J[2],J[3]),e,d,a,b,f)}},gB:function(c,e,d,a,b,f){var g,k=0,F=AliasManager.c,J=AliasManager.tf;c.P=1;c.pe=!1;c.U=[];c.S[0]=260;c.U[k]=[c.P,"Top"];k+=1;a=this.b(c,"","Aliases",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);a=this.b(c,"","Alias names can be used as rule names in RLE",e,d,a,b,f);a=this.b(c,"","for example 'rule = HighLife'",e,d,a,b,f);c.pe=!0;for(g=
0;g<F.length;g+=1)""===F[g][1]?(a=this.b(c,"","",e,d,a,b,f),c.U[k]=[c.P,J[k-1]],k+=1,a=this.b(c,"",F[g][0]+" Aliases:",e,d,a,b,f)):""!==F[g][0]&&(a=this.b(c,F[g][0]+(F[g][2]?"*":""),F[g][1],e,d,a,b,f))},oB:function(c,e,d,a,b,f){var g,k=0,F=Controller.nc.length,J=0,I=0,u=0,h=0,C;c.P=1;c.pe=!1;c.U=[];c.S[0]=128;c.S[1]=200;c.S[2]=290;c.S[3]=530;c.U[k]=[c.P,"Top"];k+=1;a=this.b(c,"","Memory usage",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f);if(1<F){c.U[k]=[c.P,"All"];k+=1;a=this.b(c,"","Memory (all "+F+" LifeViewers):",
e,d,a,b,f);for(g=0;g<F;g+=1)if(C=Controller.Gz(g))J+=C.a.i.Cm,u+=C.a.i.kk>>10,I+=C.a.i.Fm,h+=C.a.i.lk>>10;a=this.b(c,"Allocations",J+"\t"+(u>>10)+"M",e,d,a,b,f);a=this.b(c,"Frees",I+"\t"+(h>>10)+"M",e,d,a,b,f);a=this.b(c,"In Use",J-I+"\t"+((u>>10)-(h>>10))+"M",e,d,a,b,f);a=this.b(c,"","",e,d,a,b,f)}c.U[k]=[c.P,"Current"];a=this.b(c,"","Memory (this LifeViewer):",e,d,a,b,f);a=this.b(c,"Allocations",c.a.i.Cm+"\t"+this.Hq(c.a.i.kk)+"M\t"+c.a.i.kk,e,d,a,b,f);a=this.b(c,"Frees",c.a.i.Fm+"\t"+this.Hq(c.a.i.lk)+
"M\t"+c.a.i.lk,e,d,a,b,f);a=this.b(c,"In Use",c.a.i.Cm-c.a.i.Fm+"\t"+this.Hq(c.a.i.kk-c.a.i.lk)+"M\t"+(c.a.i.kk-c.a.i.lk),e,d,a,b,f);a=this.b(c,this.Zv("Bytes",10),"Type\tElements\tName\tCount",e,d,a,b,f);for(g=0;g<c.a.i.Ye.length;g+=1)a=this.b(c,this.Zv(String(c.a.i.Ye[g].size),10),c.a.i.hy(g),e,d,a,b,f);this.b(c,"","",e,d,a,b,f)},fr:function(c){var e=c.vd;c.bc=(c.B/19|0)-6;e.fillStyle="black";e.globalAlpha=.5;e.fillRect(0,0,e.canvas.width,e.canvas.height);e.globalAlpha=1;e.fillStyle=ViewConstants.gm;
this.Qs=-2;this.tw(c,e,6,14,19,c.Z|0);e.fillStyle=ViewConstants.Pk;this.Qs=0;this.tw(c,e,4,12,19,c.Z|0)},jB:function(c,e,d,a,b,f,g,k,F,J){var I=k,u=0,h=!1,C=c.P;f.fillStyle===ViewConstants.gm&&(h=!0);C>=J&&C<=J+c.bc&&(f.font=ViewConstants.$l,h||(1<(c.Za|0)?f.fillStyle=c.jg:f.fillStyle=ViewConstants.No),f.fillText(e,g,k),h||(f.fillStyle=c.jg),f.fillText(d,g+f.measureText(e).width,k),h||((c.Za|0)<c.Sb.length-c.bc+1?f.fillStyle=c.jg:f.fillStyle=ViewConstants.No),f.fillText(a,g+f.measureText(e+d).width,
k),c.S[0]&&(u=c.S[0]),h||(f.fillStyle=c.jg),f.font=ViewConstants.lj,f.fillText(b,g+u,k),I+=F);return I},Bp:function(c,e,d,a,b,f,g,k){var F=f,J=0,I=c.P;I>=k&&I<=k+c.bc&&(e.length&&(a.font=ViewConstants.$l,a.fillText(e,b,f),J=a.measureText(e+" ").width),c.S[0]&&(J=c.S[0]),a.font=ViewConstants.lj,a.fillText(d,b+J,f),F+=g);c.P+=1;return F},sw:function(c,e,d,a,b,f){var g,k=c.Sb,F=a;c.P=1;c.S[0]=0;e.font=ViewConstants.lj;a=this.Bp(c,"",ViewConstants.OB,e,d,a,b,f);for(g=0;g<k.length;g+=1)a=this.Bp(c,k[g][0],
k[g][1],e,d,a,b,f);c.ya||(c.S[0]=120,c.P=1,a=F+b*(c.bc+2),a=this.jB(c,"Up"," / ","Down","scroll errors",e,d,a,b,0),a=this.Bp(c,"Esc","clear messages",e,d,a,b,0),this.Bp(c,"H  ","help on script commands",e,d,a,b,0))},er:function(c){var e=c.vd,d=7;c.ya&&(d=1);c.bc=(c.B/19|0)-d;e.fillStyle="black";e.globalAlpha=.5;e.fillRect(0,0,e.canvas.width,e.canvas.height);e.globalAlpha=1;e.fillStyle=ViewConstants.gm;this.sw(c,e,6,14,19,c.Za|0);e.fillStyle=c.jg;this.sw(c,e,4,12,19,c.Za|0)}};window.Keywords={Zb:'"',Xi:"[[",hl:"]]",dt:"SUPPRESS",up:"POIT",Xa:"INITIAL",Ka:"OFF",bt:"STATE1FIT",Pm:"POIRESET",cl:"POIPLAY",dl:"POISTOP",Qm:"POITRANS",tr:"HARDRESET",wn:"TRACK",nk:"TRACKBOX",vn:"TRACKLOOP",ds:"NOREPORT",Mo:"GRAPH",np:"NOGRAPH",nr:"GRAPHOPACITY",pr:"GRAPHPOINTS",cs:"NOPERFWARNING",jv:"AUTOHIDEGUI",Xe:"ALL",mf:"LINEAR",eg:"BEZIER",yr:"HEXDISPLAY",Xs:"SQUAREDISPLAY",xr:"HEXCELLS",Ws:"SQUARECELLS",qu:"CELLBORDERS",ov:"INTEGERZOOM",Bs:"RANDOMSEED",br:"DELETERANGE",Ts:"SHOWTIMING",
kr:"EXTENDEDTIMING",Rs:"SHOWGENSTATS",Ss:"SHOWINFOBAR",es:"NOSOURCE",vp:"POI",ql:"TITLE",lw:"POLY",wp:"POLYFILL",us:"POLYLINE",ss:"POLYALPHA",vs:"POLYSIZE",ws:"POLYT",ts:"POLYANGLE",xs:"POLYTARGET",kw:"POLYTRACK",Al:"ARROW",Bq:"ARROWALPHA",Dq:"ARROWSIZE",Eq:"ARROWT",Cq:"ARROWANGLE",Fq:"ARROWTARGET",Gq:"ARROWTRACK",nm:"LABEL",Jr:"LABELALPHA",Lr:"LABELSIZE",Mr:"LABELT",Kr:"LABELANGLE",Nr:"LABELTARGET",Or:"LABELTRACK",ad:"FIXED",Ur:"MAXGRIDSIZE",hn:"STARS",pl:"CUSTOM",cq:"XOFFSET",fq:"YOFFSET",Rp:"BACKGROUND",
Qp:"ALIVE",it:"ALIVERAMP",Tp:"DEAD",Sp:"DEADRAMP",Yw:"DYING",Xw:"DYINGRAMP",gx:"UIFOREGROUND",jD:"UIFOREGROUNDA",ex:"UIBACKGROUND",hD:"UIBACKGROUNDA",hx:"UIHIGHLIGHT",kD:"UIHIGHTLIGHTA",jx:"UISELECT",mD:"UISELECTA",ix:"UILOCKED",lD:"UILOCKEDA",fx:"UIBORDER",iD:"UIBORDERA",ru:"BOUNDARY",Wn:"AUTOFIT",Cr:"HISTORYFIT",To:"HISTORYSTATES",gk:"STEP",$r:"NOSTEPBACK",jn:"T",qs:"PAUSE",em:"GRID",dm:"GRIDMAJOR",gt:"TEXT",jr:"ERROR",Uv:"OFF",Wv:"ON",kv:"HISTORY",xv:"MARK1",Bv:"MARKOFF",zv:"MARK2",rv:"KILL",av:"GRAPHBG",
$u:"GRAPHAXIS",Zu:"GRAPHALIVE",bv:"GRAPHBIRTH",cv:"GRAPHDEATH",ua:"COLOR",Pq:"COLOUR",Dn:"VIEWONLY",Zr:"NOGUI",Yr:"NOCOPY",ot:"THUMBNAIL",mt:"THUMBSIZE",kt:"THUMBLAUNCH",Xh:"THEME",Xn:"AUTOSTART",rg:"LOOP",Hg:"STOP",ii:"ANGLE",Sj:"LAYERS",Hj:"DEPTH",Oj:"GPS",pc:"ZOOM",zq:"Z",ed:"X",fd:"Y",ul:"WIDTH",Ok:"HEIGHT",Sm:"POPUPWIDTH",Rm:"POPUPHEIGHT",nt:"THUMBZOOM",Ir:"KILLGLIDERS",el:"RECIPE",ak:"RLE",sp:"PASTE",rp:"PASTET",Ho:"EVERY",ns:"PASTEMODE",ms:"OR",ks:"COPY",ls:"NOT",os:"XOR",js:"AND",At:"IDENTITY",
xt:"FLIP",yt:"FLIPX",zt:"FLIPY",Dt:"SWAPXY",Et:"SWAPXYFLIP",Ct:"RCW",Bt:"RCCW",Se:"#"};
