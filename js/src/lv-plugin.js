var pb="function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,b){d!=Array.prototype&&d!=Object.prototype&&(d[c]=b.value)},qb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function rb(d,c){if(c){var b=qb;d=d.split(".");for(var a=0;a<d.length-1;a++){var e=d[a];e in b||(b[e]={});b=b[e]}d=d[d.length-1];a=b[d];c=c(a);c!=a&&null!=c&&pb(b,d,{configurable:!0,writable:!0,value:c})}}
rb("Array.prototype.fill",function(d){return d?d:function(c,b,a){var e=this.length||0;0>b&&(b=Math.max(0,e+b));if(null==a||a>e)a=e;a=Number(a);0>a&&(a=Math.max(0,e+a));for(b=Number(b||0);b<a;b++)this[b]=c;return this}});
(function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.XA||performance.YA||performance.bB||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var d=new Uint32Array(1);d[0]=4660;52===(new Uint8Array(d.buffer))[0]?window.littleEndian=!0:
window.littleEndian=!1;window.registerEvent=function(c,b,a,e){c.addEventListener?c.addEventListener(b,a,e):c.attachEvent("on"+b,a)}})();(function(){function d(a,e,f){this.type=a;this.name=f;this.elements=e;this.size=e*b.Bk(a);this.Xl=1}function c(){this.Pe=[];this.Fj=this.Ul=this.Ej=this.Sl=0}var b={zp:8,Ap:40,xp:9,yp:10,wp:0,up:1,vp:2,sp:18,tp:19,Bk:function(a){return 1<<(a&7)},typeName:function(a){var e=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(e+="Clamped");return e}};c.prototype.Dw=function(a){var e="";0<=a&&a<this.Pe.length&&(a=this.Pe[a],e=b.typeName(a.type)+"\t"+a.elements+"\t"+a.name+"\t"+a.Xl);
return e};c.prototype.f=function(a,e,f){for(var g=0,l=!1,H;g<this.Pe.length&&!l;)H=this.Pe[g],f===H.name?(l=!0,this.Ul+=1,this.Fj+=H.elements*b.Bk(H.type)):g+=1;l?(this.Pe[g].type=a,this.Pe[g].elements=e,this.Pe[g].Xl+=1,this.Pe[g].size=e*b.Bk(a)):(g=this.Pe.length,this.Pe[g]=new d(a,e,f));this.Sl+=1;this.Ej+=e*b.Bk(a)};c.prototype.ms=function(a,e,f,g,l){a=a.buffer;g*=b.Bk(e);switch(e){case b.zp:f=new Uint8Array(a,g,f);break;case b.Ap:f=new Uint8Array(a,g,f);break;case b.xp:f=new Uint16Array(a,g,
f);break;case b.yp:f=new Uint32Array(a,g,f);break;case b.wp:f=new Int8Array(a,g,f);break;case b.up:f=new Int16Array(a,g,f);break;case b.vp:f=new Int32Array(a,g,f);break;case b.sp:f=new Float32Array(a,g,f);break;case b.tp:f=new Float64Array(a,g,f);break;default:f=null,alert("Illegal type specified to allocator.typedView for "+l+": "+e)}return f};c.prototype.i=function(a,e,f){switch(a){case b.zp:e=new Uint8Array(e);break;case b.Ap:e=new Uint8Array(e);break;case b.xp:e=new Uint16Array(e);break;case b.yp:e=
new Uint32Array(e);break;case b.wp:e=new Int8Array(e);break;case b.up:e=new Int16Array(e);break;case b.vp:e=new Int32Array(e);break;case b.sp:e=new Float32Array(e);break;case b.tp:e=new Float64Array(e);break;default:e=null,alert("Illegal type specified to allocator.typedMemory for "+f+": "+a)}return e};c.prototype.V=function(a,e,f){var g=null;0<e&&(g=this.i(a,e,f));(g||0===e)&&this.f(a,e,f);return g};c.prototype.Cw=function(a,e,f,g){var l=null;0<e&&(l=this.i(a,e,f));(l||0===e)&&this.f(a,e*g,f);return l};
Array.Z=function(a,e,f,g,l,H){var L=0,b=[];b.j=l;b.type=a;b.Nm=null;var c=l.V(a,e*f,H);b.Nm=c;if(0<f){for(;L<e;)b[L]=l.ms(c,a,f,L*f,H),L+=1;if(0!==g)if(c.fill)c.fill(g);else for(L=0;L<c.length;)c[L]=g,L+=1}return b};Array.Vk=function(a,e){e=a.j.Cw(a.type,a[0].length,e,a.length+1);a[a.length]=e};Array.Of=function(a,e){e.Nm.set(a.Nm)};Array.Cf=function(a,e){var f=Uint16,g,l=a.length,H=[],L=a.j,c=a[0].length/b.Bk(f);for(g=0;g<l;g+=1)H[g]=L.ms(a.Nm,f,c,g*c,e);return H};Array.Xc=function(a,e,f){var g,
l=a.length,H=[],L=a.j,b=a.type,c=a[0].length;for(g=0;g<l;g+=1)H[g]=L.ms(a.Nm,b,c-e,g*c+e,f);return H};window.Allocator=c;window.Uint8=b.zp;window.Uint8Clamped=b.Ap;window.Uint16=b.xp;window.Uint32=b.yp;window.Int8=b.wp;window.Int16=b.up;window.Int32=b.vp;window.Float32=b.sp;window.Float64=b.tp})();window.AliasManager={c:[],cf:[],Id:function(){var d,c;this.c=[];this.cf=[];this.cf.push("OT M");this.c.push(["Outer-Totalistic Moore",""]);this.c.push(["","B3/S23"]);this.c.push(["2x2","B36/S125"]);this.c.push(["2x2 2","B3678/S1258"]);this.c.push(["34 Life","B34/S34"]);this.c.push(["3-4 Life","B34/S34"]);this.c.push(["Amoeba","B357/S1358"]);this.c.push(["AntiLife","B0123478/S01234678"]);this.c.push(["Assimilation","B345/S4567"]);this.c.push(["Bacteria","B34/S456"]);this.c.push(["Blinkers","B345/S2"]);
this.c.push(["Bugs","B3567/S15678"]);this.c.push(["Coagulations","B378/S235678"]);this.c.push(["Conway's Game of Life","B3/S23"]);this.c.push(["Conway's Life","B3/S23"]);this.c.push(["Coral","B3/S45678"]);this.c.push(["Corrosion of Conformity","B3/S124"]);this.c.push(["Dance","B34/S35"]);this.c.push(["Day & Night","B3678/S34678"]);this.c.push(["Day and Night","B3678/S34678"]);this.c.push(["Diamoeba","B35678/S5678"]);this.c.push(["DotLife","B3/S023"]);this.c.push(["DrighLife","B367/S23"]);this.c.push(["DryFlock",
"B37/S12"]);this.c.push(["DryLife","B37/S23"]);this.c.push(["DryLife without Death","B37/S012345678"]);this.c.push(["EightFlock","B3/S128"]);this.c.push(["EightLife","B3/S238"]);this.c.push(["Electrified Maze","B45/S12345"]);this.c.push(["Eppstein","B35/S236"]);this.c.push(["Flock","B3/S12"]);this.c.push(["Forest of Ls","B168/S236"]);this.c.push(["Fredkin","B1357/S02468"]);this.c.push(["Gems Minor","B34578/S456"]);this.c.push(["Gems","B3457/S4568"]);this.c.push(["Gnarl","B1/S1"]);this.c.push(["H-Trees",
"B1/S012345678"]);this.c.push(["HighFlock","B36/S12"]);this.c.push(["HighLife","B36/S23"]);this.c.push(["HighLife without Death","B36/S012345678"]);this.c.push(["Holstein","B35678/S4678"]);this.c.push(["HoneyFlock","B38/S128"]);this.c.push(["HoneyLife","B38/S238"]);this.c.push(["Iceballs","B25678/S5678"]);this.c.push(["InverseLife","B012345678/S34678"]);this.c.push(["Invertamaze","B028/S0124"]);this.c.push(["IronFlock","B36/S128"]);this.c.push(["IronLife","B36/S238"]);this.c.push(["Land Rush","B36/S234578"]);
this.c.push(["Life SkyHigh","B368/S236"]);this.c.push(["Life without Death","B3/S012345678"]);this.c.push(["Life","B3/S23"]);this.c.push(["Live Free or Die","B2/S0"]);this.c.push(["LongLife","B345/S5"]);this.c.push(["Long Life","B345/S5"]);this.c.push(["LowDeath without death","B368/S012345678"]);this.c.push(["LowDeath","B368/S238"]);this.c.push(["LowFlockDeath","B368/S128"]);this.c.push(["LowLife","B3/S13"]);this.c.push(["Majority","B45678/S5678"]);this.c.push(["Maze","B3/S12345"]);this.c.push(["Maze with Mice",
"B37/S12345"]);this.c.push(["Mazectric","B3/S1234"]);this.c.push(["Mazectric with Mice","B37/S1234"]);this.c.push(["Morley","B368/S245"]);this.c.push(["Move","B368/S245"]);this.c.push(["Neon Blobs","B08/S4"]);this.c.push(["Pedestrian Flock","B38/S12"]);this.c.push(["Pedestrian Life","B38/S23"]);this.c.push(["Pedestrian Life without Death","B38/S012345678"]);this.c.push(["Persian Rug","B234/S"]);this.c.push(["Plow World","B378/S012345678"]);this.c.push(["Pseudo Life","B357/S238"]);this.c.push(["Replicator",
"B1357/S1357"]);this.c.push(["Rings 'n' Slugs","B56/S14568"]);this.c.push(["Seeds","B2/S"]);this.c.push(["Serviettes","B234/S"]);this.c.push(["Shoots and Roots","B3/S245678"]);this.c.push(["Slow Blob","B367/S125678"]);this.c.push(["SnowLife","B3/S1237"]);this.c.push(["Stains","B3678/S235678"]);this.c.push(["Virus","B36/S235"]);this.c.push(["Vote","B5678/S45678"]);this.c.push(["Vote 4/5","B4678/S35678"]);this.c.push(["Walled Cities","B45678/S2345"]);this.cf.push("OT Hex");this.c.push(["Outer-Totalistic Hex",
""]);this.c.push(["Fredkin Hex","B135/S0246H"]);this.c.push(["Hexagonal Life","B2/S34H"]);this.c.push(["HighHexLife","B25/S34H"]);this.c.push(["Replicator Hex","B135/S135H"]);this.cf.push("NT M");this.c.push(["Isotropic Non-Totalistic Moore",""]);this.c.push(["15Life","B34r/S23-q4et"]);this.c.push(["22k","B2-k/S2-k"]);this.c.push(["38life","B35y/S2-n35k6ci"]);this.c.push(["aLife","B3/S234iw"]);this.c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);this.c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);
this.c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);this.c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);this.c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);this.c.push(["Best Friends","B2ce3aiy/S12aei3r"]);this.c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);this.c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);this.c.push(["Breps","B34cqy5c/S23-y4y"]);this.c.push(["Bubbles","B3ai4-a/S23"]);this.c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);
this.c.push(["Buzz","B2i35-n/S2-ci36k8"]);this.c.push(["CarrierLife","B2e3aceik/S23"]);this.c.push(["CB2","B2ae4i/S1e2in"]);this.c.push(["cetlife","B34cet/S234jkwyz"]);this.c.push(["CommonRepl","B3/S23-ac4eiy6"]);this.c.push(["Conway++","B3/S234c"]);this.c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);this.c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);this.c.push(["Conway--","B3/S2-ei3"]);this.c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);this.c.push(["Diamoeral","B2n3ai4a78/S35678"]);this.c.push(["Diamonds",
"B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);this.c.push(["DLife","B3-n/S23"]);this.c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);this.c.push(["Dry15Life","B34r7/S23-q4et"]);this.c.push(["DryGoats","B2in37/S123a"]);this.c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);this.c.push(["EightGoats","B2in3/S123a8"]);this.c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);this.c.push(["FattyLife","B3-n4nt5qr6i/S23"]);this.c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
this.c.push(["FogLife","B35eq7/S2-i34q"]);this.c.push(["GlideLife","B34ek5ak/S2-c34z"]);this.c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);this.c.push(["Goat Flock","B2in3/S123a"]);this.c.push(["Goats","B2in3/S123a"]);this.c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);this.c.push(["guntlife","B35j6a/S2-i34q"]);this.c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);this.c.push(["hatlife","B35y/S23"]);this.c.push(["High15Life","B34r6/S23-q4et"]);this.c.push(["HighGoats","B2in36/S123a"]);
this.c.push(["hlife3","B3/S2-in34iw"]);this.c.push(["HoneyGoats","B2in38/S123a8"]);this.c.push(["HouseLife","B2i3/S23-r"]);this.c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);this.c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);this.c.push(["ilife","B3/S235i"]);this.c.push(["IronGoats","B2in36/S123a8"]);this.c.push(["Just Friends","B2-a/S12"]);this.c.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.c.push(["klife","B34n/S23"]);this.c.push(["Knyght","B2e3/S23-jq"]);this.c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);
this.c.push(["Linea","B2-a3-i/S23-a"]);this.c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);this.c.push(["Movostill","B2i3acijk6i/S23-a4"]);this.c.push(["Movostill 2","B3acijk/S23-a4"]);this.c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);this.c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);this.c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);this.c.push(["Pedestrian Goats","B2in38/S123a"]);this.c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);this.c.push(["PiLife","B37e/S23"]);this.c.push(["PondLife",
"B36i/S2-i35i"]);this.c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);this.c.push(["PlasmaLife","B34-air/S234-air"]);this.c.push(["reptlife","B36-k/S2-i34q"]);this.c.push(["RustyLife","B34-ai/S24-air5-a"]);this.c.push(["Salad","B2i34c/S2-i3"]);this.c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);this.c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);this.c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);this.c.push(["SilverLife","B367/S2-i34q"]);this.c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);
this.c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);this.c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);this.c.push(["SparkLife","B36i/S234j"]);this.c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);this.c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);this.c.push(["TableLife","B3/S23-ai4anq6n"]);this.c.push(["TauLife","B3-nr/S2-i34-aij"]);this.c.push(["tceclife","B36ce7c/S2-i34q"]);this.c.push(["tDryFlock","B37/S12-i4q"]);this.c.push(["tDryLife","B37/S2-i34q"]);
this.c.push(["tEightLife","B3/S2-i34q8"]);this.c.push(["tflock","B3/S12-i4q"]);this.c.push(["tHighFlock","B36/S12-i4q"]);this.c.push(["tHighLife","B36/S2-i34q"]);this.c.push(["tlife","B3/S2-i34q"]);this.c.push(["tPedestrianFlock","B38/S12-i4q"]);this.c.push(["tPedestrianLife","B38/S2-i34q"]);this.c.push(["Train","B34t6k8/S2-i35a7e"]);this.c.push(["Turro","B2-a3c/S12-i"]);this.c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);this.c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);this.c.push(["X-rule-pre",
"B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);this.c.push(["Ylife","B2e3ai4ar/S23-a4a"]);this.cf.push("NT Hex");this.c.push(["Isotropic Non-Totalistic Hex",""]);this.c.push(["Hex Life","B2o3m56/S2-p4oH"]);this.c.push(["22da","B2o/S2-mH"]);this.c.push(["Hexrule b2o","B2o/S2m34H"]);this.cf.push("OT M G");this.c.push(["Outer-Totalistic Generations Moore",""]);this.c.push(["9:43 at Knight","237/34578/4"]);this.c.push(["Banners","2367/3457/5"]);this.c.push(["BelZhab","23/23/8"]);this.c.push(["BelZhab Sediment",
"145678/23/8"]);this.c.push(["Bloomerang","234/34678/24"]);this.c.push(["Bombers","345/24/25"]);this.c.push(["Brain 5","/2/5"]);this.c.push(["Brain 6","6/246/3"]);this.c.push(["Brian's Brain","/2/3"]);this.c.push(["Burst","0235678/3468/9"]);this.c.push(["BurstII","235678/3468/9"]);this.c.push(["Caterpillars","124567/378/4"]);this.c.push(["Chenille","05678/24567/6"]);this.c.push(["Circuit Genesis","2345/1234/8"]);this.c.push(["Constellations","/23/3"]);this.c.push(["Cooties","23/2/8"]);this.c.push(["Ebb&Flow",
"012478/36/18"]);this.c.push(["Ebb&Flow II","012468/37/18"]);this.c.push(["Faders","2/2/25"]);this.c.push(["Fireworks","2/13/21"]);this.c.push(["Flaming Starbows","347/23/8"]);this.c.push(["Free Star","0345/2/10"]);this.c.push(["Frogs","12/34/3"]);this.c.push(["Frozen spirals","356/23/6"]);this.c.push(["Glisserati","035678/245678/7"]);this.c.push(["Glissergy","035678/245678/5"]);this.c.push(["Lava","12345/45678/8"]);this.c.push(["Lines","012345/458/3"]);this.c.push(["LivingOn TheEdge","345/3/6"]);
this.c.push(["Meteor Guns","01245678/3/8"]);this.c.push(["Nova","45678/2478/25"]);this.c.push(["OrthoGo","3/2/4"]);this.c.push(["Prairie on fire","345/34/6"]);this.c.push(["RainZha","2/23/8"]);this.c.push(["Rake","3467/2678/6"]);this.c.push(["SediMental","45678/25678/4"]);this.c.push(["Snake","03467/25/6"]);this.c.push(["SoftFreeze","13458/38/6"]);this.c.push(["Spirals","2/234/5"]);this.c.push(["Star Wars","345/2/4"]);this.c.push(["Sticks","3456/2/6"]);this.c.push(["Swirl","23/34/8"]);this.c.push(["Tadpoles",
"0125678/345678/64"]);this.c.push(["ThrillGrill","1234/34/48"]);this.c.push(["Transers","345/26/5"]);this.c.push(["TransersII","0345/26/6"]);this.c.push(["Transers 2","0345/26/6"]);this.c.push(["Transers 3","0345/26/7"]);this.c.push(["Wallplicators","345/25678/7"]);this.c.push(["Wanderers","345/34678/5"]);this.c.push(["Worms","3467/25/6"]);this.c.push(["Xtasy","1456/2356/16"]);this.cf.push("NT M G");this.c.push(["Isotropic Non-Totalistic Generations Moore",""]);this.c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);
this.c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);this.cf.push("LtL M");this.c.push(["Larger than Life Moore",""]);this.c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);this.c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);this.c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);this.c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);this.c.push(["Bugs R6","R6,C2,M1,S47..81,b47..63,NM"]);this.c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);this.c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);
this.c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);this.c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);this.c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);this.c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);this.c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);this.c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);this.c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);this.c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);
this.c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);this.c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);this.c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);this.c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);this.c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);this.c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);this.c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);this.c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);this.c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);
this.c.push(["Stones","R2,C2,M1,S29..58,B38..61,NM"]);this.c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);this.c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);this.c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);this.c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);this.cf.push("LtL M G");this.c.push(["Generations Larger than Life Moore",""]);this.c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);this.c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);this.cf.push("HROT M");
this.c.push(["Higher-Range Outer-Totalistic Moore",""]);this.c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.cf.push("Alt OT M");this.c.push(["Alternating Outer-Totalistic Moore",""]);this.c.push(["alternlife","B13/S012345678|B/S15"]);this.c.push(["comb625","B3/S348|B2/S356"]);this.c.push(["Fizzler","B13/S3|B/S345678"]);this.c.push(["Jelly","B3/S135|B2/S5"]);this.c.push(["Phoenix","B24/S|B35/S"]);this.cf.push("Alt NT M");this.c.push(["Alternating Non-Totalistic Moore",""]);this.c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);this.c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);this.c.push(["Unidim3",
"B12ci34578/S02345678|B6i7/S268"]);this.c[0][2]=!1;for(d=1;d<this.c.length;d+=1){var b=this.c[d][1];this.c[d][2]=!1;for(c=0;c<d;c+=1)this.c[c][1]===b&&(this.c[c][2]=!0,this.c[d][2]=!0,c=d)}},Kt:function(d){var c=null,b=0;for(d=d.toLowerCase();b<this.c.length&&null===c;)""!==this.c[b][1]&&this.c[b][0].toLowerCase()===d&&(c=this.c[b][1]),b+=1;return c},Zx:function(d){for(var c=null,b=0;b<this.c.length&&null===c;)""!==this.c[b][1]&&this.c[b][1]===d&&(c=this.c[b][0]),b+=1;return c}};(function(){function d(a,f,g,e,b){this.h=b;this.ha=a;this.va=f;this.Fa=g;this.message="";this.G=a;this.W=f;this.Ca=g;this.Ig="";this.context=e;this.Aa=!1;this.da=this.i=0;this.ne="rgb(32,255,255)";this.Ru="white";this.f=0;this.Fp=!1;this.bb=this.Bb="black";this.enabled=!1;this.m=30}function c(a,f,g,e){this.name=a;this.width=f;this.height=g;this.Xl=e}function b(a,f){this.context=f;this.W=a;this.height=this.width=0;this.G=this.i=this.f=null;this.m=[];this.Eo=!0;this.yr=-1;this.Id=!1}function a(a,f,
e,b,c,d,z,m,n,p,B,D,q,t,G,k,u,C,x,F){this.id=a;this.F="";this.gi=-1;this.l=!1;this.Jc=f;this.caller=e;this.icon=x;this.x=c;this.y=d;this.bf=c;this.f=d;this.position=b;this.width=z;this.height=m;this.border=t;this.type=D;q===g.Zs?this.orientation=z>=m?g.Vc:g.vertical:this.orientation=q;this.xm=this.orientation;this.lower=n;this.upper=p;D===g.uc?this.current=[B,B]:this.current=B;this.vs=G;this.ub=k;this.ur=u;this.fixed=C;this.Wn=!1;this.Il=this.Hl=this.Kl=this.Jl=this.fu=this.eu=-1;this.textAlign=g.it;
this.enabled=!0;this.locked=!1;this.Dm=[];this.uo=0;this.ly=!1;this.Pc=F.Pc;this.Ic=F.Ic;if(D===g.list)for(this.bl=[],a=0;a<n.length;a+=1)this.bl[a]=this.Pc;this.Fd=F.Fd;this.Wd=F.Wd;this.yf=F.yf;this.lh=F.lh;this.yi=F.yi;this.xj=F.xj;this.Af=F.Af;this.ji=F.ji;this.yg=F.yg;this.Ti=F.Ti;this.border=F.border;this.font=F.Yj}function e(a,f,e,b,c){this.context=b;this.Yj=c;this.locked=this.l=!1;this.Dg=this.Ye=-1;this.Ui=this.Zb=!1;this.G=6;this.Jc=a;this.pd=[];this.rb=0;this.Pc="";this.Ic=0;this.Fd="";
this.Wd=0;this.yf="";this.lh=0;this.yi="";this.xj=0;this.Af="";this.ji=0;this.yg="";this.border=this.Ti=0;this.i=g.Zs;this.oi=this.Oh=-1;this.hq=this.Fs=null;this.Pm=f;this.caller=e;this.ia=null}function f(a,f,g,e,b,c){var l=this,m=0,H=a.canvas;this.Jq=this.vr=!0;this.W=this.da=40;this.pA=50;this.vg=0;this.f=this.i=this.m=-1;this.sj=!1;this.caller=b;this.Qg=this.wa=this.si=this.Gb=!1;this.Dc=4;this.Ht=c;this.hasFocus=this.Qp=!1;this.$k=!0;this.Jm=!1;this.Ki=1;this.Pc="black";this.Ic=.7;this.Fd="white";
this.Wd=1;this.yf="rgb(0,240,32)";this.lh=.7;this.yi="blue";this.xj=.7;this.Af="grey";this.ji=1;this.yg="rgb(32,255,255)";this.border=this.Ti=1;this.ht=function(a){return function(){a.Pa(a)}}(this);this.ia=e;this.Bf=a;this.rd=f;this.Zb=!1;this.sh=this.rh=-1;this.Kc=null;this.Yj=g;this.Ai=this.Bi=!1;this.Xn=performance.now();this.qj=5;this.Bm=0;this.Uq=[];this.Wq=[];this.Tq=[];for(m=0;5>m;m+=1)this.Uq[m]=0,this.Wq[m]=0,this.Tq[m]=0;this.Ml=null;this.Rg=!1;this.notification=new d(25,100,25,f,this);
this.du=performance.now();this.Ui=this.rs=!1;this.offsetTop=this.offsetLeft=0;registerEvent(H,"mousedown",function(a){l.ha(l,a)},!1);registerEvent(H,"mousemove",function(a){l.va(l,a)},!1);registerEvent(H,"mouseup",function(a){l.Fa(l,a)},!1);registerEvent(H,"mouseover",function(a){l.Ca(l,a)},!1);registerEvent(H,"mouseout",function(a){l.Aa(l,a)},!1);registerEvent(H,"touchstart",function(a){l.G(l,a)},!1);registerEvent(H,"touchmove",function(a){l.G(l,a)},!1);registerEvent(H,"touchend",function(a){l.G(l,
a)},!1)}d.prototype.cj=function(){var a=!1;if(""!==this.message||""!==this.Ig)a=!0;return a};d.prototype.clear=function(a,f){a?""!==this.Ig&&(f?this.Ig="":this.da=performance.now()-(this.G+this.W)):""!==this.message&&(f?this.message="":this.i=performance.now()-(this.ha+this.va))};d.prototype.T=function(a,f,g){this.enabled&&(g?this.Ig!==a&&(this.Ig=a,this.G=240,this.W=16*f,this.Ca=240,this.da=performance.now(),this.f=0,this.Fp=!1):(this.message=a,this.ha=240,this.va=16*f,this.Fa=240,this.i=performance.now()))};
d.prototype.dj=function(a,f){96>this.context.canvas.width&&(this.m=24);var g=this.m;var l=this.context.measureText(a).width>>1;if(this.Aa){this.context.fillStyle=this.bb;var H=this.context.globalAlpha;this.context.globalAlpha=.5*H;this.context.fillRect(-l-20,-g,2*l+40,2*g);this.context.globalAlpha=H}this.context.fillStyle=this.Bb;this.context.fillText(a,-l+2,2);f?this.Fp?(this.context.fillStyle=128>this.f?"rgb("+2*this.f+","+2*this.f+",255)":"rgb("+2*(256-this.f)+","+2*(256-this.f)+",255)",this.f=
this.f+4&255):this.context.fillStyle=this.Ru:this.context.fillStyle=this.ne;this.context.fillText(a,-l,0)};d.prototype.Pa=function(a,f,g,e,b,c,d){var m=this.m,l=m+2,H=this.h.Dc,L=60,h=!0;this.h.Gb?(L=0,c=this.context.canvas.height/2,this.Aa=!0):this.Aa=!1;""!==a&&(h=!1,b=performance.now()-b,this.context.save(),this.h.wa&&(d?(L=0,c=this.context.canvas.height/2):(m/=H,l=l/H|0,c=c/H|0,L=L/H|0)),this.context.font=m+"px Arial",this.context.translate(this.context.canvas.width/2-1,L+c),b<=f?(c=b/f,c*=c,
this.context.globalAlpha=c,this.context.scale(c,c)):b>f+g&&b<=f+g+e&&(c=(e-(b-(f+g)))/e,c*=c,this.context.globalAlpha=c,this.context.scale(c,c)),b>f+g+e?h=!0:(f=a.indexOf("\\n"),-1===f?this.dj(a,d):(this.dj(a.substr(0,f),d),this.context.translate(0,l),this.dj(a.substr(f+2),d))),this.context.restore());return h};d.prototype.update=function(){this.Pa(this.message,this.ha,this.va,this.Fa,this.i,81,!1)&&(this.message="");this.h.wa&&"Expand"!==this.Ig&&"Launch"!==this.Ig||!this.Pa(this.Ig,this.G,this.W,
this.Ca,this.da,45,!0)||(this.Ig="")};b.prototype.dj=function(a,f,g){var l;this.Id||(this.width=this.W.width,this.height=this.W.height,this.f=document.createElement("canvas"),this.f.width=this.width,this.f.height=this.height,this.i=this.f.getContext("2d"),this.G=new Image);if(this.Eo){this.i.drawImage(this.W,0,0);var H=this.i.getImageData(0,0,this.f.width,this.f.height);var e=new Uint32Array(H.data.buffer);for(l=0;l<e.length;l+=1)4294967295===e[l]&&(e[l]=this.yr);this.i.putImageData(H,0,0);this.Id=
this.Eo=!1}this.Id||(this.G.src=this.f.toDataURL("image/png"),this.Id=!0);this.context.drawImage(this.G,a.Xl*a.width,0,a.width,a.height,f,g,a.width,a.height)};b.prototype.length=function(){return this.m.length};b.prototype.icon=function(a){var f,g=this.m,l=this.length(),e=null;for(f=0;f<l&&!e;)g[f].name===a?e=g[f]:f+=1;return e};b.prototype.add=function(a,f,g){var l=this.m.length;this.m[l]=new c(a,f,g,l)};var g={Zs:0,Vc:1,vertical:2,uc:0,button:1,toggle:2,Be:3,list:4,label:5,Ak:0,Ia:1,left:0,it:1,
right:2,Lb:0,fb:1,Et:2,ce:3,Nr:4,Kg:5,Uv:6,Mc:7,Cy:8};a.prototype.nm=function(a,f,g,e,b,c){this.Fd=a;this.Pc=f;this.yf=g;this.yi=e;this.Af=b;this.yg=c};a.prototype.setPosition=function(a,f,g){this.position=a;this.bf=f;this.f=g;this.x=f;this.y=g};a.prototype.Qw=function(a,f){this.x=this.bf;this.y=this.f;switch(this.position){case g.Lb:this.x=(a-this.width>>1)+this.bf;break;case g.fb:this.x=a+this.bf;break;case g.Et:this.y=(f-this.height>>1)+this.f;this.x=a+this.bf;break;case g.ce:this.x=a+this.bf;
this.y=f+this.f;break;case g.Nr:this.x=(a-this.width>>1)+this.bf;this.y=f+this.f;break;case g.Kg:this.y=f+this.f;break;case g.Uv:this.y=(f-this.height>>1)+this.f;break;case g.Cy:this.x=(a-this.width>>1)+this.bf,this.y=(f-this.height>>1)+this.f}};a.prototype.Qs=function(a,f){var g=this.uo;this.Dm[g]=[a,f];this.uo=g+1};a.prototype.Bp=function(a){var f=[],g;var l=a.length;for(g=0;g<l;g+=1)a[g].Qs(this,!0);l=f.length;for(g=0;g<l;g+=1)f[g].Qs(this,!1)};a.prototype.Jy=function(a,f){var g=!1;this.enabled&&
a>=this.x&&a<this.x+this.width&&f>=this.y&&f<this.y+this.height&&(g=!0);return g};e.prototype.nm=function(a,f,g,e,b,c){var l;this.Fd=a;this.Pc=f;this.yf=g;this.Af=b;this.yg=c;for(l=0;l<this.pd.length;l+=1)this.pd[l].nm(a,f,g,e,b,c)};e.prototype.m=function(a,f){var l=!1,H=a.uo;a.type===g.list&&a.upper===g.Ia?l=a.current[0]:l=a.current===a.upper;a.ly&&(l=!l);if(l&&f)for(f=0;f<H;f+=1)l=l&&this.m(a.Dm[f][0],a.Dm[f][1]);return l};e.prototype.Av=function(a){var f,g=a.uo;var l=!0;for(f=0;f<g;f+=1)l=l&&this.m(a.Dm[f][0],
a.Dm[f][1]);a.enabled=l};e.prototype.Id=function(){var a;for(a=0;a<this.rb;a+=1){var f=this.pd[a];f.enabled=!0;switch(f.type){case g.toggle:f.Jc&&(f.current=f.Jc(f.current===f.upper,!1,this.caller)?f.upper:f.lower);break;case g.uc:f.Jc&&(f.current=f.Jc(f.current,!1,this.caller));break;case g.list:f.Jc&&(f.current=f.Jc(f.current,!1,this.caller))}this.Av(f)}};e.prototype.mb=function(f,H,e,b,c,d,z,m,n){this.pd[this.rb]=new a(this.rb,f,this.caller,H,e,b,c,d,z,n,m,g.list,this.i,this.border,!0,"","",-1,
[],this);this.rb+=1;return this.pd[this.rb-1]};e.prototype.$g=function(f,H,e,b,c,d,z,m,n,p,B,D){this.pd[this.rb]=new a(this.rb,f,this.caller,H,e,b,c,d,z,m,n,g.uc,this.i,this.border,!0,p,B,D,null,this);this.rb+=1;return this.pd[this.rb-1]};e.prototype.Cb=function(f,H,e,b,c,d){this.pd[this.rb]=new a(this.rb,null,null,f,H,e,b,c,0,0,0,g.label,this.i,this.border,!0,d,"",-1,null,this);this.rb+=1;return this.pd[this.rb-1]};e.prototype.Dd=function(f,H,e,b,c,d){this.pd[this.rb]=new a(this.rb,f,this.caller,
H,e,b,c,40,0,0,0,g.button,this.i,this.border,!0,d,"",-1,null,this);this.rb+=1;return this.pd[this.rb-1]};e.prototype.Aw=function(){this.pd[this.rb]=new a(this.rb,null,null,Menu.Kg,0,-40,100,40,0,100,0,g.Be,this.i,this.border,!1,"","",0,null,this);this.rb+=1;return this.pd[this.rb-1]};e.prototype.f=function(a,f,e){var l;a+=String();if(""!==a){this.context.save();this.context.translate(f.x+f.width/2,f.y+f.height/2);this.context.font=f.font;f.xm===g.vertical&&this.context.rotate(.5*Math.PI);var H=this.context.measureText(a).width;
var L=f.xm===g.vertical?f.height:f.width;if(H>=L-6){if(l=a.length){do{--l;var b=a.substr(0,l)+"...";H=this.context.measureText(b).width}while(1<l&&H>=L-6)}a=b}switch(f.textAlign){case g.left:var m=f.width/2-2;break;case g.it:m=H/2;break;case g.right:m=H/2-(f.width-H)/2+4}this.context.fillStyle=f.Pc;e&&this.context.fillRect(2-m,2,H,2);this.context.fillText(a,2-m+.5,2.5);this.context.fillStyle=f.locked||this.locked?f.Af:f.Fd;this.context.fillText(a,-m+.5,.5);e&&this.context.fillRect(-m,0,H,2);this.context.restore()}};
e.prototype.ha=function(a){this.context.globalAlpha=this.Wd;this.f(a.ub,a,!1)};e.prototype.W=function(a){this.context.globalAlpha=this.Wd;this.f(a.ub,a,!1)};e.prototype.Aa=function(a){var f=(a.current-a.lower)/(a.upper-a.lower);this.context.globalAlpha=a.Ic;this.context.fillStyle=a.Fd;a.orientation===g.Vc?(f*=a.width-3,this.context.fillRect(a.x+(f+1|0),a.y,1,a.height)):(f*=a.height-3,this.context.fillRect(a.x,a.y+(f+1|0),a.width,1));f=a.ub;a.vs&&(f=-1!==a.fixed?f+a.current.toFixed(a.fixed):f+a.current,
f+=a.ur);""!==f&&(this.context.globalAlpha=a.Wd,this.f(f,a,!1))};e.prototype.Ca=function(a,f){var l=(a.current[0]-a.lower)/(a.upper-a.lower);var H=this.G;a.orientation===g.Vc?(l*=a.width-3,l=l+1|0,f&&(this.context.fillStyle=a.yf,this.context.globalAlpha=a.lh,this.context.fillRect(a.x+l-H,a.y,H,a.height),this.context.fillRect(a.x+l+1,a.y,H,a.height)),a.locked||this.locked?(this.context.fillStyle=a.Af,this.context.globalAlpha=a.ji):(this.context.fillStyle=a.Fd,this.context.globalAlpha=a.Wd),this.context.fillRect(a.x+
l,a.y,1,a.height)):(l*=a.height-3,l=l+1|0,f&&(this.context.fillStyle=a.yf,this.context.globalAlpha=a.lh,this.context.fillRect(a.x,a.y+l-H,a.width,H),this.context.fillRect(a.x,a.y+l+1,a.width,H)),a.locked||this.locked?(this.context.fillStyle=a.Af,this.context.globalAlpha=a.ji):(this.context.fillStyle=a.Fd,this.context.globalAlpha=a.Wd),this.context.fillRect(a.x,a.y+l,a.width,1));f=a.ub;a.vs&&(f=0<=a.fixed?f+a.current[1].toFixed(a.fixed):f+a.current[1]);f+=a.ur;""!==f&&(this.context.globalAlpha=this.Wd,
this.f(f,a,!1))};e.prototype.Fa=function(a){this.context.globalAlpha=this.Wd;var f="-"===a.lower&&""===a.upper&&a.current===a.lower;var g=a.ub;a.vs&&!f&&(g+=a.current);g+=a.ur;this.f(g,a,f)};e.prototype.va=function(a,f){var l=a.x;var H=a.y;var e=a.width;var b=a.height;var c=a.orientation;var m=a.current;var n=a.lower;var p=n.length;var d=a.orientation===g.Vc?e/p:b/p;this.context.globalAlpha=a.xj;this.context.fillStyle=a.yi;if(a.upper===g.Ak){var D=a.current;0<=D&&D<p&&(a.orientation===g.Vc?this.context.fillRect(l+
D*d+1,H+1,d-2,b-2):this.context.fillRect(l+1,H+1+D*d,e-2,d-2))}else if(a.orientation===g.Vc)for(D=0;D<p;D+=1)m[D]&&this.context.fillRect(l+D*d+1,H+1,d-2,b-2);else for(D=0;D<p;D+=1)m[D]&&this.context.fillRect(l+1,H+1+D*d,e-2,d-2);f?(this.context.globalAlpha=a.lh,this.context.fillStyle=a.yf,a.orientation===g.Vc?(D=(this.Ye-l)/e*p|0,0<=D&&D<p&&this.context.fillRect(l+D*d+.5,H+.5,d-1,b-1)):(D=(this.Dg-H)/b*p|0,0<=D&&D<p&&this.context.fillRect(l+.5,H+.5+D*d,e-1,d-1)),a.gi=D):a.gi=-1;this.context.globalAlpha=
this.Wd;if(a.orientation===g.Vc)for(D=0;D<p;D+=1)a.icon[D]&&this.ia.dj(a.icon[D],a.x+d*D,a.y);else for(D=0;D<p;D+=1)a.icon[D]&&this.ia.dj(a.icon[D],a.x,a.y+d*D);this.context.globalAlpha=a.Wd;this.context.fillStyle=a.Fd;if(c===g.Vc)for(D=0;D<p;D+=1)l=n[D],""!==l&&(this.context.save(),this.context.translate((.5+(D-p/2))*d,0),this.f(l,a,!1),this.context.restore());else for(D=0;D<p;D+=1)l=n[D],""!==l&&(this.context.save(),this.context.translate(0,(.5+(D-p/2))*d),this.f(l,a,!1),this.context.restore())};
e.prototype.da=function(a,f,e,b){!(e===b||-1===b&&f)||a.type!==g.button&&a.type!==g.toggle?(this.context.fillStyle=a.Pc,this.context.globalAlpha=a.Ic):(this.context.fillStyle=a.yf,this.context.globalAlpha=a.lh);switch(a.type){case g.Be:var l=(a.current-a.lower)/(a.upper-a.lower);this.context.fillStyle=a.yi;this.context.globalAlpha=a.xj;a.orientation===g.Vc?(l*=a.width-3,l=l+1|0,this.context.fillRect(a.x,a.y,l,a.height),this.context.fillStyle=a.Pc,this.context.globalAlpha=a.Ic,this.context.fillRect(a.x+
l,a.y,a.width-l,a.height)):(l*=a.height-3,l=l+1|0,this.context.fillRect(a.x,a.y,a.width,l),this.context.fillStyle=a.Pc,this.context.fillRect(a.x,a.y+l,a.width,a.height-l));break;case g.uc:l=(a.current[0]-a.lower)/(a.upper-a.lower);if(e===b||-1===b&&f){var H=this.G;if(a.orientation===g.Vc){l*=a.width-3;l=l+1|0;var L=l-H;0<L&&this.context.fillRect(a.x,a.y,L,a.height);L=1+l+H;L<a.width&&this.context.fillRect(a.x+L,a.y,a.width-L,a.height)}else l*=a.height-3,l=l+1|0,L=l-H,0<L&&this.context.fillRect(a.x,
a.y,a.width,L),L=1+l+H,L<a.height&&this.context.fillRect(a.x,a.y+L,a.width,a.height-L)}else this.context.fillRect(a.x,a.y,a.width,a.height);break;case g.list:H=a.lower.length;if(a.orientation===g.Vc)for(L=a.width/H,l=0;l<H;l+=1)this.context.fillStyle=a.bl[l],this.context.fillRect(a.x+l*L+1,a.y+1,L-2,a.height-2);else for(L=a.height/H,l=0;l<H;l+=1)this.context.fillStyle=a.bl[l],this.context.fillRect(a.x+1,a.y+1+l*L,a.width-2,L-2);break;default:this.context.fillRect(a.x,a.y,a.width,a.height)}a.type!==
g.list&&a.icon&&(this.context.globalAlpha=a.Wd,this.ia.dj(a.icon,a.x,a.y));if(0<a.border)switch(a.locked||this.locked?(this.context.strokeStyle=a.Af,this.context.globalAlpha=a.ji):(this.context.strokeStyle=a.yg,this.context.globalAlpha=a.Ti),this.context.lineWidth=a.border,a.type){case g.label:break;case g.list:H=a.lower.length;if(a.orientation===g.Vc)for(L=a.width/H,l=0;l<H;l+=1)this.context.strokeRect(a.x+.5+l*L,a.y+.5,L-1,a.height-1);else for(L=a.height/H,l=0;l<H;l+=1)this.context.strokeRect(a.x+
.5,a.y+.5+l*L,a.width-1,L-1);break;default:this.context.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case g.button:this.W(a);break;case g.label:this.ha(a);break;case g.uc:this.Ca(a,e===b||-1===b&&f);break;case g.toggle:this.Fa(a);break;case g.Be:this.Aa(a);break;case g.list:this.va(a,e===b||-1===b&&f)}if(e===b)switch(a.type){case g.uc:l=this.Dg,a.orientation===g.vertical?(l<a.y?l=a.y:l>=a.y+a.height&&(l=a.y+a.height-1),a.current[0]=(l-a.y)/(a.height-1)*(a.upper-a.lower)+a.lower):
(l=this.Ye,l<a.x?l=a.x:l>=a.x+a.width&&(l=a.x+a.width-1),a.current[0]=(l-a.x)/(a.width-1)*(a.upper-a.lower)+a.lower),a.Jc&&(a.current=a.Jc(a.current,!0,a.caller))}if(f&&!this.Zb&&a.Wn)switch(a.type){case g.button:a.Jc&&a.Jc(a.caller);break;case g.toggle:a.current=a.current===a.upper?a.lower:a.upper;a.Jc&&a.Jc(a.current===a.upper,!0,a.caller);break;case g.list:H=a.lower.length,L=a.orientation===g.Vc?(this.Ye-a.x)/a.width*H|0:(this.Dg-a.y)/a.height*H|0,a.upper===g.Ak?a.Jc?a.current=a.Jc(L,!0,a.caller):
a.current=L:(a.current[L]=!a.current[L],a.Jc&&a.Jc(a.current,!0,a.caller))}f&&e===b?(a.Wn=this.Zb,a.eu=this.Ye,a.fu=this.Dg):(a.Wn=!1,a.eu=-1,a.fu=-1)};e.prototype.lq=function(){var a,f,e=this.context.canvas.width,b=this.context.canvas.height;var c=!1;this.oi=-1;if(this.l)this.Zb?this.Oh=-2:(-2===this.Oh&&this.Fs&&this.Fs(this.Ye,this.Dg,this.Zb,this.caller),this.Zb||(this.Oh=-1));else{var d=this.Oh;this.context.textAlign="left";for(f=0;f<this.rb;f+=1){var z=this.pd[f];z.l||(z.Qw(e,b),(a=z.Jy(this.Ye,
this.Dg)&&!(z.locked||this.locked))&&!this.Zb&&(this.oi=f),(this.Zb&&-1===d&&a||a&&this.Ui)&&z.type!==g.label&&(d=f,this.Ui&&(z.Wn=f)),f===d&&(z.locked||this.locked)&&(d=-1,a=!1),z.enabled&&this.da(z,a,f,d))}0<=d&&!this.Zb&&(c=!0);this.Zb&&-1===d&&(d=-2);-2===d&&this.hq&&!this.locked&&this.hq(this.Ye,this.Dg,this.Zb,this.caller);this.Zb||(d=-1);this.Oh=d;this.context.globalAlpha=1}return c};f.prototype.nm=function(a,f,g,e,b,c){this.Fd=a;this.Pc=f;this.yf=g;this.Af=b;this.yg=c;this.Kc&&this.Kc.nm(a,
f,g,e,b,c)};f.prototype.Ww=function(){var a=this.Bf.canvas,f=a.offsetParent;this.offsetLeft=a.offsetLeft;for(this.offsetTop=a.offsetTop;f;)this.offsetLeft+=f.offsetLeft,this.offsetTop+=f.offsetTop,f=f.offsetParent;f=a.parentNode;if("fixed"===f.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==f.tagName.toLowerCase();)this.offsetLeft-=f.scrollLeft,this.offsetTop-=
f.scrollTop,f=f.parentNode};f.prototype.jx=function(a,f,g){a=new e(a,f,g,this.rd,this.Yj);a.Fd=this.Fd;a.Wd=this.Wd;a.Pc=this.Pc;a.Ic=this.Ic;a.yf=this.yf;a.lh=this.lh;a.yi=this.yi;a.xj=this.xj;a.Af=this.Af;a.ji=this.ji;a.yg=this.yg;a.Ti=this.Ti;a.border=this.border;return a};f.prototype.Nx=function(){var a=this.Kc,f=this.rd,e="";var b=1;if(-1!==a.Oh||-1===a.Oh&&-1===a.oi)this.f=a.Oh;if(-1===a.oi||-1!==this.f&&this.f===a.oi){if(-1!==a.oi){var c=a.pd[a.oi];c.id===this.m&&c.gi!==this.i&&(this.f=-1)}50>
this.vg&&(this.vg+=1)}else if(c=a.pd[a.oi],c.id!==this.m||c.id===this.m&&c.gi!==this.i?(this.m=c.id,this.i=c.gi,50>this.vg&&(this.vg+=1)):0<=this.vg&&--this.vg,a=-1!==this.i?c.F[this.i]:c.F,""!==a&&-1===this.vg){this.f=-1;var d=c.x;var z=c.y;var m=c.width;var n=c.height;-1!==c.gi&&(c.orientation===g.Vc?(d+=m/c.lower.length*c.gi,m/=c.lower.length):(z+=n/c.lower.length*c.gi,n/=c.lower.length));f.font="18px Arial";var p=f.measureText(a).width;var B=Math.round(d+m/2);z=Math.round(z+n/2);B-=p/2;5>B?B=
5:B+p+4>f.canvas.width&&(B=f.canvas.width-p-4-1);n>m?(-1!==this.W&&m<this.W&&(m=this.W),B>f.canvas.width/2?B=d-p-m/2:B=d+c.width+m/2):(-1!==this.da&&n<this.da&&(n=this.da),z>f.canvas.height/2?z-=n:z+=n);if(p>f.canvas.width){e=(p>>1)+22;e>f.canvas.width&&(e=f.canvas.width);for(p=1;f.measureText(a.substr(0,p)).width<e;)p+=1;for(b=p-1;b>p-5;)e=a[b]," "===e||","===e||"/"===e?(p=b+2,b=p-5):--b;e=a.substr(p-1);a=a.substr(0,p-1);p=f.measureText(a).width;b=f.measureText(e).width;b>p&&(p=b);b=2}f.globalAlpha=
this.Ic;f.fillStyle=this.Pc;f.fillRect((B-4|0)-.5,(z-9-4|0)-.5,p+2+8,18*b+8);f.globalAlpha=this.Ti;f.strokeStyle=this.yg;f.strokeRect((B-4|0)-.5,(z-9-4|0)-.5,p+2+8,18*b+8);f.globalAlpha=this.Ic;f.strokeStyle=this.Pc;f.beginPath();f.moveTo((B-4|0)+.5,(z-9-4|0)+.5+18*b+8);f.lineTo((B-4|0)+.5+p+2+8,(z-9-4|0)+.5+18*b+8);f.lineTo((B-4|0)+.5+p+2+8,(z-9-4|0)+.5);f.stroke();f.globalAlpha=1;f.fillStyle=this.Pc;f.fillText(a,B+2,z+2);""!==e&&f.fillText(e,B+2,z+18+2);f.fillStyle=this.Fd;f.fillText(a,B,z);""!==
e&&f.fillText(e,B,z+18)}};f.prototype.Pa=function(a){var f,g=a.rd,l=g.canvas.width-86,e=90;a.wa&&(e=0);a.Jm=!1;a.rs=!0;a.Ml&&(a.Kc=a.Ml,a.Ml=null,g.font=a.Yj,a.Kc.Id(),a.Kc.Pm&&a.Kc.Pm(a.Kc.caller));var b=performance.now();a.Jq&&(a.Xn=b-1E3/60);a.$k||a.notification.cj()||a.Ki||a.pA!==a.vg&&-1!==a.vg?(a.lm(a),a.Ki&&--a.Ki,a.Jq=!1):a.Jq=!0;var c=b-a.Xn;a.Xn=b;a.Kc.Jc&&a.Kc.Jc(c,a.Kc.caller);b=performance.now()-b;var m=performance.now();a.lq();a.Ui=!1;a.Nx();a.notification.update();m=performance.now()-
m;a.Uq[a.Bm]=m;for(f=m=0;f<a.qj;f+=1)m+=a.Uq[f];m/=a.qj;a.Wq[a.Bm]=b;for(f=b=0;f<a.qj;f+=1)b+=a.Wq[f];b/=a.qj;a.Tq[a.Bm]=c;for(f=c=0;f<a.qj;f+=1)c+=a.Tq[f];c/=a.qj;a.Bm=(a.Bm+1)%a.qj;c=1E3/c;if(a.Bi){g.font="12px Arial";g.globalAlpha=.7;g.fillStyle="black";a.Ai?g.fillRect(l,e,88,83):g.fillRect(l,e,88,20);f=(b+m)/16.6666;1<f&&(f=1);g.fillStyle=.5>f?"rgb("+(510*f|0)+",255,0)":"rgb(255,"+(255*(1-2*(f-.5))|0)+",0)";g.fillRect(l,e,88*f|0,20);m=m.toFixed(1);b=b.toFixed(1);4>c.toFixed(1).length?c=c.toFixed(1):
c|=0;g.globalAlpha=1;g.fillStyle="black";var n=c+"fps";var p=g.measureText(n).width;g.fillText(n,l+36-p,e+12);n=(100*f|0)+"%";p=g.measureText(n).width;g.fillText(n,l+84-p,e+12);a.Ai&&(g.fillText("menu",l+6,e+28),g.fillText("work",l+6,e+44),g.fillText("update",l+6,e+60),g.fillText("focus",l+6,e+76),n=m+"ms",p=g.measureText(n).width,g.fillText(n,l+84-p,e+28),n=b+"ms",p=g.measureText(n).width,g.fillText(n,l+84-p,e+44),n=a.$k?"on":"off",p=g.measureText(n).width,g.fillText(n,l+84-p,e+60),n=a.hasFocus?
"on":"off",p=g.measureText(n).width,g.fillText(n,l+84-p,e+76));g.fillStyle="white";n=c+"fps";p=g.measureText(n).width;g.fillText(n,l+34-p,e+10);n=(100*f|0)+"%";p=g.measureText(n).width;g.fillText(n,l+82-p,e+10);a.Ai&&(g.fillText("menu",l+4,e+26),g.fillText("work",l+4,e+42),g.fillText("update",l+4,e+58),g.fillText("focus",l+4,e+74),n=m+"ms",p=g.measureText(n).width,g.fillText(n,l+82-p,e+26),n=b+"ms",p=g.measureText(n).width,g.fillText(n,l+82-p,e+42),n=a.$k?"on":"off",p=g.measureText(n).width,g.fillText(n,
l+82-p,e+58),n=a.hasFocus?"on":"off",p=g.measureText(n).width,g.fillText(n,l+82-p,e+74));g.globalAlpha=1}a.Bf.drawImage(g.canvas,0,0);a.vr=!0};f.prototype.uw=function(a){a.ia=this.ia;this.Kc?this.Ml=a:(this.Ml=null,this.Kc=a,this.rd.font=this.Yj,this.Kc.Id(),this.Kc.Pm&&this.Kc.Pm(this.Kc.caller),this.lm(this))};f.prototype.lq=function(){var a;if(this.Kc){var f=this.Kc;this.rd.font=this.Yj;f.Ye=this.rh;f.Dg=this.sh;f.Zb=this.Zb;f.Ui=this.Ui;if(f.lq()||this.Rg){for(a=0;a<f.rb;a+=1){var g=f.pd[a];f.Av(g)}this.Rg=
!1}}};f.prototype.lm=function(a){a.Jm||(requestAnimationFrame?requestAnimationFrame(a.ht):setTimeout(a.ht,16),a.Jm=!0)};f.prototype.G=function(a,f){var g="";if("touchend"===f.type){g="mouseup";var l=document.createEvent("MouseEvent");l.initMouseEvent(g,!0,!0,window,1,a.Jl,a.Kl,a.Hl,a.Il,!1,!1,!1,!1,0,null);f.target.dispatchEvent(l);f.preventDefault()}else{if(1===f.touches.length)switch(f.type){case "touchstart":g="mousedown";break;case "touchmove":g="mousemove"}if(""!==g){var e=f.changedTouches[0];
l=document.createEvent("MouseEvent");l.initMouseEvent(g,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);e.target.dispatchEvent(l);f.preventDefault();a.Jl=e.screenX;a.Kl=e.screenY;a.Hl=e.clientX;a.Il=e.clientY}}};f.prototype.ha=function(a,f){a.sj||(a.Jj(a,f),a.Zb=!0,a.rs=!1,f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Fa=function(a,f){a.du=performance.now();a.sj||(a.Jj(a,f),a.Zb=!1,a.rs||(a.Ui=!0),a.hasFocus||(a.Bf.canvas.focus(),a.hasFocus=!0,
a.notification.clear(!0,!1),a.Ht&&a.Ht(a.caller)),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.jt=function(a){a.hasFocus||a.Qp&&""!==a.notification.Ig||(a.Gb?a.si||a.notification.T("Copy",3600,!0):a.wa?a.Qg?a.notification.T("Launch",3600,!0):a.notification.T("Expand",3600,!0):a.notification.T("Click to control",3600,!0),a.notification.Fp=!0,a.Qp=!0)};f.prototype.va=function(a,f){a.sj||(a.jt(a),a.Jj(a,f),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Ca=
function(a,f){a.sj||(a.jt(a),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Aa=function(a,f){var g=performance.now()-a.du;a.sj||(1<g&&(a.hasFocus||a.notification.clear(!0,!1),a.Bf.canvas.blur(),a.hasFocus=!1,a.Zb=!1,a.rh=-1,a.sh=-1,a.Qp=!1,a.Jm||(a.lm(a),2>a.Ki&&(a.Ki=2))),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Jj=function(a,f){if(f.pageX||f.pageY){var g=f.pageX;f=f.pageY}else g=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
f=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Ww();g-=a.offsetLeft;f-=a.offsetTop;a.rh=g-1|0;a.sh=f-1|0;a.Jm||(a.lm(a),2>a.Ki&&(a.Ki=2))};f.prototype.Jg=function(a){!a&&!this.notification.cj()||this.$k||this.lm(this);this.$k=a};window.IconManager=b;window.Menu=g;window.MenuManager=f})();(function(){function d(a,e,f,g,l,H){this.Dk=a;this.Ek=e;this.width=f;this.height=g;this.iA=l;this.Qx=H}function c(a){var e=a.lastIndexOf(".");-1!==e&&(a=a.substr(0,e));this.name=a;this.tg=this.Qe=0;this.Ue=this.md=this.qb=-1;this.ek=this.zl=0;this.Nn=this.vq=!1;this.Ym=this.Td=this.aa="";this.fa=this.S=this.Fl=this.Rb=!1;this.ee=b.Gm;this.Ke=-1;this.nd=this.Kd=!1;this.Hb=-1;this.ph=1;this.Ef=this.Ss=this.Ts=this.Us=this.Vs=this.Rd=this.Ec=this.hd=this.xc=-1;this.ta=!1;this.kc=-1;this.Yk=this.Wk=this.td=
this.Qc=null;this.g=this.ye=-1;this.height=this.width=0;this.xe=this.Wc=null;this.jg=this.je=this.ob=this.title="";this.ze=2;this.Wl=0;this.jj=this.Sg=!1;this.Kz=this.Fu=""}var b={Xm:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tt:"0123456789abcdef",kk:86,ao:22,bo:6,Nl:8,Rx:"XRLE",Qu:"Pos",It:"Gen",o:"",Pw:":",ft:"ptkcs",gp:"012345678ceaiknjqrytwz-",Bg:"0123456789",ts:"0123456789xyz",ss:"0123",us:"0123456789",sA:8191,rA:1038,tA:7157,Iv:"0123456omp-",SA:"0123456",Tv:"01234",ev:["ce",
"ceaikn","ceaiknjqry","ceaiknjqrytwz"],dv:"omp",Iz:[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]],fp:" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" "),ep:"  omp omp omp  ".split(" "),wy:[0,2,6,10,13,10,6,2,0],Oy:[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,
5],[0,1],[0]],Jz:[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]],ri:13,maxWidth:16384,maxHeight:16384,zy:256,zj:new Uint32Array(256),im:new Uint8Array(8192),Jo:new Uint8Array(8192),vk:new Uint8Array(512),Br:new Uint8Array(512),nA:new Uint16Array(512),za:!1,ck:!1,Iq:"history",bp:"l",ap:"le",cp:"lv",Eq:"h",Es:"v",Sg:!1,sq:0,$h:!1,Bo:0,Co:0,ng:!1,index:0,Zq:1,Yq:500,Hy:0,Ay:255,Ey:0,xy:1,Rl:0,Ds:1,kt:2,po:1,io:500,xu:0,ru:255,jo:0,co:0,Xe:0,gf:1,
Pp:2,Mg:-1,Lg:-1,Gm:0,Hm:1,Im:2,Xk:"|",ah:!1,fv:"@RULE ",Mz:"@TREE",Lz:"@TABLE",dB:"@COLORS",eB:"@ICONS"};c.prototype.f=function(a){this.aa=a.aa;this.Td=a.Td;this.S=a.S;this.fa=a.fa;this.Qe=a.Qe;this.tg=a.tg;this.ee=a.ee;this.Ke=a.Ke;this.Kd=a.Kd;this.nd=a.nd;this.Hb=a.Hb;this.Ef=a.Ef;this.ph=a.ph;this.xc=a.xc;this.hd=a.hd;this.Ec=a.Ec;this.Rd=a.Rd;this.ta=a.ta;this.kc=a.kc;this.ye=a.ye;this.g=a.g;this.ze=a.ze;a.td&&(this.td=new Uint8Array(a.td.length),this.td.set(a.td));a.Qc&&(this.Qc=new Uint8Array(a.Qc.length),
this.Qc.set(a.Qc))};c.prototype.Zw=function(a,e){a.td&&(this.Yk=e.V(Uint8,a.td.length,"HROT.altSurvivals"),this.Yk.set(a.td));a.Qc&&(this.Wk=e.V(Uint8,a.Qc.length,"HROT.altBirths"),this.Wk.set(a.Qc));this.Vs=a.xc;this.Us=a.hd;this.Ts=a.Ec;this.Ss=a.Rd};c.prototype.Ez=function(){this.Td=this.aa="";this.fa=this.S=!1;this.tg=this.Qe=0;this.ee=b.Gm;this.Ke=-1;this.nd=this.Kd=!1;this.Ef=this.Hb=-1;this.ta=!1;this.g=this.ye=this.kc=-1;this.ze=2};c.prototype.my=function(a){return this.nd!==a.nd||this.ta!==
a.ta?"Alternate is different rule family":(-1===this.g?this.ze:this.g)!==(-1===a.g?a.ze:a.g)?"Alternate has different number of states":this.S!==a.S||this.fa!==a.fa||this.ee!==a.ee||this.Kd!==a.Kd||this.Ke!==a.Ke||this.Ef!==a.Ef||this.ye!==a.ye?"Alternate has different neighborhood":this.Hb!==a.Hb||this.kc!==a.kc?"Alternate has different range":""};b.ux=function(a,e,f){var g,l,H=0,b=0,c=0,d=!1;var h=e.length;for(g=l=0;g<h;){var z=e[g];g+=1;switch(l){case 0:switch(z){case "!":l=1;a.ob+="#C ";var m=
!0;break;case "O":case "o":case "*":case ".":l=2;b=H=c=0;var n=--g}break;case 1:"\r"!==z&&"\n"!==z&&(" "===z?m||(a.title+=z,a.ob+=z):(m=!1,a.title+=z,a.ob+=z));"\n"===z&&(l=0,a.ob+=z,a.title+=" ");break;case 2:switch(z){case "O":case "o":case "*":case ".":b+=1;break;case "\n":c+=1;b>H&&(H=b);b=0;break;case " ":case "\t":break;default:g=h,d=!0}}}if(!d){2===l&&"\n"!==z&&(c+=1,b>H&&(H=b));a.height=c;a.width=H;a.jg="Cells";a.Wc=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");g=n;for(l=
H=0;g<h;)switch(z=e[g],g+=1,z){case "\n":H+=1;l=0;break;case "O":case "o":case "*":a.Wc[H][l>>4]|=1<<(~l&15);l+=1;break;case ".":l+=1}this.za=!0;this.ul(a,"",f)}};b.sx=function(a,e,f){var g,l;var H=e.length;var b=[];var c=0;var d=!1;var h=l=0;var z=!1;for(g=10;g<H;){var m=e[g];g+=1;switch(m){case "\n":z&&(z=!1,2===n&&d&&(h=-h,d=!1),b[c]=[l,h],c+=1);var n=h=l=0;break;case "-":d=!0;0===n?n=1:1===n&&(n=2);break;case " ":1===n&&(d&&(l=-l,d=!1),n=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===
n&&(n=1),1===n?l=10*l+parseInt(m,10):(h=10*h+parseInt(m,10),z=!0)}}z&&(2===n&&d&&(h=-h),b[c]=[l,h],c+=1);if(c){H=e=b[0][0];n=m=b[0][1];for(g=1;g<c;g+=1)l=b[g][0],h=b[g][1],l<e&&(e=l),l>H&&(H=l),h<m&&(m=h),h>n&&(n=h);a.height=n-m+1;a.width=H-e+1;a.Wc=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.jg="Life 1.06";this.ul(a,"",f);for(g=0;g<c;g+=1)l=b[g][0]-e,h=b[g][1]-m,a.Wc[h][l>>4]|=1<<(~l&15)}};b.ut=function(a,e,f,g){var l,H,b=[],c=0,r=e.length;var h="";var z=!1;var m=0,n=0,p=!1,
B=!1,D=0,q=0;f=f?10:0;for(this.za=!0;f<r&&!B;){var t=e[f];f+=1;switch(m){case 0:switch(t){case "#":m=2;break;case "*":case ".":m=3;var G=H=l=0;var k=--f}break;case 2:switch(t){case "C":case "D":m=1;a.ob+="#C ";var u=!0;break;case "N":m=0;break;case "R":m=4;break;case "P":m=5;n=0;p=!1;q=D=0;break;case "\n":m=0;break;default:m=1,u=!0}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?u||(a.title+=t,a.ob+=t):(u=!1,a.title+=t,a.ob+=t));"\n"===t&&(m=0,a.title+=" ",a.ob+=t);break;case 4:"\n"===t?m=0:(h+=t,z=!0);
break;case 5:switch(t){case "\n":m=0;2===n&&p&&(q=-q,p=!1);break;case "-":p=!0;0===n?n=1:1===n&&(n=2);break;case " ":1===n&&(p&&(D=-D,p=!1),n=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===n&&(n=1),1===n?D=10*D+parseInt(t,10):q=10*q+parseInt(t,10)}break;case 3:switch(t){case "\n":l>H&&(H=l);l=0;G+=1;break;case "#":b[c]=new d(D,q,H,G,k,f-1);c+=1;m=2;break;case "*":case ".":l+=1;break;case " ":case "\t":break;default:B=!0}}}"\n"!==t&&(G+=1);3===
m&&(b[c]=new d(D,q,H,G,k,f-1),c+=1);if(c&&!B){D=b[0].Dk;q=b[0].Ek;t=D+b[0].width-1;l=q+b[0].height-1;for(f=1;f<c;f+=1)b[f].Dk<D&&(D=b[f].Dk),b[f].Ek<q&&(q=b[f].Ek),b[f].Dk+b[f].width-1>t&&(t=b[f].Dk+b[f].width-1),b[f].Ek+b[f].height-1>l&&(l=b[f].Ek+b[f].height-1);a.height=l-q+1;a.width=t-D+1;a.Wc=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,g,"Pattern.lifeMap");a.jg="Life 1.05";a.xe=Array.Z(Uint8,a.height,a.width,0,g,"Pattern.multiStateMap");z?(this.yt(a,h,!1,g),this.za?0<=a.g||a.Rb||(a.xe=null):(a.g=
-1,a.Rb=!1)):this.ul(a,"",g);for(f=0;f<c;f+=1)for(g=b[f].iA,h=b[f].Qx,l=b[f].Dk-D,t=b[f].Ek-q,z=l,H=t;g<=h;)switch(t=e[g],g+=1,t){case "\n":H+=1;z=l;break;case "*":a.Wc[H][z>>4]|=1<<(~z&15);a.xe&&(a.xe[H][z]=1);z+=1;break;default:z+=1}}};b.zi=function(a,e,f,g){var l=0,b,c,d;f&&(l=4);for(c=0;8192>c;c+=8)for(d=0;4>d;d+=1){f=0;for(b=c+d&g;0<b;)f+=b&1,b>>=1;e===f&&(a[c+d+l]=1)}};b.pm=function(a,e,f,g){var l=0,b,c,d;f&&(l=16);for(c=0;512>c;c+=32)for(d=0;16>d;d+=1){f=0;for(b=c+d&g;0<b;)f+=b&1,b>>=1;e===
f&&(a[c+d+l]=1)}};b.Vx=function(a){return(a&7)<<6|(a&448)>>6|a&56};b.cv=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};b.aA=function(a,e,f){var g;for(g=0;4>g;g+=1)a[e]=f,e=this.cv(e);e=this.Vx(e);for(g=0;4>g;g+=1)a[e]=f,e=this.cv(e)};b.Uz=function(a,e,f,g,l){var b=f?16:0;if(2>e||4<e)this.pm(a,e,f,254);else if(f=this.dv.indexOf(g),-1!==f)for(e=this.Iz[e-2][f],f=0;f<e.length;f+=1)g=e[f]+b,a[g]=l,a[g+256]=l,a[g+1]=l,a[g+257]=l};b.$z=function(a,e,
f,g,l){var b=0,c=e-1;0===e||8===e?this.pm(a,e,f,511):(3<c&&(c=6-c,b=495),e=this.ev[c].indexOf(g),-1!==e&&(b^=this.Jz[c][e],f&&(b|=16),this.aA(a,b,l)))};b.lv=function(a,e,f,g){var l=e.length,b=0,c="",d;for(d=0;d<l;d+=1){var r=e.charCodeAt(d)-48;b|=1<<r;this.pm(a,r,f,g)}for(d=0;9>d;d+=1)0!==(b&1<<d)&&(c+=String(d));return c};b.at=function(a){for(var e=0;a;)e+=1,a&=a-1;return e};b.ww=function(a,e){var f="",g=0;if(e[a]){e=e[a];0!==(e&1<<this.ri)&&(g=1,e&=~(1<<this.ri));var l=this.at(e);var b=2>a||4<a?
0:3;l+g>b>>1&&(e=~e&(1<<b)-1)&&(g=1-g);if(!g||e)for(f+=String(a),g&&(f+="-"),a=0;a<b;a+=1)0!==(e&1<<a)&&(f+=this.dv[a])}else f+=String(a);return f};b.xw=function(a,e){var f="",g=0;if(e[a]){e=e[a];0!==(e&1<<this.ri)&&(g=1,e&=~(1<<this.ri));var l=this.at(e);var b=this.wy[a];(g||7!==l||13!==b)&&l+g>b>>1&&(e=~e&(1<<b)-1)&&(g=1-g);if(!g||e)for(f+=String(a),g&&(f+="-"),l=0;l<b;l+=1)g=this.Oy[a][l],0!==(e&1<<g)&&(f+=this.ev[3][g])}else f+=String(a);return f};b.hv=function(a,e,f){var g=e.length,l=0,b=[],
c="",d;e+=" ";for(d=0;7>d;d+=1)b[d]=0;for(d=0;d<g;d+=1){var r=e.charCodeAt(d)-48;if(0<=r&&8>=r){var h=0!==(l&1<<r);l|=1<<r;var z=e[d+1];var m=this.ep[r].indexOf(z);-1!==m||h||this.pm(a,r,f,254);var n=1;"-"===z&&(n=0,d+=1,z=e[d+1],m=this.ep[r].indexOf(z));-1!==m||"0"<=z&&"9">=z||" "===z||(this.o=(f?"S":"B")+r+z+" not valid",d=g);h&&(h=0,0===(b[r]&1<<this.ri)&&(h=1),h!==n&&(this.o=(f?"S":"B")+r+" can not have minus and non-minus",m=-1,d=g));for(;-1!==m;)0!==(b[r]&1<<m)?(this.o="duplicate "+r+this.ep[r][m],
m=-1,d=g):(this.Uz(a,r,f,z,n),b[r]|=1<<m,n||(b[r]|=1<<this.ri),d+=1,z=e[d+1],m=this.ep[r].indexOf(z))}else this.o="missing digit prefix"}for(d=0;7>d;d+=1)0!==(l&1<<d)&&(c+=this.ww(d,b));return c};b.jv=function(a,e,f){var g=e.length,l=0,b=[],c="",d;e+=" ";for(d=0;9>d;d+=1)b[d]=0;for(d=0;d<g;d+=1){var r=e.charCodeAt(d)-48;if(0<=r&&8>=r){var h=0!==(l&1<<r);l|=1<<r;var z=e[d+1];var m=this.fp[r].indexOf(z);-1!==m||h||this.pm(a,r,f,511);var n=1;"-"===z&&(n=0,d+=1,z=e[d+1],m=this.fp[r].indexOf(z));-1!==
m||"0"<=z&&"9">=z||" "===z||(this.o=(f?"S":"B")+r+z+" not valid",d=g);h&&(h=0,0===(b[r]&1<<this.ri)&&(h=1),h!==n&&(this.o=(f?"S":"B")+r+" can not have minus and non-minus",m=-1,d=g));for(;-1!==m;)0!==(b[r]&1<<m)?(this.o="duplicate "+r+this.fp[r][m],m=-1,d=g):(this.$z(a,r,f,z,n),b[r]|=1<<m,n||(b[r]|=1<<this.ri),d+=1,z=e[d+1],m=this.fp[r].indexOf(z))}else this.o="missing digit prefix"}for(d=0;9>d;d+=1)0!==(l&1<<d)&&(c+=this.xw(d,b));return c};b.qx=function(a,e){var f;for(f=0;512>f;f+=1)a[f]=0!==(e&
1<<(f&7))?1:0!==(f&16)?1:0};b.Zp=function(a,e,f){var g=12,l=b.sA,H=a.Qe,c=a.tg;a.ee===b.Hm?(g=3,l=b.rA):a.ee===b.Im&&(g=9,l=b.tA);if(0!==(H&1))if(0!==(c&1<<g)){H=~H;c=~c;for(a=0;a<=g;a+=1)c&1<<g-a&&this.zi(e,a,!1,l);for(a=0;a<=g;a+=1)H&1<<g-a&&this.zi(e,a,!0,l);f.set(e)}else{for(a=0;a<=g;a+=1)~H&1<<a&&this.zi(f,a,!1,l);for(a=0;a<=g;a+=1)~c&1<<a&&this.zi(f,a,!0,l);for(a=0;a<=g;a+=1)c&1<<g-a&&this.zi(e,a,!1,l);for(a=0;a<=g;a+=1)H&1<<g-a&&this.zi(e,a,!0,l)}else{for(a=0;a<=g;a+=1)0!==(H&1<<a)&&this.zi(e,
a,!1,l);for(a=0;a<=g;a+=1)0!==(c&1<<a)&&this.zi(e,a,!0,l);f&&f.set(e)}};b.px=function(a,e,f,g,l){var H=this.ts,c="",d="";l===b.Hm?H=this.ss:l===b.Im&&(H=this.us);for(l=a.Qe=0;l<e.length;l+=1){var r=H.indexOf(e[l]);a.Qe|=1<<r}for(l=a.tg=0;l<f.length;l+=1)r=H.indexOf(f[l]),a.tg|=1<<r;for(l=0;l<H.length;l+=1)0!==(a.Qe&1<<l)&&(c+=H[l]);for(l=0;l<H.length;l+=1)0!==(a.tg&1<<l)&&(d+=H[l]);return-1!==g?d+"/"+c+"/"+g:"B"+c+"/S"+d};b.nx=function(a,e,f,g,l,H,c,d,r,h,z){var m=0,n=this.nA;var p=(1<<this.Nl+1)/
6|0;var L=new Uint8Array(512);if(H){for(H=0;8192>H;H+=1)z[H]=0;f=this.px(a,e,f,r,c)}else{a=511;l?a=254:d&&(a=186);for(H=0;512>H;H+=1)L[H]=0,h[H]=0,n[H]=l?H:(H&448)>>6|H&56|(H&7)<<6;if(""!==g){f="MAP";for(H=0;H<p;H+=1)f+=g[H],e=b.Xm.indexOf(g[H]),L[m]=e>>5,m+=1,L[m]=e>>4&1,m+=1,L[m]=e>>3&1,m+=1,L[m]=e>>2&1,m+=1,L[m]=e>>1&1,m+=1,L[m]=e&1,m+=1;e=b.Xm.indexOf(g[H]);L[m]=e>>5;L[m+1]=e>>4&1;f+=b.Xm[e&48];for(H=0;512>H;H+=1){g=0;p=b.Nl;for(m=8;0<=m;--m)0!==(a&1<<m)&&(0!==(H&1<<m)&&(g|=1<<p),--p);h[n[H]]=
L[g]}-1!==r&&(f+="/"+r)}else d?(m=this.lv(h,e,!1,a),h=this.lv(h,f,!0,a)):l?(m=this.hv(h,e,!1),h=this.hv(h,f,!0)):(m=this.jv(h,e,!1),h=this.jv(h,f,!0)),f=-1!==r?h+"/"+m+"/"+r:"B"+m+"/S"+h}return f};b.WA=function(a,e){var f,g="";for(f=0;f<=e;f+=1){var l=this.gp[f];-1!==a.indexOf(l)&&(g+=this.gp[e-f])}return g};b.UA=function(a){var e,f="";for(e=0;9>e;e+=1){var g=this.gp[e];-1===a.indexOf(g)&&(f+=g)}return f};b.Vu=function(a){var e=a,f=0;if(-1!==a.indexOf(" "))for(e="";f<a.length;)" "!==a[f]&&(e+=a[f]),
f+=1;return e};b.Hx=function(a,e){for(var f=!0,g=0,l,b=1;b<e.length&&f;)l=this.Bg.indexOf(e[b]),-1!==l?g=10*g+l:(this.o="Illegal character in Wolfram rule",f=!1),b+=1;f&&(0>g||254<g?(this.o="Wolfram rule number must be 0-254",f=!1):0!==(g&1)?(this.o="Wolfram rule number must be even",f=!1):(this.qx(this.vk,g),a.Ke=g,a.aa="W"+g));return f};b.yw=function(a,e){var f=null;if(""===e){if(a.S)a.aa+="H";else if(a.Kd)a.aa+="V";else if(a.fa)switch(a.ee){case b.Gm:a.aa+=b.bp.toUpperCase();break;case b.Hm:a.aa+=
b.ap.toUpperCase();break;case b.Im:a.aa+=b.cp.toUpperCase()}f=AliasManager.Zx(a.aa);a.Rb&&(a.aa+="History")}-1!==a.qb&&(a.aa+=":"+b.ft[a.qb].toUpperCase(),a.aa+=a.md,a.zl&&(a.aa+="+"+a.zl),a.vq&&(a.aa+="*"),a.Ue!==a.md||a.ek||a.Nn)&&(a.aa+=","+a.Ue,a.ek&&(a.aa+="+"+a.ek),a.Nn&&(a.aa+="*"));null!==f&&(""===f&&(f=a.Rb?"Life":"Conway's Life"),a.Rb&&(f+="History"),a.Td=f)};b.FA=function(a,e){var f=b.kk,g=a.length;g>=f?this.Nl=8:(f=b.ao,g>=f?(this.Nl=6,e.S=!0):(f=b.bo,g>=f?(this.Nl=4,e.Kd=!0):f=-1));if(0<=
f)for(e=0;e<f;e+=1)-1===b.Xm.indexOf(a[e])&&(f=-1);return f};b.Tc=function(a,e,f,g,l){var b=0,c=e.length,d=a.substr(this.index,c),r;if(d!==e)","===e[0]&&(","===d[0]&&(d=d.substr(1)),e=e.substr(1)),this.o="LtL expected '"+e.toUpperCase()+"' got '"+d.toUpperCase()+"'",this.index=-1;else if(","===e[0]&&(e=e.substr(1)),this.index+=c,c=a[this.index],this.index<a.length?r=c.charCodeAt(0):r=-1,"n"===e)"m"===c||"n"===c||"c"===c?(this.index+=1,b=this.Rl,"n"===c?b=this.Ds:"c"===c&&(b=this.kt)):(this.o="LtL expected 'NM', 'NN' or 'NC' got 'N"+
c.toUpperCase()+"'",this.index=-1);else if(48>r||57<r)this.o="LtL '"+l+e.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=r&&57>=r;)b=10*b+(r-48),this.index+=1,this.index<a.length?r=a[this.index].charCodeAt(0):r=-1;-1!==f&&b<f&&(this.o="LtL '"+l+e.toUpperCase()+b+"' < "+f,this.index=-1);-1!==g&&b>g&&(this.o="LtL '"+l+e.toUpperCase()+b+"' > "+g,this.index=-1)}return b};b.zx=function(a,e){var f=!1,g=0;this.index=0;var l=this.Tc(e,"r",this.Zq,this.Yq,"");-1!==this.index&&(a.Hb=l,l=this.Tc(e,
",c",this.Hy,this.Ay,""),-1!==this.index&&(2>l&&(l=2),a.g=l,l=this.Tc(e,",m",this.Ey,this.xy,""),-1!==this.index&&(a.ph=l,l=this.Tc(e,",s",0,-1,""),-1!==this.index&&(a.xc=l,l=this.Tc(e,"..",a.xc,-1,"S"),-1!==this.index&&(a.hd=l,l=this.Tc(e,",b",0,-1,""),-1!==this.index&&(a.Ec=l,l=this.Tc(e,"..",a.Ec,-1,"B"),-1!==this.index&&(a.Rd=l,l=this.Tc(e,",n",-1,-1,""),-1!==this.index&&(a.Ef=l,f=!0))))))));if(f)if(this.index!==e.length)f=!1,this.o="LtL invalid characters after rule";else{switch(a.Ef){case b.Rl:g=
(2*a.Hb+1)*(2*a.Hb+1);break;case b.Ds:g=2*a.Hb*(a.Hb+1)+1;break;case b.kt:l=0;var H=a.Hb*a.Hb+a.Hb;for(e=-a.Hb;e<=a.Hb;e+=1){for(g=0;(g+1)*(g+1)+e*e<=H;)g+=1;l+=2*g+1}g=l}g-=1-a.ph;a.Ec>g&&(f=!1,this.o="LtL 'B"+a.Ec+"..' > "+g);a.Rd>g&&(f=!1,this.o="LtL 'B.."+a.Rd+"' > "+g);a.xc>g&&(f=!1,this.o="LtL 'S"+a.xc+"..' > "+g);a.hd>g&&(f=!1,this.o="LtL 'S.."+a.hd+"' > "+g)}return f};b.Bx=function(a,e){var f=!1;this.index=0;a.g=2;a.ph=1;a.Ef=b.Rl;var g=this.Tc(e,"",this.Zq,this.Yq,"");-1!==this.index&&(a.Hb=
g,g=this.Tc(e,",",0,-1,""),-1!==this.index&&(a.Ec=g,g=this.Tc(e,",",a.Ec,-1,"B"),-1!==this.index&&(a.Rd=g,g=this.Tc(e,",",0,-1,""),-1!==this.index&&(a.xc=g,g=this.Tc(e,",",a.xc,-1,"S"),-1!==this.index&&(a.hd=g,f=!0)))));f&&(this.index!==e.length?(f=!1,this.o="LtL invalid characters after rule"):(e=(2*a.Hb+1)*(2*a.Hb+1),a.Ec>e&&(f=!1,this.o="LtL 'B"+a.Ec+"..' > "+e),a.Rd>e&&(f=!1,this.o="LtL 'B.."+a.Rd+"' > "+e),a.xc>e&&(f=!1,this.o="LtL 'S"+a.xc+"..' > "+e),a.hd>e&&(f=!1,this.o="LtL 'S.."+a.hd+"' > "+
e)));return f};b.Ax=function(a,e){var f=!1;this.index=0;-1===a.g&&(a.g=2);a.ph=1;a.Ef=b.Rl;var g=this.Tc(e,"r",this.Zq,this.Yq,"");-1!==this.index&&(a.Hb=g,g=this.Tc(e,"b",0,-1,""),-1!==this.index&&(a.Ec=g,g=this.Tc(e,"t",a.Ec,-1,"B"),-1!==this.index&&(a.Rd=g,g=this.Tc(e,"s",0,-1,""),-1!==this.index&&(a.xc=g,g=this.Tc(e,"t",a.xc,-1,"S"),-1!==this.index&&(a.hd=g,f=!0)))));f&&(this.index!==e.length?(f=!1,this.o="LtL invalid characters after rule"):(e=(2*a.Hb+1)*(2*a.Hb+1),a.Ec>e&&(f=!1,this.o="LtL 'B"+
a.Ec+"' > "+e),a.Rd>e&&(f=!1,this.o="LtL 'B..T"+a.Rd+"' > "+e),a.xc>e&&(f=!1,this.o="LtL 'S"+a.xc+"..' > "+e),a.hd>e&&(f=!1,this.o="LtL 'S..T"+a.hd+"' > "+e)));return f};b.Tu=function(a,e,f,g,l){var b=!1,c,d="HROT.",r,h=0;if(this.index+f>a.length)this.o="HROT '"+e+"' needs "+f+" hex digits";else{for(c=r=0;r<f&&-1!==c;)c=this.Tt.indexOf(a[this.index]),-1!==c&&(this.index+=1,r+=1);if(-1===c)this.o="HROT '"+e+"' expected hex got '"+a[this.index]+"'";else{"B"===e?d+="births":(d+="survivals",h=1);l=l.V(Uint8,
(f<<2)+1+h,d);b=0;l[b]=0;b+=1;--r;"S"===e&&(l[b]=0,b+=1);for(;0<=r;)c=this.Tt.indexOf(a[this.index-f+r]),--r,l[b]=c&1,b+=1,l[b]=c>>1&1,b+=1,l[b]=c>>2&1,b+=1,l[b]=c>>3&1,b+=1;"B"===e?g.Qc=l:g.td=l;b=!0}}return b};b.tl=function(a,e){var f=-1;this.index+=1;if(this.index<a.length){var g=a[this.index].charCodeAt(0);if(48>g||57<g)this.o="HROT '"+e+"' needs a number";else for(f=g-48,this.index+=1,g=-1,this.index<a.length&&(g=a[this.index].charCodeAt(0));48<=g&&57>=g;)f=10*f+(g-48),this.index+=1,this.index<
a.length?g=a[this.index].charCodeAt(0):g=-1}else this.o="HROT '"+e+"' needs a number";return f};b.vt=function(a,e,f,g){var l=!0,b;for(b=this.tl(a,f);l&&-1!==b;){var c=-1;this.index<a.length&&"-"===a[this.index]&&(c=this.tl(a,f),-1===c&&(this.o="HROT '"+f+b+"-' needs a number",l=!1));if(l&&(-1===c&&(c=b),b>c&&(this.o="HROT '"+f+b+"-"+c+"' wrong order",l=!1),l)){"S"===f?(this.jo=c,b+=1,c+=1):this.co=c;b>g&&(b=g);for(c>g&&(c=g);b<=c;b+=1)e[b]=1;b=-1;this.index<a.length&&","===a[this.index]&&(b=this.tl(a,
f),-1===b&&(--this.index,this.o=""))}}return l};b.eA=function(a,e){var f=a.Hb,g=(2*f+1)*(2*f+1);a.kc=f;a.ye=a.Ef;a.td=e.V(Uint8,g+1,"HROT.survivals");a.Qc=e.V(Uint8,g,"HROT.births");for(f=a.xc;f<=a.hd;f+=1)a.td[f]=1;for(f=a.Ec;f<=a.Rd;f+=1)a.Qc[f]=1;if(this.ah){a.Yk=e.V(Uint8,g+1,"HROT.altSurvivals");a.Wk=e.V(Uint8,g,"HROT.altBirths");for(f=a.Vs;f<=a.Us;f+=1)a.Yk[f]=1;for(f=a.Ts;f<=a.Ss;f+=1)a.Wk[f]=1}a.ta=!0};b.xx=function(a,e,f){var g=!1,l,H;this.jo=this.co=this.index=l=0;if("r"!==e[this.index])this.o=
"HROT expected 'R' got '"+e[this.index].qA()+"'";else{var c=this.tl(e,"R");-1!==c&&(c<this.po?this.o="HROT 'R' < "+this.po:c>this.io?this.o="HROT 'R' > "+this.io:(a.kc=c,g=!0,l=(2*c+1)*(2*c+1)))}g&&(g=!1,this.index<e.length?","!==e[this.index]?this.o="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"c"!==e[this.index]?this.o="HROT expected 'C' got "+e[this.index].toUpperCase():(c=this.tl(e,"C"),-1!==c&&(c<this.xu?this.o="HROT 'C"+c+"' < "+this.xu:c>this.ru?this.o=
"HROT 'C"+c+"' > "+this.ru:(2>c&&(c=2),a.g=c,g=!0))):this.o="HROT expected 'C'"):this.o="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.o="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"s"!==e[this.index]?this.o="HROT expected 'S' got "+e[this.index].toUpperCase():(a.td=f.V(Uint8,l+2,"HROT.survivals"),g=this.vt(e,a.td,"S",l)):this.o="HROT expected 'S'"):this.o="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?
this.o="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"b"!==e[this.index]?this.o="HROT expected 'B' got "+e[this.index].toUpperCase():(a.Qc=f.V(Uint8,l+1,"HROT.births"),g=this.vt(e,a.Qc,"B",l)):this.o="HROT expected 'B'"):this.o="HROT expected ','");a.ye=this.Xe;g&&this.index<e.length&&","===e[this.index]&&(g=!1,this.index+=1,this.index<e.length?"n"===e[this.index]?(this.index+=1,this.index<e.length?"m"===e[this.index]||"n"===e[this.index]||"c"===e[this.index]?
("n"===e[this.index]?a.ye=this.gf:"c"===e[this.index]&&(a.ye=this.Pp),this.index+=1,g=!0):this.o="HROT expected 'NM', 'NN' or 'NC' got 'N"+e[this.index].toUpperCase()+"'":this.o="HROT 'N' needs a neighborhood"):this.o="HROT expected 'N' got '"+e[this.index].toUpperCase()+"'":this.o="HROT expected 'N'");if(g){switch(a.ye){case b.Xe:l=(2*a.kc+1)*(2*a.kc+1);break;case b.gf:l=2*a.kc*(a.kc+1)+1;break;case b.Pp:f=0;l=a.kc*a.kc+a.kc;for(H=-a.kc;H<=a.kc;H+=1){for(c=0;(c+1)*(c+1)+H*H<=l;)c+=1;f+=2*c+1}l=f}--l;
this.jo>l&&(g=!1,this.o="HROT 'S"+this.jo+"' > "+l);g&&this.co>l&&(g=!1,this.o="HROT 'B"+this.co+"' > "+l);g&&(this.index!==e.length?(g=!1,this.o="HROT invalid characters after rule"):a.ta=!0)}return g};b.wx=function(a,e,f){var g=!1,l=0;this.index=0;-1===a.g&&(a.g=2);if("r"!==e[this.index])this.o="HROT expected 'R' got '"+e[this.index].qA()+"'";else{var H=-1;this.index+=1;this.index<e.length&&(H=e[this.index].charCodeAt(0));if(48>H||57<H)this.o="HROT 'R' needs a number";else{var c=H-48;this.index+=
1;H=-1;for(this.index<e.length&&(H=e[this.index].charCodeAt(0));48<=H&&57>=H;)c=10*c+(H-48),this.index+=1,this.index<e.length?H=e[this.index].charCodeAt(0):H=-1;c<this.po?this.o="HROT 'R' < "+this.po:c>this.io?this.o="HROT 'R' > "+this.io:(a.kc=c,g=!0,l=c*(c+1))}}g&&(g=!1,this.index<e.length?"b"!==e[this.index]?this.o="HROT expected 'B' got "+e[this.index].toUpperCase()+"'":(this.index+=1,g=this.Tu(e,"B",l,a,f)):this.o="HROT expected 'B'");g&&(g=!1,this.index<e.length?"s"!==e[this.index]?this.o="HROT expected 'S' got "+
e[this.index].toUpperCase()+"'":(this.index+=1,g=this.Tu(e,"S",l,a,f)):this.o="HROT expected 'S'");g&&this.index<e.length&&"z"===e[this.index]&&(a.td[1]=1,this.index+=1);g&&(this.index!==e.length?(g=!1,this.o="HROT invalid characters after rule"):(a.ye=b.Xe,a.ta=!0));return g};b.Ys=function(a,e){for(var f=a.length,g=-1,b="",H=0;H<f;)1===a[H]?-1===g&&(g=H):-1!==g&&(""!==b&&(b+=","),b+=g+e,H-1!==g&&(b+="-"+(H-1+e)),g=-1),H+=1;-1!==g&&(""!==b&&(b+=","),b+=g+e,H-1!==g&&(b+="-"+(H-1+e)));return b};b.ul=
function(a,e,f){var g="",l=!1;var H=AliasManager.Kt(e);null!==H&&(g=e,e=H);H=e.indexOf(b.Xk);if(-1===H)(l=this.aq(a,e,f,this.vk,this.im))&&a.fa&&this.Zp(a,this.im,this.Jo);else if(-1===e.substr(H+1).indexOf(b.Xk)){if(l=this.aq(a,e.substr(0,H),f,this.Br,this.Jo)){var d=new c(a.name);d.f(a);a.Ez();if(l=this.aq(a,e.substr(H+1),f,this.vk,this.im))if(this.o=a.my(d),""===this.o)if(!a.fa&&(this.vk[0]||this.Br[0])||a.fa&&0!==(a.Qe&1)||0!==(d.Qe&1))this.o="Alternate not supported with B0",l=!1;else{a.fa&&
(this.Zp(d,this.Jo,null),this.Zp(a,this.im,null));if(""!==g)a.Td=g;else if(""!==a.Td||""!==d.Td)""===a.Td&&(a.Td=a.aa),""===d.Td&&(d.Td=d.aa),a.Td=d.Td+b.Xk+a.Td;a.aa=d.aa+b.Xk+a.aa;(a.ta||a.nd)&&a.Zw(d,f);this.ah=!0}else l=!1}}else this.o="Only one alternate allowed";return l};b.aq=function(a,e,f,g,l){var H=!1,c=null,d=null,r=null,h=this.gp;var z=b.Eq.length;var m=b.bp.length;var n=b.ap.length,p=b.cp.length,B=b.Es.length,D="";g[0]=0;var q=AliasManager.Kt(e);null!==q&&(""===e&&(a.aa="Conway's Life"),
e=q);if("map"===e.substr(0,3).toLowerCase()){D=e.substr(3);var t=D.indexOf("/");-1===t?"=="===D.substr(-2)&&(D=D.substr(0,D.length-2)):"=="===D.substr(t-2,2)&&(D=D.substr(0,t-2)+D.substr(t));e=this.FA(D,a);if(0<=e)if(H=!0,r=D.substr(e),D=D.substr(0,e),"/"===r[0]){q=1;a.g=0;q<r.length&&("g"===r[q].toLowerCase()||"c"===r[q].toLowerCase())&&(q+=1);for(t=0;q<r.length&&-1!==t;)t=this.Bg.indexOf(r[q]),-1!==t?a.g=10*a.g+t:(this.o="Illegal character in generations number",a.g=-1,H=!1),q+=1;-1!==a.g&&(2>a.g||
256<a.g)&&(this.o="Generations number must be 2-256",a.g=-1,H=!1)}else""!==r&&(q=r.length,this.o="MAP length must be "+b.bo+", "+b.ao+" or "+b.kk+" not "+(q+e),H=!1);else this.o=D.length===b.kk||D.length===b.ao||D.length===b.bo?"MAP contains illegal base64 character":"MAP length must be "+b.bo+", "+b.ao+" or "+b.kk+" not "+D.length}else{e=e.toLowerCase();e=this.Vu(e);H=!0;if("g"===e[0]){q=1;for(t=a.g=0;q<e.length&&-1!==t;)t=this.Bg.indexOf(e[q]),-1!==t&&(a.g=10*a.g+t,q+=1);1<q&&(2>a.g||256<a.g?(this.o=
"Generations number must be 2-256",a.g=-1,H=!1):(q<e.length&&"/"===e[q]&&(q+=1),e=e.substr(q),H=!0))}if(H&&(t=e.lastIndexOf("g"),-1!==t&&t!==e.length-1&&!(0<t&&"/"===e[t-1]))){q=t+1;for(t=a.g=0;q<e.length&&-1!==t;)t=this.Bg.indexOf(e[q]),-1!==t&&(a.g=10*a.g+t,q+=1);q===e.length?2>a.g||256<a.g?(this.o="Generations number must be 2-256",a.g=-1,H=!1):(e=e.substr(0,e.lastIndexOf("g")),H=!0):a.g=-1}if(H)if(H=!1,"r"===e[0]||"1"<=e[0]&&"9">=e[0]&&-1!==e.indexOf(",")){if(H="r"===e[0]?-1!==e.indexOf(".")?
this.zx(a,e):-1!==e.indexOf("t")?this.Ax(a,e):-1!==e.indexOf(",")?this.xx(a,e,f):this.wx(a,e,f):this.Bx(a,e))a.ta?(a.aa="R"+a.kc+",",a.aa+="C"+a.g+",",a.aa+="S"+this.Ys(a.td,-1)+",",a.aa+="B"+this.Ys(a.Qc,0),a.ye!==this.Xe&&(a.aa+=",N",a.aa=a.ye===this.gf?a.aa+"N":a.aa+"C")):(a.nd=!0,a.aa="R"+a.Hb+",C"+a.g+",M"+a.ph+",S"+a.xc+".."+a.hd+",B"+a.Ec+".."+a.Rd+",N",a.aa=a.Ef===this.Rl?a.aa+"M":a.Ef===this.Ds?a.aa+"N":a.aa+"C",0===a.ph&&(a.xc+=1,a.hd+=1))}else if("w"===e[0])H=this.Hx(a,e);else{q=e.lastIndexOf(b.bp);
-1!==q&&q===e.length-m&&(a.fa=!0,a.ee=b.Gm,e=e.substr(0,e.length-m),h=this.ts);q=e.lastIndexOf(b.ap);-1!==q&&q===e.length-n&&(a.fa=!0,a.ee=b.Hm,e=e.substr(0,e.length-n),h=this.ss);q=e.lastIndexOf(b.cp);-1!==q&&q===e.length-p&&(a.fa=!0,a.ee=b.Im,e=e.substr(0,e.length-p),h=this.us);q=e.lastIndexOf(b.Eq);-1!==q&&q===e.length-z&&(a.S=!0,e=e.substr(0,e.length-z),h=this.Iv);q=e.lastIndexOf(b.Es);-1!==q&&q===e.length-B&&(a.Kd=!0,e=e.substr(0,e.length-B),h=this.Tv);f=e.indexOf("/");-1===f&&(f=e.indexOf("_"));
-1!==f&&(q=e.lastIndexOf("/"),-1===q&&(q=e.lastIndexOf("_")),q!==f&&(r=e.substring(q+1),e=e.substr(0,q),q=e.lastIndexOf(b.bp),-1!==q&&q===e.length-m&&(a.fa=!0,a.ee=b.Gm,e=e.substr(0,e.length-m),h=this.ts),q=e.lastIndexOf(b.ap),-1!==q&&q===e.length-n&&(a.fa=!0,a.ee=b.Hm,e=e.substr(0,e.length-n),h=this.ss),q=e.lastIndexOf(b.cp),-1!==q&&q===e.length-p&&(a.fa=!0,a.ee=b.Im,e=e.substr(0,e.length-p),h=this.us),q=e.lastIndexOf(b.Eq),-1!==q&&q===e.length-z&&(a.S=!0,e=e.substr(0,e.length-z),h=this.Iv),q=e.lastIndexOf(b.Es),
-1!==q&&q===e.length-B&&(a.Kd=!0,e=e.substr(0,e.length-B),h=this.Tv)));z=e.indexOf("b");m=e.indexOf("s");-1===f?0===z||0===m?-1===m?(c=e,d=""):-1===z?(d=e,c=""):z<m&&-1!==m?(c=e.substring(z+1,m),d=e.substring(m+1)):(d=e.substring(m+1,z),c=e.substring(z+1)):this.o="Unsupported rule name":(-1===z&&-1!==m?z=f:-1!==z&&-1===m&&(m=f),z<m?(c=e.substring(0,f),d=e.substring(f+1)):(c=e.substring(f+1),d=e.substring(0,f)));-1!==z&&c&&"b"===c[0]&&(c=c.substring(1));-1!==m&&d&&"s"===d[0]&&(d=d.substring(1));if(null!==
r)if(q=0,-1!==a.g)this.o="Generations defined twice",c=null;else{a.g=0;q<r.length&&("g"===r[q].toLowerCase()||"c"===r[q].toLowerCase())&&(q+=1);for(t=0;q<r.length&&-1!==t;)t=this.Bg.indexOf(r[q]),-1!==t?a.g=10*a.g+t:(this.o="Illegal character in generations number",a.g=-1,c=null),q+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.o="Generations number must be 2-256",a.g=-1,c=null)}if(null!==c&&null!==d){H=!0;for(q=0;q<c.length;)t=h.indexOf(c[q]),-1===t?(this.o="Illegal character in birth specification",H=!1,
q=c.length):q+=1;if(H)for(q=0;q<d.length;)t=h.indexOf(d[q]),-1===t?(this.o="Illegal character in survival specification",H=!1,q=d.length):q+=1}}}H&&-1===a.Ke&&!1===a.nd&&!1===a.ta&&(a.aa=this.nx(a,c,d,D,a.S,a.fa,a.ee,a.Kd,a.g,g,l),""!==this.o&&(H=!1),2===a.g&&(a.g=-1));H&&this.yw(a,D);return H};b.xt=function(a,e,f,g){var l=0,c=e.length-1,d=!1,I=!0,r,h=0,z=0,m=0,n=0,p=this.zj;for(r=e[l];!d;){var B=r;r=e[l+1];var D=-1;switch(B){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":n=
10*n+parseInt(B,10);break;case "b":D=0;break;case "o":D=1;break;case ".":D=0;break;case "z":D=7;a.Rb=!0;a.Fl=!0;break;case "$":0===n&&(n=1);m+=n;n=0;z>h&&(h=z);z=0;break;case "!":0===n&&(n=1);m+=n;n=0;z>h&&(h=z);d=!0;break;default:I=!1,"A"<=B&&"X">=B?(I=!0,D=B.charCodeAt(0)-64):"p"<=B&&"y">B?"A"<=r&&"X">=r?(I=!0,D=24*(B.charCodeAt(0)-111)+(r.charCodeAt(0)-64),l+=1,r=e[l+1]):"x"===B&&(I=!0,a.Rb=!0,a.Fl=!0,D=3):"y"===B&&("A"<=r&&"O">=r?(I=!0,D=24*(B.charCodeAt(0)-111)+(r.charCodeAt(0)-64),l+=1,r=e[l+
1]):(I=!0,a.Rb=!0,a.Fl=!0,D=5))}if(0<=D)if(0===n&&(n=1),f||(0===p[D]&&(a.Wl+=1),p[D]+=n,D>=a.ze&&(a.ze=D+1)),0<D&&f)for(;0<n;){a.xe[m][z]=-1===a.g?D:2===a.g?1===D?LifeConstants.cb:0:D<a.g?D:1;if(!a.Rb&&-1===a.g||a.Rb&&D&1||-1!==a.g&&1===D)a.Wc[m][z>>4]|=1<<(~z&15);z+=1;--n}else z+=n,n=0;I||(" "===B||"\t"===B||"\n"===B?I=!0:(this.o="Illegal character in pattern: "+B,d=a.jj=!0));l+=1;l===c&&(d||(0===n&&(n=1),m+=n,n=0,z>h&&(h=z)),d=!0)}f||(0===h&&(m=h=1),a.width=h,a.height=m,h>b.maxWidth||m>b.maxHeight?
(a.Sg=!0,a.jj=!0):(a.Wc=Array.Z(Uint16,m,(h-1>>4)+1,0,g,"Pattern.lifeMap"),a.xe=Array.Z(Uint8,m,h,0,g,"Pattern.multiStateMap"),a.jg="RLE"));a.jj&&(l=-1);return l};b.Wz=function(a,e){var f=e.indexOf("\n");-1===f&&(f=e.length);a.Fu=e.substring(0,f).trim()};b.Po=function(a,e,f){for(var g=!1;e<f&&!g;)" "===a[e]?e+=1:g=!0;return e};b.iz=function(a){var e=a.indexOf("\n"),f=0,g=!1,l=0;-1===e&&(e=a.length);for(;l<e&&!g;)"="===a[l]?g=!0:" "!==a[l]?g=!0:l+=1;if(g&&"="===a[l]){l=this.Po(a,l+1,e);for(g=!1;l<
e&&!g;){var c=b.Bg.indexOf(a[l]);-1!==c?(f=10*f+c,l+=1):g=!0}this.$h=!0;this.sq=f}};b.Uu=function(a,e){var f=a.indexOf("\n"),g=0,l=0,c=!1,d=!1,I=!1,r=0;-1===f&&(f=a.length);if(e){for(;r<f&&!I;)"="===a[r]?I=!0:" "!==a[r]?I=!0:r+=1;I&&"="===a[r]&&(r+=1)}else I=!0;if(I&&(r=this.Po(a,r,f),r<f)){"-"===a[r]&&(c=!0,r+=1);for(I=!1;r<f&&!I;)e=b.Bg.indexOf(a[r]),-1!==e?(g=10*g+e,r+=1):I=!0;this.ng=!0;this.Bo=c?-g:g;r=this.Po(a,r,f);if(r<f&&","===a[r]&&(r=this.Po(a,r+1,f),r<f)){"-"===a[r]&&(d=!0,r+=1);for(I=
!1;r<f&&!I;)e=b.Bg.indexOf(a[r]),-1!==e?(l=10*l+e,r+=1):I=!0;this.Co=d?-l:l}}};b.Tw=function(a){var e=a.indexOf(b.Rx);0===e&&(e=a.indexOf(b.Qu),-1!==e&&this.Uu(a.substr(e+b.Qu.length),!0),e=a.indexOf(b.It),-1!==e&&this.iz(a.substr(e+b.It.length)))};b.Vz=function(a,e){var f=e.indexOf("\n");-1===f&&(f=e.length);a.name=e.substring(0,f).trim()};b.Cp=function(a,e,f,g){var b=f.indexOf("\n");-1===b&&(b=f.length);" "===f[0]&&(e+=" ");f=""+f.substring(0,b).trim();a.title+=f+" ";g?a.je+=e+f+"\n":a.ob+=e+f+
"\n";return b+1};b.af=function(a){var e=-1;a+=" ";var f=this.Bg.indexOf(a[this.index]);if(-1!==f)for(e=0;-1!==f;)e=10*e+f,this.index+=1,f=this.Bg.indexOf(a[this.index]);return e};b.Fx=function(a,e){e=this.af(e);a.md=e;a.Ue=e};b.Gx=function(a,e){var f=this.af(e),g=-1,b=0,c=0;if(-1!==f){var d=e[this.index];if("-"===d||"+"===d)this.index+=1,b=this.af(e),-1===b?f=-1:"-"===d&&(b=-b);if(","===e[this.index])if(this.index+=1,g=this.af(e),-1===g)f=-1;else{if(d=e[this.index],"-"===d||"+"===d)this.index+=1,
c=this.af(e),-1===c?f=-1:"-"===d&&(c=-c)}else g=f}0!==b&&0!==c&&(f=-1);0===f&&0===g&&(f=-1);0===b&&0===c||0!==f&&0!==g||(f=-1);a.md=f;a.Ue=g;a.zl=b;a.ek=c};b.yx=function(a,e){var f=this.af(e),g=-1,b=0,c=0,d=!1,I=!1;if(-1!==f){var r=e[this.index];"*"===r&&(d=!0,this.index+=1,r=e[this.index]);if("-"===r||"+"===r)b=this.af(e),-1===b?f=-1:"-"===r&&(b=-b),this.index+=1,r=e[this.index];if(","===r)if(this.index+=1,g=this.af(e),-1===g)f=-1;else{if(r=e[this.index],"*"===r&&(I=!0,this.index+=1,r=e[this.index]),
"-"===r||"+"===r)this.index+=1,c=this.af(e),-1===c?f=-1:"-"===r&&(c=-c)}else g=f}d&&I&&(f=-1);0!==b&&0!==c&&(f=-1);if(d&&0!==c||I&&0!==b)f=-1;if(0===f||0===g)f=-1;d||I||(I=!0);a.md=f;a.Ue=g;a.zl=b;a.ek=c;a.vq=d;a.Nn=I};b.vx=function(a,b){var f=this.af(b),g=-1;-1!==f&&(","===b[this.index]?(this.index+=1,g=this.af(b),-1===g&&(f=-1)):g=f);a.md=f;a.Ue=g};b.Cx=function(a,b){var f=this.af(b),g=-1;-1!==f&&(","===b[this.index]?(this.index+=1,g=this.af(b),-1===g&&(f=-1)):g=f);0===f&&0===g&&(f=-1);a.md=f;a.Ue=
g};b.tx=function(a,b){var f=!1;b=this.Vu(b).toLowerCase();if(""!==b){a.qb=this.ft.indexOf(b[0]);if(-1!==a.qb)if(this.index=1,2!==a.qb&&-1!==b.indexOf("*"))a.md=-1;else switch(a.qb){case 0:this.Cx(a,b);break;case 1:this.Gx(a,b);break;case 2:this.yx(a,b);break;case 3:this.vx(a,b);break;case 4:this.Fx(a,b);break;default:a.md=-1}this.index!==b.length&&(a.md=-1);-1!==a.md?f=!0:(a.qb=-1,this.o="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return f};b.un=function(a,b,f,g){var e,c,d=null;if(f[b]===
a){for(b+=1;b<g&&" "===f[b];)b+=1;for(b<g&&"="===f[b]&&(b+=1);b<g&&" "===f[b];)b+=1;a=0;var I=e=!1;"-"===f[b]&&(b+=1,I=!0);for(c=f[b].charCodeAt(0);b<g&&48<=c&&57>=c;)a=10*a+(c-48),b+=1,e=!0,b<g&&(c=f[b].charCodeAt(0));for(e&&(d=I?-a:a);b<g&&" "===f[b];)b+=1;for(b<g&&","===f[b]&&(b+=1);b<g&&" "===f[b];)b+=1}return[d,b]};b.Ex=function(a,b){this.Lg=this.Mg=-1;var f=this.un("x",0,a,b);var g=f[1];f[0]&&(this.Mg=f[0]);f=this.un("y",g,a,b);g=f[1];f[0]&&(this.Lg=f[0]);f=this.un("h",g,a,b);g=f[1];f[0]&&(this.Bo=
f[0],this.ng=!0);f=this.un("v",g,a,b);f[0]&&(this.Co=f[0])};b.yt=function(a,e,f,g){var l=e.indexOf("\n"),c=e.indexOf("rule"),d=b.Iq.length,I="";-1===l&&(l=e.length);this.Ex(e,l);-1===c?f?I="":I=e.substring(1,l).trim():(I=e.substring(c+4,l).trim(),"="===I[0]&&(I=I.substring(1).trim()));a.aa=I;e=I.lastIndexOf(b.Pw);-1!==e&&(this.tx(a,I.substring(e+1))?I=I.substr(0,e).trim():e=-2);f=I.toLowerCase().lastIndexOf(b.Iq);-1!==f&&f===I.length-d&&(a.Rb=!0,I=I.substr(0,I.length-d).trim());f=I.indexOf(this.Xk);
-1!==f&&I.toLowerCase().substr(0,f).trim().substr(-d)===b.Iq&&(a.Rb=!0,c=I.substr(0,f).trim(),I=c.substr(0,c.length-d)+I.substr(f));-2!==e&&this.ul(a,I,g)?this.za=!0:this.ck=!0;return l+1};b.et=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};b.wt=function(a,e,f){var g=0,l=e.length,c=!1,d=!1;var I=this.zj;var r=b.zy,h=4,z;a.qb=-1;a.width=0;a.height=0;a.Sg=!1;a.Wc=
null;a.xe=null;a.jj=!1;a.Rb=!1;a.Fl=!1;a.S=!1;a.Ke=-1;a.Kd=!1;a.g=-1;a.nd=!1;a.Hb=-1;a.ph=1;a.xc=-1;a.hd=-1;a.Ec=-1;a.Rd=-1;a.ta=!1;a.Qc=null;a.td=null;a.kc=-1;a.title="";a.ob="";a.je="";a.ze=2;for(z=a.Wl=0;z<r;z+=1)I[z]=0;for(e+=" ";g<l&&!a.jj;)switch(I=e[g],I){case "#":g+=1;I=e[g];g+=1;switch(I){case "N":this.Vz(a,e.substring(g));break;case "O":this.Wz(a,e.substring(g));break;case "C":this.Tw(e.substring(g));break;case "P":case "R":this.Uu(e.substring(g),!1);break;case "\n":--g}g="\n"===I?g+this.Cp(a,
"#",e.substring(g),c):g+this.Cp(a,"#"+I,e.substring(g),c);break;case "x":g+=this.yt(a,e.substring(g),!0,f);d=!0;break;case "\n":g+=1;break;default:c?g+=this.Cp(a,"",e.substring(g),!0):(c=!0,-1!==this.xt(a,e.substring(g),!1,f)&&(g+=this.xt(a,e.substring(g),!0,f)))}d||(this.ul(a,"",f)?this.za=!0:this.ck=!0);-1!==a.qb&&(a.ta&&(h=6*a.kc),a.nd&&(h=6*a.Hb),a.md>=this.maxWidth-h||a.Ue>=this.maxHeight-h)&&(this.o="Bounded grid is too big",this.za=!1,a.qb=-1);!a.nd||(1<a.qb&&(this.o="LtL only supports Plane or Torus",
this.za=!1,a.qb=-1),a.S&&(this.o="LtL does not support Hex grid",this.za=!1,a.S=!1),0===a.Ec&&-1===a.qb&&(this.o="LtL does not support B0 unbounded",this.za=!1),0!==a.qb&&1!==a.qb)||0!==a.md&&0!==a.Ue||(this.o="LtL bounded grid must be finite",this.za=!1,a.qb=-1);a.fa&&-1!==a.qb&&(0!==(a.md&1)?(this.o="Bounded grid width must be even",this.za=!1,a.qb=-1):0!==(a.Ue&1)&&(this.o="Bounded grid height must be even",this.za=!1,a.qb=-1));!a.ta||(1<a.qb&&(this.o="HROT only supports Plane or Torus",this.za=
!1,a.qb=-1),a.S&&(this.o="HROT does not support Hex grid",this.za=!1,a.S=!1),a.Qc&&1===a.Qc[0]&&-1===a.qb&&(this.o="HROT does not support B0 unbounded",this.za=!1),0!==a.qb&&1!==a.qb)||0!==a.md&&0!==a.Ue||(this.o="HROT bounded grid must be finite",this.za=!1,a.qb=-1);-1===a.g||!a.Rb||a.nd||a.ta||(this.o="[R]History not valid with Generations",this.za=a.Rb=!1);-1===a.g||!this.vk[0]||a.nd||a.ta||(this.o="Generations does not support B0",this.za=!1);a.nd&&a.Rb&&(this.o="[R]History not valid with LtL",
this.za=a.Rb=!1);a.ta&&a.Rb&&(this.o="[R]History not valid with HROT",this.za=a.Rb=!1);this.za&&(a.Fl?8<a.ze&&(this.o="Illegal state in pattern for Niemiec",this.za=!1):a.Rb?7<a.ze&&(this.o="Illegal state in pattern for [R]History",this.za=!1):-1!==a.g&&a.ze>a.g&&(this.o=a.nd?"Illegal state in pattern for LtL":a.ta?"Illegal state in pattern for HROT":"Illegal state in pattern for Generations",this.za=!1));a.nd&&this.eA(a,f)};b.OA=function(a){var b=!1;0<a&&(b=!0);return b};b.NA=function(a){var b=!1;
0<a&&(b=!0);return b};b.PA=function(a){var b=!1;0<a&&(b=!0);return b};b.QA=function(a,b){a=a.je;b=a.indexOf("\n",b);var f=a.length,g=0;if(-1!==b)for(;7!==g&&b<f;){var e=b+1;b=a.indexOf("\n",e);-1===b&&(b=f);"#"!==a[e]&&("num_states="===a.substr(e,11)?g|=1:"num_neighbors="===a.substr(e,14)?g|=2:"num_nodes="===a.substr(e,10)&&(g|=4),"0"<=a[e]&&"9">=a[e]&&7!==g&&(b=f))}return!1};b.Dx=function(a){var e=a.je,f=e.length;var g=e.indexOf(b.fv);if(-1!==g){var l=e.indexOf("\n",g);-1===l&&(l=f);a.Kz=e.substring(g+
b.fv.length,l).trim();a=e.indexOf(b.Lz,l);l=e.indexOf(b.Mz,l);-1!==a&&-1!==l&&(a<l?l=-1:a=-1)}};b.create=function(a,b,f){a=new c(a);this.za=this.ck=this.Sg=!1;this.o="";this.$h=!1;this.sq=0;this.ng=!1;this.Co=this.Bo=0;this.Lg=this.Mg=-1;this.ah=!1;if("!"===b.substr(0,1)||"O"===b.substr(0,1)||"."===b.substr(0,1)||"*"===b.substr(0,1)||"o"===b.substr(0,1))this.ux(a,b,f),this.za=!0;null===a.Wc&&(this.za=!1,"#Life 1.05"===b.substr(0,10)?this.ut(a,b,!0,f):"#Life 1.06"===b.substr(0,10)?(this.sx(a,b,f),
this.za=!0):"#"===b[0]||"x"===b[0]?(this.wt(a,b,f),null!==a.Wc||a.Sg||a.jj||(this.ut(a,b,!1,f),this.ck=!1,a.xe=null,a.Rb=!1,a.ze=2,a.Wl=0)):this.wt(a,b,f));a.Sg&&(this.o="Pattern too big (maximum "+this.maxWidth+"x"+this.maxHeight+")",this.Sg=!0,this.za=!1);-1!==a.qb?(b=a.aa.lastIndexOf(":"),a.Ym=a.aa.substr(b),a.aa=a.aa.substr(0,b)):a.Ym="";null===a.Wc&&(a.Sg||""!==this.o||(this.o="Invalid pattern"),a=null,this.za=!1);a&&a.jj&&(a=null,this.za=!1);a&&(""!==a.ob&&"\n"!==a.ob[a.ob.length-1]&&(a.ob+=
"\n"),""!==a.je&&("\n"!==a.je[a.je.length-1]&&(a.je+="\n"),this.Dx(a)));return a};window.PatternManager=b;window.Pattern=c})();(function(){function d(){this.Tp=[]}d.prototype.add=function(c,b,a){this.Tp[this.Tp.length]=c<<16|b<<8|a};window.ColourManager={zg:[],hm:[],Yt:!1,cq:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,
169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,
59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,
113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,
158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,
108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],bq:[],kd:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,
245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",
0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",
47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],
gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},RA:function(){return this.bq},nt:function(c){for(var b=0,a=!1,e=[];b<this.hm.length&&!a;)c===this.hm[b][0]?a=!0:b+=1;a&&(e=this.zg[this.hm[b][1]].Tp);return e},Qa:function(c){this.hm[this.hm.length]=c},Id:function(){var c,b=0,a;if(!this.Yt){this.Yt=!0;for(c=a=0;256>c;c+=1)this.bq[c]=this.cq[a]<<16|this.cq[a+1]<<8|this.cq[a+2],a+=3;c=new d;c.add(0,0,0);c.add(0,255,0);c.add(0,0,128);
c.add(216,255,216);c.add(255,0,0);c.add(255,255,0);c.add(96,96,96);c.add(255,128,128);this.zg[b]=c;this.Qa(["LifeHistory",b]);b+=1;c=new d;c.add(48,48,48);c.add(0,128,255);c.add(255,255,255);c.add(255,128,0);this.zg[b]=c;this.Qa(["WireWorld",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,255,255);c.add(144,128,112);c.add(144,90,45);c.add(192,192,192);c.add(255,0,0);c.add(255,128,0);c.add(255,255,0);c.add(0,255,0);c.add(0,255,208);c.add(0,192,255);c.add(0,0,255);c.add(192,0,255);c.add(255,64,160);c.add(112,
128,144);c.add(0,128,0);c.add(0,96,128);c.add(160,0,80);c.add(40,40,40);c.add(220,220,220);c.add(140,60,0);c.add(0,160,0);c.add(160,160,250);this.zg[b]=c;this.Qa(["WWE",b]);this.Qa(["WWE2",b]);this.Qa(["WWEJ",b]);this.Qa(["WWEJ2",b]);this.Qa(["WWEJ3",b]);b+=1;c=new d;c.add(30,30,30);c.add(0,128,128);c.add(0,255,0);c.add(255,0,0);c.add(255,128,0);c.add(255,255,0);c.add(128,0,128);c.add(128,128,128);c.add(255,255,255);c.add(128,128,255);this.zg[b]=c;this.Qa(["Novoloop",b]);b+=1;c=new d;c.add(0,0,0);
c.add(255,128,0);c.add(255,0,0);c.add(0,255,0);c.add(0,0,255);c.add(0,190,0);c.add(0,140,0);c.add(255,255,255);c.add(80,80,80);c.add(95,95,95);c.add(128,128,128);c.add(0,64,0);c.add(255,255,0);c.add(64,0,164);c.add(64,32,64);c.add(80,80,100);c.add(95,95,125);c.add(128,255,128);c.add(64,100,100);this.zg[b]=c;this.Qa(["shapeloop",b]);this.Qa(["shapeloop-b",b]);this.Qa(["shapeloop2",b]);this.Qa(["shapeloop-ltd",b]);this.Qa(["2armshapeloop-a",b]);this.Qa(["2armshapeloop2-a",b]);this.Qa(["shapeloop2a-bounded",
b]);this.Qa(["foodshapeloop",b]);this.Qa(["foodshapeloop2",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,255,255);c.add(255,0,0);c.add(0,128,255);c.add(170,0,0);c.add(85,0,0);this.zg[b]=c;this.Qa(["b3s23mmg",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,0,0);c.add(0,255,0);c.add(0,0,255);c.add(255,255,0);c.add(0,255,255);c.add(255,0,255);c.add(92,36,110);c.add(0,99,140);c.add(176,196,222);c.add(115,61,26);this.zg[b]=c;this.Qa(["_235_4_O3",b]);this.Qa(["0_245_5_O4",b]);this.Qa(["0_245_5_O3",b]);this.Qa(["58_27_4_O3",
b]);this.Qa(["0_24_4H_O3",b]);this.Qa(["2_235_4H_O3",b]);this.Qa(["24_235_4H_O3",b]);this.Qa(["3_25_4_O2",b]);this.Qa(["Snake_O5",b]);this.Qa(["Mites",b]);this.Qa(["Mites2",b]);this.Qa(["Mites3",b]);b+=1;c=new d;c.add(48,48,48);c.add(255,128,0);c.add(0,0,255);c.add(32,32,255);c.add(64,64,255);c.add(96,96,255);this.zg[b]=c;this.Qa(["Alpha-1",b]);b+=1;c=new d;c.add(48,48,48);c.add(255,0,0);c.add(255,125,0);c.add(255,150,25);c.add(255,175,50);c.add(255,200,75);c.add(255,225,100);c.add(255,250,125);c.add(251,
255,0);c.add(89,89,255);c.add(106,106,255);c.add(122,122,255);c.add(139,139,255);c.add(27,176,27);c.add(36,200,36);c.add(73,255,73);c.add(106,255,106);c.add(235,36,36);c.add(255,56,56);c.add(255,73,73);c.add(255,89,89);c.add(185,56,255);c.add(191,73,255);c.add(197,89,255);c.add(203,106,255);c.add(0,255,128);c.add(255,128,64);c.add(255,255,128);c.add(33,215,215);c.add(27,176,176);c.add(24,156,156);c.add(21,137,137);this.Qa(["JvN29",b]);this.Qa(["Hutton32",b]);this.Qa(["Nobili32",b]);this.zg[b]=c}}}})();window.BoundingBox=function(d,c,b,a){this.N=d;this.K=c;this.O=b;this.L=a};(function(){function d(b,a){this.index=a;this.qa=b.Dj[a];this.eb=b.Xi[a];this.m=b.Kn[a];this.i=b.Zm[a];this.C=new BoundingBox(0,0,0,0);this.ca=new BoundingBox(0,0,0,0);this.Da=this.s=this.ic=this.xb=this.Ba=0;this.f=b}function c(b,a){this.j=b;this.Yc=[];this.pf=[];this.Dj=[];this.Xi=[];this.Kn=[];this.Zm=[];this.f=[];this.i=0;this.index=-1;this.yy=51;this.Ce=[];this.bt=a}d.prototype.Gz=function(b,a,e){var f=a.length,g=a[0].length,l,c,d=0,I,r=e.zm;e=e.Am;var h,z=0,m=this.m,n=0,p=m[n],B=p.length;Array.Of(this.qa,
a);for(l=0;l<f;l+=1){var D=this.qa[l];for(a=h=0;a<g;a+=1)if(I=D[a])for(c=15;0<=c;--c){if(0!==(I&1<<c)){var q=z;var t=h;var G=p[d];d+=1;b[q][t]=G&255;b[q][t+1]=G>>8&255;b[q+1][t]=G>>16&255;b[q+1][t+1]=G>>24;q+=2;G=p[d];d+=1;b[q][t]=G&255;b[q][t+1]=G>>8&255;b[q+1][t]=G>>16&255;b[q+1][t+1]=G>>24;q+=2;G=p[d];d+=1;b[q][t]=G&255;b[q][t+1]=G>>8&255;b[q+1][t]=G>>16&255;b[q+1][t+1]=G>>24;q+=2;G=p[d];d+=1;b[q][t]=G&255;b[q][t+1]=G>>8&255;b[q+1][t]=G>>16&255;b[q+1][t+1]=G>>24;q+=2;G=p[d];d+=1;b[q][t]=G&255;
b[q][t+1]=G>>8&255;b[q+1][t]=G>>16&255;b[q+1][t+1]=G>>24;q+=2;G=p[d];d+=1;b[q][t]=G&255;b[q][t+1]=G>>8&255;b[q+1][t]=G>>16&255;b[q+1][t+1]=G>>24;q+=2;G=p[d];d+=1;b[q][t]=G&255;b[q][t+1]=G>>8&255;b[q+1][t]=G>>16&255;b[q+1][t+1]=G>>24;q+=2;G=p[d];d+=1;b[q][t]=G&255;b[q][t+1]=G>>8&255;b[q+1][t]=G>>16&255;b[q+1][t+1]=G>>24;d>=B&&(n+=1,p=m[n],d=0)}h+=r}else h+=r<<4;z+=e}};d.prototype.Qz=function(b,a,e){var f=a.length,g=a[0].length,l,c=0,d;var I=0;var r=e.zm,h=e.Am,z,m=0,n=this.m,p=0,B=n[p],D=B.length,
q=n.length;var t=this.f.bt;Array.Of(a,this.qa);for(l=0;l<f;l+=1){var G=a[l];for(e=0;e<g;e+=1)(d=G[e])&&(I+=t[d])}if(I)for(l=0;l<f;l+=1){G=a[l];for(e=z=0;e<g;e+=1)if(d=G[e])for(I=15;0<=I;--I){if(0!==(d&1<<I)){var k=m;t=z;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+
1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;c>=D&&(p+=1,c=0,p>=q&&(Array.Vk(n,"Snapshot.gridBufferRow"),q+=1));B=n[p]}z+=r}else z+=r<<4;m+=h}};d.prototype.Fz=function(b,a,e){var f=a.length,g=a[0].length,l,c,d,I=0,r,h=e.zm<<3,z=e.Am,m,n=0,p=this.i,B=0,D=p[B],q=D.length;Array.Of(this.eb,a);for(l=0;l<f;l+=1){var t=
a[l];for(e=m=0;e<g;e+=1)if(r=t[e])for(c=15;0<=c;--c){if(0!==(r&1<<c))for(d=m;d<m+h;d+=4){var G=n;var k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>
16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;
b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;G+=1;k=D[I];I+=1;b[G][d]=k&255;b[G][d+1]=k>>8&255;b[G][d+2]=k>>16&255;b[G][d+3]=k>>24;I>=q&&(B+=1,D=p[B],I=0)}m+=h}else m+=
h<<4;n+=z}};d.prototype.Nz=function(b,a,e){var f=a.length,g=a[0].length,l,c=0,d;var I=0;var r=e.zm<<3,h=e.Am,z,m=0,n=this.i,p=0,B=n[p],D=B.length,q=n.length;var t=this.f.bt;Array.Of(a,this.eb);for(l=0;l<f;l+=1){var G=a[l];for(e=0;e<g;e+=1)(d=G[e])&&(I+=t[d])}if(I)for(l=0;l<f;l+=1){G=a[l];for(e=z=0;e<g;e+=1)if(d=G[e])for(I=15;0<=I;--I){if(0!==(d&1<<I))for(t=z;t<z+r;t+=4){var k=m;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=
1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+
3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;c>=D&&(p+=1,c=0,p>=q&&(Array.Vk(n,"Snapshot.colourGridBufferRow"),q+=1),B=n[p])}z+=r}else z+=r<<4;m+=h}};
c.prototype.bufferSize=function(){for(var b=0,a=0;a<this.pf.length;)b+=this.Dj[a].length*this.Dj[a][0].length*2,b+=this.Xi[a].length*this.Xi[a][0].length*2,b+=this.Kn[a].length*this.Kn[a][0].length*4,b+=this.Zm[a].length*this.Zm[a][0].length*4,this.f[a]&&(b+=this.f[a].length*this.f[a][0].length*4),a+=1;return b};c.prototype.EA=function(){for(var b=0,a=0;a<this.pf.length;)this.pf[a]&&(b+=1),a+=1;return b};c.prototype.reset=function(){var b=0,a;this.Yc=[];for(this.index=-1;b<this.pf.length;){var e=
!1;for(a=0;a<this.Ce.length&&!e;)b===this.Ce[a].index?e=!0:a+=1;e||(this.pf[b]=!1);b+=1}};c.prototype.gA=function(b){var a=null;0<this.Yc.length&&(a=this.Yc[this.index],a.s>b&&(a=null,0<this.index&&(this.m(this.Yc[this.index].index),this.Yc.pop(),--this.index,0<=this.index&&(a=this.Yc[this.index]))));return a};c.prototype.km=function(b,a,e,f,g,l,c,d,I,r,h,z,m,n,p,B){var H=null,L=0,t=this.Ce.length,G=!1;g=null!==g;if(p){for(;L<t&&!G;)this.Ce[L].s===h?G=!0:L+=1;G?H=this.Ce[L]:alert("reset snapshot at generation "+
h+" not found!")}else if(51>this.Yc.length)H=this.Yp(z,m,!1,h,g),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.m(this.Yc[0].index);for(L=0;50>L;L+=1)this.Yc[L]=this.Yc[L+1];this.Yc.pop();this.Yp(z,m,!1,h,g)}H=this.Yc[this.index]}H.Da=B;H.Qz(b,a,n);H.Nz(e,f,n);H.C.N=l.N;H.C.O=l.O;H.C.K=l.K;H.C.L=l.L;H.ca.N=c.N;H.ca.O=c.O;H.ca.K=c.K;H.ca.L=c.L;H.Ba=d;H.xb=I;H.ic=r;H.s=h};c.prototype.m=function(b){this.pf[b]=!1};c.prototype.W=function(b,a,e){for(var f=0,g=!1;f<this.i&&!g;)this.pf[f]?
f+=1:g=!0;g?(b=f,this.pf[f]=!0):(this.Dj[f]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.tileGrid"+f),this.Xi[f]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.colourTileGrid"+f),this.Kn[f]=Array.Z(Uint32,1,1024,0,this.j,"Snapshot.gridBuffer"+f),this.Zm[f]=Array.Z(Uint32,1,8192,0,this.j,"Snapshot.colourGridBuffer"+f),e&&(this.f[f]=Array.Z(Uint32,1,8192,0,this.j,"Snapshot.overlayGridBuffer"+f)),this.pf[f]=!0,this.i+=1,b=f);return b};c.prototype.Yp=function(b,a,e,f,g){var l=0,c=this.Ce.length,L=!1;b=this.W(b,a,g);
if(e){for(;l<c&&!L;)this.Ce[l].s===f?L=!0:l+=1;L?e=this.Ce[l]:(e=new d(this,b,g),this.Ce[this.Ce.length]=e)}else e=new d(this,b,g),this.Yc[this.Yc.length]=e;return e};c.prototype.G=function(b,a,e,f){var g=b.qa,l=b.eb,c=b.qa.length,d=c>>1,I=b.qa[0].length>>1,r=0,h=b.index;this.Dj[h]=Array.Z(Uint16,e,a,0,this.j,"Snapshot.tileGrid"+h);this.Xi[h]=Array.Z(Uint16,e,a,0,this.j,"Snapshot.colourTileGrid"+h);b.qa=this.Dj[h];b.eb=this.Xi[h];if(0<f){for(;r<c;)b.qa[r+d].set(g[r],I),b.eb[r+d].set(l[r],I),r+=1;
b.C.N+=f;b.C.O+=f;b.C.K+=f;b.C.L+=f;b.ca.N+=f;b.ca.O+=f;b.ca.K+=f;b.ca.L+=f}};c.prototype.av=function(b,a,e){for(var f=0,g=this.Ce.length;f<g;)this.G(this.Ce[f],b,a,e),f+=1;f=0;for(g=this.Yc.length;f<g;)this.G(this.Yc[f],b,a,e),f+=1;for(f=0;f<this.pf.length;)this.pf[f]||(this.Dj[f]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.tileGrid"+f),this.Xi[f]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.colourTileGrid"+f)),f+=1};window.SnapshotManager=c;window.Snapshot=d})();(function(){function d(c,b){this.j=c;this.a=b;this.uc=1;this.Ko=2;this.xb=c.V(Uint8,0,"HROT.births");this.Uo=c.V(Uint8,0,"HROT.survivals");this.Rm=c.V(Uint8,0,"HROT.altBirths");this.Sm=c.V(Uint8,0,"HROT.altSurvivals");this.type=PatternManager.Xe;this.G=Array.Z(Uint32,1,1,0,c,"HROT.counts");this.da=c.V(Uint32,0,"HROT.widths");this.Aa=c.V(Uint8,0,"HROT.colUsed");this.ha=this.i=this.m=this.W=0;this.ah=!1}d.prototype.resize=function(c,b){this.G=Array.Z(Uint32,b,c,0,this.j,"HROT.counts");this.Aa=this.j.V(Uint8,
c,"HROT.colUsed")};d.prototype.cA=function(c,b){var a=2*b+1,e=b*b+b;this.type=c;this.uc=b;this.da=this.j.V(Uint32,a,"HROT.widths");switch(c){case PatternManager.Xe:for(c=0;c<a;c+=1)this.da[c]=b;break;case PatternManager.gf:for(c=0;c<b;c+=1)this.da[c]=c,this.da[a-c-1]=c;this.da[c]=b;break;case PatternManager.Pp:for(c=-b;c<=b;c+=1){for(a=0;(a+1)*(a+1)+c*c<=e;)a+=1;this.da[c+b]=a}}};d.prototype.f=function(c,b){return 0>c||0>c+b||b-c>=this.m?0:0>b&&c+b<this.i?this.G[c+b][0]:b>=this.m&&b-c>=this.m-this.i?
this.G[c+this.m-1-b][this.m-1]:c<this.i?this.G[c][b]:c-this.i+1+b<=this.ha?this.G[this.i-1][c-this.i+1+b]:b-(c-this.i+1)>=this.ha?this.G[this.i-1][b-(c-this.i+1)]:this.G[this.i-1][this.ha+(c+b+this.i+this.ha+1)%2]};d.prototype.Fa=function(c,b,a,e){var f=this.a.sa,g=this.uc,l,d;for(d=0;d<g;d+=1){var L=f[b+d];var I=f[e+d+1];for(l=c;l<=a;l+=1)I[l]=L[l]}for(d=0;d<g;d+=1)for(L=f[e-d],I=f[b-d-1],l=c;l<=a;l+=1)I[l]=L[l];for(d=b;d<=e;d+=1)for(L=f[d],l=0;l<g;l+=1)L[a+l+1]=L[c+l],L[c-l-1]=L[a-l];for(d=0;d<
g;d+=1)for(L=f[b+d],I=f[e+d+1],l=0;l<g;l+=1)I[l+a+1]=L[l+c],I[c-l-1]=L[a-l];for(d=0;d<g;d+=1)for(L=f[e-d],I=f[b-d-1],l=0;l<g;l+=1)I[l+a+1]=L[l+c],I[c-l-1]=L[a-l]};d.prototype.va=function(c,b,a,e){var f=this.a.sa,g=this.uc,l,d;for(d=0;d<g;d+=1){var L=f[e+d+1];for(l=c;l<=a;l+=1)L[l]=0}for(d=0;d<g;d+=1)for(L=f[b-d-1],l=c;l<=a;l+=1)L[l]=0;for(d=b;d<=e;d+=1)for(L=f[d],l=0;l<g;l+=1)L[a+l+1]=0,L[c-l-1]=0;for(d=0;d<g;d+=1)for(L=f[e+d+1],l=0;l<g;l+=1)L[l+a+1]=0,L[c-l-1]=0;for(d=0;d<g;d+=1)for(L=f[b-d-1],l=
0;l<g;l+=1)L[l+a+1]=0,L[c-l-1]=0};d.prototype.Ca=function(c,b,a,e,f){var g,l,d=this.a.sa,L=this.a.Xa,I=this.a.width,r=0,h=this.a.height,z=0,m=I,n=r,p=h,B=z,D=this.a.C,q=this.a.ca,t=this.uc,G=f?this.Rm:this.xb,k=f?this.Sm:this.Uo,u=this.G;var C=this.Ko-1;var x=LifeConstants.cb,F=LifeConstants.Uh,A=this.a.$m;var y=this.a.g+this.a.ea-1;var E=this.a.ea,v=0<this.a.ea?1:0;var w=g=f=0;if(1===C)for(C=b-t;C<=e+t;C+=1){var M=d[C];var K=u[C];var S=L[C>>4];var ba=l=!1;for(b=c-t;b<=a+t;b+=1){var Y=M[b];var T=
K[b];y=0;Y<x?1===G[T]&&(g+=1,y=128):0===k[T]?w+=1:y=128;Y=A[Y+y];M[b]=Y;Y>F&&(l=!0,S[b>>8]|=1<<(~(b>>4)&15),b<I&&(I=b),b>r&&(r=b),Y>=x&&(f+=1,b<m&&(m=b),b>n&&(n=b),ba=!0))}l&&(C<h&&(h=C),C>z&&(z=C));ba&&(C<p&&(p=C),C>B&&(B=C))}else for(C=b-t;C<=e+t;C+=1){M=d[C];K=u[C];S=L[C>>4];ba=l=!1;for(b=c-t;b<=a+t;b+=1)Y=M[b],T=K[b],Y<=E?1===G[T]?(Y=y,g+=1):Y>v&&--Y:Y===y?0===k[T]&&(--Y,w+=1):Y>v&&--Y,M[b]=Y,0<Y&&(l=!0,S[b>>8]|=1<<(~(b>>4)&15),b<I&&(I=b),b>r&&(r=b),Y===y&&(f+=1,b<m&&(m=b),b>n&&(n=b),ba=!0));
l&&(C<h&&(h=C),C>z&&(z=C));ba&&(C<p&&(p=C),C>B&&(B=C))}this.a.Ba=f;this.a.xb=g;this.a.ic=w;0<f?(D.N=I,D.O=r,D.K=h,D.L=z,q.N=m,q.O=n,q.K=p,q.L=B):this.a.Da=0};d.prototype.Pa=function(c){var b,a,e=this.a.C.N,f=this.a.C.O,g=this.a.C.K,l=this.a.C.L,d=this.uc,L=c?this.Rm:this.xb,I=c?this.Sm:this.Uo,r=d+d;var h=d+1;var z=this.G,m=this.type,n=this.Ko-1,p=this.a.width,B=0,D=this.a.height,q=0,t=p,G=B,k=D,u=q,C=this.a.sa,x=this.a.Xa;var F=this.da;var A=this.a.la;var y=this.a.na,E=0,v=0,w=0,M=0,K=0,S=0,ba=0,
Y=LifeConstants.cb,T=LifeConstants.Uh,aa=this.a.$m;var X=this.Aa;-1!==this.a.ka&&(E=Math.round((this.a.width-A)/2),w=Math.round((this.a.height-y)/2),v=E+A-1,M=w+y-1,1===L[0]&&(e=E+d,f=v-d,l=M-d,g=w+d),1===this.a.ka&&(e-E<d&&(f=v),v-f<d&&(e=E),M-l<d&&(g=w),g-w<d&&(l=M),this.Fa(E,w,v,M)),0===this.a.ka&&1===n&&this.a.Dt(0),e-E<d&&(e=E+d),v-f<d&&(f=v-d),M-l<d&&(l=M-d),g-w<d&&(g=w+d),m===PatternManager.Xe?(e-=r,g-=r,f+=r,l+=r):m===PatternManager.gf&&6<d&&(e-=d,g-=d,f+=d,l+=d));if(m===PatternManager.Xe){e-=
r;g-=r;f+=r;l+=r;for(a=g;a<g+r;a+=1){var N=z[a];for(b=e;b+8<=f;)N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1;for(;b<=f;)N[b]=0,b+=1}for(a=g+r;a<=l;a+=1){N=z[a];for(b=e;b+8<=e+r;)N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1;for(;b<=e+r;)N[b]=0,b+=1}var R=z[g+r-1];for(a=g+r;a<=l;a+=1){N=z[a];n=C[a];A=0;for(b=e+r;b+8<=f;)n[b]>=Y&&(A+=1),N[b]=R[b]+A,b+=1,n[b]>=Y&&(A+=1),N[b]=R[b]+A,b+=1,n[b]>=
Y&&(A+=1),N[b]=R[b]+A,b+=1,n[b]>=Y&&(A+=1),N[b]=R[b]+A,b+=1,n[b]>=Y&&(A+=1),N[b]=R[b]+A,b+=1,n[b]>=Y&&(A+=1),N[b]=R[b]+A,b+=1,n[b]>=Y&&(A+=1),N[b]=R[b]+A,b+=1,n[b]>=Y&&(A+=1),N[b]=R[b]+A,b+=1;for(;b<=f;)n[b]>=Y&&(A+=1),N[b]=R[b]+A,b+=1;R=N}e+=d;g+=d;f-=d;l-=d;-1!==this.a.ka&&(e+=r,g+=r,f-=r,l-=r);r=C[g][e];A=z[g+d][e+d];var U=0;r<Y?1===L[A]&&(S+=1,U=128):0===I[A]?ba+=1:U=128;r=aa[r+U];C[g][e]=r;r>T&&(X[e]|=1,q=D=g,x[g>>4][e>>8]|=1<<(~(e>>4)&15),r>=Y&&(K+=1,X[e]|=2,u=k=g));var ca=y=!1;N=z[g+d];R=z[g+
d];n=C[g];F=x[g>>4];for(b=e+1;b<=f;b+=1)r=n[b],A=N[b+d]-R[b-h],U=0,r<Y?1===L[A]&&(S+=1,U=128):0===I[A]?ba+=1:U=128,r=aa[r+U],n[b]=r,r>T&&(X[b]|=1,y=!0,F[b>>8]|=1<<(~(b>>4)&15),r>=Y&&(K+=1,X[b]|=2,ca=!0));y&&(q=D=g);ca&&(u=k=g);F=n=!1;N=e+d;for(a=g+1;a<=l;a+=1)r=C[a][e],A=z[a+d][N]-z[a-h][N],U=0,r<Y?1===L[A]&&(S+=1,U=128):0===I[A]?ba+=1:U=128,r=aa[r+U],C[a][e]=r,r>T&&(a<D&&(D=a),a>q&&(q=a),n=!0,x[a>>4][e>>8]|=1<<(~(e>>4)&15),r>=Y&&(K+=1,a<k&&(k=a),a>u&&(u=a),F=!0));n&&(X[e]|=1);F&&(X[e]|=2);for(a=
g+1;a<=l;a+=1){n=C[a];F=x[a>>4];R=z[a+d];var P=z[a-h];N=e+1+d;var J=e+1-h;ca=y=!1;for(b=e+1;b<=f;b+=1)r=n[b],A=R[N]+P[J]-R[J]-P[N],U=0,r<Y?1===L[A]&&(U=128,S+=1):0===I[A]?ba+=1:U=128,r=aa[r+U],n[b]=r,r>T&&(y=!0,F[b>>8]|=1<<(~(b>>4)&15),X[b]|=1,r>=Y&&(K+=1,ca=!0,X[b]|=2)),N+=1,J+=1;y&&(a<D&&(D=a),a>q&&(q=a));ca&&(a<k&&(k=a),a>u&&(u=a))}for(b=e;b<=f;b+=1)X[b]&&(b<p&&(p=b),b>B&&(B=b),0!==(X[b]&2)&&(b<t&&(t=b),b>G&&(G=b)),X[b]=0);this.a.Ba=K;this.a.xb=S;this.a.ic=ba;0<K?(this.a.C.N=p,this.a.C.O=B,this.a.C.K=
D,this.a.C.L=q,this.a.ca.N=t,this.a.ca.O=G,this.a.ca.K=k,this.a.ca.L=u):this.a.Da=0}else if(m===PatternManager.gf&&6<d){e-=d;f+=d;g-=d;l+=d;-1===this.a.ka&&(e-=d,f+=d,g-=d,l+=d);this.W=l-g+1;this.m=f-e+1;this.i=this.W+(this.m-1)/2|0;this.ha=this.m/2|0;for(h=0;h<this.i;h+=1)for(N=z[h],n=C[h+g],a=h-1,A=a-1,X=0;X<=this.m;X+=1)N[X]=this.f(a,X-1)+this.f(a,X+1)-this.f(A,X),h<this.W&&n[X+e]>=Y&&(N[X]+=1);for(h=d;h<=this.W-d;h+=1){a=h-1;P=h+d;z=P-1;b=h-d-1;N=b-1;R=h+g;n=C[R];F=x[R>>4];ca=y=!1;for(X=d;X<=
this.m-d;X+=1)A=X+d,r=X-d,A=this.f(P,X)-this.f(a,A+1)-this.f(a,r-1)+this.f(N,X)+this.f(z,X)-this.f(a,A)-this.f(a,r)+this.f(b,X),J=X+e,r=n[J],U=0,r<Y?1===L[A]&&(U=128,S+=1):0===I[A]?ba+=1:U=128,r=aa[r+U],n[J]=r,r>T&&(J<p&&(p=J),J>B&&(B=J),y=!0,F[J>>8]|=1<<(~(J>>4)&15),r>=Y&&(K+=1,ca=!0,J<t&&(t=J),J>G&&(G=J)));y&&(R<D&&(D=R),R>q&&(q=R));ca&&(R<k&&(k=R),R>u&&(u=R))}this.a.Ba=K;this.a.xb=S;this.a.ic=ba;0<K?(this.a.C.N=p,this.a.C.O=B,this.a.C.K=D,this.a.C.L=q,this.a.ca.N=t,this.a.ca.O=G,this.a.ca.K=k,
this.a.ca.L=u):this.a.Da=0}else for(a=g-d;a<=l+d;a+=1){N=z[a];b=e-d;A=0;for(X=-d;X<=d;X+=1)for(L=F[X+d],n=C[a+X],h=-L;h<=L;h+=1)n[b+h]>=Y&&(A+=1);N[b]=A;for(b+=1;b<=f+d;){for(X=-d;X<=d;X+=1)L=F[X+d],n=C[a+X],n[b-L-1]>=Y&&--A,n[b+L]>=Y&&(A+=1);N[b]=A;b+=1}}-1!==this.a.ka&&(e<E+d&&(e=E+d),f>v-d&&(f=v-d),g<w+d&&(g=w+d),l>M-d&&(l=M-d));m===PatternManager.Xe||m===PatternManager.gf&&6<d||this.Ca(e,g,f,l,c);1===this.a.ka&&this.va(E,w,v,M)};d.prototype.bb=function(d){var b,a,e=this.a.C.N,f=this.a.C.O,g=this.a.C.K,
l=this.a.C.L,c=this.uc,L=d?this.Rm:this.xb,I=d?this.Sm:this.Uo,r=c+c;var h=c+1;var z=this.G,m=this.type,n=this.a.width,p=0,B=this.a.height,D=0,q=n,t=p,G=B,k=D,u=this.a.sa,C=this.a.Xa;var x=this.da;var F=this.a.la;var A=this.a.na;var y=0,E=0,v=0,w=0,M=0,K=0,S=0,ba,Y=this.a.g+this.a.ea-1,T=this.a.ea,aa=0<this.a.ea?1:0;-1!==this.a.ka&&(y=Math.round((this.a.width-F)/2),v=Math.round((this.a.height-A)/2),E=y+F-1,w=v+A-1,1===L[0]&&(e=y+c,f=E-c,l=w-c,g=v+c),1===this.a.ka&&(e-y<c&&(f=E),E-f<c&&(e=y),w-l<c&&
(g=v),g-v<c&&(l=w),this.Fa(y,v,E,w)),e-y<c&&(e=y+c),E-f<c&&(f=E-c),w-l<c&&(l=w-c),g-v<c&&(g=v+c),m===PatternManager.Xe?(e-=r,g-=r,f+=r,l+=r):m===PatternManager.gf&&6<c&&(e-=c,g-=c,f+=c,l+=c));if(m===PatternManager.Xe){e-=r;g-=r;f+=r;l+=r;for(a=g;a<g+r;a+=1){var X=z[a];for(b=e;b<=f;b+=1)X[b]=0}for(b=e;b<e+r;b+=1)for(a=g+r;a<=l;a+=1)z[a][b]=0;for(a=g+r;a<=l;a+=1){var N=z[a-1];X=z[a];F=u[a];A=0;for(b=e+r;b<=f;b+=1)F[b]===Y&&(A+=1),X[b]=N[b]+A}e+=c;g+=c;f-=c;l-=c;-1!==this.a.ka&&(e+=r,g+=r,f-=r,l-=r);
r=u[g][e];A=z[g+c][e+c];r<=T?1===L[A]?(r=Y,K+=1):r>aa&&--r:r===Y?0===I[A]&&(--r,S+=1):r>aa&&--r;u[g][e]=r;0<r&&(p=n=e,D=B=g,C[g>>4][e>>8]|=1<<(~(e>>4)&15),r===Y&&(M+=1,t=q=e,k=G=g));var R=ba=!1;X=z[g+c];N=z[g+c];F=u[g];x=C[g>>4];for(b=e+1;b<=f;b+=1)r=F[b],A=X[b+c]-N[b-h],r<=T?1===L[A]?(r=Y,K+=1):r>aa&&--r:r===Y?0===I[A]&&(--r,S+=1):r>aa&&--r,F[b]=r,0<r&&(b<n&&(n=b),b>p&&(p=b),ba=!0,x[b>>8]|=1<<(~(b>>4)&15),r===Y&&(M+=1,b<q&&(q=b),b>t&&(t=b),R=!0));ba&&(D=B=g);R&&(k=G=g);x=F=!1;N=e+c;for(a=g+1;a<=
l;a+=1)r=u[a][e],A=z[a+c][N]-z[a-h][N],r<=T?1===L[A]?(r=Y,K+=1):r>aa&&--r:r===Y?0===I[A]&&(--r,S+=1):r>aa&&--r,u[a][e]=r,0<r&&(a<B&&(B=a),a>D&&(D=a),F=!0,C[a>>4][e>>8]|=1<<(~(e>>4)&15),r===Y&&(M+=1,a<G&&(G=a),a>k&&(k=a),x=!0));F&&(e<n&&(n=e),e>p&&(p=e));x&&(e<q&&(q=e),e>t&&(t=e));for(a=g+1;a<=l;a+=1){F=u[a];x=C[a>>4];X=z[a+c];var U=z[a-h];R=ba=!1;N=e+1+c;var ca=e+1-h;for(b=e+1;b<=f;b+=1)r=F[b],A=X[N]+U[ca]-X[ca]-U[N],r<=T?1===L[A]?(r=Y,K+=1):r>aa&&--r:r===Y?0===I[A]&&(--r,S+=1):r>aa&&--r,F[b]=r,0<
r&&(x[b>>8]|=1<<(~(b>>4)&15),b<n&&(n=b),b>p&&(p=b),ba=!0,r===Y&&(M+=1,R=!0,b<q&&(q=b),b>t&&(t=b))),N+=1,ca+=1;ba&&(a<B&&(B=a),a>D&&(D=a));R&&(a<G&&(G=a),a>k&&(k=a))}this.a.Ba=M;this.a.xb=K;this.a.ic=S;0<M?(this.a.C.N=n,this.a.C.O=p,this.a.C.K=B,this.a.C.L=D,this.a.ca.N=q,this.a.ca.O=t,this.a.ca.K=G,this.a.ca.L=k):this.a.Da=0}else if(m===PatternManager.gf&&6<c){e-=c;f+=c;g-=c;l+=c;-1===this.a.ka&&(e-=c,f+=c,g-=c,l+=c);this.W=l-g+1;this.m=f-e+1;this.i=this.W+(this.m-1)/2|0;this.ha=this.m/2|0;for(h=
0;h<this.i;h+=1)for(X=z[h],F=u[h+g],a=h-1,A=a-1,N=0;N<=this.m;N+=1)X[N]=this.f(a,N-1)+this.f(a,N+1)-this.f(A,N),h<this.W&&F[N+e]===Y&&(X[N]+=1);for(h=c;h<=this.W-c;h+=1){a=h-1;ca=h+c;z=ca-1;b=h-c-1;X=b-1;U=h+g;F=u[U];x=C[U>>4];R=ba=!1;for(N=c;N<=this.m-c;N+=1){A=N+c;r=N-c;A=this.f(ca,N)-this.f(a,A+1)-this.f(a,r-1)+this.f(X,N)+this.f(z,N)-this.f(a,A)-this.f(a,r)+this.f(b,N);var P=N+e;r=F[P];r<=T?1===L[A]?(r=Y,K+=1):r>aa&&--r:r===Y?0===I[A]&&(--r,S+=1):r>aa&&--r;F[P]=r;0<r&&(x[P>>8]|=1<<(~(P>>4)&15),
P<n&&(n=P),P>p&&(p=P),ba=!0,r===Y&&(M+=1,R=!0,P<q&&(q=P),P>t&&(t=P)))}ba&&(U<B&&(B=U),U>D&&(D=U));R&&(U<G&&(G=U),U>k&&(k=U))}this.a.Ba=M;this.a.xb=K;this.a.ic=S;0<M?(this.a.C.N=n,this.a.C.O=p,this.a.C.K=B,this.a.C.L=D,this.a.ca.N=q,this.a.ca.O=t,this.a.ca.K=G,this.a.ca.L=k):this.a.Da=0}else for(a=g-c;a<=l+c;a+=1){X=z[a];b=e-c;A=0;for(N=-c;N<=c;N+=1)for(L=x[N+c],F=u[a+N],h=-L;h<=L;h+=1)F[b+h]===Y&&(A+=1);X[b]=A;for(b+=1;b<=f+c;){for(N=-c;N<=c;N+=1)L=x[N+c],F=u[a+N],F[b-L-1]===Y&&--A,F[b+L]===Y&&(A+=
1);X[b]=A;b+=1}}-1!==this.a.ka&&(e<y+c&&(e=y+c),f>E-c&&(f=E-c),g<v+c&&(g=v+c),l>w-c&&(l=w-c));m===PatternManager.Xe||m===PatternManager.gf&&6<c||this.Ca(e,g,f,l,d);1===this.a.ka&&this.va(y,v,E,w)};d.prototype.Ky=function(c){var b=!1;this.ah&&1===(c&1)&&(b=!0);2===this.Ko?this.Pa(b):this.bb(b)};window.HROT=d})();(function(){function d(a,g,b,c,d,e,r,h){this.name=a;this.ij=!1;this.wq=10;this.wf=this.vf=0;this.Oa=c;this.ya=b;this.xa=g;this.Ne=d;this.Sa=e;this.Eb=r;this.Wg=h;this.$j=!1;-1===this.Sa.D.red&&(this.$j=!0);128<=(this.Oa.red+this.Oa.green+this.Oa.blue)/3?(this.vf=ViewConstants.Rt,this.wf=ViewConstants.Qt):(this.vf=ViewConstants.Mn,this.wf=ViewConstants.Ln)}function c(a,g,b){this.red=a;this.green=g;this.blue=b}function b(a,g){this.B=a;this.D=g}function a(a,g,b,c,d){this.j=new Allocator;this.Uk=[];this.$f=
[];this.je=this.ob="";this.wc=255;this.Yb=null;this.ge=this.j.V(Uint8,65536,"Life.bitCounts16");this.al();this.mf=this.Le=this.bb=null;this.sb=this.zb=this.Jb=this.rf=0;this.Mb=1;this.Da=0;this.na=this.la=this.ka=-1;this.dl=this.cl=0;this.gt=this.Op=!1;this.gm=ViewConstants.zt;this.bd=[];this.cd=[];this.bd[0]=this.j.V(Int32,e.Fo,"Life.boundaryX0");this.cd[0]=this.j.V(Int32,e.Fo,"Life.boundaryY0");this.Xg=0;this.Vj=4294967295;this.Ke=-1;this.S=this.fa=!1;this.Ie=!0;this.Kd=this.Yl=!1;this.g=-1;this.rc=
!1;this.ea=0;this.hh=this.ta=!1;this.Od=new SnapshotManager(this.j,this.ge);this.pj=e.sm;this.Ac=this.jb=this.vv=!1;this.Rj=this.Hd=this.Jd=this.ca=this.C=null;this.title="LifeViewer";this.width=c;this.height=d;this.zm=2;this.Am=16;this.f=this.width>>4;this.i=this.height>>4;this.Ho=this.Od.Yp((this.f-1>>4)+1,this.i,!0,0);this.A=g;this.v=b;this.ic=this.xb=this.Ba=0;this.cb=e.cb;this.oc=e.oc;this.Ud=e.Ud;this.Uh=e.Uh;this.Xn=this.Oa=0;this.Vi=this.oe=this.J=1;this.Wi=30;this.angle=this.s=0;this.zoom=
6;this.$=this.ba=0;this.sc=.1;this.Ma=0;this.ma=1;this.zc=this.yc=0;this.m=.1;this.cg=littleEndian;this.La=[];this.ie=this.dd=this.Fc=this.Sd=this.Oc=this.vc=this.Pa=this.uf=this.Ad=this.ed=this.Me=this.gd=this.ad=this.Ob=null;this.ae=-1;this.Cd=this.Sc=this.Jh=null;this.context=a;this.kb=this.ib=0;this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.pc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,
0,this.j,"Life.grid");this.Xb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.pb=Array.Cf(this.pc,"Life.grid16");this.W=Array.Cf(this.Xb,"Life.nextGrid16");this.Vg=this.j.V(Uint32,this.A,"Life.blankPixelRow");this.va=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Zf=this.j.V(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Bb=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.Yf=this.j.V(Uint8,this.width,"Life.blankColourRow");this.sa=Array.Z(Uint8,this.height,
this.width,this.Oa,this.j,"Life.colourGrid");this.G=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.smallColourGrid");this.Aa=Array.Xc(this.G,1,"Life.smallColourGrid4");this.Ca=Array.Xc(this.G,3,"Life.smallColourGrid8");this.Fa=Array.Xc(this.G,7,"Life.smallColourGrid16");this.Ni=Array.Cf(this.sa,"Life.colourGrid16");this.ig=this.ug=this.tf=this.sf=this.da=this.jc=null;this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Xa=Array.Z(Uint16,this.i,(this.f-1>>4)+
1,0,this.j,"Life.colourTileHistoryGrid");this.de=this.fd=this.Hc=this.ha=null;this.Wa=this.j.V(Uint8,256,"Life.redChannel");this.Ta=this.j.V(Uint8,256,"Life.greenChannel");this.Ra=this.j.V(Uint8,256,"Life.blueChannel");this.Hf=this.j.V(Uint32,256,"Life.pixelColours");this.eg=this.j.V(Uint8,e.zq,"Life.indexLookup63");this.fg=this.j.V(Uint8,e.zq,"Life.indexLookup632");this.Kh=this.j.V(Uint8,e.Pn,"Life.indexLookupTri1");this.Lh=this.j.V(Uint8,e.Pn,"Life.indexLookupTri2");this.$m=this.j.V(Uint8,2*(this.oc+
1),"Life.colourLookup");this.Oi=this.j.V(Uint8,2048,"Life.colourReset");this.qc=ViewConstants.Mn;this.bg=-1;this.Yd=ViewConstants.Ln;this.ag=-1;this.Ve=10;this.kh=!0;this.hn=!1;this.Jx=10;this.he=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.U=8192;this.dy=[0,0,48];this.cy=[255,255,255];this.by=[255,255,255];this.ey=[0,255,0];this.fy=[255,0,0];this.Vf=[0,0,48];this.Uf=[255,255,255];this.Tf=[255,255,255];this.Wf=[0,255,0];this.Xf=[255,0,0];this.Qb=new HROT(this.j,this);this.coords=
this.j.V(Float32,1,"Life.coords");this.zd=this.j.V(Uint32,1,"Life.cellColours");this.Gc=0;this.yn=!1}var e={ay:[[[1,1,0],[1,0,1],[1,0,0]],[[0,1,1],[1,1,0],[0,0,1]],[[1,1,1],[1,0,0],[0,1,0]],[[0,1,0],[1,1,0],[1,0,1]]],pe:4096,Sh:16,Fo:4096,iy:512,zq:262144,Pn:8192,sm:50,qu:262144,ti:12,cb:64,oc:127,Ud:63,Uh:1,Ld:1,Nd:2,Pd:4,Ed:8,Ge:16,He:32,le:64,me:128};d.prototype.om=function(a,g,b){this.ij=!0;this.wq=a;this.vf=g.red<<16|g.green<<8|g.blue;this.wf=b.red<<16|b.green<<8|b.blue};d.prototype.Tz=function(a,
g){-1!==a?this.vf=a:this.vf=128<=(this.Oa.red+this.Oa.green+this.Oa.blue)/3?ViewConstants.Rt:ViewConstants.Mn;-1!==g?this.wf=g:this.wf=128<=(this.Oa.red+this.Oa.green+this.Oa.blue)/3?ViewConstants.Qt:ViewConstants.Ln};d.prototype.hy=function(a){var f=!0;a||this.ya.B.Lq(this.ya.D)&&this.xa.B.Lq(this.xa.D)&&this.xa.B.Lq(this.Oa)&&(f=!1);return f};c.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};c.prototype.Lq=function(a){var f=!1;this.red===a.red&&this.green===a.green&&
this.blue===a.blue&&(f=!0);return f};b.prototype.set=function(a){this.B.set(a.B);this.D.set(a.D)};a.prototype.Ox=function(){var a=this.sa,g=this.Hd,b=this.A/2,c=this.v/2,d,I,r=this.width/2-.25,h=this.height/2,z=this.coords,m=this.zd,n=g.N,p=g.O;var B=g.K;var D=g.L,q=this.height/2-this.$-this.sb+.5,t=this.width/2-this.ba-this.zb+.5,G=this.zoom*this.Mb,k=!this.jb&&!this.Ac;m.length!==e.pe&&(this.coords=this.j.V(Float32,12*e.pe,"Life.coords"),this.zd=this.j.V(Uint32,e.pe,"Life.cellColours"),z=this.coords,
m=this.zd);-1!==this.ka&&(0!==this.la?(n=Math.round((this.width-this.la)/2)-1,p=n+this.la-1+2):(n=0,p=this.width-1),0!==this.na?(B=Math.round((this.height-this.na)/2)-1,D=B+this.na-1+2):(B=0,D=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(I=g=0;B<=D;B+=1){var u=(B-h+q)*G+c;if(u>=-G&&u<this.v+G){u=a[B];var C=B-h;var x=t-r;for(d=n;d<=p;d+=1){var F=(d+x)*G+b;if(F>=-G&&F<this.A+2*G){F=u[d];if(0<F){m[g]=(F<<e.Sh)+I;F=d-r;var A=d+B&1;z[I]=F-1;z[I+
1]=C+A;z[I+2]=F+1;z[I+3]=C+A;z[I+4]=F;z[I+5]=C+1-A;I+=6;g+=1}g===e.pe&&(this.Gc=g,this.qf(!0,k),this.Ac&&!this.jb&&(this.context.strokeStyle="rgb("+this.Wa[0]+","+this.Ra[0]+","+this.Ta[0]+")",this.qf(!1,!1)),I=g=0)}}}}this.Gc=g;0<g&&(this.qf(!0,k),this.Ac&&!this.jb&&(this.context.strokeStyle="rgb("+this.Wa[0]+","+this.Ra[0]+","+this.Ta[0]+")",this.qf(!1,!1)),I=0);if(this.jb){this.context.strokeStyle="rgb("+(this.qc>>16)+","+(this.qc>>8&255)+","+(this.qc&255)+")";this.context.lineWidth=1;D=c/G-q+
h|0;g=0;for(B=-c/G-q+h|0;B<=D;B+=1)if(u=(B-h+q)*G+c,u>=-G&&u<this.v+G)for(C=B-h,x=t-r,n=-b/G-x-G|0,p=b/G-x+G|0,d=n;d<=p;d+=1)F=(d+x)*G+b,F>=-G&&F<this.A+G&&(F=d-r,A=d+B&1,z[I]=F-1,z[I+1]=C+A,z[I+2]=F+1,z[I+3]=C+A,z[I+4]=F,z[I+5]=C+1-A,I+=6,g+=1),g===e.pe&&(this.Gc=g,this.qf(!1,!1),I=g=0);this.Gc=g;0<g&&this.qf(!1,!1)}};a.prototype.qf=function(a,g){var f,b=this.context,c=this.width/2-this.ba-this.zb,d=this.height/2-this.$-this.sb,r=this.zoom*this.Mb,h=this.zoom*this.Mb*Math.sqrt(3),z=this.A/2,m=this.v/
2,n=0,p=0,B=-1,D=this.coords,q=this.Gc,t=this.zd,G=(1<<e.Sh)-1;if(a&&t.sort){p=(e.pe<<e.Sh)+256;for(f=q;f<e.pe;f+=1)t[f]=p;t.sort()}b.beginPath();a||(B=p=n=0);for(f=0;f<q;f+=1){a&&(p=t[f],n=p&G,p>>=e.Sh);var k=D[n];var u=D[n+1];n+=2;var C=(u+d)*h+m;var x=(k+c)*r+z;var F=(D[n+1]-u)*h;var A=(D[n]-k)*r;n+=2;p!==B&&(B=p,0<f&&(a?(g&&b.stroke(),b.fill()):b.stroke(),b.beginPath()),a&&(b.fillStyle=this.$f[p],g&&(b.strokeStyle=this.$f[p])));b.moveTo(x|0,C|0);b.lineTo(A+x|0,F+C|0);b.lineTo(A+x|0,C|0);F=(D[n+
1]-u)*h;A=(D[n]-k)*r;b.lineTo(A+x|0,F+C|0);n+=2}a?(g&&b.stroke(),b.fill()):b.stroke()};a.prototype.Lx=function(){var a=this.sa,g=this.Hd,b=this.A/2,c=this.v/2,d,I=this.width/2-.25,r=this.height/2,h=Math.PI/3,z=.5/Math.cos(h/2)*1.16,m=Math.sqrt(3)/4/Math.cos(h/2)*1.16,n=[],p=[],B=this.coords,D=this.zd,q=g.N,t=g.O;var G=g.K;var k=g.L,u=this.height/2-this.$-this.sb+.5,C=this.width/2-this.ba-this.zb+.5-(this.height>>2)+u/2,x=this.zoom*this.Mb,F=!this.jb&&!this.Ac;D.length!==e.pe&&(this.coords=this.j.V(Float32,
12*e.pe,"Life.coords"),this.zd=this.j.V(Uint32,e.pe,"Life.cellColours"),B=this.coords,D=this.zd);-1!==this.ka&&(0!==this.la?(q=Math.round((this.width-this.la)/2)-1,t=q+this.la-1+2):(q=0,t=this.width-1),0!==this.na?(G=Math.round((this.height-this.na)/2)-1,k=G+this.na-1+2):(G=0,k=this.height-1));var A=h/2;for(g=0;5>=g;g+=1)n[g]=Math.cos(A)*m,p[g]=Math.sin(A)*z,n[g]+=p[g]/2,A+=h;h=n[0];z=p[0];m=n[1];var y=p[1];var E=n[2];var v=p[2];var w=n[3];var M=p[3];var K=n[4];var S=p[4];n=n[5];p=p[5];this.context.lineWidth=
1;this.context.lineCap="round";this.context.lineJoin="round";for(A=g=0;G<=k;G+=1){var ba=(G+u-r)*x+c;if(ba>=-x&&ba<this.v+x){ba=a[G];var Y=G-r;var T=C-I-(Y+u)/2;for(d=q;d<=t;d+=1){var aa=(d+T)*x+b;aa>=-x&&aa<this.A+x&&(aa=ba[d],0<aa&&(D[g]=(aa<<e.Sh)+A,aa=d-I,B[A]=h+aa,B[A+1]=z+Y,B[A+2]=m+aa,B[A+3]=y+Y,B[A+4]=E+aa,B[A+5]=v+Y,B[A+6]=w+aa,B[A+7]=M+Y,B[A+8]=K+aa,B[A+9]=S+Y,B[A+10]=n+aa,B[A+11]=p+Y,A+=12,g+=1),g===e.pe&&(this.Gc=g,this.nf(!0,F,!1),this.Ac&&!this.jb&&(this.context.strokeStyle="rgb("+this.Wa[0]+
","+this.Ra[0]+","+this.Ta[0]+")",this.nf(!1,!1,!1)),A=g=0))}}}this.Gc=g;0<g&&(this.nf(!0,F,!1),this.Ac&&!this.jb&&(this.context.strokeStyle="rgb("+this.Wa[0]+","+this.Ra[0]+","+this.Ta[0]+")",this.nf(!1,!1,!1)),A=0);if(this.jb){this.context.strokeStyle="rgb("+(this.qc>>16)+","+(this.qc>>8&255)+","+(this.qc&255)+")";this.context.lineWidth=1;g=0;k=c/x-u+r|0;for(G=-c/x-u+r|0;G<=k;G+=1)if(ba=(G+u-r)*x+c,ba>=-x&&ba<this.v+x)for(Y=G-r,T=C-I-(Y+u)/2,q=-b/x-T-x|0,t=b/x-T+x|0,d=q;d<=t;d+=1)aa=(d+T)*x+b,aa>=
-x&&aa<this.A+x&&(aa=d-I,B[A]=h+aa,B[A+1]=z+Y,B[A+2]=m+aa,B[A+3]=y+Y,B[A+4]=E+aa,B[A+5]=v+Y,B[A+6]=w+aa,B[A+7]=M+Y,A+=8,g+=1),g===e.pe&&(this.Gc=g,this.nf(!1,!1,!0),A=g=0);this.Gc=g;0<g&&this.nf(!1,!1,!0)}};a.prototype.nf=function(a,g,b){var f,c=this.context,d=this.width/2-this.ba-this.zb,l=this.height/2-this.$-this.sb,h=this.zoom*this.Mb,z=this.A/2,m=this.v/2,n=0,p=0,B=12,D=0,q=-1,t=this.coords,G=this.Gc,k=this.zd,u=(1<<e.Sh)-1;d=d+l/2+-(this.height>>2)+.5;l+=.5;if(a&&k.sort){D=(e.pe<<e.Sh)+256;
for(f=G;f<e.pe;f+=1)k[f]=D;k.sort()}c.beginPath();a||(p=B=b?8:12,q=D=n=0);for(f=0;f<G;f+=1){a&&(D=k[f],n=D&u,p=n+B,D>>=e.Sh);b=t[n];var C=t[n+1];var x=C+l;var F=b+d-x/2;n+=2;x=x*h+m;F=F*h+z;var A=(t[n+1]-C)*h;var y=(t[n]-b)*h-A/2;n+=2;D!==q&&(q=D,0<f&&(a?(g&&c.stroke(),c.fill()):c.stroke(),c.beginPath()),a&&(c.fillStyle=this.$f[D],g&&(c.strokeStyle=this.$f[D])));c.moveTo(F,x);for(c.lineTo(y+F,A+x);n<p;)A=(t[n+1]-C)*h,y=(t[n]-b)*h-A/2,n+=2,c.lineTo(y+F,A+x);p+=B}a?(g&&c.stroke(),c.fill()):c.stroke()};
a.prototype.Kw=function(a,g,b){var f="",c=g.rc?g.Hd:g.C,d=c.N,e=c.O,l=c.L,z=c.K,m=e-d+1,n=l-z+1,p=0,B=[];var D=0;var q=!1,t=this.sa,G=null;g.fa&&(0<d&&0!==(d&1)&&(--d,m+=1),0<z&&0!==(z&1)&&(--z,n+=1));if(2>=g.g&&!g.rc)q=!0,B[0]="b",B[1]="o";else for(g.rc?D=7:D=g.g,B[0]=".",c=0;c<D-1;c+=1)B[c+1]=24<=c?String.fromCharCode(112+(c/24|0)-1)+String.fromCharCode(65+c%24):String.fromCharCode(65+c);b&&(f+=g.ob);0===this.Ba&&(n=m=0,l=z-1);f+="x = "+m+", y = "+n+", rule = ";f="LifeHistory"===a.Gf?f+a.Gf:f+a.Gg;
f+=a.jr;f+="\n";for(a=f.length;z<=l;){c=d;q?(G=t[z],D=G[c],m=D<=this.Ud||D===this.wc?0:1):m=g.getState(c,z,!1);n=1;for(c+=1;c<=e+1;)c>e?D=-1:q?(D=G[c],D=D<=this.Ud||D===this.wc?0:1):D=g.getState(c,z,!1),D!==m?((-1!==D||0!==m)&&0<p&&(1<p&&(f+=p),f+="$",69<=f.length-a&&(f+="\n",a=f.length),p=0),0<m?(1<n&&(f+=n),f+=B[m]):c<=e&&(1<n&&(f+=n),f+=B[m]),69<=f.length-a&&(f+="\n",a=f.length),n=1,m=D):n+=1,c+=1;p+=1;z+=1}f+="!\n";b&&(f+=g.je);return f};a.prototype.kv=function(a,g,b){var f=this.pb,c=this.qa,
d=this.W,l=this.Ja,h=this.sa,z=this.eb,m=this.Xa,n=this.jc,p=this.C,B=this.ca,D=this.Hd,q=Math.round((this.width-this.la)/2),t=Math.round((this.height-this.na)/2),G=q+this.la-1,k=t+this.na-1,u=!0,C=0,x=this.fa?1:0,F=this.fa?14:15;-1!==this.ka&&(0===this.la&&(q=0,G=this.width-1),0===this.na&&(t=0,k=this.height-1));if(a!==(a&this.ib)||g!==(g&this.kb)){for(u=!1;this.width<this.U&&(a!==(a&this.ib)||g!==(g&this.kb));)this.xq(),a+=this.width>>2,g+=this.height>>2;a===(a&this.ib)&&g===(g&this.kb)&&(u=!0,
f=this.pb,c=this.qa,d=this.W,l=this.Ja,h=this.sa,z=this.eb,m=this.Xa,n=this.jc)}if(u&&(-1===this.ka||a>=q&&a<=G&&g>=t&&g<=k)){this.yn=!0;if(this.ta)c=h[g][a],2===this.g?(n=this.cb,1===b&&(b=this.cb)):(n=this.g-1+this.ea,0<b&&(b=this.ea+b)),h[g][a]=b,z[g>>4][a>>8]|=1<<(~(a>>4)&15),m[g>>4][a>>8]|=1<<(~(a>>4)&15),c!==n&&b===n?this.Ba+=1:c===n&&b!==n&&--this.Ba;else{(q=2>=this.g?1===(b&1):b===this.g-1)?(0===(f[g][a>>4]&1<<(~a&15))&&(this.Ba+=1),h[g][a]=this.cb,z[g>>4][a>>8]|=1<<(~(a>>4)&15),m[g>>4][a>>
8]|=1<<(~(a>>4)&15),f[g][a>>4]|=1<<(~a&15),c[g>>4][a>>8]|=1<<(~(a>>4)&15),d[g][a>>4]|=1<<(~a&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),z=a&15,0<a&&z<=x?(a-=z+1,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=z+1):a<this.width-1&&z>=F&&(a+=16-z,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-z),0<g&&0===(g&15)?(--g,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&z<=x?(a-=z+1,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=z+1):a<this.width-
1&&z>=F&&(a+=16-z,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-z),g+=1):g<this.height-1&&15===(g&15)&&(g+=1,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&z<=x?(a-=z+1,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=z-1):a<this.width-1&&z>=F&&(a+=16-z,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-z),--g)):(0!==(f[g][a>>4]&1<<(~a&15))&&--this.Ba,h[g][a]=this.Oa,z[g>>4][a>>8]|=1<<(~(a>>4)&15),m[g>>4][a>>8]|=1<<(~(a>>4)&
15),f[g][a>>4]&=~(1<<(~a&15)),d[g][a>>4]&=~(1<<(~a&15)));if(this.rc&&n){c=n[g][a];0<c&&(c=ViewConstants.hb.indexOf(c-128));if(6===b&&6!==c||6!==b&&6===c)C=1;2===b?h[g][a]=e.Uh:n[g][a]=0===b?0:ViewConstants.hb[b]+128}2<this.g&&(0<b&&(b=this.ea+b),h[g][a]=b)}0<b?(a<p.N&&(p.N=a),a>p.O&&(p.O=a),g<p.K&&(p.K=g),g>p.L&&(p.L=g),a<D.N&&(D.N=a),a>D.O&&(D.O=a),g<D.K&&(D.K=g),g>D.L&&(D.L=g),this.ta&&b===this.g-1+this.ea&&(a<B.N&&(B.N=a),a>B.O&&(B.O=a),g<B.K&&(B.K=g),g>B.L&&(B.L=g))):0<this.Ba&&(a===p.N||a===
p.O||g===p.L||g===p.K)&&a>=p.N&&a<=p.O&&g>=p.K&&g<=p.L&&this.np(a,g)}return C};a.prototype.Bw=function(a){var f=1<<e.ti;a?(this.bb=Array.Z(Uint32,1,f,0,this.j,"Life.popGraphData"),this.Le=Array.Z(Uint32,1,f,0,this.j,"Life.birthGraphData"),this.mf=Array.Z(Uint32,1,f,0,this.j,"Life.deathGraphData"),this.rf=f):(this.bb=Array.Z(Uint32,0,0,0,this.j,"Life.popGraphData"),this.Le=Array.Z(Uint32,0,0,0,this.j,"Life.birthGraphData"),this.mf=Array.Z(Uint32,0,0,0,this.j,"Life.deathGraphData"),this.rf=0)};a.prototype.getState=
function(a,g,b){var f=0,c=ViewConstants.hb[3]+128,d=ViewConstants.hb[4]+128,e=ViewConstants.hb[5]+128,l=ViewConstants.hb[6]+128,z=Math.round((this.width-this.la)/2),m=Math.round((this.height-this.na)/2),n=z+this.la-1,p=m+this.na-1;a===(a&this.ib)&&g===(g&this.kb)&&(f=this.sa[g][a],b||2<this.g?2<this.g&&0<f&&(f<=this.ea?f=0:(-1!==this.ka&&(0===this.la&&(z=0,n=this.width-1),0===this.na&&(m=0,p=this.height-1)),f=-1===this.ka||f!==this.wc||a>=z&&a<=n&&g>=m&&g<=p?this.g+this.ea-f:0)):this.jc?(a=this.jc[g][a],
a===d||a===l?(f>=this.cb&&(a=c),f=ViewConstants.hb.indexOf(a-128)):a===c||a===e?(f<this.cb&&(a=d),f=ViewConstants.hb.indexOf(a-128)):f=f===this.Oa?0:f<=this.Ud?2:1):f=f<=this.Ud||f===this.wc?0:1);return f};a.prototype.ym=function(a){var f,b,c,d=a.length,e=a[0].length,r=this.ge,h=0;for(f=0;f<d;f+=1){var z=a[f];for(b=0;b<e;b+=1)(c=z[b])&&(h+=r[c])}return h};a.prototype.jm=function(a,g,b){var f=this.Od.Yc.length,c=this.Od.gA(a);f!==this.Od.Yc.length&&(this.pj-=e.sm);if(c){for(this.Oj(c);this.s<a-1;)this.Da=
1,this.oj(!1,!0,b),this.Wj();this.s<a&&(this.Da=1,this.oj(g,!0,b));this.Wj()}};a.prototype.Oj=function(a){var f,b=this.va,c=this.Yf;this.s=a.s;if(0!==(this.s&1)){var d=this.Xb;var e=this.pc;var r=this.Ja;var h=this.qa}else d=this.pc,e=this.Xb,r=this.qa,h=this.Ja;var z=d.length;for(f=0;f<z;f+=1)d[f].set(b),this.sa[f].set(c),this.G[f].set(c);Array.Of(d,e);Array.Of(this.Xa,this.eb);a.Gz(d,r,this);a.Fz(this.sa,this.Xa,this);Array.Of(r,h);Array.Of(d,e);this.C.N=a.C.N;this.C.K=a.C.K;this.C.O=a.C.O;this.C.L=
a.C.L;this.ca.N=a.ca.N;this.ca.K=a.ca.K;this.ca.O=a.ca.O;this.ca.L=a.ca.L;this.Ba=a.Ba;this.xb=a.xb;this.ic=a.ic;this.Da=a.Da};a.prototype.km=function(){if(0!==(this.s&1)){var a=this.Xb;var g=this.Ja}else a=this.pc,g=this.qa;this.Qj(!1,a,g)};a.prototype.Io=function(a){this.Oj(this.Ho);this.Od.reset();this.pj=e.sm;a||this.km()};a.prototype.Qj=function(a,g,b){this.Od.km(g,b,this.sa,this.Xa,this.jc,this.C,this.ca,this.Ba,this.xb,this.ic,this.s,(this.f-1>>4)+1,this.i,this,a,this.Da)};a.prototype.Pz=function(a){this.Od.reset();
this.Qj(!0,this.pc,this.qa);a||this.km()};a.prototype.Az=function(){var a=this.jc,g=this.ha;this.height=this.width=512;this.ta&&this.Qb.resize(this.width,this.height);this.pc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Xb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.pb=Array.Cf(this.pc,"Life.grid16");this.W=Array.Cf(this.Xb,"Life.nextGrid16");g&&(this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.fd=
Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive"),this.Hc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=this.width>>4;this.i=this.height>>4;g&&(this.de=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");
this.Xa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.va=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Zf=this.j.V(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Bb=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.Yf=this.j.V(Uint8,this.width,"Life.blankColourRow");this.he=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.sa=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.colourGrid");this.G=Array.Z(Uint8,this.height,
this.width,this.Oa,this.j,"Life.smallColourGrid");this.Aa=Array.Xc(this.G,1,"Life.smallColourGrid4");this.Ca=Array.Xc(this.G,3,"Life.smallColourGrid8");this.Fa=Array.Xc(this.G,7,"Life.smallColourGrid16");this.Ni=Array.Cf(this.sa,"Life.colourGrid16");a&&(this.jc=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.overlayGrid"),this.da=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.smallOverlayGrid"),this.sf=Array.Xc(this.da,1,"Life.smallColourGrid4"),this.tf=Array.Xc(this.da,3,"Life.smallColourGrid8"),
this.ug=Array.Xc(this.da,7,"Life.smallColourGrid16"),this.ig=Array.Cf(this.jc,"Life.overlayGrid16"));this.ib=this.width-1;this.kb=this.height-1;this.Od.av((this.f-1>>4)+1,this.i,0)};a.prototype.xq=function(){var a=this.pc,g=this.Xb,b=this.sa,c=this.G,d=this.jc,e=this.da,r=this.ha,h=this.fd,z=this.Hc,m=this.de,n=this.qa,p=this.Ja,B=this.eb,D=this.Xa,q=this.height,t=this.i,G=this.width>>1,k=this.height>>1,u;if(this.width<this.U){this.width*=2;this.height*=2;this.ta&&this.Qb.resize(this.width,this.height);
this.pc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Xb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.pb=Array.Cf(this.pc,"Life.grid16");this.W=Array.Cf(this.Xb,"Life.nextGrid16");r&&(this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.fd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive"),this.Hc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=
this.width>>4;this.i=this.height>>4;r&&(this.de=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Xa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.va=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Zf=this.j.V(Uint16,
(this.width-1>>4)+1,"Life.blankRow16");this.Bb=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.Yf=this.j.V(Uint8,this.width,"Life.blankColourRow");this.he=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.sa=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.colourGrid");this.G=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.smallColourGrid");this.Aa=Array.Xc(this.G,1,"Life.smallColourGrid4");this.Ca=Array.Xc(this.G,3,"Life.smallColourGrid8");this.Fa=Array.Xc(this.G,
7,"Life.smallColourGrid16");this.Ni=Array.Cf(this.sa,"Life.colourGrid16");d&&(this.jc=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.overlayGrid"),this.da=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.smallOverlayGrid"),this.sf=Array.Xc(this.da,1,"Life.smallColourGrid4"),this.tf=Array.Xc(this.da,3,"Life.smallColourGrid8"),this.ug=Array.Xc(this.da,7,"Life.smallColourGrid16"),this.ig=Array.Cf(this.jc,"Life.overlayGrid16"));this.ib=this.width-1;this.kb=this.height-1;for(u=0;u<
q;u+=1)this.pc[u+k].set(a[u],G>>3),this.Xb[u+k].set(g[u],G>>3),this.sa[u+k].set(b[u],G),this.G[u+k].set(c[u],G),d&&e&&(this.jc[u+k].set(d[u],G),this.da[u+k].set(e[u],G)),r&&h&&z&&(this.ha[u+k].set(r[u],G>>4),this.fd[u+k].set(h[u],G>>4),this.Hc[u+k].set(z[u],G>>4));k=t>>1;for(u=0;u<t;u+=1)m&&this.de[u+k].set(m[u],this.de[u].length>>2),this.qa[u+k].set(n[u],this.qa[u].length>>2),this.Ja[u+k].set(p[u],this.Ja[u].length>>2),this.eb[u+k].set(B[u],this.eb[u].length>>2),this.Xa[u+k].set(D[u],this.Xa[u].length>>
2);G=this.width>>2;k=this.height>>2;this.Od.av((this.f-1>>4)+1,this.i,G);this.ba+=G;this.$+=k;this.S&&(this.ba-=k/2|0);this.C.N+=G;this.C.O+=G;this.C.L+=k;this.C.K+=k;this.ca.N+=G;this.ca.O+=G;this.ca.L+=k;this.ca.K+=k;this.Jd.N+=G;this.Jd.O+=G;this.Jd.L+=k;this.Jd.K+=k;this.Hd.N+=G;this.Hd.O+=G;this.Hd.L+=k;this.Hd.K+=k}};a.prototype.Uw=function(a){var f=this.C,b=this.width,c=this.height,d=!1;b<this.U&&this.Da&&(f.N<=a||f.K<=a||f.O>=b-a||f.L>=c-a)&&(this.xq(),d=!0);return d};a.prototype.al=function(){var a,
g,b=this.ge;for(a=0;65536>a;a+=1){var c=a;for(g=0;c;g+=1)c&=c-1;b[a]=g}};a.prototype.el=function(){var a,g,b=this.Oi,c=this.cb;for(a=0;256>a;a+=1)for(g=0;8>g;g+=1)b[(a<<3)+g]=a&1<<7-g?c:0};a.prototype.Cz=function(a,g){var f,b=0,c=this.ge;var d=this.C;var e=d.N,h=d.O,z=d.L;d=d.K;if(this.ta)for(;d<=z;d+=1){var m=g[d];for(f=e;f<=h;f+=1)0<m[f]&&(b+=1)}else for(e>>=4,h>>=4;d<=z;d+=1)for(m=a[d],f=e;f<=h;f+=1)g=c[m[f]],b+=g;this.Ba=b;this.ic=this.xb=0};a.prototype.$u=function(a,g){var f=this.context;var b=
this.cg?4278190080:255;this.A=a;this.v=g;this.Jh=this.Sc=this.Cd=null;this.Cd=f.createImageData(f.canvas.width,f.canvas.height);this.Cd.data.buffer?this.Sc=new Uint32Array(this.Cd.data.buffer):(this.Sc=new Uint32Array(this.Cd.data.length>>2),this.Jh=new Uint8Array(this.Sc.buffer));this.Vg=this.j.V(Uint32,a,"Life.blankPixelRow");for(g=0;g<a;g+=1)this.Vg[g]=b;this.Nk()};a.prototype.ax=function(a,g,b){var f,c,d=this.sa,e=a.width,l=a.height,z=this.ib,m=this.kb,n=this.Uh,p=ViewConstants.hb[2];for(c=0;c<
l;c+=1){var B=a.xe[c];var D=d[c+b&m];for(f=0;f<e;f+=1)B[f]===p&&(D[f+g&z]=n)}};a.prototype.Xx=function(){this.ig=this.da=this.jc=null};a.prototype.lx=function(){this.jc=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.overlayGrid");this.da=Array.Z(Uint8,this.height,this.width,this.Oa,this.j,"Life.smallOverlayGrid");this.sf=Array.Xc(this.da,1,"Life.smallOverlayGrid4");this.tf=Array.Xc(this.da,3,"Life.smallOverlayGrid8");this.ug=Array.Xc(this.da,7,"Life.smallOverlayGrid16");this.ig=Array.Cf(this.jc,
"Life.overlayGrid16")};a.prototype.Yx=function(){this.de=this.Hc=this.fd=this.ha=null};a.prototype.ox=function(){this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask");this.fd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive");this.Hc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells");this.de=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid")};a.prototype.az=function(){var a,g,b=this.ib,c=this.kb,d=this.de,
e=ViewConstants.hb[6]+128;for(g=0;g<this.ha.length;g+=1)this.ha[g].set(this.Zf),this.Hc[g].set(this.Zf),this.fd[g].set(this.Zf);for(g=0;g<this.de.length;g+=1)this.de[g].set(this.Bb);for(g=1;g<this.height-1;g+=1){var r=this.jc[g];var h=this.ha[g-1&c];var z=this.ha[g&c];var m=this.ha[g+1&c];var n=this.Hc[g&c];var p=d[(g-1&c)>>4];var B=d[(g&c)>>4];var D=d[(g+1&c)>>4];for(a=1;a<=this.width-1;a+=1)if(r[a]===e){var q=a&b;n[q>>4]|=1<<(~q&15);h[q>>4]|=1<<(~q&15);z[q>>4]|=1<<(~q&15);m[q>>4]|=1<<(~q&15);p[q>>
8]|=1<<(~(q>>4)&15);B[q>>8]|=1<<(~(q>>4)&15);D[q>>8]|=1<<(~(q>>4)&15);q=a-1&b;h[q>>4]|=1<<(~q&15);z[q>>4]|=1<<(~q&15);m[q>>4]|=1<<(~q&15);p[q>>8]|=1<<(~(q>>4)&15);B[q>>8]|=1<<(~(q>>4)&15);D[q>>8]|=1<<(~(q>>4)&15);q=a+1&b;h[q>>4]|=1<<(~q&15);z[q>>4]|=1<<(~q&15);m[q>>4]|=1<<(~q&15);p[q>>8]|=1<<(~(q>>4)&15);B[q>>8]|=1<<(~(q>>4)&15);D[q>>8]|=1<<(~(q>>4)&15)}}};a.prototype.$y=function(a,g,b){var f,c,d=a.width,e=a.height,l=this.ib,z=this.kb,m=this.de;for(c=0;c<e;c+=1){var n=a.xe[c];var p=this.ha[c-1+b&
z];var B=this.ha[c+b&z];var D=this.ha[c+1+b&z];var q=this.Hc[c+b&z];var t=m[(c-1+b&z)>>4];var G=m[(c+b&z)>>4];var k=m[(c+1+b&z)>>4];for(f=0;f<d;f+=1)if(6===n[f]){var u=f+g&l;q[u>>4]|=1<<(~u&15);p[u>>4]|=1<<(~u&15);B[u>>4]|=1<<(~u&15);D[u>>4]|=1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);G[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15);u=f-1+g&l;p[u>>4]|=1<<(~u&15);B[u>>4]|=1<<(~u&15);D[u>>4]|=1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);G[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15);u=f+1+g&l;p[u>>4]|=1<<(~u&15);
B[u>>4]|=1<<(~u&15);D[u>>4]|=1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);G[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15)}}};a.prototype.zz=function(a){var f,b=this.sa,c=this.Oi;var d=this.C;var e=d.N>>4,r=d.O>>4,h=d.L;for(f=d.K;f<=h;f+=1){var z=a[f];var m=b[f];var n=e<<4;for(d=e;d<=r;d+=1){var p=z[d]>>8<<3;m[n]=c[p];n+=1;m[n]=c[p+1];n+=1;m[n]=c[p+2];n+=1;m[n]=c[p+3];n+=1;m[n]=c[p+4];n+=1;m[n]=c[p+5];n+=1;m[n]=c[p+6];n+=1;m[n]=c[p+7];n+=1;p=(z[d]&255)<<3;m[n]=c[p];n+=1;m[n]=c[p+1];n+=1;m[n]=c[p+2];n+=1;
m[n]=c[p+3];n+=1;m[n]=c[p+4];n+=1;m[n]=c[p+5];n+=1;m[n]=c[p+6];n+=1;m[n]=c[p+7];n+=1}}};a.prototype.jy=function(a,g,b){var f=this.Oa,c=this.va,d=this.Yf,e=this.Vg,l=this.Bb;var z=this.cg?4278190080:255;this.Dn();this.hh=!1;this.ib=this.width-1;this.kb=this.height-1;this.C=new BoundingBox(0,0,this.width-1,this.height-1);this.ca=new BoundingBox(0,0,this.width-1,this.height-1);this.Jd=new BoundingBox(0,0,this.width-1,this.height-1);this.Hd=new BoundingBox(0,0,this.width-1,this.height-1);this.Rj=new BoundingBox(0,
0,this.width-1,this.height-1);this.context=a;this.el();AliasManager.Id();this.$u(g,b);b=(this.width-1>>3)+1;for(a=0;a<b;a+=1)c[a]=0;b=this.width;for(a=0;a<b;a+=1)d[a]=f;b=this.f>>4;for(a=0;a<b;a+=1)l[a]=0;for(a=0;a<g;a+=1)e[a]=z};a.prototype.gx=function(){var a=0;this.La[a]=new d("Mono",new b(new c(0,0,0),new c(0,0,0)),new b(new c(255,255,255),new c(255,255,255)),new c(0,0,0),new c(255,255,255),new b(new c(0,0,0),new c(-1,-1,-1)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0));a+=1;this.La[a]=new d("Blues",
new b(new c(0,0,47),new c(0,0,255)),new b(new c(0,255,255),new c(255,255,255)),new c(0,0,0),new c(0,255,255),new b(new c(0,0,255),new c(-1,-1,-1)),new b(new c(0,0,47),new c(0,0,128)),new c(0,0,0));a+=1;this.La[a]=new d("Fire",new b(new c(32,0,0),new c(160,0,0)),new b(new c(255,144,0),new c(255,255,0)),new c(0,0,0),new c(255,144,0),new b(new c(240,0,0),new c(-1,-1,-1)),new b(new c(32,0,0),new c(160,0,0)),new c(0,0,0));a+=1;this.La[a]=new d("Poison",new b(new c(0,24,0),new c(0,128,0)),new b(new c(0,
255,255),new c(255,255,255)),new c(0,0,0),new c(0,255,255),new b(new c(0,192,0),new c(-1,-1,-1)),new b(new c(0,24,0),new c(0,128,0)),new c(0,0,0));a+=1;this.La[a]=new d("Yellow",new b(new c(0,47,0),new c(128,0,128)),new b(new c(255,255,0),new c(255,255,255)),new c(0,32,128),new c(255,255,0),new b(new c(192,64,64),new c(-1,-1,-1)),new b(new c(0,47,0),new c(128,0,128)),new c(0,32,128));a+=1;this.La[a]=new d("Gray",new b(new c(16,16,16),new c(104,104,104)),new b(new c(176,176,176),new c(240,240,240)),
new c(0,0,0),new c(240,240,240),new b(new c(160,160,160),new c(-1,-1,-1)),new b(new c(16,16,16),new c(104,104,104)),new c(0,0,0));a+=1;this.La[a]=new d("Inverse",new b(new c(255,255,255),new c(255,255,255)),new b(new c(0,0,0),new c(0,0,0)),new c(255,255,255),new c(0,0,0),new b(new c(255,255,255),new c(-1,-1,-1)),new b(new c(255,255,255),new c(255,255,255)),new c(255,255,255));a+=1;this.La[a]=new d("Day",new b(new c(240,240,240),new c(0,255,255)),new b(new c(0,0,255),new c(0,0,0)),new c(255,255,255),
new c(0,0,255),new b(new c(0,255,255),new c(-1,-1,-1)),new b(new c(240,240,240),new c(0,192,192)),new c(255,255,255));a+=1;this.La[a]=new d("Occupied",new b(new c(240,240,240),new c(240,240,240)),new b(new c(240,240,240),new c(240,240,240)),new c(0,0,0),new c(240,240,240),new b(new c(240,240,240),new c(240,240,240)),new b(new c(240,240,240),new c(240,240,240)),new c(0,0,0));a+=1;this.La[a]=new d("Red",new b(new c(160,0,0),new c(160,0,0)),new b(new c(240,240,240),new c(240,240,240)),new c(0,0,0),new c(255,
255,255),new b(new c(160,160,160),new c(160,160,160)),new b(new c(160,0,0),new c(160,0,0)),new c(0,0,0));a+=1;this.La[a]=new d("LifeHistory",new b(new c(0,0,96),new c(0,0,160)),new b(new c(0,240,0),new c(16,255,16)),new c(0,0,0),new c(16,255,16),new b(new c(0,128,160),new c(-1,-1,-1)),new b(new c(0,0,96),new c(0,0,160)),new c(0,0,0));a+=1;this.La[a]=new d("Generations",new b(new c(64,0,0),new c(255,0,0)),new b(new c(255,255,0),new c(255,255,255)),new c(0,0,0),new c(255,255,0),new b(new c(255,0,0),
new c(-1,-1,-1)),new b(new c(64,0,0),new c(128,0,0)),new c(0,0,0));a+=1;this.La[a]=new d("Golly",new b(new c(48,48,48),new c(48,48,48)),new b(new c(255,255,255),new c(255,255,255)),new c(48,48,48),new c(255,255,0),new b(new c(255,0,0),new c(-1,-1,-1)),new b(new c(48,48,48),new c(48,48,48)),new c(48,48,48));this.La[a].om(10,new c(80,80,80),new c(112,112,112));a+=1;this.La[a]=new d("MCell",new b(new c(0,0,0),new c(0,0,0)),new b(new c(255,255,0),new c(255,255,0)),new c(0,0,0),new c(255,255,0),new b(new c(128,
128,0),new c(128,128,128)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0));this.La[a].om(5,new c(64,0,0),new c(99,3,1));a+=1;this.La[a]=new d("Catagolue",new b(new c(160,221,204),new c(160,221,204)),new b(new c(0,0,0),new c(0,0,0)),new c(192,255,238),new c(0,0,0),new b(new c(96,192,139),new c(2,129,2)),new b(new c(160,221,204),new c(160,221,204)),new c(192,255,238));this.La[a].om(0,new c(160,221,204),new c(160,221,204));a+=1;this.La[a]=new d("Caterer",new b(new c(54,57,62),new c(54,57,62)),new b(new c(255,
255,255),new c(255,255,255)),new c(54,57,62),new c(255,170,0),new b(new c(255,85,0),new c(-1,-1,-1)),new b(new c(54,57,62),new c(54,57,62)),new c(54,57,62));this.La[a].om(0,new c(0,0,0),new c(0,0,0));a+=1;this.La[a]=new d("Life32",new b(new c(255,255,255),new c(255,255,255)),new b(new c(0,0,128),new c(0,0,128)),new c(255,255,255),new c(0,0,128),new b(new c(0,0,64),new c(-1,-1,-1)),new b(new c(255,255,255),new c(255,255,255)),new c(255,255,255));this.La[a].om(5,new c(192,192,192),new c(128,128,128));
this.La[a+1]=new d(Keywords.Fk,new b(new c(0,0,0),new c(0,0,0)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0),new c(0,0,0),new b(new c(0,0,0),new c(0,0,0)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0));this.ae=this.La.length-1;this.ad=new b(new c(0,0,0),new c(0,0,0));this.Ob=new b(new c(0,0,0),new c(0,0,0));this.gd=new c(0,0,0);this.Me=new c(0,0,0);this.ed=new b(new c(0,0,0),new c(0,0,0));this.Ad=new b(new c(0,0,0),new c(0,0,0));this.uf=new c(0,0,0);this.vc=new b(new c(0,0,0),new c(0,0,0));this.Pa=
new b(new c(0,0,0),new c(0,0,0));this.Oc=new c(0,0,0);this.Sd=new c(0,0,0);this.Fc=new b(new c(0,0,0),new c(0,0,0));this.dd=new b(new c(0,0,0),new c(0,0,0));this.ie=new c(0,0,0)};a.prototype.yk=function(a,g,b){var f=this.La[a];this.oe=a;this.ad.set(this.vc);this.Ob.set(this.Pa);this.gd.set(this.Oc);this.Me.set(this.Sd);this.Ad.set(this.dd);this.ed.set(this.Fc);this.uf.set(this.ie);this.vc.set(f.ya);this.Pa.set(f.xa);this.Oc.set(f.Oa);this.Sd.set(f.Ne);this.dd.set(f.Eb);this.Fc.set(f.Sa);this.ie.set(f.Wg);
this.Vi=g;this.vv=f.hy(this.rc);this.qc=f.vf;this.Yd=f.wf;this.hn||(this.Ve=f.wq);this.cg?(this.bg=-16777216|(this.qc&255)<<16|(this.qc>>8&255)<<8|this.qc>>16,this.ag=-16777216|(this.Yd&255)<<16|(this.Yd>>8&255)<<8|this.Yd>>16):(this.bg=this.qc>>16<<24|(this.qc>>8&255)<<16|(this.qc&255)<<8|255,this.ag=this.Yd>>16<<24|(this.Yd>>8&255)<<16|(this.Yd&255)<<8|255);b.mt()};a.prototype.fx=function(){var a;var g=this.$m;var b=this.oc;var c=this.cb;var d=this.Uh;var e=this.Ud;g[0]=0;g[b+1]=c;for(a=1;a<b+1;a+=
1)g[a]=Math.min(Math.max(a-1,d),e),g[a+b+1]=Math.max(Math.min(a+1,b),c);if(0===this.ea)for(a=this.cb;a<=this.oc;a+=1)g[a]=0;else this.ea<this.Ud&&(g[this.Ud-this.ea]=0)};a.prototype.hz=function(){var a;for(a=0;a<this.La.length;a+=1){var g=this.La[a];if(g.$j)if(2>=this.g)g.Sa.D.set(g.Ne);else{var b=1/(this.g-2);g.Sa.D.red=g.Sa.B.red*b+g.Ne.red*(1-b)|0;g.Sa.D.green=g.Sa.B.green*b+g.Ne.green*(1-b)|0;g.Sa.D.blue=g.Sa.B.blue*b+g.Ne.blue*(1-b)|0}}};a.prototype.st=function(){var a=(this.Vi-1)/this.Wi;if(2<
this.g){var g=0;this.Wa[g]=this.uf.red*a+this.ie.red*(1-a);this.Ta[g]=this.uf.green*a+this.ie.green*(1-a);this.Ra[g]=this.uf.blue*a+this.ie.blue*(1-a);for(g=1;g<this.g-1;g+=1){var b=3>=this.g?0:(g-1)/(this.g-3);var c=this.ed.D.red*b+this.ed.B.red*(1-b);var d=this.Fc.D.red*b+this.Fc.B.red*(1-b);this.Wa[g+this.ea]=c*a+d*(1-a);c=this.ed.D.green*b+this.ed.B.green*(1-b);d=this.Fc.D.green*b+this.Fc.B.green*(1-b);this.Ta[g+this.ea]=c*a+d*(1-a);c=this.ed.D.blue*b+this.ed.B.blue*(1-b);d=this.Fc.D.blue*b+this.Fc.B.blue*
(1-b);this.Ra[g+this.ea]=c*a+d*(1-a);this.Yb.length>=g&&(b=this.Yb[g],-1!==b&&(this.Wa[g+this.ea]=b>>16,this.Ta[g+this.ea]=b>>8&255,this.Ra[g+this.ea]=b&255))}g=this.g-1+this.ea;this.Wa[g]=this.Me.red*a+this.Sd.red*(1-a);this.Ta[g]=this.Me.green*a+this.Sd.green*(1-a);this.Ra[g]=this.Me.blue*a+this.Sd.blue*(1-a);for(g=0;g<this.ea;g+=1)b=1<this.ea?1-g/(this.ea-1):1,c=this.Ad.B.red*b+this.Ad.D.red*(1-b),d=this.dd.B.red*b+this.dd.D.red*(1-b),this.Wa[g+1]=c*a+d*(1-a),c=this.Ad.B.green*b+this.Ad.D.green*
(1-b),d=this.dd.B.green*b+this.dd.D.green*(1-b),this.Ta[g+1]=c*a+d*(1-a),c=this.Ad.B.blue*b+this.Ad.D.blue*(1-b),d=this.dd.B.blue*b+this.dd.D.blue*(1-b),this.Ra[g+1]=c*a+d*(1-a);0<this.Yb.length&&(b=this.Yb[0],-1!==b&&(this.Wa[0]=b>>16,this.Ta[0]=b>>8&255,this.Ra[0]=b&255))}else{g=0;this.Wa[g]=this.gd.red*a+this.Oc.red*(1-a);this.Ta[g]=this.gd.green*a+this.Oc.green*(1-a);this.Ra[g]=this.gd.blue*a+this.Oc.blue*(1-a);if(0===this.ea)for(g=1;g<=this.Ud;g+=1)this.Wa[g]=this.gd.red*a+this.Oc.red*(1-a),
this.Ta[g]=this.gd.green*a+this.Oc.green*(1-a),this.Ra[g]=this.gd.blue*a+this.Oc.blue*(1-a);else{var e=this.Ud-this.ea+1;for(g=1;g<e;g+=1)this.Wa[g]=this.Ob.B.red*a+this.Pa.B.red*(1-a),this.Ta[g]=this.Ob.B.green*a+this.Pa.B.green*(1-a),this.Ra[g]=this.Ob.B.blue*a+this.Pa.B.blue*(1-a);for(g=e;g<=this.Ud;g+=1)b=this.Ud===e?1:1-(g-e)/(this.Ud-e),c=this.Ob.B.red*b+this.Ob.D.red*(1-b),d=this.Pa.B.red*b+this.Pa.D.red*(1-b),this.Wa[g]=c*a+d*(1-a),c=this.Ob.B.green*b+this.Ob.D.green*(1-b),d=this.Pa.B.green*
b+this.Pa.D.green*(1-b),this.Ta[g]=c*a+d*(1-a),c=this.Ob.B.blue*b+this.Ob.D.blue*(1-b),d=this.Pa.B.blue*b+this.Pa.D.blue*(1-b),this.Ra[g]=c*a+d*(1-a)}for(g=this.cb;g<=this.oc;g+=1)b=1-(g-this.cb)/(this.oc-this.cb),c=this.ad.B.red*b+this.ad.D.red*(1-b),d=this.vc.B.red*b+this.vc.D.red*(1-b),this.Wa[g]=c*a+d*(1-a),c=this.ad.B.green*b+this.ad.D.green*(1-b),d=this.vc.B.green*b+this.vc.D.green*(1-b),this.Ta[g]=c*a+d*(1-a),c=this.ad.B.blue*b+this.ad.D.blue*(1-b),d=this.vc.B.blue*b+this.vc.D.blue*(1-b),this.Ra[g]=
c*a+d*(1-a)}};a.prototype.kx=function(a){var g=this.Wa,f=this.Ta,b=this.Ra,c;for(c=0;c<a.length;c+=1){var d=a[c];g[c]=d>>16;f[c]=d>>8&255;b[c]=d&255}this.Vi=0};a.prototype.hx=function(a,g){var f=this.Wa,b=this.Ta,c=this.Ra,d=ViewConstants.hb,e=g.length,h;for(h=0;h<a.length;h+=1)h>=e||-1===g[h]?(f[128+d[h]]=a[h]>>16,b[128+d[h]]=a[h]>>8&255,c[128+d[h]]=a[h]&255):(f[128+d[h]]=g[h]>>16,b[128+d[h]]=g[h]>>8&255,c[128+d[h]]=g[h]&255)};a.prototype.Rc=function(a){var g=this.Wa,f=this.Ta,b=this.Ra,c=this.Hf,
d=this.qc,e=this.Yd,h=this.$f,z=this.S&&this.Ie||this.fa,m;if(2<this.g){if(this.cg)for(m=0;m<=this.g+this.ea;m+=1)c[m]=-16777216|b[m]<<16|f[m]<<8|g[m],z&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1))}else if(this.cg){for(m=0;m<this.cb;m+=1)c[m]=-16777216|b[m]<<16|f[m]<<8|g[m],z&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1));for(m=this.cb;m<=this.oc;m+=1)c[m]=-16777216|b[m]*a<<16|f[m]*a<<8|g[m]*a,z&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1));
for(m=this.oc+1;256>m;m+=1)c[m]=-16777216|b[m]*a<<16|f[m]*a<<8|g[m]*a,z&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1))}else{for(m=0;m<this.cb;m+=1)c[m]=g[m]<<24|f[m]<<16|b[m]<<8|255,z&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1));for(m=this.cb;m<=this.oc;m+=1)c[m]=g[m]*a<<24|f[m]*a<<16|b[m]*a<<8|255,z&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1));for(m=this.oc+1;256>m;m+=1)c[m]=g[m]*a<<24|f[m]*a<<16|b[m]*a<<8|255,z&&
(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1))}this.cg?(this.bg=-16777216|(d&255)<<16|(d>>8&255)<<8|d>>16,this.ag=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16):(this.bg=d>>16<<24|(d>>8&255)<<16|(d&255)<<8|255,this.ag=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255);-1!==this.ka&&(m=this.wc,c[m]=this.cg?-16777216|b[m]*a<<16|f[m]*a<<8|g[m]*a:g[m]*a<<24|f[m]*a<<16|b[m]*a<<8|255,z&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1)))};a.prototype.Sz=function(){var a=
this.Wa,g=this.Ta,b=this.Ra;this.wc=-1!==this.ka&&256===this.g+this.ea?2:255;-1!==this.ka&&256>this.g+this.ea&&(a[this.wc]=128,g[this.wc]=128,b[this.wc]=128)};a.prototype.lt=function(a){var g=this.height,f=this.pc,b=this.Xb,c=this.sa,d=this.G,e=this.jc,h=this.da,z=this.qa,m=this.eb,n=this.Xa,p=this.Ja,B=this.va,D=this.Bb,q=this.Yf,t;for(t=0;t<g;t+=1)f[t].set(B),b[t].set(B),a||(c[t].set(q),d[t].set(q),e&&(e[t].set(q),h[t].set(q)));g=this.i;for(t=0;t<g;t+=1)z[t].set(D),p[t].set(D),a||(m[t].set(D),n[t].set(D))};
a.prototype.Mj=function(a,g){var f=e.Pn,b;for(b=0;b<f;b+=1)a[b]=g[b]};a.prototype.Dh=function(a,g){var f=e.zq,b;for(b=0;b<f;b+=1){var c=g[b>>9&448|b>>6&56|b>>3&7]<<3;c|=g[b>>8&448|b>>5&56|b>>2&7]<<2;c|=g[b>>7&448|b>>4&56|b>>1&7]<<1;c|=g[b>>6&448|b>>3&56|b&7];a[b]=c}};a.prototype.xA=function(){var a,g=this.fa?PatternManager.im:PatternManager.vk,b=this.fa?PatternManager.Jo:PatternManager.Br,c=PatternManager.ah,d=this.fa?e.Pn:e.iy,I=!1;if(-1===this.Ke)if(this.fa)this.Mj(this.Lh,g),this.Mj(this.Kh,b);
else{if(g[0]){if(!g[d-1]){for(a=0;a<d/2;a+=1){var r=g[a];g[a]=g[d-a-1];g[d-a-1]=r}I=!0;this.Dh(this.fg,g)}for(a=0;a<d/2;a+=1)r=g[a],g[a]=1-g[d-a-1],g[d-a-1]=1-r}c?(this.Dh(this.fg,g),this.Dh(this.eg,b)):(this.Dh(this.eg,g),I||this.fg.set(this.eg))}};a.prototype.hg=function(a){var g=0;0!==(a&32768)?g=0:0!==(a&16384)?g=1:0!==(a&8192)?g=2:0!==(a&4096)?g=3:0!==(a&2048)?g=4:0!==(a&1024)?g=5:0!==(a&512)?g=6:0!==(a&256)?g=7:0!==(a&128)?g=8:0!==(a&64)?g=9:0!==(a&32)?g=10:0!==(a&16)?g=11:0!==(a&8)?g=12:0!==
(a&4)?g=13:0!==(a&2)?g=14:0!==(a&1)&&(g=15);return g};a.prototype.qg=function(a){var g=0;0!==(a&1)?g=15:0!==(a&2)?g=14:0!==(a&4)?g=13:0!==(a&8)?g=12:0!==(a&16)?g=11:0!==(a&32)?g=10:0!==(a&64)?g=9:0!==(a&128)?g=8:0!==(a&256)?g=7:0!==(a&512)?g=6:0!==(a&1024)?g=5:0!==(a&2048)?g=4:0!==(a&4096)?g=3:0!==(a&8192)?g=2:0!==(a&16384)&&(g=1);return g};a.prototype.Pk=function(a){var g=this.jc,f=this.qa,b=this.width,c=this.height,d,e=this.C.L,h=this.C.K,z=this.C.N,m=this.C.O,n,p;for(n=0;n<c;n+=1){var B=g[n];var D=
f[n>>4];for(p=d=0;p<b;p+=1)0!==B[p]&&(D[p>>8]|=1<<(~(p>>4)&15),d|=B[p],p<z&&(z=p),p>m&&(m=p));d&&(n<h&&(h=n),n>e&&(e=n))}a||(this.C.L=e,this.C.K=h,this.C.N=z,this.C.O=m)};a.prototype.op=function(){var a,g,b,c=this.pb,d=this.Ja,I=this.qa,r,h=this.i,z=this.f>>4,m=this.Bb;var n=0;var p=n+16;for(g=0;g<h;g+=1)I[g].set(m);for(g=0;g<h;g+=1){var B=0;var D=d[g];var q=I[g];var t=0<g?I[g-1]:m;var G=g<h-1?I[g+1]:m;D[0]&=32767;D[z-1]&=65534;for(b=0;b<z;b+=1)if(r=D[b]){var k=q[b];var u=t[b];var C=G[b];for(a=15;0<=
a;--a){if(0!==(r&1<<a)){var x=!1;var F=0;var A=n;var y=c[A];if(y=y[B])x=!0,0!==(y&32768)&&(F|=e.Ld,F|=e.le),0!==(y&1)&&(F|=e.Nd,F|=e.me),F|=e.Ed;for(A+=1;A<p-1;){y=c[A];if(y=y[B])x=!0,0!==(y&32768)&&(F|=e.Ld),0!==(y&1)&&(F|=e.Nd);A+=1}y=c[A];if(y=y[B])x=!0,0!==(y&32768)&&(F|=e.Ld,F|=e.Ge),0!==(y&1)&&(F|=e.Nd,F|=e.He),F|=e.Pd;x&&(k|=1<<a,F&&(0!==(F&e.Ld)&&(15>a?k|=1<<a+1:0<b&&(q[b-1]|=1)),0!==(F&e.Nd)&&(0<a?k|=1<<a-1:b<z-1&&(q[b+1]|=32768)),0!==(F&e.Ed)&&(u|=1<<a),0!==(F&e.Pd)&&(C|=1<<a),0!==(F&e.le)&&
(15>a?u|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(F&e.me)&&(0<a?u|=1<<a-1:b<z-1&&(t[b+1]|=32768)),0!==(F&e.Ge)&&(15>a?C|=1<<a+1:0<b&&(G[b-1]|=1)),0!==(F&e.He)&&(0<a?C|=1<<a-1:b<z-1&&(G[b+1]|=32768))))}B+=1}q[b]|=k;0<g&&(t[b]|=u);g<h-1&&(G[b]|=C)}else B+=16;n+=16;p+=16}for(g=0;g<m.length;g+=1)m[g]=0};a.prototype.pp=function(){var a,g,b,c=this.pb,d=this.Ja,I=this.sa,r=this.qa,h,z=this.i,m=this.f>>4,n=this.Bb;var p=0;var B=p+16;for(g=0;g<z;g+=1)r[g].set(n);for(g=0;g<z;g+=1){var D=0;var q=d[g];var t=r[g];var G=
0<g?r[g-1]:n;var k=g<z-1?r[g+1]:n;q[0]&=32767;q[m-1]&=65534;for(b=0;b<m;b+=1)if(h=q[b]){var u=t[b];var C=G[b];var x=k[b];for(a=15;0<=a;--a){if(0!==(h&1<<a)){var F=!1;var A=0;var y=p;var E=c[y];var v=I[y];E=E[D];var w=D<<4;0<v[w]&&(E|=32768);w+=1;0<v[w]&&(E|=16384);w+=1;0<v[w]&&(E|=8192);w+=1;0<v[w]&&(E|=4096);w+=1;0<v[w]&&(E|=2048);w+=1;0<v[w]&&(E|=1024);w+=1;0<v[w]&&(E|=512);w+=1;0<v[w]&&(E|=256);w+=1;0<v[w]&&(E|=128);w+=1;0<v[w]&&(E|=64);w+=1;0<v[w]&&(E|=32);w+=1;0<v[w]&&(E|=16);w+=1;0<v[w]&&(E|=
8);w+=1;0<v[w]&&(E|=4);w+=1;0<v[w]&&(E|=2);w+=1;0<v[w]&&(E|=1);E&&(F=!0,0!==(E&32768)&&(A|=e.Ld,A|=e.le),0!==(E&1)&&(A|=e.Nd,A|=e.me),A|=e.Ed);for(y+=1;y<B-1;)E=c[y],v=I[y],E=E[D],w=D<<4,0<v[w]&&(E|=32768),w+=1,0<v[w]&&(E|=16384),w+=1,0<v[w]&&(E|=8192),w+=1,0<v[w]&&(E|=4096),w+=1,0<v[w]&&(E|=2048),w+=1,0<v[w]&&(E|=1024),w+=1,0<v[w]&&(E|=512),w+=1,0<v[w]&&(E|=256),w+=1,0<v[w]&&(E|=128),w+=1,0<v[w]&&(E|=64),w+=1,0<v[w]&&(E|=32),w+=1,0<v[w]&&(E|=16),w+=1,0<v[w]&&(E|=8),w+=1,0<v[w]&&(E|=4),w+=1,0<v[w]&&
(E|=2),w+=1,0<v[w]&&(E|=1),E&&(F=!0,0!==(E&32768)&&(A|=e.Ld),0!==(E&1)&&(A|=e.Nd)),y+=1;E=c[y];v=I[y];E=E[D];w=D<<4;0<v[w]&&(E|=32768);w+=1;0<v[w]&&(E|=16384);w+=1;0<v[w]&&(E|=8192);w+=1;0<v[w]&&(E|=4096);w+=1;0<v[w]&&(E|=2048);w+=1;0<v[w]&&(E|=1024);w+=1;0<v[w]&&(E|=512);w+=1;0<v[w]&&(E|=256);w+=1;0<v[w]&&(E|=128);w+=1;0<v[w]&&(E|=64);w+=1;0<v[w]&&(E|=32);w+=1;0<v[w]&&(E|=16);w+=1;0<v[w]&&(E|=8);w+=1;0<v[w]&&(E|=4);w+=1;0<v[w]&&(E|=2);w+=1;0<v[w]&&(E|=1);E&&(F=!0,0!==(E&32768)&&(A|=e.Ld,A|=e.Ge),
0!==(E&1)&&(A|=e.Nd,A|=e.He),A|=e.Pd);F&&(u|=1<<a,A&&(0!==(A&e.Ld)&&(15>a?u|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(A&e.Nd)&&(0<a?u|=1<<a-1:b<m-1&&(t[b+1]|=32768)),0!==(A&e.Ed)&&(C|=1<<a),0!==(A&e.Pd)&&(x|=1<<a),0!==(A&e.le)&&(15>a?C|=1<<a+1:0<b&&(G[b-1]|=1)),0!==(A&e.me)&&(0<a?C|=1<<a-1:b<m-1&&(G[b+1]|=32768)),0!==(A&e.Ge)&&(15>a?x|=1<<a+1:0<b&&(k[b-1]|=1)),0!==(A&e.He)&&(0<a?x|=1<<a-1:b<m-1&&(k[b+1]|=32768))))}D+=1}t[b]|=u;0<g&&(G[b]|=C);g<z-1&&(k[b]|=x)}else D+=16;p+=16;B+=16}for(g=0;g<n.length;g+=1)n[g]=
0};a.prototype.np=function(a,g){var f,b=this.C.N,c=this.C.O,d=this.C.L,e=this.C.K,h=this.sa,z,m=2>=this.g?this.cb:this.ea+1,n;if(a===b)for(n=!1;a<=c&&!n;){for(f=e;f<=d&&!n;)h[f][a]>=m?n=!0:f+=1;n?(this.C.N=a,this.ta&&a>this.ca.N&&(this.ca.N=a)):a+=1}else if(a===c)for(n=!1;a>=b&&!n;){f=e;for(z=h[f];f<=d&&!n;)z[a]>=m?n=!0:f+=1;n?(this.C.O=a,this.ta&&a<this.ca.O&&(this.ca.O=a)):--a}if(g===e)for(f=g,n=!1;f<=d&&!n;){a=b;for(z=h[f];a<=c&&!n;)z[a]>=m?n=!0:a+=1;n?(this.C.K=f,this.ta&&f>this.ca.K&&(this.ca.K=
f)):f+=1}else if(g===d)for(f=g,n=!1;f>=e&&!n;){for(a=b;a<=c&&!n;)h[f][a]>=m?n=!0:a+=1;n?(this.C.L=f,this.ta&&f<this.ca.L&&(this.ca.L=f)):--f}};a.prototype.xz=function(a){var g,f,b=this.width>>4,c=this.height,d=this.width,e=this.pb,h=this.jc;var z=this.sa;var m=this.C,n=this.ca,p=this.Jd,B=this.height,D=-1,q=this.width,t=-1,G=this.height,k=-1,u=this.width,C=-1,x,F=this.he,A=this.i,y=this.qa,E=this.Ja,v=this.eb,w=this.Xa,M=this.Bb;if(h&&!a)for(f=0;f<c;f+=1){var K=h[f];for(g=x=0;g<d;g+=1){var S=K[g];
x|=S;S&&(g<u&&(u=g),g>C&&(C=g))}x&&(f<G&&(G=f),f>k&&(k=f))}for(f=0;f<F.length;f+=1)F[f]=0;for(f=0;f<A;f+=1)E[f].set(M);if(-1!==this.g)for(f=0;f<c;f+=1){b=z[f];for(g=x=0;g<d;g+=1)S=b[g],x|=S,S&&(g<q&&(q=g),g>t&&(t=g));x&&(f<B&&(B=f),f>D&&(D=f))}else{for(f=0;f<c;f+=1){z=e[f];for(g=x=0;g<b;g+=1)S=z[g],x|=S,F[g]|=S;x&&(f<B&&(B=f),f>D&&(D=f))}for(g=0;g<b;g+=1)F[g]&&(g<q&&(q=g),g>t&&(t=g));q=(q<<4)+this.hg(F[q]);t=(t<<4)+this.qg(F[t])}if(0>D||B>=c||q>=d||0>t)B=D=c>>1,t=q=d>>1;h&&!a&&(k<D&&(D=k),G>B&&(B=
G),u<q&&(q=u),C>t&&(t=C));D>this.height-1&&(D=this.height-1);0>B&&(B=0);0>q&&(q=0);t>this.width-1&&(t=this.width-1);m.L=D;m.K=B;m.N=q;m.O=t;n.L=D;n.K=B;n.N=q;n.O=t;p.L=D;p.K=B;p.N=q;p.O=t;0<q&&--q;0<B&&--B;t<this.width-1&&(t+=1);D<this.height-1&&(D+=1);S=D>>4;q>>=8;t>>=8;for(f=B>>4;f<=S;f+=1)for(B=E[f],g=q;g<=t;g+=1)B[g]=-1;-1!==this.g?this.pp():this.op();h&&(this.Pk(a),p.L=m.L,p.K=m.K,p.N=m.N,p.O=m.O);Array.Of(y,E);Array.Of(y,v);Array.Of(y,w)};a.prototype.Kk=function(a){var g=Math.round((this.width-
this.la)/2),f=Math.round((this.height-this.na)/2),b=g+this.la-1,c=f+this.na-1,d=b+a>>4,e=g-a>>4,h=b+a>>4,z=~(1<<(~(g-a)&15)),m=~(1<<(~(b+a)&15)),n,p=this.ge,B=0;var D=0!==(this.s&1)?this.W:this.pb;var q=D[c+a];var t=D[f-a];if(0===this.la)for(d=this.width>>4,n=0;n<d;n+=1)B+=p[t[n]],t[n]=0,B+=p[q[n]],q[n]=0;else if(0===this.na)for(f=0,c=this.height,d=0;d<c;d+=1)q=D[d],q[e]&~z&&(B+=1),q[e]&=z,q[h]&~m&&(B+=1),q[h]&=m;else{for(n=g-a>>4;n<=d;n+=1)B+=p[t[n]],t[n]=0,B+=p[q[n]],q[n]=0;for(d=f-a+1;d<=c+a-1;d+=
1)q=D[d],q[e]&~z&&(B+=1),q[e]&=z,q[h]&~m&&(B+=1),q[h]&=m}this.Ba-=B;if(-1!==this.g)if(D=this.sa,g-=a,b+=a,c+=a,f-=a,q=D[c],t=D[f],0===this.la)for(n=0;n<this.width;n+=1)t[n]=0,q[n]=0;else if(0===this.na)for(d=0;d<this.height;d+=1)D[d][g]=0,D[d][b]=0;else{for(n=g;n<=b;n+=1)t[n]=0,q[n]=0;for(d=f+1;d<=c-1;d+=1)D[d][g]=0,D[d][b]=0}};a.prototype.Dn=function(){var a,g=e.ay,b=this.Uk;for(a=0;3>=a;a+=1){var c=g[a];var d=c[0];var I=c[1];c=c[2];b[a]=d[0]<<3|d[1]<<2|d[2]<<1|I[0]<<8|I[1]<<7|I[2]<<6|c[0]<<13|c[1]<<
12|c[2]<<11;b[a+4]=d[2]<<3|d[1]<<2|d[0]<<1|I[2]<<8|I[1]<<7|I[0]<<6|c[2]<<13|c[1]<<12|c[0]<<11;b[11-a]=b[a];b[15-a]=b[a+4]}};a.prototype.Gr=function(){var a=this.la;var g=this.na;var b=Math.round((this.width-a)/2-1)>>4,c=Math.round((this.width+a)/2)>>4;var d=Math.round((this.height-g)/2-1)>>4;var e=Math.round((this.height+g)/2)>>4;0===g&&(d=0,e=(this.height>>4)-1);0===a&&(b=0,c=(this.width>>4)-1);0>b&&(b=0);0>d&&(d=0);c>=this.width>>4&&(c=(this.width>>4)-1);e>=this.height>>4&&(e=(this.height>>4)-1);
for(g=b;g<=c;g+=1)a=1<<(~g&15),this.qa[d][g>>4]|=a,this.Ja[d][g>>4]|=a,this.eb[d][g>>4]|=a,this.Xa[d][g>>4]|=a,this.qa[e][g>>4]|=a,this.Ja[e][g>>4]|=a,this.eb[e][g>>4]|=a,this.Xa[e][g>>4]|=a;for(;d<=e;d+=1)a=1<<(~b&15),this.qa[d][b>>4]|=a,this.Ja[d][b>>4]|=a,this.eb[d][b>>4]|=a,this.Xa[d][b>>4]|=a,a=1<<(~c&15),this.qa[d][c>>4]|=a,this.Ja[d][c>>4]|=a,this.eb[d][c>>4]|=a,this.Xa[d][c>>4]|=a};a.prototype.Do=function(){var a=this.eb,g=this.la,b=this.na,c=Math.round((this.width-g)/2),d=Math.round((this.height-
b)/2),e=c+g-1,r=d+b-1,h=this.cl,z=this.dl,m=this.fa&&0<c&&e<this.width-1,n;if(0!==(this.s&1)){var p=this.W;var B=this.Ja}else p=this.pb,B=this.qa;0===this.la&&(c=0,e=this.width-1,g=this.width);0===this.na&&(d=0,r=this.height-1,b=this.height);if(0!==this.na)for(n=0;n<g;n+=1){var D=c+n;var q=c+(n+h+g)%g;0!==(p[r][D>>4]&1<<(~D&15))&&(p[d-1][q>>4]|=1<<(~q&15),B[d-1>>4][q>>8]|=1<<(~(q>>4)&15),a[d-1>>4][q>>8]|=1<<(~(q>>4)&15),15===(d-1&15)&&(B[(d-1>>4)+1][q>>8]|=1<<(~(q>>4)&15),a[(d-1>>4)+1][q>>8]|=1<<
(~(q>>4)&15)));q=c+(n-h+g)%g;0!==(p[d][D>>4]&1<<(~D&15))&&(p[r+1][q>>4]|=1<<(~q&15),B[r+1>>4][q>>8]|=1<<(~(q>>4)&15),a[r+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(r+1&15)&&(B[(r+1>>4)-1][q>>8]|=1<<(~(q>>4)&15),a[(r+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}if(0!==this.la)for(n=0;n<b;n+=1)D=d+n,q=d+(n-z+b)%b,0!==(p[D][c>>4]&1<<(~c&15))&&(p[q][e+1>>4]|=1<<(~(e+1)&15),B[q>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[q>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(B[q>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[q>>4][e-15>>8]|=1<<(~(e-15>>
4)&15))),m&&(c+=1,e+=1,0!==(p[D][c>>4]&1<<(~c&15))&&(p[q][e+1>>4]|=1<<(~(e+1)&15),B[q>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[q>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(B[q>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[q>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),--c,--e),q=d+(n+z+b)%b,0!==(p[D][e>>4]&1<<(~e&15))&&(p[q][c-1>>4]|=1<<(~(c-1)&15),B[q>>4][c-1>>8]|=1<<(~(c-1>>4)&15),a[q>>4][c-1>>8]|=1<<(~(c-1>>4)&15),15===(c-1&15)&&(B[q>>4][c+15>>8]|=1<<(~(c+15>>4)&15),a[q>>4][c+15>>8]|=1<<(~(c+15>>4)&15))),m&&(--c,--e,0!==
(p[D][e>>4]&1<<(~e&15))&&(p[q][c-1>>4]|=1<<(~(c-1)&15),B[q>>4][c-1>>8]|=1<<(~(c-1>>4)&15),a[q>>4][c-1>>8]|=1<<(~(c-1>>4)&15),15===(c-1&15)&&(B[q>>4][c+15>>8]|=1<<(~(c+15>>4)&15),a[q>>4][c+15>>8]|=1<<(~(c+15>>4)&15))),c+=1,e+=1);0!==this.la&&0!==this.na&&(D=c+(-h+g)%g,p[d-1][e+1>>4]=0!==(p[d+(b-1+z+b)%b][D>>4]&1<<(~D&15))?p[d-1][e+1>>4]|1<<(~(e+1)&15):p[d-1][e+1>>4]&~(1<<(~(e+1)&15)),D=c+(g-1-h+g)%g,p[d-1][c-1>>4]=0!==(p[d+(b-1-z+b)%b][D>>4]&1<<(~D&15))?p[d-1][c-1>>4]|1<<(~(c-1)&15):p[d-1][c-1>>4]&
~(1<<(~(c-1)&15)),D=c+(h+g)%g,p[r+1][e+1>>4]=0!==(p[d+(z+b)%b][D>>4]&1<<(~D&15))?p[r+1][e+1>>4]|1<<(~(e+1)&15):p[r+1][e+1>>4]&~(1<<(~(e+1)&15)),D=c+(g-1+h+g)%g,p[r+1][c-1>>4]=0!==(p[d+(-z+b)%b][D>>4]&1<<(~D&15))?p[r+1][c-1>>4]|1<<(~(c-1)&15):p[r+1][c-1>>4]&~(1<<(~(c-1)&15)))};a.prototype.vo=function(){var a=this.eb,g=this.la,b=this.na,c=Math.round((this.width-g)/2),d=Math.round((this.height-b)/2),e=c+g-1,r=d+b-1,h=this.cl,z=this.dl,m=this.Op,n=this.gt,p;if(0!==(this.s&1)){var B=this.W;var D=this.Ja}else B=
this.pb,D=this.qa;for(p=0;p<g;p+=1){var q=c+p;var t=m?e-(p+h+g)%g:c+(p+h+g)%g;0!==(B[r][q>>4]&1<<(~q&15))&&(B[d-1][t>>4]|=1<<(~t&15),D[d-1>>4][t>>8]|=1<<(~(t>>4)&15),a[d-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(d-1&15)&&(D[(d-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(d-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=m?e-(p-h+g)%g:c+(p-h+g)%g;0!==(B[d][q>>4]&1<<(~q&15))&&(B[r+1][t>>4]|=1<<(~t&15),D[r+1>>4][t>>8]|=1<<(~(t>>4)&15),a[r+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(r+1&15)&&(D[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(r+1>>4)-
1][t>>8]|=1<<(~(t>>4)&15)))}for(p=0;p<b;p+=1)q=d+p,t=n?r-(p-z+b)%b:d+(p-z+b)%b,0!==(B[q][c>>4]&1<<(~c&15))&&(B[t][e+1>>4]|=1<<(~(e+1)&15),D[t>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[t>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(D[t>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[t>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),t=n?r-(p+z+b)%b:d+(p+z+b)%b,0!==(B[q][e>>4]&1<<(~e&15))&&(B[t][c-1>>4]|=1<<(~(c-1)&15),D[t>>4][c-1>>8]|=1<<(~(c-1>>4)&15),a[t>>4][c-1>>8]|=1<<(~(c-1>>4)&15),15===(c-1&15)&&(D[t>>4][c+15>>8]|=1<<(~(c+15>>
4)&15),a[t>>4][c+15>>8]|=1<<(~(c+15>>4)&15)));q=m?e-(-h+g)%g:c+(-h+g)%g;0!==(B[n?r-(b-1+z+b)%b:d+(b-1+z+b)%b][q>>4]&1<<(~q&15))&&(B[d-1][e+1>>4]|=1<<(~(e+1)&15));q=m?e-(g-1-h+g)%g:c+(g-1-h+g)%g;0!==(B[n?r-(b-1+z+b)%b:d+(b-1+z+b)%b][q>>4]&1<<(~q&15))&&(B[d-1][c-1>>4]|=1<<(~(c-1)&15));q=m?e-(h+g)%g:c+(h+g)%g;0!==(B[n?r-(z+b)%b:d+(z+b)%b][q>>4]&1<<(~q&15))&&(B[r+1][e+1>>4]|=1<<(~(e+1)&15));q=m?e-(g-1+h+g)%g:c+(g-1+h+g)%g;0!==(B[n?r-(z+b)%b:d+(z+b)%b][q>>4]&1<<(~q&15))&&(B[r+1][c-1>>4]|=1<<(~(c-1)&15))};
a.prototype.qo=function(){var a=this.eb,g=Math.round((this.width-this.la)/2),b=Math.round((this.height-this.na)/2),c=g+this.la-1,d=b+this.na-1,e;if(0!==(this.s&1)){var r=this.W;var h=this.Ja}else r=this.pb,h=this.qa;for(e=0;e<this.la;e+=1){var z=g+e;var m=c-e;0!==(r[d][z>>4]&1<<(~z&15))&&(r[b-1][m>>4]|=1<<(~m&15),h[b-1>>4][m>>8]|=1<<(~(m>>4)&15),a[b-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(b-1&15)&&(h[(b-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(b-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(r[b][z>>4]&1<<(~z&15))&&
(r[d+1][m>>4]|=1<<(~m&15),h[d+1>>4][m>>8]|=1<<(~(m>>4)&15),a[d+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(d+1&15)&&(h[(d+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(d+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(e=0;e<=this.na;e+=1)z=b+e,m=d-e,0!==(r[z][g>>4]&1<<(~g&15))&&(r[m][c+1>>4]|=1<<(~(c+1)&15),h[m>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[m>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(h[m>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[m>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),0!==(r[z][c>>4]&1<<(~c&15))&&(r[m][g-1>>4]|=1<<(~(g-1)&15),h[m>>
4][g-1>>8]|=1<<(~(g-1>>4)&15),a[m>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(h[m>>4][g+15>>8]|=1<<(~(g+15>>4)&15),a[m>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));0!==(r[d][g>>4]&1<<(~g&15))&&(r[d+1][g-1>>4]|=1<<(~(g-1)&15));0!==(r[d][c>>4]&1<<(~c&15))&&(r[d+1][c+1>>4]|=1<<(~(c+1)&15));0!==(r[b][g>>4]&1<<(~g&15))&&(r[b-1][g-1>>4]|=1<<(~(g-1)&15));0!==(r[b][c>>4]&1<<(~c&15))&&(r[b-1][c+1>>4]|=1<<(~(c+1)&15))};a.prototype.xo=function(){var a=this.eb,g=Math.round((this.width-this.la)/2),b=Math.round((this.height-
this.na)/2),c=g+this.la-1,d=b+this.la-1,e;if(0!==(this.s&1)){var r=this.W;var h=this.Ja}else r=this.pb,h=this.qa;for(e=0;e<this.la;e+=1){var z=b+e;var m=g+e;0!==(r[z][g>>4]&1<<(~g&15))&&(r[b-1][m>>4]|=1<<(~m&15),h[b-1>>4][m>>8]|=1<<(~(m>>4)&15),a[b-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(b-1&15)&&(h[(b-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(b-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(r[z][c>>4]&1<<(~c&15))&&(r[d+1][m>>4]|=1<<(~m&15),h[d+1>>4][m>>8]|=1<<(~(m>>4)&15),a[d+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(d+1&15)&&
(h[(d+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(d+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)));0!==(r[b][m>>4]&1<<(~m&15))&&(r[z][g-1>>4]|=1<<(~(g-1)&15),h[z>>4][g-1>>8]|=1<<(~(g-1>>4)&15),a[z>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(h[z>>4][g+15>>8]|=1<<(~(g+15>>4)&15),a[z>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));0!==(r[d][m>>4]&1<<(~m&15))&&(r[z][c+1>>4]|=1<<(~(c+1)&15),h[z>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[z>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(h[z>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[z>>4][c-15>>8]|=1<<(~(c-
15>>4)&15)))}0!==(r[d][g>>4]&1<<(~g&15))&&(r[d+1][g-1>>4]|=1<<(~(g-1)&15));0!==(r[d][c>>4]&1<<(~c&15))&&(r[d+1][c+1>>4]|=1<<(~(c+1)&15));0!==(r[b][g>>4]&1<<(~g&15))&&(r[b-1][g-1>>4]|=1<<(~(g-1)&15));0!==(r[b][c>>4]&1<<(~c&15))&&(r[b-1][c+1>>4]|=1<<(~(c+1)&15))};a.prototype.$n=function(){var a,g=1;0!==this.ka&&(g=2);this.fa&&(g+=1);for(a=1;a<=g+1;a+=1)this.Kk(a)};a.prototype.lo=function(){this.Gr();switch(this.ka){case 1:this.Do();break;case 2:this.vo();break;case 3:this.qo();break;case 4:this.xo()}this.Gr()};
a.prototype.oj=function(a,g,b){var c=!1,f=this.C,d=this.Hd;b||(a=!0);!g&&this.yn&&(this.yn=!1);this.s===this.pj-1&&(c=!0,g||(a=!0));-1===this.ka||this.ta||this.lo();this.ha&&this.rp();this.Da&&(this.ta?this.Qb.Ky(this.s):a&&2>this.g?this.fa?this.Vn():this.Un():this.fa?this.Sn():this.Qn());this.s+=1;-1===this.g||this.ta||this.Fn();this.ha&&this.qp();-1===this.ka||this.ta||this.$n();this.width===this.U&&(b=this.ta?2*this.Qb.uc:16,f.N<=b||f.O>=this.U-b||f.K<=b||f.L>=this.U-b)&&(this.ta?this.Mk():this.Lk());
c&&(this.pj+=e.sm,g||this.km());f.N<d.N&&(d.N=f.N);f.O>d.O&&(d.O=f.O);f.K<d.K&&(d.K=f.K);f.L>d.L&&(d.L=f.L);this.s<e.qu&&(a?(this.Pj(this.Ba,this.xb,this.ic),this.Ba>this.Jb&&(this.Jb=this.Ba),this.xb>this.Jb&&(this.Jb=this.xb),this.ic>this.Jb&&(this.Jb=this.ic)):this.Pj(0,0,0))};a.prototype.Pj=function(a,g,b){var c=this.s>>e.ti,f=this.s&(1<<e.ti)-1;this.bb&&0<this.bb.length&&(this.s>=this.rf&&(Array.Vk(this.bb,"Life.popGraphData"),Array.Vk(this.Le,"Life.birthGraphData"),Array.Vk(this.mf,"Life.deathGraphData"),
this.rf+=1<<e.ti),this.bb[c][f]=a,this.Le[c][f]=g,this.mf[c][f]=b)};a.prototype.Nh=function(a,g,b,c,d,I,r,h){var f,m=1,n=(1<<e.ti)-1;this.s>b&&(m=b/this.s);if(h){a.strokeStyle=g;a.beginPath();var p=c-r[0]/this.Jb*c|0;a.moveTo(0+I+.5,p+d+I+.5)}else a.fillStyle=g;var l=0;for(g=f=1;g<b;g+=1){if(f<e.qu){var H=f>>e.ti;var q=f&n;q=H=r[H][q];l+=m;for(f+=1;0===(l|0);){var L=r[f];f+=1;L>q&&(q=L);L<H&&(H=L);l+=m}--l}else q=H=0;g<=this.s&&(L=0+I+1+g,p=c-H/this.Jb*c|0,h?(a.lineTo(L+.5,p+d+I+.5),H!==q&&(p=c-q/
this.Jb*c|0,a.lineTo(L+.5,p+d+I+.5))):0<H&&0<q&&(H!==q&&(p=c-q/this.Jb*c|0),a.fillRect(L+.5,p+d+I+.5,1,1)))}h&&a.stroke()};a.prototype.Cn=function(a,g,b,c){var f=this.context,d=40,e=40,l=this.A-e,H=this.v-d-e,m="rgb("+this.Vf[0]+","+this.Vf[1]+","+this.Vf[2]+")",n="rgb("+this.Uf[0]+","+this.Uf[1]+","+this.Uf[2]+")",p="rgb("+this.Tf[0]+","+this.Tf[1]+","+this.Tf[2]+")",B="rgb("+this.Wf[0]+","+this.Wf[1]+","+this.Wf[2]+")",D="rgb("+this.Xf[0]+","+this.Xf[1]+","+this.Xf[2]+")";if(this.bb&&0<this.bb.length){if(b||
c)d=0,H+=80;c&&(e=0,l=this.A);var q=l-e;f.save();f.fillStyle=m;f.globalAlpha=g;f.fillRect(0,d,l+e,H);f.globalAlpha=1;b&&(H-=40);if(!c){f.font="16px Arial";f.textAlign="center";f.fillStyle="black";for(g=2;0<=g;g-=2)f.save(),f.translate(this.A/2,H+e/2-6),f.fillText("Generation",g,g),f.restore(),f.save(),f.translate(e/2+6,this.v/2),f.rotate(-90*Math.PI/180),320>this.v?f.fillText("Pop",g,g):f.fillText("Population",g,g),f.restore(),f.fillStyle=n;f.fillStyle="black";for(g=2;0<=g;g-=2)f.save(),f.translate(e-
e/2+6,d+e),f.rotate(-90*Math.PI/180),f.fillText(String(this.Jb),g,g),f.restore(),f.save(),f.translate(e-e/2+6,H),f.rotate(-90*Math.PI/180),f.fillText("0",g,g),f.restore(),f.save(),f.translate(e,H+e/2-6),f.fillText("0",g,g),f.restore(),f.save(),f.translate(l,H+e/2-6),f.fillText(String(this.s>q?this.s:q),g,g),f.restore(),f.fillStyle=n}-1===this.ka&&(this.Nh(f,D,q,H-d-e,d,e,this.mf,a),this.Nh(f,B,q,H-d-e,d,e,this.Le,a));this.Nh(f,p,q,H-d-e,d,e,this.bb,a);f.strokeStyle=n;f.lineWidth=1;f.beginPath();f.moveTo(e+
.5,d+e+.5);f.lineTo(e+.5,H+.5);f.lineTo(l+.5,H+.5);f.lineTo(l+.5,H+2.5);f.moveTo(e+.5,H+.5);f.lineTo(e+.5,H+2.5);f.moveTo(e+.5,H+.5);f.lineTo(e+.5-2,H+.5);f.moveTo(e+.5,d+e+.5);f.lineTo(e+.5-2,d+e+.5);f.stroke();f.restore()}};a.prototype.Zu=function(){var a=(1<<e.ti)-1,b;if(this.bb&&0<this.bb.length){for(b=0;b<this.rf;b+=1){var c=b>>e.ti;var d=b&a;this.bb[c][d]=0;this.Le[c][d]=0;this.mf[c][d]=0}this.bb[0][0]=this.Ba}this.Jb=this.Ba};a.prototype.zr=function(){var a=this.C,b=this.Hd;b.N=a.N;b.O=a.O;
b.L=a.L;b.K=a.K};a.prototype.rp=function(){var a,b,c,d,e=this.ha,I=this.fd,r=this.Hc,h=this.de,z=this.i,m=this.f>>4,n;var p=0;var B=0!==(this.s&1)?this.W:this.pb;for(a=0;a<z;a+=1){var D=0;var q=h[a];for(b=0;b<m;b+=1)if(n=q[b])for(c=15;0<=c;--c){if(0!==(n&1<<c))for(d=p;d<p+16;d+=1)I[d][D]=(B[d][D]|r[d][D])&e[d][D];D+=1}else D+=16;p+=16}};a.prototype.qp=function(){var a,b,c,d,e,I=this.fd,r=this.de,h=this.i,z=this.f>>4,m;var n=0!==(this.s&1)?this.W:this.pb;for(a=e=0;a<h;a+=1){var p=0;var B=r[a];for(b=
0;b<z;b+=1)if(m=B[b])for(c=15;0<=c;--c){if(0!==(m&1<<c))for(d=e;d<e+16;d+=1)n[d][p]&=~I[d][p];p+=1}else p+=16;e+=16}};a.prototype.Mh=function(a,b,c){var g,f,d=this.Xg,l=0,h=this.bd[l],z=this.cd[l],m=0,n=e.Fo,p=n-1,B=0,D=n,q=this.gm,t=this.ib,G=this.kb;h[m]=a;z[m]=b;m+=1;for(c[b][a>>4]&=~(1<<(~a&15));0<m;)for(--m,m<B&&(--l,B-=n,D-=n,h=this.bd[l],z=this.cd[l]),a=h[m&p],b=z[m&p],f=b-q;f<=b+q;){for(g=a-q;g<=a+q;)g===(g&t)&&f===(f&G)&&0!==(c[f][g>>4]&1<<(~g&15))&&(c[f][g>>4]&=~(1<<(~g&15)),m===D&&(l+=
1,B+=n,D+=n,l>d&&(this.bd[l]=this.j.V(Int32,n,"Life.boundaryX"+l),this.cd[l]=this.j.V(Int32,n,"Life.boundaryY"+l),this.Xg=d+=1),h=this.bd[l],z=this.cd[l]),h[m&p]=g,z[m&p]=f,m+=1),g+=1;f+=1}};a.prototype.Nj=function(a,b,c){for(var g=c[b][a],f=15;0<=f;)0!==(g&1<<f)&&this.Mh((a<<4)+(~f&15),b,c),--f};a.prototype.xr=function(a,b){this.Mh(0,a,b)};a.prototype.Dr=function(a,b,c){this.Mh((a<<4)+15,b,c)};a.prototype.Lk=function(){var a;var b=0!==(this.s&1)?this.W:this.pb;var c=b.length;var d=b[0].length;var e=
b[0];var I=b[c-1];for(a=0;a<d;)e[a]&&this.Nj(a,0,b),I[a]&&this.Nj(a,c-1,b),a+=1;for(a=0;a<c;)0!==(b[a][0]&32768)&&this.xr(a,b),0!==(b[a][d-1]&1)&&this.Dr(d-1,a,b),a+=1};a.prototype.Ih=function(a,b){var g,c=this.sa,f,d=this.Xg,r=0,h=this.bd[r],z=this.cd[r],m=0,n=e.Fo,p=n-1,B=0,D=n,q=this.ib,t=this.kb,G=2<this.g?0:e.cb,k=2<this.g?0:e.Ud,u=this.gm;h[m]=a;z[m]=b;m+=1;for(c[b][a]=0;0<m;)for(--m,m<B&&(--r,B-=n,D-=n,h=this.bd[r],z=this.cd[r]),a=h[m&p],b=z[m&p],g=b-u;g<=b+u;){var C=a-u;for(f=c[g];C<=a+u;)C===
(C&q)&&g===(g&t)&&f[C]>=G&&(f[C]=k,m===D&&(r+=1,B+=n,D+=n,r>d&&(this.bd[r]=this.j.V(Int32,n,"Life.boundaryX"+r),this.cd[r]=this.j.V(Int32,n,"Life.boundaryY"+r),this.Xg=d+=1),h=this.bd[r],z=this.cd[r]),h[m&p]=C,z[m&p]=g,m+=1),C+=1;g+=1}};a.prototype.Mk=function(){var a=this.sa,b=a.length,c=a[0].length,d=this.C,L=d.N,I=d.O,r=d.K,h=d.L,z=2*this.Qb.uc+1,m=2<this.g?0:e.cb,n,p;if(b-h<=z){for(p=b-z;p<=h;p+=1){var B=a[p];for(n=L;n<=I;n+=1)B[n]>=m&&this.Ih(n,p)}d.L=b-z}if(r<=z){for(p=r;p<=z;p+=1)for(B=a[p],
n=L;n<=I;n+=1)B[n]>=m&&this.Ih(n,p);d.K=z}if(L<=z){for(p=r;p<=h;p+=1)for(B=a[p],n=L;n<=z;n+=1)B[n]>=m&&this.Ih(n,p);d.N=z}if(c-I<=z){for(p=r;p<=h;p+=1)for(B=a[p],n=c-z;n<=I;n+=1)B[n]>=m&&this.Ih(n,p);d.O=c-z}};a.prototype.Vn=function(){var a,b,c,d,L,I=this.he,r,h=this.height,z=this.width,m=z>>4,n=this.C,p=h,B=-1,D=z,q=-1,t=this.i,G=this.f>>4,k=this.Bb;var u=0;var C=t,x=this.ge,F=0,A=0,y=0;if(0!==(this.s&1)){var E=this.W;var v=this.pb;var w=this.Ja;var M=this.qa;var K=this.Lh}else E=this.pb,v=this.W,
w=this.qa,M=this.Ja,K=this.Kh;for(b=0;b<I.length;b+=1)I[b]=0;0>u&&(u=0);C>t&&(C=t);var S=u<<4;var ba=S+16;for(b=u;b<C;b+=1){var Y=M[b];for(c=0;c<Y.length;c+=1)Y[c]=0}for(b=u;b<C;b+=1){var T=0;Y=w[b];var aa=M[b];var X=0<b?M[b-1]:k;var N=b<t-1?M[b+1]:k;for(c=0;c<G;c+=1)if(d=Y[c]){var R=aa[c];var U=X[c];var ca=N[c];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var P=r=0;var J=S;var Q=0===J?this.va:E[J-1];var W=E[J];u=E[J+1];var fa=L=W[T];Q=Q[T-1]<<18|Q[T]<<2|Q[T+1]>>14;var V=W[T-1]<<18|L<<2|W[T+1]>>14;var O=u[T-
1]<<18|u[T]<<2|u[T+1]>>14;var Z=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;Z|=K[O>>6&7936|Q>>10&224|V>>14&31]<<14;Z|=K[Q>>5&7936|O>>9&224|V>>13&31]<<13;Z|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;Z|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;Z|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;Z|=K[Q>>1&7936|O>>5&224|V>>9&31]<<9;Z|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;Z|=K[Q<<1&7936|O>>3&224|V>>7&31]<<7;Z|=K[O<<2&7936|Q>>2&224|V>>6&31]<<6;Z|=K[Q<<3&7936|O>>1&224|V>>5&31]<<5;Z|=K[O<<4&7936|Q>>0&224|V>>4&31]<<4;Z|=K[Q<<5&7936|O<<1&224|V>>
3&31]<<3;Z|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;Z|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;Z|=K[O<<8&7936|Q<<4&224|V>>0&31]<<0;v[J][T]=Z;F+=x[Z];A+=x[Z&~L];y+=x[L&~Z];Z&&(r|=Z,J<p&&(p=J),J>B&&(B=J),0!==(Z&49152)&&(P|=e.le),0!==(Z&3)&&(P|=e.me),P|=e.Ed);for(J+=1;J<ba-1;){L=u[T];fa|=L;u=E[J+1];Q=V;V=O;O=u[T-1]<<18|u[T]<<2|u[T+1]>>14;0!==(J&1)&&(W=Q,Q=O,O=W);Z=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;Z|=K[O>>6&7936|Q>>10&224|V>>14&31]<<14;Z|=K[Q>>5&7936|O>>9&224|V>>13&31]<<13;Z|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;
Z|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;Z|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;Z|=K[Q>>1&7936|O>>5&224|V>>9&31]<<9;Z|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;Z|=K[Q<<1&7936|O>>3&224|V>>7&31]<<7;Z|=K[O<<2&7936|Q>>2&224|V>>6&31]<<6;Z|=K[Q<<3&7936|O>>1&224|V>>5&31]<<5;Z|=K[O<<4&7936|Q>>0&224|V>>4&31]<<4;Z|=K[Q<<5&7936|O<<1&224|V>>3&31]<<3;Z|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;Z|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;Z|=K[O<<8&7936|Q<<4&224|V>>0&31]<<0;F+=x[Z];A+=x[Z&~L];y+=x[L&~Z];0!==(J&1)&&(O=W=Q);if(v[J][T]=Z)r|=
Z,J<p&&(p=J),J>B&&(B=J);J+=1}L=u[T];fa|=L;u=J===this.height-1?this.va:E[J+1];Q=V;V=O;O=u[T-1]<<18|u[T]<<2|u[T+1]>>14;0!==(J&1)&&(W=Q,Q=O,O=W);Z=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;Z|=K[O>>6&7936|Q>>10&224|V>>14&31]<<14;Z|=K[Q>>5&7936|O>>9&224|V>>13&31]<<13;Z|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;Z|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;Z|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;Z|=K[Q>>1&7936|O>>5&224|V>>9&31]<<9;Z|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;Z|=K[Q<<1&7936|O>>3&224|V>>7&31]<<7;Z|=K[O<<2&7936|Q>>2&224|
V>>6&31]<<6;Z|=K[Q<<3&7936|O>>1&224|V>>5&31]<<5;Z|=K[O<<4&7936|Q>>0&224|V>>4&31]<<4;Z|=K[Q<<5&7936|O<<1&224|V>>3&31]<<3;Z|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;Z|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;Z|=K[O<<8&7936|Q<<4&224|V>>0&31]<<0;F+=x[Z];A+=x[Z&~L];y+=x[L&~Z];if(v[J][T]=Z)r|=Z,J<p&&(p=J),J>B&&(B=J),0!==(Z&49152)&&(P|=e.Ge),0!==(Z&3)&&(P|=e.He),P|=e.Pd;r&&(0!==(r&49152)&&(P|=e.Ld),0!==(r&3)&&(P|=e.Nd));I[T]|=r;if(r||fa)R|=1<<a,P&&(0!==(P&e.Ld)&&(15>a?R|=1<<a+1:0<c&&0<T&&(aa[c-1]|=1)),0!==(P&e.Nd)&&(0<
a?R|=1<<a-1:c<G-1&&T<m-1&&(aa[c+1]|=32768)),0!==(P&e.Ed)&&(U|=1<<a),0!==(P&e.Pd)&&(ca|=1<<a),0!==(P&e.le)&&(15>a?U|=1<<a+1:0<c&&0<T&&(X[c-1]|=1)),0!==(P&e.me)&&(0<a?U|=1<<a-1:c<G-1&&T<m-1&&(X[c+1]|=32768)),0!==(P&e.Ge)&&(15>a?ca|=1<<a+1:0<c&&0<T&&(N[c-1]|=1)),0!==(P&e.He)&&(0<a?ca|=1<<a-1:c<G-1&&T<m-1&&(N[c+1]|=32768)))}T+=1}aa[c]|=R;0<b&&(X[c]|=U);b<t-1&&(N[c]|=ca)}else T+=16;S+=16;ba+=16}for(c=0;c<m;c+=1)I[c]&&(c<D&&(D=c),c>q&&(q=c));D=(D<<4)+this.hg(I[D]);q=(q<<4)+this.qg(I[q]);0>B&&(B=h-1);p>=
h&&(p=0);D>=z&&(D=0);0>q&&(q=z-1);B>h-1&&(B=h-1);0>p&&(p=0);0>D&&(D=0);q>z-1&&(q=z-1);n.L=B;n.K=p;n.N=D;n.O=q;for(b=0;b<k.length;b+=1)k[b]=0;this.Ba=F;this.xb=A;this.ic=y};a.prototype.Sn=function(){var a,b,c,d,L=this.he,I,r=this.height,h=this.width,z=h>>4,m=this.C,n=r,p=-1,B=h,D=-1,q=this.i,t=this.f>>4,G=this.Bb;var k=0;var u=q;if(0!==(this.s&1)){var C=this.W;var x=this.pb;var F=this.Ja;var A=this.qa;var y=this.Lh}else C=this.pb,x=this.W,F=this.qa,A=this.Ja,y=this.Kh;for(b=0;b<L.length;b+=1)L[b]=
0;0>k&&(k=0);u>q&&(u=q);var E=k<<4;var v=E+16;for(b=k;b<u;b+=1){var w=A[b];for(c=0;c<w.length;c+=1)w[c]=0}for(b=k;b<u;b+=1){var M=0;w=F[b];var K=A[b];var S=0<b?A[b-1]:G;var ba=b<q-1?A[b+1]:G;for(c=0;c<t;c+=1)if(d=w[c]){var Y=K[c];var T=S[c];var aa=ba[c];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var X=I=0;var N=E;var R=0===N?this.va:C[N-1];var U=C[N];k=C[N+1];var ca=U[M];R=R[M-1]<<18|R[M]<<2|R[M+1]>>14;var P=U[M-1]<<18|ca<<2|U[M+1]>>14;var J=k[M-1]<<18|k[M]<<2|k[M+1]>>14;var Q=y[R>>7&7936|J>>11&224|P>>15&
31]<<15;Q|=y[J>>6&7936|R>>10&224|P>>14&31]<<14;Q|=y[R>>5&7936|J>>9&224|P>>13&31]<<13;Q|=y[J>>4&7936|R>>8&224|P>>12&31]<<12;Q|=y[R>>3&7936|J>>7&224|P>>11&31]<<11;Q|=y[J>>2&7936|R>>6&224|P>>10&31]<<10;Q|=y[R>>1&7936|J>>5&224|P>>9&31]<<9;Q|=y[J>>0&7936|R>>4&224|P>>8&31]<<8;Q|=y[R<<1&7936|J>>3&224|P>>7&31]<<7;Q|=y[J<<2&7936|R>>2&224|P>>6&31]<<6;Q|=y[R<<3&7936|J>>1&224|P>>5&31]<<5;Q|=y[J<<4&7936|R>>0&224|P>>4&31]<<4;Q|=y[R<<5&7936|J<<1&224|P>>3&31]<<3;Q|=y[J<<6&7936|R<<2&224|P>>2&31]<<2;Q|=y[R<<7&7936|
J<<3&224|P>>1&31]<<1;Q|=y[J<<8&7936|R<<4&224|P>>0&31]<<0;if(x[N][M]=Q)I|=Q,N<n&&(n=N),N>p&&(p=N),0!==(Q&49152)&&(X|=e.le),0!==(Q&3)&&(X|=e.me),X|=e.Ed;for(N+=1;N<v-1;){ca|=k[M];k=C[N+1];R=P;P=J;J=k[M-1]<<18|k[M]<<2|k[M+1]>>14;0!==(N&1)&&(U=R,R=J,J=U);Q=y[R>>7&7936|J>>11&224|P>>15&31]<<15;Q|=y[J>>6&7936|R>>10&224|P>>14&31]<<14;Q|=y[R>>5&7936|J>>9&224|P>>13&31]<<13;Q|=y[J>>4&7936|R>>8&224|P>>12&31]<<12;Q|=y[R>>3&7936|J>>7&224|P>>11&31]<<11;Q|=y[J>>2&7936|R>>6&224|P>>10&31]<<10;Q|=y[R>>1&7936|J>>5&224|
P>>9&31]<<9;Q|=y[J>>0&7936|R>>4&224|P>>8&31]<<8;Q|=y[R<<1&7936|J>>3&224|P>>7&31]<<7;Q|=y[J<<2&7936|R>>2&224|P>>6&31]<<6;Q|=y[R<<3&7936|J>>1&224|P>>5&31]<<5;Q|=y[J<<4&7936|R>>0&224|P>>4&31]<<4;Q|=y[R<<5&7936|J<<1&224|P>>3&31]<<3;Q|=y[J<<6&7936|R<<2&224|P>>2&31]<<2;Q|=y[R<<7&7936|J<<3&224|P>>1&31]<<1;Q|=y[J<<8&7936|R<<4&224|P>>0&31]<<0;0!==(N&1)&&(J=U=R);if(x[N][M]=Q)I|=Q,N<n&&(n=N),N>p&&(p=N);N+=1}ca|=k[M];k=N===this.height-1?this.va:C[N+1];R=P;P=J;J=k[M-1]<<18|k[M]<<2|k[M+1]>>14;0!==(N&1)&&(U=R,R=
J,J=U);Q=y[R>>7&7936|J>>11&224|P>>15&31]<<15;Q|=y[J>>6&7936|R>>10&224|P>>14&31]<<14;Q|=y[R>>5&7936|J>>9&224|P>>13&31]<<13;Q|=y[J>>4&7936|R>>8&224|P>>12&31]<<12;Q|=y[R>>3&7936|J>>7&224|P>>11&31]<<11;Q|=y[J>>2&7936|R>>6&224|P>>10&31]<<10;Q|=y[R>>1&7936|J>>5&224|P>>9&31]<<9;Q|=y[J>>0&7936|R>>4&224|P>>8&31]<<8;Q|=y[R<<1&7936|J>>3&224|P>>7&31]<<7;Q|=y[J<<2&7936|R>>2&224|P>>6&31]<<6;Q|=y[R<<3&7936|J>>1&224|P>>5&31]<<5;Q|=y[J<<4&7936|R>>0&224|P>>4&31]<<4;Q|=y[R<<5&7936|J<<1&224|P>>3&31]<<3;Q|=y[J<<6&7936|
R<<2&224|P>>2&31]<<2;Q|=y[R<<7&7936|J<<3&224|P>>1&31]<<1;Q|=y[J<<8&7936|R<<4&224|P>>0&31]<<0;if(x[N][M]=Q)I|=Q,N<n&&(n=N),N>p&&(p=N),0!==(Q&49152)&&(X|=e.Ge),0!==(Q&3)&&(X|=e.He),X|=e.Pd;I&&(0!==(I&49152)&&(X|=e.Ld),0!==(I&3)&&(X|=e.Nd));L[M]|=I;if(I||ca)Y|=1<<a,X&&(0!==(X&e.Ld)&&(15>a?Y|=1<<a+1:0<c&&0<M&&(K[c-1]|=1)),0!==(X&e.Nd)&&(0<a?Y|=1<<a-1:c<t-1&&M<z-1&&(K[c+1]|=32768)),0!==(X&e.Ed)&&(T|=1<<a),0!==(X&e.Pd)&&(aa|=1<<a),0!==(X&e.le)&&(15>a?T|=1<<a+1:0<c&&0<M&&(S[c-1]|=1)),0!==(X&e.me)&&(0<a?
T|=1<<a-1:c<t-1&&M<z-1&&(S[c+1]|=32768)),0!==(X&e.Ge)&&(15>a?aa|=1<<a+1:0<c&&0<M&&(ba[c-1]|=1)),0!==(X&e.He)&&(0<a?aa|=1<<a-1:c<t-1&&M<z-1&&(ba[c+1]|=32768)))}M+=1}K[c]|=Y;0<b&&(S[c]|=T);b<q-1&&(ba[c]|=aa)}else M+=16;E+=16;v+=16}for(c=0;c<z;c+=1)L[c]&&(c<B&&(B=c),c>D&&(D=c));B=(B<<4)+this.hg(L[B]);D=(D<<4)+this.qg(L[D]);0>p&&(p=r-1);n>=r&&(n=0);B>=h&&(B=0);0>D&&(D=h-1);p>r-1&&(p=r-1);0>n&&(n=0);0>B&&(B=0);D>h-1&&(D=h-1);m.L=p;m.K=n;m.N=B;m.O=D;for(b=0;b<G.length;b+=1)G[b]=0};a.prototype.Qn=function(){var a,
b,c,d,L=this.he,I,r=this.height,h=this.width,z=h>>4,m=this.C,n=r,p=-1,B=h,D=-1,q=this.i,t=this.f>>4,G=this.Bb;var k=0;var u=q;if(0!==(this.s&1)){var C=this.W;var x=this.pb;var F=this.Ja;var A=this.qa;var y=this.fg}else C=this.pb,x=this.W,F=this.qa,A=this.Ja,y=this.eg;for(b=0;b<L.length;b+=1)L[b]=0;0>k&&(k=0);u>q&&(u=q);var E=k<<4;var v=E+16;for(b=k;b<u;b+=1){var w=A[b];for(c=0;c<w.length;c+=1)w[c]=0}for(b=k;b<u;b+=1){var M=0;w=F[b];var K=A[b];var S=0<b?A[b-1]:G;var ba=b<q-1?A[b+1]:G;for(c=0;c<t;c+=
1)if(d=w[c]){var Y=K[c];var T=S[c];var aa=ba[c];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var X=I=0;var N=E;var R=0===N?this.va:C[N-1];var U=C[N];k=C[N+1];var ca=U[M];if(M)if(M>=z-1){R=R[M-1]<<17|R[M]<<1;U=U[M-1]<<17|ca<<1;var P=k[M-1]<<17|k[M]<<1;var J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&32768)&&(X|=e.le),X|=e.Ed;for(N+=1;N<v-1;){ca|=
k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1}ca|=k[M];k=N===this.height-1?this.va:C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=
J)I|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&32768)&&(X|=e.Ge),X|=e.Pd}else{R=R[M-1]<<17|R[M]<<1|R[M+1]>>15;U=U[M-1]<<17|ca<<1|U[M+1]>>15;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&32768)&&(X|=e.le),0!==(J&1)&&(X|=e.me),X|=e.Ed;N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>
12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<
17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=
1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=
J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&
63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|
(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&
63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|
(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=N===this.height-1?this.va:C[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&32768)&&(X|=e.Ge),
0!==(J&1)&&(X|=e.He),X|=e.Pd}else{R=R[M]<<1|R[M+1]>>15;U=ca<<1|U[M+1]>>15;P=k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&1)&&(X|=e.me),X|=e.Ed;for(N+=1;N<v-1;){ca|=k[M];k=C[N+1];R=U;U=P;P=k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>
4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N);N+=1}ca|=k[M];k=N===this.height-1?this.va:C[N+1];R=U;U=P;P=k[M]<<1|k[M+1]>>15;J=y[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=y[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=y[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=y[R&63|(U&63)<<6|(P&63)<<12];if(x[N][M]=J)I|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&1)&&(X|=e.He),X|=e.Pd}I&&(0!==(I&32768)&&(X|=e.Ld),0!==(I&1)&&(X|=e.Nd));L[M]|=I;if(I||ca)Y|=1<<a,X&&(0!==(X&e.Ld)&&
(15>a?Y|=1<<a+1:0<c&&0<M&&(K[c-1]|=1)),0!==(X&e.Nd)&&(0<a?Y|=1<<a-1:c<t-1&&M<z-1&&(K[c+1]|=32768)),0!==(X&e.Ed)&&(T|=1<<a),0!==(X&e.Pd)&&(aa|=1<<a),0!==(X&e.le)&&(15>a?T|=1<<a+1:0<c&&0<M&&(S[c-1]|=1)),0!==(X&e.me)&&(0<a?T|=1<<a-1:c<t-1&&M<z-1&&(S[c+1]|=32768)),0!==(X&e.Ge)&&(15>a?aa|=1<<a+1:0<c&&0<M&&(ba[c-1]|=1)),0!==(X&e.He)&&(0<a?aa|=1<<a-1:c<t-1&&M<z-1&&(ba[c+1]|=32768)))}M+=1}K[c]|=Y;0<b&&(S[c]|=T);b<q-1&&(ba[c]|=aa)}else M+=16;E+=16;v+=16}for(c=0;c<z;c+=1)L[c]&&(c<B&&(B=c),c>D&&(D=c));B=(B<<
4)+this.hg(L[B]);D=(D<<4)+this.qg(L[D]);0>p&&(p=r-1);n>=r&&(n=0);B>=h&&(B=0);0>D&&(D=h-1);p>r-1&&(p=r-1);0>n&&(n=0);0>B&&(B=0);D>h-1&&(D=h-1);m.L=p;m.K=n;m.N=B;m.O=D;for(b=0;b<G.length;b+=1)G[b]=0};a.prototype.Un=function(){var a,b,c,d,L,I=this.he,r,h=this.height,z=this.width,m=z>>4,n=this.C,p=h,B=-1,D=z,q=-1,t=this.i,G=this.f>>4,k=this.Bb,u=this.ge,C=0,x=0,F=0;var A=0;var y=t;if(0!==(this.s&1)){var E=this.W;var v=this.pb;var w=this.Ja;var M=this.qa;var K=this.fg}else E=this.pb,v=this.W,w=this.qa,
M=this.Ja,K=this.eg;for(b=0;b<I.length;b+=1)I[b]=0;0>A&&(A=0);y>t&&(y=t);var S=A<<4;var ba=S+16;for(b=A;b<y;b+=1){var Y=M[b];for(c=0;c<Y.length;c+=1)Y[c]=0}for(b=A;b<y;b+=1){var T=0;Y=w[b];var aa=M[b];var X=0<b?M[b-1]:k;var N=b<t-1?M[b+1]:k;for(c=0;c<G;c+=1)if(d=Y[c]){var R=aa[c];var U=X[c];var ca=N[c];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var P=r=0;var J=S;var Q=0===J?this.va:E[J-1];var W=E[J];A=E[J+1];var fa=L=W[T];if(T)if(T>=m-1){Q=Q[T-1]<<17|Q[T]<<1;W=W[T-1]<<17|L<<1;var V=A[T-1]<<17|A[T]<<1;var O=
K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(W&63)<<6|(V&63)<<12];v[J][T]=O;C+=u[O];x+=u[O&~L];F+=u[L&~O];O&&(r|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&32768)&&(P|=e.le),P|=e.Ed);for(J+=1;J<ba-1;)L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<
12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1;L=A[T];fa|=L;A=J===this.height-1?this.va:E[J+1];Q=W;W=V;V=A[T-1]<<17|A[T]<<1;O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(W&63)<<6|(V&63)<<12];v[J][T]=O;C+=u[O];x+=u[O&~L];F+=u[L&~O];O&&(r|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&32768)&&(P|=e.Ge),P|=e.Pd)}else Q=Q[T-1]<<17|Q[T]<<1|Q[T+1]>>15,W=W[T-1]<<17|L<<1|W[T+1]>>15,V=A[T-
1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&32768)&&(P|=e.le),0!==(O&1)&&(P|=e.me),P|=e.Ed),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<
6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>
12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&
~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=
K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<
1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],
x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>
8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=
V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<
12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=A[T],fa|=L,A=J===this.height-1?this.va:E[J+1],Q=W,W=V,V=A[T-1]<<17|A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&32768)&&(P|=e.Ge),0!==(O&1)&&(P|=e.He),P|=e.Pd);else{Q=Q[T]<<1|Q[T+1]>>15;W=L<<1|W[T+1]>>
15;V=A[T]<<1|A[T+1]>>15;O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(W&63)<<6|(V&63)<<12];v[J][T]=O;C+=u[O];x+=u[O&~L];F+=u[L&~O];O&&(r|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&1)&&(P|=e.me),P|=e.Ed);for(J+=1;J<ba-1;)L=A[T],fa|=L,A=E[J+1],Q=W,W=V,V=A[T]<<1|A[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&
63|(W&63)<<6|(V&63)<<12],v[J][T]=O,C+=u[O],x+=u[O&~L],F+=u[L&~O],O&&(r|=O,J<p&&(p=J),J>B&&(B=J)),J+=1;L=A[T];fa|=L;A=J===this.height-1?this.va:E[J+1];Q=W;W=V;V=A[T]<<1|A[T+1]>>15;O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(W&63)<<6|(V&63)<<12];v[J][T]=O;C+=u[O];x+=u[O&~L];F+=u[L&~O];O&&(r|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&1)&&(P|=e.He),P|=e.Pd)}r&&(0!==(r&32768)&&(P|=e.Ld),0!==(r&1)&&(P|=e.Nd));I[T]|=
r;if(r||fa)R|=1<<a,P&&(0!==(P&e.Ld)&&(15>a?R|=1<<a+1:0<c&&0<T&&(aa[c-1]|=1)),0!==(P&e.Nd)&&(0<a?R|=1<<a-1:c<G-1&&T<m-1&&(aa[c+1]|=32768)),0!==(P&e.Ed)&&(U|=1<<a),0!==(P&e.Pd)&&(ca|=1<<a),0!==(P&e.le)&&(15>a?U|=1<<a+1:0<c&&0<T&&(X[c-1]|=1)),0!==(P&e.me)&&(0<a?U|=1<<a-1:c<G-1&&T<m-1&&(X[c+1]|=32768)),0!==(P&e.Ge)&&(15>a?ca|=1<<a+1:0<c&&0<T&&(N[c-1]|=1)),0!==(P&e.He)&&(0<a?ca|=1<<a-1:c<G-1&&T<m-1&&(N[c+1]|=32768)))}T+=1}aa[c]|=R;0<b&&(X[c]|=U);b<t-1&&(N[c]|=ca)}else T+=16;S+=16;ba+=16}for(c=0;c<m;c+=
1)I[c]&&(c<D&&(D=c),c>q&&(q=c));D=(D<<4)+this.hg(I[D]);q=(q<<4)+this.qg(I[q]);0>B&&(B=h-1);p>=h&&(p=0);D>=z&&(D=0);0>q&&(q=z-1);B>h-1&&(B=h-1);0>p&&(p=0);0>D&&(D=0);q>z-1&&(q=z-1);n.L=B;n.K=p;n.N=D;n.O=q;for(b=0;b<k.length;b+=1)k[b]=0;this.Ba=C;this.xb=x;this.ic=F};a.prototype.Qi=function(a,b){var c,g=this.Xa,d,f,e,h,z=this.i,m=this.f>>4;var n=0;var p=n+16;for(d=0;d<z;d+=1){var B=0;var D=g[d];for(f=0;f<m;f+=1)if(h=D[f])for(e=15;0<=e;--e){if(0!==(h&1<<e))for(c=n;c<p;c+=2){var q=a[c];var t=a[c+1];var G=
b[c];var k=B<<3;var u=0;var C=q[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);C=t[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);G[k+k]=u;k+=1;u=0;C=q[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);C=t[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);G[k+k]=u;k+=1;u=0;C=q[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);C=t[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);G[k+k]=u;k+=1;u=0;C=q[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);C=t[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);G[k+k]=u;k+=1;u=0;C=q[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=
C);C=t[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);G[k+k]=u;k+=1;u=0;C=q[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);C=t[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);G[k+k]=u;k+=1;u=0;C=q[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);C=t[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);G[k+k]=u;k+=1;u=0;C=q[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);C=t[k];(C&255)>u&&(u=C&255);C>>=8;C>u&&(u=C);G[k+k]=u}B+=1}else B+=16;n+=16;p+=16}};a.prototype.Ri=function(a,b){var c,g=this.Xa,d,f,e,h,z=this.i,m=this.f>>4;var n=0;var p=n+
16;for(d=0;d<z;d+=1){var B=0;var D=g[d];for(f=0;f<m;f+=1)if(h=D[f])for(e=15;0<=e;--e){if(0!==(h&1<<e))for(c=n;c<p;c+=4){var q=b[c];var t=a[c];var G=a[c+2];var k=B<<4;var u=t[k];var C=t[k+2];C>u&&(u=C);C=G[k];C>u&&(u=C);C=G[k+2];C>u&&(u=C);q[k]=u;k+=4;u=t[k];C=t[k+2];C>u&&(u=C);C=G[k];C>u&&(u=C);C=G[k+2];C>u&&(u=C);q[k]=u;k+=4;u=t[k];C=t[k+2];C>u&&(u=C);C=G[k];C>u&&(u=C);C=G[k+2];C>u&&(u=C);q[k]=u;k+=4;u=t[k];C=t[k+2];C>u&&(u=C);C=G[k];C>u&&(u=C);C=G[k+2];C>u&&(u=C);q[k]=u}B+=1}else B+=16;n+=16;p+=
16}};a.prototype.Lj=function(a,b){var c,g=this.Xa,d,f,e,h,z=this.i,m=this.f>>4;var n=0;var p=n+16;for(d=0;d<z;d+=1){var B=0;var D=g[d];for(f=0;f<m;f+=1)if(h=D[f])for(e=15;0<=e;--e){if(0!==(h&1<<e))for(c=n;c<p;c+=8){var q=b[c];var t=a[c];var G=a[c+4];var k=B<<4;var u=t[k];var C=t[k+4];C>u&&(u=C);C=G[k];C>u&&(u=C);C=G[k+4];C>u&&(u=C);q[k]=u;k+=8;u=t[k];C=t[k+4];C>u&&(u=C);C=G[k];C>u&&(u=C);C=G[k+4];C>u&&(u=C);q[k]=u}B+=1}else B+=16;n+=16;p+=16}};a.prototype.Pi=function(a,b){var c=this.Xa,g,d,f,e,h,
z=this.i,m=this.f>>4;for(g=e=0;g<z;g+=1){var n=0;var p=c[g];for(d=0;d<m;d+=1)if(h=p[d])for(f=15;0<=f;--f){if(0!==(h&1<<f)){var B=b[e];var D=a[e];var q=a[e+8];var t=n<<4;var G=D[t];D=D[t+8];D>G&&(G=D);D=q[t];D>G&&(G=D);D=q[t+8];D>G&&(G=D);B[t]=G}n+=1}else n+=16;e+=16}};a.prototype.Qk=function(){1>this.ma&&(this.Qi(this.Ni,this.G),.5>this.ma&&(this.Ri(this.G,this.Aa),.25>this.ma&&(this.Lj(this.Aa,this.Ca),.125>this.ma&&this.Pi(this.Ca,this.Fa))));this.hh&&1>this.ma&&(this.Qi(this.ig,this.da),.5>this.ma&&
(this.Ri(this.da,this.sf),.25>this.ma&&(this.Lj(this.sf,this.tf),.125>this.ma&&this.Pi(this.tf,this.ug))))};a.prototype.Fn=function(){var a=this.sa,b=this.Xa,c=this.eb,d,e,I,r,h,z=0,m=0,n=0;var p=this.i;var B=this.f>>4;var D=0;var q=p,t=this.g+this.ea-1,G=this.ea,k=0<this.ea?1:0;this.Da=0;if(0!==(this.s&1)){var u=this.W;var C=this.Ja}else u=this.pb,C=this.qa;0>D&&(D=0);q>p&&(q=p);p=D<<4;var x=p+16;for(e=D;e<q;e+=1){var F=0;var A=C[e];var y=c[e];var E=b[e];for(I=0;I<B;I+=1){var v=A[I]|y[I];var w=0;
if(v)for(r=15;0<=r;--r){if(0!==(v&1<<r)){var M=0;for(D=p;D<x;D+=1){var K=u[D];var S=a[D];var ba=F<<4;var Y=K[F];for(h=32768;0<h;h>>=1){var T=d=S[ba];(d<=G||d===t)&&0!==(Y&h)?d=t:(Y&=~h,d>k&&--d);S[ba]=d;d>k&&(M=1,d===t&&(z+=1,T!==t&&(m+=1)));T===t&&d!==t&&(n+=1);ba+=1}K[F]=Y;this.Da|=Y}M&&(w|=1<<r)}F+=1}else F+=16;y[I]=w;E[I]|=w}p+=16;x+=16}this.Ba=z;this.xb=m;this.ic=n};a.prototype.Jk=function(){var a=this.sa,b=this.Xa,c,d,e,I,r;var h=this.i;var z=this.f>>4;var m=0;var n=h,p=0<this.ea?1:0;0>m&&(m=
0);n>h&&(n=h);h=m<<4;var B=h+16;for(c=m;c<n;c+=1){var D=0;var q=b[c];for(d=0;d<z;d+=1)if(r=q[d])for(e=15;0<=e;--e){if(0!==(r&1<<e))for(m=h;m<B;m+=1){var t=a[m];var G=D<<4;for(I=15;0<=I;--I){var k=t[G];k>p&&(--k,t[G]=k);G+=1}}D+=1}else D+=16;h+=16;B+=16}};a.prototype.Wj=function(){-1===this.g?this.Ok():this.Da||this.Jk()};a.prototype.Ok=function(){var a=this.sa,b=this.Xa,c=this.eb,d=this.$m,e=this.oc+1,I,r,h;var z=this.i;var m=this.f>>4;var n=0;var p=z;this.Da=0;if(0!==(this.s&1)){var B=this.W;var D=
this.Ja}else B=this.pb,D=this.qa;0>n&&(n=0);p>z&&(p=z);z=n<<4;var q=z+16;for(I=n;I<p;I+=1){var t=0;var G=D[I];var k=c[I];var u=b[I];for(r=0;r<m;r+=1){var C=G[r]|k[r];var x=0;if(C)for(h=15;0<=h;--h){if(0!==(C&1<<h)){var F=0;for(n=z;n<q;){var A=B[n];var y=a[n];var E=t<<4;A=A[t];this.Da|=A;F|=A;if(0!==(A&32768))var v=d[y[E]+e];else v=d[y[E]],F|=1<v;y[E]=v;E+=1;0!==(A&16384)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&8192)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&4096)?v=d[y[E]+e]:(v=
d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&2048)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&1024)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&512)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&256)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&128)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&64)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&32)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&16)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&8)?v=d[y[E]+e]:(v=d[y[E]],F|=
1<v);y[E]=v;E+=1;0!==(A&4)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&2)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&1)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;n+=1;A=B[n];y=a[n];E=t<<4;A=A[t];this.Da|=A;F|=A;0!==(A&32768)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&16384)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&8192)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&4096)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&2048)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;
0!==(A&1024)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&512)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&256)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&128)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&64)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&32)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&16)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&8)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&4)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&2)?v=
d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&1)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;n+=1;A=B[n];y=a[n];E=t<<4;A=A[t];this.Da|=A;F|=A;0!==(A&32768)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&16384)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&8192)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&4096)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&2048)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&1024)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&512)?v=d[y[E]+e]:(v=
d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&256)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&128)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&64)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&32)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&16)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&8)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&4)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&2)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&1)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=
v;n+=1;A=B[n];y=a[n];E=t<<4;A=A[t];this.Da|=A;F|=A;0!==(A&32768)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&16384)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&8192)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&4096)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&2048)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&1024)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&512)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&256)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==
(A&128)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&64)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&32)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&16)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&8)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&4)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&2)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;E+=1;0!==(A&1)?v=d[y[E]+e]:(v=d[y[E]],F|=1<v);y[E]=v;n+=1}F&&(x|=1<<h)}t+=1}else t+=16;k[r]=x;u[r]|=x}z+=16;q+=16}};a.prototype.Xv=function(a,
b,c,d,e,I,r,h,z,m){var g=this.Jd;d=d*a+g.L;c=c*a+g.O;b=b*a+g.K;e=e*a+g.N;g=c-e+1;a=d-b+1;this.S&&(g=c-b/2-(e-d/2)+1);0===g&&(g=1);0===a&&(a=1);I/=g;r/=a;m=Math.round(1E3*(I>r?r:I)/m)/1E3;m<h?m=h:m>z&&(m=z);return m};a.prototype.En=function(a){var b=a;1>a&&(b=1/a);var c=Math.round(b);(c<b?c/b:b/c)>=ViewConstants.ky&&(a=1>a?1/c:c);return a};a.prototype.Sf=function(a,b,c,d,e,I,r,h,z,m,n,p,B,D,q,t,G){var g=this.C,f=this.Jd,l=this.Hd,L=this.Rj;n?(L.L=D*a+f.L,L.O=B*a+f.O,L.K=p*a+f.K,L.N=q*a+f.N,m&&(l.N<
L.N&&(L.N=l.N),l.K<L.K&&(L.K=l.K),l.O>L.O&&(L.O=l.O),l.L>L.L&&(L.L=l.L)),g=L):m?g=l:this.ta&&(g=this.ca);a=g.N;m=g.O;n=g.L;g=g.K;this.rc&&!t&&(f.N<a&&(a=f.N),f.O>m&&(m=f.O),f.L>n&&(n=f.L),f.K<g&&(g=f.K));-1!==this.ka&&(t=this.la,f=this.na,this.width/2-t/2<a&&(a=this.width/2-t/2),this.width/2+t/2>m&&(m=this.width/2+t/2),this.height/2-f/2<g&&(g=this.height/2-f/2),this.height/2+f/2>n&&(n=this.height/2+f/2));z?(t=r,f=h,a=this.width/2-t/2,m=this.width/2+t/2,n=this.height/2+f/2,g=this.height/2-f/2):(t=
m-a+1,f=n-g+1);this.S&&(a-=n/2,t=m-g/2-a+1);0===t&&(t=1);0===f&&(f=1);b/=t;c/=f;I=Math.round(1E3*(b>c?c:b)/I)/1E3;I/=this.Mb;I<d?I=d:I>e&&(I=e);d=g-this.sb+f/2;e=a-this.zb+t/2;G||(I=this.En(I));return[I,e,d]};a.prototype.Sk=function(a,b,c,d){var g=this.Sc,e=this.A,f=this.v;if(a>b){var h=b;b=a;a=h}0>a?a=0:a>=e&&(a=e-1);0>b?b=0:b>=e&&(b=e-1);a=c*e+a;b=c*e+b;e=b-15;if(0<=c&&c<f){for(;a<=e;)g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=
d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1;for(;a<=b;)g[a]=d,a+=1}};a.prototype.Tk=function(a,b,c,d){var g=this.Sc,e=this.A,f=this.v;if(b>c){var h=c;c=b;b=h}0>b?b=0:b>=f&&(b=f-1);0>c?c=0:c>=f&&(c=f-1);b=b*e+a;c=c*e+a;f=c-15*e;if(0<=a&&a<e){for(;b<=f;)g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e;for(;b<=c;)g[b]=d,b+=e}};
a.prototype.Rk=function(a,b,c,d,e){var g=Math.abs(c-a),f=Math.abs(d-b),h=a<c?1:-1,l=b<d?1:-1,m=g-f,n=this.A,p=this.v,B=this.Sc;if(!(0>a&&0>c||a>=n&&c>=n||0>b&&0>d||b>=p&&d>=p))if(0<=a&&a<n&&0<=b&&b<p&&0<=c&&c<n&&0<=d&&d<p)for(B[b*n+a]=e;a!==c||b!==d;){var D=m+m;D>-f&&(m-=f,a+=h);D<g&&(m+=g,b+=l);B[b*n+a]=e}else for(0<=a&&a<n&&0<=b&&b<p&&(B[b*n+a]=e);a!==c||b!==d;)D=m+m,D>-f&&(m-=f,a+=h),D<g&&(m+=g,b+=l),0<=a&&a<n&&0<=b&&b<p&&(B[b*n+a]=e)};a.prototype.Gh=function(a,b,c,d,e){var g=this.A/2,f=this.v/
2;if(0!==this.Ma){a-=g;b-=f;var h=Math.sqrt(a*a+b*b);var l=180/Math.PI*Math.atan2(b,a);l+=this.Ma;a=Math.round(h*Math.cos(Math.PI/180*l)+g);b=Math.round(h*Math.sin(Math.PI/180*l)+f);c-=g;d-=f;h=Math.sqrt(c*c+d*d);l=180/Math.PI*Math.atan2(d,c);l+=this.Ma;c=Math.round(h*Math.cos(Math.PI/180*l)+g);d=Math.round(h*Math.sin(Math.PI/180*l)+f)}a===c?this.Tk(a,b,d,e):b===d?this.Sk(a,c,b,e):this.Rk(a,b,c,d,e)};a.prototype.Bd=function(){var a,b=this.A,c=this.v,d=this.bg,e=this.ag,I=this.ma,r=d,h,z,m=0<this.Ve&&
this.kh,n=((this.height/2-(this.$+this.sb))*I+c/2)%I,p=((this.width/2-(this.ba+this.zb))*I+b/2)%I;if(this.jb)var B=m?2:1;else B=1,m=!1,r=d=this.Hf[0];for(h=d;B;){var D=-(b/2/I)-(this.width/2-this.ba-this.zb)|0;var q=22*-I;var t=b+I+22*I;var G=n-22*I;var k=c+22*I;var u=-b/1.5;var C=b+b/1.5;var x=-c/1.5;for(z=c+c/1.5;q<=t;q+=I)if(m&&(0===D%this.Ve?r=e:r=d),D+=1,r===h)if(this.S){var F=-(c/2/I)-(this.height/2-this.$-this.sb)|0;for(a=G;a<k;a+=I)0===(F&1)?this.Gh(Math.round(q+p),Math.round(a),Math.round(q+
p),Math.round(a+I-1),r):this.Gh(Math.round(q+p+I/2),Math.round(a),Math.round(q+p+I/2),Math.round(a+I-1),r),F+=1}else this.Gh(Math.round(q+p),x,Math.round(q+p),z-1,r);D=-(c/2/I)-(this.height/2-this.$-this.sb)|0;for(a=G;a<k;a+=I)m&&(0===D%this.Ve?r=e:r=d),D+=1,r===h&&this.Gh(u,Math.round(a),C-1,Math.round(a),r);--B;h=e}};a.prototype.dh=function(){return 4<=this.ma};a.prototype.Dt=function(a){var b=this.la,c=this.na,d=this.sa,e=Math.round((this.width-b)/2-1),f=e+b+1,r=Math.round((this.height-c)/2-1),
h=r+c+1,z=d[r],m=d[h];if(0===b)for(b=0;b<this.width;b+=1)z[b]=a,m[b]=a;else if(0===c)for(b=0;b<this.height;b+=1)d[b][e]=a,d[b][f]=a;else{for(b=e;b<=f;b+=1)z[b]=a,m[b]=a;for(b=r+1;b<=h-1;b+=1)d[b][e]=a,d[b][f]=a}};a.prototype.nz=function(){var a=this.Hf[0],b=this.Sc,c;this.Vi&&(this.st(),--this.Vi,this.Vi||(this.ad.set(this.vc),this.Ob.set(this.Pa),this.gd.set(this.Oc),this.Me.set(this.Sd),this.ed.set(this.Fc),this.uf.set(this.ie)));this.ma=this.zoom*this.Mb;this.ma<ViewConstants.Va?this.ma=ViewConstants.Va:
this.ma>ViewConstants.Fb&&(this.ma=ViewConstants.Fb);this.yc=this.ba+this.zb;this.zc=this.$+this.sb;this.m=this.sc/2+1;this.Ma=this.S||this.fa?0:this.angle;-1!==this.ka&&this.Dt(this.wc);if(4<=this.ma&&(this.Ie&&this.S||this.fa)){var d=0;for(c=b.length;d<c;)b[d]=a,d+=1;this.Rc(1)}else this.Qk(),.125>this.ma?this.hh?this.og(this.ug,this.Fa,15):this.pg(this.Fa,this.Fa,15):.25>this.ma?this.hh?this.og(this.tf,this.Ca,7):this.pg(this.Ca,this.Ca,7):.5>this.ma?this.hh?this.og(this.sf,this.Aa,3):this.pg(this.Aa,
this.Aa,3):1>this.ma?this.hh?this.og(this.da,this.G,1):this.pg(this.G,this.G,1):this.hh?this.og(this.jc,this.sa,0):this.pg(this.sa,this.sa,0)};a.prototype.Ks=function(a,b){var c=this.A>>3,d=this.Hf,g=this.Sc,e,f,h=1,z=1,m=0,n=this.ib&~b,p=this.kb&~b,B=~b;b=~b;var D=a,q=this.ma;1<this.m&&(h=this.J);a=Math.sin(this.Ma/180*Math.PI)/this.ma;var t=Math.cos(this.Ma/180*Math.PI)/this.ma;var G=-(this.A/2*-a+this.v/2*t)+this.zc;var k=-(this.A/2*t+this.v/2*a)+this.yc;1<this.J&&1<this.m&&(m=.4/(this.J-1),z=
.6);this.Rc(z);var u=this.width<this.U?d[0]|0:this.Vj|0;var C=0;var x=G;for(e=0;e<this.v;e+=1){var F=k;for(f=0;f<c;f+=1){if((F&B)===(F&n)&&(x&b)===(x&p)){var A=D[x&p][F&n]|0;g[C]=d[A]}else g[C]=u;C+=1;F+=t;x-=a;(F&B)===(F&n)&&(x&b)===(x&p)?(A=D[x&p][F&n]|0,g[C]=d[A]):g[C]=u;C+=1;F+=t;x-=a;(F&B)===(F&n)&&(x&b)===(x&p)?(A=D[x&p][F&n]|0,g[C]=d[A]):g[C]=u;C+=1;F+=t;x-=a;(F&B)===(F&n)&&(x&b)===(x&p)?(A=D[x&p][F&n]|0,g[C]=d[A]):g[C]=u;C+=1;F+=t;x-=a;(F&B)===(F&n)&&(x&b)===(x&p)?(A=D[x&p][F&n]|0,g[C]=d[A]):
g[C]=u;C+=1;F+=t;x-=a;(F&B)===(F&n)&&(x&b)===(x&p)?(A=D[x&p][F&n]|0,g[C]=d[A]):g[C]=u;C+=1;F+=t;x-=a;(F&B)===(F&n)&&(x&b)===(x&p)?(A=D[x&p][F&n]|0,g[C]=d[A]):g[C]=u;C+=1;F+=t;x-=a;(F&B)===(F&n)&&(x&b)===(x&p)?(A=D[x&p][F&n]|0,g[C]=d[A]):g[C]=u;C+=1;F+=t;x-=a}k+=a;x=G+=t}(this.jb||this.Ac)&&this.dh()&&this.Bd();for(u=1;u<h;u+=1){var y=2<this.g?this.g/this.J*u|0:(this.oc+1)/this.J*u|0;z+=m;this.Rc(z);a/=this.m;t/=this.m;q*=this.m;.125>q?(D=this.Fa,b=15):.25>q?(D=this.Ca,b=7):.5>q?(D=this.Aa,b=3):1>
q?(D=this.G,b=1):(D=this.sa,b=0);n=this.ib&~b;p=this.kb&~b;B=~b;b=~b;G=-(this.A/2*-a+this.v/2*t)+this.zc;k=-(this.A/2*t+this.v/2*a)+this.yc;C=0;x=G;for(e=0;e<this.v;e+=1){F=k;for(f=0;f<c;f+=1)(F&B)===(F&n)&&(x&b)===(x&p)&&(A=D[x&p][F&n]|0,A>=y&&(g[C]=d[A])),C+=1,F+=t,x-=a,(F&B)===(F&n)&&(x&b)===(x&p)&&(A=D[x&p][F&n]|0,A>=y&&(g[C]=d[A])),C+=1,F+=t,x-=a,(F&B)===(F&n)&&(x&b)===(x&p)&&(A=D[x&p][F&n]|0,A>=y&&(g[C]=d[A])),C+=1,F+=t,x-=a,(F&B)===(F&n)&&(x&b)===(x&p)&&(A=D[x&p][F&n]|0,A>=y&&(g[C]=d[A])),
C+=1,F+=t,x-=a,(F&B)===(F&n)&&(x&b)===(x&p)&&(A=D[x&p][F&n]|0,A>=y&&(g[C]=d[A])),C+=1,F+=t,x-=a,(F&B)===(F&n)&&(x&b)===(x&p)&&(A=D[x&p][F&n]|0,A>=y&&(g[C]=d[A])),C+=1,F+=t,x-=a,(F&B)===(F&n)&&(x&b)===(x&p)&&(A=D[x&p][F&n]|0,A>=y&&(g[C]=d[A])),C+=1,F+=t,x-=a,(F&B)===(F&n)&&(x&b)===(x&p)&&(A=D[x&p][F&n]|0,A>=y&&(g[C]=d[A])),C+=1,F+=t,x-=a;k+=a;x=G+=t}}};a.prototype.Ms=function(a,b){var c=this.A>>3,d=this.Hf,g=this.Sc,e,f,h=1,z=1,m=0,n=this.ib&~b,p=this.kb&~b,B=~b;b=~b;var D=a,q=this.ma;1<this.m&&(h=
this.J);a=1/this.ma;var t=-(this.v/2*a)+this.zc;var G=-(this.A/2*a)+this.yc;1<this.J&&1<this.m&&(m=.4/(this.J-1),z=.6);this.Rc(z);var k=this.width<this.U?d[0]|0:this.Vj|0;var u=0;var C=t;for(e=0;e<this.v;e+=1){if((C&b)===(C&p)){var x=D[C&p];var F=G;this.S&&(F+=.5*(C|0));for(f=0;f<c;f+=1){if((F&B)===(F&n)){var A=x[F&n]|0;g[u]=d[A]}else g[u]=k;u+=1;F+=a;(F&B)===(F&n)?(A=x[F&n]|0,g[u]=d[A]):g[u]=k;u+=1;F+=a;(F&B)===(F&n)?(A=x[F&n]|0,g[u]=d[A]):g[u]=k;u+=1;F+=a;(F&B)===(F&n)?(A=x[F&n]|0,g[u]=d[A]):g[u]=
k;u+=1;F+=a;(F&B)===(F&n)?(A=x[F&n]|0,g[u]=d[A]):g[u]=k;u+=1;F+=a;(F&B)===(F&n)?(A=x[F&n]|0,g[u]=d[A]):g[u]=k;u+=1;F+=a;(F&B)===(F&n)?(A=x[F&n]|0,g[u]=d[A]):g[u]=k;u+=1;F+=a;(F&B)===(F&n)?(A=x[F&n]|0,g[u]=d[A]):g[u]=k;u+=1;F+=a}}else for(f=0;f<c;f+=1)g[u]=k,u+=1,g[u]=k,u+=1,g[u]=k,u+=1,g[u]=k,u+=1,g[u]=k,u+=1,g[u]=k,u+=1,g[u]=k,u+=1,g[u]=k,u+=1;C=t+=a}(this.jb||this.Ac)&&this.dh()&&this.Bd();for(k=1;k<h;k+=1){var y=2<this.g?this.g/this.J*k|0:(this.oc+1)/this.J*k|0;z+=m;this.Rc(z);a/=this.m;q*=this.m;
.125>q?(D=this.Fa,b=15):.25>q?(D=this.Ca,b=7):.5>q?(D=this.Aa,b=3):1>q?(D=this.G,b=1):(D=this.sa,b=0);n=this.ib&~b;p=this.kb&~b;B=~b;b=~b;t=-(this.v/2*a)+this.zc;G=-(this.A/2*a)+this.yc;u=0;C=t;for(e=0;e<this.v;e+=1){if((C&b)===(C&p))for(x=D[C&p],F=G,this.S&&(F+=.5*(C|0)),f=0;f<c;f+=1)(F&B)===(F&n)&&(A=x[F&n]|0,A>=y&&(g[u]=d[A])),u+=1,F+=a,(F&B)===(F&n)&&(A=D[C&p][F&n]|0,A>=y&&(g[u]=d[A])),u+=1,F+=a,(F&B)===(F&n)&&(A=D[C&p][F&n]|0,A>=y&&(g[u]=d[A])),u+=1,F+=a,(F&B)===(F&n)&&(A=D[C&p][F&n]|0,A>=y&&
(g[u]=d[A])),u+=1,F+=a,(F&B)===(F&n)&&(A=D[C&p][F&n]|0,A>=y&&(g[u]=d[A])),u+=1,F+=a,(F&B)===(F&n)&&(A=D[C&p][F&n]|0,A>=y&&(g[u]=d[A])),u+=1,F+=a,(F&B)===(F&n)&&(A=D[C&p][F&n]|0,A>=y&&(g[u]=d[A])),u+=1,F+=a,(F&B)===(F&n)&&(A=D[C&p][F&n]|0,A>=y&&(g[u]=d[A])),u+=1,F+=a;else u+=c<<3;C=t+=a}}};a.prototype.Ns=function(a,b){var c=this.A>>3,d=this.Hf,g=this.Sc,e,f,h=1,z=1,m=0,n=this.ib&~b;b=this.kb&~b;var p=a,B=this.ma;1<this.m&&(h=this.J);var D=Math.sin(this.Ma/180*Math.PI)/this.ma;var q=Math.cos(this.Ma/
180*Math.PI)/this.ma;var t=-(this.A/2*-D+this.v/2*q)+this.zc;var G=-(this.A/2*q+this.v/2*D)+this.yc;1<this.J&&1<this.m&&(m=.4/(this.J-1),z=.6);this.Rc(z);var k=0;var u=t;for(e=0;e<this.v;e+=1){var C=G;for(f=0;f<c;f+=1){var x=p[u&b][C&n]|0;g[k]=d[x];k+=1;C+=q;u-=D;x=p[u&b][C&n]|0;g[k]=d[x];k+=1;C+=q;u-=D;x=p[u&b][C&n]|0;g[k]=d[x];k+=1;C+=q;u-=D;x=p[u&b][C&n]|0;g[k]=d[x];k+=1;C+=q;u-=D;x=p[u&b][C&n]|0;g[k]=d[x];k+=1;C+=q;u-=D;x=p[u&b][C&n]|0;g[k]=d[x];k+=1;C+=q;u-=D;x=p[u&b][C&n]|0;g[k]=d[x];k+=1;C+=
q;u-=D;x=p[u&b][C&n]|0;g[k]=d[x];k+=1;C+=q;u-=D}G+=D;u=t+=q}(this.jb||this.Ac)&&this.dh()&&this.Bd();for(a=1;a<h;a+=1){var F=2<this.g?this.g/this.J*a|0:(this.oc+1)/this.J*a|0;z+=m;this.Rc(z);D/=this.m;q/=this.m;B*=this.m;.125>B?(p=this.Fa,b=15):.25>B?(p=this.Ca,b=7):.5>B?(p=this.Aa,b=3):1>B?(p=this.G,b=1):(p=this.sa,b=0);n=this.ib&~b;b=this.kb&~b;t=-(this.A/2*-D+this.v/2*q)+this.zc;G=-(this.A/2*q+this.v/2*D)+this.yc;k=0;u=t;for(e=0;e<this.v;e+=1){C=G;for(f=0;f<c;f+=1)x=p[u&b][C&n]|0,x>=F&&(g[k]=d[x]),
k+=1,C+=q,u-=D,x=p[u&b][C&n]|0,x>=F&&(g[k]=d[x]),k+=1,C+=q,u-=D,x=p[u&b][C&n]|0,x>=F&&(g[k]=d[x]),k+=1,C+=q,u-=D,x=p[u&b][C&n]|0,x>=F&&(g[k]=d[x]),k+=1,C+=q,u-=D,x=p[u&b][C&n]|0,x>=F&&(g[k]=d[x]),k+=1,C+=q,u-=D,x=p[u&b][C&n]|0,x>=F&&(g[k]=d[x]),k+=1,C+=q,u-=D,x=p[u&b][C&n]|0,x>=F&&(g[k]=d[x]),k+=1,C+=q,u-=D,x=p[u&b][C&n]|0,x>=F&&(g[k]=d[x]),k+=1,C+=q,u-=D;G+=D;u=t+=q}}};a.prototype.mp=function(a,b){var c=this.A>>3,d=this.Hf,g=this.Sc,e,f=1,h=1,z=0,m=this.ib&~b;b=this.kb&~b;var n=a,p=this.ma;1<this.m&&
(f=this.J);var B=1/this.ma;var D=-(this.v/2*B)+this.zc;var q=-(this.A/2*B)+this.yc;1<this.J&&1<this.m&&(z=.4/(this.J-1),h=.6);this.Rc(h);var t=0;var G=D;for(e=0;e<this.v;e+=1){var k=n[G&b];var u=q;this.S&&(u+=.5*(G|0));for(G=0;G<c;G+=1){var C=k[u&m]|0;g[t]=d[C];t+=1;u+=B;C=k[u&m]|0;g[t]=d[C];t+=1;u+=B;C=k[u&m]|0;g[t]=d[C];t+=1;u+=B;C=k[u&m]|0;g[t]=d[C];t+=1;u+=B;C=k[u&m]|0;g[t]=d[C];t+=1;u+=B;C=k[u&m]|0;g[t]=d[C];t+=1;u+=B;C=k[u&m]|0;g[t]=d[C];t+=1;u+=B;C=k[u&m]|0;g[t]=d[C];t+=1;u+=B}G=D+=B}(this.jb||
this.Ac)&&this.dh()&&this.Bd();for(a=1;a<f;a+=1){var x=2<this.g?this.g/this.J*a|0:(this.oc+1)/this.J*a|0;h+=z;this.Rc(h);B/=this.m;p*=this.m;.125>p?(n=this.Fa,b=15):.25>p?(n=this.Ca,b=7):.5>p?(n=this.Aa,b=3):1>p?(n=this.G,b=1):(n=this.sa,b=0);m=this.ib&~b;b=this.kb&~b;D=-(this.v/2*B)+this.zc;q=-(this.A/2*B)+this.yc;t=0;G=D;for(e=0;e<this.v;e+=1){k=n[G&b];u=q;this.S&&(u+=.5*(G|0));for(G=0;G<c;G+=1)C=k[u&m]|0,C>=x&&(g[t]=d[C]),t+=1,u+=B,C=k[u&m]|0,C>=x&&(g[t]=d[C]),t+=1,u+=B,C=k[u&m]|0,C>=x&&(g[t]=
d[C]),t+=1,u+=B,C=k[u&m]|0,C>=x&&(g[t]=d[C]),t+=1,u+=B,C=k[u&m]|0,C>=x&&(g[t]=d[C]),t+=1,u+=B,C=k[u&m]|0,C>=x&&(g[t]=d[C]),t+=1,u+=B,C=k[u&m]|0,C>=x&&(g[t]=d[C]),t+=1,u+=B,C=k[u&m]|0,C>=x&&(g[t]=d[C]),t+=1,u+=B;G=D+=B}}};a.prototype.pg=function(a,b,c){var d=Math.sin(this.Ma/180*Math.PI)/this.ma,g=Math.cos(this.Ma/180*Math.PI)/this.ma,e=this.A,f=this.v,h=-(this.A/2*-d+this.v/2*g)+this.zc,l=-(this.A/2*g+this.v/2*d)+this.yc;b=h+e*-d;var m=l+e*g,n=h+f*g;f=l+f*d;d=n+e*-d;g=f+e*g;e=h;var p=l;m<p&&(p=m);
f<p&&(p=f);g<p&&(p=f);m>l&&(l=m);f>l&&(l=f);g>l&&(l=g);b<e&&(e=b);n<e&&(e=n);d<e&&(e=d);b>h&&(h=b);n>h&&(h=n);d>h&&(h=d);0>(p|0)||(l|0)>=this.width||0>(e|0)||(h|0)>=this.height?0===this.Ma?this.Ms(a,c):this.Ks(a,c):0===this.Ma?this.mp(a,c):this.Ns(a,c)};a.prototype.$r=function(a,b,c){var d=this.A>>3,e=this.Hf,g=this.Sc,f,h;var l=ViewConstants.hb[3]+128;var m=ViewConstants.hb[4]+128,n=ViewConstants.hb[5]+128,p=ViewConstants.hb[6]+128,B=1,D=1,q=0,t=this.cb,G=this.ib&~c,k=this.kb&~c,u=~c;c=~c;var C=
b,x=this.ma;1<this.m&&(B=this.J);b=Math.sin(this.Ma/180*Math.PI)/this.ma;var F=Math.cos(this.Ma/180*Math.PI)/this.ma;var A=-(this.A/2*-b+this.v/2*F)+this.zc;var y=-(this.A/2*F+this.v/2*b)+this.yc;1<this.J&&1<this.m&&(q=.4/(this.J-1),D=.6);this.Rc(D);var E=this.width<this.U?e[0]|0:this.Vj|0;var v=0;var w=A;for(f=0;f<this.v;f+=1){var M=y;for(h=0;h<d;h+=1){if((M&u)===(M&G)&&(w&c)===(w&k)){var K=C[w&k][M&G];var S=a[w&k][M&G];S===m||S===p?(K>=t&&(S=l),K=e[S]|0):S===l||S===n?(K<t&&(S=m),K=e[S]|0):K=e[K]|
0;g[v]=K}else g[v]=E;v+=1;M+=F;w-=b;(M&u)===(M&G)&&(w&c)===(w&k)?(K=C[w&k][M&G],S=a[w&k][M&G],S===m||S===p?(K>=t&&(S=l),K=e[S]|0):S===l||S===n?(K<t&&(S=m),K=e[S]|0):K=e[K]|0,g[v]=K):g[v]=E;v+=1;M+=F;w-=b;(M&u)===(M&G)&&(w&c)===(w&k)?(K=C[w&k][M&G],S=a[w&k][M&G],S===m||S===p?(K>=t&&(S=l),K=e[S]|0):S===l||S===n?(K<t&&(S=m),K=e[S]|0):K=e[K]|0,g[v]=K):g[v]=E;v+=1;M+=F;w-=b;(M&u)===(M&G)&&(w&c)===(w&k)?(K=C[w&k][M&G],S=a[w&k][M&G],S===m||S===p?(K>=t&&(S=l),K=e[S]|0):S===l||S===n?(K<t&&(S=m),K=e[S]|0):
K=e[K]|0,g[v]=K):g[v]=E;v+=1;M+=F;w-=b;(M&u)===(M&G)&&(w&c)===(w&k)?(K=C[w&k][M&G],S=a[w&k][M&G],S===m||S===p?(K>=t&&(S=l),K=e[S]|0):S===l||S===n?(K<t&&(S=m),K=e[S]|0):K=e[K]|0,g[v]=K):g[v]=E;v+=1;M+=F;w-=b;(M&u)===(M&G)&&(w&c)===(w&k)?(K=C[w&k][M&G],S=a[w&k][M&G],S===m||S===p?(K>=t&&(S=l),K=e[S]|0):S===l||S===n?(K<t&&(S=m),K=e[S]|0):K=e[K]|0,g[v]=K):g[v]=E;v+=1;M+=F;w-=b;(M&u)===(M&G)&&(w&c)===(w&k)?(K=C[w&k][M&G],S=a[w&k][M&G],S===m||S===p?(K>=t&&(S=l),K=e[S]|0):S===l||S===n?(K<t&&(S=m),K=e[S]|
0):K=e[K]|0,g[v]=K):g[v]=E;v+=1;M+=F;w-=b;(M&u)===(M&G)&&(w&c)===(w&k)?(K=C[w&k][M&G],S=a[w&k][M&G],S===m||S===p?(K>=t&&(S=l),K=e[S]|0):S===l||S===n?(K<t&&(S=m),K=e[S]|0):K=e[K]|0,g[v]=K):g[v]=E;v+=1;M+=F;w-=b}y+=b;w=A+=F}(this.jb||this.Ac)&&this.dh()&&this.Bd();for(a=1;a<B;a+=1)for(l=2<this.g?this.g/this.J*a|0:(this.oc+1)/this.J*a|0,D+=q,this.Rc(D),b/=this.m,F/=this.m,x*=this.m,.125>x?(C=this.Fa,c=15):.25>x?(C=this.Ca,c=7):.5>x?(C=this.Aa,c=3):1>x?(C=this.G,c=1):(C=this.sa,c=0),G=this.ib&~c,k=this.kb&
~c,u=~c,c=~c,A=-(this.A/2*-b+this.v/2*F)+this.zc,y=-(this.A/2*F+this.v/2*b)+this.yc,v=0,w=A,f=0;f<this.v;f+=1){M=y;for(h=0;h<d;h+=1)(M&u)===(M&G)&&(w&c)===(w&k)&&(K=C[w&k][M&G]|0,K>=l&&(g[v]=e[K])),v+=1,M+=F,w-=b,(M&u)===(M&G)&&(w&c)===(w&k)&&(K=C[w&k][M&G]|0,K>=l&&(g[v]=e[K])),v+=1,M+=F,w-=b,(M&u)===(M&G)&&(w&c)===(w&k)&&(K=C[w&k][M&G]|0,K>=l&&(g[v]=e[K])),v+=1,M+=F,w-=b,(M&u)===(M&G)&&(w&c)===(w&k)&&(K=C[w&k][M&G]|0,K>=l&&(g[v]=e[K])),v+=1,M+=F,w-=b,(M&u)===(M&G)&&(w&c)===(w&k)&&(K=C[w&k][M&G]|
0,K>=l&&(g[v]=e[K])),v+=1,M+=F,w-=b,(M&u)===(M&G)&&(w&c)===(w&k)&&(K=C[w&k][M&G]|0,K>=l&&(g[v]=e[K])),v+=1,M+=F,w-=b,(M&u)===(M&G)&&(w&c)===(w&k)&&(K=C[w&k][M&G]|0,K>=l&&(g[v]=e[K])),v+=1,M+=F,w-=b,(M&u)===(M&G)&&(w&c)===(w&k)&&(K=C[w&k][M&G]|0,K>=l&&(g[v]=e[K])),v+=1,M+=F,w-=b;y+=b;w=A+=F}};a.prototype.ws=function(a,b,c){var d=this.A>>3,e=this.Hf,g=this.Sc,f,h;var l=ViewConstants.hb[3]+128;var m=ViewConstants.hb[4]+128,n=ViewConstants.hb[5]+128,p=ViewConstants.hb[6]+128,B=1,D=1,q=0,t=this.cb,G=this.ib&
~c;c=this.kb&~c;var k=b,u=this.ma;1<this.m&&(B=this.J);b=Math.sin(this.Ma/180*Math.PI)/this.ma;var C=Math.cos(this.Ma/180*Math.PI)/this.ma;var x=-(this.A/2*-b+this.v/2*C)+this.zc;var F=-(this.A/2*C+this.v/2*b)+this.yc;1<this.J&&1<this.m&&(q=.4/(this.J-1),D=.6);this.Rc(D);var A=0;var y=x;for(f=0;f<this.v;f+=1){var E=F;for(h=0;h<d;h+=1){var v=k[y&c][E&G];var w=a[y&c][E&G];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[A]=v;A+=1;E+=C;y-=b;v=k[y&c][E&G];w=a[y&c][E&G];
w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[A]=v;A+=1;E+=C;y-=b;v=k[y&c][E&G];w=a[y&c][E&G];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[A]=v;A+=1;E+=C;y-=b;v=k[y&c][E&G];w=a[y&c][E&G];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[A]=v;A+=1;E+=C;y-=b;v=k[y&c][E&G];w=a[y&c][E&G];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[A]=v;A+=1;E+=C;y-=b;v=k[y&c][E&
G];w=a[y&c][E&G];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[A]=v;A+=1;E+=C;y-=b;v=k[y&c][E&G];w=a[y&c][E&G];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[A]=v;A+=1;E+=C;y-=b;v=k[y&c][E&G];w=a[y&c][E&G];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[A]=v;A+=1;E+=C;y-=b}F+=b;y=x+=C}(this.jb||this.Ac)&&this.dh()&&this.Bd();for(a=1;a<B;a+=1)for(l=2<this.g?this.g/this.J*a|0:(this.oc+1)/this.J*
a|0,D+=q,this.Rc(D),b/=this.m,C/=this.m,u*=this.m,.125>u?(k=this.Fa,c=15):.25>u?(k=this.Ca,c=7):.5>u?(k=this.Aa,c=3):1>u?(k=this.G,c=1):(k=this.sa,c=0),G=this.ib&~c,c=this.kb&~c,x=-(this.A/2*-b+this.v/2*C)+this.zc,F=-(this.A/2*C+this.v/2*b)+this.yc,A=0,y=x,f=0;f<this.v;f+=1){E=F;for(h=0;h<d;h+=1)v=k[y&c][E&G]|0,v>=l&&(g[A]=e[v]),A+=1,E+=C,y-=b,v=k[y&c][E&G]|0,v>=l&&(g[A]=e[v]),A+=1,E+=C,y-=b,v=k[y&c][E&G]|0,v>=l&&(g[A]=e[v]),A+=1,E+=C,y-=b,v=k[y&c][E&G]|0,v>=l&&(g[A]=e[v]),A+=1,E+=C,y-=b,v=k[y&c][E&
G]|0,v>=l&&(g[A]=e[v]),A+=1,E+=C,y-=b,v=k[y&c][E&G]|0,v>=l&&(g[A]=e[v]),A+=1,E+=C,y-=b,v=k[y&c][E&G]|0,v>=l&&(g[A]=e[v]),A+=1,E+=C,y-=b,v=k[y&c][E&G]|0,v>=l&&(g[A]=e[v]),A+=1,E+=C,y-=b;F+=b;y=x+=C}};a.prototype.Hs=function(a,b,c){var d=this.A>>3,e=this.Hf,g=this.Sc,f;var h=ViewConstants.hb[3]+128;var l=ViewConstants.hb[4]+128,m=ViewConstants.hb[5]+128,n=ViewConstants.hb[6]+128,p=1,B=1,D=0,q=this.cb,t=this.ib&~c;c=this.kb&~c;var G=b,k=this.ma;1<this.m&&(p=this.J);b=1/this.ma;var u=-(this.v/2*b)+this.zc;
var C=-(this.A/2*b)+this.yc;1<this.J&&1<this.m&&(D=.4/(this.J-1),B=.6);this.Rc(B);var x=0;var F=u;for(f=0;f<this.v;f+=1){var A=G[F&c];var y=a[F&c];var E=C;this.S&&(E+=.5*(F|0));for(F=0;F<d;F+=1){var v=A[E&t];var w=y[E&t];w===l||w===n?(v>=q&&(w=h),v=e[w]|0):w===h||w===m?(v<q&&(w=l),v=e[w]|0):v=e[v]|0;g[x]=v;x+=1;E+=b;v=A[E&t];w=y[E&t];w===l||w===n?(v>=q&&(w=h),v=e[w]|0):w===h||w===m?(v<q&&(w=l),v=e[w]|0):v=e[v]|0;g[x]=v;x+=1;E+=b;v=A[E&t];w=y[E&t];w===l||w===n?(v>=q&&(w=h),v=e[w]|0):w===h||w===m?(v<
q&&(w=l),v=e[w]|0):v=e[v]|0;g[x]=v;x+=1;E+=b;v=A[E&t];w=y[E&t];w===l||w===n?(v>=q&&(w=h),v=e[w]|0):w===h||w===m?(v<q&&(w=l),v=e[w]|0):v=e[v]|0;g[x]=v;x+=1;E+=b;v=A[E&t];w=y[E&t];w===l||w===n?(v>=q&&(w=h),v=e[w]|0):w===h||w===m?(v<q&&(w=l),v=e[w]|0):v=e[v]|0;g[x]=v;x+=1;E+=b;v=A[E&t];w=y[E&t];w===l||w===n?(v>=q&&(w=h),v=e[w]|0):w===h||w===m?(v<q&&(w=l),v=e[w]|0):v=e[v]|0;g[x]=v;x+=1;E+=b;v=A[E&t];w=y[E&t];w===l||w===n?(v>=q&&(w=h),v=e[w]|0):w===h||w===m?(v<q&&(w=l),v=e[w]|0):v=e[v]|0;g[x]=v;x+=1;E+=
b;v=A[E&t];w=y[E&t];w===l||w===n?(v>=q&&(w=h),v=e[w]|0):w===h||w===m?(v<q&&(w=l),v=e[w]|0):v=e[v]|0;g[x]=v;x+=1;E+=b}F=u+=b}(this.jb||this.Ac)&&this.dh()&&this.Bd();for(a=1;a<p;a+=1)for(h=2<this.g?this.g/this.J*a|0:(this.oc+1)/this.J*a|0,B+=D,this.Rc(B),b/=this.m,k*=this.m,.125>k?(G=this.Fa,c=15):.25>k?(G=this.Ca,c=7):.5>k?(G=this.Aa,c=3):1>k?(G=this.G,c=1):(G=this.sa,c=0),t=this.ib&~c,c=this.kb&~c,u=-(this.v/2*b)+this.zc,C=-(this.A/2*b)+this.yc,x=0,F=u,f=0;f<this.v;f+=1){A=G[F&c];E=C;this.S&&(E+=
.5*(F|0));for(F=0;F<d;F+=1)v=A[E&t]|0,v>=h&&(g[x]=e[v]),x+=1,E+=b,v=A[E&t]|0,v>=h&&(g[x]=e[v]),x+=1,E+=b,v=A[E&t]|0,v>=h&&(g[x]=e[v]),x+=1,E+=b,v=A[E&t]|0,v>=h&&(g[x]=e[v]),x+=1,E+=b,v=A[E&t]|0,v>=h&&(g[x]=e[v]),x+=1,E+=b,v=A[E&t]|0,v>=h&&(g[x]=e[v]),x+=1,E+=b,v=A[E&t]|0,v>=h&&(g[x]=e[v]),x+=1,E+=b,v=A[E&t]|0,v>=h&&(g[x]=e[v]),x+=1,E+=b;F=u+=b}};a.prototype.ns=function(a,b,c){var d=this.A>>3,e=this.Hf,g=this.Sc,f;var h=ViewConstants.hb[3]+128;var l=ViewConstants.hb[4]+128,m=ViewConstants.hb[5]+128,
n=ViewConstants.hb[6]+128,p=1,B=1,D=0,q=this.cb,t=this.ib&~c,G=this.kb&~c,k=~c;c=~c;var u=b,C=this.ma;1<this.m&&(p=this.J);b=1/this.ma;var x=-(this.v/2*b)+this.zc;var F=-(this.A/2*b)+this.yc;1<this.J&&1<this.m&&(D=.4/(this.J-1),B=.6);this.Rc(B);var A=this.width<this.U?e[0]|0:this.Vj|0;var y=0;var E=x;for(f=0;f<this.v;f+=1){if((E&c)===(E&G)){var v=u[E&G];var w=a[E&G];var M=F;this.S&&(M+=.5*(E|0));for(E=0;E<d;E+=1){if((M&k)===(M&t)){var K=v[M&t];var S=w[M&t];S===l||S===n?(K>=q&&(S=h),K=e[S]|0):S===
h||S===m?(K<q&&(S=l),K=e[S]|0):K=e[K]|0}else K=A;g[y]=K;y+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=q&&(S=h),K=e[S]|0):S===h||S===m?(K<q&&(S=l),K=e[S]|0):K=e[K]|0):K=A;g[y]=K;y+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=q&&(S=h),K=e[S]|0):S===h||S===m?(K<q&&(S=l),K=e[S]|0):K=e[K]|0):K=A;g[y]=K;y+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=q&&(S=h),K=e[S]|0):S===h||S===m?(K<q&&(S=l),K=e[S]|0):K=e[K]|0):K=A;g[y]=K;y+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&
t],S===l||S===n?(K>=q&&(S=h),K=e[S]|0):S===h||S===m?(K<q&&(S=l),K=e[S]|0):K=e[K]|0):K=A;g[y]=K;y+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=q&&(S=h),K=e[S]|0):S===h||S===m?(K<q&&(S=l),K=e[S]|0):K=e[K]|0):K=A;g[y]=K;y+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=q&&(S=h),K=e[S]|0):S===h||S===m?(K<q&&(S=l),K=e[S]|0):K=e[K]|0):K=A;g[y]=K;y+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=q&&(S=h),K=e[S]|0):S===h||S===m?(K<q&&(S=l),K=e[S]|0):K=e[K]|0):K=A;g[y]=K;y+=
1;M+=b}}else for(E=0;E<d;E+=1)g[y]=A,y+=1,g[y]=A,y+=1,g[y]=A,y+=1,g[y]=A,y+=1,g[y]=A,y+=1,g[y]=A,y+=1,g[y]=A,y+=1,g[y]=A,y+=1;E=x+=b}(this.jb||this.Ac)&&this.dh()&&this.Bd();for(a=1;a<p;a+=1)for(h=2<this.g?this.g/this.J*a|0:(this.oc+1)/this.J*a|0,B+=D,this.Rc(B),b/=this.m,C*=this.m,.125>C?(u=this.Fa,c=15):.25>C?(u=this.Ca,c=7):.5>C?(u=this.Aa,c=3):1>C?(u=this.G,c=1):(u=this.sa,c=0),t=this.ib&~c,G=this.kb&~c,k=~c,c=~c,x=-(this.v/2*b)+this.zc,F=-(this.A/2*b)+this.yc,y=0,E=x,f=0;f<this.v;f+=1){if((E&
c)===(E&G))for(v=u[E&G],M=F,this.S&&(M+=.5*(E|0)),E=0;E<d;E+=1)(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[y]=e[K])),y+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[y]=e[K])),y+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[y]=e[K])),y+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[y]=e[K])),y+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[y]=e[K])),y+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[y]=e[K])),y+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[y]=e[K])),y+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[y]=e[K])),
y+=1,M+=b;else y+=d<<3;E=x+=b}};a.prototype.og=function(a,b,c){var d=Math.sin(this.Ma/180*Math.PI)/this.ma,e=Math.cos(this.Ma/180*Math.PI)/this.ma,g=this.A,f=this.v,h=-(this.A/2*-d+this.v/2*e)+this.zc,l=-(this.A/2*e+this.v/2*d)+this.yc,m=h+g*-d,n=l+g*e,p=h+f*e;f=l+f*d;d=p+g*-d;e=f+g*e;g=h;var B=l;n<B&&(B=n);f<B&&(B=f);e<B&&(B=f);n>l&&(l=n);f>l&&(l=f);e>l&&(l=e);m<g&&(g=m);p<g&&(g=p);d<g&&(g=d);m>h&&(h=m);p>h&&(h=p);d>h&&(h=d);0>(B|0)||(l|0)>=this.width||0>(g|0)||(h|0)>=this.height?0===this.Ma?this.ns(a,
b,c):this.$r(a,b,c):0===this.Ma?this.Hs(a,b,c):this.ws(a,b,c)};a.prototype.Bn=function(){var a;if(!this.Cd.data.buffer){var b=this.Cd.data;var c=this.Jh;var d=c.length;for(a=0;a<d;)b[a]=c[a],a+=1,b[a]=c[a],a+=1,b[a]=c[a],a+=1,b[a]=c[a],a+=1}this.context.putImageData(this.Cd,0,0)};a.prototype.Nk=function(){var a,b=0,c=this.v,d=this.A,e=this.Sc,I=this.Vg;for(a=0;a<c;a+=1)e.set(I,b),b+=d};window.LifeConstants=e;window.Life=a})();(function(){function d(c){this.source=c.replace(/&amp;/gi,"&");this.f=this.source.match(/\S+/g);this.current=0}d.prototype.Y=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current],this.current+=1);return c};d.prototype.ua=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current]);return c};d.prototype.Gt=function(){var c=Keywords.wj,b=!1;if(this.f)for(;this.current<this.f.length&&!b;)this.f[this.current]===c&&(b=!0),this.current+=1;return b};d.prototype.i=
function(c){return!isNaN(parseFloat(c))&&isFinite(Number(c))};d.prototype.m=function(c){var b=!1,a=c.indexOf("/");-1!==a&&(b=c.substr(0,a),c=c.substr(a+1),b=this.i(b)&&this.i(c));return b};d.prototype.G=function(c){var b=0;if(this.m(c)){var a=c.indexOf("/");var d=c.substr(0,a);c=c.substr(a+1);0!==Number(c)&&(b=Number(d)/Number(c))}else this.i(c)&&(b=parseFloat(c));return b};d.prototype.H=function(){var c=this.Y();return this.G(c)};d.prototype.I=function(){var c=!1;if(this.f&&this.current<this.f.length){var b=
this.f[this.current];this.m(b)?c=!0:c=this.i(b)}return c};window.Script=d})();(function(){function d(a){this.m=a;this.uj=this.zf=!1;this.we=f.hr;this.Hg=f.sk;this.oa=this.vb=-1;this.angle=this.y=this.x=0;this.depth=this.J=this.zoom=1;this.Ab=0;this.yb=60;this.step=1;this.dc=this.ab=0;this.vd="";this.fm=this.ij=this.To=this.Om=this.Hh=this.Fh=this.cs=this.sv=this.vm=this.ki=this.Gi=this.wh=this.jh=this.ff=this.fh=this.mh=this.yd=this.bh=this.jf=this.Kf=this.pc=this.Ci=this.lf=this.kf=this.hf=this.ld=!1}function c(a,b,c,d,e,f,h,z,m,n,p,B,D,q,t,G,k){this.coords=a;this.Kq=b;this.zoom=
c;this.ne=d;this.alpha=e;this.size=f;this.$a=h;this.Fe=z;this.cc=m;this.angle=n;this.Ph=p;this.xi=B;this.Ii=D;this.Ji=q;this.ud=t;this.Xh=G;this.Yh=k}function b(a,b,c,d,e,f,h,z,m,n,p,B,D,q,t,G,k,u,C,x){this.Js=a;this.Ls=b;this.Vv=c;this.Wv=d;this.zoom=e;this.ne=f;this.alpha=h;this.size=z;this.St=m;this.$a=n;this.Fe=p;this.cc=B;this.angle=D;this.Ph=q;this.xi=t;this.Ii=G;this.Ji=k;this.ud=u;this.Xh=C;this.Yh=x}function a(a,b,c,d,e,f,h,z,m,n,p,B,D,q,t,G,k){this.message="";this.x=a;this.y=b;this.zoom=
c;this.ne=d;this.alpha=e;this.size=f;this.$a=h;this.Fe=z;this.cc=m;this.angle=n;this.Ph=p;this.xi=B;this.Ii=D;this.Ji=q;this.ud=t;this.Xh=G;this.Yh=k}function e(){this.ja=[];this.tb=[];this.od=[];this.jd=[];this.sd=[];this.current=new d(this);this.va=new d(this);this.i=new d(this);this.m=!1;this.xh=0;this.G=!1}var f={hr:0,play:1,stop:2,sk:12,Lu:0,Ku:200};d.prototype.set=function(a){this.zf=a.zf;this.uj=a.uj;this.we=a.we;this.Hg=a.Hg;this.vb=a.vb;this.oa=a.oa;this.x=a.x;this.y=a.y;this.hf=a.hf;this.kf=
a.kf;this.lf=a.lf;this.ld=a.ld;this.angle=a.angle;this.zoom=a.zoom;this.J=a.J;this.depth=a.depth;this.Ab=a.Ab;this.yb=a.yb;this.ab=a.ab;this.dc=a.dc;this.vd=a.vd;this.Ci=a.Ci;this.pc=a.pc};d.prototype.f=function(){var a="";switch(this.we){case f.play:a=Keywords.tk;break;case f.stop:a=Keywords.uk}return a};d.prototype.Xz=function(a){this.zf?(this.we!==f.hr&&(a[a.length]=[Keywords.tk,"overwrites "+this.f()]),this.we=f.play):a[a.length]=[Keywords.tk,"only valid at POI"]};d.prototype.Zz=function(a){this.zf?
(this.we!==f.hr&&(a[a.length]=[Keywords.uk,"overwrites "+this.f()]),this.we=f.stop):a[a.length]=[Keywords.uk,"only valid at POI"]};d.prototype.Yz=function(a){this.zf?(this.uj&&(a[a.length]=[Keywords.bm,"already defined"]),this.uj=!0):a[a.length]=[Keywords.bm,"only valid at POI"]};d.prototype.bA=function(a,b){this.zf?(this.Hg!==f.sk&&(b[b.length]=[Keywords.cm+" "+a,"overwrites "+this.Hg]),this.Hg=a):b[b.length]=[Keywords.cm,"only valid at POI"]};d.prototype.i=function(a,b,c){var d=a.dc+0,e=b.dc+0,
g=a.angle+0,f=b.angle+0,l=1,m=1,n=1,p=1,B=1;c>e&&(c=e);e-d===ViewConstants.fA&&(d=e);e!==d&&(l=Math.round((c-d)/(e-d)*1E6)/1E6,m=this.m.$s(l)+0);b.hf||b.ld?n=l:n=m;b.kf||b.ld?p=l:p=m;b.lf||b.ld?B=l:B=m;this.x=a.x+n*(b.x-a.x);this.y=a.y+p*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,B);180<f-g?g+=360:-180>f-g&&(f+=360);this.angle=(g+m*(f-g))%360;this.J=a.J+l*(b.J-a.J)|0;this.depth=a.depth+l*(b.depth-a.depth);this.Ab=b.Ab;this.yb=b.yb;this.step=b.step;this.ab=a.ab+l*(b.ab-a.ab)|0;this.dc=c;this.vd=
b.vd;this.ld=b.ld};e.prototype.mx=function(a,b,d,e,f,r,h,z,m,n,p,B,D,q,t,G,k){return new c(a,b,d,e,f,r,h,z,m,n,p,B,D,q,t,G,k)};e.prototype.Fa=function(){this.sd=[]};e.prototype.zw=function(a){this.sd[this.sd.length]=a};e.prototype.ex=function(a,c,d,e,f,r,h,z,m,n,p,B,D,q,t,G,k,u,C,x){return new b(a,c,d,e,f,r,h,z,m,n,p,B,D,q,t,G,k,u,C,x)};e.prototype.Aa=function(){this.jd=[]};e.prototype.vw=function(a){this.jd[this.jd.length]=a};e.prototype.ix=function(b,c,d,e,f,r,h,z,m,n,p,B,D,q,t,G,k){return new a(b,
c,d,e,f,r,h,z,m,n,p,B,D,q,t,G,k)};e.prototype.Ca=function(){this.od=[]};e.prototype.Ps=function(a){this.od[this.od.length]=a};e.prototype.Tl=function(){return this.od.length+this.jd.length+this.sd.length};e.prototype.Vw=function(){this.Ca();this.Aa();this.Fa()};e.prototype.Wy=function(a){var b="",c="";0<=a&&a<this.sd.length&&(a=this.sd[a],a.xi&&(c="*"),b=a.Kq?"FILL\t":"LINE\t",b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+a.coords[1]);return b};e.prototype.Xy=function(a){var b="",c="";0<=a&&a<this.sd.length&&
(b=this.sd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.Ph&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};e.prototype.Yy=function(a){var b="";0<=a&&a<this.sd.length&&(a=this.sd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Fe,0<a.cc&&(b+="\tFade "+a.cc)));return b};e.prototype.Zy=function(a){var b="";0<=a&&a<this.sd.length&&(b=this.sd[a].ne);return b};e.prototype.Fw=function(a){var b="",c="";0<=a&&a<this.jd.length&&(a=this.jd[a],a.xi&&(c="*"),b="X1"+c+" "+a.Js+
"\tY1"+c+" "+a.Ls,b+="\tX2"+c+" "+a.Vv+"\tY2"+c+" "+a.Wv);return b};e.prototype.Gw=function(a){var b="",c="";0<=a&&a<this.jd.length&&(b=this.jd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.Ph&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};e.prototype.Hw=function(a){var b="";0<=a&&a<this.jd.length&&(a=this.jd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Fe,0<a.cc&&(b+="\tFade "+a.cc)));return b};e.prototype.Tm=function(a){var b="";0<=a&&a<this.jd.length&&(b=this.jd[a].ne);
return b};e.prototype.ny=function(a){var b="",c="",d="";if(0<=a&&a<this.od.length){var e=this.od[a];a=e.zoom;0<=a&&1>a&&(a=-1/a);e.xi&&(c="*");e.Ph&&(d="*");b="X"+c+" "+e.x+"\tY"+c+" "+e.y;b+="\tZ "+a.toFixed(1)+"\tA"+d+" "+e.angle.toFixed(1)}return b};e.prototype.oy=function(a){var b="";0<=a&&a<this.od.length&&(a=this.od[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Fe,0<a.cc&&(b+="\tFade "+a.cc)));return b};e.prototype.py=function(a){var b="";0<=a&&a<this.od.length&&(a=
this.od[a],b="Size "+a.size+'\t"'+a.message+'"');return b};e.prototype.qy=function(a){var b="";0<=a&&a<this.od.length&&(b=this.od[a].ne);return b};e.prototype.Jb=function(){this.od.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.Ob=function(){this.jd.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.Xb=function(){this.sd.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.hA=function(){this.Jb();this.Ob();this.Xb()};e.prototype.W=function(a,b){var c,d=a.a,e=d.context,f=d.width/2-d.ba-
d.zb,g=d.height/2-d.$-d.sb,l=d.zoom*d.Mb,m=d.A/2,n=d.v/2,p=a.a.s,B=d.S?-(d.height>>2):0,D=0,q=0,t=0,G=0,k=0;d.S&&(f+=g/2);b&&(e.strokeStyle=ViewConstants.Jw);for(c=0;c<this.jd.length;c+=1){var u=this.jd[c];var C=!0;-1!==u.$a&&(p<u.$a||p>u.Fe)&&(C=!1);if(C){var x=u.size*l/u.zoom;var F=u.size/4;var A=4*u.size;b&&(D=1,24<=x&&(D=2,48<=x&&(D=3)));if(x>=F&&x<=A){F=Math.log(x/F)/Math.log(A/F);F=.25>=F?4*F:.75<=F?4*(1-F):1;A=1;-1!==u.$a&&0<u.cc&&(p-u.$a<u.cc?A=(p-u.$a+1)/u.cc:u.Fe-p<u.cc&&(A=(u.Fe-p+1)/u.cc));
C=!0;var y=1;if(-1!==u.ud){var E=Math.sqrt((-(f+B)-u.Ii)*(-(f+B)-u.Ii)+(-g-u.Ji)*(-g-u.Ji));E>u.ud?C=!1:0<u.ud&&.75<E/u.ud&&(y=4*(1-E/u.ud))}C&&(e.globalAlpha=F*u.alpha*A*y,y=u.Ls+g-(a.Fg>>1)+.5,F=u.Js+f+B-(a.kg>>1)+.5,u.xi||(F+=d.zb,y+=d.sb),-1!==u.$a?(F+=u.Xh*(a.Ha-u.$a),y+=u.Yh*(a.Ha-u.$a)):(F+=u.Xh*a.Ha,y+=u.Yh*a.Ha),0!==d.Ma&&(A=Math.sqrt(F*F+y*y),C=180/Math.PI*Math.atan2(y,F),C+=d.Ma,F=A*Math.cos(Math.PI/180*C),y=A*Math.sin(Math.PI/180*C)),d.S&&(F-=y/2),C=y*l+n,E=F*l+m,F=(u.Vv-u.Js)*l,A=(u.Wv-
u.Ls)*l,d.S&&(F-=A/2),y=0===u.St?0:Math.sqrt(F*F+A*A)*u.St,e.save(),e.translate(E,C),C=u.angle,u.Ph||(C+=d.Ma),e.rotate(C/180*Math.PI),e.lineWidth=x,b||(e.strokeStyle=u.ne),e.lineCap="round",e.lineJoin="round",0<y&&(u=Math.atan2(A,F),q=Math.cos(.85*Math.PI+u),t=Math.sin(.85*Math.PI+u),G=Math.cos(.85*-Math.PI+u),k=Math.sin(.85*-Math.PI+u)),0<D&&e.translate(D,D),e.beginPath(),e.moveTo(0,0),e.lineTo(F,A),0<y&&(e.moveTo(F,A),e.lineTo(F+y*q,A+y*t),e.moveTo(F,A),e.lineTo(F+y*G,A+y*k)),e.stroke(),e.restore())}}}e.globalAlpha=
1};e.prototype.Pa=function(a){this.W(a,!0);this.W(a,!1)};e.prototype.da=function(a,b){var c,d=a.a,e=d.context,f=d.width/2-d.ba-d.zb,g=d.height/2-d.$-d.sb,l=d.zoom*d.Mb,m=d.A/2,n=d.v/2,p=a.a.s,B=d.S?-(d.height>>2):0,D=0;b&&(e.strokeStyle=ViewConstants.Nu,e.fillStyle=ViewConstants.Nu);d.S&&(f+=g/2);for(c=0;c<this.sd.length;c+=1){var q=this.sd[c];var t=q.coords;var G=t.length;var k=!0;-1!==q.$a&&(p<q.$a||p>q.Fe)&&(k=!1);if(k){var u=q.size*l/q.zoom;var C=q.size/4;var x=4*q.size;b&&(D=1,24<=u&&(D=2,48<=
u&&(D=3)));if(u>=C&&u<=x){C=Math.log(u/C)/Math.log(x/C);C=.25>=C?4*C:.75<=C?4*(1-C):1;x=1;-1!==q.$a&&0<q.cc&&(p-q.$a<q.cc?x=(p-q.$a+1)/q.cc:q.Fe-p<q.cc&&(x=(q.Fe-p+1)/q.cc));k=!0;var F=1;if(-1!==q.ud){var A=Math.sqrt((-(f+B)-q.Ii)*(-(f+B)-q.Ii)+(-g-q.Ji)*(-g-q.Ji));A>q.ud?k=!1:0<q.ud&&.75<A/q.ud&&(F=4*(1-A/q.ud))}if(k){e.globalAlpha=C*q.alpha*x*F;C=0;F=t[C]+f+B-(a.kg>>1)+.5;x=t[C+1]+g-(a.Fg>>1)+.5;C+=2;q.xi||(F+=d.zb,x+=d.sb);-1!==q.$a?(F+=q.Xh*(a.Ha-q.$a),x+=q.Yh*(a.Ha-q.$a)):(F+=q.Xh*a.Ha,x+=q.Yh*
a.Ha);0!==d.Ma&&(k=Math.sqrt(F*F+x*x),x=180/Math.PI*Math.atan2(x,F),x+=d.Ma,F=k*Math.cos(Math.PI/180*x),x=k*Math.sin(Math.PI/180*x));d.S&&(F-=x/2);x=x*l+n;A=F*l+m;F=(t[C]-t[0])*l;k=(t[C+1]-t[1])*l;d.S&&(F-=k/2);C+=2;e.save();e.translate(A,x);x=q.angle;q.Ph||(x+=d.Ma);e.rotate(x/180*Math.PI);e.lineWidth=u;b||(q.Kq?e.fillStyle=q.ne:e.strokeStyle=q.ne);e.lineCap="round";e.lineJoin="round";0<D&&e.translate(D,D);e.beginPath();e.moveTo(0,0);for(e.lineTo(F,k);C<G;)F=(t[C]-t[0])*l,k=(t[C+1]-t[1])*l,d.S&&
(F-=k/2),C+=2,e.lineTo(F,k);q.Kq?e.fill():e.stroke();e.restore()}}}}e.globalAlpha=1};e.prototype.Bb=function(a){this.da(a,!0);this.da(a,!1)};e.prototype.bb=function(a){var b,c=a.a,d=c.context,e=c.width/2-c.ba-c.zb,f=c.height/2-c.$-c.sb,g=c.zoom*c.Mb,z=c.A/2,m=c.v/2,n=ViewConstants.ty,p="px "+ViewConstants.ry,B=a.a.s,D=c.S?-(c.height>>2):0;c.S&&(e+=f/2);for(b=0;b<this.od.length;b+=1){var q=this.od[b];var t=!0;-1!==q.$a&&(B<q.$a||B>q.Fe)&&(t=!1);if(t){var G=q.size*g/q.zoom;var k=q.size/4;var u=4*q.size;
var C=1;24<=G&&(C=2,48<=G&&(C=3));if(G>=k&&G<=u){k=Math.log(G/k)/Math.log(u/k);d.font=G+p;k=.25>=k?4*k:.75<=k?4*(1-k):1;u=1;-1!==q.$a&&0<q.cc&&(B-q.$a<q.cc?u=(B-q.$a+1)/q.cc:q.Fe-B<q.cc&&(u=(q.Fe-B+1)/q.cc));t=!0;var x=1;if(-1!==q.ud){var F=Math.sqrt((-(e+D)-q.Ii)*(-(e+D)-q.Ii)+(-f-q.Ji)*(-f-q.Ji));F>q.ud?t=!1:0<q.ud&&.75<F/q.ud&&(x=4*(1-F/q.ud))}if(t){d.globalAlpha=k*q.alpha*u*x;t=q.x+e+D-(a.kg>>1)+.5;x=q.y+f-(a.Fg>>1)+.5;q.xi||(t+=c.zb,x+=c.sb);-1!==q.$a?(t+=q.Xh*(a.Ha-q.$a),x+=q.Yh*(a.Ha-q.$a)):
(t+=q.Xh*a.Ha,x+=q.Yh*a.Ha);0!==c.Ma&&(k=Math.sqrt(t*t+x*x),x=180/Math.PI*Math.atan2(x,t),x+=c.Ma,t=k*Math.cos(Math.PI/180*x),x=k*Math.sin(Math.PI/180*x));c.S&&(t-=x/2);k=q.message;u=k.indexOf("\\n");x=x*g+m;t=t*g+z;d.save();d.translate(t,x);x=q.angle;q.Ph||(x+=c.Ma);d.rotate(x/180*Math.PI);for(x=0;-1!==u;)t=k.substr(0,u),k=k.substr(u+2),u=d.measureText(t).width>>1,d.fillStyle=n,d.fillText(t,-u+C,x+C),d.fillStyle=q.ne,d.fillText(t,-u,x),x+=G,u=k.indexOf("\\n");u=d.measureText(k).width>>1;d.fillStyle=
n;d.fillText(k,-u+C,x+C);d.fillStyle=q.ne;d.fillText(k,-u,x);d.restore()}}}}d.globalAlpha=1};e.prototype.iq=function(a){this.Bb(a);this.Pa(a);this.bb(a)};e.prototype.kA=function(a){var b;for(b=this.ja.length-1;0<=b;--b){var c=this.ja[b];c.dc>a&&c.fm&&(this.xh=b,c.fm=!1)}};e.prototype.Bz=function(){var a;for(a=0;a<this.ja.length;a+=1)this.ja[a].fm=!1;this.xh=0;this.G=!1};e.prototype.cn=function(){return new d(this)};e.prototype.$s=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};e.prototype.reset=
function(){this.ja=[];this.tb=[];this.m=!1;this.xh=0};e.prototype.uy=function(){return this.ja[this.ja.length-1]};e.prototype.Ft=function(a){var b=this.ha(a),c=this.ja[b];a>c.ab?a=c.dc+1E3*(a-c.ab)/(c.yb*c.step):0<b?(b=this.ja[b-1],a=b.dc+1E3*(a-b.ab)/(c.yb*c.step)):a=1E3*a/(c.yb*c.step);return a};e.prototype.tt=function(a,b,c,d,e,f,h,z,m,n,p){var g=this.va;g.x=a;g.y=b;g.zoom=c;g.angle=d;g.yb=z;g.step=m;g.J=e;g.depth=f;g.Ab=h;g.ab=n;this.m&&(p=this.i.dc);g.dc=p-1E3;this.update(p,n);this.i.set(this.current);
this.i.ld=!1;this.i.dc=p;this.m=!0;return g.dc};e.prototype.wl=function(){return this.ja[0]};e.prototype.My=function(){return this.ja.length};e.prototype.add=function(a){a.zf?this.tb[this.tb.length]=a:this.ja[this.ja.length]=a};e.prototype.Np=function(a){var b=!1;this.xh>=this.ja.length-1&&a>=this.ja[this.xh].dc&&(b=!0);return b};e.prototype.f=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};e.prototype.Ry=function(a){var b="";0<=a&&a<this.tb.length&&(a=this.tb[a],a.Kf&&(b+=" X "+a.x),
a.jf&&(b+=" Y "+a.y),a.yd&&(b+=" ZOOM "+this.f(a.zoom)),a.bh&&(b+=" ANGLE "+a.angle));return b.substr(1)};e.prototype.Ju=function(a){var b="";0<=a&&a<this.tb.length&&(a=this.tb[a],a.uj&&(b+=" POIRESET"),a.we===f.play?b+=" POIPLAY":a.we===f.stop&&(b+=" POISTOP"),a.Hg!==f.sk&&(b+=" POITRANS "+a.Hg));return b.substr(1)};e.prototype.Sy=function(a){var b="";0<=a&&a<this.tb.length&&(a=this.tb[a],a.ki&&(b+=" LOOP "+(-1===a.oa?"OFF":a.oa)),a.Gi&&(b+=" STOP "+(-1===a.vb?"OFF":a.vb)),a.jh&&(b+=" GPS "+a.yb),
a.wh&&(b+=" STEP "+a.step));return b.substr(1)};e.prototype.Ju=function(a){var b="";0<=a&&a<this.tb.length&&(a=this.tb[a],a.uj&&(b+=" POIRESET"),a.we===f.play?b+=" POIPLAY":a.we===f.stop&&(b+=" POISTOP"),a.Hg!==f.sk&&(b+=" POITRANS "+a.Hg));return b.substr(1)};e.prototype.Vy=function(a){var b="";0<=a&&a<this.tb.length&&(a=this.tb[a],a.ff&&(b+=" THEME "+a.Ab),a.fh&&(b+=" DEPTH "+this.f(a.depth)),a.mh&&(b+=" LAYERS "+a.J));return b.substr(1)};e.prototype.Uy=function(a){var b="";0<=a&&a<this.tb.length&&
(a=this.tb[a],a.vm&&(b+=" POIT "+a.ab));return b.substr(1)};e.prototype.Ty=function(a){var b=Keywords.Vb,c="";0<=a&&a<this.tb.length&&(a=this.tb[a],""!==a.vd&&(c+=" "+b+a.vd+b));return c.substr(1)};e.prototype.KA=function(a){var b=Keywords.Vb,c="";if(0<=a&&a<this.ja.length){var d=this.ja[a];0<a?(a=this.ja[a-1],c=d.ab===a.ab?"P "+this.f((d.dc-a.dc|0)/1E3):"T "+d.ab,d.ld?c+=" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.f(d.zoom))),d.angle!==a.angle&&(c+=
" A "+d.angle),d.J!==a.J&&(c+=" L "+d.J),d.depth!==a.depth&&(c+=" D "+this.f(d.depth)),d.Ab!==a.Ab&&(c+=" C "+d.Ab),d.yb!==a.yb&&(c+=" G "+d.yb),d.step!==a.step&&(c+=" S "+d.step),""!==d.vd&&(c+=" "+b+d.vd+b)):c="T "+d.ab+" X "+-d.x+" Y "+-d.y+" Z "+this.f(d.zoom)+" A "+d.angle+" L "+d.J+" D "+this.f(d.depth)+" C "+d.Ab+" G "+d.yb+" S "+d.step}return c};e.prototype.update=function(a,b){var c=this.ja.length,d=!1,e=this.xh,f=!1;if(this.m)this.current.i(this.va,this.i,a),a>=this.i.dc&&(this.m=!1);else{for(;e<
c&&!d;){var g=this.ja[e];g.dc>=a||!g.fm?d=!0:e+=1}d?(this.ja[e].fm=!0,0<e?(this.ja[e].ld&&(this.ja[e].x=this.current.x,this.ja[e].y=this.current.y,this.ja[e].zoom=this.current.zoom),this.current.i(this.ja[e-1],this.ja[e],a)):(e=0,this.current.set(this.ja[e]))):(e=c-1,this.current.set(this.ja[e]),b>=this.current.ab&&this.G&&(f=!0),this.G=!0);this.xh=e}return f};e.prototype.ha=function(a){for(var b=0,c=!1,d=this.ja,e=this.ja.length;b<e&&!c;)d[b].ab>=a?c=!0:b+=1;c||(b=e-1);return b};e.prototype.Ux=function(a){this.xh=
this.ha(a)};e.prototype.hc=function(a,b,c,d){if(0===this.ja.length)c[c.length]=[a+" "+Keywords.Ua,"no initial waypoint defined"];else switch(a){case Keywords.Zc:b.Kf&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+-b.x]);b.x=this.ja[0].x;b.Kf=!0;break;case Keywords.$c:b.jf&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+-b.y]);b.y=this.ja[0].y;b.jf=!0;break;case Keywords.nc:b.yd&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+this.f(1>b.zoom?
-(1/b.zoom):b.zoom)]);b.zoom=this.ja[0].zoom;b.yd=!0;break;case Keywords.Qh:b.bh&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+b.angle]);b.angle=this.ja[0].angle;b.bh=!0;break;case Keywords.bj:b.fh&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+this.f(b.depth)]);b.depth=this.ja[0].depth;b.fh=!0;break;case Keywords.lj:b.mh&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+b.J]);b.J=this.ja[0].J;b.mh=!0;break;case Keywords.yh:b.ff&&(c[c.length]=
[a+" "+Keywords.Ua,d?"already defined":"overwrites "+b.Ab]);b.Ab=this.ja[0].Ab;b.ff=!0;break;case Keywords.hj:b.jh&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+b.yb]);b.yb=this.ja[0].yb;b.jh=!0;break;case Keywords.Aj:b.wh&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+b.step]);b.step=this.ja[0].step;b.wh=!0;break;case Keywords.sg:b.Gi&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+(-1===b.vb?"OFF":b.vb)]);b.vb=this.ja[0].vb;b.Gi=!0;break;
case Keywords.dg:b.ki&&(c[c.length]=[a+" "+Keywords.Ua,d?"already defined":"overwrites "+(-1===b.oa?"OFF":b.oa)]);b.oa=this.ja[0].oa;b.ki=!0;break;default:c[c.length]=[a+" "+Keywords.Ua,"illegal command before "+Keywords.Ua]}};e.prototype.Yw=function(a,b){this.hc(Keywords.Zc,a,b,!1);this.hc(Keywords.$c,a,b,!1);this.hc(Keywords.nc,a,b,!1);this.hc(Keywords.Qh,a,b,!1);this.hc(Keywords.lj,a,b,!1);this.hc(Keywords.bj,a,b,!1);this.hc(Keywords.yh,a,b,!1);this.hc(Keywords.hj,a,b,!1);this.hc(Keywords.Aj,a,
b,!1);this.hc(Keywords.dg,a,b,!1);this.hc(Keywords.sg,a,b,!1)};e.prototype.bz=function(a){var b,c=this.ja,d=this.ja.length;for(b=1;b<d;b+=1){var e=c[b-1];var f=c[b];f.Kf||(f.x=e.x);f.jf||(f.y=e.y);f.Fh||(f.hf=e.hf);f.Hh||(f.kf=e.kf);f.Om||(f.lf=e.lf);f.bh||(f.angle=e.angle);f.yd||(f.zoom=e.zoom);f.mh||(f.J=e.J);f.fh||(f.depth=e.depth);f.ff||(f.Ab=e.Ab);f.jh||(f.yb=e.yb);f.wh||(f.step=e.step);f.vm?f.ab<=e.ab&&(a[a.length]=[Keywords.um+" "+f.ab,"target generation must be later than previous ("+e.ab+
")"]):f.ab=e.ab;f.dc=f.sv?1E3*f.dc+e.dc:e.dc+1E3*(f.ab-e.ab)/(f.yb*f.step);f.To||(f.Ci=e.Ci);f.ij||(f.pc=e.pc)}};window.Waypoint=d;window.WaypointManager=e;window.WaypointConstants=f})();(function(){function d(c,b){var a=this;this.Is=c;this.h=b;this.top=this.left=0;""!==c.style.left&&(this.left=parseInt(c.style.left,10));""!==c.style.top&&(this.top=parseInt(c.style.top,10));this.Zb=this.cj=!1;this.Il=this.Hl=this.Kl=this.Jl=this.sh=this.rh=-1;this.Ar=this.offsetTop=this.offsetLeft=0;registerEvent(c,"mousedown",function(b){a.i(a,b)},!1);registerEvent(document,"mousemove",function(b){a.m(a,b)},!1);registerEvent(document,"mouseup",function(b){a.G(a,b)},!1);registerEvent(c,"touchstart",
function(b){a.f(a,b)},!1);registerEvent(c,"touchmove",function(b){a.f(a,b)},!1);registerEvent(c,"touchend",function(b){a.f(a,b)},!1);registerEvent(window,"resize",function(){a.bv(a)},!1)}d.prototype.bv=function(c){c.mv(c.left+c.Ar,c.top,c.Is);c.Ar=0};d.prototype.yA=function(c,b){this.mv(this.left+c,this.top+b,this.Is)};d.prototype.mv=function(c,b,a){var d=window.innerWidth-a.clientWidth,f=window.innerHeight-a.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(d-=
21);0>c&&(c=0);0>b&&(b=0);c>d&&(c=d);b>f&&(b=f);a.style.left=c+"px";a.style.top=b+"px";a.style.position="fixed";this.left=c;this.top=b};d.prototype.Xw=function(){var c=this.Is,b=c.offsetParent;this.offsetLeft=c.offsetLeft;for(this.offsetTop=c.offsetTop;b;)this.offsetLeft+=b.offsetLeft,this.offsetTop+=b.offsetTop,b=b.offsetParent;b=c.parentNode;if("fixed"===b.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;
else for(;"body"!==b.tagName.toLowerCase();)this.offsetLeft-=b.scrollLeft,this.offsetTop-=b.scrollTop,b=b.parentNode};d.prototype.f=function(c,b){var a="";if("touchend"===b.type){a="mouseup";var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,c.Jl,c.Kl,c.Hl,c.Il,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d);b.preventDefault()}else{if(1===b.touches.length)switch(b.type){case "touchstart":a="mousedown";break;case "touchmove":a="mousemove"}if(""!==a){var f=b.changedTouches[0];
d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(d);b.preventDefault();c.Jl=f.screenX;c.Kl=f.screenY;c.Hl=f.clientX;c.Il=f.clientY}}};d.prototype.i=function(c,b){c.Jj(c,b);c.Zb=!0;c.h.sj=!0;b.stopPropagation&&b.stopPropagation();b.preventDefault()};d.prototype.G=function(c,b){c.cj&&c.Zb&&(c.Jj(c,b),c.Zb=!1,c.h.sj=!1,b.stopPropagation&&b.stopPropagation(),b.preventDefault())};d.prototype.m=function(c,
b){if(c.cj&&c.Zb){var a=c.rh,d=c.sh;c.Jj(c,b);c.Zb&&c.yA(c.rh-a,c.sh-d);c.rh=a;c.sh=d;b.stopPropagation&&b.stopPropagation();b.preventDefault()}};d.prototype.Jj=function(c,b){if(b.pageX||b.pageY){var a=b.pageX;b=b.pageY}else a=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.Xw();a-=c.offsetLeft;b-=c.offsetTop;c.rh=a-1|0;c.sh=b-1|0};window.PopupWindow=d})();(function(){function d(){this.key=new Uint8Array(256);this.i=this.f=0}d.prototype.Id=function(c){var b,a,d=this.key;for(b=0;256>b;b+=1)d[b]=b;for(b=a=0;256>b;b+=1){a=a+d[b]+c.charCodeAt(b%c.length)&255;var f=d[b];d[b]=d[a];d[a]=f}this.i=this.f=0};d.prototype.random=function(){var c,b=0,a=1,d=this.key,f=this.f,g=this.i;for(c=0;8>c;c+=1){f=f+1&255;g=g+d[f]&255;var l=d[f];d[f]=d[g];d[g]=l;b+=d[d[f]+d[g]&255]*a;a*=256}this.f=f;this.i=g;return b/1.8446744073709552E19};window.Random=d;window.myRand=new d})();(function(){function d(c,b){this.to=c;this.x=b.V(Float32,0,"Stars.x");this.y=b.V(Float32,0,"Stars.y");this.f=b.V(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.i=new Random;this.i.Id(Date.now().toString());this.sin=b.V(Float32,0,"Stars.sin");this.cos=b.V(Float32,0,"Stars.cos");this.m=Math.PI/180;this.W=180/Math.PI;this.j=b;this.G=!1}d.prototype.Id=function(c,b,a){var d,f=this.to,g=c*c+b*b;this.x=this.j.V(Float32,f,"Stars.x");this.y=this.j.V(Float32,f,"Stars.y");this.f=this.j.V(Float32,
f,"Stars.z");for(d=0;d<f;d+=1){var l=d/f*(d/f)*(d/f)*(d/f)*a+1;do{var H=3*(this.i.random()*c-c/2);var L=3*(this.i.random()*b-b/2)}while(H*H+L*L>g);this.x[d]=H;this.y[d]=L;this.f[d]=l}this.sin=this.j.V(Float32,2880,"Stars.sin");this.cos=this.j.V(Float32,2880,"Stars.cos");for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.m),this.cos[d]=Math.cos(d/8*this.m),d+=1};d.prototype.dx=function(c,b,a,d,f,g,l,H){var e;this.G||(this.Id(8192,8192,1024),this.G=!0);if(littleEndian){var I=H>>16&255;var r=H>>8&255;var h=
H&255}else h=H>>24&255,r=H>>16&255,I=H>>8&255;for(e=0;e<this.to;e+=1){var z=this.x[e]+c;var m=this.y[e]+b;if(0!==d){var n=Math.sqrt(z*z+m*m);m=Math.atan2(m,z)*this.W;m+=d;0>m?m+=360:360<=m&&(m-=360);m*=8;m|=0;z=n*this.cos[m];m=n*this.sin[m]}n=this.f[e]/a*2;z=f/2+z/n|0;m=g/2+m/n|0;if(0<z&&z<f-1&&0<m&&m<g-1){z+=m*f;n=1536/n|0;255<n&&(n=255);n/=255;if(l[z]===H){m=h+(this.red-h)*n;var p=r+(this.green-r)*n;var B=I+(this.blue-I)*n;m=littleEndian?-16777216|B<<16|p<<8|m:m<<24|B<<16|p<<8|255;l[z]=m}n/=2;m=
h+(this.red-h)*n;p=r+(this.green-r)*n;B=I+(this.blue-I)*n;m=littleEndian?-16777216|B<<16|p<<8|m:m<<24|B<<16|p<<8|255;--z;l[z]===H&&(l[z]=m);z+=2;l[z]===H&&(l[z]=m);--z;z-=f;l[z]===H&&(l[z]=m);z+=f+f;l[z]===H&&(l[z]=m)}}};window.Stars=d})();(function(){function d(a,b,c,d,e){this.name=a;this.pattern=b;this.Hz=c;this.width=d;this.height=e}function c(a){this.Ib=0;this.Tn=!1;this.ia=null;this.Ij=0;this.al=!0;this.Jf=0;this.Te=1;this.zk=this.qk=!1;this.oh=7;this.Ro=!0;this.Mj=this.Lj=0;this.ak=!1;this.ea=this.eo=63;this.zd=this.Gc=this.bg=this.fg=this.Xb=this.eg=this.ag=this.$f=this.Ad=this.ig=this.hg=this.Qk=!1;this.Eg=this.Ha=0;this.Oc=null;this.$e=this.Ze=0;this.Gs=!1;this.$i=this.Lg=this.Mg=-1;this.En=Date.now().toString();this.di=h.Eh;
this.If=!0;this.gb=!1;this.Ae=!0;this.Tb=h.At;this.Lc=!1;this.element=a;this.Ea=!1;this.Bh=this.Tg=this.Ug=this.Ah=this.gn=this.dn=this.fn=this.en=0;this.fc=this.Sd=this.ec=this.Gj=!1;this.yl=!0;this.Hn=!1;this.Gn=0;this.$h=!1;this.wi=this.vi=0;this.ng=!1;this.o="";this.xd=this.wd=0;this.nq=this.mq=this.bk=this.Zh=this.fj=this.ih=this.Tr=this.Sr=this.Di=this.yj=this.Fi=this.Ei=this.qe=-1;this.Zn=this.xn=!1;this.Vo=this.Ee=-1;this.fl=this.Yi=!1;this.an=-1;this.Bj=this.Hi=null;this.wm="";this.Cj=this.Pg=
0;this.oA=32768;this.Vp=this.Wp=0;this.Up=!0;this.Um=this.nb=!1;this.Si=0;this.Nw=.01;this.Ng=this.xf=!1;this.eh=this.Re=null;this.Rf=h.Rf;this.Th=[96,96,96];this.$o=null;this.Pa="";this.rg=this.za=this.Ff=this.dr=!1;this.uh=null;this.se=!1;this.M=1;this.lg=this.mg=0;this.gc=this.Mq=!1;this.w=new WaypointManager;this.Yn="";this.Vq=-1;this.Zd=this.Pb=!1;this.ga=1;this.rq=this.ir=this.Vl=0;this.Cg=h.By;this.Aa=this.ha=this.da=this.W=this.gh=-1;this.Zl=this.nk="";this.am=this.th=this.Fg=this.kg=0;this.$l=
null;this.jr=this.Gf=this.Gg=this.jg="";this.Pf=!1;this.f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.hn=!1;this.Oj=h.cu;this.Nj=h.Tm;this.Pj=h.Mu;this.gl="";this.kd=[];this.Qm=!1;this.Yb=[];this.Zi=[];this.Nb=[];this.Ya=1;this.X=0;this.rm=!1;this.mk=100;this.$b=10;this.P=[64,200,290,530,700];this.fe=!1;this.R=[];this.Aq=[];this.Bq=[];this.oa=this.vb=-1;this.Qn=this.On=this.Rh=this.ke=this.Sb=this.si=this.ro=this.Gb=this.Dl=this.Wb=this.mc=this.Za=!1;this.Jk=
this.Lk=this.Rk=-1;this.a=null;this.elapsedTime=0;this.A=640;this.v=512;this.Sk=!1;this.Pk=640;this.ef=this.Mr=this.gg=this.Bc=!1;this.i=this.ac=this.ug=this.rk=this.nj=this.pa=this.Be=this.Vh=this.he=this.xg=this.Bb=this.ui=this.Me=this.wc=this.ej=this.Le=this.Xg=this.dk=this.og=this.pg=this.Ck=this.hk=this.nh=this.ik=this.Mk=this.ai=this.Uj=this.fi=this.ei=this.hi=this.Ob=this.qg=this.gj=this.bi=this.wg=this.bb=this.ie=this.mf=this.nf=this.tf=this.qf=this.sf=this.rf=this.Lh=this.Nh=this.Qi=this.ci=
this.Cd=this.li=this.Fa=this.ge=this.cd=this.ed=this.dd=this.bd=this.Ni=this.Kh=this.Jh=this.Ih=this.Nk=this.ad=this.uf=this.gd=this.Zf=this.fd=this.Yf=this.jk=this.Jb=this.vc=this.Xd=this.tc=this.Kb=this.wb=this.Db=this.Nc=this.Df=this.bc=this.Na=null;this.ii=this.kj=-1;this.wheelDelta=0;this.rd=this.rj=this.Bf=this.G=this.Hc=null;this.Gd=60;this.u=this.h=null;this.aj=this.Vd=this.Xj=0;this.wn=this.Ct=1;this.fq=60;this.Zj=this.vn=1;this.eq=.1;this.Oi=-1;this.vj=this.be=this.Cr=0;this.wk=1;this.zh=
this.wa=this.Rj=this.Qj=this.Kk=!1;this.Dc=h.Bt;this.Sn=this.Vn=this.gs=this.Un=0;this.Pi=this.Qg=!1;this.mm=this.Uk=0;this.re=!1;this.pk=-1}function b(a,b,d,e,f){var m,g=b.parentNode,n=null;for(m=0;m<z.lc.length&&!n;)z.lc[m][0].tabIndex===b.tabIndex?n=z.lc[m][1]:m+=1;n||(n=new c(f),n.se=e,r.Ll&&!e&&(n.Cg=d&-8,n.Cg<h.qd&&(n.Cg=h.qd)),b.tabIndex=z.lc.length+1,n.$r(b),"none"===g.style.display&&(z.tr=new PopupWindow(g,n.h)),z.lc[z.lc.length]=[b,n,z.tr]);e||n.vh(a,!1)}function a(a){a=a.parentNode;for(var b=
!1;!b;)"div"!==a.localName||a.className!==r.zn&&a.className!==r.An||(b=!0),b||(a=a.parentNode);return a}function e(){var a=z.Rr(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.cj=!1;b.Bc&&(b.pa.current=b.Qd(h.lb,!0,b))}function f(a){e();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function g(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,
"").trim();a=a.replace(/\n[ ]+/g,"\n");return a=a.replace(/\n\t+/g,"\n")}function l(c){c=a(c);var d=c.getElementsByTagName(r.tj)[0],m=g(d),e=z.Rr();if(e)e[1].element=d,e[1].Bs(e[1]);else{e=document.createElement("canvas");e.width=h.qd;e.height=h.qh+80;e.style.display="block";var l=document.createElement("a");l.setAttribute("href","#");l.innerHTML="&nbsp;X&nbsp;";l.style.textDecoration="none";l.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";l.style.color="#FFFFFF";l.style.backgroundColor=
"#C75050";l.style.cssFloat="right";l.style.height="28px";l.style.fontSize="18px";var q=document.createElement("a");q.innerHTML="&nbsp;X&nbsp;";q.style.textDecoration="none";q.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";q.style.visibility="hidden";q.style.cssFloat="left";q.style.height="28px";q.style.fontSize="18px";var t=document.createElement("div");t.style.textAlign="center";t.style.color="rgb(83,100,130)";t.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";t.style.fontSize=
"18px";t.style.height="28px";var G=document.createTextNode("LifeViewer");t.style.cursor="default";t.appendChild(G);registerEvent(l,"click",f,!1);var k=document.createElement("div");k.style.display="none";k.style.position="fixed";k.style.border="1px solid rgb(128,128,128)";k.style.left="2048px";k.style.top="0px";k.style.textAlign="right";k.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";k.style.margin="1px";var u=document.createElement("div");u.className=r.An;u.style.backgroundColor=
"#FFFFFF";u.style.height="28px";u.style.lineHeight="28px";u.appendChild(q);u.appendChild(l);u.appendChild(t);k.appendChild(u);k.appendChild(e);c.appendChild(k);b(m,e,h.qd,!0,d);z.Qr=z.lc.length-1;e=z.Rr();e[1].$o=G}c=e[0].parentNode;""!==c.style.display&&(c.style.display="");e[1].A=h.qd;e[1].v=h.qh+80;e[1].resize();e[1].h.notification.clear(!0,!0);e[1].h.notification.clear(!1,!0);e[1].vh(m,!0);e[1].resize();c=e[2];c.cj=!0;c.bv(c);e[1].Bf.canvas.focus();e[1].h.hasFocus=!0;return!1}function H(a,b){var c=
!1,m=null;try{m=PatternManager.create("",a,b),m.Wc&&(c=!0,r.Ia&&(z.Cc[z.Cc.length]=new d(m.name,a,m.aa+m.Ym,m.width,m.height)))}catch(D){}return c}function L(a){l(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function I(){var a=document.getElementsByTagName("div"),c,d,e=new Allocator;var f=document.getElementsByTagName("meta");for(c=0;c<f.length;c+=1){var h=f[c];if(h.name===r.tagName&&(r.Fq=!1,r.Ll=!1,h=h.content,(d=h.match(/\S+/g))&&2<=d.length&&5>=d.length))for(r.zn=d[0],
r.tj=d[1],h=2;h<d.length;h+=1)switch(d[h]){case "hide":r.Fq=!0;break;case "limit":r.Ll=!0;break;case "multi":r.Ia=!0;break;default:var l=d[h];!isNaN(parseFloat(l))&&isFinite(Number(l))&&(r.wo=parseFloat(l)|0)}}for(f=0;f<a.length;f+=1)(h=a[f],h.className===r.zn)?(c=h.getElementsByTagName(r.tj)[0],h=h.getElementsByTagName("canvas")[0],(d=c.getElementsByTagName(r.tj)[0])&&(c=d),typedArrays&&c&&(d=g(c),r.Ia&&H(d,e),h&&h.getContext?(-1<r.wo&&c.clientHeight>r.wo&&(c.style.height=r.wo+"px"),b(d,h,c.offsetWidth,
!1,c)):r.Fq&&h&&(h.style.display="none"))):typedArrays&&h.className===r.An&&h.parentNode.className!==r.zn&&(c=h.getElementsByTagName(r.tj)[0])&&(d=g(c),H(d,e)&&(h=h.getElementsByTagName("a")[0],d=document.createElement("a"),d.setAttribute("href","#"),d.innerHTML="Show in Viewer",registerEvent(d,"click",L,!1),h?(c=document.createTextNode(" / "),h.parentNode.appendChild(c),h.parentNode.appendChild(d)):c.parentNode.appendChild(d)))}var r={tagName:"LifeViewer",zn:"rle",tj:"code",wo:37,Fq:!0,Ll:!1,Ia:!1,
An:"codebox",Cc:[]},h={So:Math.sqrt(3),$w:65536,bx:500,cx:17,Qt:13750737,Rt:15066597,Ln:7368816,Mn:5263440,nv:.016,fA:16,Au:16384,At:.7,to:1E4,Rz:"Script errors",ve:-2,te:2,yu:2,su:4,Bt:4,Hv:16.7,vu:9,ou:14,Ix:13,Xt:null,uu:1,mu:16,zt:3,Se:0,Ag:1,jn:2,Qf:3,il:4,jl:5,kl:6,sn:7,tn:8,kn:9,pn:10,on:11,nn:12,qn:13,rn:14,mn:15,ll:16,ln:17,$p:18,pl:19,nl:20,ql:21,sl:22,rl:23,ol:24,hl:25,ml:26,Cu:0,Eu:1,Wt:2,hu:3,lu:4,ju:5,bu:6,hb:[0,6,2,5,3,4,1],pv:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),
jA:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),Qy:0,Py:160,Iu:10,lr:100,Hu:20,Wx:18.5,ov:1E3/60,MA:!1,pq:1800,Sx:"LifeViewer",Er:"LifeViewer Image",Kv:"LifeViewer",xs:322,Jv:"Chris Rowett",no:1,fo:10,$q:0,Iy:1,lb:2,ni:3,zu:0,Ql:1,kp:1.25,ky:.99,mo:0,nu:10,Wh:10,Va:.0625,Fb:32,Pl:-16,Ol:-1,ue:1,mi:60,mj:1,$d:50,fontSize:18,xl:"18px Courier",Li:"18px Arial",Og:"18px Arial",De:"14px Arial",Qo:"9px Arial",Tm:"rgb(240,255,255)",Jw:"rgb(0,0,0)",Mu:"rgb(240,255,255)",Nu:"rgb(0,0,0)",Ws:2,oo:1,ho:64,
Iw:.2,cu:"rgb(240,255,255)",ty:"rgb(0,0,0)",sy:18,wu:4,pu:128,ry:"Arial",gk:"rgb(32,255,255)",Cl:"#000000",Rf:"rgb(255,96,96)",Jn:"rgb(128,128,128)",Gy:64,Fy:64,qd:480,By:2048,gy:80,lk:240,ko:2048,qh:480,lp:132,Yv:292,Ny:154,Vr:0,qv:1,rv:2,Dy:0,vy:16,Eh:0,$t:1,Fr:2,El:3,wv:4,ot:5,Rs:6,tu:7,Xs:8},z={j:new Allocator,lc:[],Qr:-1,tr:null,Cc:[],Rr:function(){var a=null;-1!==this.Qr&&(a=this.lc[this.Qr]);return a},$x:function(a){var b=null;0<=a&&a<this.lc.length&&(b=this.lc[a][1]);return b},aB:function(){return this.lc.length},
JA:function(){var a=0,b;for(b=0;b<this.lc.length;b+=1){var c=this.lc[b][1];c.Bc&&(a+=1)}return a},wz:function(){var a,b=0;for(a=0;a<this.lc.length;a+=1){var c=this.lc[a][1];c.pa.current=c.Qd(h.$q,!0,c);c.h.Jg(!0);b+=1}return b},lA:function(){var a,b=0;for(a=0;a<this.lc.length;a+=1){var c=this.lc[a][1];c.Bc&&(c.pa.current=c.Qd(h.lb,!0,c),b+=1)}return b},mA:function(a){var b,c=0;for(b=0;b<this.lc.length;b+=1){var d=this.lc[b][1];d!==a&&d.Bc&&(d.pa.current=d.Qd(h.lb,!0,d),c+=1)}return c}};c.prototype.Fn=
function(a){this.zd=this.Gc=this.bg=this.fg=this.Xb=this.eg=this.ag=this.$f=this.Ad=this.ig=this.hg=a};c.prototype.ns=function(){this.Fn(!1)};c.prototype.jw=function(){this.Fn(!0)};c.prototype.mt=function(){this.Aq=[];this.Bq=[]};c.prototype.Rw=function(a){var b=a.rj.toDataURL("image/png"),c;(c=document.getElementById("screenshot"))?c.src=b:(c=window.open("",h.Er))?(c.width=a.A+20,c.height=a.v+20,c.document.open(),c.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+
h.Er+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+a.A+'" height="'+a.v+'" src="'+b+'" alt="'+h.Er+'"/>\n\t</body>\n</html>\n'),c.document.close(),a.h.notification.T("Image Captured",300,!0)):a.h.notification.T("Could not open Image window!",h.pq,!0)};c.prototype.Ms=function(a){var b=this.a.pb,c=this.a.sa,d=this.a.jc;var m=a.width;var e=a.height;var f=this.Ze,g=this.$e,k=this.a.ib,l=this.a.ib>>4,C=this.a.kb,r=null,z=m,A=e;var y=Math.round(-this.a.la/2);var E=Math.floor((this.a.la-1)/2);var v=
Math.round(-this.a.na/2);var w=Math.floor((this.a.na-1)/2);var H=f-(this.a.width>>1),I=g-(this.a.height>>1),L=this.a.g,ba=!0,Y=2===L&&this.a.ta;-1!==this.a.ka&&(0!==this.a.la&&(H<y||H+m-1>E)&&(ba=!1),0!==this.a.na&&(I<v||I+e-1>w)&&(ba=!1),ba||(this.Gs=!0,0!==this.a.la?(f=Math.round(this.a.width/2)+y,z>E-y+1&&(z=E-y+1)):f=Math.round(this.a.width/2),0!==this.a.na?(g=Math.round(this.a.height/2)+v,A>w-v+1&&(A=w-v+1)):g=Math.round(this.a.height/2)));a.fa&&(0!==(f&1)&&(f+=1),0!==(g&1)&&(g+=1));for(e=0;e<
A;e+=1){v=a.Wc[e];w=b[e+g&C];if(this.Sb)for(y=a.xe[e],r=c[e+g&C],m=0;m<z;m+=1)r[m+f&k]=y[m];else if(2<L)for(y=a.xe[e],r=c[e+g&C],m=0;m<z;m+=1)E=y[m],0<E&&(E=L+this.ea-E),r[m+f&k]=E;Y&&(r=c[e+g&C]);for(m=0;m<z;m+=1)0!==(v[m>>4]&1<<(~m&15))&&(w[m+f>>4&l]|=1<<(~(m+f)&15),Y&&(r[m+f&k]=LifeConstants.cb))}if(d)for(e=0;e<A;e+=1)for(y=a.xe[e],b=d[e+g&C],m=0;m<z;m+=1)(E=y[m])&&(b[m+f&k]=h.hb[E]+128)};c.prototype.vl=function(){var a=!1;-1!==this.a.ka&&0!==this.a.la&&0!==this.a.na&&(a=!0);return a};c.prototype.Gh=
function(){var a=!1;-1===this.a.ka||0!==this.a.la&&0!==this.a.na||(a=!0);return a};c.prototype.Ri=function(a,b,c){a=a[0];b&&(c.Tb=a);return[a,100*a]};c.prototype.xo=function(a,b,c){b&&(c.Jf=(c.a.g-c.oh)*a[0]|0);a[1]=c.Jf+"-"+(c.Jf+c.oh-1);return a};c.prototype.Zg=function(a,b,c){var d=a[0],m=0;b?(c.Zd=!0,c.a.zoom=h.Va*Math.pow(h.Fb/h.Va,a[0])/c.a.Mb):(d=Math.log(c.a.zoom*c.a.Mb/h.Va)/Math.log(h.Fb/h.Va),0>d?d=0:1<d&&(d=1));this.ec&&!this.fc?m=c.a.zoom*c.a.Mb:m=c.a.zoom;m<h.Va?m=h.Va:m>h.Fb&&(m=h.Fb);
1>m&&(m=-1/m);return[d,m]};c.prototype.Lw=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};c.prototype.Sf=function(a,b){var c=this.a.zoom,d=this.a.ba,m=this.a.$,e=6;if(this.wa){var f=this.a.Sf(this.Ha,this.A*this.Dc,this.v*this.Dc,h.Va,h.Fb,h.kp,this.kg,this.Fg,this.Wb&&this.Sb,this.xf,this.ec,this.Ah,this.Tg,this.Ug,this.Bh,this.Ng,this.nb);f[0]/=this.Dc}else f=h.gy,this.Gb&&(f=0),f=this.a.Sf(this.Ha,this.A,this.v-f,h.Va,h.Fb,h.kp,this.kg,this.Fg,
this.Wb&&this.Sb,this.xf,this.ec,this.Ah,this.Tg,this.Ug,this.Bh,this.Ng,this.nb);this.nb&&!a?(24<this.a.zoom&&(e=3),1<this.ga&&(e=1),this.a.zoom=(this.a.zoom*(e-1)+f[0])/e,this.a.ba=(this.a.ba*(e-1)+f[1])/e,this.a.$=(this.a.$*(e-1)+f[2])/e,a=this.a.zoom>c?this.a.zoom/c-1:c/this.a.zoom-1,d=this.a.ba>d?this.a.ba-d:d-this.a.ba,m=this.a.$>m?this.a.$-m:m-this.a.$,this.Si=a,d>this.Si&&(this.Si=d),m>this.Si&&(this.Si=m),.01>=this.Si&&(this.a.zoom=f[0],this.a.ba=f[1],this.a.$=f[2])):(this.Ei=this.a.width/
2-this.a.ba,this.Fi=this.a.height/2-this.a.$,this.yj=this.a.zoom,this.Di=this.a.angle,this.ih=this.a.width/2-f[1],this.fj=this.a.height/2-f[2],this.Zh=f[0],this.bk=this.Di,this.Vo=WaypointConstants.sk,b?this.Ee=0:(this.Ee=WaypointConstants.sk,this.os()));this.wb&&(this.wb.current=this.Zg([this.a.zoom,this.a.zoom],!1,this));this.Db&&(this.Db.current=this.Km([this.a.angle,this.a.angle],!1,this))};c.prototype.Ks=function(a,b){-1!==this.a.ka&&this.ng?(this.Ze=(this.a.width>>1)+this.wd,this.$e=(this.a.height>>
1)+this.xd):(this.Ze=Math.round((this.a.width-a)/2)+this.wd,this.$e=Math.round((this.a.height-b)/2)+this.xd);!this.Wb&&this.a.rc||!PatternManager.ck||(this.Wb=this.Sb=!0)};c.prototype.qm=function(a){var b=a+String();1E9<=a?b="1B+":1E8<=a?b=(a/1E6|0)+"M":1E7<=a?b=Number(a/1E6).toFixed(1)+"M":1E6<=a?b=Number(a/1E6).toFixed(2)+"M":1E5<=a&&(b=(a/1E3|0)+"K");return b};c.prototype.Sj=function(a,b){var c=this.h.rh,d=this.h.sh;b=a+b;var m=-this.a.angle,e=Math.sin(m/180*Math.PI);m=Math.cos(m/180*Math.PI);
0>b?b=0:1<b&&(b=1);a=h.Va*Math.pow(h.Fb/h.Va,a);b=h.Va*Math.pow(h.Fb/h.Va,b);b<h.Va?b=h.Va:b>h.Fb&&(b=h.Fb);c-=this.A/2;d-=this.v/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.a.ba-=c*m+a*-e;this.a.$-=c*e+a*m;b=Math.log(b/h.Va)/Math.log(h.Fb/h.Va);this.wb.current=this.Zg([b,b],!0,this)};c.prototype.AA=function(a){a.Be.current=a.Pg/a.Cj*100;a.Be.l=!1;a.Xd.Ic=0};c.prototype.BA=function(a,b){a.Be.current=a.a.s/b*100;a.Be.l=!1;a.Xd.Ic=0};c.prototype.zA=function(a){var b=!1,c=!1,d=0;a.Za||-1===a.oa||(b=!0);!a.mc&&
a.Pb&&(c=!0);if(b||c){var e=!1;if(c&&b)d=a.elapsedTime/a.w.Ft(a.oa);else if(c){if(b=a.w.uy().dc)d=a.elapsedTime/b,1<d&&(e=!0)}else 0<a.oa&&(d=a.a.s/a.oa);1<d&&(d=1);a.Be.current=100*d}else e=!0;(a.Be.l=e)?a.Xd.Ic=a.u.Ic:a.Xd.Ic=0};c.prototype.Mx=function(){this.uh.dx(this.a.width/2-this.a.yc,this.a.height/2-this.a.zc,this.a.ma,this.a.Ma,this.a.A,this.a.v,this.a.Sc,this.a.Hf[0])};c.prototype.Su=function(){var a=this.u.Ye-this.A/2,b=this.u.Dg-this.v/2,c=this.$e-this.a.$,d=this.Ze-this.a.ba-(this.a.S?
this.a.$/2:0),e=this.a.zoom;var f=this.a.zoom*(this.a.fa&&4<=e?h.So:1);var g=-1;-1!==this.u.Ye&&(0!==this.a.Ma&&(g=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.a.Ma,a=g*Math.cos(Math.PI/180*b),b=g*Math.sin(Math.PI/180*b)),f=Math.floor(b/f-c+this.a.sb),a=Math.floor(a/e+(this.a.S?c/2+f/2:0)-d+this.a.zb),g=this.a.getState(a+this.Ze,f+this.$e,this.Sb&&this.Wb));return g};c.prototype.lo=function(a,b){var c=a-this.A/2,d=b-this.v/2;b=this.$e-this.a.$;var e=this.Ze-this.a.ba-(this.a.S?this.a.$/
2:0),m=0,f=0,g=this.a.zoom,n=this.a.zoom*(this.a.fa&&4<=g?h.So:1);-1!==a&&(0!==this.a.Ma&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.a.Ma,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),m=Math.floor(d/n-b+this.a.sb),f=Math.floor(c/g+(this.a.S?b/2+m/2:0)-e+this.a.zb));this.Lj=f+this.Ze;this.Mj=m+this.$e};c.prototype.np=function(a,b,c,d,e){var m=Math.abs(c-a),f=Math.abs(d-b),g=a<c?1:-1,n=b<d?1:-1,p=m-f,h=this.a.width,l;for(l=0|this.a.kv(a,b,e);h!==this.a.width;)a+=h>>1,b+=
h>>1,c+=h>>1,d+=h>>1,h<<=1;for(;a!==c||b!==d;){var B=p+p;B>-f&&(p-=f,a+=g);B<m&&(p+=m,b+=n);for(l|=this.a.kv(a,b,e);h!==this.a.width;)a+=h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1}return l};c.prototype.dA=function(){var a=this.u.Ye-this.A/2,b=this.u.Dg-this.v/2,c=this.$e-this.a.$,d=this.Ze-this.a.ba-(this.a.S?this.a.$/2:0),e=this.a.zoom,f=this.a.zoom*(this.a.fa&&4<=e?h.So:1);if(-1===this.u.Ye)this.wc.ub="",this.wc.l=!this.ef;else{if(0!==this.a.Ma){var g=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b-=
this.a.Ma;a=g*Math.cos(Math.PI/180*b);b=g*Math.sin(Math.PI/180*b)}f=Math.floor(b/f-c+this.a.sb);c=Math.floor(a/e+(this.a.S?c/2+f/2:0)-d+this.a.zb);a=this.a.getState(c+this.Ze,f+this.$e,this.Sb&&this.Wb);c+=this.wd;f+=this.xd;-1===this.a.ka||this.ng||(c-=Math.floor((-1===this.Mg?this.kg:this.Mg)/2),f-=Math.floor((-1===this.Lg?this.Fg:this.Lg)/2));c=-9999>c||9999<c?Number(c/1E4).toFixed(1)+"K":String(c);d=-9999>f||9999<f?Number(f/1E4).toFixed(1)+"K":String(f);this.wc.ub=c+","+d+"="+a;this.wc.l=!1}this.wc.enabled=
this.ef||this.pa.current===h.lb&&-1!==this.u.Ye?this.X||this.Ya||0===this.kg?!1:!0:!1};c.prototype.gz=function(a){if(!this.Gb&&!this.wa)if(0<this.X)0<a?this.Oo(this,3):this.No(this,3);else if(0<this.Ya)0<a?this.Mo(this,3):this.Lo(this,3);else if(!this.gc){var b=this.wb.current[0];0>a?this.Sj(b,-.05):this.Sj(b,.05)}};c.prototype.IA=function(a,b){var c=b.w.current;var d=!1,e=!1,m=!1,f=!1,g=!1,n;b.gc=!1;b.Mq&&(b.Mq=!1,a=0);b.Wb||b.zA(b);b.ga=b.bc.current[0];b.pa.current!==h.lb?(a>h.Wx&&(e=!0),a>h.ov&&
(a=h.ov),!b.Bc||b.Pb&&!b.mc||(b.Eg+=b.ga*b.Gd*a/1E3,b.Ha+=b.Gd*a/1E3,(b.Ha|0)>b.a.s?(b.Ha+=b.ga-1,b.gg=!0):b.elapsedTime+=a)):b.gg&&(g=!0,b.Ha=b.Mr?b.a.s+1:b.a.s+b.ga,b.Eg=b.Ha);b.qs();b.Pb&&!b.mc&&b.pa.current!==h.lb?(b.Zd&&!b.w.Np(b.elapsedTime+a)&&(b.Zd=!1,b.elapsedTime=b.w.tt(b.a.width/2-b.a.ba,b.a.height/2-b.a.$,b.a.zoom,b.a.angle,b.a.J,b.a.sc*h.Wh,b.a.oe,b.Gd,b.ga,b.a.s,b.elapsedTime)),c.ld&&(b.Sf(!0,!1),b.Zd=!1,c.x=b.a.width/2-b.a.ba,c.y=b.a.height/2-b.a.$,b.wa&&(b.a.zoom*=b.Dc),c.zoom=b.a.zoom),
(m=b.w.update(b.elapsedTime+a,b.a.s))?(c.ld&&(c.ld=!1,b.wa&&(b.a.zoom=c.zoom/b.Dc),b.wb&&(b.wb.current=b.Zg([b.a.zoom,b.a.zoom],!1,b))),b.Ha+=b.Gd*a/1E3,(b.Ha|0)>b.a.s&&(b.Ha+=b.ga-1,b.gg=!0)):(b.pa.current!==h.lb&&(b.gc=!0),b.a.ba=b.a.width/2-c.x,b.a.$=b.a.height/2-c.y,b.a.zoom=c.zoom,b.wa&&(b.a.zoom=b.a.zoom/b.Dc),b.wb&&(b.wb.current=b.Zg([b.a.zoom,b.a.zoom],!1,b)),b.a.angle=c.angle,b.Db&&(b.Db.current=[b.a.angle,b.a.angle]),b.a.J=c.J,b.tc&&(b.tc.current=[b.a.J,b.a.J]),b.a.sc=c.depth/h.Wh+h.mo,
b.Kb&&(b.Kb.current=[Math.sqrt(b.a.sc),b.a.sc*h.Wh]),b.Gd=c.yb,b.Na&&(b.Na.current=[Math.sqrt((c.yb-h.ue)/(h.mi-h.ue)),b.Jt(c.yb)]),b.ga=c.step,b.bc.current=[b.ga,b.ga],c.ab>b.a.s?(b.gg=!0,b.Ha=c.ab):b.gg=!1,c.vd!==b.Yn&&(""===c.vd?b.h.notification.clear(!1,!1):b.h.notification.T(c.vd,1E3,!1),b.Yn=c.vd),c.Ab!==b.Vq&&(b.Nc.current=b.Kj([c.Ab,""],!0,b),b.Vq=c.Ab)),b.gg||(b.elapsedTime+=a)):b.nb&&b.pa.current!==h.lb&&(b.gc=!0);b.gc&&(b.Ee=-1);c=0;if(b.gg){if(b.a.Da){var l=performance.now();var r=(b.Ha|
0)-b.a.s;for(n=0;!f&&b.a.s<(b.Ha|0);){c=performance.now()-l;if(b.a.s===b.vb-1||c>h.Hv&&!g)f=!0;b.ef&&(b.a.s===(b.Ha|0)-1||f)?b.a.oj(!0,b.Ff,b.Lc):b.a.oj(!1,b.Ff,b.Lc);n+=1;(b.a.vv||b.a.s===(b.Ha|0)||f)&&b.a.Wj();b.Oz(a,r);-1!==b.oa&&b.a.s>=b.oa&&!b.Za&&(b.elapsedTime=0,b.reset(b),m&&(b.gc=!0));b.a.Da||(f=!0)}b.a.Da||(b.rq=this.ea+(0<this.a.g?this.a.g:0),-1===b.gh&&(b.gh=b.a.s,b.a.lt(!0),!b.yl||-1!==b.oa&&!b.Za||b.ak||b.h.notification.T("Life ended at generation "+b.gh,600,!0)));b.Ha-=r-n}else b.rq&&
(--b.rq,a=b.a.s,b.a.s=b.gh,b.a.Wj(),b.a.s=a),b.a.s+=b.ga,-1!==b.oa&&b.a.s>=b.oa&&!b.Za&&(b.elapsedTime=0,b.reset(b),m&&(b.gc=!0));b.a.s===b.vb&&(b.pa.current=b.Qd(h.lb,!0,b),b.yl&&b.h.notification.T("STOP reached - Play to continue ",180,!0))}b.wg.locked=b.gc&&b.Pb;b.gj.locked=b.gc||b.nb&&b.pa.current!==h.lb;b.Na.locked=b.gc&&b.Pb;b.bc.locked=b.gc&&b.Pb;b.Nc.locked=b.gc&&b.Pb;b.wb.locked=b.gc;b.Db.locked=b.gc&&b.Pb;b.tc.locked=b.gc&&b.Pb;b.Kb.locked=b.gc&&b.Pb;b.wheelDelta&&(b.gz(b.wheelDelta),b.wheelDelta=
0);b.nb&&(b.pa.current!==h.lb||b.Pb)&&b.Sf(!1,!1);b.a.nz();b.rg&&b.Mx();b.a.Bn();b.a.Ie&&b.a.S&&4<=b.a.zoom?b.a.Lx():b.a.fa&&4<=b.a.zoom&&b.a.Ox();b.mm&&(2===b.mm&&b.a.Cn(b.Ae,1,!0,b.wa),b.Rw(b),2===b.mm&&b.a.Bn(),b.mm=0);b.a.s&&b.a.Da&&(m=h.$d,b.a.ta&&(m=4*b.a.Qb.uc+1,-1!==b.a.ka&&(m+=2*b.a.Qb.uc),b.a.Qb.type===PatternManager.gf&&(m=-1!==b.a.ka?m+b.a.na/2:m+(b.a.C.L-b.a.C.K+1)/2),m<h.$d&&(m=h.$d)),b.a.Uw(m)&&(b.Vd+=b.a.width>>2,b.aj+=b.a.height>>2,b.be+=b.a.width>>2,b.vj+=b.a.height>>2,b.a.S&&(b.Vd-=
b.a.height>>3,b.be-=b.a.height>>3),b.Ze+=b.a.width>>2,b.$e+=b.a.height>>2));b.If&&b.w.iq(b);b.gb&&b.a.Cn(b.Ae,b.Tb,!1,b.wa);b.X?Help.kq(b):b.Nb.length&&Help.jq(b);b.Xd.lower[0]=b.Hn?"+ "+b.qm(b.a.s):"T "+b.qm(b.a.s+b.Gn);b.ej.ub=b.Lw(b.elapsedTime);b.ui.ub=b.qm(b.a.Ba);b.vl()?b.xg.ub=(100*b.a.Ba/(b.a.na*b.a.la)|0)+"%":(b.xg.ub=b.qm(b.a.xb),b.Vh.ub=b.qm(b.a.ic));b.ui.F="alive "+b.a.Ba;b.vl()?b.xg.F="density "+(100*b.a.Ba/(b.a.na*b.a.la)|0)+"%":(b.xg.F="births "+b.a.xb,b.Vh.F="deaths "+b.a.ic);b.dr||
b.uA(c,e,g,b);b.gg=!1;b.Mr=!1;b.dA();-1!==b.Ee&&b.os();if(b.Bc||b.nb&&b.Si>b.Nw||-1!==b.Ee)d=!0;b.vA();b.CA();b.wA();b.DA(b.X||b.Nb.length);b.h.Jg(d)};c.prototype.uA=function(a,b,c,d){a>h.Hv&&!c?(d.lg+=h.Hu,d.lg>=2*h.lr&&(d.lg=0)):0<d.lg&&(d.lg-=h.Hu);b&&!c?d.mg<h.Py&&(d.mg+=h.Iu):d.mg>h.Qy&&(d.mg-=h.Iu);d.lg>=h.lr&&(d.cB=2*h.lr-d.lg);a=d.Ij>>16;b=d.Ij>>8&255;c=d.Ij&255;128<=a?64<=b||64<=c?(b-=d.mg,c-=d.mg,0>b&&(b=0),0>c&&(c=0)):(b+=d.mg,255<b&&(b=255)):(a+=d.mg,255<a&&(a=255));d.Na.Pc="rgb("+a+","+
b+","+c+")";a=d.Ij>>16;b=d.Ij>>8&255;c=d.Ij&255;128<=b?(a-=d.mg,0>a&&(a=0),c-=d.lg,0>c&&(c=0)):(b+=d.lg,255<b&&(b=255));d.bc.Pc="rgb("+a+","+b+","+c+")"};c.prototype.qs=function(){if(this.ec&&!this.fc){this.a.zb=this.Eg*(this.Tg+this.Bh)/2;this.a.sb=this.Eg*(this.Ah+this.Ug)/2;var a=this.a.Xv(0,this.Ah,this.Tg,this.Ug,this.Bh,this.A,this.v-80,h.Va,h.Fb,h.kp);var b=this.a.Xv(this.Eg,this.Ah,this.Tg,this.Ug,this.Bh,this.A,this.v-80,h.Va,h.Fb,h.kp);this.a.Mb=b/a}else this.a.zb=0,this.a.sb=0,this.a.Mb=
1;this.wb.current=this.Zg([this.a.zoom,this.a.zoom],!1,this)};c.prototype.DA=function(a){var b=!(this.X&&this.di===h.Eh);var c=[];var d=[];this.wg.l=a;this.wb.l=a||this.gb;this.gj.l=a;this.bi.l=a;this.ge.l=a||this.gb;this.Cd.l=a||this.gb;this.Fa.l=a||this.gb;this.li.l=a||this.gb;this.nj.l=a;this.Jb.l=a||!this.gb;this.Mk.l=a||!this.gb;this.jk.l=a||!this.gb;this.Le.l=a;this.ej.l=a;this.Me.l=a;this.ui.l=a;this.Bb.l=a||this.Gh();this.xg.l=a||this.Gh();this.he.l=a||this.vl()||this.Gh();this.Vh.l=a||this.vl()||
this.Gh();this.Hc.l=a;this.Db.l=a||this.a.S||this.a.fa;this.Kb.l=a;this.Nc.l=a||this.Sb;this.tc.l=a;this.gj.l=a;this.qg.l=a||!this.zh;this.Ob.l=!(this.se||this.Nb.length);this.ei.l=a;this.fi.l=a;this.Uj.l=a;this.hi.l=a;this.ai.l=a;this.ik.l=a;this.nh.l=a;this.hk.l=a;this.Ck.l=a;this.dk.l=a;this.Xg.l=a;this.Yf.l=a||!this.Ea;this.fd.l=a||!this.Ea;this.Zf.l=a||!this.Ea;this.gd.l=a||!this.Ea;this.uf.l=a||!this.Ea;this.ad.l=a||!this.Ea;this.Nk.l=a||!this.Ea;this.Ih.l=a||!this.Ea;this.Jh.l=a||!this.Ea;
this.Kh.l=a||!this.Ea;this.Ni.l=a||!this.Ea;this.bd.l=a||!this.Ea;this.dd.l=a||!this.Ea;this.ed.l=a||!this.Ea;this.cd.l=a||!this.Ea;this.Nb.length?(this.Ob.F="close errors",this.Ob.ub="Esc",this.Ob.font="16px Arial"):(this.Ob.F="close window",this.Ob.ub="X",this.Ob.font="24px Arial");this.Qi.l=!(this.X&&this.di!==h.Eh);this.bb.l=!(this.X&&this.di!==h.Eh)||!this.rm;this.rf.l=b;this.sf.l=b;this.qf.l=b;this.tf.l=b;this.nf.l=b;this.mf.l=b;this.ie.l=b;this.Dh.l=b||0===this.w.Tl();this.Lh.l=!(this.X&&this.di!==
h.Eh)||this.rm;if(this.al){this.al=!1;for(b=0;b<this.R.length;b+=1)c[b]=this.R[b][1],d[b]="";this.bb.lower=c;this.bb.F=d;this.bb.height=26*this.R.length;this.bb.current=0}this.ac.l=a||!this.re||!this.zk;this.i.l=a||!this.re||!this.zk;if(2>=this.a.g)for(b=0;b<this.i.lower.length;b+=1)c=2>=b?0===b?b:1===b?LifeConstants.cb:LifeConstants.Uh:128+h.hb[b],this.i.bl[b]="rgb("+this.a.Wa[c]+","+this.a.Ta[c]+","+this.a.Ra[c]+")";else for(b=0;b<this.i.lower.length;b+=1)c=0===b+this.Jf?0:this.ea+this.a.g-(b+this.Jf),
this.i.bl[b]="rgb("+this.a.Wa[c]+","+this.a.Ta[c]+","+this.a.Ra[c]+")";this.rk.l=a||!this.re;this.ug.l=a||!this.re;this.Nh.l=a||!this.re||!this.zk||8>this.a.g;this.a.g>this.oh&&this.qo();if(0<this.X){b=0;for(c=-1;b<this.R.length&&-1===c;)this.R[b][0]>this.X?c=this.R[b][0]:b+=1;b===this.R.length&&(c=b);-1!==c&&(this.bb.current=b-1)}this.Dl&&(this.u.l=this.pa.current===h.ni?!0:!1)};c.prototype.wA=function(){var a=-(this.a.width/2-this.a.ba-this.a.zb|0),b=-(this.a.height/2-this.a.$-this.a.sb|0),c=String(a),
d=String(b);this.Yf.l=!this.Ea;this.fd.l=!this.Ea;this.Zf.l=!this.Ea;this.gd.l=!this.Ea;this.uf.l=!this.Ea;this.ad.l=!this.Ea;this.Nk.l=!this.Ea;this.Ih.l=!this.Ea;this.Jh.l=!this.Ea;this.Kh.l=!this.Ea;this.Ni.l=!this.Ea;this.bd.l=!this.Ea;this.dd.l=!this.Ea;this.cd.l=!this.Ea;this.ed.l=!this.Ea;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.fd.ub=c;this.gd.ub=d;this.ad.ub=this.a.angle.toFixed(0)+"\u00b0";this.bd.ub=this.dn.toFixed(3);this.dd.ub=this.fn.toFixed(3);
this.ed.ub=this.gn.toFixed(3);this.cd.ub=this.en.toFixed(3)};c.prototype.CA=function(){0===this.a.s?this.gn=this.dn=this.fn=this.en=0:(this.fn=(this.a.C.L-this.a.Jd.L)/this.a.s,this.en=(this.a.C.K-this.a.Jd.K)/this.a.s,this.dn=(this.a.C.O-this.a.Jd.O)/this.a.s,this.gn=(this.a.C.N-this.a.Jd.N)/this.a.s)};c.prototype.vA=function(){this.wg.current=[this.nb];this.ge.current=[!this.Rh&&this.ke];this.ge.locked=!this.ke;this.ec?(this.Fa.lower[0]="TRACK",this.Fa.current=[!this.fc&&this.ec],this.Fa.locked=
!this.ec,this.Fa.F=["toggle track mode"]):(this.Fa.lower[0]="WAYPT",this.Fa.current=[!this.mc&&this.Pb],this.Fa.locked=!this.Pb,this.Fa.F=["toggle waypoint mode"]);this.li.current=[!this.Za&&-1!==this.oa];this.li.locked=-1===this.oa;this.li.F=["loop at "+this.oa];this.Cd.current=[-1!==this.vb];this.Cd.locked=-1===this.vb;this.Cd.F=["stop at "+this.vb]};c.prototype.Oz=function(a,b){if(this.a.s>=this.Oc.length){var c=this.a.j.V(Float32,this.Oc.length+h.Au,"View.elapsedTimes");c.set(this.Oc);this.Oc=
c}this.elapsedTime+=a/b;this.Oc[this.a.s]=this.elapsedTime};c.prototype.GA=function(a){var b=a.oA,c=a.Cj-a.Pg;if(a.Pg<a.Cj)if(0<a.Wp)--a.Wp;else if(a.Tn)a.Hi.innerHTML=a.wm,a.Pg=a.Cj;else{c<b&&(b=c);var d=document.createElement("textarea");a.Gq(d);if(b!==c)for(;"\n"!==a.wm[a.Pg+b];)--b;d.innerHTML=a.wm.substr(a.Pg,b);a.Pg+=b;a.Hi.appendChild(d)}else a.h.notification.T("Press Enter to complete copy",1E4,!0);a.AA(a);a.a.Bn();a.If&&a.w.iq(a);a.gb&&a.a.Cn(a.Ae,a.Tb,!1,a.wa);a.X?Help.kq(a):a.Nb.length&&
Help.jq(a);a.h.Jg(!0)};c.prototype.HA=function(a){for(var b=a.Vp,c=performance.now(),d,e=a.a.Od.yy*LifeConstants.sm;a.a.s<b-1&&13>performance.now()-c;)d=b-1-a.a.s<=e?!1:!0,a.a.oj(!1,d,a.Lc),a.a.Wj();a.a.s===b-1?(a.a.oj(a.ef,!1,a.Lc),a.a.Wj(),a.Yi=!1,a.Up&&a.h.notification.clear(!0,!1),a.u.locked=!1):a.u.locked=!0;a.BA(a,b);a.a.Bn();a.If&&a.w.iq(a);a.gb&&a.a.Cn(a.Ae,a.Tb,!1,a.wa);a.X?Help.kq(a):a.Nb.length&&Help.jq(a);a.h.Jg(!0)};c.prototype.Ow=function(a,b){b.Yi?b.HA(b):b.fl?b.GA(b):b.IA(a,b)};c.prototype.Bs=
function(a){a.a.s=0;a.Ha=0;a.Eg=0;a.elapsedTime=0;a.a.ba=a.a.width>>1;a.a.$=a.a.height>>1;a.a.ba&=a.a.width-1;a.a.$&=a.a.height-1;a.a.Da=!0;a.Mq=!0;a.gh=-1};c.prototype.Sv=function(a,b,c){b&&(c.rg=a[0]);return[c.rg]};c.prototype.Ov=function(a,b,c){b&&(c.xf=a[0]);return[c.xf]};c.prototype.Rv=function(a,b,c){b&&(c.a.kh=a[0]);return[c.a.kh]};c.prototype.Pv=function(a,b,c){b&&(c.Ea=a[0]);return[c.Ea]};c.prototype.ys=function(a,b,c){b&&(c.gb=a[0]);return[c.gb]};c.prototype.Qv=function(a,b,c){b&&(c.If=
a[0]);return[c.If]};c.prototype.Lv=function(a,b,c){b&&(c.a.Ac=a[0]);return[c.a.Ac]};c.prototype.Nv=function(a,b,c){b&&(c.a.Ie=a[0],c.ps());return[c.a.Ie]};c.prototype.zs=function(a,b,c){b&&(c.a.S=a[0],c.a.S?(c.a.ba-=c.a.$/2,c.Vd-=c.a.$/2,c.be-=c.a.$/2):(c.a.ba+=c.a.$/2,c.Vd+=c.a.$/2,c.be+=c.a.$/2),c.ps(),c.Db.l=c.a.S);return[c.a.S]};c.prototype.el=function(a,b,c){b&&(c.h.Ai=a[0]);c.h.Jg(!0);return[c.h.Ai]};c.prototype.Hk=function(a,b,c){b&&(c.h.Bi=a[0]);c.h.Jg(!0);return[c.h.Bi]};c.prototype.Kj=function(a,
b,c){b&&(b=a[0]+.5|0,c.a.oe!==b&&(c.a.yk(b,c.a.Wi,c),1<c.a.Wi&&(c.h.Ki=c.a.Wi)));return[a[0],c.es(c.a.oe)]};c.prototype.Mi=function(a,b,c){b&&(c.ga=a[0]+.5|0);return[c.ga,c.ga]};c.prototype.Jt=function(a){return(10>a.toFixed(1)?a.toFixed(1):a.toFixed(0))+"/s"};c.prototype.Yg=function(a,b,c){b?(c.Gd=h.ue+a[0]*a[0]*(h.mi-h.ue),a=a[0]):a=Math.sqrt((c.Gd-h.ue)/(h.mi-h.ue));return[a,c.Jt(c.Gd)]};c.prototype.gv=function(a){a.wk=a.a.zoom;a.wa&&(a.wk=a.wk*a.Dc);a.Cr=a.a.angle;a.be=a.a.ba;a.vj=a.a.$};c.prototype.Dz=
function(a){a.Ei=a.a.width/2-a.a.ba;a.Fi=a.a.height/2-a.a.$;a.yj=a.a.zoom;a.Di=a.a.angle;a.ih=a.a.width/2-a.be;a.fj=a.a.height/2-a.vj;a.bk=a.Cr;a.wa?a.Zh=a.wk/a.Dc:a.Zh=a.wk;a.Ee=0};c.prototype.yz=function(a,b){a.a.zoom=a.Ct;a.wa&&(a.a.zoom=a.a.zoom/a.Dc);a.wb&&(a.wb.current=a.Zg([a.a.zoom,a.a.zoom],!1,a));a.a.angle=a.Xj;a.Db&&(a.Db.current=[a.Xj,a.Xj]);a.a.ba=a.Vd;a.a.$=a.aj;b&&(b=a.a.Wi,a.a.Wi=1,a.Nc.current=a.Kj([a.wn,""],!0,a),a.a.Wi=b,a.Sb&&(a.a.Vi=0),b=Math.sqrt((a.fq-h.ue)/(h.mi-h.ue)),a.Na.current=
a.Yg([b,b],!0,a),a.ga=a.vn,a.bc.current=[a.ga,a.ga],a.a.J=a.Zj,a.tc.current=[a.Zj,a.Zj],b=Math.sqrt(a.eq),a.Kb.current=a.Ch([b,b],!0,a))};c.prototype.Dp=function(a){a?(this.a.ba+=this.a.zb,this.a.$+=this.a.sb,this.a.zoom*=this.a.Mb):(this.qs(),this.a.ba-=this.a.zb,this.a.$-=this.a.sb,this.a.zoom/=this.a.Mb,this.qs());this.a.zoom<h.Va?this.a.zoom=h.Va:this.a.zoom>h.Fb&&(this.a.zoom=h.Fb)};c.prototype.Yu=function(a){a.elapsedTime=0;a.Sb||(a.a.Io(a.Ff),a.a.Da=!0,a.a.zr())};c.prototype.reset=function(a){var b=
!1,c=!1;if(0===a.elapsedTime||a.On)b=!0;a.Za||-1===a.oa||a.a.s>=a.oa&&(c=!0);c||b||(a.Pb&&(a.mc=!0),a.ec&&(a.fc=!0),-1!==a.oa&&(a.Za=!0),a.Um&&(a.nb=!1));a.elapsedTime=0;a.a.zb=0;a.a.sb=0;a.a.Mb=1;if(b){a.Pb&&(a.mc=!1);a.ec&&(a.fc=!1);a.Um&&(a.nb=!0);if(!c||a.Pb||a.nb)a.yz(a,b),a.nb&&a.Sf(!0,!1);a.Za=!1}a.Sb||(a.a.Io(a.Ff),a.Ha=a.a.s,a.Eg=a.Ha,a.a.Da=!0);a.Lc||a.a.Zu();a.a.zr();a.Yn="";a.Vq=-1;a.Zd=!1;a.w.Bz();a.h.notification.clear(!1,!1);a.gh=-1};c.prototype.iv=function(a){a?(this.pa.icon[2]=this.ia.icon("pause"),
this.pa.F[2]="pause"):(this.pa.icon[2]=this.ia.icon("stepforward"),this.pa.F[2]="next generation")};c.prototype.df=function(a,b){b.di=a;b.X=1;b.rm=!0;b.Aq=[];b.Bq=[];this.al=!0};c.prototype.bw=function(a){a.df(h.$t,a)};c.prototype.hw=function(a){a.df(h.Fr,a)};c.prototype.$v=function(a){a.df(h.El,a)};c.prototype.pw=function(a){a.df(h.wv,a)};c.prototype.Hs=function(a){a.df(h.ot,a)};c.prototype.xr=function(a){a.df(h.Rs,a)};c.prototype.cw=function(a){a.df(h.tu,a)};c.prototype.Dr=function(a){a.df(h.Xs,
a)};c.prototype.rx=function(a,b,c){b&&(c.X=c.R[a][0],c.rm=!1);return a};c.prototype.As=function(a,b,c){var d=a;if(b)switch(a){case h.zu:c.Wb?(c.h.notification.T("Drawing not available",40,!0),d=h.Ql):(c.re=!0,c.rk.current=c.ls([!1],!0,c));break;case h.Ql:c.re=!1}return d};c.prototype.Cs=function(a,b,c){var d=a;b&&(c.Te=a,2>=c.a.g?b=c.a.rc?h.pv[c.Te]:c.Te?"Alive":"Dead":(a+=c.Jf,0===a?(c.Te=0,b="Dead"):(c.Te=c.a.g-a,b=1===a?"Alive":"Dying "+String(a-1))),c.h.notification.T("Drawing with state "+a+
" ("+b+")",120,!0),c.rk.current=c.ls([!1],!0,c));return d};c.prototype.Px=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.ac.current=c.Cs(d,!0,c)),d+=1;return a};c.prototype.Qd=function(a,b,c){var d=a,e=c.Za,f=c.mc,m=c.Rh,g=c.nb,p=c.fc,n=40,l=0,r=0,z=0,A=0,y=0;if(b){switch(a){case h.$q:c.Rh=c.On||c.ke&&0===c.a.s&&0===c.elapsedTime?!1:!0;c.ke&&!c.Rh?(a=h.ni,c.Bc=!0,c.ak=0===c.a.Ba?!0:!1):(a=h.lb,c.Bc=!1);c.reset(c);b="Reset";!c.Za&&e&&-1!==c.oa&&(l=1);c.Za&&!e&&-1!==c.oa&&(l=-1);!g&&
c.nb&&(y=1);g&&!c.nb&&(y=-1);!c.mc&&f&&(r=1);c.mc&&!f&&(r=-1);!c.fc&&p&&(z=1);c.fc&&!p&&(z=-1);!c.Rh&&m&&c.ke&&(A=1);c.Rh&&!m&&c.ke&&(A=-1);if(0!==l||0!==r||0!==z||0!==A||0!==y){b="";0!==l&&(b+="Loop");if(0!==r||0!==z||0!==y)0!==l&&(b=0!==A?b+", ":b+" and "),b=0!==r?b+"Waypoints":0!==z?b+"Track":b+"AutoFit";if(0!==A){if(0!==l||0!==r||0!==z||0!==y)b+=" and ";b+="AutoStart"}b=0<l||0<r||0<z||0<A||0<y?b+" On":b+" Off";n=120}c.h.notification.T(b,n,!0);break;case h.ni:c.pa.current!==h.ni&&(c.Bc=!0,c.ak=
0===c.a.Ba?!0:!1,c.h.notification.T("Play",40,!0));break;case h.Iy:c.Bc?(c.Bc=!1,c.h.notification.T("Pause",40,!0)):0<c.a.s&&c.jm(c.a.s-c.ga);a=h.lb;break;case h.lb:c.Bc?(c.Bc=!1,(c.a.s!==c.vb||c.yl)&&c.h.notification.T("Pause",40,!0)):(c.gg=!0,c.ak=0===c.a.Ba?!0:!1)}d=a;c.iv(c.Bc)}return d};c.prototype.Km=function(a,b,c){b&&(c.Zd=!0,c.a.angle=a[0]);return[c.a.angle,c.a.angle]};c.prototype.Lm=function(a,b,c){b?(c.Zd=!0,c.a.J=a[0]+.5|0,a=a[0]):a=c.a.J;return[a,c.a.J]};c.prototype.Ch=function(a,b,c){return b?
(c.Zd=!0,c.a.sc=a[0]*a[0],[a[0],c.a.sc*h.Wh]):[Math.sqrt(c.a.sc),c.a.sc*h.Wh]};c.prototype.Kx=function(a,b,c,d){var e=this.Te;-1===c&&-1===d?(this.pk=this.Su(),2<this.a.g&&(e=this.a.g-e),this.pk=this.Ro&&this.pk===e?0:this.Te):(this.lo(c,d),c=this.Lj,d=this.Mj,this.lo(a,b),a=this.Lj,b=this.Mj,this.np(c,d,a,b,this.pk)&&this.a.az());0<this.a.Ba&&(this.gh=-1,this.a.Da=!0)};c.prototype.Tx=function(a,b,c,d){d.Dl&&!c&&(d.pa.current=d.Qd(h.lb,!0,d))};c.prototype.Sw=function(a,b,c,d){d.Mv(a,b,c,d,!1)};c.prototype.Mv=
function(a,b,c,d,e){if(c){if(d.X||d.Ya||!d.re||e){if(-1!==d.kj)if(d.X)e=d.ii-b,e/=h.fontSize,0<e?d.No(d,e):0>e&&d.Oo(d,-e);else if(d.Ya)e=d.ii-b,e/=h.fontSize,0<e?d.Lo(d,e):0>e&&d.Mo(d,-e);else{c=(d.kj-a)/d.a.ma;e=(d.ii-b)/d.a.ma/(d.a.fa&&4<=d.a.ma?h.So:1);var f=d.a.S||d.a.fa?0:-d.a.angle;if(!d.gc){var m=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);d.Zd=!0;d.a.ba+=c*f+e*-m;d.a.$+=c*m+e*f}}}else d.re&&-1!==a&&-1!==b&&!d.qk&&d.Kx(a,b,d.kj,d.ii);d.kj=a;d.ii=b}else e||!0!==d.qk||-1===a||-1===b||
(d.pk=d.Su(),a=d.Jf,d.Jf=0,d.ac.current=d.Cs(d.pk,!0,d),d.Jf=a),d.kj=-1,d.ii=-1};c.prototype.pi=function(a,b){8>this.a.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8));this.ii=this.kj=0;this.Mv(a,b,!0,this,!0);this.ii=this.kj=-1};c.prototype.Ns=function(a){var b=h.Xt;null===b&&(b=new Image,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAAAoCAIAAABYa1qWAAAABnRSTlMAAAAAAABupgeRAAAHbklEQVR4nO2dWbKtKBBFtaIGfIbijK0P4xIUSL8zE3Cvr/fEmx1dHkQ8DkIIIYQQQghp5ff7iV7/MtKxZcw/yFPpcdVLXw/uydwAKf03o56QRbnvO7hynqeCZCu9Vtz3rWOGmiJCTLiu6/f7Xdeldr0v3x0pPZhwkI2RmKLy6YWtXn3O8wxSAUhmICFzAxgHAiROSp50Ib6OKj2O458uUwmZnWculJOfGv2t9FrxNX8J2ZLXdRF4KRMOsi1yc2F+FrTSa8XX/CVkV54nL0KlBxMOsjcSc2HNLGil14qv+UvITugsbxCyJ8HkB5wL85Kt9MaYvDFx3zfEZZQcIazeUpk5Jj4TVt+EJgXM8JZKcPN4aXxn8geE1c+L1o14kI17vpARr3f6TfbExLmD2iBZlBPoRSGxmXESvfpvUfo/WSRen9F8Jae+gmzjfIgNL1ixqLEURdCWZjApxl8GUPt3/I9Xk+Cl79x/VN2N406Aur8oZNDsPqUQ+iyvdAeltChHwp0PwjMhahjvPppxlugUg+7nBwr/CsDWAfOExkkIVqsaVqXvWFVS68TWen9RyKDBfX+FotX4om1Fg0eEFxVB3PkmTDgqGWzPqyccI2JfQxdcMezOqaFmiYFFp10pnPQVUHsOxy2z0L00SzTcVqZy6t7oERWZCjegSb/WOzm7drEv12klLiGQO+krKL2uq+3gL6YdD7u25gn92nVATBFUwdK+tzYnfWef1vXonbDxT06Qq9V3VdFOXazHpfsUEPcWq9xJX3Fpz0mjX047UKOSxO+qwRqZdsD9Ws6xE/UVp9n83AjmFthd2vEpxntWxzjmHrUIbYCFy9wVyLbQvOSY/nM4VnkYhgLu74lmxJjJq3Jy88hyPP3FfzeKbUwB0SDXCP9gWpkCcrTG607VTOnowV9f6Kjb+7iEd0sYSeZnp4dWI0isMQSxVe6zRXdq/M1sNXXuoO55SM3ZctcDRE8XDUpz53DkrYyBNN+U3pTw1vuLQvw/tAqCJnkf/Z+A+RsG1RUV9albjo7p0Px8iBRNU5rQGnus5Yii6mKeN8A8ztgQAaVVjpPB8xfpdCfWXikkM9e47T6Qexwm53DUGIAtzZFP0Cpztw5axULMiP/Qyn1l6t1B+dutaNEIWzHDa7FNlaVQs6km1NqupGObul5pZM1tg9GOI1bsttId2Zc5oitzsy8fco+P9NkbxbMx8i+tQEoPiW+prD4rqNnf0UWxHXjRalrU7KPuyIfBOl0IK+9Syxt7cP9tyZRWIa2lifv/C1crroM+Tx/ixQDp6wHdu0FrSg+5j7dtP1wOIhGcJplL187SxpOHqWaFqYyBkOkjt/rDlBjss6G8wP0qVwKdnRz8WiwhRAl/flLOGl+npeJctRb337EiDzq/+jpUSGcb/sVtKncPpBKO8Rc1iShL187Sxn8Zv+I0K3GzxOKVeN3CpR3521qJ/9xqxZHZBhDRhymuFJ9wrJ5q6NgvoaJV5qLVtKjZxKGwzyBWV399RTJphL/UgXJ5hj74hSUrfUQfrBzYhGP1VMNHwZfsIV499NkA90uU5Qz2qamv8Tqdn9Pi1+frzKRvhgTFRYunLWETLNu47ZdtSJ+9kT+TQ2d540CdwwGs45TelIrW+4tC4j+0CoUaGQedO5A418ipMWYbAmfjWaHGZfPzIVI0rd4DdzIGYp9/jE9O5nGOQ9TqBTbIfRnMuAGi2UbeqbPiszv19zimOodD9L9JEq9ehpQFNdKqCGLYiCLpgOhQdAflr5qiJYh9RHnNczic2DiSwEalGWc5L7pJ9dYMEI01F1fB8OyNvAESpUmk202rXtT9RSF95kmHRYG8Oyh/i3I2i2qe2E2U40w4nNg4nsBGZZhwvF7RJ9Wjiz29W1fNxdVRaFeos7yaSnu+FrvfynY9NctllcA7yWC9wJ/yovhye1ud2VqUs2ePRjWDF03jxrjBO+3bsOXKfp5eqLQt4WC9PoynHRID8W3xsWlp2OTWhXX3ESrHjcH2kFrgYTPrI7+GEd82XnpdV23CwUqNAa52zMNUOcf2rS52cHuXZ4BBhqM/bjDbGCS/SnH8pQvY0vJrsRu/ngdhv/hM4s4kZpDNYLtaET+9eDZt7DfwKqP2KqxPLuFgjdbTGiuJwAJlmtc73ACrbTdzbvcBgt0V2CczsznRNaS9jzb5CFumGlZnbzzofELFsU+1EeIItrOM726plGyi1/x8CAdqlbtDTpyUwOck8zgDmxOZCvNzODL2jJTWHsJByNL40w98eSAj3EpvjP5rsTfu8GygKAmkY5u6Pm1AyDjSZ2/kz+SQO3hDP00nRBs3NAuN0Sn5VnpjlBMOrOPSYRyECQeRwKpdBaUjx3IUD+3g5+nJtsgtQef35FvpteJr/hryulsFiLV/xBjRnaRH38FfhMyP9APv1FxopdcKHX+5d+GYYCs32Rid3aNMOMi2+BMzcPPmtHr1iVMBiL+xTOYchGAZfPLSUXow4SBbIjc55SVb6bVCzao53SdkXV6/Gft6HVVKCCGEEKLBfwV0RB7MVN6yAAAAAElFTkSuQmCC",
h.Xt=b);this.ia=new IconManager(b,a);this.ia.add("play",40,40);this.ia.add("pause",40,40);this.ia.add("tostart",40,40);this.ia.add("menu",40,40);this.ia.add("stepback",40,40);this.ia.add("stepforward",40,40);this.ia.add("autofit",40,40);this.ia.add("fit",40,40);this.ia.add("grid",40,40);this.ia.add("shrink",40,40);this.ia.add("draw",40,40);this.ia.add("hexgrid",40,40);this.ia.add("lines",40,40);this.ia.add("pan",40,40);this.ia.add("pick",40,40);this.ia.add("states",40,40);this.ia.add("hexagongrid",
40,40);this.ia.add("trianglegrid",40,40)};c.prototype.ps=function(){this.bi.icon=this.a.S?this.a.Ie?[this.ia.icon("hexagongrid")]:[this.ia.icon("hexgrid")]:this.a.fa?[this.ia.icon("trianglegrid")]:[this.ia.icon("grid")]};c.prototype.Do=function(a,b){a.h.hasFocus&&(a.Yi||(b.wheelDelta?a.wheelDelta=b.wheelDelta/120:b.detail&&(a.wheelDelta=-b.detail/3),a.h.Jg(!0)),b.preventDefault())};c.prototype.os=function(){var a=this.w.$s(this.Ee/this.Vo),b=this.Di,c=this.bk;this.a.ba=this.a.width/2-(this.Ei+a*(this.ih-
this.Ei));this.a.$=this.a.height/2-(this.Fi+a*(this.fj-this.Fi));this.a.zoom=this.yj*Math.pow(this.Zh/this.yj,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.a.angle=(b+a*(c-b))%360;this.xn&&(this.a.sc=this.Sr+a*(this.mq-this.Sr),this.Kb.current=this.Ch([this.a.sc,this.a.sc],!1,this));this.Zn&&(this.a.J=this.Tr+a*(this.nq-this.Tr),this.tc.current=this.Lm([this.a.J,this.a.J],!1,this));this.Ee+=1;this.Ee>this.Vo&&(this.Ee=-1,this.a.zoom=this.Zh,this.a.angle=c,this.a.ba=this.a.width/2-this.ih,this.a.$=this.a.height/
2-this.fj,this.xn&&(this.a.sc=this.mq,this.Kb.current=this.Ch([this.a.sc,this.a.sc],!1,this)),this.Zn&&(this.a.J=this.nq,this.tc.current=this.Lm([this.a.J,this.a.J],!1,this)));this.wb&&(this.wb.current=this.Zg([this.a.zoom,this.a.zoom],!1,this));this.Db&&(this.Db.current=this.Km([this.a.angle,this.a.angle],!1,this))};c.prototype.Hr=function(a,b){var c=a.w.tb[b];a.Ei=a.a.width/2-a.a.ba;a.Fi=a.a.height/2-a.a.$;a.yj=a.a.zoom;a.Di=a.a.angle;c.Kf?a.ih=c.x:a.ih=a.Ei;c.jf?a.fj=c.y:a.fj=a.Fi;c.yd?a.Zh=c.zoom:
a.Zh=a.yj;c.bh?a.bk=c.angle:a.bk=a.Di;a.a.S&&(a.ih+=a.a.$/2);a.xn=c.fh;a.xn&&(a.Sr=a.a.sc,a.mq=c.depth/h.Wh);a.Zn=c.mh;a.Zn&&(a.Tr=a.a.J,a.nq=c.J);a.Ee=0;a.Vo=c.Hg;a.os();c.uj&&a.Yu(a);c.we===WaypointConstants.play?a.pa.current=a.Qd(h.ni,!0,a):c.we===WaypointConstants.stop&&a.pa.current!==h.lb&&(a.pa.current=a.Qd(h.lb,!0,a));c.ff&&(a.Nc.current=a.Kj([c.Ab,""],!0,a));a.h.notification.T("POI "+(b+1),60,!0);""!==c.vd?a.h.notification.T(c.vd,180,!1):a.h.notification.clear(!1,!0);c.Gi&&(a.vb=c.vb);c.ki&&
(a.oa=c.oa);c.jh&&(a.Gd=Math.sqrt((c.yb-h.ue)/(h.mi-h.ue)),a.Na.current=a.Yg([a.Gd,a.Gd],!0,a));c.wh&&(a.ga=c.step,a.bc.current=a.Mi([a.ga,a.ga],!0,a));c.vm&&(a.a.s>c.ab&&a.Yu(a),a.a.s<c.ab&&(a.Yi=!0,a.Vp=c.ab,a.Up=!1));c.ij&&(a.a.jb=c.pc);c.To&&(this.rg=c.Ci)};c.prototype.Nf=function(a,b,c){var d=b/a.a.Mb;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.a.Mb);a.gc||(a.Ei=a.a.width/2-a.a.ba,a.Fi=a.a.height/2-a.a.$,a.yj=a.a.zoom,a.Di=a.a.angle,a.ih=a.Ei,a.fj=a.Fi,a.Zh=d,a.bk=a.Di,a.Ee=0)};c.prototype.rp=
function(a){a.gb=!1;a.ai.current=a.ys([a.gb],!0,a)};c.prototype.ws=function(a){a.Nb.length?(a.Nb=[],a.Ya=0):e()};c.prototype.dw=function(a){a.Ib+=1;a.Ib>=z.Cc.length&&(a.Ib=0);a.vh(z.Cc[a.Ib].pattern,!1)};c.prototype.ew=function(a){--a.Ib;0>a.Ib&&(a.Ib=z.Cc.length-1);a.vh(z.Cc[a.Ib].pattern,!1)};c.prototype.nw=function(a){a.Zr();a.X&&(a.X=0);a.Df.current[0]=!1;a.h.Rg=!0};c.prototype.iw=function(a){a.rm=!0};c.prototype.sw=function(a){a.df(h.Eh,a)};c.prototype.op=function(a){a.Sf(!0,!0);a.pa.current===
h.lb&&(a.Zd=!0)};c.prototype.yv=function(a,b,c){b&&(c.a.jb=a[0]);return[c.a.jb]};c.prototype.zv=function(a,b,c){b&&(c.Ae=a[0]);return[c.Ae]};c.prototype.$n=function(a,b,c){b&&(c.zk=a[0]);return[c.zk]};c.prototype.ls=function(a,b,c){b&&(c.qk=a[0],c.qk&&c.h.notification.T("Now click on a cell",180,!0));return[c.qk]};c.prototype.xv=function(a,b,c){b&&(c.nb=a[0],c.nb&&c.pa.current===h.lb&&c.Sf(!0,!0));return[c.nb]};c.prototype.qw=function(a,b,c){b&&-1!==c.oa&&(c.Za=!a[0],c.Pb?(c.mc=c.Za,c.h.notification.T("Loop and Waypoints "+
(c.Za?"Off":"On"),40,!0)):c.ec?(c.fc=c.Za,c.h.notification.T("Loop and Track "+(c.Za?"Off":"On"),40,!0),c.Dp(c.fc)):c.h.notification.T("Loop "+(c.Za?"Off":"On"),40,!0));return[c.Za]};c.prototype.rw=function(a,b,c){b&&(c.ec?(c.fc=!a[0],c.Dp(c.fc),-1!==c.oa?(c.Za=c.fc,c.h.notification.T("Loop and Track "+(c.Za?"Off":"On"),40,!0)):c.h.notification.T("Track "+(c.fc?"Off":"On"),40,!0)):c.Pb&&(c.mc=!a[0],-1!==c.oa?(c.Za=c.mc,c.h.notification.T("Loop and Waypoints "+(c.Za?"Off":"On"),40,!0)):c.h.notification.T("Waypoints "+
(c.mc?"Off":"On"),40,!0)));return c.ec?[c.fc]:[c.mc]};c.prototype.Cm=function(a,b,c){b&&(c.X=a[0],c.X?c.Nb.length&&c.df(h.Fr,c):(c.df(h.Eh,c),c.X=0));return[c.X]};c.prototype.hp=function(a,b,c){b&&(c.ef=a[0],c.ef&&(c.a.Da?0===c.a.s?(c.a.Ba=c.a.Ho.Ba,c.a.xb=c.a.Ho.xb,c.a.ic=c.a.Ho.ic):-1===c.a.g&&(--c.a.s,c.a.oj(!0,c.Ff,c.Lc)):(c.a.Ba=0,c.a.xb=0,c.a.ic=0)));c.h.Jg(!0);return[c.ef]};c.prototype.Mo=function(a,b){1<a.Ya&&(a.Ya-=b,1>a.Ya&&(a.Ya=1))};c.prototype.Lo=function(a,b){a.Ya<a.Nb.length-a.$b+1&&
(a.Ya+=b,a.Ya>a.Nb.length-a.$b+1&&(a.Ya=a.Nb.length-a.$b+1))};c.prototype.Oo=function(a,b){1<a.X&&(a.X-=b,1>a.X&&(a.X=1))};c.prototype.No=function(a,b){a.X<a.mk-a.$b&&(a.X+=b,a.X>a.mk-a.$b&&(a.X=a.mk-a.$b))};c.prototype.cz=function(a){for(var b=a.R.length-1,c=!1;0<=b&&!c;)a.X<=a.R[b][0]?--b:c=!0;c&&(a.X=a.R[b][0])};c.prototype.Ly=function(a){for(var b=0,c=!1;b<a.R.length&&!c;)a.X>=a.R[b][0]?b+=1:c=!0;c&&(a.X=a.R[b][0])};c.prototype.jm=function(a){var b=this.ea+(0<this.a.g?this.a.g:0);this.Ff?this.h.notification.T("Step back disabled",
40,!0):this.h.vr&&(this.h.vr=!1,0>a&&(a=0),this.elapsedTime=this.Oc[a],this.Eg=this.Ha=a,-1!==this.gh&&a>this.gh+b?this.a.s=a:this.a.jm(a,this.ef,this.Lc),this.w.kA(this.elapsedTime),this.Zd=!0,a!==this.a.s&&(this.Yi=!0,this.Vp=a,this.a.Io(!1),this.h.notification.T("Computing previous generations",1E4,!0),this.Up=!0))};c.prototype.Gq=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.LA="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";
a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};c.prototype.bn=function(a,b,c){var d="textarea";a.wm=b;a.Pg=0;a.Cj=b.length;if(c){var e=performance.now()-a.an;e<h.bx&&a.Cj<h.$w?c=!1:a.Tn||(d="div")}a.Bj=document.createElement("div");a.Bj.contentEditable=!0;a.Gq(a.Bj);a.Hi=document.createElement(d);a.Gq(a.Hi);a.Hi.contentEditable=!0;a.Bj.appendChild(a.Hi);document.body.appendChild(a.Bj);c?(a.Wp=h.cx,a.h.notification.T("Copying...",1E4,!0),a.fl=!0,a.u.locked=!0):(a.Hi.innerHTML=b,
a.pt(a,c))};c.prototype.pt=function(a,b){a.Tn?a.Hi.focus():a.Bj.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(p){}document.body.removeChild(a.Bj);a.wm="";a.Bf.canvas.focus();a.h.notification.T("Copy complete",120,!0);b&&(a.fl=!1,a.u.locked=!1);a.an=-1};c.prototype.Lf=function(a){var b=ColourManager.kd,c=Object.keys(b),d=a.red,e=a.green;a=a.blue;for(var f="",g=!1,m=null,h=0;h<c.length&&!g;)m=b[c[h]],m[1]===d&&m[2]===e&&m[3]===a?(g=!0,h=c.length):h+=1;g?f=m[0]:f=d+
" "+e+" "+a;return f};c.prototype.Tj=function(a,b){return a.red===b.red&&a.green===b.green&&a.blue===b.blue};c.prototype.rt=function(a,b){var c="#C "+Keywords.wj+" ",d=String(-(a.a.width/2-a.a.ba-a.a.zb|0)),e=String(-(a.a.height/2-a.a.$-a.a.sb|0)),f=a.a.zoom,g=a.a.angle|0,m=a.a.La[a.a.oe];0!==a.a.s&&(c+=Keywords.um+a.a.s+" ");c+=Keywords.Zc+" "+d+" "+Keywords.$c+" "+e+" ";c+=Keywords.nc+" "+(f===(f|0)?String(f):String(f.toFixed(2)))+" ";c+=Keywords.Qh+" "+g+" ";c+=Keywords.xk+"\n";if(b){c+="#C "+
Keywords.wj+" ";if(a.Pf){if(2<a.a.g){if(c+=Keywords.ra+" "+Keywords.Xo+" "+a.Lf(m.Wg),c+=" "+Keywords.ra+" "+Keywords.Wo+" "+a.Lf(m.Ne),a.Tj(m.Eb.D,m.Wg)||(c+=" "+Keywords.ra+" "+Keywords.Zo+" "+a.Lf(m.Eb.D)),a.Tj(m.Eb.B,m.Eb.D)||(c+=" "+Keywords.ra+" "+Keywords.Yo+" "+a.Lf(m.Eb.B)),m.$j||(c+=" "+Keywords.ra+" "+Keywords.uv+" "+a.Lf(m.Sa.D)),m.$j||!a.Tj(m.Sa.B,m.Sa.D))c+=" "+Keywords.ra+" "+Keywords.tv+" "+a.Lf(m.Sa.B)}else c+=Keywords.ra+" "+Keywords.Xo+" "+a.Lf(m.Oa),c+=" "+Keywords.ra+" "+Keywords.Wo+
" "+a.Lf(m.ya.B),a.Tj(m.ya.B,m.ya.D)||(c+=" "+Keywords.ra+" "+Keywords.ds+" "+a.Lf(m.ya.D)),a.Tj(m.xa.D,m.Oa)||(c+=" "+Keywords.ra+" "+Keywords.Zo+" "+a.Lf(m.xa.D)),a.Tj(m.xa.B,m.xa.D)||(c+=" "+Keywords.ra+" "+Keywords.Yo+" "+a.Lf(m.xa.B));c+=" "+Keywords.xk+"\n#C "+Keywords.wj+" "}c+=Keywords.yh+" "+m.name+" ";a.ea!==a.eo&&(c+=Keywords.Rn+" "+a.ea+" ");c+=Keywords.Ik+" "+a.A+" ";c+=Keywords.fk+" "+a.v+" ";c+=Keywords.xk+"\n"}a.bn(a,c,!1)};c.prototype.Xp=function(a,b){a.an=performance.now();r.Ia?
a.bn(a,z.Cc[a.Ib].pattern,b):a.bn(a,g(a.element),b)};c.prototype.qt=function(a,b){a.an=performance.now();a.bn(a,a.a.Kw(a,a.a,b),!0)};c.prototype.dz=function(a,b,c){var d=!0;if(a.Gb)a.ro||85!==b||(a.Gb=!a.Gb,a.u.l=a.Gb,a.h.Gb=a.Gb);else{if(c.ctrlKey&&67!==b||c.metaKey)c.ctrlKey&&37<=b&&40>=b?37===b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35):c.ctrlKey&&82===b||(b=-1);if(c.altKey&&!c.ctrlKey){if(49<=b&&57>=b)b-=49,0<=b&&b<a.w.tb.length&&(a.qe=b,a.Hr(a,a.qe));else switch(b){case 67:a.Sb||(a.Nc.current=
a.Kj([a.wn,""],!0,a),a.h.notification.T(a.es(a.a.oe)+" Theme",40,!0));break;case 88:a.Uj.current=a.Lv([!a.a.Ac],!0,a);break;case 191:a.a.fa||(a.fi.current=a.Nv([!a.a.Ie],!0,a),a.h.notification.T("Hex display uses "+(a.a.Ie?"Hexagons":"Squares"),40,!0))}b=-2}switch(b){case 191:case 111:a.a.fa||(c.shiftKey?a.a.Yl!==a.a.S&&(a.ei.current=a.zs([a.a.Yl],!0,a)):a.ei.current=a.zs([!a.a.S],!0,a),a.h.notification.T("Hex Display "+(a.a.S?"On":"Off"),40,!0));break;case 66:a.Wb||(a.pa.current===h.lb?0<a.a.s&&
a.jm(a.a.s-1):a.pa.current=a.Qd(h.lb,!0,a));break;case 13:a.Wb||(a.pa.current=a.pa.current===h.ni?a.Qd(h.lb,!0,a):a.Qd(h.ni,!0,a));break;case 9:a.Wb||(a.Bc?a.pa.current=a.Qd(h.lb,!0,a):c.shiftKey?0<a.a.s&&a.jm(a.a.s-a.ga):a.gg=!0);break;case 32:a.Wb||(a.Bc?a.pa.current=a.Qd(h.lb,!0,a):(a.gg=!0,a.Mr=!0));break;case 87:a.Pb?(a.mc=!a.mc,-1!==a.oa?(a.Za=a.mc,a.h.notification.T("Loop and Waypoints "+(a.mc?"Off":"On"),40,!0)):a.h.notification.T("Waypoints "+(a.mc?"Off":"On"),40,!0),a.mc?a.h.notification.clear(!1,
!1):a.w.Np(a.elapsedTime)||(a.w.Ux(a.a.s),a.elapsedTime=a.w.Ft(a.a.s),a.elapsedTime=a.w.tt(a.a.width/2-a.a.ba,a.a.height/2-a.a.$,a.a.zoom,a.a.angle,a.a.J,a.a.sc*h.Wh,a.a.oe,a.Gd,a.ga,a.a.s,a.elapsedTime),a.Zd=!1)):a.ec?(a.fc=!a.fc,-1!==a.oa?(a.Za=a.fc,a.h.notification.T("Loop and Track "+(a.fc?"Off":"On"),40,!0)):a.h.notification.T("Track "+(a.fc?"Off":"On"),40,!0),a.Dp(a.fc)):-1!==a.oa&&(a.Za=!a.Za,a.h.notification.T("Loop "+(a.Za?"Off":"On"),40,!0));break;case 69:!a.bc.locked&&a.ga<h.$d&&(c.shiftKey?
a.ga=h.$d:a.ga+=1,a.bc.current=a.Mi([a.ga,a.ga],!0,a));break;case 68:!a.bc.locked&&a.ga>h.mj&&(c.shiftKey?a.ga=h.mj:--a.ga,a.bc.current=a.Mi([a.ga,a.ga],!0,a));break;case 90:c.shiftKey?(b=z.lA(),0===b?a.h.notification.T("No LifeViewers playing",100,!0):1<b&&a.h.notification.T("Paused all LifeViewers",100,!0)):(b=z.mA(a),0===b?a.h.notification.T("No other LifeViewers playing",100,!0):1<b?a.h.notification.T("Paused "+b+" other LifeViewers",100,!0):a.h.notification.T("Paused "+b+" other LifeViewer",
100,!0));break;case 88:c.shiftKey?(a.nh.current=a.Rv([!a.a.kh],!0,a),0<a.a.Ve&&(a.h.notification.T("Major Grid Lines "+(a.a.kh?"On":"Off"),40,!0),a.mt())):(a.a.jb=!a.a.jb,a.bi.current=a.yv([a.a.jb],!0,a),a.h.notification.T("Grid Lines "+(a.a.jb?"On":"Off"),40,!0));break;case 89:a.Lc?a.h.notification.T("Graph Disabled",40,!0):c.shiftKey?(a.Ae=!a.Ae,a.jk.current=a.zv([a.Ae],!0,a),a.h.notification.T("Graph "+(a.Ae?"Lines":"Points"),40,!0)):(a.gb=!a.gb,a.ai.current=a.ys([a.gb],!0,a),a.h.notification.T("Population Graph "+
(a.gb?"On":"Off"),40,!0));break;case 75:c.shiftKey?(a.rt(a,!0),a.h.notification.T("Copied view to clipboard",180,!0)):(a.rt(a,!1),a.h.notification.T("Copied position to clipboard",180,!0));break;case 80:c.shiftKey?-1!==a.VA&&(a.Za=!a.Za,a.li.current=[a.Za],a.h.notification.T("Loop "+(a.Za?"Off":"On"),40,!0)):a.Sb||a.Kb.locked||(a.Kb.current=.99>=a.Kb.current[0]?a.Ch([a.Kb.current[0]+.01,a.Kb.current[1]],!0,a):a.Ch([1,a.Kb.current[1]],!0,a));break;case 76:c.shiftKey?0<a.w.Tl()&&(a.hi.current=a.Qv([!a.If],
!0,a),a.h.notification.T("Annotations "+(a.If?"On":"Off"),40,!0)):a.Sb||a.Kb.locked||(a.Kb.current=.01<=a.Kb.current[0]?a.Ch([a.Kb.current[0]-.01,a.Kb.current[1]],!0,a):a.Ch([0,a.Kb.current[1]],!0,a));break;case 81:!a.Sb&&!a.tc.locked&&a.tc.current[0]<h.fo&&(a.tc.current=a.Lm([a.a.J+1,a.tc.current[1]],!0,a));break;case 65:!a.Sb&&!a.tc.locked&&a.tc.current[0]>h.no&&(a.tc.current=a.Lm([a.a.J-1,a.tc.current[1]],!0,a));break;case 82:c.shiftKey?z.wz():a.pa.current=a.Qd(h.$q,!0,a);break;case 83:c.shiftKey?
a.a.rc&&(a.Ng=!a.Ng,a.h.notification.T("AutoFit State 1 Mode "+(a.Ng?"On":"Off"),40,!0)):(a.Ck.current=a.Sv([!a.rg],!0,a),a.h.notification.T("Stars "+(a.rg?"On":"Off"),40,!0));break;case 78:a.zh&&(a.wa?a.Yr():(a.Zr(),a.X&&(a.X=0)));break;case 86:c.shiftKey?(a.gv(a),a.h.notification.T("Saved camera position",100,!0)):a.gc||(a.Dz(a),a.h.notification.T("Restored camera position",100,!0),a.pa.current===h.lb&&(a.Zd=!0));break;case 221:a.gc||(c.shiftKey?a.Sj(a.wb.current[0],Math.log(a.a.zoom*a.a.Mb*2/h.Va)/
Math.log(h.Fb/h.Va)-a.wb.current[0]):a.Sj(a.wb.current[0],.01));break;case 219:a.gc||(c.shiftKey?a.Sj(a.wb.current[0],Math.log(a.a.zoom*a.a.Mb/2/h.Va)/Math.log(h.Fb/h.Va)-a.wb.current[0]):a.Sj(a.wb.current[0],-.01));break;case 53:case 101:a.Db.locked||(a.a.angle=0,a.Db.current=[a.a.angle,a.a.angle]);break;case 49:case 97:c.shiftKey?(a.Nf(a,a.a.zoom*a.a.Mb,!0),a.h.notification.T("Integer Zoom",40,!0)):a.Nf(a,1,!1);break;case 50:case 98:c.shiftKey?a.Nf(a,.5,!1):a.Nf(a,2,!1);break;case 51:case 99:a.Nf(a,
32,!1);break;case 52:case 100:c.shiftKey?a.Nf(a,.25,!1):a.Nf(a,4,!1);break;case 54:case 102:c.shiftKey?a.Nf(a,.0625,!1):a.Nf(a,16,!1);break;case 55:a.Lc?a.h.notification.T("Graph Disabled",40,!0):(0<a.Tb&&(a.Tb-=.05,0>a.Tb&&(a.Tb=0)),this.Jb.current=this.Ri([a.Tb,a.Tb],!1,a));break;case 56:case 104:c.shiftKey?a.Nf(a,.125,!1):a.Nf(a,8,!1);break;case 57:a.Lc?a.h.notification.T("Graph Disabled",40,!0):(1>a.Tb&&(a.Tb+=.05,1<a.Tb&&(a.Tb=1)),this.Jb.current=this.Ri([a.Tb,a.Tb],!1,a));break;case 48:case 96:a.ga=
1;a.bc.current=a.Mi([a.ga,a.ga],!0,a);a.Na.current=a.Yg([1,a.Na.current[1]],!0,a);break;case 189:case 109:a.Wb||(a.ga>h.mj?(c.shiftKey?a.ga=h.mj:--a.ga,a.bc.current=a.Mi([a.ga,a.ga],!0,a)):a.Na&&(a.Na.current=.01<=a.Na.current[0]&&!c.shiftKey?a.Yg([a.Na.current[0]-.01,a.Na.current[1]],!0,a):a.Yg([0,a.Na.current[1]],!0,a)));break;case 187:case 107:!a.Wb&&a.Na&&(.99>=a.Na.current[0]&&!c.shiftKey?a.Na.current=a.Yg([a.Na.current[0]+.01,a.Na.current[1]],!0,a):.99>=a.Na.current[0]?a.Na.current=a.Yg([1,
a.Na.current[1]],!0,a):(a.Na.current=a.Yg([1,a.Na.current[1]],!0,a),a.ga<h.$d&&(c.shiftKey?a.ga=h.$d:a.ga+=1,a.bc.current=a.Mi([a.ga,a.ga],!0,a))));break;case 188:a.Db.locked||(b=a.Db.current[0],b=c.shiftKey?b-90:b-1,0>b&&(b+=360),a.Db.current=a.Km([b,b],!0,a));break;case 190:a.Db.locked||(b=a.Db.current[0],b=c.shiftKey?b+90:b+1,360<=b&&(b-=360),a.Db.current=a.Km([b,b],!0,a));break;case 74:a.w.tb.length?a.gc||(c.shiftKey?(--a.qe,0>a.qe&&(a.qe=a.w.tb.length-1),a.Hr(a,a.qe)):(a.qe+=1,a.qe>=a.w.tb.length&&
(a.qe=0),a.Hr(a,a.qe))):a.h.notification.T("No POIs defined",80,!0);break;case 84:c.shiftKey?a.h.Ai=!a.h.Ai:a.dk.current=a.Hk([!a.h.Bi],!0,a);break;case 85:a.ro||(a.Gb=!a.Gb,a.u.l=a.Gb,a.h.Gb=a.Gb);break;case 71:a.Wb||(c.shiftKey?a.$h&&(a.Hn=!a.Hn):(a.hp([!a.ef],!0,a),a.Xd&&(a.Xd.current=[a.ef],a.h.Rg=!0)));break;case 70:c.shiftKey?a.wg.locked||(a.nb=!a.nb,a.wg.current=a.xv([a.nb],!0,a),a.h.notification.T("AutoFit "+(a.nb?"On":"Off"),40,!0)):a.gj.locked||(a.Sf(!0,!0),a.h.notification.T("Fit Zoom",
80,!0),a.pa.current===h.lb&&(a.Zd=!0));break;case 79:a.mm=c.shiftKey?2:1;break;case 37:c.shiftKey?a.pi(a.a.zoom,a.a.zoom):a.pi(a.a.zoom,0);break;case 38:a.X?a.Oo(a,1):a.Ya?a.Mo(a,1):c.shiftKey?a.pi(-a.a.zoom,a.a.zoom):a.pi(0,a.a.zoom);break;case 39:c.shiftKey?a.pi(-a.a.zoom,-a.a.zoom):a.pi(-a.a.zoom,0);break;case 40:a.X?a.No(a,1):a.Ya?a.Lo(a,1):c.shiftKey?a.pi(a.a.zoom,-a.a.zoom):a.pi(0,-a.a.zoom);break;case 77:a.Df&&!a.Df.l&&(a.Df.current[0]=!a.Df.current[0],a.h.Rg=!0);break;case 67:c.ctrlKey?a.si||
(c.shiftKey?a.Xp(a,!0):a.Wb?a.Xp(a,!0):c.altKey?a.qt(a,!0):a.qt(a,!1)):a.Sb||!a.Nc||a.Nc.locked||(c.shiftKey?(b=a.Nc.current[0]+.5|0,--b,0>b&&(a.Pf?b=a.a.ae:b=a.a.ae-1)):(b=a.Nc.current[0]+.5|0,b+=1,a.Pf?b>=a.a.ae+1&&(b=0):b>=a.a.ae&&(b=0)),a.Nc.current=a.Kj([b,""],!0,a),a.h.notification.T(a.es(a.a.oe)+" Theme",40,!0));break;case 72:c.shiftKey?(a.hk.current=a.Ov([!a.xf],!0,a),a.h.notification.T("AutoFit History Mode "+(a.xf?"On":"Off"),40,!0)):(a.Nb.length?a.X=a.X?0:1:a.X?a.X=0:a.wa||(a.X=1),a.ci.current=
a.Cm([a.X],!0,a),a.h.Rg=!0);break;case 73:c.shiftKey?a.ik.current=a.Pv([!a.Ea],!0,a):(a.X?a.di===h.El?a.X=0:a.df(h.El,a):a.wa||a.df(h.El,a),a.ci.current=a.Cm([a.X],!0,a),a.h.Rg=!0);break;case 27:a.se?a.Nb.length?(a.Nb=[],a.Ya=0):e():a.X?a.X=0:a.Nb.length?(a.Nb=[],a.Ya=0):a.Bc&&(a.pa.current=a.Qd(h.lb,!0,a));a.ci.current=a.Cm([a.X],!0,a);a.h.Rg=!0;break;case 33:a.X?c.shiftKey?a.cz(a):a.Oo(a,a.$b):a.Ya?a.Mo(a,a.$b):r.Ia&&(--a.Ib,0>a.Ib&&(a.Ib=z.Cc.length-1),a.vh(z.Cc[a.Ib].pattern,!1));break;case 34:a.X?
c.shiftKey?a.Ly(a):a.No(a,a.$b):a.Ya?a.Lo(a,a.$b):r.Ia&&(a.Ib+=1,a.Ib>=z.Cc.length&&(a.Ib=0),a.vh(z.Cc[a.Ib].pattern,!1));break;case 36:a.X?a.X=1:a.Ya?a.Ya=1:r.Ia&&(a.Ib=0,a.vh(z.Cc[a.Ib].pattern,!1));break;case 35:a.X?a.X=a.mk-a.$b:a.Ya?a.Ya=a.Nb.length-a.$b:r.Ia&&(a.Ib=z.Cc.length-1,a.vh(z.Cc[a.Ib].pattern,!1));break;case 112:c.shiftKey?(a.Ro=!a.Ro,a.h.notification.T("Smart Drawing "+(a.Ro?"On":"Off"),40,!0)):a.Wb?a.h.notification.T("Drawing not available",40,!0):(a.re=!a.re,a.nj.current=a.As(a.re?
h.zu:h.Ql,!0,a),a.h.notification.T((a.re?"Draw":"Pan")+" Mode",40,!0));break;default:-1===b&&(d=!1)}}return d};c.prototype.ez=function(a,b,c){var d=!0;if(c.ctrlKey&&82===b)return!0;switch(b){case 13:a.Pg===a.Cj&&a.pt(a,!0);break;case 84:a.Hk([!a.h.Bi],!0,a);break;default:d=!1}return d};c.prototype.fz=function(a,b,c){var d=!0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 84:a.Hk([!a.h.Bi],!0,a);break;default:d=!1}return d};c.prototype.aw=function(a,b){var c=b.charCode||b.keyCode;if(a.Yi?a.fz(a,
c,b):a.fl?a.ez(a,c,b):a.dz(a,c,b))a.h.Jg(!0),b.preventDefault()};c.prototype.Zv=function(){this.v<h.qh?(this.rf.setPosition(Menu.Mc,10,50),this.sf.setPosition(Menu.Lb,0,50),this.qf.setPosition(Menu.fb,-160,50),this.tf.setPosition(Menu.Mc,10,100),this.nf.setPosition(Menu.Lb,0,100),this.mf.setPosition(Menu.fb,-160,100),0<this.w.Tl()?(this.ie.setPosition(Menu.Mc,10,150),this.Dh.setPosition(Menu.fb,-160,150)):this.ie.setPosition(Menu.Lb,0,150)):(this.rf.setPosition(Menu.Lb,0,40),this.sf.setPosition(Menu.Lb,
0,90),this.qf.setPosition(Menu.Lb,0,140),this.tf.setPosition(Menu.Lb,0,190),this.nf.setPosition(Menu.Lb,0,240),this.mf.setPosition(Menu.Lb,0,290),this.ie.setPosition(Menu.Lb,0,340),this.Dh.setPosition(Menu.Lb,0,390))};c.prototype.kw=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",e="grey",f="white";var g=this.f[h.pl];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.ia.Eo=!0,this.ia.yr=this.a.cg?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|
255):(this.ia.Eo=!0,g=16777215,this.ia.yr=this.a.cg?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);g=this.f[h.nl];-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.Ij=g;g=this.f[h.ql];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.sl];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.rl];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.ol];-1!==g&&(f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&
255)+")");this.h.nm(a,b,c,d,e,f)};c.prototype.mp=function(){this.u=this.h.jx(this.Ow,this.Bs,this);this.u.hq=this.Sw;this.u.Fs=this.Tx;this.Yf=this.u.Cb(Menu.Mc,0,40,16,20,"X");this.Yf.font=h.De;this.Yf.xm=Menu.Vc;this.Zf=this.u.Cb(Menu.Mc,70,40,16,20,"Y");this.Zf.font=h.De;this.Zf.xm=Menu.Vc;this.uf=this.u.Cb(Menu.Mc,140,40,16,20,"A");this.uf.font=h.De;this.uf.xm=Menu.Vc;this.fd=this.u.Cb(Menu.Mc,16,40,54,20,"");this.fd.font=h.De;this.fd.textAlign=Menu.right;this.fd.F="camera X position";this.gd=
this.u.Cb(Menu.Mc,86,40,54,20,"");this.gd.font=h.De;this.gd.textAlign=Menu.right;this.gd.F="camera Y position";this.ad=this.u.Cb(Menu.Mc,156,40,40,20,"");this.ad.font=h.De;this.ad.textAlign=Menu.right;this.ad.F="camera angle";this.Nk=this.u.Cb(Menu.Mc,196,40,4,20,"");this.Ih=this.u.Cb(Menu.fb,-280,40,20,20,"E");this.Ih.font=h.De;this.Jh=this.u.Cb(Menu.fb,-210,40,20,20,"S");this.Jh.font=h.De;this.Kh=this.u.Cb(Menu.fb,-140,40,20,20,"W");this.Kh.font=h.De;this.Ni=this.u.Cb(Menu.fb,-70,40,20,20,"N");
this.Ni.font=h.De;this.bd=this.u.Cb(Menu.fb,-260,40,50,20,"");this.bd.font=h.De;this.bd.textAlign=Menu.right;this.bd.F="bounding box east edge velocity";this.dd=this.u.Cb(Menu.fb,-190,40,50,20,"");this.dd.font=h.De;this.dd.textAlign=Menu.right;this.dd.F="bounding box south edge velocity";this.ed=this.u.Cb(Menu.fb,-120,40,50,20,"");this.ed.font=h.De;this.ed.textAlign=Menu.right;this.ed.F="bounding box west edge velocity";this.cd=this.u.Cb(Menu.fb,-50,40,50,20,"");this.cd.font=h.De;this.cd.textAlign=
Menu.right;this.cd.F="bounding box north edge velocity";this.ge=this.u.mb(null,Menu.fb,-170,0,40,20,["START"],[!1],Menu.Ia);this.ge.font=h.Qo;this.ge.F=["autostart indicator"];this.Cd=this.u.mb(null,Menu.fb,-170,20,40,20,["STOP"],[!1],Menu.Ia);this.Cd.font=h.Qo;this.Cd.F=["stop indicator"];this.Fa=this.u.mb(this.rw,Menu.fb,-130,0,40,20,["WAYPT"],[!1],Menu.Ia);this.Fa.font=h.Qo;this.Fa.F=["toggle waypoint mode"];this.li=this.u.mb(this.qw,Menu.fb,-130,20,40,20,["LOOP"],[!1],Menu.Ia);this.li.font=h.Qo;
this.li.F=["toggle loop mode"];this.nj=this.u.mb(this.As,Menu.Mc,90,0,80,40,["",""],h.Ql,Menu.Ak);this.nj.icon=[this.ia.icon("draw"),this.ia.icon("pan")];this.nj.F=["draw","pan"];this.bb=this.u.mb(this.rx,Menu.fb,-80,100,80,60,["1","2"],0,Menu.Ak);this.bb.orientation=Menu.vertical;this.bb.F=["",""];this.bb.font="14px Arial";this.ci=this.u.mb(this.Cm,Menu.fb,-40,0,40,40,["Help"],[!1],Menu.Ia);this.ci.F=["toggle help display"];this.ci.font="16px Arial";this.Qi=this.u.Dd(this.sw,Menu.fb,-40,50,40,["^"]);
this.Qi.F=["show help topics"];this.Lh=this.u.Dd(this.iw,Menu.fb,-40,100,40,["<"]);this.Lh.F=["show help sections"];this.rf=this.u.Dd(this.bw,Menu.Lb,0,50,150,["Keys"]);this.rf.F=["show keyboard shortcuts"];this.sf=this.u.Dd(this.hw,Menu.Lb,0,100,150,["Scripts"]);this.sf.F=["show script commands"];this.qf=this.u.Dd(this.$v,Menu.Lb,0,150,150,["Info"]);this.qf.F=["show pattern and engine information"];this.tf=this.u.Dd(this.pw,Menu.Lb,0,200,150,["Themes"]);this.tf.F=["show colour Themes"];this.nf=this.u.Dd(this.Hs,
Menu.Lb,0,250,150,["Colours"]);this.nf.F=["show colour names"];this.mf=this.u.Dd(this.xr,Menu.Lb,0,300,150,["Aliases"]);this.mf.F=["show rule aliases"];this.ie=this.u.Dd(this.cw,Menu.Lb,0,350,150,["Memory"]);this.ie.F=["show memory usage"];this.Dh=this.u.Dd(this.Dr,Menu.Lb,0,350,150,["Annotations"]);this.Dh.F=["show annotations"];this.wg=this.u.mb(this.xv,Menu.Mc,0,0,40,40,["Auto"],[!1],Menu.Ia);this.wg.icon=[this.ia.icon("autofit")];this.wg.F=["toggle autofit"];this.wg.font="16px Arial";this.gj=
this.u.Dd(this.op,Menu.Mc,45,0,40,"");this.gj.icon=this.ia.icon("fit");this.gj.F="fit pattern to display";this.bi=this.u.mb(this.yv,Menu.fb,-85,0,40,40,["Grid"],[!1],Menu.Ia);this.bi.icon=[this.ia.icon("grid")];this.bi.F=["toggle grid lines"];this.bi.font="16px Arial";this.Be=this.u.Aw();this.Be.locked=!0;this.Le=this.u.Cb(Menu.Kg,0,-100,70,30,"Time");this.Le.textAlign=Menu.left;this.Le.font=h.Og;this.Le.F="elapsed time";this.ej=this.u.Cb(Menu.Kg,70,-100,70,30,"");this.ej.textAlign=Menu.right;this.ej.font=
h.Og;this.ej.F="elapsed time";this.wc=this.u.Cb(Menu.Kg,0,-70,140,30,"");this.wc.textAlign=Menu.left;this.wc.font=h.Og;this.wc.F="cell state at cursor position";this.Xd=this.u.mb(this.hp,Menu.Kg,0,-40,100,40,[""],[this.ef],Menu.Ia);this.Xd.F=["toggle generation statistics"];this.vc=this.u.Cb(Menu.Kg,0,-40,this.A-40,40,"");this.vc.textAlign=Menu.left;this.vc.l=!0;this.Me=this.u.Cb(Menu.ce,-140,-130,70,30,"Alive");this.Me.textAlign=Menu.left;this.Me.font=h.Og;this.Me.F="current population";this.ui=
this.u.Cb(Menu.ce,-70,-130,70,30,"");this.ui.textAlign=Menu.right;this.ui.font=h.Og;this.ui.F="alive";this.Bb=this.u.Cb(Menu.ce,-140,-100,70,30,"Births");this.Bb.textAlign=Menu.left;this.Bb.font=h.Og;this.Bb.F="cells born this generation";this.xg=this.u.Cb(Menu.ce,-70,-100,70,30,"");this.xg.textAlign=Menu.right;this.xg.font=h.Og;this.xg.F="births";this.he=this.u.Cb(Menu.ce,-140,-70,70,30,"Deaths");this.he.textAlign=Menu.left;this.he.font=h.Og;this.he.F="cells died this generation";this.Vh=this.u.Cb(Menu.ce,
-70,-70,70,30,"");this.Vh.textAlign=Menu.right;this.Vh.font=h.Og;this.Vh.F="deaths";this.Hc=this.u.Cb(Menu.Kg,0,-130,140,30,this.Gg);this.Hc.font=h.Og;this.wb=this.u.$g(this.Zg,Menu.Lb,0,0,h.lp,40,0,1,.1,"Zoom ","",1);this.wb.F="camera zoom";this.tc=this.u.$g(this.Lm,Menu.Uv,30,0,40,292,h.fo,h.no,1,"Layers ","",0);this.tc.F="number of layers";this.Kb=this.u.$g(this.Ch,Menu.Et,-70,0,40,292,1,0,.1,"Depth ","",2);this.Kb.F="depth between layers";this.Db=this.u.$g(this.Km,Menu.Lb,0,50,390,40,0,359,0,
"Angle ","\u00b0",0);this.Db.F="camera angle";this.qg=this.u.Dd(this.nw,Menu.ce,-40,-90,40,"");this.qg.icon=this.ia.icon("shrink");this.qg.F="shrink to thumbnail";this.ei=this.u.mb(this.zs,Menu.Mc,80,100,80,40,["Hex"],[this.a.S],Menu.Ia);this.ei.F=["toggle hex display"];this.fi=this.u.mb(this.Nv,Menu.Lb,0,100,80,40,["Hexagon"],[this.a.Ie],Menu.Ia);this.fi.F=["toggle hexagonal cells"];this.fi.font="18px Arial";this.Uj=this.u.mb(this.Lv,Menu.fb,-160,100,80,40,["Borders"],[this.a.Ac],Menu.Ia);this.Uj.F=
["toggle cell borders"];this.Uj.font="18px Arial";this.hi=this.u.mb(this.Qv,Menu.Mc,80,220,80,40,["Labels"],[this.If],Menu.Ia);this.hi.F=["toggle labels"];this.ai=this.u.mb(this.ys,Menu.fb,-160,220,80,40,["Graph"],[this.gb],Menu.Ia);this.ai.F=["toggle graph display"];this.ik=this.u.mb(this.Pv,Menu.Lb,0,160,80,40,["Info"],[this.Ea],Menu.Ia);this.ik.F=["toggle InfoBar"];this.hk=this.u.mb(this.Ov,Menu.Mc,80,160,80,40,["HistFit"],[this.xf],Menu.Ia);this.hk.F=["toggle AutoFit History"];this.nh=this.u.mb(this.Rv,
Menu.fb,-160,160,80,40,["Major"],[this.a.kh],Menu.Ia);this.nh.F=["toggle major grid lines"];this.Ck=this.u.mb(this.Sv,Menu.ce,-160,-140,80,40,["Stars"],[this.rg],Menu.Ia);this.Ck.F=["toggle stars display"];this.Ob=this.u.Dd(this.ws,Menu.ce,-40,-90,40,"X");this.Ob.F="close window";this.dk=this.u.mb(this.Hk,Menu.Kg,80,-140,80,40,["Timing"],[this.h.Bi],Menu.Ia);this.dk.F=["toggle timing display"];this.Xg=this.u.mb(this.el,Menu.Nr,0,-140,80,40,["Details"],[this.h.Ai],Menu.Ia);this.Xg.F=["toggle timing details"];
this.pg=this.u.Dd(this.ew,Menu.Kg,80,-200,80,"Prev");this.pg.F="go to previous universe";this.og=this.u.Dd(this.dw,Menu.ce,-160,-200,80,"Next");this.og.F="go to next universe";this.Jb=this.u.$g(this.Ri,Menu.Lb,0,0,132,40,0,1,this.Tb,"Opac ","%",0);this.Jb.F="graph opacity";this.jk=this.u.mb(this.zv,Menu.fb,-170,0,40,40,[""],[!1],Menu.Ia);this.jk.icon=[this.ia.icon("lines")];this.jk.F=["toggle graph lines/points"];this.Mk=this.u.Dd(this.rp,Menu.fb,-130,0,40,"X");this.Mk.F="close graph";this.rk=this.u.mb(this.ls,
Menu.Mc,0,40,40,40,[""],[this.qk],Menu.Ia);this.rk.icon=[this.ia.icon("pick")];this.rk.F=["pick state"];this.ug=this.u.mb(this.$n,Menu.Mc,45,40,40,40,[""],[this.zk],Menu.Ia);this.ug.icon=[this.ia.icon("states")];this.ug.F=["toggle states"];this.Df=this.u.mb(null,Menu.ce,-40,-40,40,40,[""],[!1],Menu.Ia);this.Df.icon=[this.ia.icon("menu")];this.Df.F=["toggle navigation menu"];this.Nc=this.u.$g(this.Kj,Menu.Nr,0,-90,390,40,0,this.a.ae-1,1,""," Theme",-1);this.Nc.F="colour theme";this.Na=this.u.$g(this.Yg,
Menu.ce,-375,-40,80,40,0,1,0,"","",-1);this.Na.F="steps per second";this.bc=this.u.$g(this.Mi,Menu.ce,-290,-40,80,40,h.mj,h.$d,1,"x","",0);this.bc.F="generations per step";this.pa=this.u.mb(this.Qd,Menu.ce,-205,-40,160,40,["","","",""],h.lb,Menu.Ak);this.pa.icon=[this.ia.icon("tostart"),this.ia.icon("stepback"),this.ia.icon("pause"),this.ia.icon("play")];this.pa.F=["reset","previous generation","pause","play"];this.ac=this.u.mb(this.Cs,Menu.fb,-280,40,280,20,"0123456".split(""),this.Te,Menu.Ak);this.ac.F=
"dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.ac.font="14px Arial";this.i=this.u.mb(this.Px,Menu.fb,-280,60,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ia);this.i.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.i.Ic=1;this.Nh=this.u.$g(this.xo,Menu.Mc,90,40,105,40,0,1,0,"","",-1);this.Nh.F="select drawing states range";this.Df.Bp([this.tc,this.Kb,this.Db,this.Nc,this.qg,this.Ob,this.ei,this.fi,this.Uj,this.hi,this.ai,this.dk,this.Xg,this.ik,this.Ck,
this.hk,this.nh,this.pg,this.og]);this.Xd.Bp([this.Me,this.ui,this.Bb,this.xg,this.he,this.Vh,this.Le,this.ej,this.Hc]);this.ci.Bp([this.bb,this.Qi,this.Lh])};c.prototype.$r=function(a){var b=this,c=0,d=0;this.G=a;this.G.getContext&&(c=this.G.width,d=this.G.height,c!==this.Cg&&r.Ll&&(c=this.Cg),c<h.qd&&(c=h.qd),d<h.lk&&(d=h.lk),c&=-8,this.G.width!==c&&(this.G.width=c),this.G.height!==d&&(this.G.height=d),this.Bf=this.G.getContext("2d",{alpha:!1}),this.Bf.globalAlpha=1,this.Bf.fillStyle="black",this.Bf.fillRect(0,
0,this.G.width,this.G.height),this.rj=document.createElement("canvas"),this.rj.width=this.G.width,this.rj.height=this.G.height,this.rd=this.rj.getContext("2d",{alpha:!1}),this.A=this.G.width,this.v=this.G.height,this.a=new Life(this.rd,this.A,this.v,512,512),this.a.jy(this.rd,this.A,this.v),this.Oc=this.a.j.V(Float32,h.Au,"View.elapsedTimes"),this.uh=new Stars(h.to,this.a.j),this.rd.textAlign="left",this.rd.textBaseline="middle",this.Ns(this.rd),this.h=new MenuManager(this.Bf,this.rd,"24px Arial",
this.ia,this,this.qp),this.h.Bi=!1,this.a.gx(),this.mp(),this.Rk=this.pa.x,this.Lk=this.Na.x,this.Jk=this.bc.x,registerEvent(this.G,"DOMMouseScroll",function(a){b.Do(b,a)},!1),registerEvent(this.G,"mousewheel",function(a){b.Do(b,a)},!1),this.h.notification.enabled=!0,this.h.uw(this.u),registerEvent(this.G,"keydown",function(a){b.aw(b,a)},!1))};c.prototype.es=function(a){var b=this.a.La,c="";a|=0;a<b.length&&(c=b[a].name);return c};c.prototype.ow=function(a){var b=!1,c=this.a.La,d=0;for(a=a.toLowerCase();d<
c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};c.prototype.Ok=function(a){switch(a){case Keywords.bs:case Keywords.oq:case Keywords.Jr:case Keywords.Lr:case Keywords.qq:case Keywords.Kr:case Keywords.gr:case Keywords.We:case Keywords.Mf:case Keywords.Dq:case Keywords.Pr:case Keywords.Cq:case Keywords.Or:case Keywords.ct:case Keywords.wr:case Keywords.gq:case Keywords.zo:case Keywords.Gk:case Keywords.pr:case Keywords.Ao:case Keywords.mr:case Keywords.qr:case Keywords.rr:case Keywords.nr:case Keywords.sr:case Keywords.Ou:case Keywords.Zk:case Keywords.Gp:case Keywords.Ip:case Keywords.Jp:case Keywords.Hp:case Keywords.Kp:case Keywords.Lp:case Keywords.Gl:case Keywords.Nq:case Keywords.Pq:case Keywords.Qq:case Keywords.Oq:case Keywords.Rq:case Keywords.Sq:case Keywords.cr:case Keywords.fr:case Keywords.er:case Keywords.TA:case Keywords.Fm:case Keywords.yq:case Keywords.bm:case Keywords.uk:case Keywords.tk:case Keywords.yo:case Keywords.cm:case Keywords.Ua:case Keywords.Oe:case Keywords.Ka:case Keywords.Ur:case Keywords.Hj:case Keywords.Em:case Keywords.In:case Keywords.so:case Keywords.tq:case Keywords.uq:case Keywords.tm:case Keywords.Xq:case Keywords.Vm:case Keywords.Hq:case Keywords.Rn:case Keywords.um:case Keywords.Aj:case Keywords.kr:case Keywords.Bl:case Keywords.Al:case Keywords.Wr:case Keywords.Xr:case Keywords.ra:case Keywords.Sp:case Keywords.Zc:case Keywords.$c:case Keywords.ip:case Keywords.jp:case Keywords.nc:case Keywords.Ep:case Keywords.Zt:case Keywords.dg:case Keywords.Mm:case Keywords.br:case Keywords.ar:case Keywords.ks:case Keywords.hs:case Keywords.fs:case Keywords.js:case Keywords.Wm:case Keywords.wj:case Keywords.xk:case Keywords.Qh:case Keywords.yh:case Keywords.hj:case Keywords.sg:case Keywords.lj:case Keywords.bj:case Keywords.Ik:case Keywords.fk:case Keywords.em:case Keywords.dm:a=
!0;break;default:a=!1}return a};c.prototype.Bd=function(a,b,c,d,e){var f=a.ua();""===f||this.Ok(f)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+f,d+" must be "+e],a.Y())};c.prototype.m=function(a,b,c,d){var e=!0,f=0,g=0,p=0,k=a.Y();if(a.I()){f=a.H()|0;if(0>f||255<f)b[b.length]=[d+" "+k+" "+f,"RED out of range"];if(a.I()){g=a.H();if(0>g||255<g)b[b.length]=[d+" "+k+" "+f+" "+g,"GREEN out of range"];a.I()?(p=a.H(),0>p||255<p?b[b.length]=[d+" "+k+" "+f+" "+g+" "+p,"BLUE out of range"]:e=!1):this.Bd(a,
b,d+" "+k+" "+f+" "+g,"BLUE","numeric")}else this.Bd(a,b,d+" "+k+" "+f,"GREEN","numeric")}else{var m=a.ua();var n=ColourManager.kd[m.toLowerCase()];void 0!==n?(a.Y(),f=n[1],g=n[2],p=n[3],e=!1):""===m||this.Ok(m)?b[b.length]=[d+" "+k,"name missing"]:(b[b.length]=[d+" "+k+" "+m,"name not known"],a.Y())}if(!e)switch(-1!==this.f[c]&&c!==h.ll&&c!==h.hl&&c!==h.ml&&(b[b.length]=[d+" "+k+" "+f+" "+g+" "+p,"overwrites "+(this.f[c]>>16)+" "+(this.f[c]>>8&255)+" "+(this.f[c]&255)]),this.f[c]=f<<16|g<<8|p,c){case h.jl:this.Pf=
!0;break;case h.kl:this.Pf=!0;break;case h.sn:this.uh.red=f;this.uh.green=g;this.uh.blue=p;break;case h.tn:this.Re=[f,g,p];break;case h.mn:this.eh=[f,g,p];this.Rf="rgb("+f+","+g+","+p+")";break;case h.ll:this.Oj="rgb("+f+","+g+","+p+")";break;case h.hl:this.Nj="rgb("+f+","+g+","+p+")";break;case h.ml:this.Pj="rgb("+f+","+g+","+p+")";break;case h.kn:this.Th=[f,g,p];this.a.Vj=this.a.cg?-16777216|p<<16|g<<8|f:f<<24|g<<16|p<<8|255;break;case h.pn:this.a.Vf=[f,g,p];break;case h.on:this.a.Uf=[f,g,p];break;
case h.nn:this.a.Tf=[f,g,p];break;case h.qn:this.a.Wf=[f,g,p];break;case h.rn:this.a.Xf=[f,g,p];break;case h.pl:case h.nl:case h.ql:case h.sl:case h.rl:case h.ol:break;default:this.Pf=!0}};c.prototype.lw=function(){var a=this.a.La[this.a.ae],b=this.f;if(-1===b[h.Ag]){var c=b[h.Qf];-1!==c?b[h.Ag]=16777215-c:(c=b[h.Se],b[h.Ag]=-1!==c?16777215-c:16777215)}-1===b[h.Se]&&-1===b[h.Qf]&&(b[h.Se]=16777215-b[h.Ag]);c=b[h.Se];-1===c&&(c=b[h.Qf]);a.Oa.red=c>>16;a.Oa.green=c>>8&255;a.Oa.blue=c&255;c=b[h.Ag];
a.ya.B.red=c>>16;a.ya.B.green=c>>8&255;a.ya.B.blue=c&255;c=b[h.jn];-1===c&&(c=b[h.Ag]);a.ya.D.red=c>>16;a.ya.D.green=c>>8&255;a.ya.D.blue=c&255;c=b[h.Qf];-1===c&&(c=b[h.Se]);a.xa.D.red=c>>16;a.xa.D.green=c>>8&255;a.xa.D.blue=c&255;c=b[h.il];-1===c&&(c=b[h.Qf],-1===c&&(c=b[h.Se]));a.xa.B.red=c>>16;a.xa.B.green=c>>8&255;a.xa.B.blue=c&255;c=b[h.Se];-1===c&&(c=b[h.Qf]);a.Wg.red=c>>16;a.Wg.green=c>>8&255;a.Wg.blue=c&255;c=b[h.Ag];a.Ne.red=c>>16;a.Ne.green=c>>8&255;a.Ne.blue=c&255;c=b[h.Qf];-1===c&&(c=
b[h.Se]);a.Eb.D.red=c>>16;a.Eb.D.green=c>>8&255;a.Eb.D.blue=c&255;c=b[h.il];-1===c&&(c=b[h.Qf],-1===c&&(c=b[h.Se]));a.Eb.B.red=c>>16;a.Eb.B.green=c>>8&255;a.Eb.B.blue=c&255;c=b[h.ln];-1===c?a.$j=!0:(a.$j=!1,a.Sa.D.red=c>>16,a.Sa.D.green=c>>8&255,a.Sa.D.blue=c&255);c=b[h.$p];-1===c&&(c=b[h.ln],-1===c&&(c=b[h.Se]));a.Sa.B.red=c>>16;a.Sa.B.green=c>>8&255;a.Sa.B.blue=c&255;a.Tz(b[h.jl],b[h.kl])};c.prototype.tw=function(a){var b=this.w.wl();b.Kf||(b.x=this.a.width/2-this.a.ba);b.jf||(b.y=this.a.height/
2-this.a.$);b.yd||(b.zoom=this.a.zoom);b.bh||(b.angle=this.a.angle);b.mh||(b.J=this.a.J);b.fh||(b.depth=this.a.sc);b.jh||(b.yb=this.Gd);b.wh||(b.step=this.ga);b.ff||(b.Ab=this.a.oe);this.w.bz(a)};c.prototype.pp=function(a){var b=a,c=this.rd,d=a.length;c.font=h.Li;var e=c.measureText(a).width;if(420<e){--d;for(e=c.measureText(a.substr(0,d)+"...").width;420<e;)--d,e=c.measureText(a.substr(0,d)+"...").width;b=b.substr(0,d)+"..."}return b};c.prototype.Mh=function(a,b){var c=a;a.length>b&&(c=a.substr(0,
b-1)+"...");return c};c.prototype.vo=function(a,b,c,d){var e=a.indexOf("\\n");-1!==e&&(c?b[b.length]=[Keywords.Gk+" "+Keywords.Vb+this.Mh(a,23)+Keywords.Vb,"only one line allowed"]:(e=a.substr(e+2).indexOf("\\n"),-1===e||d||(b[b.length]=[Keywords.Vb+this.Mh(a,23),"only two lines allowed"])))};c.prototype.Tk=function(a,b,c){var d=Keywords.yh+" ",e="overwrites ";d=b>=this.a.ae?d+Keywords.Fk:d+b;e=c>=this.a.ae?e+Keywords.Fk:e+c;a[a.length]=[d,e]};c.prototype.Fc=function(a,b,c,d,e,f){var g=0,h=0,k=0;
if(a.I())if(g=a.H()|0,0>g||255<g)b[b.length]=[d+" "+f+" "+g,"RED out of range"],e=!0;else if(a.I())if(h=a.H()|0,0>h||255<h)b[b.length]=[d+" "+f+" "+g+" "+h,"GREEN out of range"],e=!0;else if(a.I()){if(k=a.H()|0,0>k||255<k)b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"BLUE out of range"],e=!0}else this.Bd(a,b,d+" "+f+" "+g+" "+h,"BLUE","numeric"),e=!0;else this.Bd(a,b,d+" "+f+" "+g,"GREEN","numeric"),e=!0;else{var p=a.ua();var m=ColourManager.kd[p.toLowerCase()];void 0!==m?(a.Y(),g=m[1],h=m[2],k=m[3]):(e=
!0,""===p||this.Ok(p)?b[b.length]=[d+" "+f,"name missing"]:(b[b.length]=[d+" "+f+" "+p,"name not known"],a.Y()))}e||(-1!==this.Yb[c]&&(b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"overwrites "+(this.Yb[c]>>16)+" "+(this.Yb[c]>>8&255)+" "+(this.Yb[c]&255)]),this.Yb[c]=g<<16|h<<8|k)};c.prototype.Vg=function(a){var b="",c=a.indexOf(Keywords.Je);if(-1===c)b=a;else{for(;-1!==c;)if(b+=a.substr(0,c),c+1<a.length){var d=a[c+1];a=a.substr(c+2);switch(d){case "B":b+=h.xs;break;case "N":b+=this.nk;break;case "R":b+=
this.Gg;break;case "A":b=""===this.Gf?b+this.Gg:b+this.Gf;break;case "O":b+=this.Zl;break;case "T":b+=h.Sx;break;case Keywords.Je:b+=Keywords.Je;break;default:b+=Keywords.Je+d}c=a.indexOf(Keywords.Je)}else c=-1;b+=a}return b};c.prototype.va=function(a,b,c,d){d[d.length]=a?b===Keywords.We?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+Keywords.We]:b===Keywords.We?[b+" "+c,"overwrites "+Keywords.Mf]:[b+" "+c,"already defined"]};c.prototype.Ca=function(a){var b="";a===(a|0)?b=String(a):b=a.toFixed(2);
return b};c.prototype.fw=function(a,b){var c=new Script(a),d=!1,e="",f="",g=!1,m="",k=0,l=!1,n=!1,x=this.Nb,z=null,A=0,y=0,E=0,v="",w=this.w.cn(),H=null,I=!1,L=!1,ba=null,Y=1,T=h.Ws,aa=-1,X=-1,N=0,R=0,U=!1,ca=!1,P=0,J=0,Q=-1,W=0,fa=0,V=null,O=1,Z=h.Ws,hb=h.Iw,Aa=-1,Ba=-1,Ca=0,ib=0,Da=!1,Ea=!1,Fa=0,Ga=0,Ha=-1,Ia=0,Ja=0,qa=null,jb=1,kb=h.sy,Ka=-1,La=-1,Ma=0,lb=0,Na=!1,Oa=!1,Pa=0,Qa=0,Ra=-1,Sa=0,Ta=0,ja=!1,Ua=!1,mb="numeric",za=-1,la=-1,ma=-1,Va=-1,na=-1,oa=-1,ra=0,sa=0,ta=0,ua=0,da=0,ea=0,ia=0,nb=0,
ob=0,ka=[],ha=0,Wa=!1,Xa=!1,Ya=!1,Za=!1,$a=!1,ab=!1,va=!1,bb=!1,cb=!1,wa=!1,xa=!1,db=!1,eb=!1,fb=!1,gb=!1;this.ir=this.Vl=0;this.Pf=!1;this.f[h.Se]=-1;this.f[h.Ag]=-1;this.f[h.jn]=-1;this.f[h.Qf]=-1;this.f[h.il]=-1;this.f[h.jl]=-1;this.f[h.kl]=-1;this.f[h.sn]=-1;this.f[h.tn]=-1;this.f[h.kn]=-1;this.f[h.pn]=-1;this.f[h.on]=-1;this.f[h.nn]=-1;this.f[h.qn]=-1;this.f[h.rn]=-1;this.f[h.mn]=-1;this.f[h.ll]=-1;this.f[h.pl]=-1;this.f[h.nl]=-1;this.f[h.ql]=-1;this.f[h.sl]=-1;this.f[h.rl]=-1;this.f[h.ol]=-1;
this.f[h.hl]=-1;this.f[h.ml]=-1;this.Yb=[];if(c.Gt()){for(ha=0;256>ha;ha+=1)this.Yb[ha]=-1;for(e=c.Y();""!==e;){mb="numeric";if(g)e[e.length-1]===Keywords.Vb?(m=m+" "+e.substr(0,e.length-1),g=!1,this.vo(m,x,d,ja),d?(""!==this.Pa&&(x[x.length]=[Keywords.Gk+" "+Keywords.Vb+this.Mh(m,20)+Keywords.Vb,"overwrites "+Keywords.Vb+this.Pa+Keywords.Vb]),this.Pa=m,d=!1):ja?(qa.message=this.Vg(m),ja=!1,this.w.Ps(qa)):(w.vd=this.Vg(m),w.cs=!0)):m=m+" "+e;else if(e[0]===Keywords.Vb)m=e.substr(1),g=!0,e[e.length-
1]===Keywords.Vb&&(g=!1,m=m.substr(0,m.length-1),this.vo(m,x,d,ja),d?(""!==this.Pa&&(x[x.length]=[Keywords.Gk+" "+Keywords.Vb+this.Mh(m,20)+Keywords.Vb,"overwrites "+Keywords.Vb+this.Pa+Keywords.Vb]),this.Pa=m,d=!1):ja?(qa.message=this.Vg(m),ja=!1,this.w.Ps(qa)):(w.vd=this.Vg(m),w.cs=!0));else{l=n=!1;this.Vl+=1;switch(e){case Keywords.Gk:l=d=!0;break;case Keywords.qr:c.I()&&(n=!0,k=c.H(),k>=h.oo&&k<=h.ho&&(T=k,l=!0));break;case Keywords.Ou:c.I()?(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(da=k,n=!1,c.I()&&(n=
!0,k=c.H(),k>=h.ve&&k<=h.te&&(W=da,fa=k,l=!0)))):(f=c.ua(),f===Keywords.Uc&&(f=c.Y(),fa=W=0,l=!0));break;case Keywords.sr:c.I()?(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,ea=k,c.I()&&(n=!0,k=c.H(),0<=k&&k<=this.a.U/2&&(P=da,J=ea,Q=k,l=!0)))))):(f=c.ua(),f===Keywords.Ka&&(f=c.Y(),J=P=0,Q=-1,l=!0));break;case Keywords.nr:c.I()&&(n=!0,k=c.H(),0<=k&&360>k&&(R=k,U=!1,f=c.ua(),f===Keywords.Uc&&(f=c.Y(),U=!0),l=!0));break;case Keywords.rr:c.I()?
(n=!0,k=c.H()|0,0<=k&&(da=k,c.I()?(k=c.H()|0,k>=da?(ea=k,c.I()?(k=c.H()|0,0<=k&&k<=ea-da>>1?(aa=da,X=ea,N=k,l=!0):(l=!0,x[x.length]=[e+" "+da+" "+ea+" "+k,"third argument must from 0 to "+(ea-da>>1)])):n=!1):(l=!0,x[x.length]=[e+" "+da+" "+k,"second argument must be >= first"])):n=!1)):(f=c.ua(),f===Keywords.Oe?(f=c.Y(),X=aa=-1,N=0,l=!0):n=!1);break;case Keywords.mr:c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(Y=k,l=!0));break;case Keywords.pr:case Keywords.Ao:ka=[];l=!0;for(ia=-1E3;l&&c.I();)da=c.H(),c.I()?
(ea=c.H(),da>=-this.a.U&&da<2*this.a.U&&ea>=-this.a.U&&ea<2*this.a.U?(ka[ka.length]=da,ka[ka.length]=ea):(x[x.length]=[e+" "+da+" "+ea,"coordinate out of range"],ia=0,l=!1)):da>=h.Va&&da<=h.Fb?ia=da:da>=h.Pl&&da<=h.Ol?ia=-(1/da):(x[x.length]=[e+" "+da,"zoom out of range"],ia=0,l=!1);-1E3===ia&&(x[x.length]=[e,"missing zoom value"]);4>ka.length&&(x[x.length]=[e,"requires at least 2 coordinate pairs"],l=!1);l?(f=c.ua(),ca=!1,f===Keywords.Uc&&(f=c.Y(),ca=!0,f=c.ua()),ba=this.w.mx(ka,e===Keywords.Ao,
ia,this.Pj,Y,T,aa,X,N,R,U,ca,P,J,Q,W,fa),this.w.zw(ba)):l=!0;break;case Keywords.Ip:c.I()&&(n=!0,k=c.H(),k>=h.oo&&k<=h.ho&&(da=k,n=!1,c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(hb=k,Z=da,l=!0))));break;case Keywords.Lp:c.I()?(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(da=k,n=!1,c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(Ia=da,Ja=k,l=!0)))):(f=c.ua(),f===Keywords.Uc&&(f=c.Y(),Ja=Ia=0,l=!0));break;case Keywords.Kp:c.I()?(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/
2&&(n=!1,ea=k,c.I()&&(n=!0,k=c.H(),0<=k&&k<=this.a.U/2&&(Fa=da,Ga=ea,Ha=k,l=!0)))))):(f=c.ua(),f===Keywords.Ka&&(f=c.Y(),Ga=Fa=0,Ha=-1,l=!0));break;case Keywords.Hp:c.I()&&(n=!0,k=c.H(),0<=k&&360>k&&(ib=k,Da=!1,f=c.ua(),f===Keywords.Uc&&(f=c.Y(),Da=!0),l=!0));break;case Keywords.Jp:c.I()?(n=!0,k=c.H()|0,0<=k&&(da=k,c.I()?(k=c.H()|0,k>=da?(ea=k,c.I()?(k=c.H()|0,0<=k&&k<=ea-da>>1?(Aa=da,Ba=ea,Ca=k,l=!0):(l=!0,x[x.length]=[e+" "+da+" "+ea+" "+k,"third argument must from 0 to "+(ea-da>>1)])):n=!1):(l=
!0,x[x.length]=[e+" "+da+" "+k,"second argument must be >= first"])):n=!1)):(f=c.ua(),f===Keywords.Oe?(f=c.Y(),Ba=Aa=-1,Ca=0,l=!0):n=!1);break;case Keywords.Gp:c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(O=k,l=!0));break;case Keywords.Zk:c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,ea=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,nb=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,ob=k,c.I()&&(n=!0,k=c.H(),ia=-1E3,k>=h.Va&&
k<=h.Fb?ia=k:k>=h.Pl&&k<=h.Ol&&(ia=-(1/k)),-1E3!==ia&&(f=c.ua(),Ea=!1,f===Keywords.Uc&&(f=c.Y(),Ea=!0,f=c.ua()),V=this.w.ex(da,ea,nb,ob,ia,this.Nj,O,Z,hb,Aa,Ba,Ca,ib,Da,Ea,Fa,Ga,Ha,Ia,Ja),this.w.vw(V),l=!0))))))))));break;case Keywords.Pq:c.I()&&(n=!0,k=c.H(),k>=h.wu&&k<=h.pu&&(kb=k,l=!0));break;case Keywords.Sq:c.I()?(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(da=k,n=!1,c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(Sa=da,Ta=k,l=!0)))):(f=c.ua(),f===Keywords.Uc&&(f=c.Y(),Ta=Sa=0,l=!0));break;case Keywords.Rq:c.I()?
(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,ea=k,c.I()&&(n=!0,k=c.H(),0<=k&&k<=this.a.U/2&&(Pa=da,Qa=ea,Ra=k,l=!0)))))):(f=c.ua(),f===Keywords.Ka&&(f=c.Y(),Qa=Pa=0,Ra=-1,l=!0));break;case Keywords.Oq:c.I()&&(n=!0,k=c.H(),0<=k&&360>k&&(lb=k,Na=!1,f=c.ua(),f===Keywords.Uc&&(f=c.Y(),Na=!0),l=!0));break;case Keywords.Qq:c.I()?(n=!0,k=c.H()|0,0<=k&&(da=k,c.I()?(k=c.H()|0,k>=da?(ea=k,c.I()?(k=c.H()|0,0<=k&&k<=ea-da>>1?(Ka=da,La=ea,Ma=
k,l=!0):(l=!0,x[x.length]=[e+" "+da+" "+ea+" "+k,"third argument must from 0 to "+(ea-da>>1)])):n=!1):(l=!0,x[x.length]=[e+" "+da+" "+k,"second argument must be >= first"])):n=!1)):(f=c.ua(),f===Keywords.Oe?(f=c.Y(),La=Ka=-1,Ma=0,l=!0):n=!1);break;case Keywords.Nq:c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(jb=k,l=!0));break;case Keywords.Gl:c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,ea=k,c.I()&&(n=!0,k=c.H(),ia=-1E3,k>=h.Va&&k<=h.Fb?ia=
k:k>=h.Pl&&k<=h.Ol&&(ia=-(1/k)),-1E3!==ia&&(f=c.ua(),Oa=!1,f===Keywords.Uc&&(f=c.Y(),Oa=!0,f=c.ua()),f[0]===Keywords.Vb?(qa=this.w.ix(da,ea,ia,this.Oj,jb,kb,Ka,La,Ma,lb,Na,Oa,Pa,Qa,Ra,Sa,Ta),l=ja=!0):n=!1))))));break;case Keywords.Ut:l=this.Dl=!0;break;case Keywords.er:l=this.dr=!0;break;case Keywords.cr:l=this.Ff=!0;break;case Keywords.fr:this.yl=!1;l=!0;break;case Keywords.Xq:c.I()&&(n=!0,k=c.H()|0,k>=h.vu&&k<=h.ou&&(this.a.U=1<<k,l=!0));break;case Keywords.tm:f=c.ua();f===Keywords.Ka?(f=c.Y(),
w.Ci=!1):w.Ci=!0;l=w.To=!0;break;case Keywords.Vm:f=c.ua();f===Keywords.Ka?(f=c.Y(),w.ld=!1):w.ld=!0;l=!0;break;case Keywords.Rn:c.I()&&(n=!0,k=c.H()|0,0<=k&&k<=this.eo&&(this.ea=k,l=!0));break;case Keywords.Hq:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.xf=!1):this.xf=!0;l=!0;break;case Keywords.Bl:f=c.ua();f===Keywords.Ka?(f=c.Y(),w.pc=!1):w.pc=!0;l=w.ij=!0;break;case Keywords.Al:c.I()&&(n=!0,k=c.H()|0,k>=h.Dy&&k<=h.vy&&(this.a.Ve=k,l=this.a.hn=!0));break;case Keywords.ra:case Keywords.Sp:v=e;Ua=!1;
if(c.I()){y=c.H()|0;if(0>y||255<=y)x[x.length]=[e+" "+y,"STATE out of range"],Ua=!0;this.Fc(c,x,y,e,Ua,y)}else switch(f=c.ua(),f){case Keywords.Bu:f=c.Y();this.Fc(c,x,h.Cu,e,!1,f);break;case Keywords.Du:f=c.Y();this.Fc(c,x,h.Eu,e,!1,f);break;case Keywords.Vt:f=c.Y();this.Fc(c,x,h.Wt,e,!1,f);break;case Keywords.gu:f=c.Y();this.Fc(c,x,h.hu,e,!1,f);break;case Keywords.ku:f=c.Y();this.Fc(c,x,h.lu,e,!1,f);break;case Keywords.iu:f=c.Y();this.Fc(c,x,h.ju,e,!1,f);break;case Keywords.au:f=c.Y();this.Fc(c,
x,h.bu,e,!1,f);break;case Keywords.Xo:this.m(c,x,h.Se,v);break;case Keywords.Wo:this.m(c,x,h.Ag,v);break;case Keywords.ds:this.m(c,x,h.jn,v);break;case Keywords.Zo:this.m(c,x,h.Qf,v);break;case Keywords.Yo:this.m(c,x,h.il,v);break;case Keywords.uv:this.m(c,x,h.ln,v);break;case Keywords.tv:this.m(c,x,h.$p,v);break;case Keywords.Bl:this.m(c,x,h.jl,v);break;case Keywords.Al:this.m(c,x,h.kl,v);break;case Keywords.tm:this.m(c,x,h.sn,v);break;case Keywords.bs:this.m(c,x,h.tn,v);break;case Keywords.oq:this.m(c,
x,h.mn,v);break;case Keywords.Gl:this.m(c,x,h.ll,v);break;case Keywords.Zk:this.m(c,x,h.hl,v);break;case Keywords.Pu:this.m(c,x,h.ml,v);break;case Keywords.dt:this.m(c,x,h.kn,v);break;case Keywords.Nt:this.m(c,x,h.pn,v);break;case Keywords.Mt:this.m(c,x,h.on,v);break;case Keywords.Lt:this.m(c,x,h.nn,v);break;case Keywords.Ot:this.m(c,x,h.qn,v);break;case Keywords.Pt:this.m(c,x,h.rn,v);break;case Keywords.Dv:this.m(c,x,h.pl,v);break;case Keywords.Bv:this.m(c,x,h.nl,v);break;case Keywords.Ev:this.m(c,
x,h.ql,v);break;case Keywords.Gv:this.m(c,x,h.sl,v);break;case Keywords.Fv:this.m(c,x,h.rl,v);break;case Keywords.Cv:this.m(c,x,h.ol,v);break;default:x[x.length]=[e+" "+f,"illegal element"],f=c.Y()}l=!0;break;case Keywords.xk:c.Gt();l=!0;--this.Vl;break;case Keywords.Mm:l=this.Wb=!0;break;case Keywords.gr:l=this.Qk=!0;break;case Keywords.br:l=this.ro=this.Gb=!0;break;case Keywords.ar:l=this.si=!0;break;case Keywords.Wr:l=this.Qn=!0;break;case Keywords.Xr:l=gb=fb=eb=db=xa=wa=cb=bb=va=ab=$a=Za=Ya=Xa=
Wa=!0;break;case Keywords.Ka:x[x.length]=[Keywords.Ka,"must follow LOOP or STOP"];l=!0;break;case Keywords.Oe:f=c.ua();f===Keywords.Ua?(f=c.Y(),w.zf?(this.w.Yw(w,x),this.jw()):x[x.length]=[Keywords.Oe+" "+Keywords.Ua,"only valid at a POI"]):x[x.length]=[Keywords.Oe,"must be followed by INITIAL"];l=!0;break;case Keywords.Ua:x[x.length]=[Keywords.Ua,"must follow POI, ALL or a POI setting"];l=!0;break;case Keywords.Wm:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.ke=!1):this.za&&(this.ke=!0);l=!0;break;case Keywords.yo:c.I()&&
(n=!0,k=c.H()|0,0<=k&&(w.zf?(w.ab=k,w.vm=!0):x[x.length]=[Keywords.yo+" "+k,"only valid at a POI"],l=!0));break;case Keywords.tk:w.Xz(x);l=!0;break;case Keywords.uk:w.Zz(x);l=!0;break;case Keywords.bm:w.Yz(x);l=!0;break;case Keywords.cm:c.I()&&(n=!0,k=c.H(),k>=WaypointConstants.Lu&&k<=WaypointConstants.Ku&&(w.bA(k,x),l=!0));break;case Keywords.yq:l=this.On=!0;break;case Keywords.Ur:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.Ng=!1):this.Ng=!0;l=!0;break;case Keywords.Fm:c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=
h.te&&(na=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(oa=k,l=!0,this.ec&&(x[x.length]=[Keywords.Fm+" "+na+" "+oa,"overwrites "+la+" "+ma]),la=na,ma=oa,this.ec=!0))));break;case Keywords.Em:c.I()&&(n=!0,k=c.H()|0,0<k&&(Va=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(na=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(oa=k,l=!0,this.Sd&&(x[x.length]=[Keywords.Em+" "+Va+" "+na+" "+oa,"overwrites "+za+" "+la+" "+ma]),za=Va,la=na,ma=oa,this.ec=this.Sd=!0))))));break;case Keywords.Hj:c.I()&&
(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(ta=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(sa=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(ua=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.ve&&k<=h.te&&(ra=k,l=!0,ua>ta?x[x.length]=[Keywords.Hj+" W "+this.Ca(ua)+" E "+this.Ca(ta),"W is greater than E"]:ra>sa?x[x.length]=[Keywords.Hj+" N "+this.Ca(ra)+" S "+this.Ca(sa),"N is greater than S"]:(this.Gj&&(x[x.length]=[Keywords.Hj+" "+this.Ca(ta)+" "+this.Ca(sa)+" "+this.Ca(ua)+" "+this.Ca(ra),"overwrites "+
this.Ca(this.Tg)+" "+this.Ca(this.Ug)+" "+this.Ca(this.Bh)+" "+this.Ca(this.Ah)]),this.ec=this.Gj=!0,this.Ah=ra,this.Tg=ta,this.Ug=sa,this.Bh=ua)))))))));break;case Keywords.sg:H=w;!w.zf&&0<this.w.My&&(w=this.w.wl());c.I()?(n=!0,k=c.H()|0,0<k&&(!w.Gi||this.Gc||xa||(x[x.length]=-1===w.vb?[Keywords.sg+" "+k,"overwrites "+Keywords.Ka]:[Keywords.sg+" "+k,"overwrites "+w.vb]),w.vb=k,w.Gi=!0,xa=this.Gc=!1,l=!0)):(f=c.ua(),f===Keywords.Ka?(f=c.Y(),!w.Gi||this.Gc||xa||(x[x.length]=-1!==w.vb||this.Gc?[Keywords.sg+
" "+Keywords.Ka,"overwrites "+w.vb]:[Keywords.sg+" "+Keywords.Ka,"overwrites "+Keywords.Ka]),w.vb=-1,w.Gi=!0,xa=this.Gc=!1,l=!0):f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.sg,w,x,this.Gc),l=this.Gc=!0));w=H;break;case Keywords.dg:H=w;!w.zf&&0<this.w.ja.length&&(w=this.w.wl());c.I()?(n=!0,k=c.H()|0,0<k&&(!w.ki||this.zd||wa||(x[x.length]=-1===w.oa?[Keywords.dg+" "+k,"overwrites "+Keywords.Ka]:[Keywords.dg+" "+k,"overwrites "+w.oa]),w.oa=k,w.ki=!0,wa=this.zd=!1,l=!0)):(f=c.ua(),f===Keywords.Ka?(f=
c.Y(),!w.ki||this.zd||wa||(x[x.length]=-1===w.oa?[Keywords.dg+" "+Keywords.Ka,"overwrites "+Keywords.Ka]:[Keywords.dg+" "+Keywords.Ka,"overwrites "+w.oa]),w.oa=-1,w.ki=!0,wa=this.zd=!1,l=!0):f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.dg,w,x,this.zd),l=this.zd=!0));w=H;break;case Keywords.Qh:c.I()?(n=!0,k=c.H()|0,0<=k&&359>=k&&(!w.bh||this.$f||Za||(x[x.length]=[Keywords.Qh+" "+k,"overwrites "+w.angle]),w.angle=k,w.bh=!0,Za=this.$f=!1,l=!0)):(f=c.ua(),f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.Qh,
w,x,this.$f),l=this.$f=!0));break;case Keywords.lj:c.I()?(n=!0,k=c.H()|0,k>=h.no&&k<=h.fo&&(!w.mh||this.eg||$a||(x[x.length]=[Keywords.lj+" "+k,"overwrites "+w.J]),w.J=k,w.mh=!0,$a=this.eg=!1,l=!0)):(f=c.ua(),f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.lj,w,x,this.eg),l=this.eg=!0));break;case Keywords.bj:c.I()?(n=!0,k=c.H(),k>=h.mo&&k<=h.nu&&(!w.fh||this.ag||ab||(x[x.length]=[Keywords.bj+" "+k,"overwrites "+w.depth]),w.depth=k,w.fh=!0,ab=this.ag=!1,l=!0)):(f=c.ua(),f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.bj,
w,x,this.ag),l=this.ag=!0));break;case Keywords.ip:c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(this.wd=k,l=!0));break;case Keywords.jp:c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(this.xd=k,l=!0));break;case Keywords.Zc:c.I()?(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(!w.Kf||this.hg||Wa||(x[x.length]=[Keywords.Zc+" "+k,"overwrites "+-w.x]),w.x=-k,w.Kf=!0,Wa=this.hg=!1,l=!0)):(f=c.ua(),f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.Zc,w,x,this.hg),l=this.hg=!0));break;case Keywords.$c:c.I()?
(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(!w.jf||this.ig||Xa||(x[x.length]=[Keywords.$c+" "+k,"overwrites "+-w.y]),w.y=-k,w.jf=!0,Xa=this.ig=!1,l=!0)):(f=c.ua(),f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.$c,w,x,this.ig),l=this.ig=!0));break;case Keywords.Zt:l=!0;break;case Keywords.js:c.I()&&(n=!0,k=c.H(),k>=h.Va&&k<=h.Fb?(this.Pi=!0,this.Uk=k,l=!0):k>=h.Pl&&k<=h.Ol&&(this.Pi=!0,this.Uk=-(1/k),l=!0));break;case Keywords.Ep:case Keywords.nc:c.I()?(n=!0,k=c.H(),k>=h.Va&&k<=h.Fb?(!w.yd||this.Ad||
Ya||(x[x.length]=1>w.zoom?[Keywords.nc+" "+k,"overwrites "+-(1/w.zoom)]:[Keywords.nc+" "+k,"overwrites "+w.zoom]),w.zoom=k,w.yd=!0,Ya=this.Ad=!1,l=!0):k>=h.Pl&&k<=h.Ol&&(w.yd&&!this.Ad&&(x[x.length]=1>w.zoom?[Keywords.nc+" "+k,"overwrites "+-(1/w.zoom)]:[Keywords.nc+" "+k,"overwrites "+w.zoom]),w.zoom=-(1/k),w.yd=!0,this.Ad=!1,l=!0)):(f=c.ua(),f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.nc,w,x,this.Ad),l=this.Ad=!0));break;case Keywords.hj:c.I()?(n=!0,k=c.H()|0,k>=h.ue&&k<=h.mi&&(!w.jh||this.bg||
bb||(x[x.length]=[Keywords.hj+" "+k,"overwrites "+w.yb]),w.yb=k,w.jh=!0,bb=this.bg=!1,l=!0)):(f=c.ua(),f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.hj,w,x,this.bg),l=this.bg=!0));break;case Keywords.ks:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.se||(this.zh=this.wa=!1)):this.se||(this.zh=this.wa=!0);l=!0;break;case Keywords.fs:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.se||(this.Qg=this.zh=this.wa=!1,this.h.Qg=!1)):this.se||(this.Qg=this.zh=this.wa=!0,this.h.Qg=!0);l=!0;break;case Keywords.hs:c.I()&&(n=!0,
k=c.H()|0,k>=h.yu&&k<=h.su&&(this.Dc=k,l=!0));break;case Keywords.yh:c.I()?(n=!0,k=c.H()|0,0<=k&&k<this.a.ae&&(!w.ff||this.Xb||va||this.Tk(x,k,w.Ab),w.Ab=k,w.ff=!0,va=this.Xb=!1,l=!0)):(f=c.ua(),f===Keywords.Fk?(f=c.Y(),this.Pf?(w.ff&&!this.Xb&&this.Tk(x,this.a.ae,w.Ab),w.Ab=this.a.ae,w.ff=!0,this.Xb=!1):x[x.length]=[Keywords.yh+" "+Keywords.Fk,"no custom THEME defined"],l=!0):(k=this.ow(f),-1!==k?(f=c.Y(),!w.ff||this.Xb||va||this.Tk(x,k,w.Ab),w.Ab=k,w.ff=!0,va=this.Xb=!1,l=!0):f===Keywords.Ua&&(f=
c.Y(),this.w.hc(Keywords.yh,w,x,this.Xb),l=this.Xb=!0)));break;case Keywords.wj:x[x.length]=[e,"already in a script block"];l=!0;break;case Keywords.Kr:this.Ea=!this.Ea;l=!0;break;case Keywords.Lr:this.dk.current=this.Hk([!0],!0,this);l=!0;break;case Keywords.qq:this.Xg.current=this.el([!0],!0,this);l=!0;break;case Keywords.Jr:this.hp([!0],!0,this);this.Xd&&(this.Xd.current=[this.ef],this.h.Rg=!0);l=!0;break;case Keywords.gq:c.I()&&(n=!0,k=c.H()|0,k>=h.uu&&k<=h.mu&&(l=!0,this.a.gm=k));break;case Keywords.so:l=
this.Lc=!0;break;case Keywords.In:l=this.gb=!0;break;case Keywords.tq:c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(l=!0,this.Tb=k));break;case Keywords.uq:this.Ae=!1;l=!0;break;case Keywords.Cq:l=this.a.Ie=!0;break;case Keywords.Or:this.a.Ie=!1;l=!0;break;case Keywords.Pr:this.a.fa||(this.a.S=!1,this.Db.l=this.a.S);l=!0;break;case Keywords.Dq:this.a.fa||(this.a.S=!0,this.Db.l=this.a.S);l=!0;break;case Keywords.ct:l=this.a.Ac=!0;break;case Keywords.wr:this.En=c.Y();l=!0;break;case Keywords.We:f=c.ua();switch(f){case Keywords.Zc:w.Fh&&
this.va(w.hf,Keywords.We,Keywords.Zc,x);w.hf=!0;w.Fh=!0;f=c.Y();break;case Keywords.$c:w.Hh&&this.va(w.kf,Keywords.We,Keywords.$c,x);w.kf=!0;w.Hh=!0;f=c.Y();break;case Keywords.nc:w.Os&&this.va(w.lf,Keywords.We,Keywords.nc,x);w.lf=!0;w.Om=!0;f=c.Y();break;case Keywords.Oe:w.Fh&&this.va(w.hf,Keywords.We,Keywords.Zc,x);w.Hh&&this.va(w.kf,Keywords.We,Keywords.$c,x);w.Os&&this.va(w.lf,Keywords.We,Keywords.nc,x);w.hf=!0;w.Fh=!0;w.kf=!0;w.Hh=!0;w.lf=!0;w.Om=!0;f=c.Y();break;default:this.Bd(c,x,Keywords.We,
"argument",Keywords.Oe+", "+Keywords.Zc+", "+Keywords.$c+" or "+Keywords.nc)}l=!0;break;case Keywords.Mf:f=c.ua();switch(f){case Keywords.Zc:w.Fh&&this.va(w.hf,Keywords.Mf,Keywords.Zc,x);w.hf=!1;w.Fh=!0;f=c.Y();break;case Keywords.$c:w.Hh&&this.va(w.kf,Keywords.Mf,Keywords.$c,x);w.kf=!1;w.Hh=!0;f=c.Y();break;case Keywords.nc:w.Os&&this.va(w.lf,Keywords.Mf,Keywords.nc,x);w.lf=!1;w.Om=!0;f=c.Y();break;case Keywords.Oe:w.Fh&&this.va(w.hf,Keywords.Mf,Keywords.Zc,x);w.Hh&&this.va(w.kf,Keywords.Mf,Keywords.$c,
x);w.Os&&this.va(w.lf,Keywords.Mf,Keywords.nc,x);w.hf=!1;w.Fh=!0;w.kf=!1;w.Hh=!0;w.lf=!1;w.Om=!0;f=c.Y();break;default:this.Bd(c,x,Keywords.Mf,"argument",Keywords.Oe+", "+Keywords.Zc+", "+Keywords.$c+" or "+Keywords.nc)}l=!0;break;case Keywords.zo:L=!0;this.w.add(w);w=this.w.cn();w.zf=!0;f=c.ua();f===Keywords.Ua&&(f=c.Y(),-1!==this.$i&&(x[x.length]=[Keywords.zo+" "+Keywords.Ua,"overrides previous initial POI"]),this.$i=this.w.tb.length);this.ns();l=!0;break;case Keywords.um:c.I()&&(n=!0,k=c.H()|0,
0<=k&&(I||(I=!0),0<k&&(this.w.add(w),w=this.w.cn()),w.ab=k,l=w.vm=!0));break;case Keywords.Aj:c.I()?(n=!0,k=c.H()|0,k>=h.mj&&k<=h.$d&&(!w.wh||this.fg||cb||(x[x.length]=[Keywords.Aj+" "+k,"overwrites "+w.step]),w.step=k,w.wh=!0,cb=this.fg=!1,l=!0)):(f=c.ua(),f===Keywords.Ua&&(f=c.Y(),this.w.hc(Keywords.Aj,w,x,this.fg),l=this.fg=!0));break;case Keywords.kr:c.I()&&(n=!0,k=c.H(),0<=k&&(I||(I=!0),this.w.add(w),w=this.w.cn(),k<h.nv&&(k=h.nv),w.dc=k,l=w.sv=!0));break;case Keywords.Ik:c.I()&&(n=!0,k=c.H()|
0,this.se||(-1===this.W||db||(x[x.length]=[Keywords.Ik+" "+k,"overwrites "+this.W]),this.W=k),db=!1,l=!0);break;case Keywords.fk:c.I()&&(n=!0,k=c.H()|0,this.se||(-1===this.da||eb||(x[x.length]=[Keywords.fk+" "+k,"overwrites "+this.da]),this.da=k),eb=!1,l=!0);break;case Keywords.em:c.I()&&(n=!0,k=c.H()|0,-1===this.ha||fb||(x[x.length]=[Keywords.em+" "+k,"overwrites "+this.ha]),this.ha=k,fb=!1,l=!0);break;case Keywords.dm:c.I()&&(n=!0,k=c.H()|0,-1===this.Aa||gb||(x[x.length]=[Keywords.dm+" "+k,"overwrites "+
this.Aa]),this.Aa=k,gb=!1,l=!0);break;default:x[x.length]=[e,"unknown or misspelt command"],l=!0}l||(n?x[x.length]=[e+" "+k,"argument out of range"]:this.Bd(c,x,e,"argument",mb))}""!==e&&(e=c.Y())}g&&(x[x.length]=[Keywords.Vb+m,"unterminated string"]);I&&this.ec&&(z=this.Gj?Keywords.Hj:this.Sd?Keywords.Em:Keywords.Fm,x[x.length]=[z,"can not be used with Waypoints"],this.Sd=this.Gj=this.ec=!1);this.Gj||!this.ec&&!this.Sd||(this.Sd&&(0<this.a.Ve&&(za*=this.a.Ve),w.oa=za),this.Ah=ma,this.Tg=la,this.Ug=
ma,this.Bh=la);if(I||L){this.w.add(w);I?(w=this.w.wl(),this.Pb=!0):-1!==this.$i&&(w=this.w.tb[this.$i],this.qe=this.$i);if(I){for(ha=0;ha<this.w.ja.length;ha+=1)w=this.w.ja[ha],w.ld&&(w.Kf||w.jf||w.yd)&&(m="",w.Kf?(m="X "+w.x,w.jf?m=w.yd?m+(", Y "+w.y+" and ZOOM "+w.zoom):m+(" and Y "+w.y):w.yd&&(m+=" and ZOOM "+w.zoom)):w.jf?(m="Y "+w.y,w.yd&&(m+=" and ZOOM "+w.zoom)):w.yd&&(m="ZOOM "+w.zoom),x[x.length]=[Keywords.Vm,"overwrites "+m]);w=this.w.wl()}L&&w.we===WaypointConstants.play&&this.za&&(this.ke=
!0)}w.ld&&(this.nb=!0);w.Kf&&(this.a.ba=this.a.width/2-w.x);w.jf&&(this.a.$=this.a.height/2-w.y);w.yd&&(this.a.zoom=w.zoom);w.bh&&(this.a.angle=w.angle);w.fh&&(this.a.sc=w.depth/h.Wh+h.mo);w.mh&&(this.a.J=w.J);w.ff&&(this.Oi=w.Ab);w.jh&&(this.Gd=w.yb);w.wh&&(this.ga=w.step);w.cs&&this.h.notification.T(w.vd,1E3,!1);this.vb=w.vb;this.oa=w.oa;w.yd&&(this.Kk=!0);w.Kf&&(this.Qj=!0);w.jf&&(this.Rj=!0);w.ij&&(this.a.jb=w.pc);w.To&&(this.rg=w.Ci);for(ha=0;ha<b;ha+=1)-1!==this.Yb[ha]&&(A+=1);if(0<A){this.Qm=
!0;for(ha=0;ha<b;ha+=1)PatternManager.zj[ha]?-1===this.Yb[ha]?(E=this.kd[ha],this.Qn&&(x[x.length]=this.a.rc?[v+" "+h.jA[ha],"definition missing (used "+(E>>16)+" "+(E>>8&255)+" "+(E&255)+")"]:[v+" "+ha,"definition missing (used "+(E>>16)+" "+(E>>8&255)+" "+(E&255)+")"]),this.Yb[ha]=E,this.Qm=!1,this.Zi[ha]=h.rv):this.Zi[ha]=h.qv:this.Zi[ha]=h.Vr;this.gl=this.Qm?"(custom)":this.gl+" (custom*)"}else this.Yb=[];this.Pf&&(this.lw(),this.Nc&&(this.Nc.upper=this.a.ae));2<b&&!this.a.rc&&-1===this.a.ZA&&
(this.Wb=!0);this.Wb&&(z="not possible due to "+Keywords.Mm,this.ke&&(x[x.length]=[Keywords.Wm,z],this.ke=!1),-1!==this.vb&&(x[x.length]=[Keywords.sg+" "+this.vb,z]),-1!==this.oa&&(x[x.length]=[Keywords.dg+" "+this.oa,z]));0!==this.wd&&this.kg+h.$d+2*Math.abs(this.wd)>=this.a.U&&(x[x.length]=[Keywords.ip+" "+this.wd,"pattern does not fit on grid at this offset"],this.wd=0);0!==this.xd&&this.Fg+h.$d+2*Math.abs(this.xd)>=this.a.U&&(x[x.length]=[Keywords.jp+" "+this.xd,"pattern does not fit on grid at this offset"],
this.xd=0);this.ir=x.length}""!==this.Pa&&(this.Pa=this.Vg(this.Pa));this.nb&&(this.Um=!0);this.gb&&this.Lc&&(x[x.length]=[Keywords.In,"not valid with "+Keywords.so],this.gb=!1);var pa=0,ya=!1;-1!==this.W&&(pa=h.qd,this.Gb&&(pa=h.Gy),this.W<pa||this.W>this.Cg)&&(x[x.length]=[Keywords.Ik+" "+this.W,"argument out of range"],ya=!0);-1!==this.da&&(pa=h.lk,this.Gb&&(pa=h.Fy),this.da<pa||this.da>h.ko)&&(x[x.length]=[Keywords.fk+" "+this.da,"argument out of range"],ya=!0);this.se&&(-1!==this.ha&&(this.ha<
h.qd||this.ha>this.Cg)&&(x[x.length]=[Keywords.em+" "+this.ha,"argument out of range"],this.ha=-1,ya=!0),-1!==this.Aa&&(this.Aa<h.lk||this.Aa>h.ko)&&(x[x.length]=[Keywords.dm+" "+this.Aa,"argument out of range"],this.Aa=-1,ya=!0));if(ya||x.length)-1!==this.W&&this.W<h.qd&&(this.W=h.qd),-1!==this.da&&this.da<h.qh&&(this.da=h.qh),this.Gb=!1;this.u.l=this.Gb;this.h.Gb=this.Gb;this.h.si=this.si;this.Gb&&(this.gb=this.Qg=this.wa=this.ke=!1,this.Hk([!1],!0,this),this.el([!1],!0,this),this.hp([!1],!0,this),
this.Dl=this.Ea=!1);this.Qk&&(this.element.style="display:none",this.element.parentNode&&this.element.parentNode.parentNode&&this.element.parentNode.parentNode.className===r.An&&(this.element.parentNode.parentNode.style="display:none;"));this.w.hA()};c.prototype.gw=function(){this.a.hn=!1;this.a.U=1<<h.Ix;this.$i=this.Oi=-1;this.si=this.Qk=this.ro=this.Gb=!1;this.a.zb=0;this.a.sb=0;this.a.Mb=1;this.Ea=this.Um=this.nb=!1;this.Yb=[];this.eh=this.Re=null;this.Rf=h.Rf;this.a.Vf=this.a.dy;this.a.Uf=this.a.cy;
this.a.Tf=this.a.by;this.a.Wf=this.a.ey;this.a.Xf=this.a.fy;this.Rh=this.ke=this.On=!1;this.oa=this.vb=-1;this.ef=this.fc=this.Sd=this.ec=this.Gj=this.Pb=this.mc=this.Za=!1;this.ea=this.eo=2<this.a.g?63<=256-this.a.g?63:256-this.a.g:63;this.re=!1;this.a.yn=!1};c.prototype.Yr=function(){this.Qg?l(this.element):(this.A=this.Un,this.v=this.gs,this.nb?(this.wa=!1,this.Sf(!0,!1)):this.a.zoom=this.Vn,this.wb&&(this.wb.current=this.Zg([this.a.zoom,this.a.zoom],!1,this)),this.X=this.Sn,this.wa=!1,this.h.wa=
!1,this.u.l=!1,this.h.notification.T("Shrink with hotkey N",100,!0),this.resize())};c.prototype.qp=function(a){a.wa?a.Yr():a.Gb&&(a.si||a.Xp(a,!1))};c.prototype.resize=function(){this.Sk&&(z.tr.Ar=this.Pk-this.A,this.Pk=this.A,this.Sk=!1);this.G.width=this.A;this.G.height=this.v;this.rj.width=this.A;this.rj.height=this.v;this.rd.textBaseline="middle";this.a.$u(this.A,this.v)};c.prototype.Zr=function(){this.Un=this.A;this.gs=this.v;this.Vn=this.a.zoom;this.Sn=this.X;this.A=this.A/this.Dc|0;this.v=
this.v/this.Dc|0;this.a.zoom=this.a.zoom/this.Dc;this.A&=-8;this.u.l=!0;this.h.wa=!0;this.h.Dc=this.Dc;this.wa=!0;this.resize()};c.prototype.qo=function(){var a=this.a.g;a>this.oh&&(a=this.oh);this.ac.lower=[];this.ac.F=[];this.ac.width=40*a;this.i.lower=[];this.i.F=[];this.i.current=[];this.i.width=40*a;this.i.Ic=1;for(a=0;a<this.oh;a+=1){var b=a+this.Jf;this.ac.lower[a]=String(b);b=0===b?"dead":1===b?"alive":"dying "+String(b-1);this.ac.F[a]=b;this.i.lower[a]="";this.i.F[a]=b;this.i.current[a]=
!1}b=this.Te;0<b&&(b=this.a.g-b);this.ac.current=b-this.Jf};c.prototype.mw=function(){var a=this.a.g;this.Te=1;this.Jf=0;this.ug.current=[this.$n([!0],!0,this)];this.oh=7+((this.A-h.qd)/40|0);this.a.rc?(this.ac.lower="0123456".split(""),this.ac.width=280,this.ac.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.ac.current=this.Te,this.i.lower="      ".split(" "),this.i.width=280,this.i.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.i.Ic=1,this.i.current=[!1,!1,
!1,!1,!1,!1,!1]):2>=a?(this.ac.lower=["0","1"],this.ac.width=80,this.ac.F=["dead","alive"],this.ac.current=this.Te,this.i.lower=["",""],this.i.width=80,this.i.F=["dead","alive"],this.i.Ic=1,this.i.current=[!1,!1]):(this.Te=a-1,a>this.oh&&(a=this.oh),this.qo(),this.ac.width=40*a,this.i.width=40*a,this.Nh.current=this.xo([0,0],!0,this));this.ac.setPosition(Menu.fb,-this.ac.width,40);this.i.setPosition(Menu.fb,-this.i.width,60)};c.prototype.Dn=function(){this.$h=!1;this.Gn=0;this.ng=!1;this.wi=this.vi=
0;this.Zl=this.nk=this.jr=this.Gf=this.Gg="";this.am=this.th=this.Fg=this.kg=0;this.jg="(none)";this.a.rc=!1;this.a.S=!1;this.a.fa=!1;this.a.Qe=0;this.a.tg=0;this.a.Kd=!1;this.a.Ke=-1;this.a.Yl=!1;this.a.g=-1;this.a.ka=-1;this.a.ta=!1;this.za=this.a.$A=!1};c.prototype.vh=function(a,b){var c,d=!1;var e=0;this.Tn=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;this.Nb=[];this.h.notification.clear(!0,!0);this.h.notification.clear(!1,!0);if(a=PatternManager.create("",a,this.a.j)){this.$h=PatternManager.$h;
this.Gn=PatternManager.sq;this.ng=PatternManager.ng;this.vi=PatternManager.Bo;this.wi=PatternManager.Co;this.Mg=PatternManager.Mg;this.Lg=PatternManager.Lg;this.kg=a.width;this.Fg=a.height;this.nk=a.name;this.Zl=a.Fu;this.jg=a.jg;""===this.jg&&(this.jg="(none)");this.th=a.ze;this.am=a.Wl;this.Gg=a.aa;this.Gf=a.Td;this.jr=a.Ym;this.a.ob=a.ob;this.a.je=a.je;this.za=PatternManager.za;this.a.rc=a.Rb;this.a.g=a.g;if(this.a.ta=a.ta)this.a.Qb.xb=a.Qc,this.a.Qb.Uo=a.td,this.a.Qb.Ko=a.g,this.a.Qb.cA(a.ye,
a.kc),PatternManager.ah?(this.a.Qb.Rm=a.Wk,this.a.Qb.Sm=a.Yk,this.a.Qb.ah=!0):this.a.Qb.ah=!1;this.a.Ie=!0;this.a.S=a.S;this.a.Yl=a.S;this.a.fa=a.fa;this.a.Qe=a.Qe;this.a.tg=a.tg;this.a.Kd=a.Kd;this.a.Ke=a.Ke;this.a.ka=a.qb;this.a.la=a.md;this.a.na=a.Ue;this.a.cl=a.zl;this.a.dl=a.ek;this.a.Op=a.vq;this.a.gt=a.Nn;this.$l=new Uint32Array(this.th);for(c=0;c<this.th;c+=1)this.$l[c]=PatternManager.zj[c]}else this.Dn();this.If=!0;this.gb=!1;this.Ae=!0;this.Tb=h.At;this.Lc=a?!1:!0;this.yl=!0;this.Hn=!1;
this.Db.l=this.a.S;this.o=PatternManager.o;this.a.Da=!0;this.a.gm=h.zt;this.xd=this.wd=0;this.Ee=this.qe=-1;this.fl=this.Yi=!1;this.Ng=this.xf=this.u.locked=!1;this.a.Xx();this.a.Yx();this.a.rc&&(this.a.lx(),this.a.ox());this.Pa="";this.rg=!1;ColourManager.Id();this.a.lt(!1);this.a.qc=this.a.Mn;this.a.Yd=this.a.Ln;this.a.Ve=10;this.a.Jx=10;this.a.kh=!0;this.Gd=60;this.ga=1;this.a.J=1;this.a.sc=.1;this.a.angle=0;this.a.zoom=6;this.a.Az();this.a.ba=this.a.width/2;this.a.$=this.a.height/2;this.Rj=this.Qj=
this.Kk=!1;this.aj=this.Vd=0;this.Aa=this.ha=this.da=this.W=-1;this.f[h.Se]=-1;this.f[h.Ag]=-1;this.f[h.jn]=-1;this.f[h.Qf]=-1;this.f[h.il]=-1;this.f[h.jl]=-1;this.f[h.kl]=-1;this.f[h.sn]=-1;this.f[h.tn]=-1;this.f[h.kn]=-1;this.f[h.pn]=-1;this.f[h.on]=-1;this.f[h.nn]=-1;this.f[h.qn]=-1;this.f[h.rn]=-1;this.f[h.mn]=-1;this.f[h.ll]=-1;this.f[h.ln]=-1;this.f[h.$p]=-1;this.f[h.pl]=-1;this.f[h.nl]=-1;this.f[h.ql]=-1;this.f[h.sl]=-1;this.f[h.rl]=-1;this.f[h.ol]=-1;this.f[h.hl]=-1;this.f[h.ml]=-1;this.Oj=
h.cu;this.Nj=h.Tm;this.Pj=h.Mu;this.wa&&this.Yr();this.zh=!1;this.h.wa=!1;this.Dc=h.Bt;this.Qg=!1;this.Pi=this.h.fB=!1;this.Sb=a?!1:!0;this.Wb=!1;this.a.jb=!1;this.a.Ac=!1;this.pa.l=!1;this.nj.l=!1;this.Xd.l=!1;this.Na.l=!1;this.bc.l=!1;this.Df.l=!1;this.tc.l=!1;this.Kb.l=!1;this.Nc.l=!1;this.u.l=!1;this.Be.l=!1;this.Df.current=[!1];this.Xd.current=[!1];this.Ya=this.X=0;this.nj.current=this.As(h.Ql,!0,this);this.ci.current=this.Cm([this.X],!0,this);this.Th=[96,96,96];this.a.Vj=this.a.cg?4284506208:
1616929023;this.w.reset();this.Pb=!1;this.w.Vw();this.Pf=this.dr=this.Ff=this.Dl=!1;if(a){if(PatternManager.ck||a.Rb)a.Rb?(this.kd=ColourManager.nt("LifeHistory"),this.kd[2]=96):this.kd=ColourManager.nt(a.aa),this.kd.length?this.gl=a.aa:(this.kd=ColourManager.bq,this.gl="(default)");this.gw();a.title&&(this.fw(a.title,a.ze),myRand.Id(this.En),this.Nb.length&&(this.Ya=1),this.wa&&b&&(this.wa=!1),-1<this.W&&(this.W&=-8,this.W!==this.A&&(this.A=this.W,d=!0)),-1<this.da&&this.da!==this.v&&(this.v=this.da,
d=!0),this.se&&(-1<this.ha?(this.ha&=-8,this.ha!==this.A&&(this.A=this.ha,d=!0)):this.A=h.qd,this.A!==this.Pk&&(this.Sk=!0),-1<this.Aa?this.Aa!==this.v&&(this.v=this.Aa,d=!0):this.v=h.qh+80));this.mw();this.kw();this.Zv();this.a.hz();this.a.ea=this.ea;this.Qg&&!this.gb&&(this.Lc=!0,this.gb=!1);this.a.Bw(!this.Lc);if(a.width>this.a.U||a.height>this.a.U)this.o="Pattern too big (maximum "+this.a.U+"x"+this.a.U+")",this.Sg=!0,this.za=!1,this.Dn();-1!==a.qb&&(a.ta&&(e=6*a.kc),a.nd&&(e=6*a.Hb),a.md>=this.a.U-
e||a.Ue>=this.a.U-e)&&(this.o="Bounded grid is too big",this.za=!1,this.a.ka=-1);this.Gs=!1;if(-1!==this.a.ka){b=this.a.la;var f=this.a.na;0===b&&(b=a.width);0===f&&(f=a.height)}else b=a.width,f=a.height;e=h.$d;this.a.ta&&(e=4*this.a.Qb.uc+1,-1!==this.a.ka&&(e+=2*this.a.Qb.uc),this.a.Qb.type===PatternManager.gf&&(e=-1!==this.a.ka?e+this.a.na/2:e+(this.a.C.L-this.a.C.K+1)/2),e<h.$d&&(e=h.$d));c=this.a.U/2-e;this.ng&&(this.vi<-c?this.vi=-c:this.vi>=c&&(this.vi=c-1),this.wi<-c?this.wi=-c:this.wi>=c&&
(this.wi=c-1),this.wd+=this.vi,this.xd+=this.wi);this.wd<-c?this.wd=-c:this.wd>=c&&(this.wd=c-1);this.xd<-c?this.xd=-c:this.xd>=c&&(this.xd=c-1);for(;this.a.width<this.a.U&&(b+e+2*Math.abs(this.wd)>=this.a.width||f+e+2*Math.abs(this.xd)>=this.a.height);)this.a.xq(),this.Vd+=this.a.width>>2,this.aj+=this.a.height>>2,this.be+=this.a.width>>2,this.vj+=this.a.height>>2,this.a.S&&(this.Vd-=this.a.height>>3,this.be-=this.a.height>>3);a.ta&&this.a.Qb.resize(this.a.width,this.a.height);this.Ks(a.width,a.height);
this.a.rc&&PatternManager.zj[6]&&this.a.$y(a,this.Ze,this.$e);this.Re?this.h.notification.ne="rgb("+this.Re[0]+","+this.Re[1]+","+this.Re[2]+")":this.h.notification.ne=this.h.notification.Ru;if(0===this.Yb.length)for(c=0;c<this.kd.length;c+=1)this.Zi[c]=PatternManager.zj[c]?h.rv:h.Vr;this.a.jc?(this.a.hx(this.kd,this.Yb),this.a.hh=!0):this.a.hh=!1;this.Ms(a);this.a.xA();this.Hc.ub=""!==this.Gf?this.Gf:this.Gg;this.Hc.F=this.Gg;""!==this.Gf&&(this.Hc.F+=" alias "+this.Gf)}this.a.fx();-1!==this.Oi?
this.a.yk(this.Oi,1,this):this.Pf?this.a.yk(this.a.ae,1,this):this.a.rc?this.a.yk(10,1,this):2<this.a.g?this.a.yk(11,1,this):this.a.yk(1,1,this);this.a.Yb=this.Yb;this.a.st();this.a.Rc(1);this.a.Sz();this.Jb.current=this.Ri([this.Tb,this.Tb],!1,this);this.jk.current=[this.Ae];this.wg.current=[this.nb];this.bi.current=[this.a.jb];this.a.xz(this.Ng);this.a.zr();this.elapsedTime=this.Eg=this.Ha=this.a.s=0;this.Sb?(a&&0<this.Yb.length&&(this.kd=this.Yb),this.a.kx(this.kd),this.a.Od.reset(),this.Lc=!0,
this.gb=!1):(2>=this.a.g&&this.a.zz(this.a.pb),this.a.rc&&PatternManager.zj[2]&&this.a.ax(a,this.Ze,this.$e),this.a.Cz(this.a.pb,this.a.sa),a&&0===this.a.Ba?(this.ak=!0,this.h.notification.T("Nothing alive!",300,!1)):this.ak=!1,-1!==this.a.ka&&this.a.Gr(),this.a.Pz(this.Ff),this.a.Io(this.Ff));this.ai.locked=this.Lc;this.ai.current=[this.gb];this.ei.current=[this.a.S];this.ei.locked=this.a.fa;this.fi.current=[this.a.Ie];this.fi.locked=this.a.fa;0===this.w.Tl()?(this.hi.locked=!0,this.If=!1):(this.hi.locked=
!1,this.If=!0);this.hi.current=[this.If];this.ik.current=[this.Ea];this.Ck.current=[this.rg];this.hk.current=[this.xf];0===this.a.Ve?(this.nh.current=[!1],this.nh.locked=!0):(this.nh.current=[this.a.kh],this.nh.locked=!1);this.Lc||this.a.Zu();a&&(a.xe=null);e=this.a.zoom;c=this.a.ba;b=this.a.$;f=this.wa;this.wa=!1;this.Sf(!0,!1);this.wa=f;this.Kk&&(this.a.zoom=e);this.Qj&&(this.a.ba=c);this.Rj&&(this.a.$=b);this.Pb&&this.tw(this.Nb);this.wa&&this.Pi&&(this.a.zoom=this.Uk);this.Ct=this.a.zoom;this.wb.current=
this.Zg([this.a.zoom,this.a.zoom],!1,this);this.Vd=this.a.ba;this.aj=this.a.$;this.Xj=this.a.angle;this.Db.current=[this.Xj,this.Xj];this.wn=this.a.oe;this.Nc.current=this.Kj([this.wn,""],!0,this);this.fq=this.Gd;e=Math.sqrt((this.fq-h.ue)/(h.mi-h.ue));this.Na.current=this.Yg([e,e],!0,this);this.vn=this.ga;this.bc.current=this.Mi([this.vn,this.vn],!0,this);this.Zj=this.a.J;this.tc.current=[this.Zj,this.Zj];this.eq=this.a.sc;e=Math.sqrt(this.eq);this.Kb.current=this.Ch([e,e],!0,this);this.a.Da=!0;
this.ke&&!this.Rh?(this.Bc=!0,this.pa.current=h.ni):(this.Bc=!1,this.pa.current=h.lb);this.iv(this.Bc);this.v<h.qh?(this.Df.l=!0,this.pa.x=this.Rk+45,this.pa.bf=this.pa.x,this.Na.x=this.Lk+45,this.Na.bf=this.Na.x,this.bc.x=this.Jk+45):(this.pa.x=this.Rk,this.pa.bf=this.pa.x,this.Na.x=this.Lk,this.Na.bf=this.Na.x,this.bc.x=this.Jk);this.bc.bf=this.bc.x;this.A>h.qd?(c=this.A-h.qd+h.lp,c>h.Yv&&(c=h.Yv),this.wb.width=c,this.Jb.width=c,c>h.Ny&&(this.Jb.ub="Opacity ")):(this.wb.width=h.lp,this.Jb.width=
h.lp,this.Jb.ub="Opac ");if(d||this.wa)this.wa?this.Zr():this.resize();a||(PatternManager.Sg?this.h.notification.T("Pattern too big!",h.pq,!1):this.h.notification.T("Invalid pattern!",h.pq,!1));this.Nb.length?this.X=0:this.Ya=0;this.za||(this.Wb=!0);this.Wb?(this.pa.l=!0,this.Xd.l=!0,this.Be.l=!0,this.Na.l=!0,this.bc.l=!0,this.Sb&&(this.tc.l=!0,this.Kb.l=!0,this.Nc.l=!0,this.a.J=1),this.vc.l=!1,""===this.o?(this.vc.ub=Keywords.Mm,this.vc.Fd=h.gk):(this.vc.ub=this.o,this.vc.Fd=this.Rf)):this.vc.l=
!0;this.ps();this.Zd=!1;this.Yn="";this.gv(this);this.vl()?(this.Bb.ub="Density",this.Bb.F="cell density"):(this.Bb.ub="Births",this.Bb.F="cells born this generation");this.h.Rg=!0;this.h.Jg(!0);this.se&&this.$o&&(""===this.Pa?this.$o.nodeValue="LifeViewer":this.$o.nodeValue=this.pp(this.Pa));r.Ia?(d=this.nk,""===d&&(d="Universe "+(this.Ib+1)),this.h.notification.T(d,120,!0),this.pg.l=!1,this.og.l=!1):(this.pg.l=!0,this.og.l=!0)};registerEvent(window,"load",I,!1);window.DocConfig=r;window.Controller=
z;window.ViewConstants=h;window.startAllViewers=I;window.updateViewer=l;window.updateMe=function(b){var c=a(b).getElementsByTagName(r.tj)[0];b=z.lc[0];c.innerHTML=c.value;c=g(c);b[1].Bs(b[1]);b[1].h.notification.clear(!0,!0);b[1].h.notification.clear(!1,!0);b[1].vh(c,!1)};window.hideViewer=e;window.launchInMolly=function(b){var c=a(b);b=g(c.getElementsByTagName(r.tj)[0]);c=c.getElementsByTagName("form")[0];c.getElementsByTagName("input")[0].value=b;c.submit()}})();window.Help={Ir:0,oz:function(d,c,b,a,e,f,g,l,H,L){var I=l,r=!1,h=d.M;f&&(f.fillStyle===ViewConstants.Cl&&(r=!0),h>=L&&h<=L+d.$b&&(f.font=ViewConstants.xl,r||(f.fillStyle=1<(d.X|0)?ViewConstants.gk:ViewConstants.Jn),f.fillText(c,g,l),r||(f.fillStyle=ViewConstants.gk),f.fillText(b,g+f.measureText(c).width,l),r||(f.fillStyle=(d.X|0)<d.mk-d.$b?ViewConstants.gk:ViewConstants.Jn),f.fillText(a,g+f.measureText(c+b).width,l),r||(f.fillStyle=ViewConstants.gk),f.font=ViewConstants.Li,f.fillText(e,g+d.P[0],
l),I+=H));d.M+=1;return I},Mp:function(d){d/=1048576;return 10>d?String(d.toFixed(1)):String(d.toFixed(0))},Ga:function(d,c,b,a,e,f,g,l,H){var L=d.M;e&&(l-=6,L>=H&&L<=H+d.$b&&(d=e.fillStyle,d!==ViewConstants.Cl&&(e.fillStyle="rgb("+c+","+b+","+a+")"),e.fillRect(f,g-(l>>1)-1,l,l),e.fillStyle=d))},measureText:function(d,c,b,a){var e=a?d.Bq:d.Aq;e[d.M]?c=e[d.M]:(c.font=0===a?ViewConstants.xl:ViewConstants.Li,c=c.measureText(b).width,e[d.M]=c);return c},b:function(d,c,b,a,e,f,g,l){var H=f,L=String(b).indexOf("\t"),
I=d.M,r=0,h=!0;(I<l||I>l+d.$b)&&h&&(h=!1);if(c.length){h&&(a.font=ViewConstants.xl,a.fillText(c,e,f));c=this.measureText(d,a,c,0);c>d.P[r]&&(h&&(f+=g,H+=g),d.M+=1);h&&(a.font=ViewConstants.Li);for(;-1!==L;)h&&a.fillText(b.substr(0,L),e+d.P[r],f),r+=1,b=b.substr(L+1),L=b.indexOf("\t");L=!1;d.fe&&(c=this.measureText(d,a,b,1),e+d.P[r]+c+this.Ir>a.canvas.width&&(c=b.toLowerCase().indexOf("|"),-1===c&&(c=b.toLowerCase().indexOf("s"),-1===c&&(c=b.indexOf("/"),-1!==c&&(c+=1))),-1!==c&&(h&&(a.fillText(b.substr(0,
c),e+d.P[r],f),f+=g,H+=g,a.fillText("  "+b.substr(c),e+d.P[r],f)),d.M+=1,L=!0)));L||h&&a.fillText(b,e+d.P[r],f)}else a.font=ViewConstants.Li,h&&a.fillText(b,e,f);h&&(H+=g);d.M+=1;return H},Ub:function(d,c,b){for(var a=ColourManager.kd,e=Object.keys(a),f="    "+d+"\t"+c+"\t"+b,g=!1,l,H=0;H<e.length&&!g;)l=a[e[H]],l[1]===d&&l[2]===c&&l[3]===b?(f+="\t"+l[0],g=!0,H=e.length):H+=1;return f},Md:function(d){return this.Ub(d.red,d.green,d.blue)},Ew:function(d){var c=0,b=0;d.a.Da&&(c=d.a.C.O-d.a.C.N+1,b=d.a.C.L-
d.a.C.K+1);-1!==d.a.ka&&(0!==d.a.la&&(c=d.a.la),0!==d.a.na&&(b=d.a.na));return c+" x "+b},Mw:function(d){var c="AutoFit";d.xf&&(c+=" History");d.Ng&&(c+=" State 1");return c},Gu:function(d,c){c-=d.length;for(var b="";0<c;)b+=" ",--c;return b+d},Rp:function(d){var c=d.indexOf(","),b=d.lastIndexOf(",");return[d.substring(4,c),d.substring(c+1,b),d.substring(b+1,d.length-1)]},Xu:function(d,c,b,a,e,f){var g=a;switch(d.di){case ViewConstants.Eh:this.vz(d,c,b,a,e,f);break;case ViewConstants.$t:this.qz(d,
c,b,a,e,f);break;case ViewConstants.Fr:this.sz(d,c,b,a,e,f);break;case ViewConstants.El:this.pz(d,c,b,a,e,f);break;case ViewConstants.wv:this.uz(d,c,b,a,e,f);break;case ViewConstants.ot:this.lz(d,c,b,a,e,f);break;case ViewConstants.Rs:this.jz(d,c,b,a,e,f);break;case ViewConstants.tu:this.rz(d,c,b,a,e,f);break;case ViewConstants.Xs:this.kz(d,c,b,a,e,f)}d.mk=d.M-1;d.M=1;d.P[0]=120;a=g+e*(d.$b+2);a=d.di!==ViewConstants.Eh?this.oz(d,"Up"," / ","Down","scroll help",c,b,a,e,0):a+e;d.se?this.b(d,"H","close help",
c,b,a,e,0):this.b(d,"H / Esc","close help",c,b,a,e,0)},vz:function(d,c,b,a,e,f){d.M=1;d.fe=!1;d.R=[];d.P[0]=108;d.R[0]=[d.M,"Top"];this.b(d,"",ViewConstants.Kv+" build "+ViewConstants.xs+" by "+ViewConstants.Jv,c,b,a,e,f)},kz:function(d,c,b,a,e,f){var g,l=0;d.M=1;d.fe=!1;d.R=[];d.R[l]=[d.M,"Top"];l+=1;d.P[0]=128;d.P[1]=208;d.P[2]=288;d.P[3]=368;a=this.b(d,"","Annotations",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Labels"];l+=1;a=this.b(d,"","Labels:",c,b,a,e,f);a=this.b(d,"Number",d.w.od.length,
c,b,a,e,f);for(g=0;g<d.w.od.length;g+=1){var H="Label "+String(g+1);a=this.b(d,H,d.w.ny(g),c,b,a,e,f);a=this.b(d," ",d.w.oy(g),c,b,a,e,f);a=this.b(d," ",d.w.py(g),c,b,a,e,f);H=this.Rp(d.w.qy(g));this.Ga(d,H[0],H[1],H[2],c,b+d.P[0],a,e,f);a=this.b(d,"Colour",this.Ub(H[0],H[1],H[2]),c,b,a,e,f)}a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Arrows"];l+=1;a=this.b(d,"","Arrows:",c,b,a,e,f);a=this.b(d,"Number",d.w.jd.length,c,b,a,e,f);for(g=0;g<d.w.jd.length;g+=1)H="Arrow "+String(g+1),a=this.b(d,H,d.w.Fw(g),
c,b,a,e,f),a=this.b(d," ",d.w.Gw(g),c,b,a,e,f),a=this.b(d," ",d.w.Hw(g),c,b,a,e,f),H=this.Rp(d.w.Tm(g)),this.Ga(d,H[0],H[1],H[2],c,b+d.P[0],a,e,f),a=this.b(d,"Colour",this.Ub(H[0],H[1],H[2]),c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Polygons"];a=this.b(d,"","Polygons:",c,b,a,e,f);a=this.b(d,"Number",d.w.sd.length,c,b,a,e,f);for(g=0;g<d.w.sd.length;g+=1)H="Polygon "+String(g+1),a=this.b(d,H,d.w.Wy(g),c,b,a,e,f),a=this.b(d," ",d.w.Xy(g),c,b,a,e,f),a=this.b(d," ",d.w.Yy(g),c,b,a,e,f),H=this.Rp(d.w.Zy(g)),
this.Ga(d,H[0],H[1],H[2],c,b+d.P[0],a,e,f),a=this.b(d,"Colour",this.Ub(H[0],H[1],H[2]),c,b,a,e,f)},qz:function(d,c,b,a,e,f){var g,l=0;d.M=1;d.fe=!1;d.R=[];d.P[0]=124;d.R[l]=[d.M,"Top"];l+=1;a=this.b(d,"","Keyboard commands",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Playback"];l+=1;a=this.b(d,"","Playback controls:",c,b,a,e,f);d.Sb?a=this.b(d,"R","reset",c,b,a,e,f):(a=this.b(d,"Enter","toggle play / pause",c,b,a,e,f),a=this.b(d,"Space","pause / next generation",c,b,a,e,f),a=this.b(d,"B",
"pause / previous generation",c,b,a,e,f),a=this.b(d,"Tab","pause / next step",c,b,a,e,f),a=this.b(d,"Shift Tab","pause / previous step",c,b,a,e,f),a=d.se?this.b(d,"Esc","close LifeViewer",c,b,a,e,f):this.b(d,"Esc","pause if playing",c,b,a,e,f),a=this.b(d,"R","reset to generation 0",c,b,a,e,f),a=this.b(d,"Shift R","reset all LifeViewers to generation 0",c,b,a,e,f),a=this.b(d,"-","decrease generation speed",c,b,a,e,f),a=this.b(d,"+","increase generation speed",c,b,a,e,f),a=this.b(d,"Shift -","minimum generation speed",
c,b,a,e,f),a=this.b(d,"Shift +","maximum generation speed",c,b,a,e,f),a=this.b(d,"D","decrease step size",c,b,a,e,f),a=this.b(d,"E","increase step size",c,b,a,e,f),a=this.b(d,"Shift D","minimum step size",c,b,a,e,f),a=this.b(d,"Shift E","maximum step size",c,b,a,e,f),a=this.b(d,"0","reset step and speed",c,b,a,e,f),d.Pb?-1!==d.oa?(a=this.b(d,"W","toggle waypoint playback and loop",c,b,a,e,f),a=this.b(d,"Shift P","toggle just loop",c,b,a,e,f)):a=this.b(d,"W","toggle waypoint playback",c,b,a,e,f):-1!==
d.oa&&(a=this.b(d,"W","toggle loop",c,b,a,e,f)));a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Multi"];l+=1;a=this.b(d,"","Multi-Viewer controls:",c,b,a,e,f);DocConfig.Ia&&(a=this.b(d,"Page Up","previous universe",c,b,a,e,f),a=this.b(d,"Page Down","next universe",c,b,a,e,f),a=this.b(d,"Home","first universe",c,b,a,e,f),a=this.b(d,"End","last universe",c,b,a,e,f));a=this.b(d,"Z","stop playback in all other LifeViewers",c,b,a,e,f);a=this.b(d,"Shift Z","stop playback in all LifeViewers",c,b,a,e,f);a=this.b(d,
"","",c,b,a,e,f);d.R[l]=[d.M,"Camera"];l+=1;a=this.b(d,"","Camera controls:",c,b,a,e,f);if(d.v>=ViewConstants.qh||(d.wa&&d.gs)>=ViewConstants.qh)a=this.b(d,"M","toggle navigation menu",c,b,a,e,f);a=this.b(d,"V","restore saved camera position",c,b,a,e,f);a=this.b(d,"Shift V","save current camera position",c,b,a,e,f);var H=d.w.tb.length;if(0<H)for(a=this.b(d,"J","jump to next point of interest",c,b,a,e,f),a=this.b(d,"Shift J","jump to previous point of interest",c,b,a,e,f),9<H&&(H=9),g=1;g<=H;g+=1)a=
this.b(d,"Alt "+String(g),"jump to POI #"+String(g),c,b,a,e,f);a=this.b(d,"F","fit pattern to display",c,b,a,e,f);a=this.b(d,"Shift F","toggle autofit",c,b,a,e,f);a=this.b(d,"Shift H","toggle autofit history mode",c,b,a,e,f);d.a.rc&&(a=this.b(d,"Shift S","toggle autofit state 1 mode",c,b,a,e,f));a=this.b(d,"[","zoom out",c,b,a,e,f);a=this.b(d,"]","zoom in",c,b,a,e,f);a=this.b(d,"Shift [","halve zoom",c,b,a,e,f);a=this.b(d,"Shift ]","double zoom",c,b,a,e,f);a=this.b(d,"1","1x zoom",c,b,a,e,f);a=this.b(d,
"2","2x zoom",c,b,a,e,f);a=this.b(d,"4","4x zoom",c,b,a,e,f);a=this.b(d,"8","8x zoom",c,b,a,e,f);a=this.b(d,"6","16x zoom",c,b,a,e,f);a=this.b(d,"3","32x zoom",c,b,a,e,f);a=this.b(d,"Shift 1","integer zoom",c,b,a,e,f);a=this.b(d,"Shift 2","-2x zoom",c,b,a,e,f);a=this.b(d,"Shift 4","-4x zoom",c,b,a,e,f);a=this.b(d,"Shift 8","-8x zoom",c,b,a,e,f);a=this.b(d,"Shift 6","-16x zoom",c,b,a,e,f);a=this.b(d,"Left","pan left",c,b,a,e,f);a=this.b(d,"Right","pan right",c,b,a,e,f);a=this.b(d,"Up","pan up",c,b,
a,e,f);a=this.b(d,"Down","pan down",c,b,a,e,f);a=this.b(d,"Shift Left","pan north west",c,b,a,e,f);a=this.b(d,"Shift Right","pan south east",c,b,a,e,f);a=this.b(d,"Shift Up","pan north east",c,b,a,e,f);a=this.b(d,"Shift Down","pan south west",c,b,a,e,f);a=this.b(d,"<","rotate left",c,b,a,e,f);a=this.b(d,">","rotate right",c,b,a,e,f);a=this.b(d,"Shift <","rotate left 90 degrees",c,b,a,e,f);a=this.b(d,"Shift >","rotate right 90 degrees",c,b,a,e,f);a=this.b(d,"5","reset angle",c,b,a,e,f);a=this.b(d,
"","",c,b,a,e,f);d.Sb||(d.R[l]=[d.M,"View"],l+=1,a=this.b(d,"","View controls:",c,b,a,e,f),a=this.b(d,"Q","increase number of layers",c,b,a,e,f),a=this.b(d,"A","decrease number of layers",c,b,a,e,f),a=this.b(d,"P","increase layer depth",c,b,a,e,f),a=this.b(d,"L","decrease layer depth",c,b,a,e,f),a=this.b(d,"C","next colour theme",c,b,a,e,f),a=this.b(d,"Shift C","previous colour theme",c,b,a,e,f),a=this.b(d,"Alt C","default theme",c,b,a,e,f),a=this.b(d,"","",c,b,a,e,f));d.R[l]=[d.M,"Display"];l+=1;
a=this.b(d,"","Display controls:",c,b,a,e,f);d.Sb||(a=this.b(d,"G","toggle generation statistics",c,b,a,e,f),a=this.b(d,"Shift G","toggle generation display mode",c,b,a,e,f),a=this.b(d,"Y","toggle population graph",c,b,a,e,f),a=this.b(d,"Shift Y","toggle graph lines",c,b,a,e,f),a=this.b(d,"7","decrease graph opacity",c,b,a,e,f),a=this.b(d,"9","increase graph opacity",c,b,a,e,f));a=this.b(d,"/","toggle hex view",c,b,a,e,f);a=this.b(d,"Shift /","pattern default view",c,b,a,e,f);a=this.b(d,"T","toggle timing information",
c,b,a,e,f);a=this.b(d,"Shift T","toggle extended timing information",c,b,a,e,f);a=this.b(d,"I","toggle pattern and engine information",c,b,a,e,f);a=this.b(d,"Shift I","toggle information bar",c,b,a,e,f);a=this.b(d,"X","toggle grid lines",c,b,a,e,f);0<d.a.Ve&&(a=this.b(d,"Shift X","toggle major grid lines",c,b,a,e,f));a=this.b(d,"Alt X","toggle cell borders",c,b,a,e,f);0<d.w.Tl()&&(a=this.b(d,"Shift L","toggle annotation display",c,b,a,e,f));d.zh&&(a=this.b(d,"N","toggle thumbnail view",c,b,a,e,f));
a=this.b(d,"S","toggle stars",c,b,a,e,f);a=this.b(d,"O","open screenshot in separate window",c,b,a,e,f);a=this.b(d,"Shift O","open population graph in separate window",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Clipboard"];l+=1;a=this.b(d,"","Clipboard controls:",c,b,a,e,f);a=this.b(d,"Ctrl+Shift C","copy original pattern",c,b,a,e,f);a=this.b(d,"Ctrl C","copy current pattern",c,b,a,e,f);a=this.b(d,"Ctrl+Alt C","copy current pattern with comments",c,b,a,e,f);a=this.b(d,"K","copy camera position",
c,b,a,e,f);a=this.b(d,"Shift K","copy camera position and view",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Edit"];l+=1;a=this.b(d,"","Edit controls:",c,b,a,e,f);a=this.b(d,"F1","toggle draw/pan mode",c,b,a,e,f);a=this.b(d,"Shift F1","toggle smart drawing",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Help"];a=this.b(d,"","Help controls:",c,b,a,e,f);a=this.b(d,"Up","scroll up one line",c,b,a,e,f);a=this.b(d,"Down","scroll down one line",c,b,a,e,f);a=this.b(d,"Page Up","scroll up one page",
c,b,a,e,f);a=this.b(d,"Page Down","scroll down one page",c,b,a,e,f);a=this.b(d,"Shift Page Up","scroll up one section",c,b,a,e,f);a=this.b(d,"Shift Page Down","scroll down one section",c,b,a,e,f);a=this.b(d,"Home","go to first help page",c,b,a,e,f);this.b(d,"End","go to last help page",c,b,a,e,f)},sz:function(d,c,b,a,e,f){var g=0;d.M=1;d.fe=!1;d.R=[];d.P[0]=252;d.R[g]=[d.M,"Top"];g+=1;a=this.b(d,"","Scripts",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","Scripts must be embedded in pattern comments",
c,b,a,e,f);a=this.b(d,"","Commands must be surrounded by whitespace",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Params"];g+=1;a=this.b(d,"","Parameter conventions:",c,b,a,e,f);a=this.b(d,"A|B","either A or B",c,b,a,e,f);a=this.b(d,"(A)","A is optional",c,b,a,e,f);a=this.b(d,"<1..3>","integer range",c,b,a,e,f);a=this.b(d,"<1.0..3.0>","decimal range",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"General"];g+=1;a=this.b(d,"","General:",c,b,a,e,f);a=this.b(d,Keywords.wj,"start script section",
c,b,a,e,f);a=this.b(d,Keywords.xk,"end script section",c,b,a,e,f);a=this.b(d,Keywords.Wr,"enable strict validation",c,b,a,e,f);a=this.b(d,Keywords.Xr,"suppress overwrite warning",c,b,a,e,f);a=this.b(d,Keywords.wr+" <string>","set random seed",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Playback"];g+=1;a=this.b(d,"","Playback:",c,b,a,e,f);a=this.b(d,Keywords.Wm+" ("+Keywords.Ka+")","start play automatically",c,b,a,e,f);a=this.b(d,Keywords.dg+" <1..>|"+Keywords.Ka,"loop at generation",c,b,a,
e,f);a=this.b(d,Keywords.sg+" <1..>|"+Keywords.Ka,"stop at generation",c,b,a,e,f);a=this.b(d,Keywords.hj+" <"+ViewConstants.ue+".."+ViewConstants.mi+">","set steps per second",c,b,a,e,f);a=this.b(d,Keywords.Aj+" <"+ViewConstants.mj+".."+ViewConstants.$d+">","set generations per step",c,b,a,e,f);a=this.b(d,Keywords.yq,"always use hard reset",c,b,a,e,f);a=this.b(d,Keywords.Mm,"disable playback",c,b,a,e,f);a=this.b(d,Keywords.cr,"disable step back",c,b,a,e,f);a=this.b(d,Keywords.fr,"disable stop messages",
c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Camera"];g+=1;a=this.b(d,"","Camera:",c,b,a,e,f);a=this.b(d,Keywords.Qh+" <0..359>","set camera angle",c,b,a,e,f);a=this.b(d,Keywords.Zc+" <-"+(d.a.U>>1)+".."+(d.a.U>>1)+">","set camera x position",c,b,a,e,f);a=this.b(d,Keywords.$c+" <-"+(d.a.U>>1)+".."+(d.a.U>>1)+">","set camera y position",c,b,a,e,f);a=this.b(d,Keywords.nc+" <"+Number(-1/ViewConstants.Va).toFixed(1)+".."+ViewConstants.Fb.toFixed(1)+">","set camera zoom",c,b,a,e,f);a=this.b(d,Keywords.Ep,
"same as "+Keywords.nc,c,b,a,e,f);a=this.b(d,Keywords.Vm+" ("+Keywords.Ka+")","fit pattern to display",c,b,a,e,f);a=this.b(d,Keywords.Hq+" ("+Keywords.Ka+")","autofit uses pattern history",c,b,a,e,f);a=this.b(d,Keywords.Ur+" ("+Keywords.Ka+")","autofit only uses state 1",c,b,a,e,f);a=this.b(d,Keywords.Fm+" X Y","camera tracking",c,b,a,e,f);a=this.b(d," X ","horizontal speed cells/gen",c,b,a,e,f);a=this.b(d," Y ","vertical speed cells/gen",c,b,a,e,f);a=this.b(d,Keywords.Hj+" E S W N","camera box tracking",
c,b,a,e,f);a=this.b(d," E ","east edge speed cells/gen",c,b,a,e,f);a=this.b(d," S ","south edge speed cells/gen",c,b,a,e,f);a=this.b(d," W ","west edge speed cells/gen",c,b,a,e,f);a=this.b(d," N ","north edge speed cells/gen",c,b,a,e,f);a=this.b(d,Keywords.Em+" P X Y","camera tracking with loop",c,b,a,e,f);a=this.b(d," P ","period",c,b,a,e,f);a=this.b(d," X ","horizontal speed cells/gen",c,b,a,e,f);a=this.b(d," Y ","vertical speed cells/gen",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Waypoints"];
g+=1;a=this.b(d,"","Waypoints:",c,b,a,e,f);a=this.b(d,Keywords.um+" <0..>","waypoint at generation",c,b,a,e,f);a=this.b(d,Keywords.kr+" <0.0..>","pause for time",c,b,a,e,f);a=this.b(d,Keywords.We+" "+Keywords.Oe+"|"+Keywords.Zc+"|"+Keywords.$c+"|"+Keywords.nc,"linear motion",c,b,a,e,f);a=this.b(d,Keywords.Mf+" "+Keywords.Oe+"|"+Keywords.Zc+"|"+Keywords.$c+"|"+Keywords.nc,"bezier motion (default)",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"POIs"];g+=1;a=this.b(d,"","Points of interest:",c,
b,a,e,f);a=this.b(d,Keywords.zo,"define point of interest",c,b,a,e,f);a=this.b(d,Keywords.yo+" <0..>","start POI at generation",c,b,a,e,f);a=this.b(d,Keywords.bm,"reset generation at POI",c,b,a,e,f);a=this.b(d,Keywords.tk,"start playback at POI",c,b,a,e,f);a=this.b(d,Keywords.uk,"stop playback at POI",c,b,a,e,f);a=this.b(d,Keywords.cm+" <"+WaypointConstants.Lu+".."+WaypointConstants.Ku+">","set POI transition speed",c,b,a,e,f);a=this.b(d,"<command>|ALL "+Keywords.Ua,"use initial value for POI",c,
b,a,e,f);a=this.b(d,Keywords.Vb+"<string>"+Keywords.Vb,"define message",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Annotations"];g+=1;a=this.b(d,"","Annotations:",c,b,a,e,f);a=this.b(d,Keywords.Gl+" X Y ZOOM ("+Keywords.Uc+")","define label at position",c,b,a,e,f);a=this.b(d," "+Keywords.Vb+"<string>"+Keywords.Vb,"... optionally fix position",c,b,a,e,f);a=this.b(d,Keywords.Pq+" <"+ViewConstants.wu+".."+ViewConstants.pu+">","define label font size",c,b,a,e,f);a=this.b(d,Keywords.Nq+" <0.0..1.0>",
"define label font alpha",c,b,a,e,f);a=this.b(d,Keywords.Qq+" <0..> <0..> <0..>","generation range / fade",c,b,a,e,f);a=this.b(d,Keywords.Oq+" <0..359>","label angle",c,b,a,e,f);a=this.b(d," ("+Keywords.Uc+")","... optionally fix angle",c,b,a,e,f);a=this.b(d,Keywords.Rq+" X Y D|"+Keywords.Ka,"label target and distance",c,b,a,e,f);a=this.b(d,Keywords.Sq+" DX DY|"+Keywords.Uc,"label move per generation",c,b,a,e,f);a=this.b(d,Keywords.Zk+" X1 Y1 X2 Y2 ZOOM","define arrow at position",c,b,a,e,f);a=this.b(d,
" ("+Keywords.Uc+")","... optionally fix position",c,b,a,e,f);a=this.b(d,Keywords.Ip+" <"+ViewConstants.oo+".."+ViewConstants.ho+"> <0.0..1.0>","line width and head multiple",c,b,a,e,f);a=this.b(d,Keywords.Gp+" <0.0..1.0>","define arrow alpha",c,b,a,e,f);a=this.b(d,Keywords.Jp+" <0..> <0..> <0..>","generation range / fade",c,b,a,e,f);a=this.b(d,Keywords.Hp+" <0..359>","arrow angle",c,b,a,e,f);a=this.b(d," ("+Keywords.Uc+")","... optionally fix angle",c,b,a,e,f);a=this.b(d,Keywords.Kp+" X Y D|"+Keywords.Ka,
"arrow target and distance",c,b,a,e,f);a=this.b(d,Keywords.Lp+" DX DY|"+Keywords.Uc,"arrow move per generation",c,b,a,e,f);a=this.b(d,Keywords.pr+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",c,b,a,e,f);a=this.b(d," ("+Keywords.Uc+")","... optionally fix position",c,b,a,e,f);a=this.b(d,Keywords.Ao+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",c,b,a,e,f);a=this.b(d," ("+Keywords.Uc+")","... optionally fix position",c,b,a,e,f);a=this.b(d,Keywords.qr+" <"+ViewConstants.oo+".."+ViewConstants.ho+">",
"line width",c,b,a,e,f);a=this.b(d,Keywords.mr+" <0.0..1.0>","define polygon alpha",c,b,a,e,f);a=this.b(d,Keywords.rr+" <0..> <0..> <0..>","generation range / fade",c,b,a,e,f);a=this.b(d,Keywords.nr+" <0..359>","polygon angle",c,b,a,e,f);a=this.b(d," ("+Keywords.Uc+")","... optionally fix angle",c,b,a,e,f);a=this.b(d,Keywords.sr+" X Y D|"+Keywords.Ka,"polygon target and distance",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Display"];g+=1;a=this.b(d,"","Display:",c,b,a,e,f);a=this.b(d,Keywords.Ik+
" <"+ViewConstants.qd+".."+d.Cg+">","set LifeViewer width",c,b,a,e,f);a=this.b(d,Keywords.fk+" <"+ViewConstants.lk+".."+ViewConstants.ko+">","set LifeViewer height",c,b,a,e,f);a=this.b(d,Keywords.em+" <"+ViewConstants.qd+".."+d.Cg+">","set popup width",c,b,a,e,f);a=this.b(d,Keywords.dm+" <"+ViewConstants.lk+".."+ViewConstants.ko+">","set popup height",c,b,a,e,f);a=this.b(d,Keywords.Gk+" "+Keywords.Vb+"<string>"+Keywords.Vb,"set popup window title",c,b,a,e,f);a=this.b(d," "+Keywords.Je+"B","program build number",
c,b,a,e,f);a=this.b(d," "+Keywords.Je+"N","pattern name",c,b,a,e,f);a=this.b(d," "+Keywords.Je+"O","pattern originator",c,b,a,e,f);a=this.b(d," "+Keywords.Je+"R","rule name",c,b,a,e,f);a=this.b(d," "+Keywords.Je+"A","rule alias",c,b,a,e,f);a=this.b(d," "+Keywords.Je+"T","program title",c,b,a,e,f);a=this.b(d," "+Keywords.Je+Keywords.Je,Keywords.Je+" symbol",c,b,a,e,f);a=this.b(d,Keywords.lj+" <"+ViewConstants.no+".."+ViewConstants.fo+">","set number of layers",c,b,a,e,f);a=this.b(d,Keywords.bj+" <"+
ViewConstants.mo.toFixed(1)+".."+ViewConstants.nu.toFixed(1)+">","set layer depth",c,b,a,e,f);a=this.b(d,Keywords.Bl+" ("+Keywords.Ka+")","display grid lines",c,b,a,e,f);a=this.b(d,Keywords.Al+" <0..16>","set major grid line interval",c,b,a,e,f);a=this.b(d,Keywords.Rn+" <0.."+(2<d.a.g?1:63)+">","number of history states",c,b,a,e,f);a=this.b(d,Keywords.tm+" ("+Keywords.Ka+")","display stars",c,b,a,e,f);a=this.b(d,Keywords.Dq,"force hex display",c,b,a,e,f);a=this.b(d,Keywords.Pr,"force square display",
c,b,a,e,f);a=this.b(d,Keywords.Cq,"hexagonal cells for hex",c,b,a,e,f);a=this.b(d,Keywords.Or,"square cells for hex",c,b,a,e,f);a=this.b(d,Keywords.br,"disable menus and hotkeys",c,b,a,e,f);a=this.b(d,Keywords.Ut,"hide menus during playback",c,b,a,e,f);a=this.b(d,Keywords.Lr,"show timing information",c,b,a,e,f);a=this.b(d,Keywords.qq,"extended timing information",c,b,a,e,f);a=this.b(d,Keywords.Jr,"show generation statistics",c,b,a,e,f);a=this.b(d,Keywords.Kr,"show information bar",c,b,a,e,f);a=this.b(d,
Keywords.er,"hide performance warning",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Thumb"];g+=1;a=this.b(d,"","Thumbnails:",c,b,a,e,f);a=this.b(d,Keywords.ks+" ("+Keywords.Ka+")","start at 1/"+d.Dc+" size",c,b,a,e,f);a=this.b(d,Keywords.hs+" <"+ViewConstants.yu+".."+ViewConstants.su+">","set thumbnail divisor",c,b,a,e,f);a=this.b(d,Keywords.fs+" ("+Keywords.Ka+")","thumbnail launches viewer",c,b,a,e,f);a=this.b(d,Keywords.js+" <"+Number(-1/ViewConstants.Va).toFixed(1)+".."+ViewConstants.Fb.toFixed(1)+
">","set thumbnail zoom",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Graph"];g+=1;a=this.b(d,"","Population Graph:",c,b,a,e,f);a=this.b(d,Keywords.In,"display population graph",c,b,a,e,f);a=this.b(d,Keywords.tq+" <0.0..1.0>","population graph opacity",c,b,a,e,f);a=this.b(d,Keywords.uq,"population graph use points",c,b,a,e,f);a=this.b(d,Keywords.so,"disable population graph",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Colours"];g+=1;a=this.b(d,"","Colours:",c,b,a,e,f);a=this.b(d,Keywords.yh+
" <0.."+(d.a.ae-1)+">|<name>","set theme",c,b,a,e,f);a=this.b(d," <name> = "+Keywords.Fk,"set custom theme",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Xo+" R G B","set theme background",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Wo+" R G B","set theme alive color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.ds+" R G B","set theme alive ramp",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Zo+" R G B","set theme dead color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Yo+" R G B","set theme dead ramp",
c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.dt+" R G B","set boundary color",c,b,a,e,f);a=this.b(d,Keywords.ra+" <0.."+String(d.th-1)+"> R G B","set state color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Bu+" R G B","set [R]History state color "+ViewConstants.Cu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Du+" R G B","set [R]History state color "+ViewConstants.Eu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Vt+" R G B","set [R]History state color "+ViewConstants.Wt,c,b,a,e,f);a=this.b(d,
Keywords.ra+" "+Keywords.gu+" R G B","set [R]History state color "+ViewConstants.hu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.ku+" R G B","set [R]History state color "+ViewConstants.lu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.iu+" R G B","set [R]History state color "+ViewConstants.ju,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.au+" R G B","set [R]History state color "+ViewConstants.bu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Bl+" R G B","set grid color",c,b,a,e,f);a=this.b(d,Keywords.ra+
" "+Keywords.Al+" R G B","set grid major color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.tm+" R G B","set star color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.bs+" R G B","set waypoint message color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.oq+" R G B","set error message color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Nt+" R G B","set graph background color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Mt+" R G B","set graph axis color",c,b,a,e,f);a=this.b(d,Keywords.ra+
" "+Keywords.Lt+" R G B","set graph alive color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Ot+" R G B","set graph birth color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Pt+" R G B","set graph death color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Gl+" R G B","set label text color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Zk+" R G B","set arrow line color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Pu+" R G B","set polygon color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Dv+
" R G B","set UI foreground color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Bv+" R G B","set UI background color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Ev+" R G B","set UI highlight text color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Gv+" R G B","set UI selected color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Fv+" R G B","set UI locked color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Cv+" R G B","set UI border color",c,b,a,e,f);a=this.b(d,Keywords.Sp,"same as "+Keywords.ra,
c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Pattern"];a=this.b(d,"","Pattern:",c,b,a,e,f);a=this.b(d,Keywords.ip+" <-"+(d.a.U>>1)+".."+(d.a.U>>1)+">","set pattern x offset",c,b,a,e,f);a=this.b(d,Keywords.jp+" <-"+(d.a.U>>1)+".."+(d.a.U>>1)+">","set pattern y offset",c,b,a,e,f);a=this.b(d,Keywords.gq+" <"+ViewConstants.uu+".."+ViewConstants.mu+">","set boundary delete range",c,b,a,e,f);a=this.b(d,Keywords.ar,"disable pattern source copy",c,b,a,e,f);a=this.b(d,Keywords.gr,"hide pattern source",
c,b,a,e,f);this.b(d,Keywords.Xq+" <"+ViewConstants.vu+".."+ViewConstants.ou+">","set maximum grid size 2^n",c,b,a,e,f)},pz:function(d,c,b,a,e,f){var g,l=Controller.lc.length,H=d.kd,L=d.a.La[d.a.oe];var I="";var r=0;d.M=1;d.fe=!1;d.R=[];d.P[0]=128;d.R[r]=[d.M,"Top"];r+=1;a=this.b(d,"","Information",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Display"];r+=1;a=this.b(d,"","Display:",c,b,a,e,f);a=this.b(d,"Size",d.A+" x "+d.v,c,b,a,e,f);DocConfig.Ll&&(a=this.b(d,"Limit Width",d.Cg,c,b,a,e,f));
var h=d.a.ma;1>h&&(h=-1/h);a=this.b(d,"View","X "+-(d.a.width/2-(d.a.ba+d.a.zb)|0)+"  Y "+-(d.a.height/2-(d.a.$+d.a.sb)|0)+"  Z "+h.toFixed(2)+"  ANGLE "+d.a.angle.toFixed(0),c,b,a,e,f);h=d.wk;1>h&&(h=1/h);a=this.b(d,"Saved View","X "+-(d.a.width/2-d.be|0)+"  Y "+-(d.a.height/2-d.vj|0)+"  Z "+h.toFixed(2)+"  ANGLE "+d.Cr.toFixed(0),c,b,a,e,f);a=this.b(d,"Origin","X "+d.a.zb.toFixed(2)+"  Y "+d.a.sb.toFixed(2)+"  Z "+d.a.Mb.toFixed(3),c,b,a,e,f);d.Wb?I=d.Sb?"Multi-State Viewer":"Viewer":d.a.rc&&(I=
"History Player");a=this.b(d,"Type",I,c,b,a,e,f);I=d.a.S?"Hexagonal":d.a.fa?"Triangular":"Square";a=this.b(d,"Mode",I,c,b,a,e,f);I=d.a.S&&d.a.Ie?"Hexagonal":d.a.fa?"Triangular":"Square";a=this.b(d,"Cells",I,c,b,a,e,f);d.zh&&(a=this.b(d,"Thumbnail","1/"+d.Dc,c,b,a,e,f));a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Pattern"];r+=1;a=this.b(d,"","Pattern:",c,b,a,e,f);""!==d.nk&&(a=this.b(d,"Name",d.nk,c,b,a,e,f));""!==d.Zl&&(a=this.b(d,"Originator",d.Zl,c,b,a,e,f));a=this.b(d,"Actual Size",d.kg+" x "+d.Fg,
c,b,a,e,f);-1!==d.Mg&&-1!==d.Lg&&(a=this.b(d,"Specified",d.Mg+" x "+d.Lg,c,b,a,e,f));a=this.b(d,"Offset","X "+d.wd+"  Y "+d.xd,c,b,a,e,f);d.$h&&(a=this.b(d,"CXRLE Gen",d.Gn,c,b,a,e,f));d.ng&&(a=this.b(d,"CXRLE Pos","X "+d.vi+"  Y "+d.wi,c,b,a,e,f));d.Gs&&(a=this.b(d,"Clipped",(0===d.a.la?"Inf":d.a.la)+" x "+(0===d.a.na?"Inf":d.a.na)+" "+PatternManager.et(d.a.ka),c,b,a,e,f));d.za?I=d.Gg:(I=d.Gg,""===I&&(I="(none)"));if("MAP"===I.substr(0,3)&&I.length===PatternManager.kk+3)for(a=this.b(d,"Rule","MAP",
c,b,a,e,f),h=3;h<PatternManager.kk+3;)a=this.b(d,"  "+(h-3),I.substr(h,16),c,b,a,e,f),h+=16;else d.fe=!0,a=this.b(d,"Rule",I,c,b,a,e,f),d.fe=!1;""!==d.Gf&&(a=this.b(d,"Alias",d.Gf,c,b,a,e,f));-1!==d.a.Ke?I="1D":d.a.Yl?I="Hex":d.a.ta?(I=d.a.Qb.type===PatternManager.Xe?"Moore":d.a.Qb.type===PatternManager.gf?"von Neumann":"Circular",1<d.a.Qb.uc&&(I+=" range "+d.a.Qb.uc)):I=d.a.Kd?"von Neumann":"Moore";a=this.b(d,"N'hood",I,c,b,a,e,f);I=d.th;2<d.th&&d.am!==d.th&&(I=d.am+" of "+I);a=this.b(d,"States",
I,c,b,a,e,f);if(d.$l)for(g=1;g<d.th;g+=1)d.$l[g]&&(a=this.b(d,"State "+g,d.$l[g],c,b,a,e,f));a=this.b(d,"Decoder",d.jg,c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Grid"];r+=1;a=this.b(d,"","Grid:",c,b,a,e,f);a=this.b(d,"Size",d.a.width+" x "+d.a.height,c,b,a,e,f);a=this.b(d,"Maximum",d.a.U+" x "+d.a.U,c,b,a,e,f);a=this.b(d,"Area",this.Ew(d),c,b,a,e,f);a=0!==(d.a.s&1)?this.b(d,"Tiles",d.a.ym(d.a.Ja)+" / "+d.a.ym(d.a.Xa),c,b,a,e,f):this.b(d,"Tiles",d.a.ym(d.a.qa)+" / "+d.a.ym(d.a.Xa),c,b,a,
e,f);d.a.de&&(a=this.b(d,"State6",d.a.ym(d.a.de),c,b,a,e,f));a=this.b(d,"Tile Size",(d.a.zm<<3)+" x "+d.a.Am,c,b,a,e,f);a=this.b(d,"Generation",d.a.s,c,b,a,e,f);a=this.b(d,"DeleteRange",d.a.gm,c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);-1!==d.a.ka&&(d.R[r]=[d.M,"Bounded"],r+=1,a=this.b(d,"","Bounded grid:",c,b,a,e,f),a=this.b(d,"Type",PatternManager.et(d.a.ka),c,b,a,e,f),a=0===d.a.la?this.b(d,"Width","Infinite",c,b,a,e,f):this.b(d,"Width",d.a.la,c,b,a,e,f),4!==d.a.ka&&(a=0===d.a.na?this.b(d,"Height",
"Infinite",c,b,a,e,f):this.b(d,"Height",d.a.na,c,b,a,e,f),2===d.a.ka&&(a=d.a.Op?this.b(d,"Twist","Horizontal",c,b,a,e,f):this.b(d,"Twist","Vertical",c,b,a,e,f)),0!==d.a.cl&&(a=this.b(d,"H'Shift",d.a.cl,c,b,a,e,f)),0!==d.a.dl&&(a=this.b(d,"V'Shift",d.a.dl,c,b,a,e,f))),a=this.b(d,"","",c,b,a,e,f));d.R[r]=[d.M,"AutoFit"];r+=1;a=this.b(d,"","AutoFit:",c,b,a,e,f);a=this.b(d,"Enabled",d.nb?"On":"Off",c,b,a,e,f);a=this.b(d,"Mode",this.Mw(d),c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Track"];r+=
1;a=this.b(d,"","Track:",c,b,a,e,f);a=this.b(d,"Enabled",d.ec&&!d.fc?"On":"Off",c,b,a,e,f);d.ec&&(d.Gj?(a=this.b(d,"Mode","Track Box",c,b,a,e,f),a=this.b(d,"Definition","E "+d.Tg.toFixed(3)+"  S "+d.Ug.toFixed(3)+"  W "+d.Bh.toFixed(3)+"  N "+d.Ah.toFixed(3),c,b,a,e,f)):(a=this.b(d,"Mode","Track",c,b,a,e,f),a=this.b(d,"Definition","X "+d.Tg.toFixed(3)+"  Y "+d.Ug.toFixed(3),c,b,a,e,f)));a=this.b(d,"Current","E "+d.dn.toFixed(3)+"  S "+d.fn.toFixed(3)+"  W "+d.gn.toFixed(3)+"  N "+d.en.toFixed(3),
c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Snapshots"];r+=1;a=this.b(d,"","Step back:",c,b,a,e,f);a=this.b(d,"Enabled",d.Ff?"Off":"On",c,b,a,e,f);if(!d.Ff){a=this.b(d,"Snapshots",d.a.Od.EA()+"/"+d.a.Od.pf.length,c,b,a,e,f);g=0;h=d.a.Od.Ce.length;if(0<h)for(a=this.b(d,"Reset Gens",h,c,b,a,e,f);g<h;)a=this.b(d,String(g),d.a.Od.Ce[g].s,c,b,a,e,f),g+=1;a=this.b(d,"Buffer",(d.a.Od.bufferSize()>>10)+"K",c,b,a,e,f);a=this.b(d,"Next Gen",d.a.pj,c,b,a,e,f)}a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,
"Engine"];r+=1;a=this.b(d,"","Engine:",c,b,a,e,f);a=this.b(d,"Name",ViewConstants.Kv,c,b,a,e,f);a=this.b(d,"Build",ViewConstants.xs,c,b,a,e,f);a=this.b(d,"Author",ViewConstants.Jv,c,b,a,e,f);a=this.b(d,"Decoders","RLE, Life 1.06, Life 1.05, Cells",c,b,a,e,f);a=this.b(d,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",c,b,a,e,f);a=this.b(d,"Rules","Wolfram, Totalistic, Generations,",c,b,a,e,f);a=this.b(d," ","Isotropic Non-Totalistic (Hensel, Callahan),",c,b,a,e,f);a=this.b(d," ","Alternating, MAP, Larger than Life (LtL),",
c,b,a,e,f);a=this.b(d," ","Higher-range outer-totalistic (HROT)",c,b,a,e,f);a=this.b(d,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",c,b,a,e,f);a=this.b(d,"States","2 state, [R]History, Niemiec, Generations",c,b,a,e,f);a=this.b(d,"Viewers",l,c,b,a,e,f);a=this.b(d,"Playing",Controller.JA(),c,b,a,e,f);if(DocConfig.Ia){h=Controller.Cc.length;a=this.b(d,"Universe","Multi ("+(d.Ib+1)+" of "+h+")",c,b,a,e,f);d.fe=!0;for(g=0;g<h;g+=1)a=this.b(d,String(g+1)+(g===d.Ib?"*":""),Controller.Cc[g].name,
c,b,a,e,f),a=this.b(d," ",Controller.Cc[g].Hz,c,b,a,e,f),a=this.b(d," ",Controller.Cc[g].width+" x "+Controller.Cc[g].height,c,b,a,e,f);d.fe=!1}else a=this.b(d,"Universe","Single",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.P[1]=210;d.P[2]=270;d.P[3]=330;if(d.Sb)for(d.R[r]=[d.M,"Colours"],r+=1,a=this.b(d,"","Set:",c,b,a,e,f),a=this.b(d,"Name",d.gl,c,b,a,e,f),a=this.b(d,"Used",d.am,c,b,a,e,f),g=0;g<d.Zi.length;g+=1)d.Zi[g]!==ViewConstants.Vr&&(l=this.Ub(H[g]>>16&255,H[g]>>8&255,H[g]&255),I=String(g),
d.Zi[g]!==ViewConstants.qv||d.Qm||(I+="*"),this.Ga(d,H[g]>>16,H[g]>>8&255,H[g]&255,c,b+d.P[0],a,e,f),a=this.b(d,I,l,c,b,a,e,f));else{d.R[r]=[d.M,"Theme"];r+=1;a=this.b(d,"","Theme:",c,b,a,e,f);a=this.b(d,"Name",d.a.La[d.a.oe].name,c,b,a,e,f);a=this.b(d,"History",d.ea,c,b,a,e,f);this.Ga(d,d.a.Wa[0],d.a.Ta[0],d.a.Ra[0],c,b+d.P[0],a,e,f);a=this.b(d,"Background",this.Ub(d.a.Wa[0],d.a.Ta[0],d.a.Ra[0]),c,b,a,e,f);if(2<d.a.g){I=d.a.g+d.ea-1;this.Ga(d,d.a.Wa[I],d.a.Ta[I],d.a.Ra[I],c,b+d.P[0],a,e,f);a=this.b(d,
"Alive",this.Ub(d.a.Wa[I],d.a.Ta[I],d.a.Ra[I]),c,b,a,e,f);for(g=1;g<d.a.g-1;g+=1)I=d.a.g-g+d.ea-1,this.Ga(d,d.a.Wa[I],d.a.Ta[I],d.a.Ra[I],c,b+d.P[0],a,e,f),a=this.b(d,"Dying "+g,this.Ub(d.a.Wa[I],d.a.Ta[I],d.a.Ra[I]),c,b,a,e,f);0<d.ea&&(I=d.ea,this.Ga(d,d.a.Wa[I],d.a.Ta[I],d.a.Ra[I],c,b+d.P[0],a,e,f),a=this.b(d,"Dead",this.Ub(d.a.Wa[I],d.a.Ta[I],d.a.Ra[I]),c,b,a,e,f),1<d.ea&&(I=1,this.Ga(d,d.a.Wa[I],d.a.Ta[I],d.a.Ra[I],c,b+d.P[0],a,e,f),a=this.b(d,"DeadRamp",this.Ub(d.a.Wa[I],d.a.Ta[I],d.a.Ra[I]),
c,b,a,e,f)))}else this.Ga(d,L.ya.B.red,L.ya.B.green,L.ya.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"Alive",this.Md(L.ya.B),c,b,a,e,f),L.ya.B.red!==L.ya.D.red||L.ya.B.green!==L.ya.D.green||L.ya.B.blue!==L.ya.D.blue?(this.Ga(d,L.ya.D.red,L.ya.D.green,L.ya.D.blue,c,b+d.P[0],a,e,f),a=this.b(d,"AliveRamp",this.Md(L.ya.D),c,b,a,e,f)):a=this.b(d,"AliveRamp","    (none)",c,b,a,e,f),0<d.ea&&(this.Ga(d,L.xa.D.red,L.xa.D.green,L.xa.D.blue,c,b+d.P[0],a,e,f),a=this.b(d,"Dead",this.Md(L.xa.D),c,b,a,e,f),1<d.ea&&(L.xa.B.red!==
L.xa.D.red||L.xa.B.green!==L.xa.D.green||L.xa.B.blue!==L.xa.D.blue?(this.Ga(d,L.xa.B.red,L.xa.B.green,L.xa.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"DeadRamp",this.Md(L.xa.B),c,b,a,e,f)):a=this.b(d,"DeadRamp","    (none)",c,b,a,e,f)));if(d.a.rc)for(g=3;6>=g;g+=1)h=128+ViewConstants.hb[g],l=this.Ub(d.a.Wa[h],d.a.Ta[h],d.a.Ra[h]),I=ViewConstants.pv[g],this.Ga(d,d.a.Wa[h],d.a.Ta[h],d.a.Ra[h],c,b+d.P[0],a,e,f),a=this.b(d,I,l,c,b,a,e,f)}this.Ga(d,d.Th[0],d.Th[1],d.Th[2],c,b+d.P[0],a,e,f);a=this.b(d,"Boundary",
this.Ub(d.Th[0],d.Th[1],d.Th[2]),c,b,a,e,f);d.Re&&(this.Ga(d,d.Re[0],d.Re[1],d.Re[2],c,b+d.P[0],a,e,f),a=this.b(d,"Text",this.Ub(d.Re[0],d.Re[1],d.Re[2]),c,b,a,e,f));d.eh&&(this.Ga(d,d.eh[0],d.eh[1],d.eh[2],c,b+d.P[0],a,e,f),a=this.b(d,"Error",this.Ub(d.eh[0],d.eh[1],d.eh[2]),c,b,a,e,f));a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Grid Lines"];r+=1;a=this.b(d,"","Grid Lines:",c,b,a,e,f);I=d.a.jb?"On":"Off";d.a.jb&&!d.a.dh()&&(I+=" (Hidden)");a=this.b(d,"Enabled",I,c,b,a,e,f);this.Ga(d,d.a.qc>>16,d.a.qc>>
8&255,d.a.qc&255,c,b+d.P[0],a,e,f);a=this.b(d,"Line Color",this.Ub(d.a.qc>>16,d.a.qc>>8&255,d.a.qc&255),c,b,a,e,f);this.Ga(d,d.a.Yd>>16,d.a.Yd>>8&255,d.a.Yd&255,c,b+d.P[0],a,e,f);a=this.b(d,"Major Color",this.Ub(d.a.Yd>>16,d.a.Yd>>8&255,d.a.Yd&255),c,b,a,e,f);I=0<d.a.Ve&&d.a.kh?String(d.a.Ve):"Off";a=this.b(d,"Interval",I,c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Graph"];r+=1;a=this.b(d,"","Population Graph:",c,b,a,e,f);a=this.b(d,"Enabled",d.gb?"On":"Off",c,b,a,e,f);a=this.b(d,"Disabled",
d.Lc?"On":"Off",c,b,a,e,f);a=this.b(d,"Mode",d.Ae?"Lines":"Points",c,b,a,e,f);a=this.b(d,"Opacity",d.Tb.toFixed(2),c,b,a,e,f);this.Ga(d,d.a.Vf[0],d.a.Vf[1],d.a.Vf[2],c,b+d.P[0],a,e,f);a=this.b(d,"Bg Color",this.Ub(d.a.Vf[0],d.a.Vf[1],d.a.Vf[2]),c,b,a,e,f);this.Ga(d,d.a.Uf[0],d.a.Uf[1],d.a.Uf[2],c,b+d.P[0],a,e,f);a=this.b(d,"Axis Color",this.Ub(d.a.Uf[0],d.a.Uf[1],d.a.Uf[2]),c,b,a,e,f);this.Ga(d,d.a.Tf[0],d.a.Tf[1],d.a.Tf[2],c,b+d.P[0],a,e,f);a=this.b(d,"Alive Color",this.Ub(d.a.Tf[0],d.a.Tf[1],d.a.Tf[2]),
c,b,a,e,f);this.Ga(d,d.a.Wf[0],d.a.Wf[1],d.a.Wf[2],c,b+d.P[0],a,e,f);a=this.b(d,"Birth Color",this.Ub(d.a.Wf[0],d.a.Wf[1],d.a.Wf[2]),c,b,a,e,f);this.Ga(d,d.a.Xf[0],d.a.Xf[1],d.a.Xf[2],c,b+d.P[0],a,e,f);a=this.b(d,"Death Color",this.Ub(d.a.Xf[0],d.a.Xf[1],d.a.Xf[2]),c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Stars"];r+=1;a=this.b(d,"","Stars:",c,b,a,e,f);a=this.b(d,"Enabled",d.rg?"On":"Off",c,b,a,e,f);this.Ga(d,d.uh.red,d.uh.green,d.uh.blue,c,b+d.P[0],a,e,f);a=this.b(d,"Color",this.Md(d.uh),
c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[r]=[d.M,"Script"];r+=1;a=this.b(d,"","Script:",c,b,a,e,f);a=this.b(d,"Commands",d.Vl,c,b,a,e,f);a=this.b(d,"Errors",d.ir,c,b,a,e,f);if(d.Pb)for(a=this.b(d,"","",c,b,a,e,f),d.R[r]=[d.M,"Waypoints"],r+=1,a=this.b(d,"","Waypoints:",c,b,a,e,f),a=this.b(d,"Enabled",d.mc?"Off":"On",c,b,a,e,f),a=this.b(d,"Number",d.w.ja.length,c,b,a,e,f),g=0;g<d.w.ja.length;g+=1)I=String(g),g===d.w.xh&&(I=d.w.Np(d.elapsedTime)?I+">":I+"*"),a=this.b(d,I,d.w.KA(g),c,b,a,e,f);if(d.w.tb.length)for(a=
this.b(d,"","",c,b,a,e,f),d.R[r]=[d.M,"POIs"],a=this.b(d,"","Points of interest:",c,b,a,e,f),a=this.b(d,"Number",d.w.tb.length,c,b,a,e,f),g=0;g<d.w.tb.length;g+=1)I=String(g+1),g===d.qe&&(I+="*"),g===d.$i&&(I+=" INITIAL"),r=!1,h=d.w.Ry(g),""!==h&&(a=this.b(d,r?" ":I,(r?"  ":"")+h,c,b,a,e,f),r=!0),h=d.w.Vy(g),""!==h&&(a=this.b(d,r?" ":I,(r?"  ":"")+h,c,b,a,e,f),r=!0),h=d.w.Sy(g),""!==h&&(a=this.b(d,r?" ":I,(r?"  ":"")+h,c,b,a,e,f),r=!0),h=d.w.Ju(g),""!==h&&(a=this.b(d,r?" ":I,(r?"  ":"")+h,c,b,a,e,
f),r=!0),h=d.w.Uy(g),""!==h&&(a=this.b(d,r?" ":I,(r?"  ":"")+h,c,b,a,e,f),r=!0),h=d.w.Ty(g),""!==h&&(a=this.b(d,r?" ":I,(r?"  ":"")+h,c,b,a,e,f))},uz:function(d,c,b,a,e,f){var g,l=0;d.M=1;d.fe=!1;d.R=[];d.P[0]=130;d.P[1]=200;d.P[2]=250;d.P[3]=300;d.R[l]=[d.M,"Top"];l+=1;a=this.b(d,"","Themes",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","Themes are used to provide a visual representation of",c,b,a,e,f);a=this.b(d,"","cell history and longevity",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=
[d.M,"2-State"];l+=1;a=this.b(d,"","Two-state Themes:",c,b,a,e,f);a=this.b(d,"BACKGROUND","cell never occupied",c,b,a,e,f);a=this.b(d,"ALIVE","cell just born",c,b,a,e,f);a=this.b(d,"ALIVERAMP","cell alive for several generations",c,b,a,e,f);a=this.b(d,"DEAD","cell just died",c,b,a,e,f);a=this.b(d,"DEADRAMP","cell dead for several generations",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"",LifeConstants.oc-LifeConstants.cb+1+" states from ALIVE to ALIVERAMP",c,b,a,e,f);a=this.b(d,"",d.ea+" (HISTORYSTATES) states from DEAD to DEADRAMP",
c,b,a,e,f);for(g=0;g<d.a.La.length-1;g+=1){a=this.b(d,"","",c,b,a,e,f);var H=d.a.La[g];a=this.b(d,"Name"+(g===d.a.oe&&2>=d.a.g?"*":""),H.name,c,b,a,e,f);this.Ga(d,H.Oa.red,H.Oa.green,H.Oa.blue,c,b+d.P[0],a,e,f);a=this.b(d,"BACKGROUND",this.Md(H.Oa),c,b,a,e,f);this.Ga(d,H.ya.B.red,H.ya.B.green,H.ya.B.blue,c,b+d.P[0],a,e,f);a=this.b(d,"ALIVE",this.Md(H.ya.B),c,b,a,e,f);if(H.ya.B.red!==H.ya.D.red||H.ya.B.green!==H.ya.D.green||H.ya.B.blue!==H.ya.D.blue)this.Ga(d,H.ya.D.red,H.ya.D.green,H.ya.D.blue,c,
b+d.P[0],a,e,f),a=this.b(d,"ALIVERAMP",this.Md(H.ya.D),c,b,a,e,f);this.Ga(d,H.xa.D.red,H.xa.D.green,H.xa.D.blue,c,b+d.P[0],a,e,f);a=this.b(d,"DEAD",this.Md(H.xa.D),c,b,a,e,f);if(H.xa.B.red!==H.xa.D.red||H.xa.B.green!==H.xa.D.green||H.xa.B.blue!==H.xa.D.blue)this.Ga(d,H.xa.B.red,H.xa.B.green,H.xa.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"DEADRAMP",this.Md(H.xa.B),c,b,a,e,f);H.ij&&(this.Ga(d,H.vf>>16,H.vf>>8&255,H.vf&255,c,b+d.P[0],a,e,f),a=this.b(d,"GRID",this.Ub(H.vf>>16,H.vf>>8&255,H.vf&255),c,b,a,e,
f),this.Ga(d,H.wf>>16,H.wf>>8&255,H.wf&255,c,b+d.P[0],a,e,f),a=this.b(d,"GRIDMAJOR",this.Ub(H.wf>>16,H.wf>>8&255,H.wf&255),c,b,a,e,f),a=this.b(d,"GRIDMAJOR",H.wq,c,b,a,e,f))}a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Multi"];a=this.b(d,"","Multi-state Themes:",c,b,a,e,f);a=this.b(d,"BACKGROUND","cell never occupied",c,b,a,e,f);a=this.b(d,"ALIVE","cell alive",c,b,a,e,f);a=this.b(d,"DYING","cell just starting dying",c,b,a,e,f);a=this.b(d,"DYINGRAMP","cell about to die",c,b,a,e,f);a=this.b(d,"DEAD","cell just died",
c,b,a,e,f);a=this.b(d,"DEADRAMP","cell dead for several generations",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","Rule defines "+(2>d.a.g?"":String(d.a.g-1)+" ")+"states from DYING to DYINGRAMP",c,b,a,e,f);a=this.b(d,"",d.ea+" (HISTORYSTATES) states from DEAD to DEADRAMP",c,b,a,e,f);for(g=0;g<d.a.La.length-1;g+=1){a=this.b(d,"","",c,b,a,e,f);H=d.a.La[g];a=this.b(d,"Name"+(g===d.a.oe&&2<d.a.g?"*":""),H.name,c,b,a,e,f);this.Ga(d,H.Wg.red,H.Wg.green,H.Wg.blue,c,b+d.P[0],a,e,f);a=this.b(d,"BACKGROUND",
this.Md(H.Wg),c,b,a,e,f);this.Ga(d,H.Ne.red,H.Ne.green,H.Ne.blue,c,b+d.P[0],a,e,f);a=this.b(d,"ALIVE",this.Md(H.Ne),c,b,a,e,f);this.Ga(d,H.Sa.D.red,H.Sa.D.green,H.Sa.D.blue,c,b+d.P[0],a,e,f);a=this.b(d,"DYING",this.Md(H.Sa.D),c,b,a,e,f);if(H.Sa.B.red!==H.Sa.D.red||H.Sa.B.green!==H.Sa.D.green||H.Sa.B.blue!==H.Sa.D.blue)this.Ga(d,H.Sa.B.red,H.Sa.B.green,H.Sa.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"DYINGRAMP",this.Md(H.Sa.B),c,b,a,e,f);this.Ga(d,H.Eb.D.red,H.Eb.D.green,H.Eb.D.blue,c,b+d.P[0],a,e,f);a=this.b(d,
"DEAD",this.Md(H.Eb.D),c,b,a,e,f);if(H.Eb.B.red!==H.Eb.D.red||H.Eb.B.green!==H.Eb.D.green||H.Eb.B.blue!==H.Eb.D.blue)this.Ga(d,H.Eb.B.red,H.Eb.B.green,H.Eb.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"DEADRAMP",this.Md(H.Eb.B),c,b,a,e,f)}},lz:function(d,c,b,a,e,f){var g,l=ColourManager.kd,H=Object.keys(l);d.M=1;d.fe=!1;d.R=[];d.P[0]=260;d.P[1]=330;d.P[2]=380;d.P[3]=d.A;d.R[0]=[d.M,"Top"];a=this.b(d,"","Colours",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","The following names can be used in place of R G B",
c,b,a,e,f);a=this.b(d,"","for example [[ COLOUR ALIVE Green ]]",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);for(g=0;g<H.length;g+=1){var L=l[H[g]];this.Ga(d,L[1],L[2],L[3],c,b+d.P[0],a,e,f);a=this.b(d,L[0],this.Ub(L[1],L[2],L[3]),c,b,a,e,f)}},jz:function(d,c,b,a,e,f){var g,l=0,H=AliasManager.c,L=AliasManager.cf;d.M=1;d.fe=!1;d.R=[];d.P[0]=260;d.R[l]=[d.M,"Top"];l+=1;a=this.b(d,"","Aliases",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","Alias names can be used as rule names in RLE",c,b,a,e,f);a=
this.b(d,"","for example 'rule = HighLife'",c,b,a,e,f);d.fe=!0;for(g=0;g<H.length;g+=1)""===H[g][1]?(a=this.b(d,"","",c,b,a,e,f),d.R[l]=[d.M,L[l-1]],l+=1,a=this.b(d,"",H[g][0]+" Aliases:",c,b,a,e,f)):""!==H[g][0]&&(a=this.b(d,H[g][0]+(H[g][2]?"*":""),H[g][1],c,b,a,e,f))},rz:function(d,c,b,a,e,f){var g,l=0,H=Controller.lc.length,L=0,I=0,r=0,h=0,z;d.M=1;d.fe=!1;d.R=[];d.P[0]=128;d.P[1]=200;d.P[2]=290;d.P[3]=530;d.R[l]=[d.M,"Top"];l+=1;a=this.b(d,"","Memory usage",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,
f);if(1<H){d.R[l]=[d.M,"All"];l+=1;a=this.b(d,"","Memory (all "+H+" LifeViewers):",c,b,a,e,f);for(g=0;g<H;g+=1)if(z=Controller.$x(g))L+=z.a.j.Sl,r+=z.a.j.Ej>>10,I+=z.a.j.Ul,h+=z.a.j.Fj>>10;a=this.b(d,"Allocations",L+"\t"+(r>>10)+"M",c,b,a,e,f);a=this.b(d,"Frees",I+"\t"+(h>>10)+"M",c,b,a,e,f);a=this.b(d,"In Use",L-I+"\t"+((r>>10)-(h>>10))+"M",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f)}d.R[l]=[d.M,"Current"];a=this.b(d,"","Memory (this LifeViewer):",c,b,a,e,f);a=this.b(d,"Allocations",d.a.j.Sl+"\t"+this.Mp(d.a.j.Ej)+
"M\t"+d.a.j.Ej,c,b,a,e,f);a=this.b(d,"Frees",d.a.j.Ul+"\t"+this.Mp(d.a.j.Fj)+"M\t"+d.a.j.Fj,c,b,a,e,f);a=this.b(d,"In Use",d.a.j.Sl-d.a.j.Ul+"\t"+this.Mp(d.a.j.Ej-d.a.j.Fj)+"M\t"+(d.a.j.Ej-d.a.j.Fj),c,b,a,e,f);a=this.b(d,this.Gu("Bytes",10),"Type\tElements\tName\tCount",c,b,a,e,f);for(g=0;g<d.a.j.Pe.length;g+=1)a=this.b(d,this.Gu(String(d.a.j.Pe[g].size),10),d.a.j.Dw(g),c,b,a,e,f);this.b(d,"","",c,b,a,e,f)},kq:function(d){var c=d.rd;d.$b=(d.v/19|0)-6;c.fillStyle="black";c.globalAlpha=.5;c.fillRect(0,
0,c.canvas.width,c.canvas.height);c.globalAlpha=1;c.fillStyle=ViewConstants.Cl;this.Ir=-2;this.Xu(d,c,6,14,19,d.X|0);c.fillStyle=ViewConstants.gk;this.Ir=0;this.Xu(d,c,4,12,19,d.X|0)},mz:function(d,c,b,a,e,f,g,l,H,L){var I=l,r=0,h=!1,z=d.M;f.fillStyle===ViewConstants.Cl&&(h=!0);z>=L&&z<=L+d.$b&&(f.font=ViewConstants.xl,h||(1<(d.Ya|0)?f.fillStyle=d.Rf:f.fillStyle=ViewConstants.Jn),f.fillText(c,g,l),h||(f.fillStyle=d.Rf),f.fillText(b,g+f.measureText(c).width,l),h||((d.Ya|0)<d.Nb.length-d.$b+1?f.fillStyle=
d.Rf:f.fillStyle=ViewConstants.Jn),f.fillText(a,g+f.measureText(c+b).width,l),d.P[0]&&(r=d.P[0]),h||(f.fillStyle=d.Rf),f.font=ViewConstants.Li,f.fillText(e,g+r,l),I+=H);return I},Go:function(d,c,b,a,e,f,g,l){var H=f,L=0,I=d.M;I>=l&&I<=l+d.$b&&(c.length&&(a.font=ViewConstants.xl,a.fillText(c,e,f),L=a.measureText(c+" ").width),d.P[0]&&(L=d.P[0]),a.font=ViewConstants.Li,a.fillText(b,e+L,f),H+=g);d.M+=1;return H},Wu:function(d,c,b,a,e,f){var g,l=d.Nb,H=a;d.M=1;d.P[0]=0;c.font=ViewConstants.Li;a=this.Go(d,
"",ViewConstants.Rz,c,b,a,e,f);for(g=0;g<l.length;g+=1)a=this.Go(d,l[g][0],l[g][1],c,b,a,e,f);d.wa||(d.P[0]=120,d.M=1,a=H+e*(d.$b+2),a=this.mz(d,"Up"," / ","Down","scroll errors",c,b,a,e,0),a=this.Go(d,"Esc","clear messages",c,b,a,e,0),this.Go(d,"H  ","help on script commands",c,b,a,e,0))},jq:function(d){var c=d.rd,b=7;d.wa&&(b=1);d.$b=(d.v/19|0)-b;c.fillStyle="black";c.globalAlpha=.5;c.fillRect(0,0,c.canvas.width,c.canvas.height);c.globalAlpha=1;c.fillStyle=ViewConstants.Cl;this.Wu(d,c,6,14,19,d.Ya|
0);c.fillStyle=d.Rf;this.Wu(d,c,4,12,19,d.Ya|0)}};window.Keywords={Vb:'"',wj:"[[",xk:"]]",Xr:"SUPPRESS",yo:"POIT",Ua:"INITIAL",Ka:"OFF",Ur:"STATE1FIT",bm:"POIRESET",tk:"POIPLAY",uk:"POISTOP",cm:"POITRANS",yq:"HARDRESET",Fm:"TRACK",Hj:"TRACKBOX",Em:"TRACKLOOP",fr:"NOREPORT",In:"GRAPH",so:"NOGRAPH",tq:"GRAPHOPACITY",uq:"GRAPHPOINTS",er:"NOPERFWARNING",Ut:"AUTOHIDEGUI",Oe:"ALL",We:"LINEAR",Mf:"BEZIER",Dq:"HEXDISPLAY",Pr:"SQUAREDISPLAY",Cq:"HEXCELLS",Or:"SQUARECELLS",ct:"CELLBORDERS",Zt:"INTEGERZOOM",wr:"RANDOMSEED",gq:"DELETERANGE",Lr:"SHOWTIMING",
qq:"EXTENDEDTIMING",Jr:"SHOWGENSTATS",Kr:"SHOWINFOBAR",gr:"NOSOURCE",zo:"POI",Gk:"TITLE",Pu:"POLY",Ao:"POLYFILL",pr:"POLYLINE",mr:"POLYALPHA",qr:"POLYSIZE",rr:"POLYT",nr:"POLYANGLE",sr:"POLYTARGET",Ou:"POLYTRACK",Zk:"ARROW",Gp:"ARROWALPHA",Ip:"ARROWSIZE",Jp:"ARROWT",Hp:"ARROWANGLE",Kp:"ARROWTARGET",Lp:"ARROWTRACK",Gl:"LABEL",Nq:"LABELALPHA",Pq:"LABELSIZE",Qq:"LABELT",Oq:"LABELANGLE",Rq:"LABELTARGET",Sq:"LABELTRACK",Uc:"FIXED",Xq:"MAXGRIDSIZE",tm:"STARS",Fk:"CUSTOM",ip:"XOFFSET",jp:"YOFFSET",Xo:"BACKGROUND",
Wo:"ALIVE",ds:"ALIVERAMP",Zo:"DEAD",Yo:"DEADRAMP",uv:"DYING",tv:"DYINGRAMP",Dv:"UIFOREGROUND",iB:"UIFOREGROUNDA",Bv:"UIBACKGROUND",gB:"UIBACKGROUNDA",Ev:"UIHIGHLIGHT",jB:"UIHIGHTLIGHTA",Gv:"UISELECT",lB:"UISELECTA",Fv:"UILOCKED",kB:"UILOCKEDA",Cv:"UIBORDER",hB:"UIBORDERA",dt:"BOUNDARY",Vm:"AUTOFIT",Hq:"HISTORYFIT",Rn:"HISTORYSTATES",Aj:"STEP",cr:"NOSTEPBACK",um:"T",kr:"PAUSE",Bl:"GRID",Al:"GRIDMAJOR",bs:"TEXT",oq:"ERROR",Bu:"OFF",Du:"ON",Vt:"HISTORY",gu:"MARK1",ku:"MARKOFF",iu:"MARK2",au:"KILL",Nt:"GRAPHBG",
Mt:"GRAPHAXIS",Lt:"GRAPHALIVE",Ot:"GRAPHBIRTH",Pt:"GRAPHDEATH",ra:"COLOR",Sp:"COLOUR",Wr:"STRICT",Mm:"VIEWONLY",br:"NOGUI",ar:"NOCOPY",ks:"THUMBNAIL",hs:"THUMBSIZE",fs:"THUMBLAUNCH",yh:"THEME",Wm:"AUTOSTART",dg:"LOOP",sg:"STOP",Qh:"ANGLE",lj:"LAYERS",bj:"DEPTH",hj:"GPS",nc:"ZOOM",Ep:"Z",Zc:"X",$c:"Y",Ik:"WIDTH",fk:"HEIGHT",em:"POPUPWIDTH",dm:"POPUPHEIGHT",js:"THUMBZOOM",Je:"#"};
