var pb="function"==typeof Object.defineProperties?Object.defineProperty:function(c,d,b){c!=Array.prototype&&c!=Object.prototype&&(c[d]=b.value)},qb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function rb(c,d){if(d){var b=qb;c=c.split(".");for(var a=0;a<c.length-1;a++){var f=c[a];f in b||(b[f]={});b=b[f]}c=c[c.length-1];a=b[c];d=d(a);d!=a&&null!=d&&pb(b,c,{configurable:!0,writable:!0,value:d})}}
rb("Array.prototype.fill",function(c){return c?c:function(d,b,a){var f=this.length||0;0>b&&(b=Math.max(0,f+b));if(null==a||a>f)a=f;a=Number(a);0>a&&(a=Math.max(0,f+a));for(b=Number(b||0);b<a;b++)this[b]=d;return this}});
(function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.vA||performance.wA||performance.AA||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var c=new Uint32Array(1);c[0]=4660;52===(new Uint8Array(c.buffer))[0]?window.littleEndian=!0:
window.littleEndian=!1;window.registerEvent=function(d,b,a,f){d.addEventListener?d.addEventListener(b,a,f):d.attachEvent("on"+b,a)}})();(function(){function c(a,f,e){this.type=a;this.name=e;this.elements=f;this.size=f*b.rk(a);this.Pl=1}function d(){this.Ee=[];this.yj=this.Ml=this.xj=this.Kl=0}var b={cp:8,ep:40,ap:9,bp:10,$o:0,Yo:1,Zo:2,Wo:18,Xo:19,rk:function(a){return 1<<(a&7)},typeName:function(a){var f=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(f+="Clamped");return f}};d.prototype.hw=function(a){var f="";0<=a&&a<this.Ee.length&&(a=this.Ee[a],f=b.typeName(a.type)+"\t"+a.elements+"\t"+a.name+"\t"+a.Pl);
return f};d.prototype.f=function(a,f,e){for(var g=0,n=!1,p;g<this.Ee.length&&!n;)p=this.Ee[g],e===p.name?(n=!0,this.Ml+=1,this.yj+=p.elements*b.rk(p.type)):g+=1;n?(this.Ee[g].type=a,this.Ee[g].elements=f,this.Ee[g].Pl+=1,this.Ee[g].size=f*b.rk(a)):(g=this.Ee.length,this.Ee[g]=new c(a,f,e));this.Kl+=1;this.xj+=f*b.rk(a)};d.prototype.Or=function(a,f,e,g,n){a=a.buffer;g*=b.rk(f);switch(f){case b.cp:e=new Uint8Array(a,g,e);break;case b.ep:e=new Uint8Array(a,g,e);break;case b.ap:e=new Uint16Array(a,g,
e);break;case b.bp:e=new Uint32Array(a,g,e);break;case b.$o:e=new Int8Array(a,g,e);break;case b.Yo:e=new Int16Array(a,g,e);break;case b.Zo:e=new Int32Array(a,g,e);break;case b.Wo:e=new Float32Array(a,g,e);break;case b.Xo:e=new Float64Array(a,g,e);break;default:e=null,alert("Illegal type specified to allocator.typedView for "+n+": "+f)}return e};d.prototype.i=function(a,f,e){switch(a){case b.cp:f=new Uint8Array(f);break;case b.ep:f=new Uint8Array(f);break;case b.ap:f=new Uint16Array(f);break;case b.bp:f=
new Uint32Array(f);break;case b.$o:f=new Int8Array(f);break;case b.Yo:f=new Int16Array(f);break;case b.Zo:f=new Int32Array(f);break;case b.Wo:f=new Float32Array(f);break;case b.Xo:f=new Float64Array(f);break;default:f=null,alert("Illegal type specified to allocator.typedMemory for "+e+": "+a)}return f};d.prototype.V=function(a,f,e){var g=null;0<f&&(g=this.i(a,f,e));(g||0===f)&&this.f(a,f,e);return g};d.prototype.gw=function(a,f,e,g){var n=null;0<f&&(n=this.i(a,f,e));(n||0===f)&&this.f(a,f*g,e);return n};
Array.Z=function(a,f,e,g,n,p){var H=0,b=[];b.j=n;b.type=a;b.Bm=null;var d=n.V(a,f*e,p);b.Bm=d;if(0<e){for(;H<f;)b[H]=n.Or(d,a,e,H*e,p),H+=1;if(0!==g)if(d.fill)d.fill(g);else for(H=0;H<d.length;)d[H]=g,H+=1}return b};Array.Nk=function(a,f){f=a.j.gw(a.type,a[0].length,f,a.length+1);a[a.length]=f};Array.Af=function(a,f){f.Bm.set(a.Bm)};Array.mf=function(a,f){var e=Uint16,g,n=a.length,p=[],H=a.j,d=a[0].length/b.rk(e);for(g=0;g<n;g+=1)p[g]=H.Or(a.Bm,e,d,g*d,f);return p};Array.Tc=function(a,f,e){var g,
n=a.length,p=[],H=a.j,b=a.type,d=a[0].length;for(g=0;g<n;g+=1)p[g]=H.Or(a.Bm,b,d-f,g*d+f,e);return p};window.Allocator=d;window.Uint8=b.cp;window.Uint8Clamped=b.ep;window.Uint16=b.ap;window.Uint32=b.bp;window.Int8=b.$o;window.Int16=b.Yo;window.Int32=b.Zo;window.Float32=b.Wo;window.Float64=b.Xo})();window.AliasManager={c:[],Pe:[],Dd:function(){var c,d;this.c=[];this.Pe=[];this.Pe.push("OT M");this.c.push(["Outer-Totalistic Moore",""]);this.c.push(["","B3/S23"]);this.c.push(["2x2","B36/S125"]);this.c.push(["2x2 2","B3678/S1258"]);this.c.push(["34 Life","B34/S34"]);this.c.push(["3-4 Life","B34/S34"]);this.c.push(["Amoeba","B357/S1358"]);this.c.push(["AntiLife","B0123478/S01234678"]);this.c.push(["Assimilation","B345/S4567"]);this.c.push(["Bacteria","B34/S456"]);this.c.push(["Blinkers","B345/S2"]);
this.c.push(["Bugs","B3567/S15678"]);this.c.push(["Coagulations","B378/S235678"]);this.c.push(["Conway's Game of Life","B3/S23"]);this.c.push(["Conway's Life","B3/S23"]);this.c.push(["Coral","B3/S45678"]);this.c.push(["Corrosion of Conformity","B3/S124"]);this.c.push(["Dance","B34/S35"]);this.c.push(["Day & Night","B3678/S34678"]);this.c.push(["Day and Night","B3678/S34678"]);this.c.push(["Diamoeba","B35678/S5678"]);this.c.push(["DotLife","B3/S023"]);this.c.push(["DrighLife","B367/S23"]);this.c.push(["DryFlock",
"B37/S12"]);this.c.push(["DryLife","B37/S23"]);this.c.push(["DryLife without Death","B37/S012345678"]);this.c.push(["EightFlock","B3/S128"]);this.c.push(["EightLife","B3/S238"]);this.c.push(["Electrified Maze","B45/S12345"]);this.c.push(["Eppstein","B35/S236"]);this.c.push(["Flock","B3/S12"]);this.c.push(["Forest of Ls","B168/S236"]);this.c.push(["Fredkin","B1357/S02468"]);this.c.push(["Gems Minor","B34578/S456"]);this.c.push(["Gems","B3457/S4568"]);this.c.push(["Gnarl","B1/S1"]);this.c.push(["H-Trees",
"B1/S012345678"]);this.c.push(["HighFlock","B36/S12"]);this.c.push(["HighLife","B36/S23"]);this.c.push(["HighLife without Death","B36/S012345678"]);this.c.push(["Holstein","B35678/S4678"]);this.c.push(["HoneyFlock","B38/S128"]);this.c.push(["HoneyLife","B38/S238"]);this.c.push(["Iceballs","B25678/S5678"]);this.c.push(["InverseLife","B012345678/S34678"]);this.c.push(["Invertamaze","B028/S0124"]);this.c.push(["IronFlock","B36/S128"]);this.c.push(["IronLife","B36/S238"]);this.c.push(["Land Rush","B36/S234578"]);
this.c.push(["Life SkyHigh","B368/S236"]);this.c.push(["Life without Death","B3/S012345678"]);this.c.push(["Life","B3/S23"]);this.c.push(["Live Free or Die","B2/S0"]);this.c.push(["LongLife","B345/S5"]);this.c.push(["Long Life","B345/S5"]);this.c.push(["LowDeath without death","B368/S012345678"]);this.c.push(["LowDeath","B368/S238"]);this.c.push(["LowFlockDeath","B368/S128"]);this.c.push(["LowLife","B3/S13"]);this.c.push(["Majority","B45678/S5678"]);this.c.push(["Maze","B3/S12345"]);this.c.push(["Maze with Mice",
"B37/S12345"]);this.c.push(["Mazectric","B3/S1234"]);this.c.push(["Mazectric with Mice","B37/S1234"]);this.c.push(["Morley","B368/S245"]);this.c.push(["Move","B368/S245"]);this.c.push(["Neon Blobs","B08/S4"]);this.c.push(["Pedestrian Flock","B38/S12"]);this.c.push(["Pedestrian Life","B38/S23"]);this.c.push(["Pedestrian Life without Death","B38/S012345678"]);this.c.push(["Persian Rug","B234/S"]);this.c.push(["Plow World","B378/S012345678"]);this.c.push(["Pseudo Life","B357/S238"]);this.c.push(["Replicator",
"B1357/S1357"]);this.c.push(["Rings 'n' Slugs","B56/S14568"]);this.c.push(["Seeds","B2/S"]);this.c.push(["Serviettes","B234/S"]);this.c.push(["Shoots and Roots","B3/S245678"]);this.c.push(["Slow Blob","B367/S125678"]);this.c.push(["SnowLife","B3/S1237"]);this.c.push(["Stains","B3678/S235678"]);this.c.push(["Virus","B36/S235"]);this.c.push(["Vote","B5678/S45678"]);this.c.push(["Vote 4/5","B4678/S35678"]);this.c.push(["Walled Cities","B45678/S2345"]);this.Pe.push("OT Hex");this.c.push(["Outer-Totalistic Hex",
""]);this.c.push(["Fredkin Hex","B135/S0246H"]);this.c.push(["Hexagonal Life","B2/S34H"]);this.c.push(["HighHexLife","B25/S34H"]);this.c.push(["Replicator Hex","B135/S135H"]);this.Pe.push("NT M");this.c.push(["Isotropic Non-Totalistic Moore",""]);this.c.push(["15Life","B34r/S23-q4et"]);this.c.push(["22k","B2-k/S2-k"]);this.c.push(["38life","B35y/S2-n35k6ci"]);this.c.push(["aLife","B3/S234iw"]);this.c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);this.c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);
this.c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);this.c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);this.c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);this.c.push(["Best Friends","B2ce3aiy/S12aei3r"]);this.c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);this.c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);this.c.push(["Breps","B34cqy5c/S23-y4y"]);this.c.push(["Bubbles","B3ai4-a/S23"]);this.c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);
this.c.push(["Buzz","B2i35-n/S2-ci36k8"]);this.c.push(["CarrierLife","B2e3aceik/S23"]);this.c.push(["CB2","B2ae4i/S1e2in"]);this.c.push(["cetlife","B34cet/S234jkwyz"]);this.c.push(["CommonRepl","B3/S23-ac4eiy6"]);this.c.push(["Conway++","B3/S234c"]);this.c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);this.c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);this.c.push(["Conway--","B3/S2-ei3"]);this.c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);this.c.push(["Diamoeral","B2n3ai4a78/S35678"]);this.c.push(["Diamonds",
"B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);this.c.push(["DLife","B3-n/S23"]);this.c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);this.c.push(["Dry15Life","B34r7/S23-q4et"]);this.c.push(["DryGoats","B2in37/S123a"]);this.c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);this.c.push(["EightGoats","B2in3/S123a8"]);this.c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);this.c.push(["FattyLife","B3-n4nt5qr6i/S23"]);this.c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
this.c.push(["FogLife","B35eq7/S2-i34q"]);this.c.push(["GlideLife","B34ek5ak/S2-c34z"]);this.c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);this.c.push(["Goat Flock","B2in3/S123a"]);this.c.push(["Goats","B2in3/S123a"]);this.c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);this.c.push(["guntlife","B35j6a/S2-i34q"]);this.c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);this.c.push(["hatlife","B35y/S23"]);this.c.push(["High15Life","B34r6/S23-q4et"]);this.c.push(["HighGoats","B2in36/S123a"]);
this.c.push(["hlife3","B3/S2-in34iw"]);this.c.push(["HoneyGoats","B2in38/S123a8"]);this.c.push(["HouseLife","B2i3/S23-r"]);this.c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);this.c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);this.c.push(["ilife","B3/S235i"]);this.c.push(["IronGoats","B2in36/S123a8"]);this.c.push(["Just Friends","B2-a/S12"]);this.c.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.c.push(["klife","B34n/S23"]);this.c.push(["Knyght","B2e3/S23-jq"]);this.c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);
this.c.push(["Linea","B2-a3-i/S23-a"]);this.c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);this.c.push(["Movostill","B2i3acijk6i/S23-a4"]);this.c.push(["Movostill 2","B3acijk/S23-a4"]);this.c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);this.c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);this.c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);this.c.push(["Pedestrian Goats","B2in38/S123a"]);this.c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);this.c.push(["PiLife","B37e/S23"]);this.c.push(["PondLife",
"B36i/S2-i35i"]);this.c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);this.c.push(["PlasmaLife","B34-air/S234-air"]);this.c.push(["reptlife","B36-k/S2-i34q"]);this.c.push(["RustyLife","B34-ai/S24-air5-a"]);this.c.push(["Salad","B2i34c/S2-i3"]);this.c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);this.c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);this.c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);this.c.push(["SilverLife","B367/S2-i34q"]);this.c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);
this.c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);this.c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);this.c.push(["SparkLife","B36i/S234j"]);this.c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);this.c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);this.c.push(["TableLife","B3/S23-ai4anq6n"]);this.c.push(["TauLife","B3-nr/S2-i34-aij"]);this.c.push(["tceclife","B36ce7c/S2-i34q"]);this.c.push(["tDryFlock","B37/S12-i4q"]);this.c.push(["tDryLife","B37/S2-i34q"]);
this.c.push(["tEightLife","B3/S2-i34q8"]);this.c.push(["tflock","B3/S12-i4q"]);this.c.push(["tHighFlock","B36/S12-i4q"]);this.c.push(["tHighLife","B36/S2-i34q"]);this.c.push(["tlife","B3/S2-i34q"]);this.c.push(["tPedestrianFlock","B38/S12-i4q"]);this.c.push(["tPedestrianLife","B38/S2-i34q"]);this.c.push(["Train","B34t6k8/S2-i35a7e"]);this.c.push(["Turro","B2-a3c/S12-i"]);this.c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);this.c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);this.c.push(["X-rule-pre",
"B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);this.c.push(["Ylife","B2e3ai4ar/S23-a4a"]);this.Pe.push("NT Hex");this.c.push(["Isotropic Non-Totalistic Hex",""]);this.c.push(["Hex Life","B2o3m56/S2-p4oH"]);this.c.push(["22da","B2o/S2-mH"]);this.c.push(["Hexrule b2o","B2o/S2m34H"]);this.Pe.push("OT M G");this.c.push(["Outer-Totalistic Generations Moore",""]);this.c.push(["9:43 at Knight","237/34578/4"]);this.c.push(["Banners","2367/3457/5"]);this.c.push(["BelZhab","23/23/8"]);this.c.push(["BelZhab Sediment",
"145678/23/8"]);this.c.push(["Bloomerang","234/34678/24"]);this.c.push(["Bombers","345/24/25"]);this.c.push(["Brain 5","/2/5"]);this.c.push(["Brain 6","6/246/3"]);this.c.push(["Brian's Brain","/2/3"]);this.c.push(["Burst","0235678/3468/9"]);this.c.push(["BurstII","235678/3468/9"]);this.c.push(["Caterpillars","124567/378/4"]);this.c.push(["Chenille","05678/24567/6"]);this.c.push(["Circuit Genesis","2345/1234/8"]);this.c.push(["Constellations","/23/3"]);this.c.push(["Cooties","23/2/8"]);this.c.push(["Ebb&Flow",
"012478/36/18"]);this.c.push(["Ebb&Flow II","012468/37/18"]);this.c.push(["Faders","2/2/25"]);this.c.push(["Fireworks","2/13/21"]);this.c.push(["Flaming Starbows","347/23/8"]);this.c.push(["Free Star","0345/2/10"]);this.c.push(["Frogs","12/34/3"]);this.c.push(["Frozen spirals","356/23/6"]);this.c.push(["Glisserati","035678/245678/7"]);this.c.push(["Glissergy","035678/245678/5"]);this.c.push(["Lava","12345/45678/8"]);this.c.push(["Lines","012345/458/3"]);this.c.push(["LivingOn TheEdge","345/3/6"]);
this.c.push(["Meteor Guns","01245678/3/8"]);this.c.push(["Nova","45678/2478/25"]);this.c.push(["OrthoGo","3/2/4"]);this.c.push(["Prairie on fire","345/34/6"]);this.c.push(["RainZha","2/23/8"]);this.c.push(["Rake","3467/2678/6"]);this.c.push(["SediMental","45678/25678/4"]);this.c.push(["Snake","03467/25/6"]);this.c.push(["SoftFreeze","13458/38/6"]);this.c.push(["Spirals","2/234/5"]);this.c.push(["Star Wars","345/2/4"]);this.c.push(["Sticks","3456/2/6"]);this.c.push(["Swirl","23/34/8"]);this.c.push(["Tadpoles",
"0125678/345678/64"]);this.c.push(["ThrillGrill","1234/34/48"]);this.c.push(["Transers","345/26/5"]);this.c.push(["TransersII","0345/26/6"]);this.c.push(["Transers 2","0345/26/6"]);this.c.push(["Transers 3","0345/26/7"]);this.c.push(["Wallplicators","345/25678/7"]);this.c.push(["Wanderers","345/34678/5"]);this.c.push(["Worms","3467/25/6"]);this.c.push(["Xtasy","1456/2356/16"]);this.Pe.push("NT M G");this.c.push(["Isotropic Non-Totalistic Generations Moore",""]);this.c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);
this.c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);this.Pe.push("LtL M");this.c.push(["Larger than Life Moore",""]);this.c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);this.c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);this.c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);this.c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);this.c.push(["Bugs R6","R6,C2,M1,S47..81,b47..63,NM"]);this.c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);this.c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);
this.c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);this.c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);this.c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);this.c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);this.c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);this.c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);this.c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);this.c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);
this.c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);this.c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);this.c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);this.c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);this.c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);this.c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);this.c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);this.c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);this.c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);
this.c.push(["Stones","R2,C2,M1,S29..58,B38..61,NM"]);this.c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);this.c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);this.c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);this.c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);this.Pe.push("LtL M G");this.c.push(["Generations Larger than Life Moore",""]);this.c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);this.c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);this.Pe.push("HROT M");
this.c.push(["Higher-Range Outer-Totalistic Moore",""]);this.c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.Pe.push("Alt OT M");this.c.push(["Alternating Outer-Totalistic Moore",""]);this.c.push(["alternlife","B13/S012345678|B/S15"]);this.c.push(["comb625","B3/S348|B2/S356"]);this.c.push(["Fizzler","B13/S3|B/S345678"]);this.c.push(["Jelly","B3/S135|B2/S5"]);this.c.push(["Phoenix","B24/S|B35/S"]);this.Pe.push("Alt NT M");this.c.push(["Alternating Non-Totalistic Moore",""]);this.c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);this.c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);this.c.push(["Unidim3",
"B12ci34578/S02345678|B6i7/S268"]);this.c[0][2]=!1;for(c=1;c<this.c.length;c+=1){var b=this.c[c][1];this.c[c][2]=!1;for(d=0;d<c;d+=1)this.c[d][1]===b&&(this.c[d][2]=!0,this.c[c][2]=!0,d=c)}},jt:function(c){var d=null,b=0;for(c=c.toLowerCase();b<this.c.length&&null===d;)""!==this.c[b][1]&&this.c[b][0].toLowerCase()===c&&(d=this.c[b][1]),b+=1;return d},Cx:function(c){for(var d=null,b=0;b<this.c.length&&null===d;)""!==this.c[b][1]&&this.c[b][1]===c&&(d=this.c[b][0]),b+=1;return d}};(function(){function c(a,e,g,f,b){this.h=b;this.ga=a;this.wa=e;this.Ga=g;this.message="";this.G=a;this.X=e;this.Da=g;this.xg="";this.context=f;this.ya=!1;this.ea=this.i=0;this.ce="rgb(32,255,255)";this.ru="white";this.f=0;this.jp=!1;this.Ya=this.vb="black";this.enabled=!1;this.m=30}function d(a,e,g,f){this.name=a;this.width=e;this.height=g;this.Pl=f}function b(a,e){this.context=e;this.X=a;this.height=this.width=0;this.G=this.i=this.f=null;this.m=[];this.so=!0;this.ar=-1;this.Dd=!1}function a(a,e,
f,b,d,c,y,m,l,q,F,z,C,t,I,k,u,A,J,G){this.id=a;this.D="";this.Uh=-1;this.l=!1;this.Gc=e;this.caller=f;this.icon=J;this.x=d;this.y=c;this.Oe=d;this.f=c;this.position=b;this.width=y;this.height=m;this.border=t;this.type=z;C===g.zs?this.orientation=y>=m?g.Rc:g.vertical:this.orientation=C;this.om=this.orientation;this.lower=l;this.upper=q;z===g.sc?this.current=[F,F]:this.current=F;this.Ur=I;this.ob=k;this.Xq=u;this.fixed=A;this.Kn=!1;this.Al=this.zl=this.Cl=this.Bl=this.Gt=this.Ft=-1;this.textAlign=g.Is;
this.enabled=!0;this.locked=!1;this.um=[];this.io=0;this.Ox=!1;this.Kc=G.Kc;this.Fc=G.Fc;if(z===g.list)for(this.Uk=[],a=0;a<l.length;a+=1)this.Uk[a]=this.Kc;this.Ad=G.Ad;this.Pd=G.Pd;this.gf=G.gf;this.fh=G.fh;this.ki=G.ki;this.qj=G.qj;this.kf=G.kf;this.Xh=G.Xh;this.kg=G.kg;this.Ji=G.Ji;this.border=G.border;this.font=G.Oj}function f(a,e,f,b,d){this.context=b;this.Oj=d;this.locked=this.l=!1;this.rg=this.Ke=-1;this.Ki=this.Vb=!1;this.G=6;this.Gc=a;this.md=[];this.mb=0;this.Kc="";this.Fc=0;this.Ad="";
this.Pd=0;this.gf="";this.fh=0;this.ki="";this.qj=0;this.kf="";this.Xh=0;this.kg="";this.border=this.Ji=0;this.i=g.zs;this.bi=this.Eh=-1;this.Kp=this.es=null;this.Dm=e;this.caller=f;this.ia=null}function e(a,e,g,f,b,d){var n=this,m=0,p=a.canvas;this.mq=this.Yq=!0;this.X=this.ea=40;this.Sz=50;this.hg=0;this.f=this.i=this.m=-1;this.lj=!1;this.caller=b;this.Jg=this.ta=this.ei=this.Ab=!1;this.Ac=4;this.gt=d;this.hasFocus=this.up=!1;this.Sk=!0;this.xm=!1;this.wi=1;this.Kc="black";this.Fc=.7;this.Ad="white";
this.Pd=1;this.gf="rgb(0,240,32)";this.fh=.7;this.ki="blue";this.qj=.7;this.kf="grey";this.Xh=1;this.kg="rgb(32,255,255)";this.border=this.Ji=1;this.Hs=function(m){return function(){m.Na(m)}}(this);this.ia=f;this.lf=a;this.od=e;this.Vb=!1;this.mh=this.lh=-1;this.Hc=null;this.Oj=g;this.li=this.mi=!1;this.Ln=performance.now();this.jj=5;this.sm=0;this.xq=[];this.zq=[];this.wq=[];for(m=0;5>m;m+=1)this.xq[m]=0,this.zq[m]=0,this.wq[m]=0;this.El=null;this.Kg=!1;this.notification=new c(25,100,25,e,this);
this.Et=performance.now();this.Ki=this.Tr=!1;this.offsetTop=this.offsetLeft=0;registerEvent(p,"mousedown",function(m){n.ga(n,m)},!1);registerEvent(p,"mousemove",function(m){n.wa(n,m)},!1);registerEvent(p,"mouseup",function(m){n.Ga(n,m)},!1);registerEvent(p,"mouseover",function(m){n.Da(n,m)},!1);registerEvent(p,"mouseout",function(m){n.ya(n,m)},!1);registerEvent(p,"touchstart",function(m){n.G(n,m)},!1);registerEvent(p,"touchmove",function(m){n.G(n,m)},!1);registerEvent(p,"touchend",function(m){n.G(n,
m)},!1)}c.prototype.Ti=function(){var a=!1;if(""!==this.message||""!==this.xg)a=!0;return a};c.prototype.clear=function(a,e){a?""!==this.xg&&(e?this.xg="":this.ea=performance.now()-(this.G+this.X)):""!==this.message&&(e?this.message="":this.i=performance.now()-(this.ga+this.wa))};c.prototype.T=function(a,e,g){this.enabled&&(g?this.xg!==a&&(this.xg=a,this.G=240,this.X=16*e,this.Da=240,this.ea=performance.now(),this.f=0,this.jp=!1):(this.message=a,this.ga=240,this.wa=16*e,this.Ga=240,this.i=performance.now()))};
c.prototype.Ui=function(a,e){96>this.context.canvas.width&&(this.m=24);var g=this.m;var n=this.context.measureText(a).width>>1;if(this.ya){this.context.fillStyle=this.Ya;var p=this.context.globalAlpha;this.context.globalAlpha=.5*p;this.context.fillRect(-n-20,-g,2*n+40,2*g);this.context.globalAlpha=p}this.context.fillStyle=this.vb;this.context.fillText(a,-n+2,2);e?this.jp?(this.context.fillStyle=128>this.f?"rgb("+2*this.f+","+2*this.f+",255)":"rgb("+2*(256-this.f)+","+2*(256-this.f)+",255)",this.f=
this.f+4&255):this.context.fillStyle=this.ru:this.context.fillStyle=this.ce;this.context.fillText(a,-n,0)};c.prototype.Na=function(a,e,g,f,b,d,c){var m=this.m,n=m+2,p=this.h.Ac,H=60,h=!0;this.h.Ab?(H=0,d=this.context.canvas.height/2,this.ya=!0):this.ya=!1;""!==a&&(h=!1,b=performance.now()-b,this.context.save(),this.h.ta&&(c?(H=0,d=this.context.canvas.height/2):(m/=p,n=n/p|0,d=d/p|0,H=H/p|0)),this.context.font=m+"px Arial",this.context.translate(this.context.canvas.width/2-1,H+d),b<=e?(d=b/e,d*=d,
this.context.globalAlpha=d,this.context.scale(d,d)):b>e+g&&b<=e+g+f&&(d=(f-(b-(e+g)))/f,d*=d,this.context.globalAlpha=d,this.context.scale(d,d)),b>e+g+f?h=!0:(e=a.indexOf("\\n"),-1===e?this.Ui(a,c):(this.Ui(a.substr(0,e),c),this.context.translate(0,n),this.Ui(a.substr(e+2),c))),this.context.restore());return h};c.prototype.update=function(){this.Na(this.message,this.ga,this.wa,this.Ga,this.i,81,!1)&&(this.message="");this.h.ta&&"Expand"!==this.xg&&"Launch"!==this.xg||!this.Na(this.xg,this.G,this.X,
this.Da,this.ea,45,!0)||(this.xg="")};b.prototype.Ui=function(a,e,g){var n;this.Dd||(this.width=this.X.width,this.height=this.X.height,this.f=document.createElement("canvas"),this.f.width=this.width,this.f.height=this.height,this.i=this.f.getContext("2d"),this.G=new Image);if(this.so){this.i.drawImage(this.X,0,0);var p=this.i.getImageData(0,0,this.f.width,this.f.height);var f=new Uint32Array(p.data.buffer);for(n=0;n<f.length;n+=1)4294967295===f[n]&&(f[n]=this.ar);this.i.putImageData(p,0,0);this.Dd=
this.so=!1}this.Dd||(this.G.src=this.f.toDataURL("image/png"),this.Dd=!0);this.context.drawImage(this.G,a.Pl*a.width,0,a.width,a.height,e,g,a.width,a.height)};b.prototype.length=function(){return this.m.length};b.prototype.icon=function(a){var e,g=this.m,n=this.length(),f=null;for(e=0;e<n&&!f;)g[e].name===a?f=g[e]:e+=1;return f};b.prototype.add=function(a,e,g){var n=this.m.length;this.m[n]=new d(a,e,g,n)};var g={zs:0,Rc:1,vertical:2,sc:0,button:1,toggle:2,pe:3,list:4,label:5,qk:0,La:1,left:0,Is:1,
right:2,Bb:0,ib:1,dt:2,Yd:3,qr:4,Cg:5,tv:6,Uc:7,ey:8};a.prototype.em=function(a,e,g,f,b,d){this.Ad=a;this.Kc=e;this.gf=g;this.ki=f;this.kf=b;this.kg=d};a.prototype.setPosition=function(a,e,g){this.position=a;this.Oe=e;this.f=g;this.x=e;this.y=g};a.prototype.uw=function(a,e){this.x=this.Oe;this.y=this.f;switch(this.position){case g.Bb:this.x=(a-this.width>>1)+this.Oe;break;case g.ib:this.x=a+this.Oe;break;case g.dt:this.y=(e-this.height>>1)+this.f;this.x=a+this.Oe;break;case g.Yd:this.x=a+this.Oe;
this.y=e+this.f;break;case g.qr:this.x=(a-this.width>>1)+this.Oe;this.y=e+this.f;break;case g.Cg:this.y=e+this.f;break;case g.tv:this.y=(e-this.height>>1)+this.f;break;case g.ey:this.x=(a-this.width>>1)+this.Oe,this.y=(e-this.height>>1)+this.f}};a.prototype.qs=function(a,e){var g=this.io;this.um[g]=[a,e];this.io=g+1};a.prototype.fp=function(a){var e=[],g;var n=a.length;for(g=0;g<n;g+=1)a[g].qs(this,!0);n=e.length;for(g=0;g<n;g+=1)e[g].qs(this,!1)};a.prototype.ly=function(a,e){var g=!1;this.enabled&&
a>=this.x&&a<this.x+this.width&&e>=this.y&&e<this.y+this.height&&(g=!0);return g};f.prototype.em=function(a,e,g,f,b,d){var n;this.Ad=a;this.Kc=e;this.gf=g;this.kf=b;this.kg=d;for(n=0;n<this.md.length;n+=1)this.md[n].em(a,e,g,f,b,d)};f.prototype.m=function(a,e){var n=!1,p=a.io;a.type===g.list&&a.upper===g.La?n=a.current[0]:n=a.current===a.upper;a.Ox&&(n=!n);if(n&&e)for(e=0;e<p;e+=1)n=n&&this.m(a.um[e][0],a.um[e][1]);return n};f.prototype.av=function(a){var e,g=a.io;var n=!0;for(e=0;e<g;e+=1)n=n&&this.m(a.um[e][0],
a.um[e][1]);a.enabled=n};f.prototype.Dd=function(){var a;for(a=0;a<this.mb;a+=1){var e=this.md[a];e.enabled=!0;switch(e.type){case g.toggle:e.Gc&&(e.current=e.Gc(e.current===e.upper,!1,this.caller)?e.upper:e.lower);break;case g.sc:e.Gc&&(e.current=e.Gc(e.current,!1,this.caller));break;case g.list:e.Gc&&(e.current=e.Gc(e.current,!1,this.caller))}this.av(e)}};f.prototype.rb=function(e,p,f,b,d,c,y,m,l){this.md[this.mb]=new a(this.mb,e,this.caller,p,f,b,d,c,y,l,m,g.list,this.i,this.border,!0,"","",-1,
[],this);this.mb+=1;return this.md[this.mb-1]};f.prototype.Vg=function(e,p,f,b,d,c,y,m,l,q,F,z){this.md[this.mb]=new a(this.mb,e,this.caller,p,f,b,d,c,y,m,l,g.sc,this.i,this.border,!0,q,F,z,null,this);this.mb+=1;return this.md[this.mb-1]};f.prototype.wb=function(e,p,f,b,d,c){this.md[this.mb]=new a(this.mb,null,null,e,p,f,b,d,0,0,0,g.label,this.i,this.border,!0,c,"",-1,null,this);this.mb+=1;return this.md[this.mb-1]};f.prototype.zd=function(e,p,f,b,d,c){this.md[this.mb]=new a(this.mb,e,this.caller,
p,f,b,d,40,0,0,0,g.button,this.i,this.border,!0,c,"",-1,null,this);this.mb+=1;return this.md[this.mb-1]};f.prototype.ew=function(){this.md[this.mb]=new a(this.mb,null,null,Menu.Cg,0,-40,100,40,0,100,0,g.pe,this.i,this.border,!1,"","",0,null,this);this.mb+=1;return this.md[this.mb-1]};f.prototype.f=function(a,e,f){var n;a+=String();if(""!==a){this.context.save();this.context.translate(e.x+e.width/2,e.y+e.height/2);this.context.font=e.font;e.om===g.vertical&&this.context.rotate(.5*Math.PI);var p=this.context.measureText(a).width;
var b=e.om===g.vertical?e.height:e.width;if(p>=b-6){if(n=a.length){do{--n;var H=a.substr(0,n)+"...";p=this.context.measureText(H).width}while(1<n&&p>=b-6)}a=H}switch(e.textAlign){case g.left:var m=e.width/2-2;break;case g.Is:m=p/2;break;case g.right:m=p/2-(e.width-p)/2+4}this.context.fillStyle=e.Kc;f&&this.context.fillRect(2-m,2,p,2);this.context.fillText(a,2-m+.5,2.5);this.context.fillStyle=e.locked||this.locked?e.kf:e.Ad;this.context.fillText(a,-m+.5,.5);f&&this.context.fillRect(-m,0,p,2);this.context.restore()}};
f.prototype.ga=function(a){this.context.globalAlpha=this.Pd;this.f(a.ob,a,!1)};f.prototype.X=function(a){this.context.globalAlpha=this.Pd;this.f(a.ob,a,!1)};f.prototype.ya=function(a){var e=(a.current-a.lower)/(a.upper-a.lower);this.context.globalAlpha=a.Fc;this.context.fillStyle=a.Ad;a.orientation===g.Rc?(e*=a.width-3,this.context.fillRect(a.x+(e+1|0),a.y,1,a.height)):(e*=a.height-3,this.context.fillRect(a.x,a.y+(e+1|0),a.width,1));e=a.ob;a.Ur&&(e=-1!==a.fixed?e+a.current.toFixed(a.fixed):e+a.current,
e+=a.Xq);""!==e&&(this.context.globalAlpha=a.Pd,this.f(e,a,!1))};f.prototype.Da=function(a,e){var n=(a.current[0]-a.lower)/(a.upper-a.lower);var p=this.G;a.orientation===g.Rc?(n*=a.width-3,n=n+1|0,e&&(this.context.fillStyle=a.gf,this.context.globalAlpha=a.fh,this.context.fillRect(a.x+n-p,a.y,p,a.height),this.context.fillRect(a.x+n+1,a.y,p,a.height)),a.locked||this.locked?(this.context.fillStyle=a.kf,this.context.globalAlpha=a.Xh):(this.context.fillStyle=a.Ad,this.context.globalAlpha=a.Pd),this.context.fillRect(a.x+
n,a.y,1,a.height)):(n*=a.height-3,n=n+1|0,e&&(this.context.fillStyle=a.gf,this.context.globalAlpha=a.fh,this.context.fillRect(a.x,a.y+n-p,a.width,p),this.context.fillRect(a.x,a.y+n+1,a.width,p)),a.locked||this.locked?(this.context.fillStyle=a.kf,this.context.globalAlpha=a.Xh):(this.context.fillStyle=a.Ad,this.context.globalAlpha=a.Pd),this.context.fillRect(a.x,a.y+n,a.width,1));e=a.ob;a.Ur&&(e=0<=a.fixed?e+a.current[1].toFixed(a.fixed):e+a.current[1]);e+=a.Xq;""!==e&&(this.context.globalAlpha=this.Pd,
this.f(e,a,!1))};f.prototype.Ga=function(a){this.context.globalAlpha=this.Pd;var e="-"===a.lower&&""===a.upper&&a.current===a.lower;var g=a.ob;a.Ur&&!e&&(g+=a.current);g+=a.Xq;this.f(g,a,e)};f.prototype.wa=function(a,e){var n=a.x;var p=a.y;var f=a.width;var b=a.height;var d=a.orientation;var m=a.current;var l=a.lower;var q=l.length;var c=a.orientation===g.Rc?f/q:b/q;this.context.globalAlpha=a.qj;this.context.fillStyle=a.ki;if(a.upper===g.qk){var z=a.current;0<=z&&z<q&&(a.orientation===g.Rc?this.context.fillRect(n+
z*c+1,p+1,c-2,b-2):this.context.fillRect(n+1,p+1+z*c,f-2,c-2))}else if(a.orientation===g.Rc)for(z=0;z<q;z+=1)m[z]&&this.context.fillRect(n+z*c+1,p+1,c-2,b-2);else for(z=0;z<q;z+=1)m[z]&&this.context.fillRect(n+1,p+1+z*c,f-2,c-2);e?(this.context.globalAlpha=a.fh,this.context.fillStyle=a.gf,a.orientation===g.Rc?(z=(this.Ke-n)/f*q|0,0<=z&&z<q&&this.context.fillRect(n+z*c+.5,p+.5,c-1,b-1)):(z=(this.rg-p)/b*q|0,0<=z&&z<q&&this.context.fillRect(n+.5,p+.5+z*c,f-1,c-1)),a.Uh=z):a.Uh=-1;this.context.globalAlpha=
this.Pd;if(a.orientation===g.Rc)for(z=0;z<q;z+=1)a.icon[z]&&this.ia.Ui(a.icon[z],a.x+c*z,a.y);else for(z=0;z<q;z+=1)a.icon[z]&&this.ia.Ui(a.icon[z],a.x,a.y+c*z);this.context.globalAlpha=a.Pd;this.context.fillStyle=a.Ad;if(d===g.Rc)for(z=0;z<q;z+=1)n=l[z],""!==n&&(this.context.save(),this.context.translate((.5+(z-q/2))*c,0),this.f(n,a,!1),this.context.restore());else for(z=0;z<q;z+=1)n=l[z],""!==n&&(this.context.save(),this.context.translate(0,(.5+(z-q/2))*c),this.f(n,a,!1),this.context.restore())};
f.prototype.ea=function(a,e,f,b){!(f===b||-1===b&&e)||a.type!==g.button&&a.type!==g.toggle?(this.context.fillStyle=a.Kc,this.context.globalAlpha=a.Fc):(this.context.fillStyle=a.gf,this.context.globalAlpha=a.fh);switch(a.type){case g.pe:var n=(a.current-a.lower)/(a.upper-a.lower);this.context.fillStyle=a.ki;this.context.globalAlpha=a.qj;a.orientation===g.Rc?(n*=a.width-3,n=n+1|0,this.context.fillRect(a.x,a.y,n,a.height),this.context.fillStyle=a.Kc,this.context.globalAlpha=a.Fc,this.context.fillRect(a.x+
n,a.y,a.width-n,a.height)):(n*=a.height-3,n=n+1|0,this.context.fillRect(a.x,a.y,a.width,n),this.context.fillStyle=a.Kc,this.context.fillRect(a.x,a.y+n,a.width,a.height-n));break;case g.sc:n=(a.current[0]-a.lower)/(a.upper-a.lower);if(f===b||-1===b&&e){var p=this.G;if(a.orientation===g.Rc){n*=a.width-3;n=n+1|0;var H=n-p;0<H&&this.context.fillRect(a.x,a.y,H,a.height);H=1+n+p;H<a.width&&this.context.fillRect(a.x+H,a.y,a.width-H,a.height)}else n*=a.height-3,n=n+1|0,H=n-p,0<H&&this.context.fillRect(a.x,
a.y,a.width,H),H=1+n+p,H<a.height&&this.context.fillRect(a.x,a.y+H,a.width,a.height-H)}else this.context.fillRect(a.x,a.y,a.width,a.height);break;case g.list:p=a.lower.length;if(a.orientation===g.Rc)for(H=a.width/p,n=0;n<p;n+=1)this.context.fillStyle=a.Uk[n],this.context.fillRect(a.x+n*H+1,a.y+1,H-2,a.height-2);else for(H=a.height/p,n=0;n<p;n+=1)this.context.fillStyle=a.Uk[n],this.context.fillRect(a.x+1,a.y+1+n*H,a.width-2,H-2);break;default:this.context.fillRect(a.x,a.y,a.width,a.height)}a.type!==
g.list&&a.icon&&(this.context.globalAlpha=a.Pd,this.ia.Ui(a.icon,a.x,a.y));if(0<a.border)switch(a.locked||this.locked?(this.context.strokeStyle=a.kf,this.context.globalAlpha=a.Xh):(this.context.strokeStyle=a.kg,this.context.globalAlpha=a.Ji),this.context.lineWidth=a.border,a.type){case g.label:break;case g.list:p=a.lower.length;if(a.orientation===g.Rc)for(H=a.width/p,n=0;n<p;n+=1)this.context.strokeRect(a.x+.5+n*H,a.y+.5,H-1,a.height-1);else for(H=a.height/p,n=0;n<p;n+=1)this.context.strokeRect(a.x+
.5,a.y+.5+n*H,a.width-1,H-1);break;default:this.context.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case g.button:this.X(a);break;case g.label:this.ga(a);break;case g.sc:this.Da(a,f===b||-1===b&&e);break;case g.toggle:this.Ga(a);break;case g.pe:this.ya(a);break;case g.list:this.wa(a,f===b||-1===b&&e)}if(f===b)switch(a.type){case g.sc:n=this.rg,a.orientation===g.vertical?(n<a.y?n=a.y:n>=a.y+a.height&&(n=a.y+a.height-1),a.current[0]=(n-a.y)/(a.height-1)*(a.upper-a.lower)+a.lower):
(n=this.Ke,n<a.x?n=a.x:n>=a.x+a.width&&(n=a.x+a.width-1),a.current[0]=(n-a.x)/(a.width-1)*(a.upper-a.lower)+a.lower),a.Gc&&(a.current=a.Gc(a.current,!0,a.caller))}if(e&&!this.Vb&&a.Kn)switch(a.type){case g.button:a.Gc&&a.Gc(a.caller);break;case g.toggle:a.current=a.current===a.upper?a.lower:a.upper;a.Gc&&a.Gc(a.current===a.upper,!0,a.caller);break;case g.list:p=a.lower.length,H=a.orientation===g.Rc?(this.Ke-a.x)/a.width*p|0:(this.rg-a.y)/a.height*p|0,a.upper===g.qk?a.Gc?a.current=a.Gc(H,!0,a.caller):
a.current=H:(a.current[H]=!a.current[H],a.Gc&&a.Gc(a.current,!0,a.caller))}e&&f===b?(a.Kn=this.Vb,a.Ft=this.Ke,a.Gt=this.rg):(a.Kn=!1,a.Ft=-1,a.Gt=-1)};f.prototype.Op=function(){var a,e,f=this.context.canvas.width,b=this.context.canvas.height;var d=!1;this.bi=-1;if(this.l)this.Vb?this.Eh=-2:(-2===this.Eh&&this.es&&this.es(this.Ke,this.rg,this.Vb,this.caller),this.Vb||(this.Eh=-1));else{var c=this.Eh;this.context.textAlign="left";for(e=0;e<this.mb;e+=1){var y=this.md[e];y.l||(y.uw(f,b),(a=y.ly(this.Ke,
this.rg)&&!(y.locked||this.locked))&&!this.Vb&&(this.bi=e),(this.Vb&&-1===c&&a||a&&this.Ki)&&y.type!==g.label&&(c=e,this.Ki&&(y.Kn=e)),e===c&&(y.locked||this.locked)&&(c=-1,a=!1),y.enabled&&this.ea(y,a,e,c))}0<=c&&!this.Vb&&(d=!0);this.Vb&&-1===c&&(c=-2);-2===c&&this.Kp&&!this.locked&&this.Kp(this.Ke,this.rg,this.Vb,this.caller);this.Vb||(c=-1);this.Eh=c;this.context.globalAlpha=1}return d};e.prototype.em=function(a,e,g,f,b,d){this.Ad=a;this.Kc=e;this.gf=g;this.kf=b;this.kg=d;this.Hc&&this.Hc.em(a,
e,g,f,b,d)};e.prototype.Aw=function(){var a=this.lf.canvas,e=a.offsetParent;this.offsetLeft=a.offsetLeft;for(this.offsetTop=a.offsetTop;e;)this.offsetLeft+=e.offsetLeft,this.offsetTop+=e.offsetTop,e=e.offsetParent;e=a.parentNode;if("fixed"===e.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==e.tagName.toLowerCase();)this.offsetLeft-=e.scrollLeft,this.offsetTop-=
e.scrollTop,e=e.parentNode};e.prototype.Ow=function(a,e,g){a=new f(a,e,g,this.od,this.Oj);a.Ad=this.Ad;a.Pd=this.Pd;a.Kc=this.Kc;a.Fc=this.Fc;a.gf=this.gf;a.fh=this.fh;a.ki=this.ki;a.qj=this.qj;a.kf=this.kf;a.Xh=this.Xh;a.kg=this.kg;a.Ji=this.Ji;a.border=this.border;return a};e.prototype.rx=function(){var a=this.Hc,e=this.od,f="";var b=1;if(-1!==a.Eh||-1===a.Eh&&-1===a.bi)this.f=a.Eh;if(-1===a.bi||-1!==this.f&&this.f===a.bi){if(-1!==a.bi){var d=a.md[a.bi];d.id===this.m&&d.Uh!==this.i&&(this.f=-1)}50>
this.hg&&(this.hg+=1)}else if(d=a.md[a.bi],d.id!==this.m||d.id===this.m&&d.Uh!==this.i?(this.m=d.id,this.i=d.Uh,50>this.hg&&(this.hg+=1)):0<=this.hg&&--this.hg,a=-1!==this.i?d.D[this.i]:d.D,""!==a&&-1===this.hg){this.f=-1;var c=d.x;var y=d.y;var m=d.width;var l=d.height;-1!==d.Uh&&(d.orientation===g.Rc?(c+=m/d.lower.length*d.Uh,m/=d.lower.length):(y+=l/d.lower.length*d.Uh,l/=d.lower.length));e.font="18px Arial";var q=e.measureText(a).width;var F=Math.round(c+m/2);y=Math.round(y+l/2);F-=q/2;5>F?F=
5:F+q+4>e.canvas.width&&(F=e.canvas.width-q-4-1);l>m?(-1!==this.X&&m<this.X&&(m=this.X),F>e.canvas.width/2?F=c-q-m/2:F=c+d.width+m/2):(-1!==this.ea&&l<this.ea&&(l=this.ea),y>e.canvas.height/2?y-=l:y+=l);if(q>e.canvas.width){f=(q>>1)+22;f>e.canvas.width&&(f=e.canvas.width);for(q=1;e.measureText(a.substr(0,q)).width<f;)q+=1;for(b=q-1;b>q-5;)f=a[b]," "===f||","===f||"/"===f?(q=b+2,b=q-5):--b;f=a.substr(q-1);a=a.substr(0,q-1);q=e.measureText(a).width;b=e.measureText(f).width;b>q&&(q=b);b=2}e.globalAlpha=
this.Fc;e.fillStyle=this.Kc;e.fillRect((F-4|0)-.5,(y-9-4|0)-.5,q+2+8,18*b+8);e.globalAlpha=this.Ji;e.strokeStyle=this.kg;e.strokeRect((F-4|0)-.5,(y-9-4|0)-.5,q+2+8,18*b+8);e.globalAlpha=this.Fc;e.strokeStyle=this.Kc;e.beginPath();e.moveTo((F-4|0)+.5,(y-9-4|0)+.5+18*b+8);e.lineTo((F-4|0)+.5+q+2+8,(y-9-4|0)+.5+18*b+8);e.lineTo((F-4|0)+.5+q+2+8,(y-9-4|0)+.5);e.stroke();e.globalAlpha=1;e.fillStyle=this.Kc;e.fillText(a,F+2,y+2);""!==f&&e.fillText(f,F+2,y+18+2);e.fillStyle=this.Ad;e.fillText(a,F,y);""!==
f&&e.fillText(f,F,y+18)}};e.prototype.Na=function(a){var e,g=a.od,n=g.canvas.width-86,f=90;a.ta&&(f=0);a.xm=!1;a.Tr=!0;a.El&&(a.Hc=a.El,a.El=null,g.font=a.Oj,a.Hc.Dd(),a.Hc.Dm&&a.Hc.Dm(a.Hc.caller));var b=performance.now();a.mq&&(a.Ln=b-1E3/60);a.Sk||a.notification.Ti()||a.wi||a.Sz!==a.hg&&-1!==a.hg?(a.cm(a),a.wi&&--a.wi,a.mq=!1):a.mq=!0;var d=b-a.Ln;a.Ln=b;a.Hc.Gc&&a.Hc.Gc(d,a.Hc.caller);b=performance.now()-b;var m=performance.now();a.Op();a.Ki=!1;a.rx();a.notification.update();m=performance.now()-
m;a.xq[a.sm]=m;for(e=m=0;e<a.jj;e+=1)m+=a.xq[e];m/=a.jj;a.zq[a.sm]=b;for(e=b=0;e<a.jj;e+=1)b+=a.zq[e];b/=a.jj;a.wq[a.sm]=d;for(e=d=0;e<a.jj;e+=1)d+=a.wq[e];d/=a.jj;a.sm=(a.sm+1)%a.jj;d=1E3/d;if(a.mi){g.font="12px Arial";g.globalAlpha=.7;g.fillStyle="black";a.li?g.fillRect(n,f,88,83):g.fillRect(n,f,88,20);e=(b+m)/16.6666;1<e&&(e=1);g.fillStyle=.5>e?"rgb("+(510*e|0)+",255,0)":"rgb(255,"+(255*(1-2*(e-.5))|0)+",0)";g.fillRect(n,f,88*e|0,20);m=m.toFixed(1);b=b.toFixed(1);4>d.toFixed(1).length?d=d.toFixed(1):
d|=0;g.globalAlpha=1;g.fillStyle="black";var l=d+"fps";var q=g.measureText(l).width;g.fillText(l,n+36-q,f+12);l=(100*e|0)+"%";q=g.measureText(l).width;g.fillText(l,n+84-q,f+12);a.li&&(g.fillText("menu",n+6,f+28),g.fillText("work",n+6,f+44),g.fillText("update",n+6,f+60),g.fillText("focus",n+6,f+76),l=m+"ms",q=g.measureText(l).width,g.fillText(l,n+84-q,f+28),l=b+"ms",q=g.measureText(l).width,g.fillText(l,n+84-q,f+44),l=a.Sk?"on":"off",q=g.measureText(l).width,g.fillText(l,n+84-q,f+60),l=a.hasFocus?
"on":"off",q=g.measureText(l).width,g.fillText(l,n+84-q,f+76));g.fillStyle="white";l=d+"fps";q=g.measureText(l).width;g.fillText(l,n+34-q,f+10);l=(100*e|0)+"%";q=g.measureText(l).width;g.fillText(l,n+82-q,f+10);a.li&&(g.fillText("menu",n+4,f+26),g.fillText("work",n+4,f+42),g.fillText("update",n+4,f+58),g.fillText("focus",n+4,f+74),l=m+"ms",q=g.measureText(l).width,g.fillText(l,n+82-q,f+26),l=b+"ms",q=g.measureText(l).width,g.fillText(l,n+82-q,f+42),l=a.Sk?"on":"off",q=g.measureText(l).width,g.fillText(l,
n+82-q,f+58),l=a.hasFocus?"on":"off",q=g.measureText(l).width,g.fillText(l,n+82-q,f+74));g.globalAlpha=1}a.lf.drawImage(g.canvas,0,0);a.Yq=!0};e.prototype.Zv=function(a){a.ia=this.ia;this.Hc?this.El=a:(this.El=null,this.Hc=a,this.od.font=this.Oj,this.Hc.Dd(),this.Hc.Dm&&this.Hc.Dm(this.Hc.caller),this.cm(this))};e.prototype.Op=function(){var a;if(this.Hc){var e=this.Hc;this.od.font=this.Oj;e.Ke=this.lh;e.rg=this.mh;e.Vb=this.Vb;e.Ki=this.Ki;if(e.Op()||this.Kg){for(a=0;a<e.mb;a+=1){var g=e.md[a];e.av(g)}this.Kg=
!1}}};e.prototype.cm=function(a){a.xm||(requestAnimationFrame?requestAnimationFrame(a.Hs):setTimeout(a.Hs,16),a.xm=!0)};e.prototype.G=function(a,e){var g="";if("touchend"===e.type){g="mouseup";var n=document.createEvent("MouseEvent");n.initMouseEvent(g,!0,!0,window,1,a.Bl,a.Cl,a.zl,a.Al,!1,!1,!1,!1,0,null);e.target.dispatchEvent(n);e.preventDefault()}else{if(1===e.touches.length)switch(e.type){case "touchstart":g="mousedown";break;case "touchmove":g="mousemove"}if(""!==g){var f=e.changedTouches[0];
n=document.createEvent("MouseEvent");n.initMouseEvent(g,!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(n);e.preventDefault();a.Bl=f.screenX;a.Cl=f.screenY;a.zl=f.clientX;a.Al=f.clientY}}};e.prototype.ga=function(a,e){a.lj||(a.Cj(a,e),a.Vb=!0,a.Tr=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.Ga=function(a,e){a.Et=performance.now();a.lj||(a.Cj(a,e),a.Vb=!1,a.Tr||(a.Ki=!0),a.hasFocus||(a.lf.canvas.focus(),a.hasFocus=!0,
a.notification.clear(!0,!1),a.gt&&a.gt(a.caller)),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.Js=function(a){a.hasFocus||a.up&&""!==a.notification.xg||(a.Ab?a.ei||a.notification.T("Copy",3600,!0):a.ta?a.Jg?a.notification.T("Launch",3600,!0):a.notification.T("Expand",3600,!0):a.notification.T("Click to control",3600,!0),a.notification.jp=!0,a.up=!0)};e.prototype.wa=function(a,e){a.lj||(a.Js(a),a.Cj(a,e),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.Da=
function(a,e){a.lj||(a.Js(a),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.ya=function(a,e){var g=performance.now()-a.Et;a.lj||(1<g&&(a.hasFocus||a.notification.clear(!0,!1),a.lf.canvas.blur(),a.hasFocus=!1,a.Vb=!1,a.lh=-1,a.mh=-1,a.up=!1,a.xm||(a.cm(a),2>a.wi&&(a.wi=2))),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.Cj=function(a,e){if(e.pageX||e.pageY){var g=e.pageX;e=e.pageY}else g=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
e=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Aw();g-=a.offsetLeft;e-=a.offsetTop;a.lh=g-1|0;a.mh=e-1|0;a.xm||(a.cm(a),2>a.wi&&(a.wi=2))};e.prototype.Bg=function(a){!a&&!this.notification.Ti()||this.Sk||this.cm(this);this.Sk=a};window.IconManager=b;window.Menu=g;window.MenuManager=e})();(function(){function c(a,f,e,g,n,b){this.tk=a;this.uk=f;this.width=e;this.height=g;this.Lz=n;this.tx=b}function d(a){var f=a.lastIndexOf(".");-1!==f&&(a=a.substr(0,f));this.name=a;this.df=this.Cd=this.Gb=-1;this.Vj=this.rl=0;this.Bn=this.Yp=!1;this.Mm=this.Md=this.ba="";this.S=this.xl=this.Ob=!1;this.we=-1;this.kd=this.Fd=!1;this.Db=-1;this.jh=1;this.pf=this.ss=this.ts=this.us=this.vs=this.Jd=this.Bc=this.fd=this.vc=-1;this.ra=!1;this.hc=-1;this.Qk=this.Ok=this.qd=this.Lc=null;this.g=this.me=-1;this.height=
this.width=0;this.le=this.Sc=null;this.$f=this.ae=this.lb=this.title="";this.ne=2;this.Ol=0;this.cj=this.Lg=!1;this.lz=this.fu=""}var b={Lm:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tt:"0123456789abcdef",ak:86,Pn:22,Qn:6,Fl:8,ux:"XRLE",qu:"Pos",ht:"Gen",o:"",tw:":",Fs:"ptkcs",Po:"012345678ceaiknjqrytwz-",pg:"0123456789",iv:"0123456omp-",qA:"0123456",sv:"01234",Fu:["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"],Eu:"omp",jz:[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],
[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]],Oo:" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" "),No:"  omp omp omp  ".split(" "),Zx:[0,2,6,10,13,10,6,2,0],qy:[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]],kz:[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,
105,78,108]],di:13,maxWidth:16384,maxHeight:16384,by:256,sj:new Uint32Array(256),kk:new Uint8Array(512),dr:new Uint8Array(512),Qz:new Uint16Array(512),Ba:!1,Tj:!1,lq:"history",hq:"h",ds:"v",Lg:!1,Vp:0,Ph:!1,po:0,qo:0,eg:!1,index:0,Cq:1,Bq:500,jy:0,cy:255,gy:0,$x:1,Jl:0,cs:1,Ks:2,bo:1,Vn:500,Yt:0,St:255,Wn:0,Rn:0,Je:0,Te:1,tp:2,Eg:-1,Dg:-1,Pk:"|",Wg:!1,Gu:"@RULE ",nz:"@TREE",mz:"@TABLE",CA:"@COLORS",DA:"@ICONS"};d.prototype.f=function(a){this.ba=a.ba;this.Md=a.Md;this.S=a.S;this.we=a.we;this.Fd=a.Fd;
this.kd=a.kd;this.Db=a.Db;this.pf=a.pf;this.jh=a.jh;this.vc=a.vc;this.fd=a.fd;this.Bc=a.Bc;this.Jd=a.Jd;this.ra=a.ra;this.hc=a.hc;this.me=a.me;this.g=a.g;this.ne=a.ne;a.qd&&(this.qd=new Uint8Array(a.qd.length),this.qd.set(a.qd));a.Lc&&(this.Lc=new Uint8Array(a.Lc.length),this.Lc.set(a.Lc))};d.prototype.Dw=function(a,f){a.qd&&(this.Qk=f.V(Uint8,a.qd.length,"HROT.altSurvivals"),this.Qk.set(a.qd));a.Lc&&(this.Ok=f.V(Uint8,a.Lc.length,"HROT.altBirths"),this.Ok.set(a.Lc));this.vs=a.vc;this.us=a.fd;this.ts=
a.Bc;this.ss=a.Jd};d.prototype.fz=function(){this.Md=this.ba="";this.S=!1;this.we=-1;this.kd=this.Fd=!1;this.pf=this.Db=-1;this.ra=!1;this.g=this.me=this.hc=-1;this.ne=2};d.prototype.Px=function(a){return this.kd!==a.kd||this.ra!==a.ra?"Alternate is different rule family":(-1===this.g?this.ne:this.g)!==(-1===a.g?a.ne:a.g)?"Alternate has different number of states":this.S!==a.S||this.Fd!==a.Fd||this.we!==a.we||this.pf!==a.pf||this.me!==a.me?"Alternate has different neighborhood":this.Db!==a.Db||this.hc!==
a.hc?"Alternate has different range":""};b.Yw=function(a,f,e){var g,n,b=0,d=0,c=0,r=!1;var h=f.length;for(g=n=0;g<h;){var y=f[g];g+=1;switch(n){case 0:switch(y){case "!":n=1;a.lb+="#C ";var m=!0;break;case "O":case "o":case "*":case ".":n=2;d=b=c=0;var l=--g}break;case 1:"\r"!==y&&"\n"!==y&&(" "===y?m||(a.title+=y,a.lb+=y):(m=!1,a.title+=y,a.lb+=y));"\n"===y&&(n=0,a.lb+=y,a.title+=" ");break;case 2:switch(y){case "O":case "o":case "*":case ".":d+=1;break;case "\n":c+=1;d>b&&(b=d);d=0;break;case " ":case "\t":break;
default:g=h,r=!0}}}if(!r){2===n&&"\n"!==y&&(c+=1,d>b&&(b=d));a.height=c;a.width=b;a.$f="Cells";a.Sc=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,e,"Pattern.lifeMap");g=l;for(n=b=0;g<h;)switch(y=f[g],g+=1,y){case "\n":b+=1;n=0;break;case "O":case "o":case "*":a.Sc[b][n>>4]|=1<<(~n&15);n+=1;break;case ".":n+=1}this.Ba=!0;this.ml(a,"",e)}};b.Ww=function(a,f,e){var g,n;var b=f.length;var d=[];var c=0;var r=!1;var h=n=0;var y=!1;for(g=10;g<b;){var m=f[g];g+=1;switch(m){case "\n":y&&(y=!1,2===l&&r&&(h=-h,
r=!1),d[c]=[n,h],c+=1);var l=h=n=0;break;case "-":r=!0;0===l?l=1:1===l&&(l=2);break;case " ":1===l&&(r&&(n=-n,r=!1),l=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===l&&(l=1),1===l?n=10*n+parseInt(m,10):(h=10*h+parseInt(m,10),y=!0)}}y&&(2===l&&r&&(h=-h),d[c]=[n,h],c+=1);if(c){b=f=d[0][0];l=m=d[0][1];for(g=1;g<c;g+=1)n=d[g][0],h=d[g][1],n<f&&(f=n),n>b&&(b=n),h<m&&(m=h),h>l&&(l=h);a.height=l-m+1;a.width=b-f+1;a.Sc=Array.Z(Uint16,a.height,(a.width-
1>>4)+1,0,e,"Pattern.lifeMap");a.$f="Life 1.06";this.ml(a,"",e);for(g=0;g<c;g+=1)n=d[g][0]-f,h=d[g][1]-m,a.Sc[h][n>>4]|=1<<(~n&15)}};b.Us=function(a,f,e,g){var n,b,d=[],x=0,r=f.length;var h="";var y=!1;var m=0,l=0,q=!1,F=!1,z=0,C=0;e=e?10:0;for(this.Ba=!0;e<r&&!F;){var t=f[e];e+=1;switch(m){case 0:switch(t){case "#":m=2;break;case "*":case ".":m=3;var I=b=n=0;var k=--e}break;case 2:switch(t){case "C":case "D":m=1;a.lb+="#C ";var u=!0;break;case "N":m=0;break;case "R":m=4;break;case "P":m=5;l=0;q=
!1;C=z=0;break;case "\n":m=0;break;default:m=1,u=!0}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?u||(a.title+=t,a.lb+=t):(u=!1,a.title+=t,a.lb+=t));"\n"===t&&(m=0,a.title+=" ",a.lb+=t);break;case 4:"\n"===t?m=0:(h+=t,y=!0);break;case 5:switch(t){case "\n":m=0;2===l&&q&&(C=-C,q=!1);break;case "-":q=!0;0===l?l=1:1===l&&(l=2);break;case " ":1===l&&(q&&(z=-z,q=!1),l=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===l&&(l=1),1===l?z=10*z+parseInt(t,10):
C=10*C+parseInt(t,10)}break;case 3:switch(t){case "\n":n>b&&(b=n);n=0;I+=1;break;case "#":d[x]=new c(z,C,b,I,k,e-1);x+=1;m=2;break;case "*":case ".":n+=1;break;case " ":case "\t":break;default:F=!0}}}"\n"!==t&&(I+=1);3===m&&(d[x]=new c(z,C,b,I,k,e-1),x+=1);if(x&&!F){z=d[0].tk;C=d[0].uk;t=z+d[0].width-1;n=C+d[0].height-1;for(e=1;e<x;e+=1)d[e].tk<z&&(z=d[e].tk),d[e].uk<C&&(C=d[e].uk),d[e].tk+d[e].width-1>t&&(t=d[e].tk+d[e].width-1),d[e].uk+d[e].height-1>n&&(n=d[e].uk+d[e].height-1);a.height=n-C+1;a.width=
t-z+1;a.Sc=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,g,"Pattern.lifeMap");a.$f="Life 1.05";a.le=Array.Z(Uint8,a.height,a.width,0,g,"Pattern.multiStateMap");y?(this.Ys(a,h,!1,g),this.Ba?0<=a.g||a.Ob||(a.le=null):(a.g=-1,a.Ob=!1)):this.ml(a,"",g);for(e=0;e<x;e+=1)for(g=d[e].Lz,h=d[e].tx,n=d[e].tk-z,t=d[e].uk-C,y=n,b=t;g<=h;)switch(t=f[g],g+=1,t){case "\n":b+=1;y=n;break;case "*":a.Sc[b][y>>4]|=1<<(~y&15);a.le&&(a.le[b][y]=1);y+=1;break;default:y+=1}}};b.gm=function(a,f,e,g){var n=0,b,d,c;e&&(n=16);
for(d=0;512>d;d+=32)for(c=0;16>c;c+=1){e=0;for(b=d+c&g;0<b;)e+=b&1,b>>=1;f===e&&(a[d+c+n]=1)}};b.yx=function(a){return(a&7)<<6|(a&448)>>6|a&56};b.Du=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};b.Dz=function(a,f,e){var g;for(g=0;4>g;g+=1)a[f]=e,f=this.Du(f);f=this.yx(f);for(g=0;4>g;g+=1)a[f]=e,f=this.Du(f)};b.wz=function(a,f,e,g,n){var b=e?16:0;if(2>f||4<f)this.gm(a,f,e,254);else if(e=this.Eu.indexOf(g),-1!==e)for(f=this.jz[f-2][e],e=0;e<f.length;e+=
1)g=f[e]+b,a[g]=n,a[g+256]=n,a[g+1]=n,a[g+257]=n};b.Cz=function(a,f,e,g,n){var b=0,d=f-1;0===f||8===f?this.gm(a,f,e,511):(3<d&&(d=6-d,b=495),f=this.Fu[d].indexOf(g),-1!==f&&(b^=this.kz[d][f],e&&(b|=16),this.Dz(a,b,n)))};b.Mu=function(a,f,e,g){var b=f.length,p=0,d="",c;for(c=0;c<b;c+=1){var r=f.charCodeAt(c)-48;p|=1<<r;this.gm(a,r,e,g)}for(c=0;9>c;c+=1)0!==(p&1<<c)&&(d+=String(c));return d};b.Bs=function(a){for(var f=0;a;)f+=1,a&=a-1;return f};b.aw=function(a,f){var e="",g=0;if(f[a]){f=f[a];0!==(f&
1<<this.di)&&(g=1,f&=~(1<<this.di));var b=this.Bs(f);var p=2>a||4<a?0:3;b+g>p>>1&&(f=~f&(1<<p)-1)&&(g=1-g);if(!g||f)for(e+=String(a),g&&(e+="-"),a=0;a<p;a+=1)0!==(f&1<<a)&&(e+=this.Eu[a])}else e+=String(a);return e};b.bw=function(a,f){var e="",g=0;if(f[a]){f=f[a];0!==(f&1<<this.di)&&(g=1,f&=~(1<<this.di));var b=this.Bs(f);var p=this.Zx[a];(g||7!==b||13!==p)&&b+g>p>>1&&(f=~f&(1<<p)-1)&&(g=1-g);if(!g||f)for(e+=String(a),g&&(e+="-"),b=0;b<p;b+=1)g=this.qy[a][b],0!==(f&1<<g)&&(e+=this.Fu[3][g])}else e+=
String(a);return e};b.Iu=function(a,f,e){var g=f.length,b=0,p=[],d="",c;f+=" ";for(c=0;7>c;c+=1)p[c]=0;for(c=0;c<g;c+=1){var r=f.charCodeAt(c)-48;if(0<=r&&8>=r){var h=0!==(b&1<<r);b|=1<<r;var y=f[c+1];var m=this.No[r].indexOf(y);-1!==m||h||this.gm(a,r,e,254);var l=1;"-"===y&&(l=0,c+=1,y=f[c+1],m=this.No[r].indexOf(y));-1!==m||"0"<=y&&"9">=y||" "===y||(this.o=(e?"S":"B")+r+y+" not valid",c=g);h&&(h=0,0===(p[r]&1<<this.di)&&(h=1),h!==l&&(this.o=(e?"S":"B")+r+" can not have minus and non-minus",m=-1,
c=g));for(;-1!==m;)0!==(p[r]&1<<m)?(this.o="duplicate "+r+this.No[r][m],m=-1,c=g):(this.wz(a,r,e,y,l),p[r]|=1<<m,l||(p[r]|=1<<this.di),c+=1,y=f[c+1],m=this.No[r].indexOf(y))}else this.o="missing digit prefix"}for(c=0;7>c;c+=1)0!==(b&1<<c)&&(d+=this.aw(c,p));return d};b.Ku=function(a,f,e){var g=f.length,b=0,p=[],d="",c;f+=" ";for(c=0;9>c;c+=1)p[c]=0;for(c=0;c<g;c+=1){var r=f.charCodeAt(c)-48;if(0<=r&&8>=r){var h=0!==(b&1<<r);b|=1<<r;var y=f[c+1];var m=this.Oo[r].indexOf(y);-1!==m||h||this.gm(a,r,e,
511);var l=1;"-"===y&&(l=0,c+=1,y=f[c+1],m=this.Oo[r].indexOf(y));-1!==m||"0"<=y&&"9">=y||" "===y||(this.o=(e?"S":"B")+r+y+" not valid",c=g);h&&(h=0,0===(p[r]&1<<this.di)&&(h=1),h!==l&&(this.o=(e?"S":"B")+r+" can not have minus and non-minus",m=-1,c=g));for(;-1!==m;)0!==(p[r]&1<<m)?(this.o="duplicate "+r+this.Oo[r][m],m=-1,c=g):(this.Cz(a,r,e,y,l),p[r]|=1<<m,l||(p[r]|=1<<this.di),c+=1,y=f[c+1],m=this.Oo[r].indexOf(y))}else this.o="missing digit prefix"}for(c=0;9>c;c+=1)0!==(b&1<<c)&&(d+=this.bw(c,
p));return d};b.Uw=function(a,f){var e;for(e=0;512>e;e+=1)a[e]=0!==(f&1<<(e&7))?1:0!==(e&16)?1:0};b.Sw=function(a,f,e,g,n,p,d){var c,H=0,h=this.Qz;var y=(1<<this.Fl+1)/6|0;var m=new Uint8Array(512);var l=511;g?l=254:n&&(l=186);for(c=0;512>c;c+=1)m[c]=0,d[c]=0,h[c]=g?c:(c&448)>>6|c&56|(c&7)<<6;if(""!==e){f="MAP";for(c=0;c<y;c+=1)f+=e[c],a=b.Lm.indexOf(e[c]),m[H]=a>>5,H+=1,m[H]=a>>4&1,H+=1,m[H]=a>>3&1,H+=1,m[H]=a>>2&1,H+=1,m[H]=a>>1&1,H+=1,m[H]=a&1,H+=1;a=b.Lm.indexOf(e[c]);m[H]=a>>5;m[H+1]=a>>4&1;
f+=b.Lm[a&48];for(c=0;512>c;c+=1){e=0;y=b.Fl;for(H=8;0<=H;--H)0!==(l&1<<H)&&(0!==(c&1<<H)&&(e|=1<<y),--y);d[h[c]]=m[e]}-1!==p&&(f+="/"+p)}else n?(c=this.Mu(d,a,!1,l),d=this.Mu(d,f,!0,l)):g?(c=this.Iu(d,a,!1),d=this.Iu(d,f,!0)):(c=this.Ku(d,a,!1),d=this.Ku(d,f,!0)),f=-1!==p?d+"/"+c+"/"+p:"B"+c+"/S"+d;return f};b.uA=function(a,f){var e,g="";for(e=0;e<=f;e+=1){var b=this.Po[e];-1!==a.indexOf(b)&&(g+=this.Po[f-e])}return g};b.sA=function(a){var f,e="";for(f=0;9>f;f+=1){var g=this.Po[f];-1===a.indexOf(g)&&
(e+=g)}return e};b.vu=function(a){var f=a,e=0;if(-1!==a.indexOf(" "))for(f="";e<a.length;)" "!==a[e]&&(f+=a[e]),e+=1;return f};b.lx=function(a,f){for(var e=!0,g=0,b,p=1;p<f.length&&e;)b=this.pg.indexOf(f[p]),-1!==b?g=10*g+b:(this.o="Illegal character in Wolfram rule",e=!1),p+=1;e&&(0>g||254<g?(this.o="Wolfram rule number must be 0-254",e=!1):0!==(g&1)?(this.o="Wolfram rule number must be even",e=!1):(this.Uw(this.kk,g),a.we=g,a.ba="W"+g));return e};b.cw=function(a,f){var e=null;""===f&&(a.S?a.ba+=
"H":a.Fd&&(a.ba+="V"),e=AliasManager.Cx(a.ba),a.Ob&&(a.ba+="History"));-1!==a.Gb&&(a.ba+=":"+b.Fs[a.Gb].toUpperCase(),a.ba+=a.Cd,a.rl&&(a.ba+="+"+a.rl),a.Yp&&(a.ba+="*"),a.df!==a.Cd||a.Vj||a.Bn)&&(a.ba+=","+a.df,a.Vj&&(a.ba+="+"+a.Vj),a.Bn&&(a.ba+="*"));null!==e&&(""===e&&(e=a.Ob?"Life":"Conway's Life"),a.Ob&&(e+="History"),a.Md=e)};b.eA=function(a,f){var e=b.ak,g=a.length;g>=e?this.Fl=8:(e=b.Pn,g>=e?(this.Fl=6,f.S=!0):(e=b.Qn,g>=e?(this.Fl=4,f.Fd=!0):e=-1));if(0<=e)for(f=0;f<e;f+=1)-1===b.Lm.indexOf(a[f])&&
(e=-1);return e};b.Oc=function(a,f,e,g,b){var n=0,d=f.length,c=a.substr(this.index,d),r;if(c!==f)","===f[0]&&(","===c[0]&&(c=c.substr(1)),f=f.substr(1)),this.o="LtL expected '"+f.toUpperCase()+"' got '"+c.toUpperCase()+"'",this.index=-1;else if(","===f[0]&&(f=f.substr(1)),this.index+=d,d=a[this.index],this.index<a.length?r=d.charCodeAt(0):r=-1,"n"===f)"m"===d||"n"===d||"c"===d?(this.index+=1,n=this.Jl,"n"===d?n=this.cs:"c"===d&&(n=this.Ks)):(this.o="LtL expected 'NM', 'NN' or 'NC' got 'N"+d.toUpperCase()+
"'",this.index=-1);else if(48>r||57<r)this.o="LtL '"+b+f.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=r&&57>=r;)n=10*n+(r-48),this.index+=1,this.index<a.length?r=a[this.index].charCodeAt(0):r=-1;-1!==e&&n<e&&(this.o="LtL '"+b+f.toUpperCase()+n+"' < "+e,this.index=-1);-1!==g&&n>g&&(this.o="LtL '"+b+f.toUpperCase()+n+"' > "+g,this.index=-1)}return n};b.cx=function(a,f){var e=!1,g=0;this.index=0;var n=this.Oc(f,"r",this.Cq,this.Bq,"");-1!==this.index&&(a.Db=n,n=this.Oc(f,",c",this.jy,
this.cy,""),-1!==this.index&&(2>n&&(n=2),a.g=n,n=this.Oc(f,",m",this.gy,this.$x,""),-1!==this.index&&(a.jh=n,n=this.Oc(f,",s",0,-1,""),-1!==this.index&&(a.vc=n,n=this.Oc(f,"..",a.vc,-1,"S"),-1!==this.index&&(a.fd=n,n=this.Oc(f,",b",0,-1,""),-1!==this.index&&(a.Bc=n,n=this.Oc(f,"..",a.Bc,-1,"B"),-1!==this.index&&(a.Jd=n,n=this.Oc(f,",n",-1,-1,""),-1!==this.index&&(a.pf=n,e=!0))))))));if(e)if(this.index!==f.length)e=!1,this.o="LtL invalid characters after rule";else{switch(a.pf){case b.Jl:g=(2*a.Db+
1)*(2*a.Db+1);break;case b.cs:g=2*a.Db*(a.Db+1)+1;break;case b.Ks:n=0;var d=a.Db*a.Db+a.Db;for(f=-a.Db;f<=a.Db;f+=1){for(g=0;(g+1)*(g+1)+f*f<=d;)g+=1;n+=2*g+1}g=n}g-=1-a.jh;a.Bc>g&&(e=!1,this.o="LtL 'B"+a.Bc+"..' > "+g);a.Jd>g&&(e=!1,this.o="LtL 'B.."+a.Jd+"' > "+g);a.vc>g&&(e=!1,this.o="LtL 'S"+a.vc+"..' > "+g);a.fd>g&&(e=!1,this.o="LtL 'S.."+a.fd+"' > "+g)}return e};b.ex=function(a,f){var e=!1;this.index=0;a.g=2;a.jh=1;a.pf=b.Jl;var g=this.Oc(f,"",this.Cq,this.Bq,"");-1!==this.index&&(a.Db=g,g=
this.Oc(f,",",0,-1,""),-1!==this.index&&(a.Bc=g,g=this.Oc(f,",",a.Bc,-1,"B"),-1!==this.index&&(a.Jd=g,g=this.Oc(f,",",0,-1,""),-1!==this.index&&(a.vc=g,g=this.Oc(f,",",a.vc,-1,"S"),-1!==this.index&&(a.fd=g,e=!0)))));e&&(this.index!==f.length?(e=!1,this.o="LtL invalid characters after rule"):(f=(2*a.Db+1)*(2*a.Db+1),a.Bc>f&&(e=!1,this.o="LtL 'B"+a.Bc+"..' > "+f),a.Jd>f&&(e=!1,this.o="LtL 'B.."+a.Jd+"' > "+f),a.vc>f&&(e=!1,this.o="LtL 'S"+a.vc+"..' > "+f),a.fd>f&&(e=!1,this.o="LtL 'S.."+a.fd+"' > "+
f)));return e};b.dx=function(a,f){var e=!1;this.index=0;-1===a.g&&(a.g=2);a.jh=1;a.pf=b.Jl;var g=this.Oc(f,"r",this.Cq,this.Bq,"");-1!==this.index&&(a.Db=g,g=this.Oc(f,"b",0,-1,""),-1!==this.index&&(a.Bc=g,g=this.Oc(f,"t",a.Bc,-1,"B"),-1!==this.index&&(a.Jd=g,g=this.Oc(f,"s",0,-1,""),-1!==this.index&&(a.vc=g,g=this.Oc(f,"t",a.vc,-1,"S"),-1!==this.index&&(a.fd=g,e=!0)))));e&&(this.index!==f.length?(e=!1,this.o="LtL invalid characters after rule"):(f=(2*a.Db+1)*(2*a.Db+1),a.Bc>f&&(e=!1,this.o="LtL 'B"+
a.Bc+"' > "+f),a.Jd>f&&(e=!1,this.o="LtL 'B..T"+a.Jd+"' > "+f),a.vc>f&&(e=!1,this.o="LtL 'S"+a.vc+"..' > "+f),a.fd>f&&(e=!1,this.o="LtL 'S..T"+a.fd+"' > "+f)));return e};b.tu=function(a,f,e,g,b){var n=!1,d,c="HROT.",r,h=0;if(this.index+e>a.length)this.o="HROT '"+f+"' needs "+e+" hex digits";else{for(d=r=0;r<e&&-1!==d;)d=this.tt.indexOf(a[this.index]),-1!==d&&(this.index+=1,r+=1);if(-1===d)this.o="HROT '"+f+"' expected hex got '"+a[this.index]+"'";else{"B"===f?c+="births":(c+="survivals",h=1);b=b.V(Uint8,
(e<<2)+1+h,c);n=0;b[n]=0;n+=1;--r;"S"===f&&(b[n]=0,n+=1);for(;0<=r;)d=this.tt.indexOf(a[this.index-e+r]),--r,b[n]=d&1,n+=1,b[n]=d>>1&1,n+=1,b[n]=d>>2&1,n+=1,b[n]=d>>3&1,n+=1;"B"===f?g.Lc=b:g.qd=b;n=!0}}return n};b.ll=function(a,f){var e=-1;this.index+=1;if(this.index<a.length){var g=a[this.index].charCodeAt(0);if(48>g||57<g)this.o="HROT '"+f+"' needs a number";else for(e=g-48,this.index+=1,g=-1,this.index<a.length&&(g=a[this.index].charCodeAt(0));48<=g&&57>=g;)e=10*e+(g-48),this.index+=1,this.index<
a.length?g=a[this.index].charCodeAt(0):g=-1}else this.o="HROT '"+f+"' needs a number";return e};b.Vs=function(a,f,e,g){var b=!0,d;for(d=this.ll(a,e);b&&-1!==d;){var c=-1;this.index<a.length&&"-"===a[this.index]&&(c=this.ll(a,e),-1===c&&(this.o="HROT '"+e+d+"-' needs a number",b=!1));if(b&&(-1===c&&(c=d),d>c&&(this.o="HROT '"+e+d+"-"+c+"' wrong order",b=!1),b)){"S"===e?(this.Wn=c,d+=1,c+=1):this.Rn=c;d>g&&(d=g);for(c>g&&(c=g);d<=c;d+=1)f[d]=1;d=-1;this.index<a.length&&","===a[this.index]&&(d=this.ll(a,
e),-1===d&&(--this.index,this.o=""))}}return b};b.Hz=function(a,f){var e=a.Db,g=(2*e+1)*(2*e+1);a.hc=e;a.me=a.pf;a.qd=f.V(Uint8,g+1,"HROT.survivals");a.Lc=f.V(Uint8,g,"HROT.births");for(e=a.vc;e<=a.fd;e+=1)a.qd[e]=1;for(e=a.Bc;e<=a.Jd;e+=1)a.Lc[e]=1;if(this.Wg){a.Qk=f.V(Uint8,g+1,"HROT.altSurvivals");a.Ok=f.V(Uint8,g,"HROT.altBirths");for(e=a.vs;e<=a.us;e+=1)a.Qk[e]=1;for(e=a.ts;e<=a.ss;e+=1)a.Ok[e]=1}a.ra=!0};b.ax=function(a,f,e){var g=!1,n,d;this.Wn=this.Rn=this.index=n=0;if("r"!==f[this.index])this.o=
"HROT expected 'R' got '"+f[this.index].Tz()+"'";else{var c=this.ll(f,"R");-1!==c&&(c<this.bo?this.o="HROT 'R' < "+this.bo:c>this.Vn?this.o="HROT 'R' > "+this.Vn:(a.hc=c,g=!0,n=(2*c+1)*(2*c+1)))}g&&(g=!1,this.index<f.length?","!==f[this.index]?this.o="HROT expected ',' got "+f[this.index].toUpperCase():(this.index+=1,this.index<f.length?"c"!==f[this.index]?this.o="HROT expected 'C' got "+f[this.index].toUpperCase():(c=this.ll(f,"C"),-1!==c&&(c<this.Yt?this.o="HROT 'C"+c+"' < "+this.Yt:c>this.St?this.o=
"HROT 'C"+c+"' > "+this.St:(2>c&&(c=2),a.g=c,g=!0))):this.o="HROT expected 'C'"):this.o="HROT expected ','");g&&(g=!1,this.index<f.length?","!==f[this.index]?this.o="HROT expected ',' got "+f[this.index].toUpperCase():(this.index+=1,this.index<f.length?"s"!==f[this.index]?this.o="HROT expected 'S' got "+f[this.index].toUpperCase():(a.qd=e.V(Uint8,n+2,"HROT.survivals"),g=this.Vs(f,a.qd,"S",n)):this.o="HROT expected 'S'"):this.o="HROT expected ','");g&&(g=!1,this.index<f.length?","!==f[this.index]?
this.o="HROT expected ',' got "+f[this.index].toUpperCase():(this.index+=1,this.index<f.length?"b"!==f[this.index]?this.o="HROT expected 'B' got "+f[this.index].toUpperCase():(a.Lc=e.V(Uint8,n+1,"HROT.births"),g=this.Vs(f,a.Lc,"B",n)):this.o="HROT expected 'B'"):this.o="HROT expected ','");a.me=this.Je;g&&this.index<f.length&&","===f[this.index]&&(g=!1,this.index+=1,this.index<f.length?"n"===f[this.index]?(this.index+=1,this.index<f.length?"m"===f[this.index]||"n"===f[this.index]||"c"===f[this.index]?
("n"===f[this.index]?a.me=this.Te:"c"===f[this.index]&&(a.me=this.tp),this.index+=1,g=!0):this.o="HROT expected 'NM', 'NN' or 'NC' got 'N"+f[this.index].toUpperCase()+"'":this.o="HROT 'N' needs a neighborhood"):this.o="HROT expected 'N' got '"+f[this.index].toUpperCase()+"'":this.o="HROT expected 'N'");if(g){switch(a.me){case b.Je:n=(2*a.hc+1)*(2*a.hc+1);break;case b.Te:n=2*a.hc*(a.hc+1)+1;break;case b.tp:e=0;n=a.hc*a.hc+a.hc;for(d=-a.hc;d<=a.hc;d+=1){for(c=0;(c+1)*(c+1)+d*d<=n;)c+=1;e+=2*c+1}n=e}--n;
this.Wn>n&&(g=!1,this.o="HROT 'S"+this.Wn+"' > "+n);g&&this.Rn>n&&(g=!1,this.o="HROT 'B"+this.Rn+"' > "+n);g&&(this.index!==f.length?(g=!1,this.o="HROT invalid characters after rule"):a.ra=!0)}return g};b.$w=function(a,f,e){var g=!1,n=0;this.index=0;-1===a.g&&(a.g=2);if("r"!==f[this.index])this.o="HROT expected 'R' got '"+f[this.index].Tz()+"'";else{var d=-1;this.index+=1;this.index<f.length&&(d=f[this.index].charCodeAt(0));if(48>d||57<d)this.o="HROT 'R' needs a number";else{var c=d-48;this.index+=
1;d=-1;for(this.index<f.length&&(d=f[this.index].charCodeAt(0));48<=d&&57>=d;)c=10*c+(d-48),this.index+=1,this.index<f.length?d=f[this.index].charCodeAt(0):d=-1;c<this.bo?this.o="HROT 'R' < "+this.bo:c>this.Vn?this.o="HROT 'R' > "+this.Vn:(a.hc=c,g=!0,n=c*(c+1))}}g&&(g=!1,this.index<f.length?"b"!==f[this.index]?this.o="HROT expected 'B' got "+f[this.index].toUpperCase()+"'":(this.index+=1,g=this.tu(f,"B",n,a,e)):this.o="HROT expected 'B'");g&&(g=!1,this.index<f.length?"s"!==f[this.index]?this.o="HROT expected 'S' got "+
f[this.index].toUpperCase()+"'":(this.index+=1,g=this.tu(f,"S",n,a,e)):this.o="HROT expected 'S'");g&&this.index<f.length&&"z"===f[this.index]&&(a.qd[1]=1,this.index+=1);g&&(this.index!==f.length?(g=!1,this.o="HROT invalid characters after rule"):(a.me=b.Je,a.ra=!0));return g};b.ys=function(a,f){for(var e=a.length,g=-1,b="",d=0;d<e;)1===a[d]?-1===g&&(g=d):-1!==g&&(""!==b&&(b+=","),b+=g+f,d-1!==g&&(b+="-"+(d-1+f)),g=-1),d+=1;-1!==g&&(""!==b&&(b+=","),b+=g+f,d-1!==g&&(b+="-"+(d-1+f)));return b};b.ml=
function(a,f,e){var g="",n=!1;var c=AliasManager.jt(f);null!==c&&(g=f,f=c);c=f.indexOf(b.Pk);if(-1===c)n=this.Ep(a,f,e,this.kk);else if(-1===f.substr(c+1).indexOf(b.Pk)){if(n=this.Ep(a,f.substr(0,c),e,this.dr)){var H=new d(a.name);H.f(a);a.fz();if(n=this.Ep(a,f.substr(c+1),e,this.kk))if(this.o=a.Px(H),""===this.o)if(this.kk[0]||this.dr[0])this.o="Alternate not supported with B0",n=!1;else{if(""!==g)a.Md=g;else if(""!==a.Md||""!==H.Md)""===a.Md&&(a.Md=a.ba),""===H.Md&&(H.Md=H.ba),a.Md=H.Md+b.Pk+a.Md;
a.ba=H.ba+b.Pk+a.ba;(a.ra||a.kd)&&a.Dw(H,e);this.Wg=!0}else n=!1}}else this.o="Only one alternate allowed";return n};b.Ep=function(a,f,e,g){var n=!1,d=null,c=null,x=null,r=this.Po;var h=b.hq.length;var y=b.ds.length;var m="";g[0]=0;var l=AliasManager.jt(f);null!==l&&(""===f&&(a.ba="Conway's Life"),f=l);if("map"===f.substr(0,3).toLowerCase()){m=f.substr(3);var q=m.indexOf("/");-1===q?"=="===m.substr(-2)&&(m=m.substr(0,m.length-2)):"=="===m.substr(q-2,2)&&(m=m.substr(0,q-2)+m.substr(q));f=this.eA(m,
a);if(0<=f)if(n=!0,x=m.substr(f),m=m.substr(0,f),"/"===x[0]){l=1;a.g=0;l<x.length&&("g"===x[l].toLowerCase()||"c"===x[l].toLowerCase())&&(l+=1);for(q=0;l<x.length&&-1!==q;)q=this.pg.indexOf(x[l]),-1!==q?a.g=10*a.g+q:(this.o="Illegal character in generations number",a.g=-1,n=!1),l+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.o="Generations number must be 2-256",a.g=-1,n=!1)}else""!==x&&(l=x.length,this.o="MAP length must be "+b.Qn+", "+b.Pn+" or "+b.ak+" not "+(l+f),n=!1);else this.o=m.length===b.ak||m.length===
b.Pn||m.length===b.Qn?"MAP contains illegal base64 character":"MAP length must be "+b.Qn+", "+b.Pn+" or "+b.ak+" not "+m.length}else{f=f.toLowerCase();f=this.vu(f);n=!0;if("g"===f[0]){l=1;for(q=a.g=0;l<f.length&&-1!==q;)q=this.pg.indexOf(f[l]),-1!==q&&(a.g=10*a.g+q,l+=1);1<l&&(2>a.g||256<a.g?(this.o="Generations number must be 2-256",a.g=-1,n=!1):(l<f.length&&"/"===f[l]&&(l+=1),f=f.substr(l),n=!0))}if(n&&(q=f.lastIndexOf("g"),-1!==q&&q!==f.length-1&&!(0<q&&"/"===f[q-1]))){l=q+1;for(q=a.g=0;l<f.length&&
-1!==q;)q=this.pg.indexOf(f[l]),-1!==q&&(a.g=10*a.g+q,l+=1);l===f.length?2>a.g||256<a.g?(this.o="Generations number must be 2-256",a.g=-1,n=!1):(f=f.substr(0,f.lastIndexOf("g")),n=!0):a.g=-1}if(n)if(n=!1,"r"===f[0]||"1"<=f[0]&&"9">=f[0]&&-1!==f.indexOf(",")){if(n="r"===f[0]?-1!==f.indexOf(".")?this.cx(a,f):-1!==f.indexOf("t")?this.dx(a,f):-1!==f.indexOf(",")?this.ax(a,f,e):this.$w(a,f,e):this.ex(a,f))a.ra?(a.ba="R"+a.hc+",",a.ba+="C"+a.g+",",a.ba+="S"+this.ys(a.qd,-1)+",",a.ba+="B"+this.ys(a.Lc,0),
a.me!==this.Je&&(a.ba+=",N",a.ba=a.me===this.Te?a.ba+"N":a.ba+"C")):(a.kd=!0,a.ba="R"+a.Db+",C"+a.g+",M"+a.jh+",S"+a.vc+".."+a.fd+",B"+a.Bc+".."+a.Jd+",N",a.ba=a.pf===this.Jl?a.ba+"M":a.pf===this.cs?a.ba+"N":a.ba+"C",0===a.jh&&(a.vc+=1,a.fd+=1))}else if("w"===f[0])n=this.lx(a,f);else{l=f.lastIndexOf(b.hq);-1!==l&&l===f.length-h&&(a.S=!0,f=f.substr(0,f.length-h),r=this.iv);l=f.lastIndexOf(b.ds);-1!==l&&l===f.length-y&&(a.Fd=!0,f=f.substr(0,f.length-y),r=this.sv);e=f.indexOf("/");-1===e&&(e=f.indexOf("_"));
-1!==e&&(l=f.lastIndexOf("/"),-1===l&&(l=f.lastIndexOf("_")),l!==e&&(x=f.substring(l+1),f=f.substr(0,l),l=f.lastIndexOf(b.hq),-1!==l&&l===f.length-h&&(a.S=!0,f=f.substr(0,f.length-h),r=this.iv),l=f.lastIndexOf(b.ds),-1!==l&&l===f.length-y&&(a.Fd=!0,f=f.substr(0,f.length-y),r=this.sv)));h=f.indexOf("b");y=f.indexOf("s");-1===e?0===h||0===y?-1===y?(d=f,c=""):-1===h?(c=f,d=""):h<y&&-1!==y?(d=f.substring(h+1,y),c=f.substring(y+1)):(c=f.substring(y+1,h),d=f.substring(h+1)):this.o="Unsupported rule name":
(-1===h&&-1!==y?h=e:-1!==h&&-1===y&&(y=e),h<y?(d=f.substring(0,e),c=f.substring(e+1)):(d=f.substring(e+1),c=f.substring(0,e)));-1!==h&&d&&"b"===d[0]&&(d=d.substring(1));-1!==y&&c&&"s"===c[0]&&(c=c.substring(1));if(null!==x)if(l=0,-1!==a.g)this.o="Generations defined twice",d=null;else{a.g=0;l<x.length&&("g"===x[l].toLowerCase()||"c"===x[l].toLowerCase())&&(l+=1);for(q=0;l<x.length&&-1!==q;)q=this.pg.indexOf(x[l]),-1!==q?a.g=10*a.g+q:(this.o="Illegal character in generations number",a.g=-1,d=null),
l+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.o="Generations number must be 2-256",a.g=-1,d=null)}if(null!==d&&null!==c){n=!0;for(l=0;l<d.length;)q=r.indexOf(d[l]),-1===q?(this.o="Illegal character in birth specification",n=!1,l=d.length):l+=1;if(n)for(l=0;l<c.length;)q=r.indexOf(c[l]),-1===q?(this.o="Illegal character in survival specification",n=!1,l=c.length):l+=1}}}n&&-1===a.we&&!1===a.kd&&!1===a.ra&&(a.ba=this.Sw(d,c,m,a.S,a.Fd,a.g,g),""!==this.o&&(n=!1),2===a.g&&(a.g=-1));n&&this.cw(a,m);return n};
b.Xs=function(a,f,e,g){var n=0,d=f.length-1,c=!1,x=!0,r,h=0,y=0,m=0,l=0,q=this.sj;for(r=f[n];!c;){var F=r;r=f[n+1];var z=-1;switch(F){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":l=10*l+parseInt(F,10);break;case "b":z=0;break;case "o":z=1;break;case ".":z=0;break;case "z":z=7;a.Ob=!0;a.xl=!0;break;case "$":0===l&&(l=1);m+=l;l=0;y>h&&(h=y);y=0;break;case "!":0===l&&(l=1);m+=l;l=0;y>h&&(h=y);c=!0;break;default:x=!1,"A"<=F&&"X">=F?(x=!0,z=F.charCodeAt(0)-
64):"p"<=F&&"y">F?"A"<=r&&"X">=r?(x=!0,z=24*(F.charCodeAt(0)-111)+(r.charCodeAt(0)-64),n+=1,r=f[n+1]):"x"===F&&(x=!0,a.Ob=!0,a.xl=!0,z=3):"y"===F&&("A"<=r&&"O">=r?(x=!0,z=24*(F.charCodeAt(0)-111)+(r.charCodeAt(0)-64),n+=1,r=f[n+1]):(x=!0,a.Ob=!0,a.xl=!0,z=5))}if(0<=z)if(0===l&&(l=1),e||(0===q[z]&&(a.Ol+=1),q[z]+=l,z>=a.ne&&(a.ne=z+1)),0<z&&e)for(;0<l;){a.le[m][y]=-1===a.g?z:2===a.g?1===z?LifeConstants.Za:0:z<a.g?z:1;if(!a.Ob&&-1===a.g||a.Ob&&z&1||-1!==a.g&&1===z)a.Sc[m][y>>4]|=1<<(~y&15);y+=1;--l}else y+=
l,l=0;x||(" "===F||"\t"===F||"\n"===F?x=!0:(this.o="Illegal character in pattern: "+F,c=a.cj=!0));n+=1;n===d&&(c||(0===l&&(l=1),m+=l,l=0,y>h&&(h=y)),c=!0)}e||(0===h&&(m=h=1),a.width=h,a.height=m,h>b.maxWidth||m>b.maxHeight?(a.Lg=!0,a.cj=!0):(a.Sc=Array.Z(Uint16,m,(h-1>>4)+1,0,g,"Pattern.lifeMap"),a.le=Array.Z(Uint8,m,h,0,g,"Pattern.multiStateMap"),a.$f="RLE"));a.cj&&(n=-1);return n};b.yz=function(a,b){var e=b.indexOf("\n");-1===e&&(e=b.length);a.fu=b.substring(0,e).trim()};b.Co=function(a,b,e){for(var g=
!1;b<e&&!g;)" "===a[b]?b+=1:g=!0;return b};b.Ly=function(a){var f=a.indexOf("\n"),e=0,g=!1,n=0;-1===f&&(f=a.length);for(;n<f&&!g;)"="===a[n]?g=!0:" "!==a[n]?g=!0:n+=1;if(g&&"="===a[n]){n=this.Co(a,n+1,f);for(g=!1;n<f&&!g;){var d=b.pg.indexOf(a[n]);-1!==d?(e=10*e+d,n+=1):g=!0}this.Ph=!0;this.Vp=e}};b.uu=function(a,f){var e=a.indexOf("\n"),g=0,n=0,d=!1,c=!1,x=!1,r=0;-1===e&&(e=a.length);if(f){for(;r<e&&!x;)"="===a[r]?x=!0:" "!==a[r]?x=!0:r+=1;x&&"="===a[r]&&(r+=1)}else x=!0;if(x&&(r=this.Co(a,r,e),
r<e)){"-"===a[r]&&(d=!0,r+=1);for(x=!1;r<e&&!x;)f=b.pg.indexOf(a[r]),-1!==f?(g=10*g+f,r+=1):x=!0;this.eg=!0;this.po=d?-g:g;r=this.Co(a,r,e);if(r<e&&","===a[r]&&(r=this.Co(a,r+1,e),r<e)){"-"===a[r]&&(c=!0,r+=1);for(x=!1;r<e&&!x;)f=b.pg.indexOf(a[r]),-1!==f?(n=10*n+f,r+=1):x=!0;this.qo=c?-n:n}}};b.xw=function(a){var f=a.indexOf(b.ux);0===f&&(f=a.indexOf(b.qu),-1!==f&&this.uu(a.substr(f+b.qu.length),!0),f=a.indexOf(b.ht),-1!==f&&this.Ly(a.substr(f+b.ht.length)))};b.xz=function(a,b){var e=b.indexOf("\n");
-1===e&&(e=b.length);a.name=b.substring(0,e).trim()};b.gp=function(a,b,e,g){var f=e.indexOf("\n");-1===f&&(f=e.length);" "===e[0]&&(b+=" ");e=""+e.substring(0,f).trim();a.title+=e+" ";g?a.ae+=b+e+"\n":a.lb+=b+e+"\n";return f+1};b.Ne=function(a){var b=-1;a+=" ";var e=this.pg.indexOf(a[this.index]);if(-1!==e)for(b=0;-1!==e;)b=10*b+e,this.index+=1,e=this.pg.indexOf(a[this.index]);return b};b.ix=function(a,b){b=this.Ne(b);a.Cd=b;a.df=b};b.jx=function(a,b){var e=this.Ne(b),g=-1,f=0,d=0;if(-1!==e){var c=
b[this.index];if("-"===c||"+"===c)this.index+=1,f=this.Ne(b),-1===f?e=-1:"-"===c&&(f=-f);if(","===b[this.index])if(this.index+=1,g=this.Ne(b),-1===g)e=-1;else{if(c=b[this.index],"-"===c||"+"===c)this.index+=1,d=this.Ne(b),-1===d?e=-1:"-"===c&&(d=-d)}else g=e}0!==f&&0!==d&&(e=-1);0===e&&0===g&&(e=-1);0===f&&0===d||0!==e&&0!==g||(e=-1);a.Cd=e;a.df=g;a.rl=f;a.Vj=d};b.bx=function(a,b){var e=this.Ne(b),g=-1,f=0,d=0,c=!1,x=!1;if(-1!==e){var r=b[this.index];"*"===r&&(c=!0,this.index+=1,r=b[this.index]);
if("-"===r||"+"===r)f=this.Ne(b),-1===f?e=-1:"-"===r&&(f=-f),this.index+=1,r=b[this.index];if(","===r)if(this.index+=1,g=this.Ne(b),-1===g)e=-1;else{if(r=b[this.index],"*"===r&&(x=!0,this.index+=1,r=b[this.index]),"-"===r||"+"===r)this.index+=1,d=this.Ne(b),-1===d?e=-1:"-"===r&&(d=-d)}else g=e}c&&x&&(e=-1);0!==f&&0!==d&&(e=-1);if(c&&0!==d||x&&0!==f)e=-1;if(0===e||0===g)e=-1;c||x||(x=!0);a.Cd=e;a.df=g;a.rl=f;a.Vj=d;a.Yp=c;a.Bn=x};b.Zw=function(a,b){var e=this.Ne(b),g=-1;-1!==e&&(","===b[this.index]?
(this.index+=1,g=this.Ne(b),-1===g&&(e=-1)):g=e);a.Cd=e;a.df=g};b.fx=function(a,b){var e=this.Ne(b),g=-1;-1!==e&&(","===b[this.index]?(this.index+=1,g=this.Ne(b),-1===g&&(e=-1)):g=e);0===e&&0===g&&(e=-1);a.Cd=e;a.df=g};b.Xw=function(a,b){var e=!1;b=this.vu(b).toLowerCase();if(""!==b){a.Gb=this.Fs.indexOf(b[0]);if(-1!==a.Gb)if(this.index=1,2!==a.Gb&&-1!==b.indexOf("*"))a.Cd=-1;else switch(a.Gb){case 0:this.fx(a,b);break;case 1:this.jx(a,b);break;case 2:this.bx(a,b);break;case 3:this.Zw(a,b);break;
case 4:this.ix(a,b);break;default:a.Cd=-1}this.index!==b.length&&(a.Cd=-1);-1!==a.Cd?e=!0:(a.Gb=-1,this.o="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return e};b.hn=function(a,b,e,g){var d,f,c=null;if(e[b]===a){for(b+=1;b<g&&" "===e[b];)b+=1;for(b<g&&"="===e[b]&&(b+=1);b<g&&" "===e[b];)b+=1;a=0;var x=d=!1;"-"===e[b]&&(b+=1,x=!0);for(f=e[b].charCodeAt(0);b<g&&48<=f&&57>=f;)a=10*a+(f-48),b+=1,d=!0,b<g&&(f=e[b].charCodeAt(0));for(d&&(c=x?-a:a);b<g&&" "===e[b];)b+=1;for(b<g&&","===e[b]&&
(b+=1);b<g&&" "===e[b];)b+=1}return[c,b]};b.hx=function(a,b){this.Dg=this.Eg=-1;var e=this.hn("x",0,a,b);var g=e[1];e[0]&&(this.Eg=e[0]);e=this.hn("y",g,a,b);g=e[1];e[0]&&(this.Dg=e[0]);e=this.hn("h",g,a,b);g=e[1];e[0]&&(this.po=e[0],this.eg=!0);e=this.hn("v",g,a,b);e[0]&&(this.qo=e[0])};b.Ys=function(a,d,e,g){var f=d.indexOf("\n"),c=d.indexOf("rule"),H=b.lq.length,x="";-1===f&&(f=d.length);this.hx(d,f);-1===c?e?x="":x=d.substring(1,f).trim():(x=d.substring(c+4,f).trim(),"="===x[0]&&(x=x.substring(1).trim()));
a.ba=x;d=x.lastIndexOf(b.tw);-1!==d&&(this.Xw(a,x.substring(d+1))?x=x.substr(0,d).trim():d=-2);e=x.toLowerCase().lastIndexOf(b.lq);-1!==e&&e===x.length-H&&(a.Ob=!0,x=x.substr(0,x.length-H).trim());e=x.indexOf(this.Pk);-1!==e&&x.toLowerCase().substr(0,e).trim().substr(-H)===b.lq&&(a.Ob=!0,c=x.substr(0,e).trim(),x=c.substr(0,c.length-H)+x.substr(e));-2!==d&&this.ml(a,x,g)?this.Ba=!0:this.Tj=!0;return f+1};b.Es=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";
break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};b.Ws=function(a,d,e){var g=0,f=d.length,c=!1,H=!1;var x=this.sj;var r=b.by,h=4,y;a.Gb=-1;a.width=0;a.height=0;a.Lg=!1;a.Sc=null;a.le=null;a.cj=!1;a.Ob=!1;a.xl=!1;a.S=!1;a.we=-1;a.Fd=!1;a.g=-1;a.kd=!1;a.Db=-1;a.jh=1;a.vc=-1;a.fd=-1;a.Bc=-1;a.Jd=-1;a.ra=!1;a.Lc=null;a.qd=null;a.hc=-1;a.title="";a.lb="";a.ae="";a.ne=2;for(y=a.Ol=0;y<r;y+=1)x[y]=0;for(d+=" ";g<f&&!a.cj;)switch(x=d[g],x){case "#":g+=1;x=d[g];g+=
1;switch(x){case "N":this.xz(a,d.substring(g));break;case "O":this.yz(a,d.substring(g));break;case "C":this.xw(d.substring(g));break;case "P":case "R":this.uu(d.substring(g),!1);break;case "\n":--g}g="\n"===x?g+this.gp(a,"#",d.substring(g),c):g+this.gp(a,"#"+x,d.substring(g),c);break;case "x":g+=this.Ys(a,d.substring(g),!0,e);H=!0;break;case "\n":g+=1;break;default:c?g+=this.gp(a,"",d.substring(g),!0):(c=!0,-1!==this.Xs(a,d.substring(g),!1,e)&&(g+=this.Xs(a,d.substring(g),!0,e)))}H||(this.ml(a,"",
e)?this.Ba=!0:this.Tj=!0);-1!==a.Gb&&(a.ra&&(h=6*a.hc),a.kd&&(h=6*a.Db),a.Cd>=this.maxWidth-h||a.df>=this.maxHeight-h)&&(this.o="Bounded grid is too big",this.Ba=!1,a.Gb=-1);!a.kd||(1<a.Gb&&(this.o="LtL only supports Plane or Torus",this.Ba=!1,a.Gb=-1),a.S&&(this.o="LtL does not support Hex grid",this.Ba=!1,a.S=!1),0===a.Bc&&-1===a.Gb&&(this.o="LtL does not support B0 unbounded",this.Ba=!1),0!==a.Gb&&1!==a.Gb)||0!==a.Cd&&0!==a.df||(this.o="LtL bounded grid must be finite",this.Ba=!1,a.Gb=-1);!a.ra||
(1<a.Gb&&(this.o="HROT only supports Plane or Torus",this.Ba=!1,a.Gb=-1),a.S&&(this.o="HROT does not support Hex grid",this.Ba=!1,a.S=!1),a.Lc&&1===a.Lc[0]&&-1===a.Gb&&(this.o="HROT does not support B0 unbounded",this.Ba=!1),0!==a.Gb&&1!==a.Gb)||0!==a.Cd&&0!==a.df||(this.o="HROT bounded grid must be finite",this.Ba=!1,a.Gb=-1);-1===a.g||!a.Ob||a.kd||a.ra||(this.o="[R]History not valid with Generations",this.Ba=a.Ob=!1);-1===a.g||!this.kk[0]||a.kd||a.ra||(this.o="Generations does not support B0",this.Ba=
!1);a.kd&&a.Ob&&(this.o="[R]History not valid with LtL",this.Ba=a.Ob=!1);a.ra&&a.Ob&&(this.o="[R]History not valid with HROT",this.Ba=a.Ob=!1);this.Ba&&(a.xl?8<a.ne&&(this.o="Illegal state in pattern for Niemiec",this.Ba=!1):a.Ob?7<a.ne&&(this.o="Illegal state in pattern for [R]History",this.Ba=!1):-1!==a.g&&a.ne>a.g&&(this.o=a.kd?"Illegal state in pattern for LtL":a.ra?"Illegal state in pattern for HROT":"Illegal state in pattern for Generations",this.Ba=!1));a.kd&&this.Hz(a,e)};b.nA=function(){return!1};
b.mA=function(){return!1};b.oA=function(){return!1};b.kx=function(a,b){a=a.ae;b=a.indexOf("\n",b);var e=a.length,g=0;if(-1!==b)for(;7!==g&&b<e;){var d=b+1;b=a.indexOf("\n",d);-1===b&&(b=e);"#"!==a[d]&&("num_states="===a.substr(d,11)?g|=1:"num_neighbors="===a.substr(d,14)?g|=2:"num_nodes="===a.substr(d,10)&&(g|=4),"0"<=a[d]&&"9">=a[d]&&7!==g&&(b=e))}return!1};b.gx=function(a){var d=a.ae,e=d.length,g=!1;var c=d.indexOf(b.Gu);if(-1!==c){var p=d.indexOf("\n",c);-1===p&&(p=e);a.lz=d.substring(c+b.Gu.length,
p).trim();c=d.indexOf(b.mz,p);p=d.indexOf(b.nz,p);-1!==c&&-1!==p&&(c<p?p=-1:c=-1);-1!==c?g=!1:-1!==p&&(g=this.kx(a,p))}};b.create=function(a,b,e){a=new d(a);this.Ba=this.Tj=this.Lg=!1;this.o="";this.Ph=!1;this.Vp=0;this.eg=!1;this.qo=this.po=0;this.Dg=this.Eg=-1;this.Wg=!1;if("!"===b.substr(0,1)||"O"===b.substr(0,1)||"."===b.substr(0,1)||"*"===b.substr(0,1)||"o"===b.substr(0,1))this.Yw(a,b,e),this.Ba=!0;null===a.Sc&&(this.Ba=!1,"#Life 1.05"===b.substr(0,10)?this.Us(a,b,!0,e):"#Life 1.06"===b.substr(0,
10)?(this.Ww(a,b,e),this.Ba=!0):"#"===b[0]||"x"===b[0]?(this.Ws(a,b,e),null!==a.Sc||a.Lg||a.cj||(this.Us(a,b,!1,e),this.Tj=!1,a.le=null,a.Ob=!1,a.ne=2,a.Ol=0)):this.Ws(a,b,e));a.Lg&&(this.o="Pattern too big (maximum "+this.maxWidth+"x"+this.maxHeight+")",this.Lg=!0,this.Ba=!1);-1!==a.Gb?(b=a.ba.lastIndexOf(":"),a.Mm=a.ba.substr(b),a.ba=a.ba.substr(0,b)):a.Mm="";null===a.Sc&&(a.Lg||""!==this.o||(this.o="Invalid pattern"),a=null,this.Ba=!1);a&&a.cj&&(a=null,this.Ba=!1);a&&(""!==a.lb&&"\n"!==a.lb[a.lb.length-
1]&&(a.lb+="\n"),""!==a.ae&&("\n"!==a.ae[a.ae.length-1]&&(a.ae+="\n"),this.gx(a)));return a};window.PatternManager=b;window.Pattern=d})();(function(){function c(){this.xp=[]}c.prototype.add=function(d,b,a){this.xp[this.xp.length]=d<<16|b<<8|a};window.ColourManager={ng:[],$l:[],yt:!1,Gp:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,
169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,
59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,
113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,
158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,
108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Fp:[],hd:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,
245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",
0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",
47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],
gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},pA:function(){return this.Fp},Ns:function(d){for(var b=0,a=!1,c=[];b<this.$l.length&&!a;)d===this.$l[b][0]?a=!0:b+=1;a&&(c=this.ng[this.$l[b][1]].xp);return c},Oa:function(d){this.$l[this.$l.length]=d},Dd:function(){var d,b=0,a;if(!this.yt){this.yt=!0;for(d=a=0;256>d;d+=1)this.Fp[d]=this.Gp[a]<<16|this.Gp[a+1]<<8|this.Gp[a+2],a+=3;d=new c;d.add(0,0,0);d.add(0,255,0);d.add(0,0,128);
d.add(216,255,216);d.add(255,0,0);d.add(255,255,0);d.add(96,96,96);d.add(255,128,128);this.ng[b]=d;this.Oa(["LifeHistory",b]);b+=1;d=new c;d.add(48,48,48);d.add(0,128,255);d.add(255,255,255);d.add(255,128,0);this.ng[b]=d;this.Oa(["WireWorld",b]);b+=1;d=new c;d.add(0,0,0);d.add(255,255,255);d.add(144,128,112);d.add(144,90,45);d.add(192,192,192);d.add(255,0,0);d.add(255,128,0);d.add(255,255,0);d.add(0,255,0);d.add(0,255,208);d.add(0,192,255);d.add(0,0,255);d.add(192,0,255);d.add(255,64,160);d.add(112,
128,144);d.add(0,128,0);d.add(0,96,128);d.add(160,0,80);d.add(40,40,40);d.add(220,220,220);d.add(140,60,0);d.add(0,160,0);d.add(160,160,250);this.ng[b]=d;this.Oa(["WWE",b]);this.Oa(["WWE2",b]);this.Oa(["WWEJ",b]);this.Oa(["WWEJ2",b]);this.Oa(["WWEJ3",b]);b+=1;d=new c;d.add(30,30,30);d.add(0,128,128);d.add(0,255,0);d.add(255,0,0);d.add(255,128,0);d.add(255,255,0);d.add(128,0,128);d.add(128,128,128);d.add(255,255,255);d.add(128,128,255);this.ng[b]=d;this.Oa(["Novoloop",b]);b+=1;d=new c;d.add(0,0,0);
d.add(255,128,0);d.add(255,0,0);d.add(0,255,0);d.add(0,0,255);d.add(0,190,0);d.add(0,140,0);d.add(255,255,255);d.add(80,80,80);d.add(95,95,95);d.add(128,128,128);d.add(0,64,0);d.add(255,255,0);d.add(64,0,164);d.add(64,32,64);d.add(80,80,100);d.add(95,95,125);d.add(128,255,128);d.add(64,100,100);this.ng[b]=d;this.Oa(["shapeloop",b]);this.Oa(["shapeloop-b",b]);this.Oa(["shapeloop2",b]);this.Oa(["shapeloop-ltd",b]);this.Oa(["2armshapeloop-a",b]);this.Oa(["2armshapeloop2-a",b]);this.Oa(["shapeloop2a-bounded",
b]);this.Oa(["foodshapeloop",b]);this.Oa(["foodshapeloop2",b]);b+=1;d=new c;d.add(0,0,0);d.add(255,255,255);d.add(255,0,0);d.add(0,128,255);d.add(170,0,0);d.add(85,0,0);this.ng[b]=d;this.Oa(["b3s23mmg",b]);b+=1;d=new c;d.add(0,0,0);d.add(255,0,0);d.add(0,255,0);d.add(0,0,255);d.add(255,255,0);d.add(0,255,255);d.add(255,0,255);d.add(92,36,110);d.add(0,99,140);d.add(176,196,222);d.add(115,61,26);this.ng[b]=d;this.Oa(["_235_4_O3",b]);this.Oa(["0_245_5_O4",b]);this.Oa(["0_245_5_O3",b]);this.Oa(["58_27_4_O3",
b]);this.Oa(["0_24_4H_O3",b]);this.Oa(["2_235_4H_O3",b]);this.Oa(["24_235_4H_O3",b]);this.Oa(["3_25_4_O2",b]);this.Oa(["Snake_O5",b]);this.Oa(["Mites",b]);this.Oa(["Mites2",b]);this.Oa(["Mites3",b]);b+=1;d=new c;d.add(48,48,48);d.add(255,128,0);d.add(0,0,255);d.add(32,32,255);d.add(64,64,255);d.add(96,96,255);this.ng[b]=d;this.Oa(["Alpha-1",b]);b+=1;d=new c;d.add(48,48,48);d.add(255,0,0);d.add(255,125,0);d.add(255,150,25);d.add(255,175,50);d.add(255,200,75);d.add(255,225,100);d.add(255,250,125);d.add(251,
255,0);d.add(89,89,255);d.add(106,106,255);d.add(122,122,255);d.add(139,139,255);d.add(27,176,27);d.add(36,200,36);d.add(73,255,73);d.add(106,255,106);d.add(235,36,36);d.add(255,56,56);d.add(255,73,73);d.add(255,89,89);d.add(185,56,255);d.add(191,73,255);d.add(197,89,255);d.add(203,106,255);d.add(0,255,128);d.add(255,128,64);d.add(255,255,128);d.add(33,215,215);d.add(27,176,176);d.add(24,156,156);d.add(21,137,137);this.Oa(["JvN29",b]);this.Oa(["Hutton32",b]);this.Oa(["Nobili32",b]);this.ng[b]=d}}}})();window.BoundingBox=function(c,d,b,a){this.N=c;this.L=d;this.O=b;this.M=a};(function(){function c(b,a){this.index=a;this.ua=b.wj[a];this.$a=b.Ni[a];this.m=b.yn[a];this.i=b.Nm[a];this.F=new BoundingBox(0,0,0,0);this.aa=new BoundingBox(0,0,0,0);this.Aa=this.u=this.mc=this.yb=this.za=0;this.f=b}function d(b,a){this.j=b;this.Vc=[];this.af=[];this.wj=[];this.Ni=[];this.yn=[];this.Nm=[];this.f=[];this.i=0;this.index=-1;this.ay=51;this.qe=[];this.Cs=a}c.prototype.hz=function(b,a,d){var e=a.length,g=a[0].length,c,f,H=0,x,r=d.qm;d=d.rm;var h,y=0,m=this.m,l=0,q=m[l],F=q.length;Array.Af(this.ua,
a);for(c=0;c<e;c+=1){var z=this.ua[c];for(a=h=0;a<g;a+=1)if(x=z[a])for(f=15;0<=f;--f){if(0!==(x&1<<f)){var C=y;var t=h;var I=q[H];H+=1;b[C][t]=I&255;b[C][t+1]=I>>8&255;b[C+1][t]=I>>16&255;b[C+1][t+1]=I>>24;C+=2;I=q[H];H+=1;b[C][t]=I&255;b[C][t+1]=I>>8&255;b[C+1][t]=I>>16&255;b[C+1][t+1]=I>>24;C+=2;I=q[H];H+=1;b[C][t]=I&255;b[C][t+1]=I>>8&255;b[C+1][t]=I>>16&255;b[C+1][t+1]=I>>24;C+=2;I=q[H];H+=1;b[C][t]=I&255;b[C][t+1]=I>>8&255;b[C+1][t]=I>>16&255;b[C+1][t+1]=I>>24;C+=2;I=q[H];H+=1;b[C][t]=I&255;
b[C][t+1]=I>>8&255;b[C+1][t]=I>>16&255;b[C+1][t+1]=I>>24;C+=2;I=q[H];H+=1;b[C][t]=I&255;b[C][t+1]=I>>8&255;b[C+1][t]=I>>16&255;b[C+1][t+1]=I>>24;C+=2;I=q[H];H+=1;b[C][t]=I&255;b[C][t+1]=I>>8&255;b[C+1][t]=I>>16&255;b[C+1][t+1]=I>>24;C+=2;I=q[H];H+=1;b[C][t]=I&255;b[C][t+1]=I>>8&255;b[C+1][t]=I>>16&255;b[C+1][t+1]=I>>24;H>=F&&(l+=1,q=m[l],H=0)}h+=r}else h+=r<<4;y+=d}};c.prototype.rz=function(b,a,d){var e=a.length,g=a[0].length,c,f=0,H;var x=0;var r=d.qm,h=d.rm,y,m=0,l=this.m,q=0,F=l[q],z=F.length,
C=l.length;var t=this.f.Cs;Array.Af(a,this.ua);for(c=0;c<e;c+=1){var I=a[c];for(d=0;d<g;d+=1)(H=I[d])&&(x+=t[H])}if(x)for(c=0;c<e;c+=1){I=a[c];for(d=y=0;d<g;d+=1)if(H=I[d])for(x=15;0<=x;--x){if(0!==(H&1<<x)){var k=m;t=y;F[f]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;f+=1;k+=2;F[f]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;f+=1;k+=2;F[f]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;f+=1;k+=2;F[f]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;f+=1;k+=2;F[f]=b[k][t]|b[k][t+
1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;f+=1;k+=2;F[f]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;f+=1;k+=2;F[f]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;f+=1;k+=2;F[f]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;f+=1;f>=z&&(q+=1,f=0,q>=C&&(Array.Nk(l,"Snapshot.gridBufferRow"),C+=1));F=l[q]}y+=r}else y+=r<<4;m+=h}};c.prototype.gz=function(b,a,d){var e=a.length,g=a[0].length,c,f,H,x=0,r,h=d.qm<<3,y=d.rm,m,l=0,q=this.i,F=0,z=q[F],C=z.length;Array.Af(this.$a,a);for(c=0;c<e;c+=1){var t=
a[c];for(d=m=0;d<g;d+=1)if(r=t[d])for(f=15;0<=f;--f){if(0!==(r&1<<f))for(H=m;H<m+h;H+=4){var I=l;var k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>
16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;
b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;I+=1;k=z[x];x+=1;b[I][H]=k&255;b[I][H+1]=k>>8&255;b[I][H+2]=k>>16&255;b[I][H+3]=k>>24;x>=C&&(F+=1,z=q[F],x=0)}m+=h}else m+=
h<<4;l+=y}};c.prototype.oz=function(b,a,d){var e=a.length,g=a[0].length,c,f=0,H;var x=0;var r=d.qm<<3,h=d.rm,y,m=0,l=this.i,q=0,F=l[q],z=F.length,C=l.length;var t=this.f.Cs;Array.Af(a,this.$a);for(c=0;c<e;c+=1){var I=a[c];for(d=0;d<g;d+=1)(H=I[d])&&(x+=t[H])}if(x)for(c=0;c<e;c+=1){I=a[c];for(d=y=0;d<g;d+=1)if(H=I[d])for(x=15;0<=x;--x){if(0!==(H&1<<x))for(t=y;t<y+r;t+=4){var k=m;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=
1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+
3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;k+=1;F[f]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;f+=1;f>=z&&(q+=1,f=0,q>=C&&(Array.Nk(l,"Snapshot.colourGridBufferRow"),C+=1),F=l[q])}y+=r}else y+=r<<4;m+=h}};
d.prototype.bufferSize=function(){for(var b=0,a=0;a<this.af.length;)b+=this.wj[a].length*this.wj[a][0].length*2,b+=this.Ni[a].length*this.Ni[a][0].length*2,b+=this.yn[a].length*this.yn[a][0].length*4,b+=this.Nm[a].length*this.Nm[a][0].length*4,this.f[a]&&(b+=this.f[a].length*this.f[a][0].length*4),a+=1;return b};d.prototype.dA=function(){for(var b=0,a=0;a<this.af.length;)this.af[a]&&(b+=1),a+=1;return b};d.prototype.reset=function(){var b=0,a;this.Vc=[];for(this.index=-1;b<this.af.length;){var d=
!1;for(a=0;a<this.qe.length&&!d;)b===this.qe[a].index?d=!0:a+=1;d||(this.af[b]=!1);b+=1}};d.prototype.Jz=function(b){var a=null;0<this.Vc.length&&(a=this.Vc[this.index],a.u>b&&(a=null,0<this.index&&(this.m(this.Vc[this.index].index),this.Vc.pop(),--this.index,0<=this.index&&(a=this.Vc[this.index]))));return a};d.prototype.bm=function(b,a,d,e,g,c,p,H,x,r,h,y,m,l,q,F){var f=null,n=0,t=this.qe.length,I=!1;g=null!==g;if(q){for(;n<t&&!I;)this.qe[n].u===h?I=!0:n+=1;I?f=this.qe[n]:alert("reset snapshot at generation "+
h+" not found!")}else if(51>this.Vc.length)f=this.Cp(y,m,!1,h,g),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.m(this.Vc[0].index);for(n=0;50>n;n+=1)this.Vc[n]=this.Vc[n+1];this.Vc.pop();this.Cp(y,m,!1,h,g)}f=this.Vc[this.index]}f.Aa=F;f.rz(b,a,l);f.oz(d,e,l);f.F.N=c.N;f.F.O=c.O;f.F.L=c.L;f.F.M=c.M;f.aa.N=p.N;f.aa.O=p.O;f.aa.L=p.L;f.aa.M=p.M;f.za=H;f.yb=x;f.mc=r;f.u=h};d.prototype.m=function(b){this.af[b]=!1};d.prototype.X=function(b,a,d){for(var e=0,g=!1;e<this.i&&!g;)this.af[e]?
e+=1:g=!0;g?(b=e,this.af[e]=!0):(this.wj[e]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.tileGrid"+e),this.Ni[e]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.colourTileGrid"+e),this.yn[e]=Array.Z(Uint32,1,1024,0,this.j,"Snapshot.gridBuffer"+e),this.Nm[e]=Array.Z(Uint32,1,8192,0,this.j,"Snapshot.colourGridBuffer"+e),d&&(this.f[e]=Array.Z(Uint32,1,8192,0,this.j,"Snapshot.overlayGridBuffer"+e)),this.af[e]=!0,this.i+=1,b=e);return b};d.prototype.Cp=function(b,a,d,e,g){var f=0,p=this.qe.length,H=!1;b=this.X(b,a,g);
if(d){for(;f<p&&!H;)this.qe[f].u===e?H=!0:f+=1;H?d=this.qe[f]:(d=new c(this,b,g),this.qe[this.qe.length]=d)}else d=new c(this,b,g),this.Vc[this.Vc.length]=d;return d};d.prototype.G=function(b,a,d,e){var g=b.ua,c=b.$a,f=b.ua.length,H=f>>1,x=b.ua[0].length>>1,r=0,h=b.index;this.wj[h]=Array.Z(Uint16,d,a,0,this.j,"Snapshot.tileGrid"+h);this.Ni[h]=Array.Z(Uint16,d,a,0,this.j,"Snapshot.colourTileGrid"+h);b.ua=this.wj[h];b.$a=this.Ni[h];if(0<e){for(;r<f;)b.ua[r+H].set(g[r],x),b.$a[r+H].set(c[r],x),r+=1;
b.F.N+=e;b.F.O+=e;b.F.L+=e;b.F.M+=e;b.aa.N+=e;b.aa.O+=e;b.aa.L+=e;b.aa.M+=e}};d.prototype.Bu=function(b,a,d){for(var e=0,g=this.qe.length;e<g;)this.G(this.qe[e],b,a,d),e+=1;e=0;for(g=this.Vc.length;e<g;)this.G(this.Vc[e],b,a,d),e+=1;for(e=0;e<this.af.length;)this.af[e]||(this.wj[e]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.tileGrid"+e),this.Ni[e]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.colourTileGrid"+e)),e+=1};window.SnapshotManager=d;window.Snapshot=c})();(function(){function c(d,b){this.j=d;this.a=b;this.sc=1;this.xo=2;this.yb=d.V(Uint8,0,"HROT.births");this.Go=d.V(Uint8,0,"HROT.survivals");this.Fm=d.V(Uint8,0,"HROT.altBirths");this.Gm=d.V(Uint8,0,"HROT.altSurvivals");this.type=PatternManager.Je;this.G=Array.Z(Uint32,1,1,0,d,"HROT.counts");this.ea=d.V(Uint32,0,"HROT.widths");this.ya=d.V(Uint8,0,"HROT.colUsed");this.ga=this.i=this.m=this.X=0;this.Wg=!1}c.prototype.resize=function(d,b){this.G=Array.Z(Uint32,b,d,0,this.j,"HROT.counts");this.ya=this.j.V(Uint8,
d,"HROT.colUsed")};c.prototype.Fz=function(d,b){var a=2*b+1,c=b*b+b;this.type=d;this.sc=b;this.ea=this.j.V(Uint32,a,"HROT.widths");switch(d){case PatternManager.Je:for(d=0;d<a;d+=1)this.ea[d]=b;break;case PatternManager.Te:for(d=0;d<b;d+=1)this.ea[d]=d,this.ea[a-d-1]=d;this.ea[d]=b;break;case PatternManager.tp:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=c;)a+=1;this.ea[d+b]=a}}};c.prototype.f=function(d,b){return 0>d||0>d+b||b-d>=this.m?0:0>b&&d+b<this.i?this.G[d+b][0]:b>=this.m&&b-d>=this.m-this.i?
this.G[d+this.m-1-b][this.m-1]:d<this.i?this.G[d][b]:d-this.i+1+b<=this.ga?this.G[this.i-1][d-this.i+1+b]:b-(d-this.i+1)>=this.ga?this.G[this.i-1][b-(d-this.i+1)]:this.G[this.i-1][this.ga+(d+b+this.i+this.ga+1)%2]};c.prototype.Ga=function(d,b,a,c){var e=this.a.pa,g=this.sc,f,p;for(p=0;p<g;p+=1){var H=e[b+p];var x=e[c+p+1];for(f=d;f<=a;f+=1)x[f]=H[f]}for(p=0;p<g;p+=1)for(H=e[c-p],x=e[b-p-1],f=d;f<=a;f+=1)x[f]=H[f];for(p=b;p<=c;p+=1)for(H=e[p],f=0;f<g;f+=1)H[a+f+1]=H[d+f],H[d-f-1]=H[a-f];for(p=0;p<
g;p+=1)for(H=e[b+p],x=e[c+p+1],f=0;f<g;f+=1)x[f+a+1]=H[f+d],x[d-f-1]=H[a-f];for(p=0;p<g;p+=1)for(H=e[c-p],x=e[b-p-1],f=0;f<g;f+=1)x[f+a+1]=H[f+d],x[d-f-1]=H[a-f]};c.prototype.wa=function(d,b,a,c){var e=this.a.pa,g=this.sc,f,p;for(p=0;p<g;p+=1){var H=e[c+p+1];for(f=d;f<=a;f+=1)H[f]=0}for(p=0;p<g;p+=1)for(H=e[b-p-1],f=d;f<=a;f+=1)H[f]=0;for(p=b;p<=c;p+=1)for(H=e[p],f=0;f<g;f+=1)H[a+f+1]=0,H[d-f-1]=0;for(p=0;p<g;p+=1)for(H=e[c+p+1],f=0;f<g;f+=1)H[f+a+1]=0,H[d-f-1]=0;for(p=0;p<g;p+=1)for(H=e[b-p-1],f=
0;f<g;f+=1)H[f+a+1]=0,H[d-f-1]=0};c.prototype.Da=function(d,b,a,f,e){var g,c,p=this.a.pa,H=this.a.Ta,x=this.a.width,r=0,h=this.a.height,y=0,m=x,l=r,q=h,F=y,z=this.a.F,C=this.a.aa,t=this.sc,I=e?this.Fm:this.yb,k=e?this.Gm:this.Go,u=this.G;var A=this.xo-1;var J=LifeConstants.Za,G=LifeConstants.Jh,E=this.a.Om;var B=this.a.g+this.a.da-1;var D=this.a.da,v=0<this.a.da?1:0;var w=g=e=0;if(1===A)for(A=b-t;A<=f+t;A+=1){var M=p[A];var K=u[A];var P=H[A>>4];var Z=c=!1;for(b=d-t;b<=a+t;b+=1){var Y=M[b];var S=K[b];
B=0;Y<J?1===I[S]&&(g+=1,B=128):0===k[S]?w+=1:B=128;Y=E[Y+B];M[b]=Y;Y>G&&(c=!0,P[b>>8]|=1<<(~(b>>4)&15),b<x&&(x=b),b>r&&(r=b),Y>=J&&(e+=1,b<m&&(m=b),b>l&&(l=b),Z=!0))}c&&(A<h&&(h=A),A>y&&(y=A));Z&&(A<q&&(q=A),A>F&&(F=A))}else for(A=b-t;A<=f+t;A+=1){M=p[A];K=u[A];P=H[A>>4];Z=c=!1;for(b=d-t;b<=a+t;b+=1)Y=M[b],S=K[b],Y<=D?1===I[S]?(Y=B,g+=1):Y>v&&--Y:Y===B?0===k[S]&&(--Y,w+=1):Y>v&&--Y,M[b]=Y,0<Y&&(c=!0,P[b>>8]|=1<<(~(b>>4)&15),b<x&&(x=b),b>r&&(r=b),Y===B&&(e+=1,b<m&&(m=b),b>l&&(l=b),Z=!0));c&&(A<h&&
(h=A),A>y&&(y=A));Z&&(A<q&&(q=A),A>F&&(F=A))}this.a.za=e;this.a.yb=g;this.a.mc=w;0<e?(z.N=x,z.O=r,z.L=h,z.M=y,C.N=m,C.O=l,C.L=q,C.M=F):this.a.Aa=0};c.prototype.Na=function(d){var b,a,c=this.a.F.N,e=this.a.F.O,g=this.a.F.L,n=this.a.F.M,p=this.sc,H=d?this.Fm:this.yb,x=d?this.Gm:this.Go,r=p+p;var h=p+1;var y=this.G,m=this.type,l=this.xo-1,q=this.a.width,F=0,z=this.a.height,C=0,t=q,I=F,k=z,u=C,A=this.a.pa,J=this.a.Ta;var G=this.ea;var E=this.a.oa;var B=this.a.qa,D=0,v=0,w=0,M=0,K=0,P=0,Z=0,Y=LifeConstants.Za,
S=LifeConstants.Jh,ca=this.a.Om;var X=this.ya;-1!==this.a.ja&&(D=Math.round((this.a.width-E)/2),w=Math.round((this.a.height-B)/2),v=D+E-1,M=w+B-1,1===H[0]&&(c=D+p,e=v-p,n=M-p,g=w+p),1===this.a.ja&&(c-D<p&&(e=v),v-e<p&&(c=D),M-n<p&&(g=w),g-w<p&&(n=M),this.Ga(D,w,v,M)),0===this.a.ja&&1===l&&this.a.ct(0),c-D<p&&(c=D+p),v-e<p&&(e=v-p),M-n<p&&(n=M-p),g-w<p&&(g=w+p),m===PatternManager.Je?(c-=r,g-=r,e+=r,n+=r):m===PatternManager.Te&&6<p&&(c-=p,g-=p,e+=p,n+=p));if(m===PatternManager.Je){c-=r;g-=r;e+=r;n+=
r;for(a=g;a<g+r;a+=1){var N=y[a];for(b=c;b+8<=e;)N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1;for(;b<=e;)N[b]=0,b+=1}for(a=g+r;a<=n;a+=1){N=y[a];for(b=c;b+8<=c+r;)N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1;for(;b<=c+r;)N[b]=0,b+=1}var T=y[g+r-1];for(a=g+r;a<=n;a+=1){N=y[a];l=A[a];E=0;for(b=c+r;b+8<=e;)l[b]>=Y&&(E+=1),N[b]=T[b]+E,b+=1,l[b]>=Y&&(E+=1),N[b]=T[b]+E,b+=1,l[b]>=Y&&(E+=1),
N[b]=T[b]+E,b+=1,l[b]>=Y&&(E+=1),N[b]=T[b]+E,b+=1,l[b]>=Y&&(E+=1),N[b]=T[b]+E,b+=1,l[b]>=Y&&(E+=1),N[b]=T[b]+E,b+=1,l[b]>=Y&&(E+=1),N[b]=T[b]+E,b+=1,l[b]>=Y&&(E+=1),N[b]=T[b]+E,b+=1;for(;b<=e;)l[b]>=Y&&(E+=1),N[b]=T[b]+E,b+=1;T=N}c+=p;g+=p;e-=p;n-=p;-1!==this.a.ja&&(c+=r,g+=r,e-=r,n-=r);r=A[g][c];E=y[g+p][c+p];var R=0;r<Y?1===H[E]&&(P+=1,R=128):0===x[E]?Z+=1:R=128;r=ca[r+R];A[g][c]=r;r>S&&(X[c]|=1,C=z=g,J[g>>4][c>>8]|=1<<(~(c>>4)&15),r>=Y&&(K+=1,X[c]|=2,u=k=g));var ba=B=!1;N=y[g+p];T=y[g+p];l=A[g];
G=J[g>>4];for(b=c+1;b<=e;b+=1)r=l[b],E=N[b+p]-T[b-h],R=0,r<Y?1===H[E]&&(P+=1,R=128):0===x[E]?Z+=1:R=128,r=ca[r+R],l[b]=r,r>S&&(X[b]|=1,B=!0,G[b>>8]|=1<<(~(b>>4)&15),r>=Y&&(K+=1,X[b]|=2,ba=!0));B&&(C=z=g);ba&&(u=k=g);G=l=!1;N=c+p;for(a=g+1;a<=n;a+=1)r=A[a][c],E=y[a+p][N]-y[a-h][N],R=0,r<Y?1===H[E]&&(P+=1,R=128):0===x[E]?Z+=1:R=128,r=ca[r+R],A[a][c]=r,r>S&&(a<z&&(z=a),a>C&&(C=a),l=!0,J[a>>4][c>>8]|=1<<(~(c>>4)&15),r>=Y&&(K+=1,a<k&&(k=a),a>u&&(u=a),G=!0));l&&(X[c]|=1);G&&(X[c]|=2);for(a=g+1;a<=n;a+=
1){l=A[a];G=J[a>>4];T=y[a+p];var Q=y[a-h];N=c+1+p;var L=c+1-h;ba=B=!1;for(b=c+1;b<=e;b+=1)r=l[b],E=T[N]+Q[L]-T[L]-Q[N],R=0,r<Y?1===H[E]&&(R=128,P+=1):0===x[E]?Z+=1:R=128,r=ca[r+R],l[b]=r,r>S&&(B=!0,G[b>>8]|=1<<(~(b>>4)&15),X[b]|=1,r>=Y&&(K+=1,ba=!0,X[b]|=2)),N+=1,L+=1;B&&(a<z&&(z=a),a>C&&(C=a));ba&&(a<k&&(k=a),a>u&&(u=a))}for(b=c;b<=e;b+=1)X[b]&&(b<q&&(q=b),b>F&&(F=b),0!==(X[b]&2)&&(b<t&&(t=b),b>I&&(I=b)),X[b]=0);this.a.za=K;this.a.yb=P;this.a.mc=Z;0<K?(this.a.F.N=q,this.a.F.O=F,this.a.F.L=z,this.a.F.M=
C,this.a.aa.N=t,this.a.aa.O=I,this.a.aa.L=k,this.a.aa.M=u):this.a.Aa=0}else if(m===PatternManager.Te&&6<p){c-=p;e+=p;g-=p;n+=p;-1===this.a.ja&&(c-=p,e+=p,g-=p,n+=p);this.X=n-g+1;this.m=e-c+1;this.i=this.X+(this.m-1)/2|0;this.ga=this.m/2|0;for(h=0;h<this.i;h+=1)for(N=y[h],l=A[h+g],a=h-1,E=a-1,X=0;X<=this.m;X+=1)N[X]=this.f(a,X-1)+this.f(a,X+1)-this.f(E,X),h<this.X&&l[X+c]>=Y&&(N[X]+=1);for(h=p;h<=this.X-p;h+=1){a=h-1;Q=h+p;y=Q-1;b=h-p-1;N=b-1;T=h+g;l=A[T];G=J[T>>4];ba=B=!1;for(X=p;X<=this.m-p;X+=1)E=
X+p,r=X-p,E=this.f(Q,X)-this.f(a,E+1)-this.f(a,r-1)+this.f(N,X)+this.f(y,X)-this.f(a,E)-this.f(a,r)+this.f(b,X),L=X+c,r=l[L],R=0,r<Y?1===H[E]&&(R=128,P+=1):0===x[E]?Z+=1:R=128,r=ca[r+R],l[L]=r,r>S&&(L<q&&(q=L),L>F&&(F=L),B=!0,G[L>>8]|=1<<(~(L>>4)&15),r>=Y&&(K+=1,ba=!0,L<t&&(t=L),L>I&&(I=L)));B&&(T<z&&(z=T),T>C&&(C=T));ba&&(T<k&&(k=T),T>u&&(u=T))}this.a.za=K;this.a.yb=P;this.a.mc=Z;0<K?(this.a.F.N=q,this.a.F.O=F,this.a.F.L=z,this.a.F.M=C,this.a.aa.N=t,this.a.aa.O=I,this.a.aa.L=k,this.a.aa.M=u):this.a.Aa=
0}else for(a=g-p;a<=n+p;a+=1){N=y[a];b=c-p;E=0;for(X=-p;X<=p;X+=1)for(H=G[X+p],l=A[a+X],h=-H;h<=H;h+=1)l[b+h]>=Y&&(E+=1);N[b]=E;for(b+=1;b<=e+p;){for(X=-p;X<=p;X+=1)H=G[X+p],l=A[a+X],l[b-H-1]>=Y&&--E,l[b+H]>=Y&&(E+=1);N[b]=E;b+=1}}-1!==this.a.ja&&(c<D+p&&(c=D+p),e>v-p&&(e=v-p),g<w+p&&(g=w+p),n>M-p&&(n=M-p));m===PatternManager.Je||m===PatternManager.Te&&6<p||this.Da(c,g,e,n,d);1===this.a.ja&&this.wa(D,w,v,M)};c.prototype.Ya=function(d){var b,a,c=this.a.F.N,e=this.a.F.O,g=this.a.F.L,n=this.a.F.M,p=
this.sc,H=d?this.Fm:this.yb,x=d?this.Gm:this.Go,r=p+p;var h=p+1;var y=this.G,m=this.type,l=this.a.width,q=0,F=this.a.height,z=0,C=l,t=q,I=F,k=z,u=this.a.pa,A=this.a.Ta;var J=this.ea;var G=this.a.oa;var E=this.a.qa;var B=0,D=0,v=0,w=0,M=0,K=0,P=0,Z,Y=this.a.g+this.a.da-1,S=this.a.da,ca=0<this.a.da?1:0;-1!==this.a.ja&&(B=Math.round((this.a.width-G)/2),v=Math.round((this.a.height-E)/2),D=B+G-1,w=v+E-1,1===H[0]&&(c=B+p,e=D-p,n=w-p,g=v+p),1===this.a.ja&&(c-B<p&&(e=D),D-e<p&&(c=B),w-n<p&&(g=v),g-v<p&&(n=
w),this.Ga(B,v,D,w)),c-B<p&&(c=B+p),D-e<p&&(e=D-p),w-n<p&&(n=w-p),g-v<p&&(g=v+p),m===PatternManager.Je?(c-=r,g-=r,e+=r,n+=r):m===PatternManager.Te&&6<p&&(c-=p,g-=p,e+=p,n+=p));if(m===PatternManager.Je){c-=r;g-=r;e+=r;n+=r;for(a=g;a<g+r;a+=1){var X=y[a];for(b=c;b<=e;b+=1)X[b]=0}for(b=c;b<c+r;b+=1)for(a=g+r;a<=n;a+=1)y[a][b]=0;for(a=g+r;a<=n;a+=1){var N=y[a-1];X=y[a];G=u[a];E=0;for(b=c+r;b<=e;b+=1)G[b]===Y&&(E+=1),X[b]=N[b]+E}c+=p;g+=p;e-=p;n-=p;-1!==this.a.ja&&(c+=r,g+=r,e-=r,n-=r);r=u[g][c];E=y[g+
p][c+p];r<=S?1===H[E]?(r=Y,K+=1):r>ca&&--r:r===Y?0===x[E]&&(--r,P+=1):r>ca&&--r;u[g][c]=r;0<r&&(q=l=c,z=F=g,A[g>>4][c>>8]|=1<<(~(c>>4)&15),r===Y&&(M+=1,t=C=c,k=I=g));var T=Z=!1;X=y[g+p];N=y[g+p];G=u[g];J=A[g>>4];for(b=c+1;b<=e;b+=1)r=G[b],E=X[b+p]-N[b-h],r<=S?1===H[E]?(r=Y,K+=1):r>ca&&--r:r===Y?0===x[E]&&(--r,P+=1):r>ca&&--r,G[b]=r,0<r&&(b<l&&(l=b),b>q&&(q=b),Z=!0,J[b>>8]|=1<<(~(b>>4)&15),r===Y&&(M+=1,b<C&&(C=b),b>t&&(t=b),T=!0));Z&&(z=F=g);T&&(k=I=g);J=G=!1;N=c+p;for(a=g+1;a<=n;a+=1)r=u[a][c],E=
y[a+p][N]-y[a-h][N],r<=S?1===H[E]?(r=Y,K+=1):r>ca&&--r:r===Y?0===x[E]&&(--r,P+=1):r>ca&&--r,u[a][c]=r,0<r&&(a<F&&(F=a),a>z&&(z=a),G=!0,A[a>>4][c>>8]|=1<<(~(c>>4)&15),r===Y&&(M+=1,a<I&&(I=a),a>k&&(k=a),J=!0));G&&(c<l&&(l=c),c>q&&(q=c));J&&(c<C&&(C=c),c>t&&(t=c));for(a=g+1;a<=n;a+=1){G=u[a];J=A[a>>4];X=y[a+p];var R=y[a-h];T=Z=!1;N=c+1+p;var ba=c+1-h;for(b=c+1;b<=e;b+=1)r=G[b],E=X[N]+R[ba]-X[ba]-R[N],r<=S?1===H[E]?(r=Y,K+=1):r>ca&&--r:r===Y?0===x[E]&&(--r,P+=1):r>ca&&--r,G[b]=r,0<r&&(J[b>>8]|=1<<(~(b>>
4)&15),b<l&&(l=b),b>q&&(q=b),Z=!0,r===Y&&(M+=1,T=!0,b<C&&(C=b),b>t&&(t=b))),N+=1,ba+=1;Z&&(a<F&&(F=a),a>z&&(z=a));T&&(a<I&&(I=a),a>k&&(k=a))}this.a.za=M;this.a.yb=K;this.a.mc=P;0<M?(this.a.F.N=l,this.a.F.O=q,this.a.F.L=F,this.a.F.M=z,this.a.aa.N=C,this.a.aa.O=t,this.a.aa.L=I,this.a.aa.M=k):this.a.Aa=0}else if(m===PatternManager.Te&&6<p){c-=p;e+=p;g-=p;n+=p;-1===this.a.ja&&(c-=p,e+=p,g-=p,n+=p);this.X=n-g+1;this.m=e-c+1;this.i=this.X+(this.m-1)/2|0;this.ga=this.m/2|0;for(h=0;h<this.i;h+=1)for(X=y[h],
G=u[h+g],a=h-1,E=a-1,N=0;N<=this.m;N+=1)X[N]=this.f(a,N-1)+this.f(a,N+1)-this.f(E,N),h<this.X&&G[N+c]===Y&&(X[N]+=1);for(h=p;h<=this.X-p;h+=1){a=h-1;ba=h+p;y=ba-1;b=h-p-1;X=b-1;R=h+g;G=u[R];J=A[R>>4];T=Z=!1;for(N=p;N<=this.m-p;N+=1){E=N+p;r=N-p;E=this.f(ba,N)-this.f(a,E+1)-this.f(a,r-1)+this.f(X,N)+this.f(y,N)-this.f(a,E)-this.f(a,r)+this.f(b,N);var Q=N+c;r=G[Q];r<=S?1===H[E]?(r=Y,K+=1):r>ca&&--r:r===Y?0===x[E]&&(--r,P+=1):r>ca&&--r;G[Q]=r;0<r&&(J[Q>>8]|=1<<(~(Q>>4)&15),Q<l&&(l=Q),Q>q&&(q=Q),Z=!0,
r===Y&&(M+=1,T=!0,Q<C&&(C=Q),Q>t&&(t=Q)))}Z&&(R<F&&(F=R),R>z&&(z=R));T&&(R<I&&(I=R),R>k&&(k=R))}this.a.za=M;this.a.yb=K;this.a.mc=P;0<M?(this.a.F.N=l,this.a.F.O=q,this.a.F.L=F,this.a.F.M=z,this.a.aa.N=C,this.a.aa.O=t,this.a.aa.L=I,this.a.aa.M=k):this.a.Aa=0}else for(a=g-p;a<=n+p;a+=1){X=y[a];b=c-p;E=0;for(N=-p;N<=p;N+=1)for(H=J[N+p],G=u[a+N],h=-H;h<=H;h+=1)G[b+h]===Y&&(E+=1);X[b]=E;for(b+=1;b<=e+p;){for(N=-p;N<=p;N+=1)H=J[N+p],G=u[a+N],G[b-H-1]===Y&&--E,G[b+H]===Y&&(E+=1);X[b]=E;b+=1}}-1!==this.a.ja&&
(c<B+p&&(c=B+p),e>D-p&&(e=D-p),g<v+p&&(g=v+p),n>w-p&&(n=w-p));m===PatternManager.Je||m===PatternManager.Te&&6<p||this.Da(c,g,e,n,d);1===this.a.ja&&this.wa(B,v,D,w)};c.prototype.my=function(c){var b=!1;this.Wg&&1===(c&1)&&(b=!0);2===this.xo?this.Na(b):this.Ya(b)};window.HROT=c})();(function(){function c(a,g,b,c,d,f,r,h){this.name=a;this.Zi=!1;this.Zp=10;this.ef=this.cf=0;this.Ma=c;this.xa=b;this.va=g;this.Ce=d;this.Pa=f;this.zb=r;this.Rg=h;this.Qj=!1;-1===this.Pa.B.red&&(this.Qj=!0);128<=(this.Ma.red+this.Ma.green+this.Ma.blue)/3?(this.cf=ViewConstants.qt,this.ef=ViewConstants.pt):(this.cf=ViewConstants.An,this.ef=ViewConstants.zn)}function d(a,g,b){this.red=a;this.green=g;this.blue=b}function b(a,g){this.w=a;this.B=g}function a(a,g,b,c,d){this.j=new Allocator;this.Kk=[];this.Ci=
[];this.ae=this.lb="";this.uc=255;this.Ub=null;this.Ae=this.j.V(Uint8,65536,"Life.bitCounts16");this.Lk();this.Be=this.ze=this.Ya=null;this.Cb=this.Hb=this.Jb=this.xe=0;this.fc=1;this.Aa=0;this.qa=this.oa=this.ja=-1;this.Wk=this.Vk=0;this.Gs=this.sp=!1;this.Zl=ViewConstants.Zs;this.Zc=[];this.$c=[];this.Zc[0]=this.j.V(Int32,f.to,"Life.boundaryX0");this.$c[0]=this.j.V(Int32,f.to,"Life.boundaryY0");this.yg=0;this.Lj=4294967295;this.we=-1;this.S=!1;this.ue=!0;this.Fd=this.Ql=!1;this.g=-1;this.pc=!1;
this.da=0;this.bh=this.ra=!1;this.Hd=new SnapshotManager(this.j,this.Ae);this.ij=f.jm;this.nc=this.Wu=!1;this.Ij=this.Td=this.Ed=this.aa=this.F=null;this.title="LifeViewer";this.width=c;this.height=d;this.qm=2;this.rm=16;this.f=this.width>>4;this.m=this.height>>4;this.vo=this.Hd.Cp((this.f-1>>4)+1,this.m,!0,0);this.C=g;this.A=b;this.mc=this.yb=this.za=0;this.Za=f.Za;this.lc=f.lc;this.Nd=f.Nd;this.Jh=f.Jh;this.Ln=this.Ma=0;this.Li=this.de=this.J=1;this.Mi=30;this.angle=this.u=0;this.zoom=6;this.$=
this.ca=0;this.qc=.1;this.Ja=0;this.ka=1;this.xc=this.wc=0;this.i=.1;this.Uf=littleEndian;this.Ia=[];this.Ld=this.bd=this.Cc=this.Kd=this.Ec=this.cc=this.Na=this.bf=this.wd=this.cd=this.ye=this.ed=this.Yc=this.vb=null;this.Wd=-1;this.yd=this.Nc=this.Ai=null;this.context=a;this.gb=this.cb=0;this.ua=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Sa=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.oc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,
"Life.grid");this.Lb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.Nb=Array.mf(this.oc,"Life.grid16");this.ea=Array.mf(this.Lb,"Life.nextGrid16");this.tg=this.j.V(Uint32,this.C,"Life.blankPixelRow");this.Ga=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ef=this.j.V(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.tc=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.Df=this.j.V(Uint8,this.width,"Life.blankColourRow");this.pa=Array.Z(Uint8,this.height,this.width,
this.Ma,this.j,"Life.colourGrid");this.G=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.smallColourGrid");this.wa=Array.Tc(this.G,1,"Life.smallColourGrid4");this.ya=Array.Tc(this.G,3,"Life.smallColourGrid8");this.Da=Array.Tc(this.G,7,"Life.smallColourGrid16");this.zi=Array.mf(this.pa,"Life.colourGrid16");this.Tf=this.Zf=this.Ze=this.Ye=this.X=this.gc=null;this.$a=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Ta=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,
"Life.colourTileHistoryGrid");this.Zd=this.dd=this.Dc=this.ga=null;this.jb=this.j.V(Uint8,256,"Life.redChannel");this.fb=this.j.V(Uint8,256,"Life.greenChannel");this.eb=this.j.V(Uint8,256,"Life.blueChannel");this.dg=this.j.V(Uint32,256,"Life.pixelColours");this.j.V(Uint8,f.rt,"Life.indexLookup33");this.Qf=this.j.V(Uint8,f.bq,"Life.indexLookup63");this.Rf=this.j.V(Uint8,f.bq,"Life.indexLookup632");this.Om=this.j.V(Uint8,2*(this.lc+1),"Life.colourLookup");this.Di=this.j.V(Uint8,2048,"Life.colourReset");
this.Qc=ViewConstants.An;this.Pf=-1;this.Rd=ViewConstants.zn;this.If=-1;this.Sd=10;this.Of=!0;this.Wm=!1;this.nx=10;this.Gf=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.U=8192;this.Hx=[0,0,48];this.Gx=[255,255,255];this.Fx=[255,255,255];this.Ix=[0,255,0];this.Jx=[255,0,0];this.Lf=[0,0,48];this.Kf=[255,255,255];this.Jf=[255,255,255];this.Mf=[0,255,0];this.Nf=[255,0,0];this.Mb=new HROT(this.j,this);this.Qg=this.j.V(Float32,1,"Life.hexCells");this.Sg=this.j.V(Uint32,1,"Life.hexColours");
this.Sf=0;this.mn=!1}var f={Ex:[[[1,1,0],[1,0,1],[1,0,0]],[[0,1,1],[1,1,0],[0,0,1]],[[1,1,1],[1,0,0],[0,1,0]],[[0,1,0],[1,1,0],[1,0,1]]],aj:4096,En:16,to:4096,rt:512,bq:262144,jm:50,Rt:262144,fi:12,Za:64,lc:127,Nd:63,Jh:1,jf:1,sf:2,vf:4,$e:8,Mg:16,Ng:32,lg:64,mg:128};c.prototype.fm=function(a,g,b){this.Zi=!0;this.Zp=a;this.cf=g.red<<16|g.green<<8|g.blue;this.ef=b.red<<16|b.green<<8|b.blue};c.prototype.vz=function(a,g){-1!==a?this.cf=a:this.cf=128<=(this.Ma.red+this.Ma.green+this.Ma.blue)/3?ViewConstants.qt:
ViewConstants.An;-1!==g?this.ef=g:this.ef=128<=(this.Ma.red+this.Ma.green+this.Ma.blue)/3?ViewConstants.pt:ViewConstants.zn};c.prototype.Lx=function(a){var e=!0;a||this.xa.w.oq(this.xa.B)&&this.va.w.oq(this.va.B)&&this.va.w.oq(this.Ma)&&(e=!1);return e};d.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};d.prototype.oq=function(a){var e=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(e=!0);return e};b.prototype.set=function(a){this.w.set(a.w);this.B.set(a.B)};
a.prototype.px=function(){var a=this.pa,g=this.Td,b=this.C/2,c=this.A/2,d,x,r=this.width/2-.25,h=this.height/2,y=Math.PI/3,m=.5/Math.cos(y/2),l=Math.sqrt(3)/4/Math.cos(y/2),q=[],F=[],z=this.Qg,C=this.Sg,t=g.N,I=g.O;var k=g.L;var u=g.M,A=this.height/2-this.$-this.Cb+.5,J=this.width/2-this.ca-this.Hb+.5-(this.height>>2)+A/2,G=this.zoom*this.fc;C.length!==f.aj&&(this.Qg=this.j.V(Float32,12*f.aj,"Life.hexCells"),this.Sg=this.j.V(Uint32,f.aj,"Life.hexColours"),z=this.Qg,C=this.Sg);-1!==this.ja&&(0!==this.oa?
(t=Math.round((this.width-this.oa)/2)-1,I=t+this.oa-1+2):(t=0,I=this.width-1),0!==this.qa?(k=Math.round((this.height-this.qa)/2)-1,u=k+this.qa-1+2):(k=0,u=this.height-1));g=y/2;for(x=0;5>=x;x+=1)q[x]=Math.cos(g)*l,F[x]=Math.sin(g)*m,q[x]+=F[x]/2,g+=y;y=q[0];m=F[0];l=q[1];var E=F[1];var B=q[2];var D=F[2];var v=q[3];var w=F[3];var M=q[4];var K=F[4];q=q[5];F=F[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(g=x=0;k<=u;k+=1){var P=(k+A-h)*G+c;if(P>=-G&&P<this.A+
G){P=a[k];var Z=k-h;var Y=J-r-(Z+A)/2;for(d=t;d<=I;d+=1){var S=(d+Y)*G+b;S>=-G&&S<this.C+G&&(S=P[d],0<S&&(C[x]=(S<<f.En)+g,S=d-r,z[g]=y+S,z[g+1]=m+Z,z[g+2]=l+S,z[g+3]=E+Z,z[g+4]=B+S,z[g+5]=D+Z,z[g+6]=v+S,z[g+7]=w+Z,z[g+8]=M+S,z[g+9]=K+Z,z[g+10]=q+S,z[g+11]=F+Z,g+=12,x+=1),x===f.aj&&(this.Sf=x,this.Ag(!0),g=x=0))}}}this.Sf=x;0<x&&(this.Ag(!0),g=0);if(this.nc){this.context.strokeStyle="rgb("+(this.Qc>>16)+","+(this.Qc>>8&255)+","+(this.Qc&255)+")";a=Math.log(G/4)/Math.log(ViewConstants.tb/4);this.context.lineWidth=
a+1.5|0;x=1.15;y*=x;m*=x;l*=x;E*=x;B*=x;D*=x;v*=x;w*=x;x=0;u=c/G-A+h|0;for(k=-c/G-A+h|0;k<=u;k+=1)if(P=(k+A-h)*G+c,P>=-G&&P<this.A+G)for(Z=k-h,Y=J-r-(Z+A)/2,t=-b/G-Y-G|0,I=b/G-Y+G|0,d=t;d<=I;d+=1)S=(d+Y)*G+b,S>=-G&&S<this.C+G&&(S=d-r,z[g]=y+S,z[g+1]=m+Z,z[g+2]=l+S,z[g+3]=E+Z,z[g+4]=B+S,z[g+5]=D+Z,z[g+6]=v+S,z[g+7]=w+Z,g+=8,x+=1),x===f.aj&&(this.Sf=x,this.Ag(!1),g=x=0);this.Sf=x;0<x&&this.Ag(!1)}};a.prototype.Ag=function(a){var e,b=this.context,c=this.width/2-this.ca-this.Hb,d=this.height/2-this.$-
this.Cb,x=this.zoom*this.fc,r=this.C/2,h=this.A/2,y=0,m=0,l=12,q=0,F=-1,z=this.Qg,C=this.Sf,t=this.Sg,I=(1<<f.En)-1;c=c+d/2+-(this.height>>2)+.5;d+=.5;if(a&&t.sort){q=(f.aj<<f.En)+256;for(e=C;e<f.aj;e+=1)t[e]=q;t.sort()}b.beginPath();a||(y=0,m=l=8,F=q=0);for(e=0;e<C;e+=1){a&&(q=t[e],y=q&I,m=y+l,q>>=f.En);var k=z[y];var u=z[y+1];var A=u+d;var J=k+c-A/2;y+=2;A=A*x+h;J=J*x+r;var G=(z[y+1]-u)*x;var E=(z[y]-k)*x-G/2;y+=2;q!==F&&(F=q,0<e&&(a?b.fill():b.stroke(),b.beginPath()),a&&(b.fillStyle=this.Ci[q]));
b.moveTo(J,A);for(b.lineTo(E+J,G+A);y<m;)G=(z[y+1]-u)*x,E=(z[y]-k)*x-G/2,y+=2,b.lineTo(E+J,G+A);m+=l}a?b.fill():b.stroke()};a.prototype.ow=function(a,g,b){var e="",c=g.pc?g.Td:g.F,d=c.N,f=c.O,n=c.M,y=c.L,m=f-d+1,l=n-y+1,q=0,F=[];var z=0;var C=!1,t=this.pa,I=null;if(2>=g.g&&!g.pc)C=!0,F[0]="b",F[1]="o";else for(g.pc?z=7:z=g.g,F[0]=".",c=0;c<z-1;c+=1)F[c+1]=24<=c?String.fromCharCode(112+(c/24|0)-1)+String.fromCharCode(65+c%24):String.fromCharCode(65+c);b&&(e+=g.lb);0===this.za&&(l=m=0,n=y-1);e+="x = "+
m+", y = "+l+", rule = ";e="LifeHistory"===a.rf?e+a.rf:e+a.vg;e+=a.Nq;e+="\n";for(a=e.length;y<=n;){c=d;C?(I=t[y],z=I[c],m=z<=this.Nd||z===this.uc?0:1):m=g.getState(c,y,!1);l=1;for(c+=1;c<=f+1;)c>f?z=-1:C?(z=I[c],z=z<=this.Nd||z===this.uc?0:1):z=g.getState(c,y,!1),z!==m?((-1!==z||0!==m)&&0<q&&(1<q&&(e+=q),e+="$",69<=e.length-a&&(e+="\n",a=e.length),q=0),0<m?(1<l&&(e+=l),e+=F[m]):c<=f&&(1<l&&(e+=l),e+=F[m]),69<=e.length-a&&(e+="\n",a=e.length),l=1,m=z):l+=1,c+=1;q+=1;y+=1}e+="!\n";b&&(e+=g.ae);return e};
a.prototype.Lu=function(a,g,b){var e=this.Nb,c=this.ua,d=this.ea,n=this.Sa,h=this.pa,y=this.$a,m=this.Ta,l=this.gc,q=this.F,F=this.aa,z=this.Td,C=Math.round((this.width-this.oa)/2),t=Math.round((this.height-this.qa)/2),I=C+this.oa-1,k=t+this.qa-1,u=!0,A=0;-1!==this.ja&&(0===this.oa&&(C=0,I=this.width-1),0===this.qa&&(t=0,k=this.height-1));if(a!==(a&this.cb)||g!==(g&this.gb)){for(u=!1;this.width<this.U&&(a!==(a&this.cb)||g!==(g&this.gb));)this.$p(),a+=this.width>>2,g+=this.height>>2;a===(a&this.cb)&&
g===(g&this.gb)&&(u=!0,e=this.Nb,c=this.ua,d=this.ea,n=this.Sa,h=this.pa,y=this.$a,m=this.Ta,l=this.gc)}if(u&&(-1===this.ja||a>=C&&a<=I&&g>=t&&g<=k)){this.mn=!0;if(this.ra)e=h[g][a],2===this.g?(l=this.Za,1===b&&(b=this.Za)):(l=this.g-1+this.da,0<b&&(b=this.da+b)),h[g][a]=b,y[g>>4][a>>8]|=1<<(~(a>>4)&15),m[g>>4][a>>8]|=1<<(~(a>>4)&15),e!==l&&b===l?this.za+=1:e===l&&b!==l&&--this.za;else{(C=2>=this.g?1===(b&1):b===this.g-1)?(0===(e[g][a>>4]&1<<(~a&15))&&(this.za+=1),h[g][a]=this.Za,y[g>>4][a>>8]|=1<<
(~(a>>4)&15),m[g>>4][a>>8]|=1<<(~(a>>4)&15),e[g][a>>4]|=1<<(~a&15),c[g>>4][a>>8]|=1<<(~(a>>4)&15),d[g][a>>4]|=1<<(~a&15)):(0!==(e[g][a>>4]&1<<(~a&15))&&--this.za,h[g][a]=this.Ma,y[g>>4][a>>8]|=1<<(~(a>>4)&15),m[g>>4][a>>8]|=1<<(~(a>>4)&15),e[g][a>>4]&=~(1<<(~a&15)),c[g>>4][a>>8]|=1<<(~(a>>4)&15),d[g][a>>4]&=~(1<<(~a&15)));n[g>>4][a>>8]|=1<<(~(a>>4)&15);if(this.pc&&l){e=l[g][a];0<e&&(e=ViewConstants.bb.indexOf(e-128));if(6===b&&6!==e||6!==b&&6===e)A=1;2===b?h[g][a]=f.Jh:l[g][a]=0===b?0:ViewConstants.bb[b]+
128}2<this.g&&(0<b&&(b=this.da+b),h[g][a]=b)}0<b?(a<q.N&&(q.N=a),a>q.O&&(q.O=a),g<q.L&&(q.L=g),g>q.M&&(q.M=g),a<z.N&&(z.N=a),a>z.O&&(z.O=a),g<z.L&&(z.L=g),g>z.M&&(z.M=g),this.ra&&b===this.g-1+this.da&&(a<F.N&&(F.N=a),a>F.O&&(F.O=a),g<F.L&&(F.L=g),g>F.M&&(F.M=g))):0<this.za&&(a===q.N||a===q.O||g===q.M||g===q.L)&&a>=q.N&&a<=q.O&&g>=q.L&&g<=q.M&&this.gs(a,g)}return A};a.prototype.fw=function(a){var e=1<<f.fi;a?(this.Ya=Array.Z(Uint32,1,e,0,this.j,"Life.popGraphData"),this.ze=Array.Z(Uint32,1,e,0,this.j,
"Life.birthGraphData"),this.Be=Array.Z(Uint32,1,e,0,this.j,"Life.deathGraphData"),this.xe=e):(this.Ya=Array.Z(Uint32,0,0,0,this.j,"Life.popGraphData"),this.ze=Array.Z(Uint32,0,0,0,this.j,"Life.birthGraphData"),this.Be=Array.Z(Uint32,0,0,0,this.j,"Life.deathGraphData"),this.xe=0)};a.prototype.getState=function(a,g,b){var e=0,c=ViewConstants.bb[3]+128,d=ViewConstants.bb[4]+128,f=ViewConstants.bb[5]+128,n=ViewConstants.bb[6]+128,y=Math.round((this.width-this.oa)/2),m=Math.round((this.height-this.qa)/
2),l=y+this.oa-1,q=m+this.qa-1;a===(a&this.cb)&&g===(g&this.gb)&&(e=this.pa[g][a],b||2<this.g?2<this.g&&0<e&&(e<=this.da?e=0:(-1!==this.ja&&(0===this.oa&&(y=0,l=this.width-1),0===this.qa&&(m=0,q=this.height-1)),e=-1===this.ja||e!==this.uc||a>=y&&a<=l&&g>=m&&g<=q?this.g+this.da-e:0)):this.gc?(a=this.gc[g][a],a===d||a===n?(e>=this.Za&&(a=c),e=ViewConstants.bb.indexOf(a-128)):a===c||a===f?(e<this.Za&&(a=d),e=ViewConstants.bb.indexOf(a-128)):e=e===this.Ma?0:e<=this.Nd?2:1):e=e<=this.Nd||e===this.uc?0:
1);return e};a.prototype.pm=function(a){var e,b,c,d=a.length,f=a[0].length,r=this.Ae,h=0;for(e=0;e<d;e+=1){var y=a[e];for(b=0;b<f;b+=1)(c=y[b])&&(h+=r[c])}return h};a.prototype.am=function(a,g,b){var e=this.Hd.Vc.length,c=this.Hd.Jz(a);e!==this.Hd.Vc.length&&(this.ij-=f.jm);if(c){for(this.Fj(c);this.u<a-1;)this.Aa=1,this.hj(!1,!0,b),this.Mj();this.u<a&&(this.Aa=1,this.hj(g,!0,b),this.Mj())}};a.prototype.Fj=function(a){var e,b=this.Ga,c=this.Df;this.u=a.u;if(0!==(this.u&1)){var d=this.Lb;var f=this.oc;
var r=this.Sa;var h=this.ua}else d=this.oc,f=this.Lb,r=this.ua,h=this.Sa;var y=d.length;for(e=0;e<y;e+=1)d[e].set(b),this.pa[e].set(c),this.G[e].set(c);Array.Af(d,f);Array.Af(this.Ta,this.$a);a.hz(d,r,this);a.gz(this.pa,this.Ta,this);Array.Af(r,h);Array.Af(d,f);this.F.N=a.F.N;this.F.L=a.F.L;this.F.O=a.F.O;this.F.M=a.F.M;this.aa.N=a.aa.N;this.aa.L=a.aa.L;this.aa.O=a.aa.O;this.aa.M=a.aa.M;this.za=a.za;this.yb=a.yb;this.mc=a.mc;this.Aa=a.Aa};a.prototype.bm=function(){if(0!==(this.u&1)){var a=this.Lb;
var g=this.Sa}else a=this.oc,g=this.ua;this.Hj(!1,a,g)};a.prototype.wo=function(a){this.Fj(this.vo);this.Hd.reset();this.ij=f.jm;a||this.bm()};a.prototype.Hj=function(a,g,b){this.Hd.bm(g,b,this.pa,this.Ta,this.gc,this.F,this.aa,this.za,this.yb,this.mc,this.u,(this.f-1>>4)+1,this.m,this,a,this.Aa)};a.prototype.qz=function(a){this.Hd.reset();this.Hj(!0,this.oc,this.ua);a||this.bm()};a.prototype.bz=function(){var a=this.gc,g=this.ga;this.height=this.width=512;this.ra&&this.Mb.resize(this.width,this.height);
this.oc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Lb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.Nb=Array.mf(this.oc,"Life.grid16");this.ea=Array.mf(this.Lb,"Life.nextGrid16");g&&(this.ga=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.dd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive"),this.Dc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=
this.width>>4;this.m=this.height>>4;g&&(this.Zd=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.ua=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Sa=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.$a=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Ta=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.Ga=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ef=this.j.V(Uint16,
(this.width-1>>4)+1,"Life.blankRow16");this.tc=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.Df=this.j.V(Uint8,this.width,"Life.blankColourRow");this.Gf=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.pa=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.colourGrid");this.G=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.smallColourGrid");this.wa=Array.Tc(this.G,1,"Life.smallColourGrid4");this.ya=Array.Tc(this.G,3,"Life.smallColourGrid8");this.Da=Array.Tc(this.G,
7,"Life.smallColourGrid16");this.zi=Array.mf(this.pa,"Life.colourGrid16");a&&(this.gc=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.overlayGrid"),this.X=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.smallOverlayGrid"),this.Ye=Array.Tc(this.X,1,"Life.smallColourGrid4"),this.Ze=Array.Tc(this.X,3,"Life.smallColourGrid8"),this.Zf=Array.Tc(this.X,7,"Life.smallColourGrid16"),this.Tf=Array.mf(this.gc,"Life.overlayGrid16"));this.cb=this.width-1;this.gb=this.height-1;this.Hd.Bu((this.f-
1>>4)+1,this.m,0)};a.prototype.$p=function(){var a=this.oc,g=this.Lb,b=this.pa,c=this.G,d=this.gc,f=this.X,r=this.ga,h=this.dd,y=this.Dc,m=this.Zd,l=this.ua,q=this.Sa,F=this.$a,z=this.Ta,C=this.height,t=this.m,I=this.width>>1,k=this.height>>1,u;if(this.width<this.U){this.width*=2;this.height*=2;this.ra&&this.Mb.resize(this.width,this.height);this.oc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Lb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.Nb=
Array.mf(this.oc,"Life.grid16");this.ea=Array.mf(this.Lb,"Life.nextGrid16");r&&(this.ga=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.dd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive"),this.Dc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=this.width>>4;this.m=this.height>>4;r&&(this.Zd=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.ua=Array.Z(Uint16,this.m,(this.f-1>>4)+
1,0,this.j,"Life.tileGrid");this.Sa=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.$a=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Ta=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.Ga=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ef=this.j.V(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.tc=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.Df=this.j.V(Uint8,this.width,"Life.blankColourRow");
this.Gf=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.pa=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.colourGrid");this.G=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.smallColourGrid");this.wa=Array.Tc(this.G,1,"Life.smallColourGrid4");this.ya=Array.Tc(this.G,3,"Life.smallColourGrid8");this.Da=Array.Tc(this.G,7,"Life.smallColourGrid16");this.zi=Array.mf(this.pa,"Life.colourGrid16");d&&(this.gc=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.overlayGrid"),
this.X=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.smallOverlayGrid"),this.Ye=Array.Tc(this.X,1,"Life.smallColourGrid4"),this.Ze=Array.Tc(this.X,3,"Life.smallColourGrid8"),this.Zf=Array.Tc(this.X,7,"Life.smallColourGrid16"),this.Tf=Array.mf(this.gc,"Life.overlayGrid16"));this.cb=this.width-1;this.gb=this.height-1;for(u=0;u<C;u+=1)this.oc[u+k].set(a[u],I>>3),this.Lb[u+k].set(g[u],I>>3),this.pa[u+k].set(b[u],I),this.G[u+k].set(c[u],I),d&&f&&(this.gc[u+k].set(d[u],I),this.X[u+k].set(f[u],
I)),r&&h&&y&&(this.ga[u+k].set(r[u],I>>4),this.dd[u+k].set(h[u],I>>4),this.Dc[u+k].set(y[u],I>>4));k=t>>1;for(u=0;u<t;u+=1)m&&this.Zd[u+k].set(m[u],this.Zd[u].length>>2),this.ua[u+k].set(l[u],this.ua[u].length>>2),this.Sa[u+k].set(q[u],this.Sa[u].length>>2),this.$a[u+k].set(F[u],this.$a[u].length>>2),this.Ta[u+k].set(z[u],this.Ta[u].length>>2);I=this.width>>2;k=this.height>>2;this.Hd.Bu((this.f-1>>4)+1,this.m,I);this.ca+=I;this.$+=k;this.S&&(this.ca-=k/2|0);this.F.N+=I;this.F.O+=I;this.F.M+=k;this.F.L+=
k;this.aa.N+=I;this.aa.O+=I;this.aa.M+=k;this.aa.L+=k;this.Ed.N+=I;this.Ed.O+=I;this.Ed.M+=k;this.Ed.L+=k;this.Td.N+=I;this.Td.O+=I;this.Td.M+=k;this.Td.L+=k}};a.prototype.yw=function(a){var e=this.F,b=this.width,c=this.height,d=!1;b<this.U&&this.Aa&&(e.N<=a||e.L<=a||e.O>=b-a||e.M>=c-a)&&(this.$p(),d=!0);return d};a.prototype.Lk=function(){var a,g,b=this.Ae;for(a=0;65536>a;a+=1){var c=a;for(g=0;c;g+=1)c&=c-1;b[a]=g}};a.prototype.zk=function(){var a,g,b=this.Di,c=this.Za;for(a=0;256>a;a+=1)for(g=0;8>
g;g+=1)b[(a<<3)+g]=a&1<<7-g?c:0};a.prototype.dz=function(a,g){var e,b=0,c=this.Ae;var d=this.F;var f=d.N,h=d.O,y=d.M;d=d.L;if(this.ra)for(;d<=y;d+=1){var m=g[d];for(e=f;e<=h;e+=1)0<m[e]&&(b+=1)}else for(f>>=4,h>>=4;d<=y;d+=1)for(m=a[d],e=f;e<=h;e+=1)g=c[m[e]],b+=g;this.za=b;this.mc=this.yb=0};a.prototype.Au=function(a,g){var e=this.context;var b=this.Uf?4278190080:255;this.C=a;this.A=g;this.Ai=this.Nc=this.yd=null;this.yd=e.createImageData(e.canvas.width,e.canvas.height);this.yd.data.buffer?this.Nc=
new Uint32Array(this.yd.data.buffer):(this.Nc=new Uint32Array(this.yd.data.length>>2),this.Ai=new Uint8Array(this.Nc.buffer));this.tg=this.j.V(Uint32,a,"Life.blankPixelRow");for(g=0;g<a;g+=1)this.tg[g]=b;this.Ck()};a.prototype.Fw=function(a,g,b){var e,c,d=this.pa,f=a.width,n=a.height,y=this.cb,m=this.gb,l=this.Jh,q=ViewConstants.bb[2];for(c=0;c<n;c+=1){var F=a.le[c];var z=d[c+b&m];for(e=0;e<f;e+=1)F[e]===q&&(z[e+g&y]=l)}};a.prototype.Ax=function(){this.Tf=this.X=this.gc=null};a.prototype.Qw=function(){this.gc=
Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.overlayGrid");this.X=Array.Z(Uint8,this.height,this.width,this.Ma,this.j,"Life.smallOverlayGrid");this.Ye=Array.Tc(this.X,1,"Life.smallOverlayGrid4");this.Ze=Array.Tc(this.X,3,"Life.smallOverlayGrid8");this.Zf=Array.Tc(this.X,7,"Life.smallOverlayGrid16");this.Tf=Array.mf(this.gc,"Life.overlayGrid16")};a.prototype.Bx=function(){this.Zd=this.Dc=this.dd=this.ga=null};a.prototype.Tw=function(){this.ga=Array.Z(Uint16,this.height,(this.width-1>>
4)+1,0,this.j,"Life.state6Mask");this.dd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive");this.Dc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells");this.Zd=Array.Z(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid")};a.prototype.Dy=function(){var a,g,b=this.cb,c=this.gb,d=this.Zd,f=ViewConstants.bb[6]+128;for(g=0;g<this.ga.length;g+=1)this.ga[g].set(this.Ef),this.Dc[g].set(this.Ef),this.dd[g].set(this.Ef);for(g=0;g<this.Zd.length;g+=1)this.Zd[g].set(this.tc);
for(g=1;g<this.height-1;g+=1){var r=this.gc[g];var h=this.ga[g-1&c];var y=this.ga[g&c];var m=this.ga[g+1&c];var l=this.Dc[g&c];var q=d[(g-1&c)>>4];var F=d[(g&c)>>4];var z=d[(g+1&c)>>4];for(a=1;a<=this.width-1;a+=1)if(r[a]===f){var C=a&b;l[C>>4]|=1<<(~C&15);h[C>>4]|=1<<(~C&15);y[C>>4]|=1<<(~C&15);m[C>>4]|=1<<(~C&15);q[C>>8]|=1<<(~(C>>4)&15);F[C>>8]|=1<<(~(C>>4)&15);z[C>>8]|=1<<(~(C>>4)&15);C=a-1&b;h[C>>4]|=1<<(~C&15);y[C>>4]|=1<<(~C&15);m[C>>4]|=1<<(~C&15);q[C>>8]|=1<<(~(C>>4)&15);F[C>>8]|=1<<(~(C>>
4)&15);z[C>>8]|=1<<(~(C>>4)&15);C=a+1&b;h[C>>4]|=1<<(~C&15);y[C>>4]|=1<<(~C&15);m[C>>4]|=1<<(~C&15);q[C>>8]|=1<<(~(C>>4)&15);F[C>>8]|=1<<(~(C>>4)&15);z[C>>8]|=1<<(~(C>>4)&15)}}};a.prototype.Cy=function(a,g,b){var e,c,d=a.width,f=a.height,n=this.cb,y=this.gb,m=this.Zd;for(c=0;c<f;c+=1){var l=a.le[c];var q=this.ga[c-1+b&y];var F=this.ga[c+b&y];var z=this.ga[c+1+b&y];var C=this.Dc[c+b&y];var t=m[(c-1+b&y)>>4];var I=m[(c+b&y)>>4];var k=m[(c+1+b&y)>>4];for(e=0;e<d;e+=1)if(6===l[e]){var u=e+g&n;C[u>>4]|=
1<<(~u&15);q[u>>4]|=1<<(~u&15);F[u>>4]|=1<<(~u&15);z[u>>4]|=1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);I[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15);u=e-1+g&n;q[u>>4]|=1<<(~u&15);F[u>>4]|=1<<(~u&15);z[u>>4]|=1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);I[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15);u=e+1+g&n;q[u>>4]|=1<<(~u&15);F[u>>4]|=1<<(~u&15);z[u>>4]|=1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);I[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15)}}};a.prototype.az=function(a){var e,b=this.pa,c=this.Di;var d=this.F;
var f=d.N>>4,r=d.O>>4,h=d.M;for(e=d.L;e<=h;e+=1){var y=a[e];var m=b[e];var l=f<<4;for(d=f;d<=r;d+=1){var q=y[d]>>8<<3;m[l]=c[q];l+=1;m[l]=c[q+1];l+=1;m[l]=c[q+2];l+=1;m[l]=c[q+3];l+=1;m[l]=c[q+4];l+=1;m[l]=c[q+5];l+=1;m[l]=c[q+6];l+=1;m[l]=c[q+7];l+=1;q=(y[d]&255)<<3;m[l]=c[q];l+=1;m[l]=c[q+1];l+=1;m[l]=c[q+2];l+=1;m[l]=c[q+3];l+=1;m[l]=c[q+4];l+=1;m[l]=c[q+5];l+=1;m[l]=c[q+6];l+=1;m[l]=c[q+7];l+=1}}};a.prototype.Mx=function(a,g,b){var e=this.Ma,c=this.Ga,d=this.Df,f=this.tg,n=this.tc;var y=this.Uf?
4278190080:255;this.Mk();this.bh=!1;this.cb=this.width-1;this.gb=this.height-1;this.F=new BoundingBox(0,0,this.width-1,this.height-1);this.aa=new BoundingBox(0,0,this.width-1,this.height-1);this.Ed=new BoundingBox(0,0,this.width-1,this.height-1);this.Td=new BoundingBox(0,0,this.width-1,this.height-1);this.Ij=new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.zk();AliasManager.Dd();this.Au(g,b);b=(this.width-1>>3)+1;for(a=0;a<b;a+=1)c[a]=0;b=this.width;for(a=0;a<b;a+=1)d[a]=e;b=this.f>>
4;for(a=0;a<b;a+=1)n[a]=0;for(a=0;a<g;a+=1)f[a]=y};a.prototype.Lw=function(){var a=0;this.Ia[a]=new c("Mono",new b(new d(0,0,0),new d(0,0,0)),new b(new d(255,255,255),new d(255,255,255)),new d(0,0,0),new d(255,255,255),new b(new d(0,0,0),new d(-1,-1,-1)),new b(new d(0,0,0),new d(0,0,0)),new d(0,0,0));a+=1;this.Ia[a]=new c("Blues",new b(new d(0,0,47),new d(0,0,255)),new b(new d(0,255,255),new d(255,255,255)),new d(0,0,0),new d(0,255,255),new b(new d(0,0,255),new d(-1,-1,-1)),new b(new d(0,0,47),new d(0,
0,128)),new d(0,0,0));a+=1;this.Ia[a]=new c("Fire",new b(new d(32,0,0),new d(160,0,0)),new b(new d(255,144,0),new d(255,255,0)),new d(0,0,0),new d(255,144,0),new b(new d(240,0,0),new d(-1,-1,-1)),new b(new d(32,0,0),new d(160,0,0)),new d(0,0,0));a+=1;this.Ia[a]=new c("Poison",new b(new d(0,24,0),new d(0,128,0)),new b(new d(0,255,255),new d(255,255,255)),new d(0,0,0),new d(0,255,255),new b(new d(0,192,0),new d(-1,-1,-1)),new b(new d(0,24,0),new d(0,128,0)),new d(0,0,0));a+=1;this.Ia[a]=new c("Yellow",
new b(new d(0,47,0),new d(128,0,128)),new b(new d(255,255,0),new d(255,255,255)),new d(0,32,128),new d(255,255,0),new b(new d(192,64,64),new d(-1,-1,-1)),new b(new d(0,47,0),new d(128,0,128)),new d(0,32,128));a+=1;this.Ia[a]=new c("Gray",new b(new d(16,16,16),new d(104,104,104)),new b(new d(176,176,176),new d(240,240,240)),new d(0,0,0),new d(240,240,240),new b(new d(160,160,160),new d(-1,-1,-1)),new b(new d(16,16,16),new d(104,104,104)),new d(0,0,0));a+=1;this.Ia[a]=new c("Inverse",new b(new d(255,
255,255),new d(255,255,255)),new b(new d(0,0,0),new d(0,0,0)),new d(255,255,255),new d(0,0,0),new b(new d(255,255,255),new d(-1,-1,-1)),new b(new d(255,255,255),new d(255,255,255)),new d(255,255,255));a+=1;this.Ia[a]=new c("Day",new b(new d(240,240,240),new d(0,255,255)),new b(new d(0,0,255),new d(0,0,0)),new d(255,255,255),new d(0,0,255),new b(new d(0,255,255),new d(-1,-1,-1)),new b(new d(240,240,240),new d(0,192,192)),new d(255,255,255));a+=1;this.Ia[a]=new c("Occupied",new b(new d(240,240,240),
new d(240,240,240)),new b(new d(240,240,240),new d(240,240,240)),new d(0,0,0),new d(240,240,240),new b(new d(240,240,240),new d(240,240,240)),new b(new d(240,240,240),new d(240,240,240)),new d(0,0,0));a+=1;this.Ia[a]=new c("Red",new b(new d(160,0,0),new d(160,0,0)),new b(new d(240,240,240),new d(240,240,240)),new d(0,0,0),new d(255,255,255),new b(new d(160,160,160),new d(160,160,160)),new b(new d(160,0,0),new d(160,0,0)),new d(0,0,0));a+=1;this.Ia[a]=new c("LifeHistory",new b(new d(0,0,96),new d(0,
0,160)),new b(new d(0,240,0),new d(16,255,16)),new d(0,0,0),new d(16,255,16),new b(new d(0,128,160),new d(-1,-1,-1)),new b(new d(0,0,96),new d(0,0,160)),new d(0,0,0));a+=1;this.Ia[a]=new c("Generations",new b(new d(64,0,0),new d(255,0,0)),new b(new d(255,255,0),new d(255,255,255)),new d(0,0,0),new d(255,255,0),new b(new d(255,0,0),new d(-1,-1,-1)),new b(new d(64,0,0),new d(128,0,0)),new d(0,0,0));a+=1;this.Ia[a]=new c("Golly",new b(new d(48,48,48),new d(48,48,48)),new b(new d(255,255,255),new d(255,
255,255)),new d(48,48,48),new d(255,255,0),new b(new d(255,0,0),new d(-1,-1,-1)),new b(new d(48,48,48),new d(48,48,48)),new d(48,48,48));this.Ia[a].fm(10,new d(80,80,80),new d(112,112,112));a+=1;this.Ia[a]=new c("MCell",new b(new d(0,0,0),new d(0,0,0)),new b(new d(255,255,0),new d(255,255,0)),new d(0,0,0),new d(255,255,0),new b(new d(128,128,0),new d(128,128,128)),new b(new d(0,0,0),new d(0,0,0)),new d(0,0,0));this.Ia[a].fm(5,new d(64,0,0),new d(99,3,1));a+=1;this.Ia[a]=new c("Catagolue",new b(new d(160,
221,204),new d(160,221,204)),new b(new d(0,0,0),new d(0,0,0)),new d(192,255,238),new d(0,0,0),new b(new d(96,192,139),new d(2,129,2)),new b(new d(160,221,204),new d(160,221,204)),new d(192,255,238));this.Ia[a].fm(0,new d(160,221,204),new d(160,221,204));a+=1;this.Ia[a]=new c("Caterer",new b(new d(54,57,62),new d(54,57,62)),new b(new d(255,255,255),new d(255,255,255)),new d(54,57,62),new d(255,170,0),new b(new d(255,85,0),new d(-1,-1,-1)),new b(new d(54,57,62),new d(54,57,62)),new d(54,57,62));this.Ia[a].fm(0,
new d(0,0,0),new d(0,0,0));a+=1;this.Ia[a]=new c("Life32",new b(new d(255,255,255),new d(255,255,255)),new b(new d(0,0,128),new d(0,0,128)),new d(255,255,255),new d(0,0,128),new b(new d(0,0,64),new d(-1,-1,-1)),new b(new d(255,255,255),new d(255,255,255)),new d(255,255,255));this.Ia[a].fm(5,new d(192,192,192),new d(128,128,128));this.Ia[a+1]=new c(Keywords.vk,new b(new d(0,0,0),new d(0,0,0)),new b(new d(0,0,0),new d(0,0,0)),new d(0,0,0),new d(0,0,0),new b(new d(0,0,0),new d(0,0,0)),new b(new d(0,
0,0),new d(0,0,0)),new d(0,0,0));this.Wd=this.Ia.length-1;this.Yc=new b(new d(0,0,0),new d(0,0,0));this.vb=new b(new d(0,0,0),new d(0,0,0));this.ed=new d(0,0,0);this.ye=new d(0,0,0);this.cd=new b(new d(0,0,0),new d(0,0,0));this.wd=new b(new d(0,0,0),new d(0,0,0));this.bf=new d(0,0,0);this.cc=new b(new d(0,0,0),new d(0,0,0));this.Na=new b(new d(0,0,0),new d(0,0,0));this.Ec=new d(0,0,0);this.Kd=new d(0,0,0);this.Cc=new b(new d(0,0,0),new d(0,0,0));this.bd=new b(new d(0,0,0),new d(0,0,0));this.Ld=new d(0,
0,0)};a.prototype.nk=function(a,g,b){var e=this.Ia[a];this.de=a;this.Yc.set(this.cc);this.vb.set(this.Na);this.ed.set(this.Ec);this.ye.set(this.Kd);this.wd.set(this.bd);this.cd.set(this.Cc);this.bf.set(this.Ld);this.cc.set(e.xa);this.Na.set(e.va);this.Ec.set(e.Ma);this.Kd.set(e.Ce);this.bd.set(e.zb);this.Cc.set(e.Pa);this.Ld.set(e.Rg);this.Li=g;this.Wu=e.Lx(this.pc);this.Qc=e.cf;this.Rd=e.ef;this.Wm||(this.Sd=e.Zp);this.Uf?(this.Pf=-16777216|(this.Qc&255)<<16|(this.Qc>>8&255)<<8|this.Qc>>16,this.If=
-16777216|(this.Rd&255)<<16|(this.Rd>>8&255)<<8|this.Rd>>16):(this.Pf=this.Qc>>16<<24|(this.Qc>>8&255)<<16|(this.Qc&255)<<8|255,this.If=this.Rd>>16<<24|(this.Rd>>8&255)<<16|(this.Rd&255)<<8|255);b.Ms()};a.prototype.Kw=function(){var a;var g=this.Om;var b=this.lc;var c=this.Za;var d=this.Jh;var f=this.Nd;g[0]=0;g[b+1]=c;for(a=1;a<b+1;a+=1)g[a]=Math.min(Math.max(a-1,d),f),g[a+b+1]=Math.max(Math.min(a+1,b),c);if(0===this.da)for(a=this.Za;a<=this.lc;a+=1)g[a]=0;else this.da<this.Nd&&(g[this.Nd-this.da]=
0)};a.prototype.Ky=function(){var a;for(a=0;a<this.Ia.length;a+=1){var g=this.Ia[a];if(g.Qj)if(2>=this.g)g.Pa.B.set(g.Ce);else{var b=1/(this.g-2);g.Pa.B.red=g.Pa.w.red*b+g.Ce.red*(1-b)|0;g.Pa.B.green=g.Pa.w.green*b+g.Ce.green*(1-b)|0;g.Pa.B.blue=g.Pa.w.blue*b+g.Ce.blue*(1-b)|0}}};a.prototype.Ss=function(){var a=(this.Li-1)/this.Mi;if(2<this.g){var g=0;this.jb[g]=this.bf.red*a+this.Ld.red*(1-a);this.fb[g]=this.bf.green*a+this.Ld.green*(1-a);this.eb[g]=this.bf.blue*a+this.Ld.blue*(1-a);for(g=1;g<this.g-
1;g+=1){var b=3>=this.g?0:(g-1)/(this.g-3);var c=this.cd.B.red*b+this.cd.w.red*(1-b);var d=this.Cc.B.red*b+this.Cc.w.red*(1-b);this.jb[g+this.da]=c*a+d*(1-a);c=this.cd.B.green*b+this.cd.w.green*(1-b);d=this.Cc.B.green*b+this.Cc.w.green*(1-b);this.fb[g+this.da]=c*a+d*(1-a);c=this.cd.B.blue*b+this.cd.w.blue*(1-b);d=this.Cc.B.blue*b+this.Cc.w.blue*(1-b);this.eb[g+this.da]=c*a+d*(1-a);this.Ub.length>=g&&(b=this.Ub[g],-1!==b&&(this.jb[g+this.da]=b>>16,this.fb[g+this.da]=b>>8&255,this.eb[g+this.da]=b&255))}g=
this.g-1+this.da;this.jb[g]=this.ye.red*a+this.Kd.red*(1-a);this.fb[g]=this.ye.green*a+this.Kd.green*(1-a);this.eb[g]=this.ye.blue*a+this.Kd.blue*(1-a);for(g=0;g<this.da;g+=1)b=1<this.da?1-g/(this.da-1):1,c=this.wd.w.red*b+this.wd.B.red*(1-b),d=this.bd.w.red*b+this.bd.B.red*(1-b),this.jb[g+1]=c*a+d*(1-a),c=this.wd.w.green*b+this.wd.B.green*(1-b),d=this.bd.w.green*b+this.bd.B.green*(1-b),this.fb[g+1]=c*a+d*(1-a),c=this.wd.w.blue*b+this.wd.B.blue*(1-b),d=this.bd.w.blue*b+this.bd.B.blue*(1-b),this.eb[g+
1]=c*a+d*(1-a);0<this.Ub.length&&(b=this.Ub[0],-1!==b&&(this.jb[0]=b>>16,this.fb[0]=b>>8&255,this.eb[0]=b&255))}else{g=0;this.jb[g]=this.ed.red*a+this.Ec.red*(1-a);this.fb[g]=this.ed.green*a+this.Ec.green*(1-a);this.eb[g]=this.ed.blue*a+this.Ec.blue*(1-a);if(0===this.da)for(g=1;g<=this.Nd;g+=1)this.jb[g]=this.ed.red*a+this.Ec.red*(1-a),this.fb[g]=this.ed.green*a+this.Ec.green*(1-a),this.eb[g]=this.ed.blue*a+this.Ec.blue*(1-a);else{var f=this.Nd-this.da+1;for(g=1;g<f;g+=1)this.jb[g]=this.vb.w.red*
a+this.Na.w.red*(1-a),this.fb[g]=this.vb.w.green*a+this.Na.w.green*(1-a),this.eb[g]=this.vb.w.blue*a+this.Na.w.blue*(1-a);for(g=f;g<=this.Nd;g+=1)b=this.Nd===f?1:1-(g-f)/(this.Nd-f),c=this.vb.w.red*b+this.vb.B.red*(1-b),d=this.Na.w.red*b+this.Na.B.red*(1-b),this.jb[g]=c*a+d*(1-a),c=this.vb.w.green*b+this.vb.B.green*(1-b),d=this.Na.w.green*b+this.Na.B.green*(1-b),this.fb[g]=c*a+d*(1-a),c=this.vb.w.blue*b+this.vb.B.blue*(1-b),d=this.Na.w.blue*b+this.Na.B.blue*(1-b),this.eb[g]=c*a+d*(1-a)}for(g=this.Za;g<=
this.lc;g+=1)b=1-(g-this.Za)/(this.lc-this.Za),c=this.Yc.w.red*b+this.Yc.B.red*(1-b),d=this.cc.w.red*b+this.cc.B.red*(1-b),this.jb[g]=c*a+d*(1-a),c=this.Yc.w.green*b+this.Yc.B.green*(1-b),d=this.cc.w.green*b+this.cc.B.green*(1-b),this.fb[g]=c*a+d*(1-a),c=this.Yc.w.blue*b+this.Yc.B.blue*(1-b),d=this.cc.w.blue*b+this.cc.B.blue*(1-b),this.eb[g]=c*a+d*(1-a)}};a.prototype.Pw=function(a){var e=this.jb,b=this.fb,c=this.eb,d;for(d=0;d<a.length;d+=1){var f=a[d];e[d]=f>>16;b[d]=f>>8&255;c[d]=f&255}this.Li=
0};a.prototype.Mw=function(a,g){var e=this.jb,b=this.fb,c=this.eb,d=ViewConstants.bb,f=g.length,h;for(h=0;h<a.length;h+=1)h>=f||-1===g[h]?(e[128+d[h]]=a[h]>>16,b[128+d[h]]=a[h]>>8&255,c[128+d[h]]=a[h]&255):(e[128+d[h]]=g[h]>>16,b[128+d[h]]=g[h]>>8&255,c[128+d[h]]=g[h]&255)};a.prototype.Mc=function(a){var e=this.jb,b=this.fb,c=this.eb,d=this.dg,f=this.Qc,r=this.Rd,h=this.Ci,y=this.S&&this.ue,m=0;h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1);if(2<this.g){if(this.Uf)for(m=0;m<=
this.g+this.da;m+=1)d[m]=-16777216|c[m]<<16|b[m]<<8|e[m],y&&(h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1))}else if(this.Uf){for(m=0;m<this.Za;m+=1)d[m]=-16777216|c[m]<<16|b[m]<<8|e[m],y&&(h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1));for(m=this.Za;m<=this.lc;m+=1)d[m]=-16777216|c[m]*a<<16|b[m]*a<<8|e[m]*a,y&&(h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1));for(m=this.lc+1;256>m;m+=1)d[m]=-16777216|c[m]*a<<16|b[m]*a<<8|e[m]*
a,y&&(h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1))}else{for(m=0;m<this.Za;m+=1)d[m]=e[m]<<24|b[m]<<16|c[m]<<8|255,y&&(h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1));for(m=this.Za;m<=this.lc;m+=1)d[m]=e[m]*a<<24|b[m]*a<<16|c[m]*a<<8|255,y&&(h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1));for(m=this.lc+1;256>m;m+=1)d[m]=e[m]*a<<24|b[m]*a<<16|c[m]*a<<8|255,y&&(h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1))}this.Uf?
(this.Pf=-16777216|(f&255)<<16|(f>>8&255)<<8|f>>16,this.If=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.Pf=f>>16<<24|(f>>8&255)<<16|(f&255)<<8|255,this.If=r>>16<<24|(r>>8&255)<<16|(r&255)<<8|255);-1!==this.ja&&(m=this.uc,d[m]=this.Uf?-16777216|c[m]*a<<16|b[m]*a<<8|e[m]*a:e[m]*a<<24|b[m]*a<<16|c[m]*a<<8|255,y&&(h[m]="#"+(16777216+((e[m]<<16)+(b[m]<<8)+c[m])).toString(16).substr(1)))};a.prototype.uz=function(){var a=this.jb,g=this.fb,b=this.eb;this.uc=-1!==this.ja&&256===this.g+this.da?2:255;-1!==
this.ja&&256>this.g+this.da&&(a[this.uc]=128,g[this.uc]=128,b[this.uc]=128)};a.prototype.Ls=function(a){var e=this.height,b=this.oc,c=this.Lb,d=this.pa,f=this.G,r=this.gc,h=this.X,y=this.ua,m=this.$a,l=this.Ta,q=this.Sa,F=this.Ga,z=this.tc,C=this.Df,t;for(t=0;t<e;t+=1)b[t].set(F),c[t].set(F),a||(d[t].set(C),f[t].set(C),r&&(r[t].set(C),h[t].set(C)));e=this.m;for(t=0;t<e;t+=1)y[t].set(z),q[t].set(z),a||(m[t].set(z),l[t].set(z))};a.prototype.zg=function(a,g){var e=f.bq,b;for(b=0;b<e;b+=1){var c=g[b>>
9&448|b>>6&56|b>>3&7]<<3;c|=g[b>>8&448|b>>5&56|b>>2&7]<<2;c|=g[b>>7&448|b>>4&56|b>>1&7]<<1;c|=g[b>>6&448|b>>3&56|b&7];a[b]=c}};a.prototype.Xz=function(){var a,g=PatternManager.kk,b=PatternManager.dr,c=PatternManager.Wg,d=f.rt,x=!1;if(-1===this.we&&g[0]){if(!g[d-1]){for(a=0;a<d/2;a+=1){var r=g[a];g[a]=g[d-a-1];g[d-a-1]=r}x=!0;this.zg(this.Rf,g)}for(a=0;a<d/2;a+=1)r=g[a],g[a]=1-g[d-a-1],g[d-a-1]=1-r}c?(this.zg(this.Rf,g),this.zg(this.Qf,b)):(this.zg(this.Qf,g),x||this.Rf.set(this.Qf))};a.prototype.Bi=
function(a){var e=0;0!==(a&32768)?e=0:0!==(a&16384)?e=1:0!==(a&8192)?e=2:0!==(a&4096)?e=3:0!==(a&2048)?e=4:0!==(a&1024)?e=5:0!==(a&512)?e=6:0!==(a&256)?e=7:0!==(a&128)?e=8:0!==(a&64)?e=9:0!==(a&32)?e=10:0!==(a&16)?e=11:0!==(a&8)?e=12:0!==(a&4)?e=13:0!==(a&2)?e=14:0!==(a&1)&&(e=15);return e};a.prototype.Dh=function(a){var e=0;0!==(a&1)?e=15:0!==(a&2)?e=14:0!==(a&4)?e=13:0!==(a&8)?e=12:0!==(a&16)?e=11:0!==(a&32)?e=10:0!==(a&64)?e=9:0!==(a&128)?e=8:0!==(a&256)?e=7:0!==(a&512)?e=6:0!==(a&1024)?e=5:0!==
(a&2048)?e=4:0!==(a&4096)?e=3:0!==(a&8192)?e=2:0!==(a&16384)&&(e=1);return e};a.prototype.Ek=function(a){var e=this.gc,b=this.ua,c=this.width,d=this.height,f,r=this.F.M,h=this.F.L,y=this.F.N,m=this.F.O,l,q;for(l=0;l<d;l+=1){var F=e[l];var z=b[l>>4];for(q=f=0;q<c;q+=1)0!==F[q]&&(z[q>>8]|=1<<(~(q>>4)&15),f|=F[q],q<y&&(y=q),q>m&&(m=q));f&&(l<h&&(h=l),l>r&&(r=l))}a||(this.F.M=r,this.F.L=h,this.F.N=y,this.F.O=m)};a.prototype.ks=function(){var a,g,b,c=this.Nb,d=this.Sa,x=this.ua,r,h=this.m,y=this.f>>4,
m=this.tc;var l=0;var q=l+16;for(g=0;g<h;g+=1)x[g].set(m);for(g=0;g<h;g+=1){var F=0;var z=d[g];var C=x[g];var t=0<g?x[g-1]:m;var I=g<h-1?x[g+1]:m;z[0]&=32767;z[y-1]&=65534;for(b=0;b<y;b+=1)if(r=z[b]){var k=C[b];var u=t[b];var A=I[b];for(a=15;0<=a;--a){if(0!==(r&1<<a)){var J=!1;var G=0;var E=l;var B=c[E];if(B=B[F])J=!0,0!==(B&32768)&&(G|=f.jf,G|=f.lg),0!==(B&1)&&(G|=f.sf,G|=f.mg),G|=f.$e;for(E+=1;E<q-1;){B=c[E];if(B=B[F])J=!0,0!==(B&32768)&&(G|=f.jf),0!==(B&1)&&(G|=f.sf);E+=1}B=c[E];if(B=B[F])J=!0,
0!==(B&32768)&&(G|=f.jf,G|=f.Mg),0!==(B&1)&&(G|=f.sf,G|=f.Ng),G|=f.vf;J&&(k|=1<<a,G&&(0!==(G&f.jf)&&(15>a?k|=1<<a+1:0<b&&(C[b-1]|=1)),0!==(G&f.sf)&&(0<a?k|=1<<a-1:b<y-1&&(C[b+1]|=32768)),0!==(G&f.$e)&&(u|=1<<a),0!==(G&f.vf)&&(A|=1<<a),0!==(G&f.lg)&&(15>a?u|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(G&f.mg)&&(0<a?u|=1<<a-1:b<y-1&&(t[b+1]|=32768)),0!==(G&f.Mg)&&(15>a?A|=1<<a+1:0<b&&(I[b-1]|=1)),0!==(G&f.Ng)&&(0<a?A|=1<<a-1:b<y-1&&(I[b+1]|=32768))))}F+=1}C[b]|=k;0<g&&(t[b]|=u);g<h-1&&(I[b]|=A)}else F+=16;l+=16;
q+=16}for(g=0;g<m.length;g+=1)m[g]=0};a.prototype.ms=function(){var a,g,b,c=this.Nb,d=this.Sa,x=this.pa,r=this.ua,h,y=this.m,m=this.f>>4,l=this.tc;var q=0;var F=q+16;for(g=0;g<y;g+=1)r[g].set(l);for(g=0;g<y;g+=1){var z=0;var C=d[g];var t=r[g];var I=0<g?r[g-1]:l;var k=g<y-1?r[g+1]:l;C[0]&=32767;C[m-1]&=65534;for(b=0;b<m;b+=1)if(h=C[b]){var u=t[b];var A=I[b];var J=k[b];for(a=15;0<=a;--a){if(0!==(h&1<<a)){var G=!1;var E=0;var B=q;var D=c[B];var v=x[B];D=D[z];var w=z<<4;0<v[w]&&(D|=32768);w+=1;0<v[w]&&
(D|=16384);w+=1;0<v[w]&&(D|=8192);w+=1;0<v[w]&&(D|=4096);w+=1;0<v[w]&&(D|=2048);w+=1;0<v[w]&&(D|=1024);w+=1;0<v[w]&&(D|=512);w+=1;0<v[w]&&(D|=256);w+=1;0<v[w]&&(D|=128);w+=1;0<v[w]&&(D|=64);w+=1;0<v[w]&&(D|=32);w+=1;0<v[w]&&(D|=16);w+=1;0<v[w]&&(D|=8);w+=1;0<v[w]&&(D|=4);w+=1;0<v[w]&&(D|=2);w+=1;0<v[w]&&(D|=1);D&&(G=!0,0!==(D&32768)&&(E|=f.jf,E|=f.lg),0!==(D&1)&&(E|=f.sf,E|=f.mg),E|=f.$e);for(B+=1;B<F-1;)D=c[B],v=x[B],D=D[z],w=z<<4,0<v[w]&&(D|=32768),w+=1,0<v[w]&&(D|=16384),w+=1,0<v[w]&&(D|=8192),
w+=1,0<v[w]&&(D|=4096),w+=1,0<v[w]&&(D|=2048),w+=1,0<v[w]&&(D|=1024),w+=1,0<v[w]&&(D|=512),w+=1,0<v[w]&&(D|=256),w+=1,0<v[w]&&(D|=128),w+=1,0<v[w]&&(D|=64),w+=1,0<v[w]&&(D|=32),w+=1,0<v[w]&&(D|=16),w+=1,0<v[w]&&(D|=8),w+=1,0<v[w]&&(D|=4),w+=1,0<v[w]&&(D|=2),w+=1,0<v[w]&&(D|=1),D&&(G=!0,0!==(D&32768)&&(E|=f.jf),0!==(D&1)&&(E|=f.sf)),B+=1;D=c[B];v=x[B];D=D[z];w=z<<4;0<v[w]&&(D|=32768);w+=1;0<v[w]&&(D|=16384);w+=1;0<v[w]&&(D|=8192);w+=1;0<v[w]&&(D|=4096);w+=1;0<v[w]&&(D|=2048);w+=1;0<v[w]&&(D|=1024);
w+=1;0<v[w]&&(D|=512);w+=1;0<v[w]&&(D|=256);w+=1;0<v[w]&&(D|=128);w+=1;0<v[w]&&(D|=64);w+=1;0<v[w]&&(D|=32);w+=1;0<v[w]&&(D|=16);w+=1;0<v[w]&&(D|=8);w+=1;0<v[w]&&(D|=4);w+=1;0<v[w]&&(D|=2);w+=1;0<v[w]&&(D|=1);D&&(G=!0,0!==(D&32768)&&(E|=f.jf,E|=f.Mg),0!==(D&1)&&(E|=f.sf,E|=f.Ng),E|=f.vf);G&&(u|=1<<a,E&&(0!==(E&f.jf)&&(15>a?u|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(E&f.sf)&&(0<a?u|=1<<a-1:b<m-1&&(t[b+1]|=32768)),0!==(E&f.$e)&&(A|=1<<a),0!==(E&f.vf)&&(J|=1<<a),0!==(E&f.lg)&&(15>a?A|=1<<a+1:0<b&&(I[b-1]|=1)),
0!==(E&f.mg)&&(0<a?A|=1<<a-1:b<m-1&&(I[b+1]|=32768)),0!==(E&f.Mg)&&(15>a?J|=1<<a+1:0<b&&(k[b-1]|=1)),0!==(E&f.Ng)&&(0<a?J|=1<<a-1:b<m-1&&(k[b+1]|=32768))))}z+=1}t[b]|=u;0<g&&(I[b]|=A);g<y-1&&(k[b]|=J)}else z+=16;q+=16;F+=16}for(g=0;g<l.length;g+=1)l[g]=0};a.prototype.gs=function(a,g){var e,b=this.F.N,c=this.F.O,d=this.F.M,f=this.F.L,h=this.pa,y,m=2>=this.g?this.Za:this.da+1,l;if(a===b)for(l=!1;a<=c&&!l;){for(e=f;e<=d&&!l;)h[e][a]>=m?l=!0:e+=1;l?(this.F.N=a,this.ra&&a>this.aa.N&&(this.aa.N=a)):a+=
1}else if(a===c)for(l=!1;a>=b&&!l;){e=f;for(y=h[e];e<=d&&!l;)y[a]>=m?l=!0:e+=1;l?(this.F.O=a,this.ra&&a<this.aa.O&&(this.aa.O=a)):--a}if(g===f)for(e=g,l=!1;e<=d&&!l;){a=b;for(y=h[e];a<=c&&!l;)y[a]>=m?l=!0:a+=1;l?(this.F.L=e,this.ra&&e>this.aa.L&&(this.aa.L=e)):e+=1}else if(g===d)for(e=g,l=!1;e>=f&&!l;){for(a=b;a<=c&&!l;)h[e][a]>=m?l=!0:a+=1;l?(this.F.M=e,this.ra&&e<this.aa.M&&(this.aa.M=e)):--e}};a.prototype.Zy=function(a){var e,b,c=this.width>>4,d=this.height,f=this.width,r=this.Nb,h=this.gc;var y=
this.pa;var m=this.F,l=this.aa,q=this.Ed,F=this.height,z=-1,C=this.width,t=-1,I=this.height,k=-1,u=this.width,A=-1,J,G=this.Gf,E=this.m,B=this.ua,D=this.Sa,v=this.$a,w=this.Ta,M=this.tc;if(h&&!a)for(b=0;b<d;b+=1){var K=h[b];for(e=J=0;e<f;e+=1){var P=K[e];J|=P;P&&(e<u&&(u=e),e>A&&(A=e))}J&&(b<I&&(I=b),b>k&&(k=b))}for(b=0;b<G.length;b+=1)G[b]=0;for(b=0;b<E;b+=1)D[b].set(M);if(-1!==this.g)for(b=0;b<d;b+=1){c=y[b];for(e=J=0;e<f;e+=1)P=c[e],J|=P,P&&(e<C&&(C=e),e>t&&(t=e));J&&(b<F&&(F=b),b>z&&(z=b))}else{for(b=
0;b<d;b+=1){y=r[b];for(e=J=0;e<c;e+=1)P=y[e],J|=P,G[e]|=P;J&&(b<F&&(F=b),b>z&&(z=b))}for(e=0;e<c;e+=1)G[e]&&(e<C&&(C=e),e>t&&(t=e));C=(C<<4)+this.Bi(G[C]);t=(t<<4)+this.Dh(G[t])}if(0>z||F>=d||C>=f||0>t)F=z=d>>1,t=C=f>>1;h&&!a&&(k<z&&(z=k),I>F&&(F=I),u<C&&(C=u),A>t&&(t=A));z>this.height-1&&(z=this.height-1);0>F&&(F=0);0>C&&(C=0);t>this.width-1&&(t=this.width-1);m.M=z;m.L=F;m.N=C;m.O=t;l.M=z;l.L=F;l.N=C;l.O=t;q.M=z;q.L=F;q.N=C;q.O=t;0<C&&--C;0<F&&--F;t<this.width-1&&(t+=1);z<this.height-1&&(z+=1);P=
z>>4;C>>=8;t>>=8;for(b=F>>4;b<=P;b+=1)for(F=D[b],e=C;e<=t;e+=1)F[e]=-1;-1!==this.g?this.ms():this.ks();h&&(this.Ek(a),q.M=m.M,q.L=m.L,q.N=m.N,q.O=m.O);Array.Af(B,D);Array.Af(B,v);Array.Af(B,w)};a.prototype.ad=function(a){var e=Math.round((this.width-this.oa)/2),b=Math.round((this.height-this.qa)/2),c=e+this.oa-1,d=b+this.qa-1,f=c+a>>4,r=e-a>>4,h=c+a>>4,y=~(1<<(~(e-a)&15)),m=~(1<<(~(c+a)&15)),l,q=this.Ae,F=0;var z=0!==(this.u&1)?this.ea:this.Nb;var C=z[d+a];var t=z[b-a];if(0===this.oa)for(f=this.width>>
4,l=0;l<f;l+=1)F+=q[t[l]],t[l]=0,F+=q[C[l]],C[l]=0;else if(0===this.qa)for(b=0,d=this.height,f=0;f<d;f+=1)C=z[f],C[r]&~y&&(F+=1),C[r]&=y,C[h]&~m&&(F+=1),C[h]&=m;else{for(l=e-a>>4;l<=f;l+=1)F+=q[t[l]],t[l]=0,F+=q[C[l]],C[l]=0;for(f=b-a+1;f<=d+a-1;f+=1)C=z[f],C[r]&~y&&(F+=1),C[r]&=y,C[h]&~m&&(F+=1),C[h]&=m}this.za-=F;if(-1!==this.g)if(z=this.pa,e-=a,c+=a,d+=a,b-=a,C=z[d],t=z[b],0===this.oa)for(l=0;l<this.width;l+=1)t[l]=0,C[l]=0;else if(0===this.qa)for(f=0;f<this.height;f+=1)z[f][e]=0,z[f][c]=0;else{for(l=
e;l<=c;l+=1)t[l]=0,C[l]=0;for(f=b+1;f<=d-1;f+=1)z[f][e]=0,z[f][c]=0}};a.prototype.Mk=function(){var a,b=f.Ex,c=this.Kk;for(a=0;3>=a;a+=1){var d=b[a];var H=d[0];var x=d[1];d=d[2];c[a]=H[0]<<3|H[1]<<2|H[2]<<1|x[0]<<8|x[1]<<7|x[2]<<6|d[0]<<13|d[1]<<12|d[2]<<11;c[a+4]=H[2]<<3|H[1]<<2|H[0]<<1|x[2]<<8|x[1]<<7|x[0]<<6|d[2]<<13|d[1]<<12|d[0]<<11;c[11-a]=c[a];c[15-a]=c[a+4]}};a.prototype.ir=function(){var a=this.oa;var b=this.qa;var c=Math.round((this.width-a)/2-1)>>4,d=Math.round((this.width+a)/2)>>4;var f=
Math.round((this.height-b)/2-1)>>4;var x=Math.round((this.height+b)/2)>>4;0===b&&(f=0,x=(this.height>>4)-1);0===a&&(c=0,d=(this.width>>4)-1);0>c&&(c=0);0>f&&(f=0);d>=this.width>>4&&(d=(this.width>>4)-1);x>=this.height>>4&&(x=(this.height>>4)-1);for(b=c;b<=d;b+=1)a=1<<(~b&15),this.ua[f][b>>4]|=a,this.Sa[f][b>>4]|=a,this.$a[f][b>>4]|=a,this.Ta[f][b>>4]|=a,this.ua[x][b>>4]|=a,this.Sa[x][b>>4]|=a,this.$a[x][b>>4]|=a,this.Ta[x][b>>4]|=a;for(;f<=x;f+=1)a=1<<(~c&15),this.ua[f][c>>4]|=a,this.Sa[f][c>>4]|=
a,this.$a[f][c>>4]|=a,this.Ta[f][c>>4]|=a,a=1<<(~d&15),this.ua[f][d>>4]|=a,this.Sa[f][d>>4]|=a,this.$a[f][d>>4]|=a,this.Ta[f][d>>4]|=a};a.prototype.On=function(){var a=this.$a,b=this.oa,c=this.qa,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),x=d+b-1,r=f+c-1,h=this.Vk,y=this.Wk,m;if(0!==(this.u&1)){var l=this.ea;var q=this.Sa}else l=this.Nb,q=this.ua;0===this.oa&&(d=0,x=this.width-1,b=this.width);0===this.qa&&(f=0,r=this.height-1,c=this.height);if(0!==this.qa)for(m=0;m<b;m+=1){var F=
d+m;var z=d+(m+h+b)%b;0!==(l[r][F>>4]&1<<(~F&15))&&(l[f-1][z>>4]|=1<<(~z&15),q[f-1>>4][z>>8]|=1<<(~(z>>4)&15),a[f-1>>4][z>>8]|=1<<(~(z>>4)&15),15===(f-1&15)&&(q[(f-1>>4)+1][z>>8]|=1<<(~(z>>4)&15),a[(f-1>>4)+1][z>>8]|=1<<(~(z>>4)&15)));z=d+(m-h+b)%b;0!==(l[f][F>>4]&1<<(~F&15))&&(l[r+1][z>>4]|=1<<(~z&15),q[r+1>>4][z>>8]|=1<<(~(z>>4)&15),a[r+1>>4][z>>8]|=1<<(~(z>>4)&15),0===(r+1&15)&&(q[(r+1>>4)-1][z>>8]|=1<<(~(z>>4)&15),a[(r+1>>4)-1][z>>8]|=1<<(~(z>>4)&15)))}if(0!==this.oa)for(m=0;m<c;m+=1)F=f+m,z=
f+(m-y+c)%c,0!==(l[F][d>>4]&1<<(~d&15))&&(l[z][x+1>>4]|=1<<(~(x+1)&15),q[z>>4][x+1>>8]|=1<<(~(x+1>>4)&15),a[z>>4][x+1>>8]|=1<<(~(x+1>>4)&15),0===(x+1&15)&&(q[z>>4][x-15>>8]|=1<<(~(x-15>>4)&15),a[z>>4][x-15>>8]|=1<<(~(x-15>>4)&15))),z=f+(m+y+c)%c,0!==(l[F][x>>4]&1<<(~x&15))&&(l[z][d-1>>4]|=1<<(~(d-1)&15),q[z>>4][d-1>>8]|=1<<(~(d-1>>4)&15),a[z>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(q[z>>4][d+15>>8]|=1<<(~(d+15>>4)&15),a[z>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));0!==this.oa&&0!==this.qa&&(F=d+(-h+
b)%b,l[f-1][x+1>>4]=0!==(l[f+(c-1+y+c)%c][F>>4]&1<<(~F&15))?l[f-1][x+1>>4]|1<<(~(x+1)&15):l[f-1][x+1>>4]&~(1<<(~(x+1)&15)),F=d+(b-1-h+b)%b,l[f-1][d-1>>4]=0!==(l[f+(c-1-y+c)%c][F>>4]&1<<(~F&15))?l[f-1][d-1>>4]|1<<(~(d-1)&15):l[f-1][d-1>>4]&~(1<<(~(d-1)&15)),F=d+(h+b)%b,l[r+1][x+1>>4]=0!==(l[f+(y+c)%c][F>>4]&1<<(~F&15))?l[r+1][x+1>>4]|1<<(~(x+1)&15):l[r+1][x+1>>4]&~(1<<(~(x+1)&15)),F=d+(b-1+h+b)%b,l[r+1][d-1>>4]=0!==(l[f+(-y+c)%c][F>>4]&1<<(~F&15))?l[r+1][d-1>>4]|1<<(~(d-1)&15):l[r+1][d-1>>4]&~(1<<
(~(d-1)&15)))};a.prototype.In=function(){var a=this.$a,b=this.oa,c=this.qa,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),x=d+b-1,r=f+c-1,h=this.Vk,y=this.Wk,m=this.sp,l=this.Gs,q;if(0!==(this.u&1)){var F=this.ea;var z=this.Sa}else F=this.Nb,z=this.ua;for(q=0;q<b;q+=1){var C=d+q;var t=m?x-(q+h+b)%b:d+(q+h+b)%b;0!==(F[r][C>>4]&1<<(~C&15))&&(F[f-1][t>>4]|=1<<(~t&15),z[f-1>>4][t>>8]|=1<<(~(t>>4)&15),a[f-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(f-1&15)&&(z[(f-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),
a[(f-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=m?x-(q-h+b)%b:d+(q-h+b)%b;0!==(F[f][C>>4]&1<<(~C&15))&&(F[r+1][t>>4]|=1<<(~t&15),z[r+1>>4][t>>8]|=1<<(~(t>>4)&15),a[r+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(r+1&15)&&(z[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(q=0;q<c;q+=1)C=f+q,t=l?r-(q-y+c)%c:f+(q-y+c)%c,0!==(F[C][d>>4]&1<<(~d&15))&&(F[t][x+1>>4]|=1<<(~(x+1)&15),z[t>>4][x+1>>8]|=1<<(~(x+1>>4)&15),a[t>>4][x+1>>8]|=1<<(~(x+1>>4)&15),0===(x+1&15)&&(z[t>>4][x-15>>8]|=1<<(~(x-15>>
4)&15),a[t>>4][x-15>>8]|=1<<(~(x-15>>4)&15))),t=l?r-(q+y+c)%c:f+(q+y+c)%c,0!==(F[C][x>>4]&1<<(~x&15))&&(F[t][d-1>>4]|=1<<(~(d-1)&15),z[t>>4][d-1>>8]|=1<<(~(d-1>>4)&15),a[t>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(z[t>>4][d+15>>8]|=1<<(~(d+15>>4)&15),a[t>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));C=m?x-(-h+b)%b:d+(-h+b)%b;0!==(F[l?r-(c-1+y+c)%c:f+(c-1+y+c)%c][C>>4]&1<<(~C&15))&&(F[f-1][x+1>>4]|=1<<(~(x+1)&15));C=m?x-(b-1-h+b)%b:d+(b-1-h+b)%b;0!==(F[l?r-(c-1+y+c)%c:f+(c-1+y+c)%c][C>>4]&1<<(~C&15))&&(F[f-
1][d-1>>4]|=1<<(~(d-1)&15));C=m?x-(h+b)%b:d+(h+b)%b;0!==(F[l?r-(y+c)%c:f+(y+c)%c][C>>4]&1<<(~C&15))&&(F[r+1][x+1>>4]|=1<<(~(x+1)&15));C=m?x-(b-1+h+b)%b:d+(b-1+h+b)%b;0!==(F[l?r-(y+c)%c:f+(y+c)%c][C>>4]&1<<(~C&15))&&(F[r+1][d-1>>4]|=1<<(~(d-1)&15))};a.prototype.Gn=function(){var a=this.$a,b=Math.round((this.width-this.oa)/2),c=Math.round((this.height-this.qa)/2),d=b+this.oa-1,f=c+this.qa-1,x;if(0!==(this.u&1)){var r=this.ea;var h=this.Sa}else r=this.Nb,h=this.ua;for(x=0;x<this.oa;x+=1){var y=b+x;var m=
d-x;0!==(r[f][y>>4]&1<<(~y&15))&&(r[c-1][m>>4]|=1<<(~m&15),h[c-1>>4][m>>8]|=1<<(~(m>>4)&15),a[c-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(c-1&15)&&(h[(c-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(c-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(r[c][y>>4]&1<<(~y&15))&&(r[f+1][m>>4]|=1<<(~m&15),h[f+1>>4][m>>8]|=1<<(~(m>>4)&15),a[f+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(f+1&15)&&(h[(f+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(f+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(x=0;x<=this.qa;x+=1)y=c+x,m=f-x,0!==(r[y][b>>4]&1<<(~b&15))&&(r[m][d+
1>>4]|=1<<(~(d+1)&15),h[m>>4][d+1>>8]|=1<<(~(d+1>>4)&15),a[m>>4][d+1>>8]|=1<<(~(d+1>>4)&15),0===(d+1&15)&&(h[m>>4][d-15>>8]|=1<<(~(d-15>>4)&15),a[m>>4][d-15>>8]|=1<<(~(d-15>>4)&15))),0!==(r[y][d>>4]&1<<(~d&15))&&(r[m][b-1>>4]|=1<<(~(b-1)&15),h[m>>4][b-1>>8]|=1<<(~(b-1>>4)&15),a[m>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(h[m>>4][b+15>>8]|=1<<(~(b+15>>4)&15),a[m>>4][b+15>>8]|=1<<(~(b+15>>4)&15)));0!==(r[f][b>>4]&1<<(~b&15))&&(r[f+1][b-1>>4]|=1<<(~(b-1)&15));0!==(r[f][d>>4]&1<<(~d&15))&&(r[f+1][d+
1>>4]|=1<<(~(d+1)&15));0!==(r[c][b>>4]&1<<(~b&15))&&(r[c-1][b-1>>4]|=1<<(~(b-1)&15));0!==(r[c][d>>4]&1<<(~d&15))&&(r[c-1][d+1>>4]|=1<<(~(d+1)&15))};a.prototype.Jn=function(){var a=this.$a,b=Math.round((this.width-this.oa)/2),c=Math.round((this.height-this.qa)/2),d=b+this.oa-1,f=c+this.oa-1,x;if(0!==(this.u&1)){var r=this.ea;var h=this.Sa}else r=this.Nb,h=this.ua;for(x=0;x<this.oa;x+=1){var y=c+x;var m=b+x;0!==(r[y][b>>4]&1<<(~b&15))&&(r[c-1][m>>4]|=1<<(~m&15),h[c-1>>4][m>>8]|=1<<(~(m>>4)&15),a[c-
1>>4][m>>8]|=1<<(~(m>>4)&15),15===(c-1&15)&&(h[(c-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(c-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(r[y][d>>4]&1<<(~d&15))&&(r[f+1][m>>4]|=1<<(~m&15),h[f+1>>4][m>>8]|=1<<(~(m>>4)&15),a[f+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(f+1&15)&&(h[(f+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(f+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)));0!==(r[c][m>>4]&1<<(~m&15))&&(r[y][b-1>>4]|=1<<(~(b-1)&15),h[y>>4][b-1>>8]|=1<<(~(b-1>>4)&15),a[y>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(h[y>>4][b+15>>8]|=1<<(~(b+
15>>4)&15),a[y>>4][b+15>>8]|=1<<(~(b+15>>4)&15)));0!==(r[f][m>>4]&1<<(~m&15))&&(r[y][d+1>>4]|=1<<(~(d+1)&15),h[y>>4][d+1>>8]|=1<<(~(d+1>>4)&15),a[y>>4][d+1>>8]|=1<<(~(d+1>>4)&15),0===(d+1&15)&&(h[y>>4][d-15>>8]|=1<<(~(d-15>>4)&15),a[y>>4][d-15>>8]|=1<<(~(d-15>>4)&15)))}0!==(r[f][b>>4]&1<<(~b&15))&&(r[f+1][b-1>>4]|=1<<(~(b-1)&15));0!==(r[f][d>>4]&1<<(~d&15))&&(r[f+1][d+1>>4]|=1<<(~(d+1)&15));0!==(r[c][b>>4]&1<<(~b&15))&&(r[c-1][b-1>>4]|=1<<(~(b-1)&15));0!==(r[c][d>>4]&1<<(~d&15))&&(r[c-1][d+1>>4]|=
1<<(~(d+1)&15))};a.prototype.tn=function(){switch(this.ja){case 0:this.ad(1);break;case 1:this.ad(1);this.ad(2);break;case 2:this.ad(1);this.ad(2);break;case 3:this.ad(1);this.ad(2);break;case 4:this.ad(1),this.ad(2)}};a.prototype.Dn=function(){this.ir();switch(this.ja){case 1:this.On();break;case 2:this.In();break;case 3:this.Gn();break;case 4:this.Jn()}this.ir()};a.prototype.hj=function(a,b,c){var e=!1,d=this.F,g=this.Td;c||(a=!0);!b&&this.mn&&(this.mn=!1);this.u===this.ij-1&&(e=!0,b||(a=!0));-1===
this.ja||this.ra||this.Dn();this.ga&&this.Vo();this.Aa&&(this.ra?this.Mb.my(this.u):a&&2>this.g?this.sn():this.rn());this.u+=1;-1===this.g||this.ra||this.Xk();this.ga&&this.ns();-1===this.ja||this.ra||this.tn();this.width===this.U&&(c=this.ra?2*this.Mb.sc:16,d.N<=c||d.O>=this.U-c||d.L<=c||d.M>=this.U-c)&&(this.ra?this.Bk():this.Ak());e&&(this.ij+=f.jm,b||this.bm());d.N<g.N&&(g.N=d.N);d.O>g.O&&(g.O=d.O);d.L<g.L&&(g.L=d.L);d.M>g.M&&(g.M=d.M);this.u<f.Rt&&(a?(this.Gj(this.za,this.yb,this.mc),this.za>
this.Jb&&(this.Jb=this.za),this.yb>this.Jb&&(this.Jb=this.yb),this.mc>this.Jb&&(this.Jb=this.mc)):this.Gj(0,0,0))};a.prototype.Gj=function(a,b,c){var e=this.u>>f.fi,d=this.u&(1<<f.fi)-1;this.Ya&&0<this.Ya.length&&(this.u>=this.xe&&(Array.Nk(this.Ya,"Life.popGraphData"),Array.Nk(this.ze,"Life.birthGraphData"),Array.Nk(this.Be,"Life.deathGraphData"),this.xe+=1<<f.fi),this.Ya[e][d]=a,this.ze[e][d]=b,this.Be[e][d]=c)};a.prototype.Ch=function(a,b,c,d,H,x,r,h){var e,m=1,g=(1<<f.fi)-1;this.u>c&&(m=c/this.u);
if(h){a.strokeStyle=b;a.beginPath();var q=d-r[0]/this.Jb*d|0;a.moveTo(0+x+.5,q+H+x+.5)}else a.fillStyle=b;var n=0;for(b=e=1;b<c;b+=1){if(e<f.Rt){var p=e>>f.fi;var C=e&g;C=p=r[p][C];n+=m;for(e+=1;0===(n|0);){var t=r[e];e+=1;t>C&&(C=t);t<p&&(p=t);n+=m}--n}else C=p=0;b<=this.u&&(t=0+x+1+b,q=d-p/this.Jb*d|0,h?(a.lineTo(t+.5,q+H+x+.5),p!==C&&(q=d-C/this.Jb*d|0,a.lineTo(t+.5,q+H+x+.5))):0<p&&0<C&&(p!==C&&(q=d-C/this.Jb*d|0),a.fillRect(t+.5,q+H+x+.5,1,1)))}h&&a.stroke()};a.prototype.qn=function(a,b,d,c){var e=
this.context,g=40,f=40,n=this.C-0-f,p=this.A-g-f,m="rgb("+this.Lf[0]+","+this.Lf[1]+","+this.Lf[2]+")",l="rgb("+this.Kf[0]+","+this.Kf[1]+","+this.Kf[2]+")",q="rgb("+this.Jf[0]+","+this.Jf[1]+","+this.Jf[2]+")",F="rgb("+this.Mf[0]+","+this.Mf[1]+","+this.Mf[2]+")",z="rgb("+this.Nf[0]+","+this.Nf[1]+","+this.Nf[2]+")";if(this.Ya&&0<this.Ya.length){if(d||c)g=0,p+=80;c&&(f=0,n=this.C-0);var C=n-f;e.save();e.fillStyle=m;e.globalAlpha=b;e.fillRect(0,g,n+f,p);e.globalAlpha=1;d&&(p-=40);if(!c){e.font="16px Arial";
e.textAlign="center";e.fillStyle="black";for(b=2;0<=b;b-=2)e.save(),e.translate(this.C/2,p+f/2-6),e.fillText("Generation",b,b),e.restore(),e.save(),e.translate(f/2+6,this.A/2),e.rotate(-90*Math.PI/180),320>this.A?e.fillText("Pop",b,b):e.fillText("Population",b,b),e.restore(),e.fillStyle=l;e.fillStyle="black";for(b=2;0<=b;b-=2)e.save(),e.translate(f-f/2+6,g+f),e.rotate(-90*Math.PI/180),e.fillText(String(this.Jb),b,b),e.restore(),e.save(),e.translate(f-f/2+6,p),e.rotate(-90*Math.PI/180),e.fillText("0",
b,b),e.restore(),e.save(),e.translate(f,p+f/2-6),e.fillText("0",b,b),e.restore(),e.save(),e.translate(n,p+f/2-6),e.fillText(String(this.u>C?this.u:C),b,b),e.restore(),e.fillStyle=l}-1===this.ja&&(this.Ch(e,z,C,p-g-f,g,f,this.Be,a),this.Ch(e,F,C,p-g-f,g,f,this.ze,a));this.Ch(e,q,C,p-g-f,g,f,this.Ya,a);e.strokeStyle=l;e.lineWidth=1;e.beginPath();e.moveTo(f+.5,g+f+.5);e.lineTo(f+.5,p+.5);e.lineTo(n+.5,p+.5);e.lineTo(n+.5,p+2.5);e.moveTo(f+.5,p+.5);e.lineTo(f+.5,p+2.5);e.moveTo(f+.5,p+.5);e.lineTo(f+
.5-2,p+.5);e.moveTo(f+.5,g+f+.5);e.lineTo(f+.5-2,g+f+.5);e.stroke();e.restore()}};a.prototype.zu=function(){var a=(1<<f.fi)-1,b;if(this.Ya&&0<this.Ya.length){for(b=0;b<this.xe;b+=1){var d=b>>f.fi;var c=b&a;this.Ya[d][c]=0;this.ze[d][c]=0;this.Be[d][c]=0}this.Ya[0][0]=this.za}this.Jb=this.za};a.prototype.br=function(){var a=this.F,b=this.Td;b.N=a.N;b.O=a.O;b.M=a.M;b.L=a.L};a.prototype.Vo=function(){var a,b,d,c,f=this.ga,x=this.dd,r=this.Dc,h=this.Zd,y=this.m,m=this.f>>4,l;var q=0;var F=0!==(this.u&
1)?this.ea:this.Nb;for(a=0;a<y;a+=1){var z=0;var C=h[a];for(b=0;b<m;b+=1)if(l=C[b])for(d=15;0<=d;--d){if(0!==(l&1<<d))for(c=q;c<q+16;c+=1)x[c][z]=(F[c][z]|r[c][z])&f[c][z];z+=1}else z+=16;q+=16}};a.prototype.ns=function(){var a,b,c,d,f,x=this.dd,r=this.Zd,h=this.m,y=this.f>>4,m;var l=0!==(this.u&1)?this.ea:this.Nb;for(a=f=0;a<h;a+=1){var q=0;var F=r[a];for(b=0;b<y;b+=1)if(m=F[b])for(c=15;0<=c;--c){if(0!==(m&1<<c))for(d=f;d<f+16;d+=1)l[d][q]&=~x[d][q];q+=1}else q+=16;f+=16}};a.prototype.Bh=function(a,
b,d){var e,c,g=this.yg,n=0,h=this.Zc[n],y=this.$c[n],m=0,l=f.to,q=l-1,F=0,z=l,C=this.Zl,t=this.cb,I=this.gb;h[m]=a;y[m]=b;m+=1;for(d[b][a>>4]&=~(1<<(~a&15));0<m;)for(--m,m<F&&(--n,F-=l,z-=l,h=this.Zc[n],y=this.$c[n]),a=h[m&q],b=y[m&q],c=b-C;c<=b+C;){for(e=a-C;e<=a+C;)e===(e&t)&&c===(c&I)&&0!==(d[c][e>>4]&1<<(~e&15))&&(d[c][e>>4]&=~(1<<(~e&15)),m===z&&(n+=1,F+=l,z+=l,n>g&&(this.Zc[n]=this.j.V(Int32,l,"Life.boundaryX"+n),this.$c[n]=this.j.V(Int32,l,"Life.boundaryY"+n),this.yg=g+=1),h=this.Zc[n],y=this.$c[n]),
h[m&q]=e,y[m&q]=c,m+=1),e+=1;c+=1}};a.prototype.Ej=function(a,b,c){for(var e=c[b][a],d=15;0<=d;)0!==(e&1<<d)&&this.Bh((a<<4)+(~d&15),b,c),--d};a.prototype.Yn=function(a,b){this.Bh(0,a,b)};a.prototype.co=function(a,b,c){this.Bh((a<<4)+15,b,c)};a.prototype.Ak=function(){var a;var b=0!==(this.u&1)?this.ea:this.Nb;var c=b.length;var d=b[0].length;var f=b[0];var x=b[c-1];for(a=0;a<d;)f[a]&&this.Ej(a,0,b),x[a]&&this.Ej(a,c-1,b),a+=1;for(a=0;a<c;)0!==(b[a][0]&32768)&&this.Yn(a,b),0!==(b[a][d-1]&1)&&this.co(d-
1,a,b),a+=1};a.prototype.xh=function(a,b){var e,c=this.pa,d,g=this.yg,r=0,h=this.Zc[r],y=this.$c[r],m=0,l=f.to,q=l-1,F=0,z=l,C=this.cb,t=this.gb,I=2<this.g?0:f.Za,k=2<this.g?0:f.Nd,u=this.Zl;h[m]=a;y[m]=b;m+=1;for(c[b][a]=0;0<m;)for(--m,m<F&&(--r,F-=l,z-=l,h=this.Zc[r],y=this.$c[r]),a=h[m&q],b=y[m&q],e=b-u;e<=b+u;){var A=a-u;for(d=c[e];A<=a+u;)A===(A&C)&&e===(e&t)&&d[A]>=I&&(d[A]=k,m===z&&(r+=1,F+=l,z+=l,r>g&&(this.Zc[r]=this.j.V(Int32,l,"Life.boundaryX"+r),this.$c[r]=this.j.V(Int32,l,"Life.boundaryY"+
r),this.yg=g+=1),h=this.Zc[r],y=this.$c[r]),h[m&q]=A,y[m&q]=e,m+=1),A+=1;e+=1}};a.prototype.Bk=function(){var a=this.pa,b=a.length,c=a[0].length,d=this.F,H=d.N,x=d.O,r=d.L,h=d.M,y=2*this.Mb.sc+1,m=2<this.g?0:f.Za,l,q;if(b-h<=y){for(q=b-y;q<=h;q+=1){var F=a[q];for(l=H;l<=x;l+=1)F[l]>=m&&this.xh(l,q)}d.M=b-y}if(r<=y){for(q=r;q<=y;q+=1)for(F=a[q],l=H;l<=x;l+=1)F[l]>=m&&this.xh(l,q);d.L=y}if(H<=y){for(q=r;q<=h;q+=1)for(F=a[q],l=H;l<=y;l+=1)F[l]>=m&&this.xh(l,q);d.N=y}if(c-x<=y){for(q=r;q<=h;q+=1)for(F=
a[q],l=c-y;l<=x;l+=1)F[l]>=m&&this.xh(l,q);d.O=c-y}};a.prototype.rn=function(){var a,b,d,c,H=this.Gf,x,r=this.height,h=this.width,y=h>>4,m=this.F,l=r,q=-1,F=h,z=-1,C=this.m,t=this.f>>4,I=this.tc;var k=0;var u=C;if(0!==(this.u&1)){var A=this.ea;var J=this.Nb;var G=this.Sa;var E=this.ua;var B=this.Rf}else A=this.Nb,J=this.ea,G=this.ua,E=this.Sa,B=this.Qf;for(b=0;b<H.length;b+=1)H[b]=0;0>k&&(k=0);u>C&&(u=C);var D=k<<4;var v=D+16;for(b=k;b<u;b+=1){var w=E[b];for(d=0;d<w.length;d+=1)w[d]=0}for(b=k;b<u;b+=
1){var M=0;w=G[b];var K=E[b];var P=0<b?E[b-1]:I;var Z=b<C-1?E[b+1]:I;for(d=0;d<t;d+=1)if(c=w[d]){var Y=K[d];var S=P[d];var ca=Z[d];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var X=x=0;var N=D;var T=0===N?this.Ga:A[N-1];var R=A[N];k=A[N+1];var ba=R[M];if(M)if(M>=y-1){T=T[M-1]<<17|T[M]<<1;R=R[M-1]<<17|ba<<1;var Q=k[M-1]<<17|k[M]<<1;var L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=
L)x|=L,N<l&&(l=N),N>q&&(q=N),0!==(L&32768)&&(X|=f.lg),X|=f.$e;for(N+=1;N<v-1;){ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1}ba|=k[M];k=N===this.height-1?this.Ga:A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;
L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N),0!==(L&32768)&&(X|=f.Mg),X|=f.vf}else{T=T[M-1]<<17|T[M]<<1|T[M+1]>>15;R=R[M-1]<<17|ba<<1|R[M+1]>>15;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N),0!==(L&32768)&&(X|=f.lg),0!==(L&1)&&(X|=f.mg),
X|=f.$e;N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<
12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<
12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<
8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=
B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|
(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-
1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);
N+=1;ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1;ba|=k[M];k=N===this.height-1?this.Ga:A[N+1];T=R;R=Q;Q=k[M-1]<<17|k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&
63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N),0!==(L&32768)&&(X|=f.Mg),0!==(L&1)&&(X|=f.Ng),X|=f.vf}else{T=T[M]<<1|T[M+1]>>15;R=ba<<1|R[M+1]>>15;Q=k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N),0!==(L&1)&&(X|=f.mg),X|=f.$e;for(N+=1;N<v-1;){ba|=k[M];k=A[N+1];T=R;R=Q;Q=k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>
12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N);N+=1}ba|=k[M];k=N===this.height-1?this.Ga:A[N+1];T=R;R=Q;Q=k[M]<<1|k[M+1]>>15;L=B[T>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;L|=B[T>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;L|=B[T>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;L|=B[T&63|(R&63)<<6|(Q&63)<<12];if(J[N][M]=L)x|=L,N<l&&(l=N),N>q&&(q=N),0!==(L&1)&&(X|=f.Ng),X|=f.vf}x&&
(0!==(x&32768)&&(X|=f.jf),0!==(x&1)&&(X|=f.sf));H[M]|=x;if(x||ba)Y|=1<<a,X&&(0!==(X&f.jf)&&(15>a?Y|=1<<a+1:0<d&&0<M&&(K[d-1]|=1)),0!==(X&f.sf)&&(0<a?Y|=1<<a-1:d<t-1&&M<y-1&&(K[d+1]|=32768)),0!==(X&f.$e)&&(S|=1<<a),0!==(X&f.vf)&&(ca|=1<<a),0!==(X&f.lg)&&(15>a?S|=1<<a+1:0<d&&0<M&&(P[d-1]|=1)),0!==(X&f.mg)&&(0<a?S|=1<<a-1:d<t-1&&M<y-1&&(P[d+1]|=32768)),0!==(X&f.Mg)&&(15>a?ca|=1<<a+1:0<d&&0<M&&(Z[d-1]|=1)),0!==(X&f.Ng)&&(0<a?ca|=1<<a-1:d<t-1&&M<y-1&&(Z[d+1]|=32768)))}M+=1}K[d]|=Y;0<b&&(P[d]|=S);b<C-1&&
(Z[d]|=ca)}else M+=16;D+=16;v+=16}for(d=0;d<y;d+=1)H[d]&&(d<F&&(F=d),d>z&&(z=d));F=(F<<4)+this.Bi(H[F]);z=(z<<4)+this.Dh(H[z]);0>q&&(q=r-1);l>=r&&(l=0);F>=h&&(F=0);0>z&&(z=h-1);q>r-1&&(q=r-1);0>l&&(l=0);0>F&&(F=0);z>h-1&&(z=h-1);m.M=q;m.L=l;m.N=F;m.O=z;for(b=0;b<I.length;b+=1)I[b]=0};a.prototype.sn=function(){var a,b,d,c,H,x=this.Gf,r,h=this.height,y=this.width,m=y>>4,l=this.F,q=h,F=-1,z=y,C=-1,t=this.m,I=this.f>>4,k=this.tc,u=this.Ae,A=0,J=0,G=0;var E=0;var B=t;if(0!==(this.u&1)){var D=this.ea;var v=
this.Nb;var w=this.Sa;var M=this.ua;var K=this.Rf}else D=this.Nb,v=this.ea,w=this.ua,M=this.Sa,K=this.Qf;for(b=0;b<x.length;b+=1)x[b]=0;0>E&&(E=0);B>t&&(B=t);var P=E<<4;var Z=P+16;for(b=E;b<B;b+=1){var Y=M[b];for(d=0;d<Y.length;d+=1)Y[d]=0}for(b=E;b<B;b+=1){var S=0;Y=w[b];var ca=M[b];var X=0<b?M[b-1]:k;var N=b<t-1?M[b+1]:k;for(d=0;d<I;d+=1)if(c=Y[d]){var T=ca[d];var R=X[d];var ba=N[d];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var Q=r=0;var L=P;var W=0===L?this.Ga:D[L-1];var U=D[L];E=D[L+1];var ea=H=U[S];
if(S)if(S>=m-1){W=W[S-1]<<17|W[S]<<1;U=U[S-1]<<17|H<<1;var V=E[S-1]<<17|E[S]<<1;var O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[W&63|(U&63)<<6|(V&63)<<12];v[L][S]=O;A+=u[O];J+=u[O&~H];G+=u[H&~O];O&&(r|=O,L<q&&(q=L),L>F&&(F=L),0!==(O&32768)&&(Q|=f.lg),Q|=f.$e);for(L+=1;L<Z-1;)H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&
63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1;H=E[S];ea|=H;E=L===this.height-1?this.Ga:D[L+1];W=U;U=V;V=E[S-1]<<17|E[S]<<1;O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[W&63|(U&63)<<6|(V&63)<<12];v[L][S]=O;A+=u[O];J+=u[O&~H];G+=u[H&~O];O&&(r|=O,L<q&&(q=L),L>F&&(F=L),0!==(O&32768)&&(Q|=f.Mg),
Q|=f.vf)}else W=W[S-1]<<17|W[S]<<1|W[S+1]>>15,U=U[S-1]<<17|H<<1|U[S+1]>>15,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L),0!==(O&32768)&&(Q|=f.lg),0!==(O&1)&&(Q|=f.mg),Q|=f.$e),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&
63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>
F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>
4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&
63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],
O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>
4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|
E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],
J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>
8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1,H=E[S],ea|=H,E=L===this.height-1?this.Ga:D[L+1],W=U,U=V,V=E[S-1]<<17|E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L),0!==(O&32768)&&
(Q|=f.Mg),0!==(O&1)&&(Q|=f.Ng),Q|=f.vf);else{W=W[S]<<1|W[S+1]>>15;U=H<<1|U[S+1]>>15;V=E[S]<<1|E[S+1]>>15;O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[W&63|(U&63)<<6|(V&63)<<12];v[L][S]=O;A+=u[O];J+=u[O&~H];G+=u[H&~O];O&&(r|=O,L<q&&(q=L),L>F&&(F=L),0!==(O&1)&&(Q|=f.mg),Q|=f.$e);for(L+=1;L<Z-1;)H=E[S],ea|=H,E=D[L+1],W=U,U=V,V=E[S]<<1|E[S+1]>>15,O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[W>>8&63|(U>>
8&63)<<6|(V>>8&63)<<12]<<8,O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[W&63|(U&63)<<6|(V&63)<<12],v[L][S]=O,A+=u[O],J+=u[O&~H],G+=u[H&~O],O&&(r|=O,L<q&&(q=L),L>F&&(F=L)),L+=1;H=E[S];ea|=H;E=L===this.height-1?this.Ga:D[L+1];W=U;U=V;V=E[S]<<1|E[S+1]>>15;O=K[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[W&63|(U&63)<<6|(V&63)<<12];v[L][S]=O;A+=u[O];J+=u[O&~H];G+=u[H&~O];O&&(r|=O,L<q&&(q=L),L>F&&(F=L),0!==(O&
1)&&(Q|=f.Ng),Q|=f.vf)}r&&(0!==(r&32768)&&(Q|=f.jf),0!==(r&1)&&(Q|=f.sf));x[S]|=r;if(r||ea)T|=1<<a,Q&&(0!==(Q&f.jf)&&(15>a?T|=1<<a+1:0<d&&0<S&&(ca[d-1]|=1)),0!==(Q&f.sf)&&(0<a?T|=1<<a-1:d<I-1&&S<m-1&&(ca[d+1]|=32768)),0!==(Q&f.$e)&&(R|=1<<a),0!==(Q&f.vf)&&(ba|=1<<a),0!==(Q&f.lg)&&(15>a?R|=1<<a+1:0<d&&0<S&&(X[d-1]|=1)),0!==(Q&f.mg)&&(0<a?R|=1<<a-1:d<I-1&&S<m-1&&(X[d+1]|=32768)),0!==(Q&f.Mg)&&(15>a?ba|=1<<a+1:0<d&&0<S&&(N[d-1]|=1)),0!==(Q&f.Ng)&&(0<a?ba|=1<<a-1:d<I-1&&S<m-1&&(N[d+1]|=32768)))}S+=1}ca[d]|=
T;0<b&&(X[d]|=R);b<t-1&&(N[d]|=ba)}else S+=16;P+=16;Z+=16}for(d=0;d<m;d+=1)x[d]&&(d<z&&(z=d),d>C&&(C=d));z=(z<<4)+this.Bi(x[z]);C=(C<<4)+this.Dh(x[C]);0>F&&(F=h-1);q>=h&&(q=0);z>=y&&(z=0);0>C&&(C=y-1);F>h-1&&(F=h-1);0>q&&(q=0);0>z&&(z=0);C>y-1&&(C=y-1);l.M=F;l.L=q;l.N=z;l.O=C;for(b=0;b<k.length;b+=1)k[b]=0;this.za=A;this.yb=J;this.mc=G};a.prototype.Fi=function(a,b){var d,c=this.Ta,e,g,f,h,y=this.m,m=this.f>>4;var l=0;var q=l+16;for(e=0;e<y;e+=1){var F=0;var z=c[e];for(g=0;g<m;g+=1)if(h=z[g])for(f=
15;0<=f;--f){if(0!==(h&1<<f))for(d=l;d<q;d+=2){var C=a[d];var t=a[d+1];var I=b[d];var k=F<<3;var u=0;var A=C[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=t[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);I[k+k]=u;k+=1;u=0;A=C[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=t[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);I[k+k]=u;k+=1;u=0;A=C[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=t[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);I[k+k]=u;k+=1;u=0;A=C[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=t[k];(A&255)>u&&(u=A&255);
A>>=8;A>u&&(u=A);I[k+k]=u;k+=1;u=0;A=C[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=t[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);I[k+k]=u;k+=1;u=0;A=C[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=t[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);I[k+k]=u;k+=1;u=0;A=C[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=t[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);I[k+k]=u;k+=1;u=0;A=C[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=t[k];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);I[k+k]=u}F+=1}else F+=16;l+=16;q+=16}};a.prototype.Gi=
function(a,b){var d,c=this.Ta,e,g,f,h,y=this.m,m=this.f>>4;var l=0;var q=l+16;for(e=0;e<y;e+=1){var F=0;var z=c[e];for(g=0;g<m;g+=1)if(h=z[g])for(f=15;0<=f;--f){if(0!==(h&1<<f))for(d=l;d<q;d+=4){var C=b[d];var t=a[d];var I=a[d+2];var k=F<<4;var u=t[k];var A=t[k+2];A>u&&(u=A);A=I[k];A>u&&(u=A);A=I[k+2];A>u&&(u=A);C[k]=u;k+=4;u=t[k];A=t[k+2];A>u&&(u=A);A=I[k];A>u&&(u=A);A=I[k+2];A>u&&(u=A);C[k]=u;k+=4;u=t[k];A=t[k+2];A>u&&(u=A);A=I[k];A>u&&(u=A);A=I[k+2];A>u&&(u=A);C[k]=u;k+=4;u=t[k];A=t[k+2];A>u&&
(u=A);A=I[k];A>u&&(u=A);A=I[k+2];A>u&&(u=A);C[k]=u}F+=1}else F+=16;l+=16;q+=16}};a.prototype.Hi=function(a,b){var d,c=this.Ta,e,g,f,h,y=this.m,m=this.f>>4;var l=0;var q=l+16;for(e=0;e<y;e+=1){var F=0;var z=c[e];for(g=0;g<m;g+=1)if(h=z[g])for(f=15;0<=f;--f){if(0!==(h&1<<f))for(d=l;d<q;d+=8){var C=b[d];var t=a[d];var I=a[d+4];var k=F<<4;var u=t[k];var A=t[k+4];A>u&&(u=A);A=I[k];A>u&&(u=A);A=I[k+4];A>u&&(u=A);C[k]=u;k+=8;u=t[k];A=t[k+4];A>u&&(u=A);A=I[k];A>u&&(u=A);A=I[k+4];A>u&&(u=A);C[k]=u}F+=1}else F+=
16;l+=16;q+=16}};a.prototype.Ei=function(a,b){var d=this.Ta,c,e,g,f,h,y=this.m,m=this.f>>4;for(c=f=0;c<y;c+=1){var l=0;var q=d[c];for(e=0;e<m;e+=1)if(h=q[e])for(g=15;0<=g;--g){if(0!==(h&1<<g)){var F=b[f];var z=a[f];var C=a[f+8];var t=l<<4;var I=z[t];z=z[t+8];z>I&&(I=z);z=C[t];z>I&&(I=z);z=C[t+8];z>I&&(I=z);F[t]=I}l+=1}else l+=16;f+=16}};a.prototype.Fk=function(){1>this.ka&&(this.Fi(this.zi,this.G),.5>this.ka&&(this.Gi(this.G,this.wa),.25>this.ka&&(this.Hi(this.wa,this.ya),.125>this.ka&&this.Ei(this.ya,
this.Da))));this.bh&&1>this.ka&&(this.Fi(this.Tf,this.X),.5>this.ka&&(this.Gi(this.X,this.Ye),.25>this.ka&&(this.Hi(this.Ye,this.Ze),.125>this.ka&&this.Ei(this.Ze,this.Zf))))};a.prototype.Xk=function(){var a=this.pa,b=this.Ta,d=this.$a,c,f,x,r,h,y=0,m=0,l=0;var q=this.m;var F=this.f>>4;var z=0;var C=q,t=this.g+this.da-1,I=this.da,k=0<this.da?1:0;this.Aa=0;if(0!==(this.u&1)){var u=this.ea;var A=this.Sa}else u=this.Nb,A=this.ua;0>z&&(z=0);C>q&&(C=q);q=z<<4;var J=q+16;for(f=z;f<C;f+=1){var G=0;var E=
A[f];var B=d[f];var D=b[f];for(x=0;x<F;x+=1){var v=E[x]|B[x];var w=0;if(v)for(r=15;0<=r;--r){if(0!==(v&1<<r)){var M=0;for(z=q;z<J;z+=1){var K=u[z];var P=a[z];var Z=G<<4;var Y=K[G];for(h=32768;0<h;h>>=1){var S=c=P[Z];(c<=I||c===t)&&0!==(Y&h)?c=t:(Y&=~h,c>k&&--c);P[Z]=c;c>k&&(M=1,c===t&&(y+=1,S!==t&&(m+=1)));S===t&&c!==t&&(l+=1);Z+=1}K[G]=Y;this.Aa|=Y}M&&(w|=1<<r)}G+=1}else G+=16;B[x]=w;D[x]|=w}q+=16;J+=16}this.za=y;this.yb=m;this.mc=l};a.prototype.Jk=function(){var a=this.pa,b=this.Ta,d,c,f,x,r;var h=
this.m;var y=this.f>>4;var m=0;var l=h,q=0<this.da?1:0;0>m&&(m=0);l>h&&(l=h);h=m<<4;var F=h+16;for(d=m;d<l;d+=1){var z=0;var C=b[d];for(c=0;c<y;c+=1)if(r=C[c])for(f=15;0<=f;--f){if(0!==(r&1<<f))for(m=h;m<F;m+=1){var t=a[m];var I=z<<4;for(x=15;0<=x;--x){var k=t[I];k>q&&(--k,t[I]=k);I+=1}}z+=1}else z+=16;h+=16;F+=16}};a.prototype.Mj=function(){-1===this.g?this.Dk():this.Aa||this.Jk()};a.prototype.Dk=function(){var a=this.pa,b=this.Ta,d=this.$a,c=this.Om,f=this.lc+1,x,r,h;var y=this.m;var m=this.f>>
4;var l=0;var q=y;this.Aa=0;if(0!==(this.u&1)){var F=this.ea;var z=this.Sa}else F=this.Nb,z=this.ua;0>l&&(l=0);q>y&&(q=y);y=l<<4;var C=y+16;for(x=l;x<q;x+=1){var t=0;var I=z[x];var k=d[x];var u=b[x];for(r=0;r<m;r+=1){var A=I[r]|k[r];var J=0;if(A)for(h=15;0<=h;--h){if(0!==(A&1<<h)){var G=0;for(l=y;l<C;){var E=F[l];var B=a[l];var D=t<<4;E=E[t];this.Aa|=E;G|=E;if(0!==(E&32768))var v=c[B[D]+f];else v=c[B[D]],G|=1<v;B[D]=v;D+=1;0!==(E&16384)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&8192)?v=c[B[D]+
f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&4096)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&2048)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&1024)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&512)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&256)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&128)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&64)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&32)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&16)?v=c[B[D]+f]:(v=
c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&8)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&4)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&2)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&1)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;l+=1;E=F[l];B=a[l];D=t<<4;E=E[t];this.Aa|=E;G|=E;0!==(E&32768)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&16384)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&8192)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&4096)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=
v;D+=1;0!==(E&2048)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&1024)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&512)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&256)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&128)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&64)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&32)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&16)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&8)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==
(E&4)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&2)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&1)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;l+=1;E=F[l];B=a[l];D=t<<4;E=E[t];this.Aa|=E;G|=E;0!==(E&32768)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&16384)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&8192)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&4096)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&2048)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&1024)?v=c[B[D]+
f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&512)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&256)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&128)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&64)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&32)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&16)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&8)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&4)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&2)?v=c[B[D]+f]:(v=c[B[D]],G|=
1<v);B[D]=v;D+=1;0!==(E&1)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;l+=1;E=F[l];B=a[l];D=t<<4;E=E[t];this.Aa|=E;G|=E;0!==(E&32768)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&16384)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&8192)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&4096)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&2048)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&1024)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&512)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;
D+=1;0!==(E&256)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&128)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&64)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&32)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&16)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&8)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&4)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&2)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;D+=1;0!==(E&1)?v=c[B[D]+f]:(v=c[B[D]],G|=1<v);B[D]=v;l+=1}G&&(J|=1<<h)}t+=
1}else t+=16;k[r]=J;u[r]|=J}y+=16;C+=16}};a.prototype.wv=function(a,b,c,d,f,x,r,h,y,m){var e=this.Ed;d=d*a+e.M;c=c*a+e.O;b=b*a+e.L;f=f*a+e.N;e=c-f+1;a=d-b+1;this.S&&(e=c-b/2-(f-d/2)+1);0===e&&(e=1);0===a&&(a=1);x/=e;r/=a;m=Math.round(1E3*(x>r?r:x)/m)/1E3;m<h?m=h:m>y&&(m=y);return m};a.prototype.Tk=function(a){var b=a;1>a&&(b=1/a);var c=Math.round(b);(c<b?c/b:b/c)>=ViewConstants.Nx&&(a=1>a?1/c:c);return a};a.prototype.Hf=function(a,b,c,d,f,x,r,h,y,m,l,q,F,z,C,t,I){var e=this.F,g=this.Ed,n=this.Td,
H=this.Ij;l?(H.M=z*a+g.M,H.O=F*a+g.O,H.L=q*a+g.L,H.N=C*a+g.N,m&&(n.N<H.N&&(H.N=n.N),n.L<H.L&&(H.L=n.L),n.O>H.O&&(H.O=n.O),n.M>H.M&&(H.M=n.M)),e=H):m?e=n:this.ra&&(e=this.aa);a=e.N;m=e.O;l=e.M;e=e.L;this.pc&&!t&&(g.N<a&&(a=g.N),g.O>m&&(m=g.O),g.M>l&&(l=g.M),g.L<e&&(e=g.L));-1!==this.ja&&(t=this.oa,g=this.qa,this.width/2-t/2<a&&(a=this.width/2-t/2),this.width/2+t/2>m&&(m=this.width/2+t/2),this.height/2-g/2<e&&(e=this.height/2-g/2),this.height/2+g/2>l&&(l=this.height/2+g/2));y?(t=r,g=h,a=this.width/
2-t/2,m=this.width/2+t/2,l=this.height/2+g/2,e=this.height/2-g/2):(t=m-a+1,g=l-e+1);this.S&&(a-=l/2,t=m-e/2-a+1);0===t&&(t=1);0===g&&(g=1);b/=t;c/=g;x=Math.round(1E3*(b>c?c:b)/x)/1E3;x/=this.fc;x<d?x=d:x>f&&(x=f);d=e-this.Cb+g/2;f=a-this.Hb+t/2;I||(x=this.Tk(x));return[x,f,d]};a.prototype.Hk=function(a,b,c,d){var e=this.Nc,f=this.C,g=this.A;if(a>b){var h=b;b=a;a=h}0>a?a=0:a>=f&&(a=f-1);0>b?b=0:b>=f&&(b=f-1);a=c*f+a;b=c*f+b;f=b-15;if(0<=c&&c<g){for(;a<=f;)e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,
a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1;for(;a<=b;)e[a]=d,a+=1}};a.prototype.Ik=function(a,b,c,d){var e=this.Nc,f=this.C,g=this.A;if(b>c){var h=c;c=b;b=h}0>b?b=0:b>=g&&(b=g-1);0>c?c=0:c>=g&&(c=g-1);b=b*f+a;c=c*f+a;g=c-15*f;if(0<=a&&a<f){for(;b<=g;)e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,
e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f;for(;b<=c;)e[b]=d,b+=f}};a.prototype.Gk=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),h=a<c?1:-1,n=b<d?1:-1,m=e-g,l=this.C,q=this.A,H=this.Nc;if(!(0>a&&0>c||a>=l&&c>=l||0>b&&0>d||b>=q&&d>=q))if(0<=a&&a<l&&0<=b&&b<q&&0<=c&&c<l&&0<=d&&d<q)for(H[b*l+a]=f;a!==c||b!==d;){var p=m+m;p>-g&&(m-=g,a+=h);p<e&&(m+=e,b+=n);H[b*l+a]=f}else for(0<=a&&a<l&&0<=b&&b<q&&(H[b*l+a]=f);a!==c||b!==d;)p=m+m,p>-g&&(m-=g,a+=h),p<e&&(m+=e,b+=n),0<=a&&a<l&&0<=b&&b<q&&
(H[b*l+a]=f)};a.prototype.Hg=function(a,b,c,d,f){var e=this.C/2,g=this.A/2;if(0!==this.Ja){a-=e;b-=g;var h=Math.sqrt(a*a+b*b);var n=180/Math.PI*Math.atan2(b,a);n+=this.Ja;a=Math.round(h*Math.cos(Math.PI/180*n)+e);b=Math.round(h*Math.sin(Math.PI/180*n)+g);c-=e;d-=g;h=Math.sqrt(c*c+d*d);n=180/Math.PI*Math.atan2(d,c);n+=this.Ja;c=Math.round(h*Math.cos(Math.PI/180*n)+e);d=Math.round(h*Math.sin(Math.PI/180*n)+g)}a===c?this.Ik(a,b,d,f):b===d?this.Hk(a,c,b,f):this.Gk(a,b,c,d,f)};a.prototype.xd=function(){var a,
b=this.C,c=this.A,d=this.Pf,f=this.If,x=this.ka,r=d,h,y,m=((this.height/2-(this.$+this.Cb))*x+c/2)%x,l=((this.width/2-(this.ca+this.Hb))*x+b/2)%x;var q=0<this.Sd&&this.Of?2:1;for(h=d;q;){var F=-(b/2/x)-(this.width/2-this.ca-this.Hb)|0;var z=22*-x;var C=b+x+22*x;var t=m-22*x;var I=c+22*x;var k=-b/1.5;var u=b+b/1.5;var A=-c/1.5;for(y=c+c/1.5;z<=C;z+=x)if(0<this.Sd&&this.Of&&(r=0===F%this.Sd?f:d),F+=1,r===h)if(this.S){var J=-(c/2/x)-(this.height/2-this.$-this.Cb)|0;for(a=t;a<I;a+=x)0===(J&1)?this.Hg(Math.round(z+
l),Math.round(a),Math.round(z+l),Math.round(a+x-1),r):this.Hg(Math.round(z+l+x/2),Math.round(a),Math.round(z+l+x/2),Math.round(a+x-1),r),J+=1}else this.Hg(Math.round(z+l),A,Math.round(z+l),y-1,r);F=-(c/2/x)-(this.height/2-this.$-this.Cb)|0;for(a=t;a<I;a+=x)0<this.Sd&&this.Of&&(r=0===F%this.Sd?f:d),F+=1,r===h&&this.Hg(k,Math.round(a),u-1,Math.round(a),r);--q;h=f}};a.prototype.Yg=function(){return 4<=this.ka};a.prototype.ct=function(a){var b=this.oa,c=this.qa,d=this.pa,e=Math.round((this.width-b)/2-
1),f=e+b+1,r=Math.round((this.height-c)/2-1),h=r+c+1,y=d[r],m=d[h];if(0===b)for(b=0;b<this.width;b+=1)y[b]=a,m[b]=a;else if(0===c)for(b=0;b<this.height;b+=1)d[b][e]=a,d[b][f]=a;else{for(b=e;b<=f;b+=1)y[b]=a,m[b]=a;for(b=r+1;b<=h-1;b+=1)d[b][e]=a,d[b][f]=a}};a.prototype.Qy=function(){var a=this.dg[0],b=this.Nc,c;this.Li&&(this.Ss(),--this.Li,this.Li||(this.Yc.set(this.cc),this.vb.set(this.Na),this.ed.set(this.Ec),this.ye.set(this.Kd),this.cd.set(this.Cc),this.bf.set(this.Ld)));this.ka=this.zoom*this.fc;
this.ka<ViewConstants.Ra?this.ka=ViewConstants.Ra:this.ka>ViewConstants.tb&&(this.ka=ViewConstants.tb);this.wc=this.ca+this.Hb;this.xc=this.$+this.Cb;this.i=this.qc/2+1;this.Ja=this.S?0:this.angle;-1!==this.ja&&this.ct(this.uc);if(this.ue&&this.S&&4<=this.ka){var d=0;for(c=b.length;d<c;)b[d]=a,d+=1;this.Mc(1)}else this.Fk(),.125>this.ka?this.bh?this.Wf(this.Zf,this.Da,15):this.Xf(this.Da,this.Da,15):.25>this.ka?this.bh?this.Wf(this.Ze,this.ya,7):this.Xf(this.ya,this.ya,7):.5>this.ka?this.bh?this.Wf(this.Ye,
this.wa,3):this.Xf(this.wa,this.wa,3):1>this.ka?this.bh?this.Wf(this.X,this.G,1):this.Xf(this.G,this.G,1):this.bh?this.Wf(this.gc,this.pa,0):this.Xf(this.pa,this.pa,0)};a.prototype.fr=function(a,b){var c=this.C>>3,d=this.dg,e=this.Nc,f,g,h=1,y=1,m=0,l=this.cb&~b,q=this.gb&~b,F=~b;b=~b;var z=a,C=this.ka;1<this.i&&(h=this.J);a=Math.sin(this.Ja/180*Math.PI)/this.ka;var t=Math.cos(this.Ja/180*Math.PI)/this.ka;var I=-(this.C/2*-a+this.A/2*t)+this.xc;var k=-(this.C/2*t+this.A/2*a)+this.wc;1<this.J&&1<this.i&&
(m=.4/(this.J-1),y=.6);this.Mc(y);var u=this.width<this.U?d[0]|0:this.Lj|0;var A=0;var J=I;for(f=0;f<this.A;f+=1){var G=k;for(g=0;g<c;g+=1){if((G&F)===(G&l)&&(J&b)===(J&q)){var E=z[J&q][G&l]|0;e[A]=d[E]}else e[A]=u;A+=1;G+=t;J-=a;(G&F)===(G&l)&&(J&b)===(J&q)?(E=z[J&q][G&l]|0,e[A]=d[E]):e[A]=u;A+=1;G+=t;J-=a;(G&F)===(G&l)&&(J&b)===(J&q)?(E=z[J&q][G&l]|0,e[A]=d[E]):e[A]=u;A+=1;G+=t;J-=a;(G&F)===(G&l)&&(J&b)===(J&q)?(E=z[J&q][G&l]|0,e[A]=d[E]):e[A]=u;A+=1;G+=t;J-=a;(G&F)===(G&l)&&(J&b)===(J&q)?(E=z[J&
q][G&l]|0,e[A]=d[E]):e[A]=u;A+=1;G+=t;J-=a;(G&F)===(G&l)&&(J&b)===(J&q)?(E=z[J&q][G&l]|0,e[A]=d[E]):e[A]=u;A+=1;G+=t;J-=a;(G&F)===(G&l)&&(J&b)===(J&q)?(E=z[J&q][G&l]|0,e[A]=d[E]):e[A]=u;A+=1;G+=t;J-=a;(G&F)===(G&l)&&(J&b)===(J&q)?(E=z[J&q][G&l]|0,e[A]=d[E]):e[A]=u;A+=1;G+=t;J-=a}k+=a;J=I+=t}this.nc&&this.Yg()&&this.xd();for(u=1;u<h;u+=1){var B=2<this.g?this.g/this.J*u|0:(this.lc+1)/this.J*u|0;y+=m;this.Mc(y);a/=this.i;t/=this.i;C*=this.i;.125>C?(z=this.Da,b=15):.25>C?(z=this.ya,b=7):.5>C?(z=this.wa,
b=3):1>C?(z=this.G,b=1):(z=this.pa,b=0);l=this.cb&~b;q=this.gb&~b;F=~b;b=~b;I=-(this.C/2*-a+this.A/2*t)+this.xc;k=-(this.C/2*t+this.A/2*a)+this.wc;A=0;J=I;for(f=0;f<this.A;f+=1){G=k;for(g=0;g<c;g+=1)(G&F)===(G&l)&&(J&b)===(J&q)&&(E=z[J&q][G&l]|0,E>=B&&(e[A]=d[E])),A+=1,G+=t,J-=a,(G&F)===(G&l)&&(J&b)===(J&q)&&(E=z[J&q][G&l]|0,E>=B&&(e[A]=d[E])),A+=1,G+=t,J-=a,(G&F)===(G&l)&&(J&b)===(J&q)&&(E=z[J&q][G&l]|0,E>=B&&(e[A]=d[E])),A+=1,G+=t,J-=a,(G&F)===(G&l)&&(J&b)===(J&q)&&(E=z[J&q][G&l]|0,E>=B&&(e[A]=
d[E])),A+=1,G+=t,J-=a,(G&F)===(G&l)&&(J&b)===(J&q)&&(E=z[J&q][G&l]|0,E>=B&&(e[A]=d[E])),A+=1,G+=t,J-=a,(G&F)===(G&l)&&(J&b)===(J&q)&&(E=z[J&q][G&l]|0,E>=B&&(e[A]=d[E])),A+=1,G+=t,J-=a,(G&F)===(G&l)&&(J&b)===(J&q)&&(E=z[J&q][G&l]|0,E>=B&&(e[A]=d[E])),A+=1,G+=t,J-=a,(G&F)===(G&l)&&(J&b)===(J&q)&&(E=z[J&q][G&l]|0,E>=B&&(e[A]=d[E])),A+=1,G+=t,J-=a;k+=a;J=I+=t}}};a.prototype.Dr=function(a,b){var c=this.C>>3,d=this.dg,e=this.Nc,f,g,h=1,y=1,m=0,l=this.cb&~b,q=this.gb&~b,F=~b;b=~b;var z=a,C=this.ka;1<this.i&&
(h=this.J);a=1/this.ka;var t=-(this.A/2*a)+this.xc;var I=-(this.C/2*a)+this.wc;1<this.J&&1<this.i&&(m=.4/(this.J-1),y=.6);this.Mc(y);var k=this.width<this.U?d[0]|0:this.Lj|0;var u=0;var A=t;for(f=0;f<this.A;f+=1){if((A&b)===(A&q)){var J=z[A&q];var G=I;this.S&&(G+=.5*(A|0));for(g=0;g<c;g+=1){if((G&F)===(G&l)){var E=J[G&l]|0;e[u]=d[E]}else e[u]=k;u+=1;G+=a;(G&F)===(G&l)?(E=J[G&l]|0,e[u]=d[E]):e[u]=k;u+=1;G+=a;(G&F)===(G&l)?(E=J[G&l]|0,e[u]=d[E]):e[u]=k;u+=1;G+=a;(G&F)===(G&l)?(E=J[G&l]|0,e[u]=d[E]):
e[u]=k;u+=1;G+=a;(G&F)===(G&l)?(E=J[G&l]|0,e[u]=d[E]):e[u]=k;u+=1;G+=a;(G&F)===(G&l)?(E=J[G&l]|0,e[u]=d[E]):e[u]=k;u+=1;G+=a;(G&F)===(G&l)?(E=J[G&l]|0,e[u]=d[E]):e[u]=k;u+=1;G+=a;(G&F)===(G&l)?(E=J[G&l]|0,e[u]=d[E]):e[u]=k;u+=1;G+=a}}else for(g=0;g<c;g+=1)e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1;A=t+=a}this.nc&&this.Yg()&&this.xd();for(k=1;k<h;k+=1){var B=2<this.g?this.g/this.J*k|0:(this.lc+1)/this.J*k|0;y+=m;this.Mc(y);a/=this.i;C*=this.i;.125>
C?(z=this.Da,b=15):.25>C?(z=this.ya,b=7):.5>C?(z=this.wa,b=3):1>C?(z=this.G,b=1):(z=this.pa,b=0);l=this.cb&~b;q=this.gb&~b;F=~b;b=~b;t=-(this.A/2*a)+this.xc;I=-(this.C/2*a)+this.wc;u=0;A=t;for(f=0;f<this.A;f+=1){if((A&b)===(A&q))for(J=z[A&q],G=I,this.S&&(G+=.5*(A|0)),g=0;g<c;g+=1)(G&F)===(G&l)&&(E=J[G&l]|0,E>=B&&(e[u]=d[E])),u+=1,G+=a,(G&F)===(G&l)&&(E=z[A&q][G&l]|0,E>=B&&(e[u]=d[E])),u+=1,G+=a,(G&F)===(G&l)&&(E=z[A&q][G&l]|0,E>=B&&(e[u]=d[E])),u+=1,G+=a,(G&F)===(G&l)&&(E=z[A&q][G&l]|0,E>=B&&(e[u]=
d[E])),u+=1,G+=a,(G&F)===(G&l)&&(E=z[A&q][G&l]|0,E>=B&&(e[u]=d[E])),u+=1,G+=a,(G&F)===(G&l)&&(E=z[A&q][G&l]|0,E>=B&&(e[u]=d[E])),u+=1,G+=a,(G&F)===(G&l)&&(E=z[A&q][G&l]|0,E>=B&&(e[u]=d[E])),u+=1,G+=a,(G&F)===(G&l)&&(E=z[A&q][G&l]|0,E>=B&&(e[u]=d[E])),u+=1,G+=a;else u+=c<<3;A=t+=a}}};a.prototype.Pr=function(a,b){var d=this.C>>3,c=this.dg,e=this.Nc,f,g,h=1,y=1,m=0,l=this.cb&~b;b=this.gb&~b;var q=a,F=this.ka;1<this.i&&(h=this.J);var z=Math.sin(this.Ja/180*Math.PI)/this.ka;var C=Math.cos(this.Ja/180*
Math.PI)/this.ka;var t=-(this.C/2*-z+this.A/2*C)+this.xc;var I=-(this.C/2*C+this.A/2*z)+this.wc;1<this.J&&1<this.i&&(m=.4/(this.J-1),y=.6);this.Mc(y);var k=0;var u=t;for(f=0;f<this.A;f+=1){var A=I;for(g=0;g<d;g+=1){var J=q[u&b][A&l]|0;e[k]=c[J];k+=1;A+=C;u-=z;J=q[u&b][A&l]|0;e[k]=c[J];k+=1;A+=C;u-=z;J=q[u&b][A&l]|0;e[k]=c[J];k+=1;A+=C;u-=z;J=q[u&b][A&l]|0;e[k]=c[J];k+=1;A+=C;u-=z;J=q[u&b][A&l]|0;e[k]=c[J];k+=1;A+=C;u-=z;J=q[u&b][A&l]|0;e[k]=c[J];k+=1;A+=C;u-=z;J=q[u&b][A&l]|0;e[k]=c[J];k+=1;A+=C;
u-=z;J=q[u&b][A&l]|0;e[k]=c[J];k+=1;A+=C;u-=z}I+=z;u=t+=C}this.nc&&this.Yg()&&this.xd();for(a=1;a<h;a+=1){var G=2<this.g?this.g/this.J*a|0:(this.lc+1)/this.J*a|0;y+=m;this.Mc(y);z/=this.i;C/=this.i;F*=this.i;.125>F?(q=this.Da,b=15):.25>F?(q=this.ya,b=7):.5>F?(q=this.wa,b=3):1>F?(q=this.G,b=1):(q=this.pa,b=0);l=this.cb&~b;b=this.gb&~b;t=-(this.C/2*-z+this.A/2*C)+this.xc;I=-(this.C/2*C+this.A/2*z)+this.wc;k=0;u=t;for(f=0;f<this.A;f+=1){A=I;for(g=0;g<d;g+=1)J=q[u&b][A&l]|0,J>=G&&(e[k]=c[J]),k+=1,A+=
C,u-=z,J=q[u&b][A&l]|0,J>=G&&(e[k]=c[J]),k+=1,A+=C,u-=z,J=q[u&b][A&l]|0,J>=G&&(e[k]=c[J]),k+=1,A+=C,u-=z,J=q[u&b][A&l]|0,J>=G&&(e[k]=c[J]),k+=1,A+=C,u-=z,J=q[u&b][A&l]|0,J>=G&&(e[k]=c[J]),k+=1,A+=C,u-=z,J=q[u&b][A&l]|0,J>=G&&(e[k]=c[J]),k+=1,A+=C,u-=z,J=q[u&b][A&l]|0,J>=G&&(e[k]=c[J]),k+=1,A+=C,u-=z,J=q[u&b][A&l]|0,J>=G&&(e[k]=c[J]),k+=1,A+=C,u-=z;I+=z;u=t+=C}}};a.prototype.Vr=function(a,b){var c=this.C>>3,d=this.dg,e=this.Nc,f,g=1,h=1,y=0,m=this.cb&~b;b=this.gb&~b;var l=a,q=this.ka;1<this.i&&(g=
this.J);var F=1/this.ka;var z=-(this.A/2*F)+this.xc;var C=-(this.C/2*F)+this.wc;1<this.J&&1<this.i&&(y=.4/(this.J-1),h=.6);this.Mc(h);var t=0;var I=z;for(f=0;f<this.A;f+=1){var k=l[I&b];var u=C;this.S&&(u+=.5*(I|0));for(I=0;I<c;I+=1){var A=k[u&m]|0;e[t]=d[A];t+=1;u+=F;A=k[u&m]|0;e[t]=d[A];t+=1;u+=F;A=k[u&m]|0;e[t]=d[A];t+=1;u+=F;A=k[u&m]|0;e[t]=d[A];t+=1;u+=F;A=k[u&m]|0;e[t]=d[A];t+=1;u+=F;A=k[u&m]|0;e[t]=d[A];t+=1;u+=F;A=k[u&m]|0;e[t]=d[A];t+=1;u+=F;A=k[u&m]|0;e[t]=d[A];t+=1;u+=F}I=z+=F}this.nc&&
this.Yg()&&this.xd();for(a=1;a<g;a+=1){var J=2<this.g?this.g/this.J*a|0:(this.lc+1)/this.J*a|0;h+=y;this.Mc(h);F/=this.i;q*=this.i;.125>q?(l=this.Da,b=15):.25>q?(l=this.ya,b=7):.5>q?(l=this.wa,b=3):1>q?(l=this.G,b=1):(l=this.pa,b=0);m=this.cb&~b;b=this.gb&~b;z=-(this.A/2*F)+this.xc;C=-(this.C/2*F)+this.wc;t=0;I=z;for(f=0;f<this.A;f+=1){k=l[I&b];u=C;this.S&&(u+=.5*(I|0));for(I=0;I<c;I+=1)A=k[u&m]|0,A>=J&&(e[t]=d[A]),t+=1,u+=F,A=k[u&m]|0,A>=J&&(e[t]=d[A]),t+=1,u+=F,A=k[u&m]|0,A>=J&&(e[t]=d[A]),t+=1,
u+=F,A=k[u&m]|0,A>=J&&(e[t]=d[A]),t+=1,u+=F,A=k[u&m]|0,A>=J&&(e[t]=d[A]),t+=1,u+=F,A=k[u&m]|0,A>=J&&(e[t]=d[A]),t+=1,u+=F,A=k[u&m]|0,A>=J&&(e[t]=d[A]),t+=1,u+=F,A=k[u&m]|0,A>=J&&(e[t]=d[A]),t+=1,u+=F;I=z+=F}}};a.prototype.Xf=function(a,b,d){var c=Math.sin(this.Ja/180*Math.PI)/this.ka,e=Math.cos(this.Ja/180*Math.PI)/this.ka,f=this.C,g=this.A,h=-(this.C/2*-c+this.A/2*e)+this.xc,n=-(this.C/2*e+this.A/2*c)+this.wc;b=h+f*-c;var m=n+f*e,l=h+g*e;g=n+g*c;c=l+f*-c;e=g+f*e;f=h;var q=n;m<q&&(q=m);g<q&&(q=g);
e<q&&(q=g);m>n&&(n=m);g>n&&(n=g);e>n&&(n=e);b<f&&(f=b);l<f&&(f=l);c<f&&(f=c);b>h&&(h=b);l>h&&(h=l);c>h&&(h=c);0>(q|0)||(n|0)>=this.width||0>(f|0)||(h|0)>=this.height?0===this.Ja?this.Dr(a,d):this.fr(a,d):0===this.Ja?this.Vr(a,d):this.Pr(a,d)};a.prototype.jo=function(a,b,c){var d=this.C>>3,e=this.dg,f=this.Nc,g,h;var n=ViewConstants.bb[3]+128;var m=ViewConstants.bb[4]+128,l=ViewConstants.bb[5]+128,q=ViewConstants.bb[6]+128,F=1,z=1,C=0,t=this.Za,I=this.cb&~c,k=this.gb&~c,u=~c;c=~c;var A=b,J=this.ka;
1<this.i&&(F=this.J);b=Math.sin(this.Ja/180*Math.PI)/this.ka;var G=Math.cos(this.Ja/180*Math.PI)/this.ka;var E=-(this.C/2*-b+this.A/2*G)+this.xc;var B=-(this.C/2*G+this.A/2*b)+this.wc;1<this.J&&1<this.i&&(C=.4/(this.J-1),z=.6);this.Mc(z);var D=this.width<this.U?e[0]|0:this.Lj|0;var v=0;var w=E;for(g=0;g<this.A;g+=1){var M=B;for(h=0;h<d;h+=1){if((M&u)===(M&I)&&(w&c)===(w&k)){var K=A[w&k][M&I];var P=a[w&k][M&I];P===m||P===q?(K>=t&&(P=n),K=e[P]|0):P===n||P===l?(K<t&&(P=m),K=e[P]|0):K=e[K]|0;f[v]=K}else f[v]=
D;v+=1;M+=G;w-=b;(M&u)===(M&I)&&(w&c)===(w&k)?(K=A[w&k][M&I],P=a[w&k][M&I],P===m||P===q?(K>=t&&(P=n),K=e[P]|0):P===n||P===l?(K<t&&(P=m),K=e[P]|0):K=e[K]|0,f[v]=K):f[v]=D;v+=1;M+=G;w-=b;(M&u)===(M&I)&&(w&c)===(w&k)?(K=A[w&k][M&I],P=a[w&k][M&I],P===m||P===q?(K>=t&&(P=n),K=e[P]|0):P===n||P===l?(K<t&&(P=m),K=e[P]|0):K=e[K]|0,f[v]=K):f[v]=D;v+=1;M+=G;w-=b;(M&u)===(M&I)&&(w&c)===(w&k)?(K=A[w&k][M&I],P=a[w&k][M&I],P===m||P===q?(K>=t&&(P=n),K=e[P]|0):P===n||P===l?(K<t&&(P=m),K=e[P]|0):K=e[K]|0,f[v]=K):f[v]=
D;v+=1;M+=G;w-=b;(M&u)===(M&I)&&(w&c)===(w&k)?(K=A[w&k][M&I],P=a[w&k][M&I],P===m||P===q?(K>=t&&(P=n),K=e[P]|0):P===n||P===l?(K<t&&(P=m),K=e[P]|0):K=e[K]|0,f[v]=K):f[v]=D;v+=1;M+=G;w-=b;(M&u)===(M&I)&&(w&c)===(w&k)?(K=A[w&k][M&I],P=a[w&k][M&I],P===m||P===q?(K>=t&&(P=n),K=e[P]|0):P===n||P===l?(K<t&&(P=m),K=e[P]|0):K=e[K]|0,f[v]=K):f[v]=D;v+=1;M+=G;w-=b;(M&u)===(M&I)&&(w&c)===(w&k)?(K=A[w&k][M&I],P=a[w&k][M&I],P===m||P===q?(K>=t&&(P=n),K=e[P]|0):P===n||P===l?(K<t&&(P=m),K=e[P]|0):K=e[K]|0,f[v]=K):f[v]=
D;v+=1;M+=G;w-=b;(M&u)===(M&I)&&(w&c)===(w&k)?(K=A[w&k][M&I],P=a[w&k][M&I],P===m||P===q?(K>=t&&(P=n),K=e[P]|0):P===n||P===l?(K<t&&(P=m),K=e[P]|0):K=e[K]|0,f[v]=K):f[v]=D;v+=1;M+=G;w-=b}B+=b;w=E+=G}this.nc&&this.Yg()&&this.xd();for(a=1;a<F;a+=1)for(n=2<this.g?this.g/this.J*a|0:(this.lc+1)/this.J*a|0,z+=C,this.Mc(z),b/=this.i,G/=this.i,J*=this.i,.125>J?(A=this.Da,c=15):.25>J?(A=this.ya,c=7):.5>J?(A=this.wa,c=3):1>J?(A=this.G,c=1):(A=this.pa,c=0),I=this.cb&~c,k=this.gb&~c,u=~c,c=~c,E=-(this.C/2*-b+this.A/
2*G)+this.xc,B=-(this.C/2*G+this.A/2*b)+this.wc,v=0,w=E,g=0;g<this.A;g+=1){M=B;for(h=0;h<d;h+=1)(M&u)===(M&I)&&(w&c)===(w&k)&&(K=A[w&k][M&I]|0,K>=n&&(f[v]=e[K])),v+=1,M+=G,w-=b,(M&u)===(M&I)&&(w&c)===(w&k)&&(K=A[w&k][M&I]|0,K>=n&&(f[v]=e[K])),v+=1,M+=G,w-=b,(M&u)===(M&I)&&(w&c)===(w&k)&&(K=A[w&k][M&I]|0,K>=n&&(f[v]=e[K])),v+=1,M+=G,w-=b,(M&u)===(M&I)&&(w&c)===(w&k)&&(K=A[w&k][M&I]|0,K>=n&&(f[v]=e[K])),v+=1,M+=G,w-=b,(M&u)===(M&I)&&(w&c)===(w&k)&&(K=A[w&k][M&I]|0,K>=n&&(f[v]=e[K])),v+=1,M+=G,w-=b,
(M&u)===(M&I)&&(w&c)===(w&k)&&(K=A[w&k][M&I]|0,K>=n&&(f[v]=e[K])),v+=1,M+=G,w-=b,(M&u)===(M&I)&&(w&c)===(w&k)&&(K=A[w&k][M&I]|0,K>=n&&(f[v]=e[K])),v+=1,M+=G,w-=b,(M&u)===(M&I)&&(w&c)===(w&k)&&(K=A[w&k][M&I]|0,K>=n&&(f[v]=e[K])),v+=1,M+=G,w-=b;B+=b;w=E+=G}};a.prototype.ro=function(a,b,c){var d=this.C>>3,e=this.dg,f=this.Nc,g,h;var n=ViewConstants.bb[3]+128;var m=ViewConstants.bb[4]+128,l=ViewConstants.bb[5]+128,q=ViewConstants.bb[6]+128,F=1,z=1,C=0,t=this.Za,I=this.cb&~c;c=this.gb&~c;var k=b,u=this.ka;
1<this.i&&(F=this.J);b=Math.sin(this.Ja/180*Math.PI)/this.ka;var A=Math.cos(this.Ja/180*Math.PI)/this.ka;var J=-(this.C/2*-b+this.A/2*A)+this.xc;var G=-(this.C/2*A+this.A/2*b)+this.wc;1<this.J&&1<this.i&&(C=.4/(this.J-1),z=.6);this.Mc(z);var E=0;var B=J;for(g=0;g<this.A;g+=1){var D=G;for(h=0;h<d;h+=1){var v=k[B&c][D&I];var w=a[B&c][D&I];w===m||w===q?(v>=t&&(w=n),v=e[w]|0):w===n||w===l?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;f[E]=v;E+=1;D+=A;B-=b;v=k[B&c][D&I];w=a[B&c][D&I];w===m||w===q?(v>=t&&(w=n),v=e[w]|
0):w===n||w===l?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;f[E]=v;E+=1;D+=A;B-=b;v=k[B&c][D&I];w=a[B&c][D&I];w===m||w===q?(v>=t&&(w=n),v=e[w]|0):w===n||w===l?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;f[E]=v;E+=1;D+=A;B-=b;v=k[B&c][D&I];w=a[B&c][D&I];w===m||w===q?(v>=t&&(w=n),v=e[w]|0):w===n||w===l?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;f[E]=v;E+=1;D+=A;B-=b;v=k[B&c][D&I];w=a[B&c][D&I];w===m||w===q?(v>=t&&(w=n),v=e[w]|0):w===n||w===l?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;f[E]=v;E+=1;D+=A;B-=b;v=k[B&c][D&I];w=a[B&c][D&I];w===m||w===q?(v>=
t&&(w=n),v=e[w]|0):w===n||w===l?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;f[E]=v;E+=1;D+=A;B-=b;v=k[B&c][D&I];w=a[B&c][D&I];w===m||w===q?(v>=t&&(w=n),v=e[w]|0):w===n||w===l?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;f[E]=v;E+=1;D+=A;B-=b;v=k[B&c][D&I];w=a[B&c][D&I];w===m||w===q?(v>=t&&(w=n),v=e[w]|0):w===n||w===l?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;f[E]=v;E+=1;D+=A;B-=b}G+=b;B=J+=A}this.nc&&this.Yg()&&this.xd();for(a=1;a<F;a+=1)for(n=2<this.g?this.g/this.J*a|0:(this.lc+1)/this.J*a|0,z+=C,this.Mc(z),b/=this.i,A/=this.i,u*=this.i,
.125>u?(k=this.Da,c=15):.25>u?(k=this.ya,c=7):.5>u?(k=this.wa,c=3):1>u?(k=this.G,c=1):(k=this.pa,c=0),I=this.cb&~c,c=this.gb&~c,J=-(this.C/2*-b+this.A/2*A)+this.xc,G=-(this.C/2*A+this.A/2*b)+this.wc,E=0,B=J,g=0;g<this.A;g+=1){D=G;for(h=0;h<d;h+=1)v=k[B&c][D&I]|0,v>=n&&(f[E]=e[v]),E+=1,D+=A,B-=b,v=k[B&c][D&I]|0,v>=n&&(f[E]=e[v]),E+=1,D+=A,B-=b,v=k[B&c][D&I]|0,v>=n&&(f[E]=e[v]),E+=1,D+=A,B-=b,v=k[B&c][D&I]|0,v>=n&&(f[E]=e[v]),E+=1,D+=A,B-=b,v=k[B&c][D&I]|0,v>=n&&(f[E]=e[v]),E+=1,D+=A,B-=b,v=k[B&c][D&
I]|0,v>=n&&(f[E]=e[v]),E+=1,D+=A,B-=b,v=k[B&c][D&I]|0,v>=n&&(f[E]=e[v]),E+=1,D+=A,B-=b,v=k[B&c][D&I]|0,v>=n&&(f[E]=e[v]),E+=1,D+=A,B-=b;G+=b;B=J+=A}};a.prototype.$q=function(a,b,c){var d=this.C>>3,e=this.dg,f=this.Nc,g;var h=ViewConstants.bb[3]+128;var n=ViewConstants.bb[4]+128,m=ViewConstants.bb[5]+128,l=ViewConstants.bb[6]+128,q=1,F=1,z=0,C=this.Za,t=this.cb&~c;c=this.gb&~c;var I=b,k=this.ka;1<this.i&&(q=this.J);b=1/this.ka;var u=-(this.A/2*b)+this.xc;var A=-(this.C/2*b)+this.wc;1<this.J&&1<this.i&&
(z=.4/(this.J-1),F=.6);this.Mc(F);var J=0;var G=u;for(g=0;g<this.A;g+=1){var E=I[G&c];var B=a[G&c];var D=A;this.S&&(D+=.5*(G|0));for(G=0;G<d;G+=1){var v=E[D&t];var w=B[D&t];w===n||w===l?(v>=C&&(w=h),v=e[w]|0):w===h||w===m?(v<C&&(w=n),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;D+=b;v=E[D&t];w=B[D&t];w===n||w===l?(v>=C&&(w=h),v=e[w]|0):w===h||w===m?(v<C&&(w=n),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;D+=b;v=E[D&t];w=B[D&t];w===n||w===l?(v>=C&&(w=h),v=e[w]|0):w===h||w===m?(v<C&&(w=n),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;D+=b;v=
E[D&t];w=B[D&t];w===n||w===l?(v>=C&&(w=h),v=e[w]|0):w===h||w===m?(v<C&&(w=n),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;D+=b;v=E[D&t];w=B[D&t];w===n||w===l?(v>=C&&(w=h),v=e[w]|0):w===h||w===m?(v<C&&(w=n),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;D+=b;v=E[D&t];w=B[D&t];w===n||w===l?(v>=C&&(w=h),v=e[w]|0):w===h||w===m?(v<C&&(w=n),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;D+=b;v=E[D&t];w=B[D&t];w===n||w===l?(v>=C&&(w=h),v=e[w]|0):w===h||w===m?(v<C&&(w=n),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;D+=b;v=E[D&t];w=B[D&t];w===n||w===l?(v>=C&&(w=h),
v=e[w]|0):w===h||w===m?(v<C&&(w=n),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;D+=b}G=u+=b}this.nc&&this.Yg()&&this.xd();for(a=1;a<q;a+=1)for(h=2<this.g?this.g/this.J*a|0:(this.lc+1)/this.J*a|0,F+=z,this.Mc(F),b/=this.i,k*=this.i,.125>k?(I=this.Da,c=15):.25>k?(I=this.ya,c=7):.5>k?(I=this.wa,c=3):1>k?(I=this.G,c=1):(I=this.pa,c=0),t=this.cb&~c,c=this.gb&~c,u=-(this.A/2*b)+this.xc,A=-(this.C/2*b)+this.wc,J=0,G=u,g=0;g<this.A;g+=1){E=I[G&c];D=A;this.S&&(D+=.5*(G|0));for(G=0;G<d;G+=1)v=E[D&t]|0,v>=h&&(f[J]=e[v]),
J+=1,D+=b,v=E[D&t]|0,v>=h&&(f[J]=e[v]),J+=1,D+=b,v=E[D&t]|0,v>=h&&(f[J]=e[v]),J+=1,D+=b,v=E[D&t]|0,v>=h&&(f[J]=e[v]),J+=1,D+=b,v=E[D&t]|0,v>=h&&(f[J]=e[v]),J+=1,D+=b,v=E[D&t]|0,v>=h&&(f[J]=e[v]),J+=1,D+=b,v=E[D&t]|0,v>=h&&(f[J]=e[v]),J+=1,D+=b,v=E[D&t]|0,v>=h&&(f[J]=e[v]),J+=1,D+=b;G=u+=b}};a.prototype.lo=function(a,b,c){var d=this.C>>3,e=this.dg,f=this.Nc,g;var h=ViewConstants.bb[3]+128;var n=ViewConstants.bb[4]+128,m=ViewConstants.bb[5]+128,l=ViewConstants.bb[6]+128,q=1,F=1,z=0,C=this.Za,t=this.cb&
~c,I=this.gb&~c,k=~c;c=~c;var u=b,A=this.ka;1<this.i&&(q=this.J);b=1/this.ka;var J=-(this.A/2*b)+this.xc;var G=-(this.C/2*b)+this.wc;1<this.J&&1<this.i&&(z=.4/(this.J-1),F=.6);this.Mc(F);var E=this.width<this.U?e[0]|0:this.Lj|0;var B=0;var D=J;for(g=0;g<this.A;g+=1){if((D&c)===(D&I)){var v=u[D&I];var w=a[D&I];var M=G;this.S&&(M+=.5*(D|0));for(D=0;D<d;D+=1){if((M&k)===(M&t)){var K=v[M&t];var P=w[M&t];P===n||P===l?(K>=C&&(P=h),K=e[P]|0):P===h||P===m?(K<C&&(P=n),K=e[P]|0):K=e[K]|0}else K=E;f[B]=K;B+=
1;M+=b;(M&k)===(M&t)?(K=v[M&t],P=w[M&t],P===n||P===l?(K>=C&&(P=h),K=e[P]|0):P===h||P===m?(K<C&&(P=n),K=e[P]|0):K=e[K]|0):K=E;f[B]=K;B+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],P=w[M&t],P===n||P===l?(K>=C&&(P=h),K=e[P]|0):P===h||P===m?(K<C&&(P=n),K=e[P]|0):K=e[K]|0):K=E;f[B]=K;B+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],P=w[M&t],P===n||P===l?(K>=C&&(P=h),K=e[P]|0):P===h||P===m?(K<C&&(P=n),K=e[P]|0):K=e[K]|0):K=E;f[B]=K;B+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],P=w[M&t],P===n||P===l?(K>=C&&(P=h),K=e[P]|0):P===h||P===m?(K<C&&(P=
n),K=e[P]|0):K=e[K]|0):K=E;f[B]=K;B+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],P=w[M&t],P===n||P===l?(K>=C&&(P=h),K=e[P]|0):P===h||P===m?(K<C&&(P=n),K=e[P]|0):K=e[K]|0):K=E;f[B]=K;B+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],P=w[M&t],P===n||P===l?(K>=C&&(P=h),K=e[P]|0):P===h||P===m?(K<C&&(P=n),K=e[P]|0):K=e[K]|0):K=E;f[B]=K;B+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],P=w[M&t],P===n||P===l?(K>=C&&(P=h),K=e[P]|0):P===h||P===m?(K<C&&(P=n),K=e[P]|0):K=e[K]|0):K=E;f[B]=K;B+=1;M+=b}}else for(D=0;D<d;D+=1)f[B]=E,B+=1,f[B]=E,B+=1,f[B]=
E,B+=1,f[B]=E,B+=1,f[B]=E,B+=1,f[B]=E,B+=1,f[B]=E,B+=1,f[B]=E,B+=1;D=J+=b}this.nc&&this.Yg()&&this.xd();for(a=1;a<q;a+=1)for(h=2<this.g?this.g/this.J*a|0:(this.lc+1)/this.J*a|0,F+=z,this.Mc(F),b/=this.i,A*=this.i,.125>A?(u=this.Da,c=15):.25>A?(u=this.ya,c=7):.5>A?(u=this.wa,c=3):1>A?(u=this.G,c=1):(u=this.pa,c=0),t=this.cb&~c,I=this.gb&~c,k=~c,c=~c,J=-(this.A/2*b)+this.xc,G=-(this.C/2*b)+this.wc,B=0,D=J,g=0;g<this.A;g+=1){if((D&c)===(D&I))for(v=u[D&I],M=G,this.S&&(M+=.5*(D|0)),D=0;D<d;D+=1)(M&k)===
(M&t)&&(K=v[M&t]|0,K>=h&&(f[B]=e[K])),B+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(f[B]=e[K])),B+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(f[B]=e[K])),B+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(f[B]=e[K])),B+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(f[B]=e[K])),B+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(f[B]=e[K])),B+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(f[B]=e[K])),B+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(f[B]=e[K])),B+=1,M+=b;else B+=d<<3;D=J+=b}};a.prototype.Wf=function(a,b,c){var d=Math.sin(this.Ja/
180*Math.PI)/this.ka,e=Math.cos(this.Ja/180*Math.PI)/this.ka,f=this.C,g=this.A,h=-(this.C/2*-d+this.A/2*e)+this.xc,n=-(this.C/2*e+this.A/2*d)+this.wc,m=h+f*-d,l=n+f*e,q=h+g*e;g=n+g*d;d=q+f*-d;e=g+f*e;f=h;var F=n;l<F&&(F=l);g<F&&(F=g);e<F&&(F=g);l>n&&(n=l);g>n&&(n=g);e>n&&(n=e);m<f&&(f=m);q<f&&(f=q);d<f&&(f=d);m>h&&(h=m);q>h&&(h=q);d>h&&(h=d);0>(F|0)||(n|0)>=this.width||0>(f|0)||(h|0)>=this.height?0===this.Ja?this.lo(a,b,c):this.jo(a,b,c):0===this.Ja?this.$q(a,b,c):this.ro(a,b,c)};a.prototype.pn=function(){var a;
if(!this.yd.data.buffer){var b=this.yd.data;var c=this.Ai;var d=c.length;for(a=0;a<d;)b[a]=c[a],a+=1,b[a]=c[a],a+=1,b[a]=c[a],a+=1,b[a]=c[a],a+=1}this.context.putImageData(this.yd,0,0)};a.prototype.Ck=function(){var a,b=0,c=this.A,d=this.C,f=this.Nc,x=this.tg;for(a=0;a<c;a+=1)f.set(x,b),b+=d};window.LifeConstants=f;window.Life=a})();(function(){function c(c){this.source=c.replace(/&amp;/gi,"&");this.f=this.source.match(/\S+/g);this.current=0}c.prototype.Y=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current],this.current+=1);return c};c.prototype.sa=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current]);return c};c.prototype.ft=function(){var c=Keywords.pj,b=!1;if(this.f)for(;this.current<this.f.length&&!b;)this.f[this.current]===c&&(b=!0),this.current+=1;return b};c.prototype.i=
function(c){return!isNaN(parseFloat(c))&&isFinite(Number(c))};c.prototype.m=function(c){var b=!1,a=c.indexOf("/");-1!==a&&(b=c.substr(0,a),c=c.substr(a+1),b=this.i(b)&&this.i(c));return b};c.prototype.G=function(c){var b=0;if(this.m(c)){var a=c.indexOf("/");var d=c.substr(0,a);c=c.substr(a+1);0!==Number(c)&&(b=Number(d)/Number(c))}else this.i(c)&&(b=parseFloat(c));return b};c.prototype.H=function(){var c=this.Y();return this.G(c)};c.prototype.I=function(){var c=!1;if(this.f&&this.current<this.f.length){var b=
this.f[this.current];this.m(b)?c=!0:c=this.i(b)}return c};window.Script=c})();(function(){function c(a){this.m=a;this.nj=this.hf=!1;this.ke=e.Lq;this.wg=e.hk;this.la=this.pb=-1;this.angle=this.y=this.x=0;this.depth=this.J=this.zoom=1;this.ub=0;this.sb=60;this.step=1;this.$b=this.Xa=0;this.sd="";this.Yl=this.Zi=this.Fo=this.Cm=this.Ah=this.zh=this.Fr=this.Tu=this.mm=this.Yh=this.si=this.qh=this.eh=this.Se=this.$g=this.gh=this.vd=this.Xg=this.Ve=this.wf=this.oc=this.ni=this.Xe=this.We=this.Ue=this.jd=!1}function d(a,b,c,d,e,f,h,y,m,l,q,F,z,C,t,I,k){this.coords=a;this.nq=b;this.zoom=
c;this.ce=d;this.alpha=e;this.size=f;this.Wa=h;this.te=y;this.Zb=m;this.angle=l;this.Fh=q;this.ji=F;this.ui=z;this.vi=C;this.rd=t;this.Mh=I;this.Nh=k}function b(a,b,c,d,e,f,h,y,m,l,q,F,z,C,t,I,k,u,A,J){this.js=a;this.ls=b;this.uv=c;this.vv=d;this.zoom=e;this.ce=f;this.alpha=h;this.size=y;this.st=m;this.Wa=l;this.te=q;this.Zb=F;this.angle=z;this.Fh=C;this.ji=t;this.ui=I;this.vi=k;this.rd=u;this.Mh=A;this.Nh=J}function a(a,b,c,d,e,f,h,y,m,l,q,F,z,C,t,I,k){this.message="";this.x=a;this.y=b;this.zoom=
c;this.ce=d;this.alpha=e;this.size=f;this.Wa=h;this.te=y;this.Zb=m;this.angle=l;this.Fh=q;this.ji=F;this.ui=z;this.vi=C;this.rd=t;this.Mh=I;this.Nh=k}function f(){this.ha=[];this.nb=[];this.ld=[];this.gd=[];this.pd=[];this.current=new c(this);this.wa=new c(this);this.i=new c(this);this.m=!1;this.rh=0;this.G=!1}var e={Lq:0,play:1,stop:2,hk:12,lu:0,ku:200};c.prototype.set=function(a){this.hf=a.hf;this.nj=a.nj;this.ke=a.ke;this.wg=a.wg;this.pb=a.pb;this.la=a.la;this.x=a.x;this.y=a.y;this.Ue=a.Ue;this.We=
a.We;this.Xe=a.Xe;this.jd=a.jd;this.angle=a.angle;this.zoom=a.zoom;this.J=a.J;this.depth=a.depth;this.ub=a.ub;this.sb=a.sb;this.Xa=a.Xa;this.$b=a.$b;this.sd=a.sd;this.ni=a.ni;this.oc=a.oc};c.prototype.f=function(){var a="";switch(this.ke){case e.play:a=Keywords.ik;break;case e.stop:a=Keywords.jk}return a};c.prototype.zz=function(a){this.hf?(this.ke!==e.Lq&&(a[a.length]=[Keywords.ik,"overwrites "+this.f()]),this.ke=e.play):a[a.length]=[Keywords.ik,"only valid at POI"]};c.prototype.Bz=function(a){this.hf?
(this.ke!==e.Lq&&(a[a.length]=[Keywords.jk,"overwrites "+this.f()]),this.ke=e.stop):a[a.length]=[Keywords.jk,"only valid at POI"]};c.prototype.Az=function(a){this.hf?(this.nj&&(a[a.length]=[Keywords.Ul,"already defined"]),this.nj=!0):a[a.length]=[Keywords.Ul,"only valid at POI"]};c.prototype.Ez=function(a,b){this.hf?(this.wg!==e.hk&&(b[b.length]=[Keywords.Vl+" "+a,"overwrites "+this.wg]),this.wg=a):b[b.length]=[Keywords.Vl,"only valid at POI"]};c.prototype.i=function(a,b,c){var d=a.$b+0,e=b.$b+0,
f=a.angle+0,g=b.angle+0,n=1,m=1,l=1,q=1,F=1;c>e&&(c=e);e-d===ViewConstants.Iz&&(d=e);e!==d&&(n=Math.round((c-d)/(e-d)*1E6)/1E6,m=this.m.As(n)+0);b.Ue||b.jd?l=n:l=m;b.We||b.jd?q=n:q=m;b.Xe||b.jd?F=n:F=m;this.x=a.x+l*(b.x-a.x);this.y=a.y+q*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,F);180<g-f?f+=360:-180>g-f&&(g+=360);this.angle=(f+m*(g-f))%360;this.J=a.J+n*(b.J-a.J)|0;this.depth=a.depth+n*(b.depth-a.depth);this.ub=b.ub;this.sb=b.sb;this.step=b.step;this.Xa=a.Xa+n*(b.Xa-a.Xa)|0;this.$b=c;this.sd=
b.sd;this.jd=b.jd};f.prototype.Rw=function(a,b,c,e,f,r,h,y,m,l,q,F,z,C,t,I,k){return new d(a,b,c,e,f,r,h,y,m,l,q,F,z,C,t,I,k)};f.prototype.Ga=function(){this.pd=[]};f.prototype.dw=function(a){this.pd[this.pd.length]=a};f.prototype.Jw=function(a,c,d,e,f,r,h,y,m,l,q,F,z,C,t,I,k,u,A,J){return new b(a,c,d,e,f,r,h,y,m,l,q,F,z,C,t,I,k,u,A,J)};f.prototype.ya=function(){this.gd=[]};f.prototype.$v=function(a){this.gd[this.gd.length]=a};f.prototype.Nw=function(b,c,d,e,f,r,h,y,m,l,q,F,z,C,t,I,k){return new a(b,
c,d,e,f,r,h,y,m,l,q,F,z,C,t,I,k)};f.prototype.Da=function(){this.ld=[]};f.prototype.ps=function(a){this.ld[this.ld.length]=a};f.prototype.Ll=function(){return this.ld.length+this.gd.length+this.pd.length};f.prototype.zw=function(){this.Da();this.ya();this.Ga()};f.prototype.yy=function(a){var b="",c="";0<=a&&a<this.pd.length&&(a=this.pd[a],a.ji&&(c="*"),b=a.nq?"FILL\t":"LINE\t",b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+a.coords[1]);return b};f.prototype.zy=function(a){var b="",c="";0<=a&&a<this.pd.length&&
(b=this.pd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.Fh&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};f.prototype.Ay=function(a){var b="";0<=a&&a<this.pd.length&&(a=this.pd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.Wa&&(b+="\tT1 "+a.Wa+"\tT2 "+a.te,0<a.Zb&&(b+="\tFade "+a.Zb)));return b};f.prototype.By=function(a){var b="";0<=a&&a<this.pd.length&&(b=this.pd[a].ce);return b};f.prototype.jw=function(a){var b="",c="";0<=a&&a<this.gd.length&&(a=this.gd[a],a.ji&&(c="*"),b="X1"+c+" "+a.js+
"\tY1"+c+" "+a.ls,b+="\tX2"+c+" "+a.uv+"\tY2"+c+" "+a.vv);return b};f.prototype.kw=function(a){var b="",c="";0<=a&&a<this.gd.length&&(b=this.gd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.Fh&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};f.prototype.lw=function(a){var b="";0<=a&&a<this.gd.length&&(a=this.gd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.Wa&&(b+="\tT1 "+a.Wa+"\tT2 "+a.te,0<a.Zb&&(b+="\tFade "+a.Zb)));return b};f.prototype.Hm=function(a){var b="";0<=a&&a<this.gd.length&&(b=this.gd[a].ce);
return b};f.prototype.Qx=function(a){var b="",c="",d="";if(0<=a&&a<this.ld.length){var e=this.ld[a];a=e.zoom;0<=a&&1>a&&(a=-1/a);e.ji&&(c="*");e.Fh&&(d="*");b="X"+c+" "+e.x+"\tY"+c+" "+e.y;b+="\tZ "+a.toFixed(1)+"\tA"+d+" "+e.angle.toFixed(1)}return b};f.prototype.Rx=function(a){var b="";0<=a&&a<this.ld.length&&(a=this.ld[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.Wa&&(b+="\tT1 "+a.Wa+"\tT2 "+a.te,0<a.Zb&&(b+="\tFade "+a.Zb)));return b};f.prototype.Sx=function(a){var b="";0<=a&&a<this.ld.length&&(a=
this.ld[a],b="Size "+a.size+'\t"'+a.message+'"');return b};f.prototype.Tx=function(a){var b="";0<=a&&a<this.ld.length&&(b=this.ld[a].ce);return b};f.prototype.Lb=function(){this.ld.sort(function(a,b){return a.zoom-b.zoom})};f.prototype.Jb=function(){this.gd.sort(function(a,b){return a.zoom-b.zoom})};f.prototype.cc=function(){this.pd.sort(function(a,b){return a.zoom-b.zoom})};f.prototype.Kz=function(){this.Lb();this.Jb();this.cc()};f.prototype.X=function(a,b){var c,d=a.a,e=d.context,f=d.width/2-d.ca-
d.Hb,g=d.height/2-d.$-d.Cb,n=d.zoom*d.fc,m=d.C/2,l=d.A/2,q=a.a.u,F=d.S?-(d.height>>2):0,z=0,C=0,t=0,I=0,k=0;d.S&&(f+=g/2);b&&(e.strokeStyle=ViewConstants.nw);for(c=0;c<this.gd.length;c+=1){var u=this.gd[c];var A=!0;-1!==u.Wa&&(q<u.Wa||q>u.te)&&(A=!1);if(A){var J=u.size*n/u.zoom;var G=u.size/4;var E=4*u.size;b&&(z=1,24<=J&&(z=2,48<=J&&(z=3)));if(J>=G&&J<=E){G=Math.log(J/G)/Math.log(E/G);G=.25>=G?4*G:.75<=G?4*(1-G):1;E=1;-1!==u.Wa&&0<u.Zb&&(q-u.Wa<u.Zb?E=(q-u.Wa+1)/u.Zb:u.te-q<u.Zb&&(E=(u.te-q+1)/u.Zb));
A=!0;var B=1;if(-1!==u.rd){var D=Math.sqrt((-(f+F)-u.ui)*(-(f+F)-u.ui)+(-g-u.vi)*(-g-u.vi));D>u.rd?A=!1:0<u.rd&&.75<D/u.rd&&(B=4*(1-D/u.rd))}A&&(e.globalAlpha=G*u.alpha*E*B,B=u.ls+g-(a.ug>>1)+.5,G=u.js+f+F-(a.ag>>1)+.5,u.ji||(G+=d.Hb,B+=d.Cb),-1!==u.Wa?(G+=u.Mh*(a.Fa-u.Wa),B+=u.Nh*(a.Fa-u.Wa)):(G+=u.Mh*a.Fa,B+=u.Nh*a.Fa),0!==d.Ja&&(E=Math.sqrt(G*G+B*B),A=180/Math.PI*Math.atan2(B,G),A+=d.Ja,G=E*Math.cos(Math.PI/180*A),B=E*Math.sin(Math.PI/180*A)),d.S&&(G-=B/2),A=B*n+l,D=G*n+m,G=(u.uv-u.js)*n,E=(u.vv-
u.ls)*n,d.S&&(G-=E/2),B=0===u.st?0:Math.sqrt(G*G+E*E)*u.st,e.save(),e.translate(D,A),A=u.angle,u.Fh||(A+=d.Ja),e.rotate(A/180*Math.PI),e.lineWidth=J,b||(e.strokeStyle=u.ce),e.lineCap="round",e.lineJoin="round",0<B&&(u=Math.atan2(E,G),C=Math.cos(.85*Math.PI+u),t=Math.sin(.85*Math.PI+u),I=Math.cos(.85*-Math.PI+u),k=Math.sin(.85*-Math.PI+u)),0<z&&e.translate(z,z),e.beginPath(),e.moveTo(0,0),e.lineTo(G,E),0<B&&(e.moveTo(G,E),e.lineTo(G+B*C,E+B*t),e.moveTo(G,E),e.lineTo(G+B*I,E+B*k)),e.stroke(),e.restore())}}}e.globalAlpha=
1};f.prototype.Na=function(a){this.X(a,!0);this.X(a,!1)};f.prototype.ea=function(a,b){var c,d=a.a,e=d.context,f=d.width/2-d.ca-d.Hb,g=d.height/2-d.$-d.Cb,n=d.zoom*d.fc,m=d.C/2,l=d.A/2,q=a.a.u,F=d.S?-(d.height>>2):0,z=0;b&&(e.strokeStyle=ViewConstants.nu,e.fillStyle=ViewConstants.nu);d.S&&(f+=g/2);for(c=0;c<this.pd.length;c+=1){var C=this.pd[c];var t=C.coords;var I=t.length;var k=!0;-1!==C.Wa&&(q<C.Wa||q>C.te)&&(k=!1);if(k){var u=C.size*n/C.zoom;var A=C.size/4;var J=4*C.size;b&&(z=1,24<=u&&(z=2,48<=
u&&(z=3)));if(u>=A&&u<=J){A=Math.log(u/A)/Math.log(J/A);A=.25>=A?4*A:.75<=A?4*(1-A):1;J=1;-1!==C.Wa&&0<C.Zb&&(q-C.Wa<C.Zb?J=(q-C.Wa+1)/C.Zb:C.te-q<C.Zb&&(J=(C.te-q+1)/C.Zb));k=!0;var G=1;if(-1!==C.rd){var E=Math.sqrt((-(f+F)-C.ui)*(-(f+F)-C.ui)+(-g-C.vi)*(-g-C.vi));E>C.rd?k=!1:0<C.rd&&.75<E/C.rd&&(G=4*(1-E/C.rd))}if(k){e.globalAlpha=A*C.alpha*J*G;A=0;G=t[A]+f+F-(a.ag>>1)+.5;J=t[A+1]+g-(a.ug>>1)+.5;A+=2;C.ji||(G+=d.Hb,J+=d.Cb);-1!==C.Wa?(G+=C.Mh*(a.Fa-C.Wa),J+=C.Nh*(a.Fa-C.Wa)):(G+=C.Mh*a.Fa,J+=C.Nh*
a.Fa);0!==d.Ja&&(k=Math.sqrt(G*G+J*J),J=180/Math.PI*Math.atan2(J,G),J+=d.Ja,G=k*Math.cos(Math.PI/180*J),J=k*Math.sin(Math.PI/180*J));d.S&&(G-=J/2);J=J*n+l;E=G*n+m;G=(t[A]-t[0])*n;k=(t[A+1]-t[1])*n;d.S&&(G-=k/2);A+=2;e.save();e.translate(E,J);J=C.angle;C.Fh||(J+=d.Ja);e.rotate(J/180*Math.PI);e.lineWidth=u;b||(C.nq?e.fillStyle=C.ce:e.strokeStyle=C.ce);e.lineCap="round";e.lineJoin="round";0<z&&e.translate(z,z);e.beginPath();e.moveTo(0,0);for(e.lineTo(G,k);A<I;)G=(t[A]-t[0])*n,k=(t[A+1]-t[1])*n,d.S&&
(G-=k/2),A+=2,e.lineTo(G,k);C.nq?e.fill():e.stroke();e.restore()}}}}e.globalAlpha=1};f.prototype.vb=function(a){this.ea(a,!0);this.ea(a,!1)};f.prototype.Ya=function(a){var b,c=a.a,d=c.context,e=c.width/2-c.ca-c.Hb,f=c.height/2-c.$-c.Cb,g=c.zoom*c.fc,y=c.C/2,m=c.A/2,l=ViewConstants.Wx,q="px "+ViewConstants.Ux,F=a.a.u,z=c.S?-(c.height>>2):0;c.S&&(e+=f/2);for(b=0;b<this.ld.length;b+=1){var C=this.ld[b];var t=!0;-1!==C.Wa&&(F<C.Wa||F>C.te)&&(t=!1);if(t){var I=C.size*g/C.zoom;var k=C.size/4;var u=4*C.size;
var A=1;24<=I&&(A=2,48<=I&&(A=3));if(I>=k&&I<=u){k=Math.log(I/k)/Math.log(u/k);d.font=I+q;k=.25>=k?4*k:.75<=k?4*(1-k):1;u=1;-1!==C.Wa&&0<C.Zb&&(F-C.Wa<C.Zb?u=(F-C.Wa+1)/C.Zb:C.te-F<C.Zb&&(u=(C.te-F+1)/C.Zb));t=!0;var J=1;if(-1!==C.rd){var G=Math.sqrt((-(e+z)-C.ui)*(-(e+z)-C.ui)+(-f-C.vi)*(-f-C.vi));G>C.rd?t=!1:0<C.rd&&.75<G/C.rd&&(J=4*(1-G/C.rd))}if(t){d.globalAlpha=k*C.alpha*u*J;t=C.x+e+z-(a.ag>>1)+.5;J=C.y+f-(a.ug>>1)+.5;C.ji||(t+=c.Hb,J+=c.Cb);-1!==C.Wa?(t+=C.Mh*(a.Fa-C.Wa),J+=C.Nh*(a.Fa-C.Wa)):
(t+=C.Mh*a.Fa,J+=C.Nh*a.Fa);0!==c.Ja&&(k=Math.sqrt(t*t+J*J),J=180/Math.PI*Math.atan2(J,t),J+=c.Ja,t=k*Math.cos(Math.PI/180*J),J=k*Math.sin(Math.PI/180*J));c.S&&(t-=J/2);k=C.message;u=k.indexOf("\\n");J=J*g+m;t=t*g+y;d.save();d.translate(t,J);J=C.angle;C.Fh||(J+=c.Ja);d.rotate(J/180*Math.PI);for(J=0;-1!==u;)t=k.substr(0,u),k=k.substr(u+2),u=d.measureText(t).width>>1,d.fillStyle=l,d.fillText(t,-u+A,J+A),d.fillStyle=C.ce,d.fillText(t,-u,J),J+=I,u=k.indexOf("\\n");u=d.measureText(k).width>>1;d.fillStyle=
l;d.fillText(k,-u+A,J+A);d.fillStyle=C.ce;d.fillText(k,-u,J);d.restore()}}}}d.globalAlpha=1};f.prototype.Lp=function(a){this.vb(a);this.Na(a);this.Ya(a)};f.prototype.Nz=function(a){var b;for(b=this.ha.length-1;0<=b;--b){var c=this.ha[b];c.$b>a&&c.Yl&&(this.rh=b,c.Yl=!1)}};f.prototype.cz=function(){var a;for(a=0;a<this.ha.length;a+=1)this.ha[a].Yl=!1;this.rh=0;this.G=!1};f.prototype.Rm=function(){return new c(this)};f.prototype.As=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};f.prototype.reset=
function(){this.ha=[];this.nb=[];this.m=!1;this.rh=0};f.prototype.Xx=function(){return this.ha[this.ha.length-1]};f.prototype.et=function(a){var b=this.ga(a),c=this.ha[b];a>c.Xa?a=c.$b+1E3*(a-c.Xa)/(c.sb*c.step):0<b?(b=this.ha[b-1],a=b.$b+1E3*(a-b.Xa)/(c.sb*c.step)):a=1E3*a/(c.sb*c.step);return a};f.prototype.Ts=function(a,b,c,d,e,f,h,y,m,l,q){var g=this.wa;g.x=a;g.y=b;g.zoom=c;g.angle=d;g.sb=y;g.step=m;g.J=e;g.depth=f;g.ub=h;g.Xa=l;this.m&&(q=this.i.$b);g.$b=q-1E3;this.update(q,l);this.i.set(this.current);
this.i.jd=!1;this.i.$b=q;this.m=!0;return g.$b};f.prototype.ol=function(){return this.ha[0]};f.prototype.oy=function(){return this.ha.length};f.prototype.add=function(a){a.hf?this.nb[this.nb.length]=a:this.ha[this.ha.length]=a};f.prototype.rp=function(a){var b=!1;this.rh>=this.ha.length-1&&a>=this.ha[this.rh].$b&&(b=!0);return b};f.prototype.f=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};f.prototype.ty=function(a){var b="";0<=a&&a<this.nb.length&&(a=this.nb[a],a.wf&&(b+=" X "+a.x),
a.Ve&&(b+=" Y "+a.y),a.vd&&(b+=" ZOOM "+this.f(a.zoom)),a.Xg&&(b+=" ANGLE "+a.angle));return b.substr(1)};f.prototype.ju=function(a){var b="";0<=a&&a<this.nb.length&&(a=this.nb[a],a.nj&&(b+=" POIRESET"),a.ke===e.play?b+=" POIPLAY":a.ke===e.stop&&(b+=" POISTOP"),a.wg!==e.hk&&(b+=" POITRANS "+a.wg));return b.substr(1)};f.prototype.uy=function(a){var b="";0<=a&&a<this.nb.length&&(a=this.nb[a],a.Yh&&(b+=" LOOP "+(-1===a.la?"OFF":a.la)),a.si&&(b+=" STOP "+(-1===a.pb?"OFF":a.pb)),a.eh&&(b+=" GPS "+a.sb),
a.qh&&(b+=" STEP "+a.step));return b.substr(1)};f.prototype.ju=function(a){var b="";0<=a&&a<this.nb.length&&(a=this.nb[a],a.nj&&(b+=" POIRESET"),a.ke===e.play?b+=" POIPLAY":a.ke===e.stop&&(b+=" POISTOP"),a.wg!==e.hk&&(b+=" POITRANS "+a.wg));return b.substr(1)};f.prototype.xy=function(a){var b="";0<=a&&a<this.nb.length&&(a=this.nb[a],a.Se&&(b+=" THEME "+a.ub),a.$g&&(b+=" DEPTH "+this.f(a.depth)),a.gh&&(b+=" LAYERS "+a.J));return b.substr(1)};f.prototype.wy=function(a){var b="";0<=a&&a<this.nb.length&&
(a=this.nb[a],a.mm&&(b+=" POIT "+a.Xa));return b.substr(1)};f.prototype.vy=function(a){var b=Keywords.Sb,c="";0<=a&&a<this.nb.length&&(a=this.nb[a],""!==a.sd&&(c+=" "+b+a.sd+b));return c.substr(1)};f.prototype.jA=function(a){var b=Keywords.Sb,c="";if(0<=a&&a<this.ha.length){var d=this.ha[a];0<a?(a=this.ha[a-1],c=d.Xa===a.Xa?"P "+this.f((d.$b-a.$b|0)/1E3):"T "+d.Xa,d.jd?c+=" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.f(d.zoom))),d.angle!==a.angle&&(c+=
" A "+d.angle),d.J!==a.J&&(c+=" L "+d.J),d.depth!==a.depth&&(c+=" D "+this.f(d.depth)),d.ub!==a.ub&&(c+=" C "+d.ub),d.sb!==a.sb&&(c+=" G "+d.sb),d.step!==a.step&&(c+=" S "+d.step),""!==d.sd&&(c+=" "+b+d.sd+b)):c="T "+d.Xa+" X "+-d.x+" Y "+-d.y+" Z "+this.f(d.zoom)+" A "+d.angle+" L "+d.J+" D "+this.f(d.depth)+" C "+d.ub+" G "+d.sb+" S "+d.step}return c};f.prototype.update=function(a,b){var c=this.ha.length,d=!1,e=this.rh,f=!1;if(this.m)this.current.i(this.wa,this.i,a),a>=this.i.$b&&(this.m=!1);else{for(;e<
c&&!d;){var g=this.ha[e];g.$b>=a||!g.Yl?d=!0:e+=1}d?(this.ha[e].Yl=!0,0<e?(this.ha[e].jd&&(this.ha[e].x=this.current.x,this.ha[e].y=this.current.y,this.ha[e].zoom=this.current.zoom),this.current.i(this.ha[e-1],this.ha[e],a)):(e=0,this.current.set(this.ha[e]))):(e=c-1,this.current.set(this.ha[e]),b>=this.current.Xa&&this.G&&(f=!0),this.G=!0);this.rh=e}return f};f.prototype.ga=function(a){for(var b=0,c=!1,d=this.ha,e=this.ha.length;b<e&&!c;)d[b].Xa>=a?c=!0:b+=1;c||(b=e-1);return b};f.prototype.xx=function(a){this.rh=
this.ga(a)};f.prototype.ec=function(a,b,c,d){if(0===this.ha.length)c[c.length]=[a+" "+Keywords.Qa,"no initial waypoint defined"];else switch(a){case Keywords.Wc:b.wf&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+-b.x]);b.x=this.ha[0].x;b.wf=!0;break;case Keywords.Xc:b.Ve&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+-b.y]);b.y=this.ha[0].y;b.Ve=!0;break;case Keywords.kc:b.vd&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+this.f(1>b.zoom?
-(1/b.zoom):b.zoom)]);b.zoom=this.ha[0].zoom;b.vd=!0;break;case Keywords.Gh:b.Xg&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.angle]);b.angle=this.ha[0].angle;b.Xg=!0;break;case Keywords.Si:b.$g&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+this.f(b.depth)]);b.depth=this.ha[0].depth;b.$g=!0;break;case Keywords.ej:b.gh&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.J]);b.J=this.ha[0].J;b.gh=!0;break;case Keywords.sh:b.Se&&(c[c.length]=
[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.ub]);b.ub=this.ha[0].ub;b.Se=!0;break;case Keywords.Yi:b.eh&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.sb]);b.sb=this.ha[0].sb;b.eh=!0;break;case Keywords.tj:b.qh&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.step]);b.step=this.ha[0].step;b.qh=!0;break;case Keywords.gg:b.si&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+(-1===b.pb?"OFF":b.pb)]);b.pb=this.ha[0].pb;b.si=!0;break;
case Keywords.Vf:b.Yh&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+(-1===b.la?"OFF":b.la)]);b.la=this.ha[0].la;b.Yh=!0;break;default:c[c.length]=[a+" "+Keywords.Qa,"illegal command before "+Keywords.Qa]}};f.prototype.Cw=function(a,b){this.ec(Keywords.Wc,a,b,!1);this.ec(Keywords.Xc,a,b,!1);this.ec(Keywords.kc,a,b,!1);this.ec(Keywords.Gh,a,b,!1);this.ec(Keywords.ej,a,b,!1);this.ec(Keywords.Si,a,b,!1);this.ec(Keywords.sh,a,b,!1);this.ec(Keywords.Yi,a,b,!1);this.ec(Keywords.tj,a,
b,!1);this.ec(Keywords.Vf,a,b,!1);this.ec(Keywords.gg,a,b,!1)};f.prototype.Ey=function(a){var b,c=this.ha,d=this.ha.length;for(b=1;b<d;b+=1){var e=c[b-1];var f=c[b];f.wf||(f.x=e.x);f.Ve||(f.y=e.y);f.zh||(f.Ue=e.Ue);f.Ah||(f.We=e.We);f.Cm||(f.Xe=e.Xe);f.Xg||(f.angle=e.angle);f.vd||(f.zoom=e.zoom);f.gh||(f.J=e.J);f.$g||(f.depth=e.depth);f.Se||(f.ub=e.ub);f.eh||(f.sb=e.sb);f.qh||(f.step=e.step);f.mm?f.Xa<=e.Xa&&(a[a.length]=[Keywords.lm+" "+f.Xa,"target generation must be later than previous ("+e.Xa+
")"]):f.Xa=e.Xa;f.$b=f.Tu?1E3*f.$b+e.$b:e.$b+1E3*(f.Xa-e.Xa)/(f.sb*f.step);f.Fo||(f.ni=e.ni);f.Zi||(f.oc=e.oc)}};window.Waypoint=c;window.WaypointManager=f;window.WaypointConstants=e})();(function(){function c(c,b){var a=this;this.hs=c;this.h=b;this.top=this.left=0;""!==c.style.left&&(this.left=parseInt(c.style.left,10));""!==c.style.top&&(this.top=parseInt(c.style.top,10));this.Vb=this.Ti=!1;this.Al=this.zl=this.Cl=this.Bl=this.mh=this.lh=-1;this.cr=this.offsetTop=this.offsetLeft=0;registerEvent(c,"mousedown",function(b){a.i(a,b)},!1);registerEvent(document,"mousemove",function(b){a.m(a,b)},!1);registerEvent(document,"mouseup",function(b){a.G(a,b)},!1);registerEvent(c,"touchstart",
function(b){a.f(a,b)},!1);registerEvent(c,"touchmove",function(b){a.f(a,b)},!1);registerEvent(c,"touchend",function(b){a.f(a,b)},!1);registerEvent(window,"resize",function(){a.Cu(a)},!1)}c.prototype.Cu=function(c){c.Nu(c.left+c.cr,c.top,c.hs);c.cr=0};c.prototype.Yz=function(c,b){this.Nu(this.left+c,this.top+b,this.hs)};c.prototype.Nu=function(c,b,a){var d=window.innerWidth-a.clientWidth,e=window.innerHeight-a.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(d-=
21);0>c&&(c=0);0>b&&(b=0);c>d&&(c=d);b>e&&(b=e);a.style.left=c+"px";a.style.top=b+"px";a.style.position="fixed";this.left=c;this.top=b};c.prototype.Bw=function(){var c=this.hs,b=c.offsetParent;this.offsetLeft=c.offsetLeft;for(this.offsetTop=c.offsetTop;b;)this.offsetLeft+=b.offsetLeft,this.offsetTop+=b.offsetTop,b=b.offsetParent;b=c.parentNode;if("fixed"===b.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;
else for(;"body"!==b.tagName.toLowerCase();)this.offsetLeft-=b.scrollLeft,this.offsetTop-=b.scrollTop,b=b.parentNode};c.prototype.f=function(c,b){var a="";if("touchend"===b.type){a="mouseup";var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,c.Bl,c.Cl,c.zl,c.Al,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d);b.preventDefault()}else{if(1===b.touches.length)switch(b.type){case "touchstart":a="mousedown";break;case "touchmove":a="mousemove"}if(""!==a){var e=b.changedTouches[0];
d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);e.target.dispatchEvent(d);b.preventDefault();c.Bl=e.screenX;c.Cl=e.screenY;c.zl=e.clientX;c.Al=e.clientY}}};c.prototype.i=function(c,b){c.Cj(c,b);c.Vb=!0;c.h.lj=!0;b.stopPropagation&&b.stopPropagation();b.preventDefault()};c.prototype.G=function(c,b){c.Ti&&c.Vb&&(c.Cj(c,b),c.Vb=!1,c.h.lj=!1,b.stopPropagation&&b.stopPropagation(),b.preventDefault())};c.prototype.m=function(c,
b){if(c.Ti&&c.Vb){var a=c.lh,d=c.mh;c.Cj(c,b);c.Vb&&c.Yz(c.lh-a,c.mh-d);c.lh=a;c.mh=d;b.stopPropagation&&b.stopPropagation();b.preventDefault()}};c.prototype.Cj=function(c,b){if(b.pageX||b.pageY){var a=b.pageX;b=b.pageY}else a=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.Bw();a-=c.offsetLeft;b-=c.offsetTop;c.lh=a-1|0;c.mh=b-1|0};window.PopupWindow=c})();(function(){function c(){this.key=new Uint8Array(256);this.i=this.f=0}c.prototype.Dd=function(c){var b,a,d=this.key;for(b=0;256>b;b+=1)d[b]=b;for(b=a=0;256>b;b+=1){a=a+d[b]+c.charCodeAt(b%c.length)&255;var e=d[b];d[b]=d[a];d[a]=e}this.i=this.f=0};c.prototype.random=function(){var c,b=0,a=1,f=this.key,e=this.f,g=this.i;for(c=0;8>c;c+=1){e=e+1&255;g=g+f[e]&255;var n=f[e];f[e]=f[g];f[g]=n;b+=f[f[e]+f[g]&255]*a;a*=256}this.f=e;this.i=g;return b/1.8446744073709552E19};window.Random=c;window.myRand=new c})();(function(){function c(c,b){this.ho=c;this.x=b.V(Float32,0,"Stars.x");this.y=b.V(Float32,0,"Stars.y");this.f=b.V(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.i=new Random;this.i.Dd(Date.now().toString());this.sin=b.V(Float32,0,"Stars.sin");this.cos=b.V(Float32,0,"Stars.cos");this.m=Math.PI/180;this.X=180/Math.PI;this.j=b;this.G=!1}c.prototype.Dd=function(c,b,a){var d,e=this.ho,g=c*c+b*b;this.x=this.j.V(Float32,e,"Stars.x");this.y=this.j.V(Float32,e,"Stars.y");this.f=this.j.V(Float32,
e,"Stars.z");for(d=0;d<e;d+=1){var n=d/e*(d/e)*(d/e)*(d/e)*a+1;do{var p=3*(this.i.random()*c-c/2);var H=3*(this.i.random()*b-b/2)}while(p*p+H*H>g);this.x[d]=p;this.y[d]=H;this.f[d]=n}this.sin=this.j.V(Float32,2880,"Stars.sin");this.cos=this.j.V(Float32,2880,"Stars.cos");for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.m),this.cos[d]=Math.cos(d/8*this.m),d+=1};c.prototype.Iw=function(c,b,a,f,e,g,n,p){var d;this.G||(this.Dd(8192,8192,1024),this.G=!0);if(littleEndian){var x=p>>16&255;var r=p>>8&255;var h=
p&255}else h=p>>24&255,r=p>>16&255,x=p>>8&255;for(d=0;d<this.ho;d+=1){var y=this.x[d]+c;var m=this.y[d]+b;if(0!==f){var l=Math.sqrt(y*y+m*m);m=Math.atan2(m,y)*this.X;m+=f;0>m?m+=360:360<=m&&(m-=360);m*=8;m|=0;y=l*this.cos[m];m=l*this.sin[m]}l=this.f[d]/a*2;y=e/2+y/l|0;m=g/2+m/l|0;if(0<y&&y<e-1&&0<m&&m<g-1){y+=m*e;l=1536/l|0;255<l&&(l=255);l/=255;if(n[y]===p){m=h+(this.red-h)*l;var q=r+(this.green-r)*l;var F=x+(this.blue-x)*l;m=littleEndian?-16777216|F<<16|q<<8|m:m<<24|F<<16|q<<8|255;n[y]=m}l/=2;m=
h+(this.red-h)*l;q=r+(this.green-r)*l;F=x+(this.blue-x)*l;m=littleEndian?-16777216|F<<16|q<<8|m:m<<24|F<<16|q<<8|255;--y;n[y]===p&&(n[y]=m);y+=2;n[y]===p&&(n[y]=m);--y;y-=e;n[y]===p&&(n[y]=m);y+=e+e;n[y]===p&&(n[y]=m)}}};window.Stars=c})();(function(){function c(a,b,c,d,e){this.name=a;this.pattern=b;this.iz=c;this.width=d;this.height=e}function d(a){this.Eb=0;this.Hn=!1;this.ia=null;this.Bj=0;this.Tk=!0;this.uf=0;this.He=1;this.pk=this.fk=!1;this.ih=7;this.Eo=!0;this.Fj=this.Ej=0;this.Rj=!1;this.da=this.Sn=63;this.wd=this.Dc=this.Tf=this.Xf=this.cc=this.Wf=this.Sf=this.Rf=this.xd=this.tg=this.Zf=this.Ik=!1;this.sg=this.Fa=0;this.Yc=null;this.Me=this.Le=0;this.fs=!1;this.Qi=this.Dg=this.Eg=-1;this.sn=Date.now().toString();this.Th=h.yh;
this.tf=!0;this.ab=!1;this.oe=!0;this.Qb=h.$s;this.Ic=!1;this.element=a;this.Ca=!1;this.vh=this.Og=this.Pg=this.uh=this.Vm=this.Sm=this.Um=this.Tm=0;this.bc=this.Ld=this.ac=this.zj=!1;this.ql=!0;this.vn=!1;this.un=0;this.Ph=!1;this.ii=this.hi=0;this.eg=!1;this.o="";this.ud=this.td=0;this.Qp=this.Pp=this.Sj=this.Oh=this.Wi=this.dh=this.wr=this.vr=this.oi=this.rj=this.ri=this.pi=this.ee=-1;this.Nn=this.ln=!1;this.Ho=this.se=-1;this.Yk=this.Oi=!1;this.Pm=-1;this.uj=this.ti=null;this.nm="";this.vj=this.Ig=
0;this.Rz=32768;this.zp=this.Ap=0;this.yp=!0;this.Im=this.kb=!1;this.Ii=0;this.rw=.01;this.Fg=this.ff=!1;this.Zg=this.Fe=null;this.Ff=h.Ff;this.Ih=[96,96,96];this.Mo=null;this.Na="";this.fg=this.Ba=this.qf=this.Hq=!1;this.oh=null;this.ge=!1;this.K=1;this.bg=this.cg=0;this.dc=this.pq=!1;this.v=new WaypointManager;this.Mn="";this.yq=-1;this.Ud=this.Kb=!1;this.fa=1;this.Up=this.Mq=this.Nl=0;this.qg=h.dy;this.ya=this.ga=this.ea=this.X=this.ah=-1;this.Rl=this.dk="";this.Tl=this.nh=this.ug=this.ag=0;this.Sl=
null;this.Nq=this.rf=this.vg=this.$f="";this.Bf=!1;this.f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.Wm=!1;this.Hj=h.Dt;this.Gj=h.Hm;this.Ij=h.mu;this.Zk="";this.hd=[];this.Em=!1;this.Ub=[];this.Pi=[];this.Ib=[];this.Ua=1;this.W=0;this.im=!1;this.ck=100;this.Wb=10;this.P=[64,200,290,530,700];this.$d=!1;this.R=[];this.cq=[];this.eq=[];this.la=this.pb=-1;this.Dn=this.Cn=this.Hh=this.be=this.Pb=this.ei=this.eo=this.Ab=this.vl=this.Tb=this.jc=this.Va=!1;this.zk=
this.Dk=this.Jk=-1;this.a=null;this.elapsedTime=0;this.C=640;this.A=512;this.Kk=!1;this.Hk=640;this.Re=this.pr=this.Yf=this.yc=!1;this.i=this.Xb=this.Hg=this.gk=this.gj=this.ma=this.pe=this.Kh=this.ze=this.jg=this.vb=this.gi=this.Be=this.uc=this.Vi=this.xe=this.Sg=this.Uj=this.yg=this.zg=this.sk=this.Yj=this.hh=this.Zj=this.Ek=this.Qh=this.bj=this.$i=this.Vh=this.Jb=this.Ag=this.Xi=this.Rh=this.ig=this.Ya=this.Ae=this.Ye=this.Ze=this.Gf=this.bf=this.Ef=this.Df=this.Dh=this.Di=this.Gi=this.Sh=this.Kd=
this.Zh=this.Ga=this.ye=this.ad=this.cd=this.bd=this.$c=this.Bi=this.Ch=this.Bh=this.Ai=this.Fk=this.Zc=this.If=this.ed=this.Qf=this.dd=this.Pf=this.$j=this.Lb=this.tc=this.Qd=this.rc=this.Fb=this.qb=this.xb=this.Jc=this.nf=this.Yb=this.Ka=null;this.Wh=this.dj=-1;this.wheelDelta=0;this.od=this.kj=this.lf=this.G=this.Ec=null;this.Bd=60;this.s=this.h=null;this.Ri=this.Od=this.Nj=0;this.kn=this.bt=1;this.Ip=60;this.Pj=this.jn=1;this.Hp=.1;this.Ei=-1;this.oj=this.Xd=this.er=0;this.lk=1;this.th=this.ta=
this.Bk=this.Ak=this.Ck=!1;this.Ac=h.at;this.Gn=this.Jn=this.Jr=this.In=0;this.Fi=this.Jg=!1;this.dm=this.Mk=0;this.fe=!1;this.ek=-1}function b(a,b,c,e,f){var m,l=b.parentNode,q=null;for(m=0;m<y.ic.length&&!q;)y.ic[m][0].tabIndex===b.tabIndex?q=y.ic[m][1]:m+=1;q||(q=new d(f),q.ge=e,r.Dl&&!e&&(q.qg=c&-8,q.qg<h.nd&&(q.qg=h.nd)),b.tabIndex=y.ic.length+1,q.Dr(b),"none"===l.style.display&&(y.Wq=new PopupWindow(l,q.h)),y.ic[y.ic.length]=[b,q,y.Wq]);e||q.ph(a,!1)}function a(a){a=a.parentNode;for(var b=!1;!b;)"div"!==
a.localName||a.className!==r.nn&&a.className!==r.on||(b=!0),b||(a=a.parentNode);return a}function f(){var a=y.ur(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.Ti=!1;b.yc&&(b.ma.current=b.Id(h.hb,!0,b))}function e(a){f();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function g(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,
"").trim();a=a.replace(/\n[ ]+/g,"\n");return a=a.replace(/\n\t+/g,"\n")}function n(c){c=a(c);var d=c.getElementsByTagName(r.mj)[0],m=g(d),f=y.ur();if(f)f[1].element=d,f[1].$r(f[1]);else{f=document.createElement("canvas");f.width=h.nd;f.height=h.kh+80;f.style.display="block";var z=document.createElement("a");z.setAttribute("href","#");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";z.style.color="#FFFFFF";z.style.backgroundColor=
"#C75050";z.style.cssFloat="right";z.style.height="28px";z.style.fontSize="18px";var C=document.createElement("a");C.innerHTML="&nbsp;X&nbsp;";C.style.textDecoration="none";C.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";C.style.visibility="hidden";C.style.cssFloat="left";C.style.height="28px";C.style.fontSize="18px";var t=document.createElement("div");t.style.textAlign="center";t.style.color="rgb(83,100,130)";t.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";t.style.fontSize=
"18px";t.style.height="28px";var n=document.createTextNode("LifeViewer");t.style.cursor="default";t.appendChild(n);registerEvent(z,"click",e,!1);var k=document.createElement("div");k.style.display="none";k.style.position="fixed";k.style.border="1px solid rgb(128,128,128)";k.style.left="2048px";k.style.top="0px";k.style.textAlign="right";k.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";k.style.margin="1px";var u=document.createElement("div");u.className=r.on;u.style.backgroundColor=
"#FFFFFF";u.style.height="28px";u.style.lineHeight="28px";u.appendChild(C);u.appendChild(z);u.appendChild(t);k.appendChild(u);k.appendChild(f);c.appendChild(k);b(m,f,h.nd,!0,d);y.tr=y.ic.length-1;f=y.ur();f[1].Mo=n}c=f[0].parentNode;""!==c.style.display&&(c.style.display="");f[1].C=h.nd;f[1].A=h.kh+80;f[1].resize();f[1].h.notification.clear(!0,!0);f[1].h.notification.clear(!1,!0);f[1].ph(m,!0);f[1].resize();c=f[2];c.Ti=!0;c.Cu(c);f[1].lf.canvas.focus();f[1].h.hasFocus=!0;return!1}function p(a,b){var d=
!1,m=null;try{m=PatternManager.create("",a,b),m.Sc&&(d=!0,r.La&&(y.zc[y.zc.length]=new c(m.name,a,m.ba+m.Mm,m.width,m.height)))}catch(z){}return d}function H(a){n(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function x(){var a=document.getElementsByTagName("div"),c,d,e=new Allocator;var f=document.getElementsByTagName("meta");for(c=0;c<f.length;c+=1){var h=f[c];if(h.name===r.tagName&&(r.iq=!1,r.Dl=!1,h=h.content,(d=h.match(/\S+/g))&&2<=d.length&&5>=d.length))for(r.nn=d[0],
r.mj=d[1],h=2;h<d.length;h+=1)switch(d[h]){case "hide":r.iq=!0;break;case "limit":r.Dl=!0;break;case "multi":r.La=!0;break;default:var t=d[h];!isNaN(parseFloat(t))&&isFinite(Number(t))&&(r.ko=parseFloat(t)|0)}}for(f=0;f<a.length;f+=1)(h=a[f],h.className===r.nn)?(c=h.getElementsByTagName(r.mj)[0],h=h.getElementsByTagName("canvas")[0],(d=c.getElementsByTagName(r.mj)[0])&&(c=d),typedArrays&&c&&(d=g(c),r.La&&p(d,e),h&&h.getContext?(-1<r.ko&&c.clientHeight>r.ko&&(c.style.height=r.ko+"px"),b(d,h,c.offsetWidth,
!1,c)):r.iq&&h&&(h.style.display="none"))):typedArrays&&h.className===r.on&&h.parentNode.className!==r.nn&&(c=h.getElementsByTagName(r.mj)[0])&&(d=g(c),p(d,e)&&(h=h.getElementsByTagName("a")[0],d=document.createElement("a"),d.setAttribute("href","#"),d.innerHTML="Show in Viewer",registerEvent(d,"click",H,!1),h?(c=document.createTextNode(" / "),h.parentNode.appendChild(c),h.parentNode.appendChild(d)):c.parentNode.appendChild(d)))}var r={tagName:"LifeViewer",nn:"rle",mj:"code",ko:37,iq:!0,Dl:!1,La:!1,
on:"codebox",zc:[]},h={Ew:65536,Gw:500,Hw:17,pt:13750737,qt:15066597,zn:7368816,An:5263440,Ou:.016,Iz:16,au:16384,$s:.7,ho:1E4,sz:"Script errors",je:-2,he:2,Zt:2,Tt:4,at:4,hv:16.7,Wt:9,Pt:14,mx:13,xt:null,Vt:1,Nt:16,Zs:3,Ge:0,og:1,Xm:2,Cf:3,al:4,bl:5,cl:6,fn:7,gn:8,Ym:9,cn:10,bn:11,an:12,dn:13,en:14,$m:15,dl:16,Zm:17,Dp:18,hl:19,fl:20,il:21,kl:22,jl:23,gl:24,$k:25,el:26,cu:0,eu:1,wt:2,It:3,Mt:4,Kt:5,Ct:6,bb:[0,6,2,5,3,4,1],Qu:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),Mz:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),
sy:0,ry:160,iu:10,Pq:100,hu:20,zx:18.5,Pu:1E3/60,lA:!1,Sp:1800,vx:"LifeViewer",gr:"LifeViewer Image",kv:"LifeViewer",Wr:316,jv:"Chris Rowett",$n:1,Tn:10,Dq:0,ky:1,hb:2,ai:3,$t:0,Il:1,To:1.25,Nx:.99,Zn:0,Ot:10,Lh:10,Ra:.0625,tb:32,Hl:-16,Gl:-1,ie:1,$h:60,fj:1,Vd:50,fontSize:18,pl:"18px Courier",xi:"18px Arial",Gg:"18px Arial",re:"14px Arial",Do:"9px Arial",Hm:"rgb(240,255,255)",nw:"rgb(0,0,0)",mu:"rgb(240,255,255)",nu:"rgb(0,0,0)",ws:2,ao:1,Un:64,mw:.2,Dt:"rgb(240,255,255)",Wx:"rgb(0,0,0)",Vx:18,Xt:4,
Qt:128,Ux:"Arial",Xj:"rgb(32,255,255)",ul:"#000000",Ff:"rgb(255,96,96)",xn:"rgb(128,128,128)",iy:64,hy:64,nd:480,dy:2048,Kx:80,bk:240,Xn:2048,kh:480,Uo:132,xv:292,py:154,yr:0,Ru:1,Su:2,fy:0,Yx:16,yh:0,At:1,hr:2,wl:3,Xu:4,Os:5,rs:6,Ut:7,xs:8},y={j:new Allocator,ic:[],tr:-1,Wq:null,zc:[],ur:function(){var a=null;-1!==this.tr&&(a=this.ic[this.tr]);return a},Dx:function(a){var b=null;0<=a&&a<this.ic.length&&(b=this.ic[a][1]);return b},zA:function(){return this.ic.length},iA:function(){var a=0,b;for(b=
0;b<this.ic.length;b+=1){var c=this.ic[b][1];c.yc&&(a+=1)}return a},Yy:function(){var a,b=0;for(a=0;a<this.ic.length;a+=1){var c=this.ic[a][1];c.ma.current=c.Id(h.Dq,!0,c);c.h.Bg(!0);b+=1}return b},Oz:function(){var a,b=0;for(a=0;a<this.ic.length;a+=1){var c=this.ic[a][1];c.yc&&(c.ma.current=c.Id(h.hb,!0,c),b+=1)}return b},Pz:function(a){var b,c=0;for(b=0;b<this.ic.length;b+=1){var d=this.ic[b][1];d!==a&&d.yc&&(d.ma.current=d.Id(h.hb,!0,d),c+=1)}return c}};d.prototype.tn=function(a){this.wd=this.Dc=
this.Tf=this.Xf=this.cc=this.Wf=this.Sf=this.Rf=this.xd=this.tg=this.Zf=a};d.prototype.Pr=function(){this.tn(!1)};d.prototype.Ov=function(){this.tn(!0)};d.prototype.Ms=function(){this.cq=[];this.eq=[]};d.prototype.vw=function(a){var b=a.kj.toDataURL("image/png"),c;(c=document.getElementById("screenshot"))?c.src=b:(c=window.open("",h.gr))?(c.width=a.C+20,c.height=a.A+20,c.document.open(),c.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+h.gr+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+
a.C+'" height="'+a.A+'" src="'+b+'" alt="'+h.gr+'"/>\n\t</body>\n</html>\n'),c.document.close(),a.h.notification.T("Image Captured",300,!0)):a.h.notification.T("Could not open Image window!",h.Sp,!0)};d.prototype.ms=function(a){var b=this.a.Nb,c=this.a.pa,d=this.a.gc;var m=a.width;var e=a.height;var f=this.Le,g=this.Me,k=this.a.cb,u=this.a.cb>>4,n=this.a.gb,r=null,p=m,x=e;var B=Math.round(-this.a.oa/2);var y=Math.floor((this.a.oa-1)/2);var v=Math.round(-this.a.qa/2);var w=Math.floor((this.a.qa-1)/
2);var H=f-(this.a.width>>1),K=g-(this.a.height>>1),P=this.a.g,Z=!0,Y=2===P&&this.a.ra;-1!==this.a.ja&&(0!==this.a.oa&&(H<B||H+m-1>y)&&(Z=!1),0!==this.a.qa&&(K<v||K+e-1>w)&&(Z=!1),Z||(this.fs=!0,0!==this.a.oa?(f=Math.round(this.a.width/2)+B,p>y-B+1&&(p=y-B+1)):f=Math.round(this.a.width/2),0!==this.a.qa?(g=Math.round(this.a.height/2)+v,x>w-v+1&&(x=w-v+1)):g=Math.round(this.a.height/2)));for(e=0;e<x;e+=1){v=a.Sc[e];w=b[e+g&n];if(this.Pb)for(B=a.le[e],r=c[e+g&n],m=0;m<p;m+=1)r[m+f&k]=B[m];else if(2<
P)for(B=a.le[e],r=c[e+g&n],m=0;m<p;m+=1)y=B[m],0<y&&(y=P+this.da-y),r[m+f&k]=y;Y&&(r=c[e+g&n]);for(m=0;m<p;m+=1)0!==(v[m>>4]&1<<(~m&15))&&(w[m+f>>4&u]|=1<<(~(m+f)&15),Y&&(r[m+f&k]=LifeConstants.Za))}if(d)for(e=0;e<x;e+=1)for(B=a.le[e],b=d[e+g&n],m=0;m<p;m+=1)(y=B[m])&&(b[m+f&k]=h.bb[y]+128)};d.prototype.nl=function(){var a=!1;-1!==this.a.ja&&0!==this.a.oa&&0!==this.a.qa&&(a=!0);return a};d.prototype.zi=function(){var a=!1;-1===this.a.ja||0!==this.a.oa&&0!==this.a.qa||(a=!0);return a};d.prototype.Hi=
function(a,b,c){a=a[0];b&&(c.Qb=a);return[a,100*a]};d.prototype.lo=function(a,b,c){b&&(c.uf=(c.a.g-c.ih)*a[0]|0);a[1]=c.uf+"-"+(c.uf+c.ih-1);return a};d.prototype.Ug=function(a,b,c){var d=a[0],m=0;b?(c.Ud=!0,c.a.zoom=h.Ra*Math.pow(h.tb/h.Ra,a[0])/c.a.fc):(d=Math.log(c.a.zoom*c.a.fc/h.Ra)/Math.log(h.tb/h.Ra),0>d?d=0:1<d&&(d=1));this.ac&&!this.bc?m=c.a.zoom*c.a.fc:m=c.a.zoom;m<h.Ra?m=h.Ra:m>h.tb&&(m=h.tb);1>m&&(m=-1/m);return[d,m]};d.prototype.pw=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&
(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};d.prototype.Hf=function(a,b){var c=this.a.zoom,d=this.a.ca,m=this.a.$,e=6;if(this.ta){var f=this.a.Hf(this.Fa,this.C*this.Ac,this.A*this.Ac,h.Ra,h.tb,h.To,this.ag,this.ug,this.Tb&&this.Pb,this.ff,this.ac,this.uh,this.Og,this.Pg,this.vh,this.Fg,this.kb);f[0]/=this.Ac}else f=h.Kx,this.Ab&&(f=0),f=this.a.Hf(this.Fa,this.C,this.A-f,h.Ra,h.tb,h.To,this.ag,this.ug,this.Tb&&this.Pb,this.ff,this.ac,this.uh,this.Og,this.Pg,this.vh,this.Fg,this.kb);this.kb&&
!a?(24<this.a.zoom&&(e=3),1<this.fa&&(e=1),this.a.zoom=(this.a.zoom*(e-1)+f[0])/e,this.a.ca=(this.a.ca*(e-1)+f[1])/e,this.a.$=(this.a.$*(e-1)+f[2])/e,a=this.a.zoom>c?this.a.zoom/c-1:c/this.a.zoom-1,d=this.a.ca>d?this.a.ca-d:d-this.a.ca,m=this.a.$>m?this.a.$-m:m-this.a.$,this.Ii=a,d>this.Ii&&(this.Ii=d),m>this.Ii&&(this.Ii=m),.01>=this.Ii&&(this.a.zoom=f[0],this.a.ca=f[1],this.a.$=f[2])):(this.pi=this.a.width/2-this.a.ca,this.ri=this.a.height/2-this.a.$,this.rj=this.a.zoom,this.oi=this.a.angle,this.dh=
this.a.width/2-f[1],this.Wi=this.a.height/2-f[2],this.Oh=f[0],this.Sj=this.oi,this.Ho=WaypointConstants.hk,b?this.se=0:(this.se=WaypointConstants.hk,this.Qr()));this.qb&&(this.qb.current=this.Ug([this.a.zoom,this.a.zoom],!1,this));this.xb&&(this.xb.current=this.ym([this.a.angle,this.a.angle],!1,this))};d.prototype.ks=function(a,b){-1!==this.a.ja&&this.eg?(this.Le=(this.a.width>>1)+this.td,this.Me=(this.a.height>>1)+this.ud):(this.Le=Math.round((this.a.width-a)/2)+this.td,this.Me=Math.round((this.a.height-
b)/2)+this.ud);!this.Tb&&this.a.pc||!PatternManager.Tj||(this.Tb=this.Pb=!0)};d.prototype.hm=function(a){var b=a+String();1E9<=a?b="1B+":1E8<=a?b=(a/1E6|0)+"M":1E7<=a?b=Number(a/1E6).toFixed(1)+"M":1E6<=a?b=Number(a/1E6).toFixed(2)+"M":1E5<=a&&(b=(a/1E3|0)+"K");return b};d.prototype.Jj=function(a,b){var c=this.h.lh,d=this.h.mh;b=a+b;var m=-this.a.angle,e=Math.sin(m/180*Math.PI);m=Math.cos(m/180*Math.PI);0>b?b=0:1<b&&(b=1);a=h.Ra*Math.pow(h.tb/h.Ra,a);b=h.Ra*Math.pow(h.tb/h.Ra,b);b<h.Ra?b=h.Ra:b>h.tb&&
(b=h.tb);c-=this.C/2;d-=this.A/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.a.ca-=c*m+a*-e;this.a.$-=c*e+a*m;b=Math.log(b/h.Ra)/Math.log(h.tb/h.Ra);this.qb.current=this.Ug([b,b],!0,this)};d.prototype.$z=function(a){a.pe.current=a.Ig/a.vj*100;a.pe.l=!1;a.Qd.Fc=0};d.prototype.aA=function(a,b){a.pe.current=a.a.u/b*100;a.pe.l=!1;a.Qd.Fc=0};d.prototype.Zz=function(a){var b=!1,c=!1,d=0;a.Va||-1===a.la||(b=!0);!a.jc&&a.Kb&&(c=!0);if(b||c){var m=!1;if(c&&b)d=a.elapsedTime/a.v.et(a.la);else if(c){if(b=a.v.Xx().$b)d=
a.elapsedTime/b,1<d&&(m=!0)}else 0<a.la&&(d=a.a.u/a.la);1<d&&(d=1);a.pe.current=100*d}else m=!0;(a.pe.l=m)?a.Qd.Fc=a.s.Fc:a.Qd.Fc=0};d.prototype.qx=function(){this.oh.Iw(this.a.width/2-this.a.wc,this.a.height/2-this.a.xc,this.a.ka,this.a.Ja,this.a.C,this.a.A,this.a.Nc,this.a.dg[0])};d.prototype.su=function(){var a=this.s.Ke-this.C/2,b=this.s.rg-this.A/2,c=this.Me-this.a.$,d=this.Le-this.a.ca-(this.a.S?this.a.$/2:0);var e=-1;-1!==this.s.Ke&&(0!==this.a.Ja&&(e=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,
a),b-=this.a.Ja,a=e*Math.cos(Math.PI/180*b),b=e*Math.sin(Math.PI/180*b)),b=Math.floor(b/this.a.zoom-c+this.a.Cb),a=Math.floor(a/this.a.zoom+(this.a.S?c/2+b/2:0)-d+this.a.Hb),e=this.a.getState(a+this.Le,b+this.Me,this.Pb&&this.Tb));return e};d.prototype.Yn=function(a,b){var c=a-this.C/2,d=b-this.A/2;b=this.Me-this.a.$;var m=this.Le-this.a.ca-(this.a.S?this.a.$/2:0),e=0,f=0;-1!==a&&(0!==this.a.Ja&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.a.Ja,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/
180*d)),e=Math.floor(d/this.a.zoom-b+this.a.Cb),f=Math.floor(c/this.a.zoom+(this.a.S?b/2+e/2:0)-m+this.a.Hb));this.Ej=f+this.Le;this.Fj=e+this.Me};d.prototype.zv=function(a,b,c,d,e){var m=Math.abs(c-a),f=Math.abs(d-b),l=a<c?1:-1,q=b<d?1:-1,g=m-f,h=this.a.width,n;for(n=0|this.a.Lu(a,b,e);h!==this.a.width;)a+=h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1;for(;a!==c||b!==d;){var F=g+g;F>-f&&(g-=f,a+=l);F<m&&(g+=m,b+=q);for(n|=this.a.Lu(a,b,e);h!==this.a.width;)a+=h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1}return n};d.prototype.Gz=
function(){var a=this.s.Ke-this.C/2,b=this.s.rg-this.A/2,c=this.Me-this.a.$,d=this.Le-this.a.ca-(this.a.S?this.a.$/2:0);if(-1===this.s.Ke)this.uc.ob="",this.uc.l=!this.Re;else{if(0!==this.a.Ja){var e=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b-=this.a.Ja;a=e*Math.cos(Math.PI/180*b);b=e*Math.sin(Math.PI/180*b)}e=Math.floor(b/this.a.zoom-c+this.a.Cb);c=Math.floor(a/this.a.zoom+(this.a.S?c/2+e/2:0)-d+this.a.Hb);a=this.a.getState(c+this.Le,e+this.Me,this.Pb&&this.Tb);c+=this.td;e+=this.ud;-1===
this.a.ja||this.eg||(c-=Math.floor((-1===this.Eg?this.ag:this.Eg)/2),e-=Math.floor((-1===this.Dg?this.ug:this.Dg)/2));c=-9999>c||9999<c?Number(c/1E4).toFixed(1)+"K":String(c);d=-9999>e||9999<e?Number(e/1E4).toFixed(1)+"K":String(e);this.uc.ob=c+","+d+"="+a;this.uc.l=!1}this.uc.enabled=this.Re||this.ma.current===h.hb&&-1!==this.s.Ke?this.W||this.Ua||0===this.ag?!1:!0:!1};d.prototype.Jy=function(a){if(!this.Ab&&!this.ta)if(0<this.W)0<a?this.Bo(this,3):this.Ao(this,3);else if(0<this.Ua)0<a?this.zo(this,
3):this.yo(this,3);else if(!this.dc){var b=this.qb.current[0];0>a?this.Jj(b,-.05):this.Jj(b,.05)}};d.prototype.hA=function(a,b){var c=b.v.current;var d=!1,m=!1,e=!1,f=!1,g=!1,l;b.dc=!1;b.pq&&(b.pq=!1,a=0);b.Tb||b.Zz(b);b.fa=b.Yb.current[0];b.ma.current!==h.hb?(a>h.zx&&(m=!0),a>h.Pu&&(a=h.Pu),!b.yc||b.Kb&&!b.jc||(b.sg+=b.fa*b.Bd*a/1E3,b.Fa+=b.Bd*a/1E3,(b.Fa|0)>b.a.u?(b.Fa+=b.fa-1,b.Yf=!0):b.elapsedTime+=a)):b.Yf&&(g=!0,b.Fa=b.pr?b.a.u+1:b.a.u+b.fa,b.sg=b.Fa);b.Sr();b.Kb&&!b.jc&&b.ma.current!==h.hb?
(b.Ud&&!b.v.rp(b.elapsedTime+a)&&(b.Ud=!1,b.elapsedTime=b.v.Ts(b.a.width/2-b.a.ca,b.a.height/2-b.a.$,b.a.zoom,b.a.angle,b.a.J,b.a.qc*h.Lh,b.a.de,b.Bd,b.fa,b.a.u,b.elapsedTime)),c.jd&&(b.Hf(!0,!1),b.Ud=!1,c.x=b.a.width/2-b.a.ca,c.y=b.a.height/2-b.a.$,b.ta&&(b.a.zoom*=b.Ac),c.zoom=b.a.zoom),(e=b.v.update(b.elapsedTime+a,b.a.u))?(c.jd&&(c.jd=!1,b.ta&&(b.a.zoom=c.zoom/b.Ac),b.qb&&(b.qb.current=b.Ug([b.a.zoom,b.a.zoom],!1,b))),b.Fa+=b.Bd*a/1E3,(b.Fa|0)>b.a.u&&(b.Fa+=b.fa-1,b.Yf=!0)):(b.ma.current!==h.hb&&
(b.dc=!0),b.a.ca=b.a.width/2-c.x,b.a.$=b.a.height/2-c.y,b.a.zoom=c.zoom,b.ta&&(b.a.zoom=b.a.zoom/b.Ac),b.qb&&(b.qb.current=b.Ug([b.a.zoom,b.a.zoom],!1,b)),b.a.angle=c.angle,b.xb&&(b.xb.current=[b.a.angle,b.a.angle]),b.a.J=c.J,b.rc&&(b.rc.current=[b.a.J,b.a.J]),b.a.qc=c.depth/h.Lh+h.Zn,b.Fb&&(b.Fb.current=[Math.sqrt(b.a.qc),b.a.qc*h.Lh]),b.Bd=c.sb,b.Ka&&(b.Ka.current=[Math.sqrt((c.sb-h.ie)/(h.$h-h.ie)),b.it(c.sb)]),b.fa=c.step,b.Yb.current=[b.fa,b.fa],c.Xa>b.a.u?(b.Yf=!0,b.Fa=c.Xa):b.Yf=!1,c.sd!==
b.Mn&&(""===c.sd?b.h.notification.clear(!1,!1):b.h.notification.T(c.sd,1E3,!1),b.Mn=c.sd),c.ub!==b.yq&&(b.Jc.current=b.Dj([c.ub,""],!0,b),b.yq=c.ub)),b.Yf||(b.elapsedTime+=a)):b.kb&&b.ma.current!==h.hb&&(b.dc=!0);b.dc&&(b.se=-1);c=0;if(b.Yf){if(b.a.Aa){var u=performance.now();var n=(b.Fa|0)-b.a.u;for(l=0;!f&&b.a.u<(b.Fa|0);){c=performance.now()-u;if(b.a.u===b.pb-1||c>h.hv&&!g)f=!0;b.Re&&(b.a.u===(b.Fa|0)-1||f)?b.a.hj(!0,b.qf,b.Ic):b.a.hj(!1,b.qf,b.Ic);l+=1;(b.a.Wu||b.a.u===(b.Fa|0)||f)&&b.a.Mj();
b.pz(a,n);-1!==b.la&&b.a.u>=b.la&&!b.Va&&(b.elapsedTime=0,b.reset(b),e&&(b.dc=!0));b.a.Aa||(f=!0)}b.a.Aa||(b.Up=this.da+(0<this.a.g?this.a.g:0),-1===b.ah&&(b.ah=b.a.u,b.a.Ls(!0),!b.ql||-1!==b.la&&!b.Va||b.Rj||b.h.notification.T("Life ended at generation "+b.ah,600,!0)));b.Fa-=n-l}else b.Up&&(--b.Up,a=b.a.u,b.a.u=b.ah,b.a.Mj(),b.a.u=a),b.a.u+=b.fa,-1!==b.la&&b.a.u>=b.la&&!b.Va&&(b.elapsedTime=0,b.reset(b),e&&(b.dc=!0));b.a.u===b.pb&&(b.ma.current=b.Id(h.hb,!0,b),b.ql&&b.h.notification.T("STOP reached - Play to continue ",
180,!0))}b.ig.locked=b.dc&&b.Kb;b.Xi.locked=b.dc||b.kb&&b.ma.current!==h.hb;b.Ka.locked=b.dc&&b.Kb;b.Yb.locked=b.dc&&b.Kb;b.Jc.locked=b.dc&&b.Kb;b.qb.locked=b.dc;b.xb.locked=b.dc&&b.Kb;b.rc.locked=b.dc&&b.Kb;b.Fb.locked=b.dc&&b.Kb;b.wheelDelta&&(b.Jy(b.wheelDelta),b.wheelDelta=0);b.kb&&(b.ma.current!==h.hb||b.Kb)&&b.Hf(!1,!1);b.a.Qy();b.fg&&b.qx();b.a.pn();b.a.ue&&b.a.S&&4<=b.a.zoom&&b.a.px();b.dm&&(2===b.dm&&b.a.qn(b.oe,1,!0,b.ta),b.vw(b),2===b.dm&&b.a.pn(),b.dm=0);b.a.u&&b.a.Aa&&(e=h.Vd,b.a.ra&&
(e=4*b.a.Mb.sc+1,-1!==b.a.ja&&(e+=2*b.a.Mb.sc),b.a.Mb.type===PatternManager.Te&&(e=-1!==b.a.ja?e+b.a.qa/2:e+(b.a.F.M-b.a.F.L+1)/2),e<h.Vd&&(e=h.Vd)),b.a.yw(e)&&(b.Od+=b.a.width>>2,b.Ri+=b.a.height>>2,b.Xd+=b.a.width>>2,b.oj+=b.a.height>>2,b.a.S&&(b.Od-=b.a.height>>3,b.Xd-=b.a.height>>3),b.Le+=b.a.width>>2,b.Me+=b.a.height>>2));b.tf&&b.v.Lp(b);b.ab&&b.a.qn(b.oe,b.Qb,!1,b.ta);b.W?Help.Np(b):b.Ib.length&&Help.Mp(b);b.Qd.lower[0]=b.vn?"+ "+b.hm(b.a.u):"T "+b.hm(b.a.u+b.un);b.Vi.ob=b.pw(b.elapsedTime);
b.gi.ob=b.hm(b.a.za);b.nl()?b.jg.ob=(100*b.a.za/(b.a.qa*b.a.oa)|0)+"%":(b.jg.ob=b.hm(b.a.yb),b.Kh.ob=b.hm(b.a.mc));b.gi.D="alive "+b.a.za;b.nl()?b.jg.D="density "+(100*b.a.za/(b.a.qa*b.a.oa)|0)+"%":(b.jg.D="births "+b.a.yb,b.Kh.D="deaths "+b.a.mc);b.Hq||b.Uz(c,m,g,b);b.Yf=!1;b.pr=!1;b.Gz();-1!==b.se&&b.Qr();if(b.yc||b.kb&&b.Ii>b.rw||-1!==b.se)d=!0;b.Vz();b.bA();b.Wz();b.cA(b.W||b.Ib.length);b.h.Bg(d)};d.prototype.Uz=function(a,b,c,d){a>h.hv&&!c?(d.bg+=h.hu,d.bg>=2*h.Pq&&(d.bg=0)):0<d.bg&&(d.bg-=h.hu);
b&&!c?d.cg<h.ry&&(d.cg+=h.iu):d.cg>h.sy&&(d.cg-=h.iu);d.bg>=h.Pq&&(d.BA=2*h.Pq-d.bg);a=d.Bj>>16;b=d.Bj>>8&255;c=d.Bj&255;128<=a?64<=b||64<=c?(b-=d.cg,c-=d.cg,0>b&&(b=0),0>c&&(c=0)):(b+=d.cg,255<b&&(b=255)):(a+=d.cg,255<a&&(a=255));d.Ka.Kc="rgb("+a+","+b+","+c+")";a=d.Bj>>16;b=d.Bj>>8&255;c=d.Bj&255;128<=b?(a-=d.cg,0>a&&(a=0),c-=d.bg,0>c&&(c=0)):(b+=d.bg,255<b&&(b=255));d.Yb.Kc="rgb("+a+","+b+","+c+")"};d.prototype.Sr=function(){if(this.ac&&!this.bc){this.a.Hb=this.sg*(this.Og+this.vh)/2;this.a.Cb=
this.sg*(this.uh+this.Pg)/2;var a=this.a.wv(0,this.uh,this.Og,this.Pg,this.vh,this.C,this.A-80,h.Ra,h.tb,h.To);var b=this.a.wv(this.sg,this.uh,this.Og,this.Pg,this.vh,this.C,this.A-80,h.Ra,h.tb,h.To);this.a.fc=b/a}else this.a.Hb=0,this.a.Cb=0,this.a.fc=1;this.qb.current=this.Ug([this.a.zoom,this.a.zoom],!1,this)};d.prototype.cA=function(a){var b=!(this.W&&this.Th===h.yh);var c=[];var d=[];this.ig.l=a;this.qb.l=a||this.ab;this.Xi.l=a;this.Rh.l=a;this.ye.l=a||this.ab;this.Kd.l=a||this.ab;this.Ga.l=
a||this.ab;this.Zh.l=a||this.ab;this.gj.l=a;this.Lb.l=a||!this.ab;this.Ek.l=a||!this.ab;this.$j.l=a||!this.ab;this.xe.l=a;this.Vi.l=a;this.Be.l=a;this.gi.l=a;this.vb.l=a||this.zi();this.jg.l=a||this.zi();this.ze.l=a||this.nl()||this.zi();this.Kh.l=a||this.nl()||this.zi();this.Ec.l=a;this.xb.l=a||this.a.S;this.Fb.l=a;this.Jc.l=a||this.Pb;this.rc.l=a;this.Xi.l=a;this.Ag.l=a||!this.th;this.Jb.l=!(this.ge||this.Ib.length);this.$i.l=a;this.bj.l=a;this.Vh.l=a;this.Qh.l=a;this.Zj.l=a;this.hh.l=a;this.Yj.l=
a;this.sk.l=a;this.Uj.l=a;this.Sg.l=a;this.Pf.l=a||!this.Ca;this.dd.l=a||!this.Ca;this.Qf.l=a||!this.Ca;this.ed.l=a||!this.Ca;this.If.l=a||!this.Ca;this.Zc.l=a||!this.Ca;this.Fk.l=a||!this.Ca;this.Ai.l=a||!this.Ca;this.Bh.l=a||!this.Ca;this.Ch.l=a||!this.Ca;this.Bi.l=a||!this.Ca;this.$c.l=a||!this.Ca;this.bd.l=a||!this.Ca;this.cd.l=a||!this.Ca;this.ad.l=a||!this.Ca;this.Ib.length?(this.Jb.D="close errors",this.Jb.ob="Esc",this.Jb.font="16px Arial"):(this.Jb.D="close window",this.Jb.ob="X",this.Jb.font=
"24px Arial");this.Gi.l=!(this.W&&this.Th!==h.yh);this.Ya.l=!(this.W&&this.Th!==h.yh)||!this.im;this.Df.l=b;this.Ef.l=b;this.bf.l=b;this.Gf.l=b;this.Ze.l=b;this.Ye.l=b;this.Ae.l=b;this.xh.l=b||0===this.v.Ll();this.Dh.l=!(this.W&&this.Th!==h.yh)||this.im;if(this.Tk){this.Tk=!1;for(b=0;b<this.R.length;b+=1)c[b]=this.R[b][1],d[b]="";this.Ya.lower=c;this.Ya.D=d;this.Ya.height=26*this.R.length;this.Ya.current=0}this.Xb.l=a||!this.fe||!this.pk;this.i.l=a||!this.fe||!this.pk;if(2>=this.a.g)for(b=0;b<this.i.lower.length;b+=
1)c=2>=b?0===b?b:1===b?LifeConstants.Za:LifeConstants.Jh:128+h.bb[b],this.i.Uk[b]="rgb("+this.a.jb[c]+","+this.a.fb[c]+","+this.a.eb[c]+")";else for(b=0;b<this.i.lower.length;b+=1)c=0===b+this.uf?0:this.da+this.a.g-(b+this.uf),this.i.Uk[b]="rgb("+this.a.jb[c]+","+this.a.fb[c]+","+this.a.eb[c]+")";this.gk.l=a||!this.fe;this.Hg.l=a||!this.fe;this.Di.l=a||!this.fe||!this.pk||8>this.a.g;this.a.g>this.ih&&this.co();if(0<this.W){b=0;for(c=-1;b<this.R.length&&-1===c;)this.R[b][0]>this.W?c=this.R[b][0]:b+=
1;b===this.R.length&&(c=b);-1!==c&&(this.Ya.current=b-1)}this.vl&&(this.s.l=this.ma.current===h.ai?!0:!1)};d.prototype.Wz=function(){var a=-(this.a.width/2-this.a.ca-this.a.Hb|0),b=-(this.a.height/2-this.a.$-this.a.Cb|0),c=String(a),d=String(b);this.Pf.l=!this.Ca;this.dd.l=!this.Ca;this.Qf.l=!this.Ca;this.ed.l=!this.Ca;this.If.l=!this.Ca;this.Zc.l=!this.Ca;this.Fk.l=!this.Ca;this.Ai.l=!this.Ca;this.Bh.l=!this.Ca;this.Ch.l=!this.Ca;this.Bi.l=!this.Ca;this.$c.l=!this.Ca;this.bd.l=!this.Ca;this.ad.l=
!this.Ca;this.cd.l=!this.Ca;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.dd.ob=c;this.ed.ob=d;this.Zc.ob=this.a.angle.toFixed(0)+"\u00b0";this.$c.ob=this.Sm.toFixed(3);this.bd.ob=this.Um.toFixed(3);this.cd.ob=this.Vm.toFixed(3);this.ad.ob=this.Tm.toFixed(3)};d.prototype.bA=function(){0===this.a.u?this.Vm=this.Sm=this.Um=this.Tm=0:(this.Um=(this.a.F.M-this.a.Ed.M)/this.a.u,this.Tm=(this.a.F.L-this.a.Ed.L)/this.a.u,this.Sm=(this.a.F.O-this.a.Ed.O)/this.a.u,this.Vm=
(this.a.F.N-this.a.Ed.N)/this.a.u)};d.prototype.Vz=function(){this.ig.current=[this.kb];this.ye.current=[!this.Hh&&this.be];this.ye.locked=!this.be;this.ac?(this.Ga.lower[0]="TRACK",this.Ga.current=[!this.bc&&this.ac],this.Ga.locked=!this.ac,this.Ga.D=["toggle track mode"]):(this.Ga.lower[0]="WAYPT",this.Ga.current=[!this.jc&&this.Kb],this.Ga.locked=!this.Kb,this.Ga.D=["toggle waypoint mode"]);this.Zh.current=[!this.Va&&-1!==this.la];this.Zh.locked=-1===this.la;this.Zh.D=["loop at "+this.la];this.Kd.current=
[-1!==this.pb];this.Kd.locked=-1===this.pb;this.Kd.D=["stop at "+this.pb]};d.prototype.pz=function(a,b){if(this.a.u>=this.Yc.length){var c=this.a.j.V(Float32,this.Yc.length+h.au,"View.elapsedTimes");c.set(this.Yc);this.Yc=c}this.elapsedTime+=a/b;this.Yc[this.a.u]=this.elapsedTime};d.prototype.fA=function(a){var b=a.Rz,c=a.vj-a.Ig;if(a.Ig<a.vj)if(0<a.Ap)--a.Ap;else if(a.Hn)a.ti.innerHTML=a.nm,a.Ig=a.vj;else{c<b&&(b=c);var d=document.createElement("textarea");a.jq(d);if(b!==c)for(;"\n"!==a.nm[a.Ig+
b];)--b;d.innerHTML=a.nm.substr(a.Ig,b);a.Ig+=b;a.ti.appendChild(d)}else a.h.notification.T("Press Enter to complete copy",1E4,!0);a.$z(a);a.a.pn();a.tf&&a.v.Lp(a);a.ab&&a.a.qn(a.oe,a.Qb,!1,a.ta);a.W?Help.Np(a):a.Ib.length&&Help.Mp(a);a.h.Bg(!0)};d.prototype.gA=function(a){for(var b=a.zp,c=performance.now(),d,e=a.a.Hd.ay*LifeConstants.jm;a.a.u<b-1&&13>performance.now()-c;)d=b-1-a.a.u<=e?!1:!0,a.a.hj(!1,d,a.Ic),a.a.Mj();a.a.u===b-1?(a.a.hj(a.Re,!1,a.Ic),a.a.Mj(),a.Oi=!1,a.yp&&a.h.notification.clear(!0,
!1),a.s.locked=!1):a.s.locked=!0;a.aA(a,b);a.a.pn();a.tf&&a.v.Lp(a);a.ab&&a.a.qn(a.oe,a.Qb,!1,a.ta);a.W?Help.Np(a):a.Ib.length&&Help.Mp(a);a.h.Bg(!0)};d.prototype.sw=function(a,b){b.Oi?b.gA(b):b.Yk?b.fA(b):b.hA(a,b)};d.prototype.$r=function(a){a.a.u=0;a.Fa=0;a.sg=0;a.elapsedTime=0;a.a.ca=a.a.width>>1;a.a.$=a.a.height>>1;a.a.ca&=a.a.width-1;a.a.$&=a.a.height-1;a.a.Aa=!0;a.pq=!0;a.ah=-1};d.prototype.rv=function(a,b,c){b&&(c.fg=a[0]);return[c.fg]};d.prototype.nv=function(a,b,c){b&&(c.ff=a[0]);return[c.ff]};
d.prototype.qv=function(a,b,c){b&&(c.a.Of=a[0]);return[c.a.Of]};d.prototype.ov=function(a,b,c){b&&(c.Ca=a[0]);return[c.Ca]};d.prototype.Xr=function(a,b,c){b&&(c.ab=a[0]);return[c.ab]};d.prototype.pv=function(a,b,c){b&&(c.tf=a[0]);return[c.tf]};d.prototype.mv=function(a,b,c){b&&(c.a.ue=a[0],c.Rr());return[c.a.ue]};d.prototype.Yr=function(a,b,c){b&&(c.a.S=a[0],c.a.S?(c.a.ca-=c.a.$/2,c.Od-=c.a.$/2,c.Xd-=c.a.$/2):(c.a.ca+=c.a.$/2,c.Od+=c.a.$/2,c.Xd+=c.a.$/2),c.Rr(),c.xb.l=c.a.S);return[c.a.S]};d.prototype.Xk=
function(a,b,c){b&&(c.h.li=a[0]);c.h.Bg(!0);return[c.h.li]};d.prototype.xk=function(a,b,c){b&&(c.h.mi=a[0]);c.h.Bg(!0);return[c.h.mi]};d.prototype.Dj=function(a,b,c){b&&(b=a[0]+.5|0,c.a.de!==b&&(c.a.nk(b,c.a.Mi,c),1<c.a.Mi&&(c.h.wi=c.a.Mi)));return[a[0],c.Hr(c.a.de)]};d.prototype.yi=function(a,b,c){b&&(c.fa=a[0]+.5|0);return[c.fa,c.fa]};d.prototype.it=function(a){return(10>a.toFixed(1)?a.toFixed(1):a.toFixed(0))+"/s"};d.prototype.Tg=function(a,b,c){b?(c.Bd=h.ie+a[0]*a[0]*(h.$h-h.ie),a=a[0]):a=Math.sqrt((c.Bd-
h.ie)/(h.$h-h.ie));return[a,c.it(c.Bd)]};d.prototype.Hu=function(a){a.lk=a.a.zoom;a.ta&&(a.lk=a.lk*a.Ac);a.er=a.a.angle;a.Xd=a.a.ca;a.oj=a.a.$};d.prototype.ez=function(a){a.pi=a.a.width/2-a.a.ca;a.ri=a.a.height/2-a.a.$;a.rj=a.a.zoom;a.oi=a.a.angle;a.dh=a.a.width/2-a.Xd;a.Wi=a.a.height/2-a.oj;a.Sj=a.er;a.ta?a.Oh=a.lk/a.Ac:a.Oh=a.lk;a.se=0};d.prototype.$y=function(a,b){a.a.zoom=a.bt;a.ta&&(a.a.zoom=a.a.zoom/a.Ac);a.qb&&(a.qb.current=a.Ug([a.a.zoom,a.a.zoom],!1,a));a.a.angle=a.Nj;a.xb&&(a.xb.current=
[a.Nj,a.Nj]);a.a.ca=a.Od;a.a.$=a.Ri;b&&(b=a.a.Mi,a.a.Mi=1,a.Jc.current=a.Dj([a.kn,""],!0,a),a.a.Mi=b,a.Pb&&(a.a.Li=0),b=Math.sqrt((a.Ip-h.ie)/(h.$h-h.ie)),a.Ka.current=a.Tg([b,b],!0,a),a.fa=a.jn,a.Yb.current=[a.fa,a.fa],a.a.J=a.Pj,a.rc.current=[a.Pj,a.Pj],b=Math.sqrt(a.Hp),a.Fb.current=a.wh([b,b],!0,a))};d.prototype.hp=function(a){a?(this.a.ca+=this.a.Hb,this.a.$+=this.a.Cb,this.a.zoom*=this.a.fc):(this.Sr(),this.a.ca-=this.a.Hb,this.a.$-=this.a.Cb,this.a.zoom/=this.a.fc,this.Sr());this.a.zoom<h.Ra?
this.a.zoom=h.Ra:this.a.zoom>h.tb&&(this.a.zoom=h.tb)};d.prototype.yu=function(a){a.elapsedTime=0;a.Pb||(a.a.wo(a.qf),a.a.Aa=!0,a.a.br())};d.prototype.reset=function(a){var b=!1,c=!1;if(0===a.elapsedTime||a.Cn)b=!0;a.Va||-1===a.la||a.a.u>=a.la&&(c=!0);c||b||(a.Kb&&(a.jc=!0),a.ac&&(a.bc=!0),-1!==a.la&&(a.Va=!0),a.Im&&(a.kb=!1));a.elapsedTime=0;a.a.Hb=0;a.a.Cb=0;a.a.fc=1;if(b){a.Kb&&(a.jc=!1);a.ac&&(a.bc=!1);a.Im&&(a.kb=!0);if(!c||a.Kb||a.kb)a.$y(a,b),a.kb&&a.Hf(!0,!1);a.Va=!1}a.Pb||(a.a.wo(a.qf),a.Fa=
a.a.u,a.sg=a.Fa,a.a.Aa=!0);a.Ic||a.a.zu();a.a.br();a.Mn="";a.yq=-1;a.Ud=!1;a.v.cz();a.h.notification.clear(!1,!1);a.ah=-1};d.prototype.Ju=function(a){a?(this.ma.icon[2]=this.ia.icon("pause"),this.ma.D[2]="pause"):(this.ma.icon[2]=this.ia.icon("stepforward"),this.ma.D[2]="next generation")};d.prototype.Qe=function(a,b){b.Th=a;b.W=1;b.im=!0;b.cq=[];b.eq=[];this.Tk=!0};d.prototype.Gv=function(a){a.Qe(h.At,a)};d.prototype.Mv=function(a){a.Qe(h.hr,a)};d.prototype.Ev=function(a){a.Qe(h.wl,a)};d.prototype.Uv=
function(a){a.Qe(h.Xu,a)};d.prototype.gs=function(a){a.Qe(h.Os,a)};d.prototype.$q=function(a){a.Qe(h.rs,a)};d.prototype.Hv=function(a){a.Qe(h.Ut,a)};d.prototype.fr=function(a){a.Qe(h.xs,a)};d.prototype.Vw=function(a,b,c){b&&(c.W=c.R[a][0],c.im=!1);return a};d.prototype.Zr=function(a,b,c){var d=a;if(b)switch(a){case h.$t:c.Tb?(c.h.notification.T("Drawing not available",40,!0),d=h.Il):(c.fe=!0,c.gk.current=c.Nr([!1],!0,c));break;case h.Il:c.fe=!1}return d};d.prototype.bs=function(a,b,c){var d=a;b&&
(c.He=a,2>=c.a.g?b=c.a.pc?h.Qu[c.He]:c.He?"Alive":"Dead":(a+=c.uf,0===a?(c.He=0,b="Dead"):(c.He=c.a.g-a,b=1===a?"Alive":"Dying "+String(a-1))),c.h.notification.T("Drawing with state "+a+" ("+b+")",120,!0),c.gk.current=c.Nr([!1],!0,c));return d};d.prototype.sx=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.Xb.current=c.bs(d,!0,c)),d+=1;return a};d.prototype.Id=function(a,b,c){var d=a,e=c.Va,f=c.jc,m=c.Hh,g=c.kb,q=c.bc,l=40,n=0,r=0,p=0,x=0,y=0;if(b){switch(a){case h.Dq:c.Hh=c.Cn||c.be&&
0===c.a.u&&0===c.elapsedTime?!1:!0;c.be&&!c.Hh?(a=h.ai,c.yc=!0,c.Rj=0===c.a.za?!0:!1):(a=h.hb,c.yc=!1);c.reset(c);b="Reset";!c.Va&&e&&-1!==c.la&&(n=1);c.Va&&!e&&-1!==c.la&&(n=-1);!g&&c.kb&&(y=1);g&&!c.kb&&(y=-1);!c.jc&&f&&(r=1);c.jc&&!f&&(r=-1);!c.bc&&q&&(p=1);c.bc&&!q&&(p=-1);!c.Hh&&m&&c.be&&(x=1);c.Hh&&!m&&c.be&&(x=-1);if(0!==n||0!==r||0!==p||0!==x||0!==y){b="";0!==n&&(b+="Loop");if(0!==r||0!==p||0!==y)0!==n&&(b=0!==x?b+", ":b+" and "),b=0!==r?b+"Waypoints":0!==p?b+"Track":b+"AutoFit";if(0!==x){if(0!==
n||0!==r||0!==p||0!==y)b+=" and ";b+="AutoStart"}b=0<n||0<r||0<p||0<x||0<y?b+" On":b+" Off";l=120}c.h.notification.T(b,l,!0);break;case h.ai:c.ma.current!==h.ai&&(c.yc=!0,c.Rj=0===c.a.za?!0:!1,c.h.notification.T("Play",40,!0));break;case h.ky:c.yc?(c.yc=!1,c.h.notification.T("Pause",40,!0)):0<c.a.u&&c.am(c.a.u-c.fa);a=h.hb;break;case h.hb:c.yc?(c.yc=!1,(c.a.u!==c.pb||c.ql)&&c.h.notification.T("Pause",40,!0)):(c.Yf=!0,c.Rj=0===c.a.za?!0:!1)}d=a;c.Ju(c.yc)}return d};d.prototype.ym=function(a,b,c){b&&
(c.Ud=!0,c.a.angle=a[0]);return[c.a.angle,c.a.angle]};d.prototype.zm=function(a,b,c){b?(c.Ud=!0,c.a.J=a[0]+.5|0,a=a[0]):a=c.a.J;return[a,c.a.J]};d.prototype.wh=function(a,b,c){return b?(c.Ud=!0,c.a.qc=a[0]*a[0],[a[0],c.a.qc*h.Lh]):[Math.sqrt(c.a.qc),c.a.qc*h.Lh]};d.prototype.ox=function(a,b,c,d){var e=this.He;-1===c&&-1===d?(this.ek=this.su(),2<this.a.g&&(e=this.a.g-e),this.ek=this.Eo&&this.ek===e?0:this.He):(this.Yn(c,d),c=this.Ej,d=this.Fj,this.Yn(a,b),a=this.Ej,b=this.Fj,this.zv(c,d,a,b,this.ek)&&
this.a.Dy());0<this.a.za&&(this.ah=-1,this.a.Aa=!0)};d.prototype.wx=function(a,b,c,d){d.vl&&!c&&(d.ma.current=d.Id(h.hb,!0,d))};d.prototype.ww=function(a,b,c,d){d.lv(a,b,c,d,!1)};d.prototype.lv=function(a,b,c,d,e){if(c){if(d.W||d.Ua||!d.fe||e){if(-1!==d.dj)if(d.W)e=d.Wh-b,e/=h.fontSize,0<e?d.Ao(d,e):0>e&&d.Bo(d,-e);else if(d.Ua)e=d.Wh-b,e/=h.fontSize,0<e?d.yo(d,e):0>e&&d.zo(d,-e);else{c=(d.dj-a)/d.a.ka;e=(d.Wh-b)/d.a.ka;var f=d.a.S?0:-d.a.angle;if(!d.dc){var m=Math.sin(f/180*Math.PI);f=Math.cos(f/
180*Math.PI);d.Ud=!0;d.a.ca+=c*f+e*-m;d.a.$+=c*m+e*f}}}else d.fe&&-1!==a&&-1!==b&&!d.fk&&d.ox(a,b,d.dj,d.Wh);d.dj=a;d.Wh=b}else e||!0!==d.fk||-1===a||-1===b||(d.ek=d.su(),a=d.uf,d.uf=0,d.Xb.current=d.bs(d.ek,!0,d),d.uf=a),d.dj=-1,d.Wh=-1};d.prototype.ci=function(a,b){8>this.a.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8));this.Wh=this.dj=0;this.lv(a,b,!0,this,!0);this.Wh=this.dj=-1};d.prototype.ns=function(a){var b=h.xt;null===b&&(b=new Image,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqgAAAAoCAIAAAC99Z/6AAAABnRSTlMAAAAAAABupgeRAAAGW0lEQVR4nO2dWbKkOgxEi4634FpK7Zj+IJ6DxnhOSbac56uD5mrykAXY8PkQQgghhBBC1uX7/Yoe3xnp2rLmG3I1etz00scJ8cMZoWPZym+MjggBE8yj5qgGCj+RQLNf/dcYGyHLcByHqM2UGln51ec4jvM8H7GNpy9h0wGsA0HxxzoAQkS4NEnOfmoWtvJrxW75EuIACj9xi5wm5dXIyq8Vu+VLyOpQ+IlnJDSpRo2s/FqxW76ELA2FnzgHq0n1amTl14rd8iUpsMtaIUwY0oPv9/v7/V5X40scTw4tq4HXumAKssDqbmQka0+z1VWTkA5qIVvRzsMvColFZ5P41V8E/vv9wr/jBoXkC7eZ8VVp3LbOH7HpBWsWNZeiePSlGUKKuVRZ/98vwPcjVRJvW8qH0Xp+0chg2H1OIfRFXpkOymnRjkQ6G8KtZTWMDx/NOksMisH08xPF/Qgg1oHwhOZJCHPt3bcqVqvAtJ5fNDIYcN9foWgNvhhbMeAR40VHkHT2hMJfyWB/Xl34R8y+lu5xxHA4p6aaJSYW6X5V+4x/lXpp4rImU2U0VTDEE2HwznnvV43T0dPJO5w68rS9wIdD5cJrr5owL68TU4pHEyyde2t30k/26l2X3wk7/+Q8lnPWD1XRQV1sx6XHFIqeN/ftLP+o2UFi+9Ngi0w78e2m/Z6obzjN7hdmsPt1/4Z9bHxkdcxj4RGA0EJFuE2X9L+ydzf5n02nsUw+YKj9BMvVnYJu7TabWSE6z9QYZxNfjO7jd/mc+4H7HJfIbokgyfx4epgygsSP6UdtlcdszWu1ikYySwJDOqhzLtT27v9Tikz+qf9KAelGKb8m+/itiqBJPkerffzFeLzSIUvm+8tTNEmLzk2d1yv7UPN8AOZ1xpYIaK1ynnw8F5D+2RF7rzSS0ZqwHARyTmDGffytJC3W0WoWEkb8h1bpK1OfDirfbkeLVtiKGbbzNTWWQsumulBrv7L6LG9lkDWnDVY7rlhx2EoP5LvNEV+Zk+/2Iefckd67/ziO/yzvufjTMjVpgTtCXXxPzrns8/5HwV+zqDnHB1btmLrc98EpuXTu7kLaSxMP0ZH+YqQE1z35+Fpc6LjUu/p5cZZHojizXWDJsXTw5GISzbiYKhgI+StO5Zv8MfCXBOe/lony5QZ+pIcQosRdJ5R/vb3Kw+q3Jx+c/7+W4ELn6qvDhbTq3w+6aVwsUsK/577YhVi6dZYOfmfuDafZiM4E/pX4Oj7If/60VuI/t7oDR9XvBi/8q0u+TvwSLlptLtpMi4ZNAuE5tKa7+uMrkpHz+6U/KuUZxuAOt3DkQAr/6pJ/RyGXA01fDPC8RFku4Ds17TXepvNzWFyNvSqEfhgSFC/ir76E/aFjWzd/qi+9d/9xHLOPH1jrlN+Ui9bzi0biP7QqhRqZBEM6kDrX2KkJxg3xGv6OVf3m+8tTNN1VFloinhL4DpEwr3NcotYssEXu+yUxHoCo6ueTOio+61B/TmC9ffyZ3PpodQQJbMSRdEF0KKaDylfN0RLEOaKy5j7+YDauJLBTGX6Wd4ahkRqtGSAeaw6ugtre/Sqk26/VL+r8opG+8KTLokA+HVS+RTvOqponThOVOIU/mI3rCexUhsL/ekSf1IgujvRuXzUHV0e6X/W8wMffHdd6am7jVALvrIPtAn8KiGLn/rY6s/WoEI+PTjVDFk3zxnjAnp7rG9Im/Kzvxbj8S0yIp8VHNqVhl1sXtt0mVM4bg/0hdcOD3ayDWuFncWOAV//zMJX2u+91cYLuU54BFhmO/rxB1R+hLPysbB5/8j+J9rPjEQnYr1bkLvOU/HFy+/gd7ySG01oricICbZq3OzwAq2UZcy4HAYJdvdVnM7OILHQk369G2ISrZZ21o9re/Tt+ykdI4LHcYXz1Q6VlE7/m+8sDqEuxDjvxjwO4NpjXGdidyFRMtI+fkHW5ywD8cjlj3MpvjP52vhP3UligKQmka5s6Pm1ByDjSe/d79vQTshZhihSaK1P2rfzGKAs/NnHpMg5C4ScSaParnn38hCyB3K3Ra/1j5jXSJn6t2C1fQ6S1n6XeBAo/8Ym0YKT2Plj5tUInXwrSh6pMcFD4iVvuAglcZDetX31iSYbkG9uk9hMChMJPHCInEnnLVn6tUItqzvQJIYQQQgiZnb+cxeoesd4TZwAAAABJRU5ErkJggg==",
h.xt=b);this.ia=new IconManager(b,a);this.ia.add("play",40,40);this.ia.add("pause",40,40);this.ia.add("tostart",40,40);this.ia.add("menu",40,40);this.ia.add("stepback",40,40);this.ia.add("stepforward",40,40);this.ia.add("autofit",40,40);this.ia.add("fit",40,40);this.ia.add("grid",40,40);this.ia.add("shrink",40,40);this.ia.add("draw",40,40);this.ia.add("hexgrid",40,40);this.ia.add("lines",40,40);this.ia.add("pan",40,40);this.ia.add("pick",40,40);this.ia.add("states",40,40);this.ia.add("hexagongrid",
40,40)};d.prototype.Rr=function(){this.Rh.icon=this.a.S?this.a.ue?[this.ia.icon("hexagongrid")]:[this.ia.icon("hexgrid")]:[this.ia.icon("grid")]};d.prototype.ro=function(a,b){a.h.hasFocus&&(a.Oi||(b.wheelDelta?a.wheelDelta=b.wheelDelta/120:b.detail&&(a.wheelDelta=-b.detail/3),a.h.Bg(!0)),b.preventDefault())};d.prototype.Qr=function(){var a=this.v.As(this.se/this.Ho),b=this.oi,c=this.Sj;this.a.ca=this.a.width/2-(this.pi+a*(this.dh-this.pi));this.a.$=this.a.height/2-(this.ri+a*(this.Wi-this.ri));this.a.zoom=
this.rj*Math.pow(this.Oh/this.rj,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.a.angle=(b+a*(c-b))%360;this.ln&&(this.a.qc=this.vr+a*(this.Pp-this.vr),this.Fb.current=this.wh([this.a.qc,this.a.qc],!1,this));this.Nn&&(this.a.J=this.wr+a*(this.Qp-this.wr),this.rc.current=this.zm([this.a.J,this.a.J],!1,this));this.se+=1;this.se>this.Ho&&(this.se=-1,this.a.zoom=this.Oh,this.a.angle=c,this.a.ca=this.a.width/2-this.dh,this.a.$=this.a.height/2-this.Wi,this.ln&&(this.a.qc=this.Pp,this.Fb.current=this.wh([this.a.qc,
this.a.qc],!1,this)),this.Nn&&(this.a.J=this.Qp,this.rc.current=this.zm([this.a.J,this.a.J],!1,this)));this.qb&&(this.qb.current=this.Ug([this.a.zoom,this.a.zoom],!1,this));this.xb&&(this.xb.current=this.ym([this.a.angle,this.a.angle],!1,this))};d.prototype.jr=function(a,b){var c=a.v.nb[b];a.pi=a.a.width/2-a.a.ca;a.ri=a.a.height/2-a.a.$;a.rj=a.a.zoom;a.oi=a.a.angle;c.wf?a.dh=c.x:a.dh=a.pi;c.Ve?a.Wi=c.y:a.Wi=a.ri;c.vd?a.Oh=c.zoom:a.Oh=a.rj;c.Xg?a.Sj=c.angle:a.Sj=a.oi;a.a.S&&(a.dh+=a.a.$/2);a.ln=c.$g;
a.ln&&(a.vr=a.a.qc,a.Pp=c.depth/h.Lh);a.Nn=c.gh;a.Nn&&(a.wr=a.a.J,a.Qp=c.J);a.se=0;a.Ho=c.wg;a.Qr();c.nj&&a.yu(a);c.ke===WaypointConstants.play?a.ma.current=a.Id(h.ai,!0,a):c.ke===WaypointConstants.stop&&a.ma.current!==h.hb&&(a.ma.current=a.Id(h.hb,!0,a));c.Se&&(a.Jc.current=a.Dj([c.ub,""],!0,a));a.h.notification.T("POI "+(b+1),60,!0);""!==c.sd?a.h.notification.T(c.sd,180,!1):a.h.notification.clear(!1,!0);c.si&&(a.pb=c.pb);c.Yh&&(a.la=c.la);c.eh&&(a.Bd=Math.sqrt((c.sb-h.ie)/(h.$h-h.ie)),a.Ka.current=
a.Tg([a.Bd,a.Bd],!0,a));c.qh&&(a.fa=c.step,a.Yb.current=a.yi([a.fa,a.fa],!0,a));c.mm&&(a.a.u>c.Xa&&a.yu(a),a.a.u<c.Xa&&(a.Oi=!0,a.zp=c.Xa,a.yp=!1));c.Zi&&(a.a.nc=c.oc);c.Fo&&(this.fg=c.ni)};d.prototype.zf=function(a,b,c){var d=b/a.a.fc;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.a.fc);a.dc||(a.pi=a.a.width/2-a.a.ca,a.ri=a.a.height/2-a.a.$,a.rj=a.a.zoom,a.oi=a.a.angle,a.dh=a.pi,a.Wi=a.ri,a.Oh=d,a.Sj=a.oi,a.se=0)};d.prototype.Dv=function(a){a.ab=!1;a.Qh.current=a.Xr([a.ab],!0,a)};d.prototype.Vr=
function(a){a.Ib.length?(a.Ib=[],a.Ua=0):f()};d.prototype.Iv=function(a){a.Eb+=1;a.Eb>=y.zc.length&&(a.Eb=0);a.ph(y.zc[a.Eb].pattern,!1)};d.prototype.Jv=function(a){--a.Eb;0>a.Eb&&(a.Eb=y.zc.length-1);a.ph(y.zc[a.Eb].pattern,!1)};d.prototype.Sv=function(a){a.Cr();a.W&&(a.W=0);a.nf.current[0]=!1;a.h.Kg=!0};d.prototype.Nv=function(a){a.im=!0};d.prototype.Xv=function(a){a.Qe(h.yh,a)};d.prototype.Av=function(a){a.Hf(!0,!0);a.ma.current===h.hb&&(a.Ud=!0)};d.prototype.Zu=function(a,b,c){b&&(c.a.nc=a[0]);
return[c.a.nc]};d.prototype.$u=function(a,b,c){b&&(c.oe=a[0]);return[c.oe]};d.prototype.On=function(a,b,c){b&&(c.pk=a[0]);return[c.pk]};d.prototype.Nr=function(a,b,c){b&&(c.fk=a[0],c.fk&&c.h.notification.T("Now click on a cell",180,!0));return[c.fk]};d.prototype.Yu=function(a,b,c){b&&(c.kb=a[0],c.kb&&c.ma.current===h.hb&&c.Hf(!0,!0));return[c.kb]};d.prototype.Vv=function(a,b,c){b&&-1!==c.la&&(c.Va=!a[0],c.Kb?(c.jc=c.Va,c.h.notification.T("Loop and Waypoints "+(c.Va?"Off":"On"),40,!0)):c.ac?(c.bc=
c.Va,c.h.notification.T("Loop and Track "+(c.Va?"Off":"On"),40,!0),c.hp(c.bc)):c.h.notification.T("Loop "+(c.Va?"Off":"On"),40,!0));return[c.Va]};d.prototype.Wv=function(a,b,c){b&&(c.ac?(c.bc=!a[0],c.hp(c.bc),-1!==c.la?(c.Va=c.bc,c.h.notification.T("Loop and Track "+(c.Va?"Off":"On"),40,!0)):c.h.notification.T("Track "+(c.bc?"Off":"On"),40,!0)):c.Kb&&(c.jc=!a[0],-1!==c.la?(c.Va=c.jc,c.h.notification.T("Loop and Waypoints "+(c.Va?"Off":"On"),40,!0)):c.h.notification.T("Waypoints "+(c.jc?"Off":"On"),
40,!0)));return c.ac?[c.bc]:[c.jc]};d.prototype.tm=function(a,b,c){b&&(c.W=a[0],c.W?c.Ib.length&&c.Qe(h.hr,c):(c.Qe(h.yh,c),c.W=0));return[c.W]};d.prototype.Qo=function(a,b,c){b&&(c.Re=a[0],c.Re&&(c.a.Aa?0===c.a.u?(c.a.za=c.a.vo.za,c.a.yb=c.a.vo.yb,c.a.mc=c.a.vo.mc):-1===c.a.g&&(--c.a.u,c.a.hj(!0,c.qf,c.Ic)):(c.a.za=0,c.a.yb=0,c.a.mc=0)));c.h.Bg(!0);return[c.Re]};d.prototype.zo=function(a,b){1<a.Ua&&(a.Ua-=b,1>a.Ua&&(a.Ua=1))};d.prototype.yo=function(a,b){a.Ua<a.Ib.length-a.Wb+1&&(a.Ua+=b,a.Ua>a.Ib.length-
a.Wb+1&&(a.Ua=a.Ib.length-a.Wb+1))};d.prototype.Bo=function(a,b){1<a.W&&(a.W-=b,1>a.W&&(a.W=1))};d.prototype.Ao=function(a,b){a.W<a.ck-a.Wb&&(a.W+=b,a.W>a.ck-a.Wb&&(a.W=a.ck-a.Wb))};d.prototype.Fy=function(a){for(var b=a.R.length-1,c=!1;0<=b&&!c;)a.W<=a.R[b][0]?--b:c=!0;c&&(a.W=a.R[b][0])};d.prototype.ny=function(a){for(var b=0,c=!1;b<a.R.length&&!c;)a.W>=a.R[b][0]?b+=1:c=!0;c&&(a.W=a.R[b][0])};d.prototype.am=function(a){var b=this.da+(0<this.a.g?this.a.g:0);this.qf?this.h.notification.T("Step back disabled",
40,!0):this.h.Yq&&(this.h.Yq=!1,0>a&&(a=0),this.elapsedTime=this.Yc[a],this.sg=this.Fa=a,-1!==this.ah&&a>this.ah+b?this.a.u=a:this.a.am(a,this.Re,this.Ic),this.v.Nz(this.elapsedTime),this.Ud=!0,a!==this.a.u&&(this.Oi=!0,this.zp=a,this.a.wo(!1),this.h.notification.T("Computing previous generations",1E4,!0),this.yp=!0))};d.prototype.jq=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.kA="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";
a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};d.prototype.Qm=function(a,b,c){var d="textarea";a.nm=b;a.Ig=0;a.vj=b.length;if(c){var e=performance.now()-a.Pm;e<h.Gw&&a.vj<h.Ew?c=!1:a.Hn||(d="div")}a.uj=document.createElement("div");a.uj.contentEditable=!0;a.jq(a.uj);a.ti=document.createElement(d);a.jq(a.ti);a.ti.contentEditable=!0;a.uj.appendChild(a.ti);document.body.appendChild(a.uj);c?(a.Ap=h.Hw,a.h.notification.T("Copying...",1E4,!0),a.Yk=!0,a.s.locked=!0):(a.ti.innerHTML=b,
a.Ps(a,c))};d.prototype.Ps=function(a,b){a.Hn?a.ti.focus():a.uj.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(q){}document.body.removeChild(a.uj);a.nm="";a.lf.canvas.focus();a.h.notification.T("Copy complete",120,!0);b&&(a.Yk=!1,a.s.locked=!1);a.Pm=-1};d.prototype.xf=function(a){var b=ColourManager.hd,c=Object.keys(b),d=a.red,e=a.green;a=a.blue;for(var f="",m=!1,g=null,h=0;h<c.length&&!m;)g=b[c[h]],g[1]===d&&g[2]===e&&g[3]===a?(m=!0,h=c.length):h+=1;m?f=g[0]:f=d+
" "+e+" "+a;return f};d.prototype.Kj=function(a,b){return a.red===b.red&&a.green===b.green&&a.blue===b.blue};d.prototype.Rs=function(a,b){var c="#C "+Keywords.pj+" ",d=String(-(a.a.width/2-a.a.ca-a.a.Hb|0)),e=String(-(a.a.height/2-a.a.$-a.a.Cb|0)),f=a.a.zoom,m=a.a.angle|0,g=a.a.Ia[a.a.de];0!==a.a.u&&(c+=Keywords.lm+a.a.u+" ");c+=Keywords.Wc+" "+d+" "+Keywords.Xc+" "+e+" ";c+=Keywords.kc+" "+(f===(f|0)?String(f):String(f.toFixed(2)))+" ";c+=Keywords.Gh+" "+m+" ";c+=Keywords.mk+"\n";if(b){c+="#C "+
Keywords.pj+" ";if(a.Bf){if(2<a.a.g){if(c+=Keywords.na+" "+Keywords.Jo+" "+a.xf(g.Rg),c+=" "+Keywords.na+" "+Keywords.Io+" "+a.xf(g.Ce),a.Kj(g.zb.B,g.Rg)||(c+=" "+Keywords.na+" "+Keywords.Lo+" "+a.xf(g.zb.B)),a.Kj(g.zb.w,g.zb.B)||(c+=" "+Keywords.na+" "+Keywords.Ko+" "+a.xf(g.zb.w)),g.Qj||(c+=" "+Keywords.na+" "+Keywords.Vu+" "+a.xf(g.Pa.B)),g.Qj||!a.Kj(g.Pa.w,g.Pa.B))c+=" "+Keywords.na+" "+Keywords.Uu+" "+a.xf(g.Pa.w)}else c+=Keywords.na+" "+Keywords.Jo+" "+a.xf(g.Ma),c+=" "+Keywords.na+" "+Keywords.Io+
" "+a.xf(g.xa.w),a.Kj(g.xa.w,g.xa.B)||(c+=" "+Keywords.na+" "+Keywords.Gr+" "+a.xf(g.xa.B)),a.Kj(g.va.B,g.Ma)||(c+=" "+Keywords.na+" "+Keywords.Lo+" "+a.xf(g.va.B)),a.Kj(g.va.w,g.va.B)||(c+=" "+Keywords.na+" "+Keywords.Ko+" "+a.xf(g.va.w));c+=" "+Keywords.mk+"\n#C "+Keywords.pj+" "}c+=Keywords.sh+" "+g.name+" ";a.da!==a.Sn&&(c+=Keywords.Fn+" "+a.da+" ");c+=Keywords.yk+" "+a.C+" ";c+=Keywords.Wj+" "+a.A+" ";c+=Keywords.mk+"\n"}a.Qm(a,c,!1)};d.prototype.Bp=function(a,b){a.Pm=performance.now();r.La?
a.Qm(a,y.zc[a.Eb].pattern,b):a.Qm(a,g(a.element),b)};d.prototype.Qs=function(a,b){a.Pm=performance.now();a.Qm(a,a.a.ow(a,a.a,b),!0)};d.prototype.Gy=function(a,b,c){var d=!0;if(a.Ab)a.eo||85!==b||(a.Ab=!a.Ab,a.s.l=a.Ab,a.h.Ab=a.Ab);else{if(c.ctrlKey&&67!==b||c.metaKey)c.ctrlKey&&37<=b&&40>=b?37===b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35):c.ctrlKey&&82===b||(b=-1);if(c.altKey&&!c.ctrlKey){if(49<=b&&57>=b)b-=49,0<=b&&b<a.v.nb.length&&(a.ee=b,a.jr(a,a.ee));else switch(b){case 67:a.Pb||(a.Jc.current=
a.Dj([a.kn,""],!0,a),a.h.notification.T(a.Hr(a.a.de)+" Theme",40,!0));break;case 191:a.bj.current=a.mv([!a.a.ue],!0,a),a.h.notification.T("Hex display uses "+(a.a.ue?"Hexagons":"Squares"),40,!0)}b=-2}switch(b){case 191:case 111:c.shiftKey?a.a.Ql!==a.a.S&&(a.$i.current=a.Yr([a.a.Ql],!0,a)):a.$i.current=a.Yr([!a.a.S],!0,a);a.h.notification.T("Hex Display "+(a.a.S?"On":"Off"),40,!0);break;case 66:a.Tb||(a.ma.current===h.hb?0<a.a.u&&a.am(a.a.u-1):a.ma.current=a.Id(h.hb,!0,a));break;case 13:a.Tb||(a.ma.current=
a.ma.current===h.ai?a.Id(h.hb,!0,a):a.Id(h.ai,!0,a));break;case 9:a.Tb||(a.yc?a.ma.current=a.Id(h.hb,!0,a):c.shiftKey?0<a.a.u&&a.am(a.a.u-a.fa):a.Yf=!0);break;case 32:a.Tb||(a.yc?a.ma.current=a.Id(h.hb,!0,a):(a.Yf=!0,a.pr=!0));break;case 87:a.Kb?(a.jc=!a.jc,-1!==a.la?(a.Va=a.jc,a.h.notification.T("Loop and Waypoints "+(a.jc?"Off":"On"),40,!0)):a.h.notification.T("Waypoints "+(a.jc?"Off":"On"),40,!0),a.jc?a.h.notification.clear(!1,!1):a.v.rp(a.elapsedTime)||(a.v.xx(a.a.u),a.elapsedTime=a.v.et(a.a.u),
a.elapsedTime=a.v.Ts(a.a.width/2-a.a.ca,a.a.height/2-a.a.$,a.a.zoom,a.a.angle,a.a.J,a.a.qc*h.Lh,a.a.de,a.Bd,a.fa,a.a.u,a.elapsedTime),a.Ud=!1)):a.ac?(a.bc=!a.bc,-1!==a.la?(a.Va=a.bc,a.h.notification.T("Loop and Track "+(a.bc?"Off":"On"),40,!0)):a.h.notification.T("Track "+(a.bc?"Off":"On"),40,!0),a.hp(a.bc)):-1!==a.la&&(a.Va=!a.Va,a.h.notification.T("Loop "+(a.Va?"Off":"On"),40,!0));break;case 69:!a.Yb.locked&&a.fa<h.Vd&&(c.shiftKey?a.fa=h.Vd:a.fa+=1,a.Yb.current=a.yi([a.fa,a.fa],!0,a));break;case 68:!a.Yb.locked&&
a.fa>h.fj&&(c.shiftKey?a.fa=h.fj:--a.fa,a.Yb.current=a.yi([a.fa,a.fa],!0,a));break;case 90:c.shiftKey?(b=y.Oz(),0===b?a.h.notification.T("No LifeViewers playing",100,!0):1<b&&a.h.notification.T("Paused all LifeViewers",100,!0)):(b=y.Pz(a),0===b?a.h.notification.T("No other LifeViewers playing",100,!0):1<b?a.h.notification.T("Paused "+b+" other LifeViewers",100,!0):a.h.notification.T("Paused "+b+" other LifeViewer",100,!0));break;case 88:c.shiftKey?(a.hh.current=a.qv([!a.a.Of],!0,a),0<a.a.Sd&&(a.h.notification.T("Major Grid Lines "+
(a.a.Of?"On":"Off"),40,!0),a.Ms())):(a.a.nc=!a.a.nc,a.Rh.current=a.Zu([a.a.nc],!0,a),a.h.notification.T("Grid Lines "+(a.a.nc?"On":"Off"),40,!0));break;case 89:a.Ic?a.h.notification.T("Graph Disabled",40,!0):c.shiftKey?(a.oe=!a.oe,a.$j.current=a.$u([a.oe],!0,a),a.h.notification.T("Graph "+(a.oe?"Lines":"Points"),40,!0)):(a.ab=!a.ab,a.Qh.current=a.Xr([a.ab],!0,a),a.h.notification.T("Population Graph "+(a.ab?"On":"Off"),40,!0));break;case 75:c.shiftKey?(a.Rs(a,!0),a.h.notification.T("Copied view to clipboard",
180,!0)):(a.Rs(a,!1),a.h.notification.T("Copied position to clipboard",180,!0));break;case 80:c.shiftKey?-1!==a.tA&&(a.Va=!a.Va,a.Zh.current=[a.Va],a.h.notification.T("Loop "+(a.Va?"Off":"On"),40,!0)):a.Pb||a.Fb.locked||(a.Fb.current=.99>=a.Fb.current[0]?a.wh([a.Fb.current[0]+.01,a.Fb.current[1]],!0,a):a.wh([1,a.Fb.current[1]],!0,a));break;case 76:c.shiftKey?0<a.v.Ll()&&(a.Vh.current=a.pv([!a.tf],!0,a),a.h.notification.T("Annotations "+(a.tf?"On":"Off"),40,!0)):a.Pb||a.Fb.locked||(a.Fb.current=.01<=
a.Fb.current[0]?a.wh([a.Fb.current[0]-.01,a.Fb.current[1]],!0,a):a.wh([0,a.Fb.current[1]],!0,a));break;case 81:!a.Pb&&!a.rc.locked&&a.rc.current[0]<h.Tn&&(a.rc.current=a.zm([a.a.J+1,a.rc.current[1]],!0,a));break;case 65:!a.Pb&&!a.rc.locked&&a.rc.current[0]>h.$n&&(a.rc.current=a.zm([a.a.J-1,a.rc.current[1]],!0,a));break;case 82:c.shiftKey?y.Yy():a.ma.current=a.Id(h.Dq,!0,a);break;case 83:c.shiftKey?a.a.pc&&(a.Fg=!a.Fg,a.h.notification.T("AutoFit State 1 Mode "+(a.Fg?"On":"Off"),40,!0)):(a.sk.current=
a.rv([!a.fg],!0,a),a.h.notification.T("Stars "+(a.fg?"On":"Off"),40,!0));break;case 78:a.th&&(a.ta?a.Br():(a.Cr(),a.W&&(a.W=0)));break;case 86:c.shiftKey?(a.Hu(a),a.h.notification.T("Saved camera position",100,!0)):a.dc||(a.ez(a),a.h.notification.T("Restored camera position",100,!0),a.ma.current===h.hb&&(a.Ud=!0));break;case 221:a.dc||(c.shiftKey?a.Jj(a.qb.current[0],Math.log(a.a.zoom*a.a.fc*2/h.Ra)/Math.log(h.tb/h.Ra)-a.qb.current[0]):a.Jj(a.qb.current[0],.01));break;case 219:a.dc||(c.shiftKey?a.Jj(a.qb.current[0],
Math.log(a.a.zoom*a.a.fc/2/h.Ra)/Math.log(h.tb/h.Ra)-a.qb.current[0]):a.Jj(a.qb.current[0],-.01));break;case 53:case 101:a.xb.locked||(a.a.angle=0,a.xb.current=[a.a.angle,a.a.angle]);break;case 49:case 97:c.shiftKey?(a.zf(a,a.a.zoom*a.a.fc,!0),a.h.notification.T("Integer Zoom",40,!0)):a.zf(a,1,!1);break;case 50:case 98:c.shiftKey?a.zf(a,.5,!1):a.zf(a,2,!1);break;case 51:case 99:a.zf(a,32,!1);break;case 52:case 100:c.shiftKey?a.zf(a,.25,!1):a.zf(a,4,!1);break;case 54:case 102:c.shiftKey?a.zf(a,.0625,
!1):a.zf(a,16,!1);break;case 55:a.Ic?a.h.notification.T("Graph Disabled",40,!0):(0<a.Qb&&(a.Qb-=.05,0>a.Qb&&(a.Qb=0)),this.Lb.current=this.Hi([a.Qb,a.Qb],!1,a));break;case 56:case 104:c.shiftKey?a.zf(a,.125,!1):a.zf(a,8,!1);break;case 57:a.Ic?a.h.notification.T("Graph Disabled",40,!0):(1>a.Qb&&(a.Qb+=.05,1<a.Qb&&(a.Qb=1)),this.Lb.current=this.Hi([a.Qb,a.Qb],!1,a));break;case 48:case 96:a.fa=1;a.Yb.current=a.yi([a.fa,a.fa],!0,a);a.Ka.current=a.Tg([1,a.Ka.current[1]],!0,a);break;case 189:case 109:a.Tb||
(a.fa>h.fj?(c.shiftKey?a.fa=h.fj:--a.fa,a.Yb.current=a.yi([a.fa,a.fa],!0,a)):a.Ka&&(a.Ka.current=.01<=a.Ka.current[0]&&!c.shiftKey?a.Tg([a.Ka.current[0]-.01,a.Ka.current[1]],!0,a):a.Tg([0,a.Ka.current[1]],!0,a)));break;case 187:case 107:!a.Tb&&a.Ka&&(.99>=a.Ka.current[0]&&!c.shiftKey?a.Ka.current=a.Tg([a.Ka.current[0]+.01,a.Ka.current[1]],!0,a):.99>=a.Ka.current[0]?a.Ka.current=a.Tg([1,a.Ka.current[1]],!0,a):(a.Ka.current=a.Tg([1,a.Ka.current[1]],!0,a),a.fa<h.Vd&&(c.shiftKey?a.fa=h.Vd:a.fa+=1,a.Yb.current=
a.yi([a.fa,a.fa],!0,a))));break;case 188:a.xb.locked||(b=a.xb.current[0],b=c.shiftKey?b-90:b-1,0>b&&(b+=360),a.xb.current=a.ym([b,b],!0,a));break;case 190:a.xb.locked||(b=a.xb.current[0],b=c.shiftKey?b+90:b+1,360<=b&&(b-=360),a.xb.current=a.ym([b,b],!0,a));break;case 74:a.v.nb.length?a.dc||(c.shiftKey?(--a.ee,0>a.ee&&(a.ee=a.v.nb.length-1),a.jr(a,a.ee)):(a.ee+=1,a.ee>=a.v.nb.length&&(a.ee=0),a.jr(a,a.ee))):a.h.notification.T("No POIs defined",80,!0);break;case 84:c.shiftKey?a.h.li=!a.h.li:a.Uj.current=
a.xk([!a.h.mi],!0,a);break;case 85:a.eo||(a.Ab=!a.Ab,a.s.l=a.Ab,a.h.Ab=a.Ab);break;case 71:a.Tb||(c.shiftKey?a.Ph&&(a.vn=!a.vn):(a.Qo([!a.Re],!0,a),a.Qd&&(a.Qd.current=[a.Re],a.h.Kg=!0)));break;case 70:c.shiftKey?a.ig.locked||(a.kb=!a.kb,a.ig.current=a.Yu([a.kb],!0,a),a.h.notification.T("AutoFit "+(a.kb?"On":"Off"),40,!0)):a.Xi.locked||(a.Hf(!0,!0),a.h.notification.T("Fit Zoom",80,!0),a.ma.current===h.hb&&(a.Ud=!0));break;case 79:a.dm=c.shiftKey?2:1;break;case 37:c.shiftKey?a.ci(a.a.zoom,a.a.zoom):
a.ci(a.a.zoom,0);break;case 38:a.W?a.Bo(a,1):a.Ua?a.zo(a,1):c.shiftKey?a.ci(-a.a.zoom,a.a.zoom):a.ci(0,a.a.zoom);break;case 39:c.shiftKey?a.ci(-a.a.zoom,-a.a.zoom):a.ci(-a.a.zoom,0);break;case 40:a.W?a.Ao(a,1):a.Ua?a.yo(a,1):c.shiftKey?a.ci(a.a.zoom,-a.a.zoom):a.ci(0,-a.a.zoom);break;case 77:a.nf&&!a.nf.l&&(a.nf.current[0]=!a.nf.current[0],a.h.Kg=!0);break;case 67:c.ctrlKey?a.ei||(c.shiftKey?a.Bp(a,!0):a.Tb?a.Bp(a,!0):c.altKey?a.Qs(a,!0):a.Qs(a,!1)):a.Pb||!a.Jc||a.Jc.locked||(c.shiftKey?(b=a.Jc.current[0]+
.5|0,--b,0>b&&(a.Bf?b=a.a.Wd:b=a.a.Wd-1)):(b=a.Jc.current[0]+.5|0,b+=1,a.Bf?b>=a.a.Wd+1&&(b=0):b>=a.a.Wd&&(b=0)),a.Jc.current=a.Dj([b,""],!0,a),a.h.notification.T(a.Hr(a.a.de)+" Theme",40,!0));break;case 72:c.shiftKey?(a.Yj.current=a.nv([!a.ff],!0,a),a.h.notification.T("AutoFit History Mode "+(a.ff?"On":"Off"),40,!0)):(a.Ib.length?a.W=a.W?0:1:a.W?a.W=0:a.ta||(a.W=1),a.Sh.current=a.tm([a.W],!0,a),a.h.Kg=!0);break;case 73:c.shiftKey?a.Zj.current=a.ov([!a.Ca],!0,a):(a.W?a.Th===h.wl?a.W=0:a.Qe(h.wl,a):
a.ta||a.Qe(h.wl,a),a.Sh.current=a.tm([a.W],!0,a),a.h.Kg=!0);break;case 27:a.ge?a.Ib.length?(a.Ib=[],a.Ua=0):f():a.W?a.W=0:a.Ib.length?(a.Ib=[],a.Ua=0):a.yc&&(a.ma.current=a.Id(h.hb,!0,a));a.Sh.current=a.tm([a.W],!0,a);a.h.Kg=!0;break;case 33:a.W?c.shiftKey?a.Fy(a):a.Bo(a,a.Wb):a.Ua?a.zo(a,a.Wb):r.La&&(--a.Eb,0>a.Eb&&(a.Eb=y.zc.length-1),a.ph(y.zc[a.Eb].pattern,!1));break;case 34:a.W?c.shiftKey?a.ny(a):a.Ao(a,a.Wb):a.Ua?a.yo(a,a.Wb):r.La&&(a.Eb+=1,a.Eb>=y.zc.length&&(a.Eb=0),a.ph(y.zc[a.Eb].pattern,
!1));break;case 36:a.W?a.W=1:a.Ua?a.Ua=1:r.La&&(a.Eb=0,a.ph(y.zc[a.Eb].pattern,!1));break;case 35:a.W?a.W=a.ck-a.Wb:a.Ua?a.Ua=a.Ib.length-a.Wb:r.La&&(a.Eb=y.zc.length-1,a.ph(y.zc[a.Eb].pattern,!1));break;case 112:c.shiftKey?(a.Eo=!a.Eo,a.h.notification.T("Smart Drawing "+(a.Eo?"On":"Off"),40,!0)):a.Tb?a.h.notification.T("Drawing not available",40,!0):(a.fe=!a.fe,a.gj.current=a.Zr(a.fe?h.$t:h.Il,!0,a),a.h.notification.T((a.fe?"Draw":"Pan")+" Mode",40,!0));break;default:-1===b&&(d=!1)}}return d};d.prototype.Hy=
function(a,b,c){var d=!0;if(c.ctrlKey&&82===b)return!0;switch(b){case 13:a.Ig===a.vj&&a.Ps(a,!0);break;case 84:a.xk([!a.h.mi],!0,a);break;default:d=!1}return d};d.prototype.Iy=function(a,b,c){var d=!0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 84:a.xk([!a.h.mi],!0,a);break;default:d=!1}return d};d.prototype.Fv=function(a,b){var c=b.charCode||b.keyCode;if(a.Oi?a.Iy(a,c,b):a.Yk?a.Hy(a,c,b):a.Gy(a,c,b))a.h.Bg(!0),b.preventDefault()};d.prototype.yv=function(){this.A<h.kh?(this.Df.setPosition(Menu.Uc,
10,50),this.Ef.setPosition(Menu.Bb,0,50),this.bf.setPosition(Menu.ib,-160,50),this.Gf.setPosition(Menu.Uc,10,100),this.Ze.setPosition(Menu.Bb,0,100),this.Ye.setPosition(Menu.ib,-160,100),0<this.v.Ll()?(this.Ae.setPosition(Menu.Uc,10,150),this.xh.setPosition(Menu.ib,-160,150)):this.Ae.setPosition(Menu.Bb,0,150)):(this.Df.setPosition(Menu.Bb,0,40),this.Ef.setPosition(Menu.Bb,0,90),this.bf.setPosition(Menu.Bb,0,140),this.Gf.setPosition(Menu.Bb,0,190),this.Ze.setPosition(Menu.Bb,0,240),this.Ye.setPosition(Menu.Bb,
0,290),this.Ae.setPosition(Menu.Bb,0,340),this.xh.setPosition(Menu.Bb,0,390))};d.prototype.Pv=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",e="grey",f="white";var g=this.f[h.hl];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.ia.so=!0,this.ia.ar=this.a.Uf?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255):(this.ia.so=!0,g=16777215,this.ia.ar=this.a.Uf?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);g=this.f[h.fl];
-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.Bj=g;g=this.f[h.il];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.kl];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.jl];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.gl];-1!==g&&(f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.h.em(a,b,c,d,e,f)};d.prototype.Vo=function(){this.s=this.h.Ow(this.sw,this.$r,this);this.s.Kp=this.ww;this.s.es=this.wx;this.Pf=this.s.wb(Menu.Uc,
0,40,16,20,"X");this.Pf.font=h.re;this.Pf.om=Menu.Rc;this.Qf=this.s.wb(Menu.Uc,70,40,16,20,"Y");this.Qf.font=h.re;this.Qf.om=Menu.Rc;this.If=this.s.wb(Menu.Uc,140,40,16,20,"A");this.If.font=h.re;this.If.om=Menu.Rc;this.dd=this.s.wb(Menu.Uc,16,40,54,20,"");this.dd.font=h.re;this.dd.textAlign=Menu.right;this.dd.D="camera X position";this.ed=this.s.wb(Menu.Uc,86,40,54,20,"");this.ed.font=h.re;this.ed.textAlign=Menu.right;this.ed.D="camera Y position";this.Zc=this.s.wb(Menu.Uc,156,40,40,20,"");this.Zc.font=
h.re;this.Zc.textAlign=Menu.right;this.Zc.D="camera angle";this.Fk=this.s.wb(Menu.Uc,196,40,4,20,"");this.Ai=this.s.wb(Menu.ib,-280,40,20,20,"E");this.Ai.font=h.re;this.Bh=this.s.wb(Menu.ib,-210,40,20,20,"S");this.Bh.font=h.re;this.Ch=this.s.wb(Menu.ib,-140,40,20,20,"W");this.Ch.font=h.re;this.Bi=this.s.wb(Menu.ib,-70,40,20,20,"N");this.Bi.font=h.re;this.$c=this.s.wb(Menu.ib,-260,40,50,20,"");this.$c.font=h.re;this.$c.textAlign=Menu.right;this.$c.D="bounding box east edge velocity";this.bd=this.s.wb(Menu.ib,
-190,40,50,20,"");this.bd.font=h.re;this.bd.textAlign=Menu.right;this.bd.D="bounding box south edge velocity";this.cd=this.s.wb(Menu.ib,-120,40,50,20,"");this.cd.font=h.re;this.cd.textAlign=Menu.right;this.cd.D="bounding box west edge velocity";this.ad=this.s.wb(Menu.ib,-50,40,50,20,"");this.ad.font=h.re;this.ad.textAlign=Menu.right;this.ad.D="bounding box north edge velocity";this.ye=this.s.rb(null,Menu.ib,-170,0,40,20,["START"],[!1],Menu.La);this.ye.font=h.Do;this.ye.D=["autostart indicator"];this.Kd=
this.s.rb(null,Menu.ib,-170,20,40,20,["STOP"],[!1],Menu.La);this.Kd.font=h.Do;this.Kd.D=["stop indicator"];this.Ga=this.s.rb(this.Wv,Menu.ib,-130,0,40,20,["WAYPT"],[!1],Menu.La);this.Ga.font=h.Do;this.Ga.D=["toggle waypoint mode"];this.Zh=this.s.rb(this.Vv,Menu.ib,-130,20,40,20,["LOOP"],[!1],Menu.La);this.Zh.font=h.Do;this.Zh.D=["toggle loop mode"];this.gj=this.s.rb(this.Zr,Menu.Uc,90,0,80,40,["",""],h.Il,Menu.qk);this.gj.icon=[this.ia.icon("draw"),this.ia.icon("pan")];this.gj.D=["draw","pan"];this.Ya=
this.s.rb(this.Vw,Menu.ib,-80,100,80,60,["1","2"],0,Menu.qk);this.Ya.orientation=Menu.vertical;this.Ya.D=["",""];this.Ya.font="14px Arial";this.Sh=this.s.rb(this.tm,Menu.ib,-40,0,40,40,["Help"],[!1],Menu.La);this.Sh.D=["toggle help display"];this.Sh.font="16px Arial";this.Gi=this.s.zd(this.Xv,Menu.ib,-40,50,40,["^"]);this.Gi.D=["show help topics"];this.Dh=this.s.zd(this.Nv,Menu.ib,-40,100,40,["<"]);this.Dh.D=["show help sections"];this.Df=this.s.zd(this.Gv,Menu.Bb,0,50,150,["Keys"]);this.Df.D=["show keyboard shortcuts"];
this.Ef=this.s.zd(this.Mv,Menu.Bb,0,100,150,["Scripts"]);this.Ef.D=["show script commands"];this.bf=this.s.zd(this.Ev,Menu.Bb,0,150,150,["Info"]);this.bf.D=["show pattern and engine information"];this.Gf=this.s.zd(this.Uv,Menu.Bb,0,200,150,["Themes"]);this.Gf.D=["show colour Themes"];this.Ze=this.s.zd(this.gs,Menu.Bb,0,250,150,["Colours"]);this.Ze.D=["show colour names"];this.Ye=this.s.zd(this.$q,Menu.Bb,0,300,150,["Aliases"]);this.Ye.D=["show rule aliases"];this.Ae=this.s.zd(this.Hv,Menu.Bb,0,350,
150,["Memory"]);this.Ae.D=["show memory usage"];this.xh=this.s.zd(this.fr,Menu.Bb,0,350,150,["Annotations"]);this.xh.D=["show annotations"];this.ig=this.s.rb(this.Yu,Menu.Uc,0,0,40,40,["Auto"],[!1],Menu.La);this.ig.icon=[this.ia.icon("autofit")];this.ig.D=["toggle autofit"];this.ig.font="16px Arial";this.Xi=this.s.zd(this.Av,Menu.Uc,45,0,40,"");this.Xi.icon=this.ia.icon("fit");this.Xi.D="fit pattern to display";this.Rh=this.s.rb(this.Zu,Menu.ib,-85,0,40,40,["Grid"],[!1],Menu.La);this.Rh.icon=[this.ia.icon("grid")];
this.Rh.D=["toggle grid lines"];this.Rh.font="16px Arial";this.pe=this.s.ew();this.pe.locked=!0;this.xe=this.s.wb(Menu.Cg,0,-100,70,30,"Time");this.xe.textAlign=Menu.left;this.xe.font=h.Gg;this.xe.D="elapsed time";this.Vi=this.s.wb(Menu.Cg,70,-100,70,30,"");this.Vi.textAlign=Menu.right;this.Vi.font=h.Gg;this.Vi.D="elapsed time";this.uc=this.s.wb(Menu.Cg,0,-70,140,30,"");this.uc.textAlign=Menu.left;this.uc.font=h.Gg;this.uc.D="cell state at cursor position";this.Qd=this.s.rb(this.Qo,Menu.Cg,0,-40,
100,40,[""],[this.Re],Menu.La);this.Qd.D=["toggle generation statistics"];this.tc=this.s.wb(Menu.Cg,0,-40,this.C-40,40,"");this.tc.textAlign=Menu.left;this.tc.l=!0;this.Be=this.s.wb(Menu.Yd,-140,-130,70,30,"Alive");this.Be.textAlign=Menu.left;this.Be.font=h.Gg;this.Be.D="current population";this.gi=this.s.wb(Menu.Yd,-70,-130,70,30,"");this.gi.textAlign=Menu.right;this.gi.font=h.Gg;this.gi.D="alive";this.vb=this.s.wb(Menu.Yd,-140,-100,70,30,"Births");this.vb.textAlign=Menu.left;this.vb.font=h.Gg;this.vb.D=
"cells born this generation";this.jg=this.s.wb(Menu.Yd,-70,-100,70,30,"");this.jg.textAlign=Menu.right;this.jg.font=h.Gg;this.jg.D="births";this.ze=this.s.wb(Menu.Yd,-140,-70,70,30,"Deaths");this.ze.textAlign=Menu.left;this.ze.font=h.Gg;this.ze.D="cells died this generation";this.Kh=this.s.wb(Menu.Yd,-70,-70,70,30,"");this.Kh.textAlign=Menu.right;this.Kh.font=h.Gg;this.Kh.D="deaths";this.Ec=this.s.wb(Menu.Cg,0,-130,140,30,this.vg);this.Ec.font=h.Gg;this.qb=this.s.Vg(this.Ug,Menu.Bb,0,0,h.Uo,40,0,
1,.1,"Zoom ","",1);this.qb.D="camera zoom";this.rc=this.s.Vg(this.zm,Menu.tv,30,0,40,292,h.Tn,h.$n,1,"Layers ","",0);this.rc.D="number of layers";this.Fb=this.s.Vg(this.wh,Menu.dt,-70,0,40,292,1,0,.1,"Depth ","",2);this.Fb.D="depth between layers";this.xb=this.s.Vg(this.ym,Menu.Bb,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.xb.D="camera angle";this.Ag=this.s.zd(this.Sv,Menu.Yd,-40,-90,40,"");this.Ag.icon=this.ia.icon("shrink");this.Ag.D="shrink to thumbnail";this.$i=this.s.rb(this.Yr,Menu.Uc,80,
100,80,40,["Hex"],[this.a.S],Menu.La);this.$i.D=["toggle hex display"];this.bj=this.s.rb(this.mv,Menu.Bb,0,100,80,40,["Hexagon"],[this.a.ue],Menu.La);this.bj.D=["toggle hexagonal cells"];this.bj.font="18px Arial";this.Vh=this.s.rb(this.pv,Menu.Bb,0,220,80,40,["Labels"],[this.tf],Menu.La);this.Vh.D=["toggle labels"];this.Qh=this.s.rb(this.Xr,Menu.ib,-160,100,80,40,["Graph"],[this.ab],Menu.La);this.Qh.D=["toggle graph display"];this.Zj=this.s.rb(this.ov,Menu.Bb,0,160,80,40,["Info"],[this.Ca],Menu.La);
this.Zj.D=["toggle InfoBar"];this.Yj=this.s.rb(this.nv,Menu.Uc,80,160,80,40,["HistFit"],[this.ff],Menu.La);this.Yj.D=["toggle AutoFit History"];this.hh=this.s.rb(this.qv,Menu.ib,-160,160,80,40,["Major"],[this.a.Of],Menu.La);this.hh.D=["toggle major grid lines"];this.sk=this.s.rb(this.rv,Menu.Yd,-160,-140,80,40,["Stars"],[this.fg],Menu.La);this.sk.D=["toggle stars display"];this.Jb=this.s.zd(this.Vr,Menu.Yd,-40,-90,40,"X");this.Jb.D="close window";this.Uj=this.s.rb(this.xk,Menu.Cg,80,-140,80,40,["Timing"],
[this.h.mi],Menu.La);this.Uj.D=["toggle timing display"];this.Sg=this.s.rb(this.Xk,Menu.qr,0,-140,80,40,["Details"],[this.h.li],Menu.La);this.Sg.D=["toggle timing details"];this.zg=this.s.zd(this.Jv,Menu.Cg,80,-200,80,"Prev");this.zg.D="go to previous universe";this.yg=this.s.zd(this.Iv,Menu.Yd,-160,-200,80,"Next");this.yg.D="go to next universe";this.Lb=this.s.Vg(this.Hi,Menu.Bb,0,0,132,40,0,1,this.Qb,"Opac ","%",0);this.Lb.D="graph opacity";this.$j=this.s.rb(this.$u,Menu.ib,-170,0,40,40,[""],[!1],
Menu.La);this.$j.icon=[this.ia.icon("lines")];this.$j.D=["toggle graph lines/points"];this.Ek=this.s.zd(this.Dv,Menu.ib,-130,0,40,"X");this.Ek.D="close graph";this.gk=this.s.rb(this.Nr,Menu.Uc,0,40,40,40,[""],[this.fk],Menu.La);this.gk.icon=[this.ia.icon("pick")];this.gk.D=["pick state"];this.Hg=this.s.rb(this.On,Menu.Uc,45,40,40,40,[""],[this.pk],Menu.La);this.Hg.icon=[this.ia.icon("states")];this.Hg.D=["toggle states"];this.nf=this.s.rb(null,Menu.Yd,-40,-40,40,40,[""],[!1],Menu.La);this.nf.icon=
[this.ia.icon("menu")];this.nf.D=["toggle navigation menu"];this.Jc=this.s.Vg(this.Dj,Menu.qr,0,-90,390,40,0,this.a.Wd-1,1,""," Theme",-1);this.Jc.D="colour theme";this.Ka=this.s.Vg(this.Tg,Menu.Yd,-375,-40,80,40,0,1,0,"","",-1);this.Ka.D="steps per second";this.Yb=this.s.Vg(this.yi,Menu.Yd,-290,-40,80,40,h.fj,h.Vd,1,"x","",0);this.Yb.D="generations per step";this.ma=this.s.rb(this.Id,Menu.Yd,-205,-40,160,40,["","","",""],h.hb,Menu.qk);this.ma.icon=[this.ia.icon("tostart"),this.ia.icon("stepback"),
this.ia.icon("pause"),this.ia.icon("play")];this.ma.D=["reset","previous generation","pause","play"];this.Xb=this.s.rb(this.bs,Menu.ib,-280,40,280,20,"0123456".split(""),this.He,Menu.qk);this.Xb.D="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Xb.font="14px Arial";this.i=this.s.rb(this.sx,Menu.ib,-280,60,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.La);this.i.D="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.i.Fc=1;this.Di=this.s.Vg(this.lo,Menu.Uc,90,
40,105,40,0,1,0,"","",-1);this.Di.D="select drawing states range";this.nf.fp([this.rc,this.Fb,this.xb,this.Jc,this.Ag,this.Jb,this.$i,this.bj,this.Vh,this.Qh,this.Uj,this.Sg,this.Zj,this.sk,this.Yj,this.hh,this.zg,this.yg]);this.Qd.fp([this.Be,this.gi,this.vb,this.jg,this.ze,this.Kh,this.xe,this.Vi,this.Ec]);this.Sh.fp([this.Ya,this.Gi,this.Dh])};d.prototype.Dr=function(a){var b=this,c=0,d=0;this.G=a;this.G.getContext&&(c=this.G.width,d=this.G.height,c!==this.qg&&r.Dl&&(c=this.qg),c<h.nd&&(c=h.nd),
d<h.bk&&(d=h.bk),c&=-8,this.G.width!==c&&(this.G.width=c),this.G.height!==d&&(this.G.height=d),this.lf=this.G.getContext("2d",{alpha:!1}),this.lf.globalAlpha=1,this.lf.fillStyle="black",this.lf.fillRect(0,0,this.G.width,this.G.height),this.kj=document.createElement("canvas"),this.kj.width=this.G.width,this.kj.height=this.G.height,this.od=this.kj.getContext("2d",{alpha:!1}),this.C=this.G.width,this.A=this.G.height,this.a=new Life(this.od,this.C,this.A,512,512),this.a.Mx(this.od,this.C,this.A),this.Yc=
this.a.j.V(Float32,h.au,"View.elapsedTimes"),this.oh=new Stars(h.ho,this.a.j),this.od.textAlign="left",this.od.textBaseline="middle",this.ns(this.od),this.h=new MenuManager(this.lf,this.od,"24px Arial",this.ia,this,this.Cv),this.h.mi=!1,this.a.Lw(),this.Vo(),this.Jk=this.ma.x,this.Dk=this.Ka.x,this.zk=this.Yb.x,registerEvent(this.G,"DOMMouseScroll",function(a){b.ro(b,a)},!1),registerEvent(this.G,"mousewheel",function(a){b.ro(b,a)},!1),this.h.notification.enabled=!0,this.h.Zv(this.s),registerEvent(this.G,
"keydown",function(a){b.Fv(b,a)},!1))};d.prototype.Hr=function(a){var b=this.a.Ia,c="";a|=0;a<b.length&&(c=b[a].name);return c};d.prototype.Tv=function(a){var b=!1,c=this.a.Ia,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};d.prototype.Gk=function(a){switch(a){case Keywords.Er:case Keywords.Rp:case Keywords.lr:case Keywords.nr:case Keywords.Tp:case Keywords.mr:case Keywords.Kq:case Keywords.Ie:case Keywords.yf:case Keywords.gq:case Keywords.sr:case Keywords.fq:case Keywords.rr:case Keywords.Zq:case Keywords.Jp:case Keywords.no:case Keywords.wk:case Keywords.Sq:case Keywords.oo:case Keywords.Qq:case Keywords.Tq:case Keywords.Uq:case Keywords.Rq:case Keywords.Vq:case Keywords.ou:case Keywords.Rk:case Keywords.kp:case Keywords.mp:case Keywords.np:case Keywords.lp:case Keywords.op:case Keywords.pp:case Keywords.yl:case Keywords.qq:case Keywords.sq:case Keywords.tq:case Keywords.rq:case Keywords.uq:case Keywords.vq:case Keywords.Gq:case Keywords.Jq:case Keywords.Iq:case Keywords.rA:case Keywords.wm:case Keywords.aq:case Keywords.Ul:case Keywords.jk:case Keywords.ik:case Keywords.mo:case Keywords.Vl:case Keywords.Qa:case Keywords.De:case Keywords.Ha:case Keywords.xr:case Keywords.Aj:case Keywords.vm:case Keywords.wn:case Keywords.fo:case Keywords.Wp:case Keywords.Xp:case Keywords.km:case Keywords.Aq:case Keywords.Jm:case Keywords.kq:case Keywords.Fn:case Keywords.lm:case Keywords.tj:case Keywords.Oq:case Keywords.tl:case Keywords.sl:case Keywords.zr:case Keywords.Ar:case Keywords.na:case Keywords.wp:case Keywords.Wc:case Keywords.Xc:case Keywords.Ro:case Keywords.So:case Keywords.kc:case Keywords.ip:case Keywords.zt:case Keywords.Vf:case Keywords.Am:case Keywords.Fq:case Keywords.Eq:case Keywords.Mr:case Keywords.Kr:case Keywords.Ir:case Keywords.Lr:case Keywords.Km:case Keywords.pj:case Keywords.mk:case Keywords.Gh:case Keywords.sh:case Keywords.Yi:case Keywords.gg:case Keywords.ej:case Keywords.Si:case Keywords.yk:case Keywords.Wj:case Keywords.Xl:case Keywords.Wl:a=
!0;break;default:a=!1}return a};d.prototype.yd=function(a,b,c,d,e){var f=a.sa();""===f||this.Gk(f)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+f,d+" must be "+e],a.Y())};d.prototype.m=function(a,b,c,d){var e=!0,f=0,g=0,q=0,k=a.Y();if(a.I()){f=a.H()|0;if(0>f||255<f)b[b.length]=[d+" "+k+" "+f,"RED out of range"];if(a.I()){g=a.H();if(0>g||255<g)b[b.length]=[d+" "+k+" "+f+" "+g,"GREEN out of range"];a.I()?(q=a.H(),0>q||255<q?b[b.length]=[d+" "+k+" "+f+" "+g+" "+q,"BLUE out of range"]:e=!1):this.yd(a,
b,d+" "+k+" "+f+" "+g,"BLUE","numeric")}else this.yd(a,b,d+" "+k+" "+f,"GREEN","numeric")}else{var m=a.sa();var l=ColourManager.hd[m.toLowerCase()];void 0!==l?(a.Y(),f=l[1],g=l[2],q=l[3],e=!1):""===m||this.Gk(m)?b[b.length]=[d+" "+k,"name missing"]:(b[b.length]=[d+" "+k+" "+m,"name not known"],a.Y())}if(!e)switch(-1!==this.f[c]&&c!==h.dl&&c!==h.$k&&c!==h.el&&(b[b.length]=[d+" "+k+" "+f+" "+g+" "+q,"overwrites "+(this.f[c]>>16)+" "+(this.f[c]>>8&255)+" "+(this.f[c]&255)]),this.f[c]=f<<16|g<<8|q,c){case h.bl:this.Bf=
!0;break;case h.cl:this.Bf=!0;break;case h.fn:this.oh.red=f;this.oh.green=g;this.oh.blue=q;break;case h.gn:this.Fe=[f,g,q];break;case h.$m:this.Zg=[f,g,q];this.Ff="rgb("+f+","+g+","+q+")";break;case h.dl:this.Hj="rgb("+f+","+g+","+q+")";break;case h.$k:this.Gj="rgb("+f+","+g+","+q+")";break;case h.el:this.Ij="rgb("+f+","+g+","+q+")";break;case h.Ym:this.Ih=[f,g,q];this.a.Lj=this.a.Uf?-16777216|q<<16|g<<8|f:f<<24|g<<16|q<<8|255;break;case h.cn:this.a.Lf=[f,g,q];break;case h.bn:this.a.Kf=[f,g,q];break;
case h.an:this.a.Jf=[f,g,q];break;case h.dn:this.a.Mf=[f,g,q];break;case h.en:this.a.Nf=[f,g,q];break;case h.hl:case h.fl:case h.il:case h.kl:case h.jl:case h.gl:break;default:this.Bf=!0}};d.prototype.Qv=function(){var a=this.a.Ia[this.a.Wd],b=this.f;if(-1===b[h.og]){var c=b[h.Cf];-1!==c?b[h.og]=16777215-c:(c=b[h.Ge],b[h.og]=-1!==c?16777215-c:16777215)}-1===b[h.Ge]&&-1===b[h.Cf]&&(b[h.Ge]=16777215-b[h.og]);c=b[h.Ge];-1===c&&(c=b[h.Cf]);a.Ma.red=c>>16;a.Ma.green=c>>8&255;a.Ma.blue=c&255;c=b[h.og];
a.xa.w.red=c>>16;a.xa.w.green=c>>8&255;a.xa.w.blue=c&255;c=b[h.Xm];-1===c&&(c=b[h.og]);a.xa.B.red=c>>16;a.xa.B.green=c>>8&255;a.xa.B.blue=c&255;c=b[h.Cf];-1===c&&(c=b[h.Ge]);a.va.B.red=c>>16;a.va.B.green=c>>8&255;a.va.B.blue=c&255;c=b[h.al];-1===c&&(c=b[h.Cf],-1===c&&(c=b[h.Ge]));a.va.w.red=c>>16;a.va.w.green=c>>8&255;a.va.w.blue=c&255;c=b[h.Ge];-1===c&&(c=b[h.Cf]);a.Rg.red=c>>16;a.Rg.green=c>>8&255;a.Rg.blue=c&255;c=b[h.og];a.Ce.red=c>>16;a.Ce.green=c>>8&255;a.Ce.blue=c&255;c=b[h.Cf];-1===c&&(c=
b[h.Ge]);a.zb.B.red=c>>16;a.zb.B.green=c>>8&255;a.zb.B.blue=c&255;c=b[h.al];-1===c&&(c=b[h.Cf],-1===c&&(c=b[h.Ge]));a.zb.w.red=c>>16;a.zb.w.green=c>>8&255;a.zb.w.blue=c&255;c=b[h.Zm];-1===c?a.Qj=!0:(a.Qj=!1,a.Pa.B.red=c>>16,a.Pa.B.green=c>>8&255,a.Pa.B.blue=c&255);c=b[h.Dp];-1===c&&(c=b[h.Zm],-1===c&&(c=b[h.Ge]));a.Pa.w.red=c>>16;a.Pa.w.green=c>>8&255;a.Pa.w.blue=c&255;a.vz(b[h.bl],b[h.cl])};d.prototype.Yv=function(a){var b=this.v.ol();b.wf||(b.x=this.a.width/2-this.a.ca);b.Ve||(b.y=this.a.height/
2-this.a.$);b.vd||(b.zoom=this.a.zoom);b.Xg||(b.angle=this.a.angle);b.gh||(b.J=this.a.J);b.$g||(b.depth=this.a.qc);b.eh||(b.sb=this.Bd);b.qh||(b.step=this.fa);b.Se||(b.ub=this.a.de);this.v.Ey(a)};d.prototype.Bv=function(a){var b=a,c=this.od,d=a.length;c.font=h.xi;var e=c.measureText(a).width;if(420<e){--d;for(e=c.measureText(a.substr(0,d)+"...").width;420<e;)--d,e=c.measureText(a.substr(0,d)+"...").width;b=b.substr(0,d)+"..."}return b};d.prototype.Ci=function(a,b){var c=a;a.length>b&&(c=a.substr(0,
b-1)+"...");return c};d.prototype.jo=function(a,b,c,d){var e=a.indexOf("\\n");-1!==e&&(c?b[b.length]=[Keywords.wk+" "+Keywords.Sb+this.Ci(a,23)+Keywords.Sb,"only one line allowed"]:(e=a.substr(e+2).indexOf("\\n"),-1===e||d||(b[b.length]=[Keywords.Sb+this.Ci(a,23),"only two lines allowed"])))};d.prototype.Lk=function(a,b,c){var d=Keywords.sh+" ",e="overwrites ";d=b>=this.a.Wd?d+Keywords.vk:d+b;e=c>=this.a.Wd?e+Keywords.vk:e+c;a[a.length]=[d,e]};d.prototype.Cc=function(a,b,c,d,e,f){var g=0,h=0,k=0;
if(a.I())if(g=a.H()|0,0>g||255<g)b[b.length]=[d+" "+f+" "+g,"RED out of range"],e=!0;else if(a.I())if(h=a.H()|0,0>h||255<h)b[b.length]=[d+" "+f+" "+g+" "+h,"GREEN out of range"],e=!0;else if(a.I()){if(k=a.H()|0,0>k||255<k)b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"BLUE out of range"],e=!0}else this.yd(a,b,d+" "+f+" "+g+" "+h,"BLUE","numeric"),e=!0;else this.yd(a,b,d+" "+f+" "+g,"GREEN","numeric"),e=!0;else{var q=a.sa();var m=ColourManager.hd[q.toLowerCase()];void 0!==m?(a.Y(),g=m[1],h=m[2],k=m[3]):(e=
!0,""===q||this.Gk(q)?b[b.length]=[d+" "+f,"name missing"]:(b[b.length]=[d+" "+f+" "+q,"name not known"],a.Y()))}e||(-1!==this.Ub[c]&&(b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"overwrites "+(this.Ub[c]>>16)+" "+(this.Ub[c]>>8&255)+" "+(this.Ub[c]&255)]),this.Ub[c]=g<<16|h<<8|k)};d.prototype.Qg=function(a){var b="",c=a.indexOf(Keywords.ve);if(-1===c)b=a;else{for(;-1!==c;)if(b+=a.substr(0,c),c+1<a.length){var d=a[c+1];a=a.substr(c+2);switch(d){case "B":b+=h.Wr;break;case "N":b+=this.dk;break;case "R":b+=
this.vg;break;case "A":b=""===this.rf?b+this.vg:b+this.rf;break;case "O":b+=this.Rl;break;case "T":b+=h.vx;break;case Keywords.ve:b+=Keywords.ve;break;default:b+=Keywords.ve+d}c=a.indexOf(Keywords.ve)}else c=-1;b+=a}return b};d.prototype.wa=function(a,b,c,d){d[d.length]=a?b===Keywords.Ie?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+Keywords.Ie]:b===Keywords.Ie?[b+" "+c,"overwrites "+Keywords.yf]:[b+" "+c,"already defined"]};d.prototype.Da=function(a){var b="";a===(a|0)?b=String(a):b=a.toFixed(2);
return b};d.prototype.Kv=function(a,b){var c=new Script(a),d=!1,e="",f="",g=!1,m="",k=0,l=!1,n=!1,p=this.Ib,x=null,y=0,B=0,D=0,v="",w=this.v.Rm(),H=null,K=!1,P=!1,Z=null,Y=1,S=h.ws,ca=-1,X=-1,N=0,T=0,R=!1,ba=!1,Q=0,L=0,W=-1,U=0,ea=0,V=null,O=1,gb=h.ws,hb=h.mw,za=-1,Aa=-1,Ba=0,ib=0,Ca=!1,Da=!1,Ea=0,Fa=0,Ga=-1,Ha=0,Ia=0,pa=null,jb=1,kb=h.Vx,Ja=-1,Ka=-1,La=0,lb=0,Ma=!1,Na=!1,Oa=0,Pa=0,Qa=-1,Ra=0,Sa=0,ia=!1,Ta=!1,mb="numeric",ya=-1,ka=-1,la=-1,Ua=-1,ma=-1,na=-1,qa=0,ra=0,sa=0,ta=0,aa=0,da=0,ha=0,nb=0,
ob=0,ja=[],fa=0,Va=!1,Wa=!1,Xa=!1,Ya=!1,Za=!1,$a=!1,ua=!1,ab=!1,bb=!1,va=!1,wa=!1,cb=!1,db=!1,eb=!1,fb=!1;this.Mq=this.Nl=0;this.Bf=!1;this.f[h.Ge]=-1;this.f[h.og]=-1;this.f[h.Xm]=-1;this.f[h.Cf]=-1;this.f[h.al]=-1;this.f[h.bl]=-1;this.f[h.cl]=-1;this.f[h.fn]=-1;this.f[h.gn]=-1;this.f[h.Ym]=-1;this.f[h.cn]=-1;this.f[h.bn]=-1;this.f[h.an]=-1;this.f[h.dn]=-1;this.f[h.en]=-1;this.f[h.$m]=-1;this.f[h.dl]=-1;this.f[h.hl]=-1;this.f[h.fl]=-1;this.f[h.il]=-1;this.f[h.kl]=-1;this.f[h.jl]=-1;this.f[h.gl]=-1;
this.f[h.$k]=-1;this.f[h.el]=-1;this.Ub=[];if(c.ft()){for(fa=0;256>fa;fa+=1)this.Ub[fa]=-1;for(e=c.Y();""!==e;){mb="numeric";if(g)e[e.length-1]===Keywords.Sb?(m=m+" "+e.substr(0,e.length-1),g=!1,this.jo(m,p,d,ia),d?(""!==this.Na&&(p[p.length]=[Keywords.wk+" "+Keywords.Sb+this.Ci(m,20)+Keywords.Sb,"overwrites "+Keywords.Sb+this.Na+Keywords.Sb]),this.Na=m,d=!1):ia?(pa.message=this.Qg(m),ia=!1,this.v.ps(pa)):(w.sd=this.Qg(m),w.Fr=!0)):m=m+" "+e;else if(e[0]===Keywords.Sb)m=e.substr(1),g=!0,e[e.length-
1]===Keywords.Sb&&(g=!1,m=m.substr(0,m.length-1),this.jo(m,p,d,ia),d?(""!==this.Na&&(p[p.length]=[Keywords.wk+" "+Keywords.Sb+this.Ci(m,20)+Keywords.Sb,"overwrites "+Keywords.Sb+this.Na+Keywords.Sb]),this.Na=m,d=!1):ia?(pa.message=this.Qg(m),ia=!1,this.v.ps(pa)):(w.sd=this.Qg(m),w.Fr=!0));else{l=n=!1;this.Nl+=1;switch(e){case Keywords.wk:l=d=!0;break;case Keywords.Tq:c.I()&&(n=!0,k=c.H(),k>=h.ao&&k<=h.Un&&(S=k,l=!0));break;case Keywords.ou:c.I()?(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(aa=k,n=!1,c.I()&&(n=
!0,k=c.H(),k>=h.je&&k<=h.he&&(U=aa,ea=k,l=!0)))):(f=c.sa(),f===Keywords.Pc&&(f=c.Y(),ea=U=0,l=!0));break;case Keywords.Vq:c.I()?(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,aa=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),0<=k&&k<=this.a.U/2&&(Q=aa,L=da,W=k,l=!0)))))):(f=c.sa(),f===Keywords.Ha&&(f=c.Y(),L=Q=0,W=-1,l=!0));break;case Keywords.Rq:c.I()&&(n=!0,k=c.H(),0<=k&&360>k&&(T=k,R=!1,f=c.sa(),f===Keywords.Pc&&(f=c.Y(),R=!0),l=!0));break;case Keywords.Uq:c.I()?
(n=!0,k=c.H()|0,0<=k&&(aa=k,c.I()?(k=c.H()|0,k>=aa?(da=k,c.I()?(k=c.H()|0,0<=k&&k<=da-aa>>1?(ca=aa,X=da,N=k,l=!0):(l=!0,p[p.length]=[e+" "+aa+" "+da+" "+k,"third argument must from 0 to "+(da-aa>>1)])):n=!1):(l=!0,p[p.length]=[e+" "+aa+" "+k,"second argument must be >= first"])):n=!1)):(f=c.sa(),f===Keywords.De?(f=c.Y(),X=ca=-1,N=0,l=!0):n=!1);break;case Keywords.Qq:c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(Y=k,l=!0));break;case Keywords.Sq:case Keywords.oo:ja=[];l=!0;for(ha=-1E3;l&&c.I();)aa=c.H(),c.I()?
(da=c.H(),aa>=-this.a.U&&aa<2*this.a.U&&da>=-this.a.U&&da<2*this.a.U?(ja[ja.length]=aa,ja[ja.length]=da):(p[p.length]=[e+" "+aa+" "+da,"coordinate out of range"],ha=0,l=!1)):aa>=h.Ra&&aa<=h.tb?ha=aa:aa>=h.Hl&&aa<=h.Gl?ha=-(1/aa):(p[p.length]=[e+" "+aa,"zoom out of range"],ha=0,l=!1);-1E3===ha&&(p[p.length]=[e,"missing zoom value"]);4>ja.length&&(p[p.length]=[e,"requires at least 2 coordinate pairs"],l=!1);l?(f=c.sa(),ba=!1,f===Keywords.Pc&&(f=c.Y(),ba=!0,f=c.sa()),Z=this.v.Rw(ja,e===Keywords.oo,ha,
this.Ij,Y,S,ca,X,N,T,R,ba,Q,L,W,U,ea),this.v.dw(Z)):l=!0;break;case Keywords.mp:c.I()&&(n=!0,k=c.H(),k>=h.ao&&k<=h.Un&&(aa=k,n=!1,c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(hb=k,gb=aa,l=!0))));break;case Keywords.pp:c.I()?(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(aa=k,n=!1,c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(Ha=aa,Ia=k,l=!0)))):(f=c.sa(),f===Keywords.Pc&&(f=c.Y(),Ia=Ha=0,l=!0));break;case Keywords.op:c.I()?(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,aa=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/
2&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),0<=k&&k<=this.a.U/2&&(Ea=aa,Fa=da,Ga=k,l=!0)))))):(f=c.sa(),f===Keywords.Ha&&(f=c.Y(),Fa=Ea=0,Ga=-1,l=!0));break;case Keywords.lp:c.I()&&(n=!0,k=c.H(),0<=k&&360>k&&(ib=k,Ca=!1,f=c.sa(),f===Keywords.Pc&&(f=c.Y(),Ca=!0),l=!0));break;case Keywords.np:c.I()?(n=!0,k=c.H()|0,0<=k&&(aa=k,c.I()?(k=c.H()|0,k>=aa?(da=k,c.I()?(k=c.H()|0,0<=k&&k<=da-aa>>1?(za=aa,Aa=da,Ba=k,l=!0):(l=!0,p[p.length]=[e+" "+aa+" "+da+" "+k,"third argument must from 0 to "+(da-aa>>1)])):n=!1):(l=
!0,p[p.length]=[e+" "+aa+" "+k,"second argument must be >= first"])):n=!1)):(f=c.sa(),f===Keywords.De?(f=c.Y(),Aa=za=-1,Ba=0,l=!0):n=!1);break;case Keywords.kp:c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(O=k,l=!0));break;case Keywords.Rk:c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,aa=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,nb=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,ob=k,c.I()&&(n=!0,k=c.H(),ha=-1E3,k>=h.Ra&&
k<=h.tb?ha=k:k>=h.Hl&&k<=h.Gl&&(ha=-(1/k)),-1E3!==ha&&(f=c.sa(),Da=!1,f===Keywords.Pc&&(f=c.Y(),Da=!0,f=c.sa()),V=this.v.Jw(aa,da,nb,ob,ha,this.Gj,O,gb,hb,za,Aa,Ba,ib,Ca,Da,Ea,Fa,Ga,Ha,Ia),this.v.$v(V),l=!0))))))))));break;case Keywords.sq:c.I()&&(n=!0,k=c.H(),k>=h.Xt&&k<=h.Qt&&(kb=k,l=!0));break;case Keywords.vq:c.I()?(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(aa=k,n=!1,c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(Ra=aa,Sa=k,l=!0)))):(f=c.sa(),f===Keywords.Pc&&(f=c.Y(),Sa=Ra=0,l=!0));break;case Keywords.uq:c.I()?
(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,aa=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),0<=k&&k<=this.a.U/2&&(Oa=aa,Pa=da,Qa=k,l=!0)))))):(f=c.sa(),f===Keywords.Ha&&(f=c.Y(),Pa=Oa=0,Qa=-1,l=!0));break;case Keywords.rq:c.I()&&(n=!0,k=c.H(),0<=k&&360>k&&(lb=k,Ma=!1,f=c.sa(),f===Keywords.Pc&&(f=c.Y(),Ma=!0),l=!0));break;case Keywords.tq:c.I()?(n=!0,k=c.H()|0,0<=k&&(aa=k,c.I()?(k=c.H()|0,k>=aa?(da=k,c.I()?(k=c.H()|0,0<=k&&k<=da-aa>>1?(Ja=aa,Ka=da,La=
k,l=!0):(l=!0,p[p.length]=[e+" "+aa+" "+da+" "+k,"third argument must from 0 to "+(da-aa>>1)])):n=!1):(l=!0,p[p.length]=[e+" "+aa+" "+k,"second argument must be >= first"])):n=!1)):(f=c.sa(),f===Keywords.De?(f=c.Y(),Ka=Ja=-1,La=0,l=!0):n=!1);break;case Keywords.qq:c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(jb=k,l=!0));break;case Keywords.yl:c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,aa=k,c.I()&&(n=!0,k=c.H(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,da=k,c.I()&&(n=!0,k=c.H(),ha=-1E3,k>=h.Ra&&k<=h.tb?ha=
k:k>=h.Hl&&k<=h.Gl&&(ha=-(1/k)),-1E3!==ha&&(f=c.sa(),Na=!1,f===Keywords.Pc&&(f=c.Y(),Na=!0,f=c.sa()),f[0]===Keywords.Sb?(pa=this.v.Nw(aa,da,ha,this.Hj,jb,kb,Ja,Ka,La,lb,Ma,Na,Oa,Pa,Qa,Ra,Sa),l=ia=!0):n=!1))))));break;case Keywords.ut:l=this.vl=!0;break;case Keywords.Iq:l=this.Hq=!0;break;case Keywords.Gq:l=this.qf=!0;break;case Keywords.Jq:this.ql=!1;l=!0;break;case Keywords.Aq:c.I()&&(n=!0,k=c.H()|0,k>=h.Wt&&k<=h.Pt&&(this.a.U=1<<k,l=!0));break;case Keywords.km:f=c.sa();f===Keywords.Ha?(f=c.Y(),
w.ni=!1):w.ni=!0;l=w.Fo=!0;break;case Keywords.Jm:f=c.sa();f===Keywords.Ha?(f=c.Y(),w.jd=!1):w.jd=!0;l=!0;break;case Keywords.Fn:c.I()&&(n=!0,k=c.H()|0,0<=k&&k<=this.Sn&&(this.da=k,l=!0));break;case Keywords.kq:f=c.sa();f===Keywords.Ha?(f=c.Y(),this.ff=!1):this.ff=!0;l=!0;break;case Keywords.tl:f=c.sa();f===Keywords.Ha?(f=c.Y(),w.oc=!1):w.oc=!0;l=w.Zi=!0;break;case Keywords.sl:c.I()&&(n=!0,k=c.H()|0,k>=h.fy&&k<=h.Yx&&(this.a.Sd=k,l=this.a.Wm=!0));break;case Keywords.na:case Keywords.wp:v=e;Ta=!1;
if(c.I()){B=c.H()|0;if(0>B||255<=B)p[p.length]=[e+" "+B,"STATE out of range"],Ta=!0;this.Cc(c,p,B,e,Ta,B)}else switch(f=c.sa(),f){case Keywords.bu:f=c.Y();this.Cc(c,p,h.cu,e,!1,f);break;case Keywords.du:f=c.Y();this.Cc(c,p,h.eu,e,!1,f);break;case Keywords.vt:f=c.Y();this.Cc(c,p,h.wt,e,!1,f);break;case Keywords.Ht:f=c.Y();this.Cc(c,p,h.It,e,!1,f);break;case Keywords.Lt:f=c.Y();this.Cc(c,p,h.Mt,e,!1,f);break;case Keywords.Jt:f=c.Y();this.Cc(c,p,h.Kt,e,!1,f);break;case Keywords.Bt:f=c.Y();this.Cc(c,
p,h.Ct,e,!1,f);break;case Keywords.Jo:this.m(c,p,h.Ge,v);break;case Keywords.Io:this.m(c,p,h.og,v);break;case Keywords.Gr:this.m(c,p,h.Xm,v);break;case Keywords.Lo:this.m(c,p,h.Cf,v);break;case Keywords.Ko:this.m(c,p,h.al,v);break;case Keywords.Vu:this.m(c,p,h.Zm,v);break;case Keywords.Uu:this.m(c,p,h.Dp,v);break;case Keywords.tl:this.m(c,p,h.bl,v);break;case Keywords.sl:this.m(c,p,h.cl,v);break;case Keywords.km:this.m(c,p,h.fn,v);break;case Keywords.Er:this.m(c,p,h.gn,v);break;case Keywords.Rp:this.m(c,
p,h.$m,v);break;case Keywords.yl:this.m(c,p,h.dl,v);break;case Keywords.Rk:this.m(c,p,h.$k,v);break;case Keywords.pu:this.m(c,p,h.el,v);break;case Keywords.Ds:this.m(c,p,h.Ym,v);break;case Keywords.mt:this.m(c,p,h.cn,v);break;case Keywords.lt:this.m(c,p,h.bn,v);break;case Keywords.kt:this.m(c,p,h.an,v);break;case Keywords.nt:this.m(c,p,h.dn,v);break;case Keywords.ot:this.m(c,p,h.en,v);break;case Keywords.dv:this.m(c,p,h.hl,v);break;case Keywords.bv:this.m(c,p,h.fl,v);break;case Keywords.ev:this.m(c,
p,h.il,v);break;case Keywords.gv:this.m(c,p,h.kl,v);break;case Keywords.fv:this.m(c,p,h.jl,v);break;case Keywords.cv:this.m(c,p,h.gl,v);break;default:p[p.length]=[e+" "+f,"illegal element"],f=c.Y()}l=!0;break;case Keywords.mk:c.ft();l=!0;--this.Nl;break;case Keywords.Am:l=this.Tb=!0;break;case Keywords.Kq:l=this.Ik=!0;break;case Keywords.Fq:l=this.eo=this.Ab=!0;break;case Keywords.Eq:l=this.ei=!0;break;case Keywords.zr:l=this.Dn=!0;break;case Keywords.Ar:l=fb=eb=db=cb=wa=va=bb=ab=ua=$a=Za=Ya=Xa=Wa=
Va=!0;break;case Keywords.Ha:p[p.length]=[Keywords.Ha,"must follow LOOP or STOP"];l=!0;break;case Keywords.De:f=c.sa();f===Keywords.Qa?(f=c.Y(),w.hf?(this.v.Cw(w,p),this.Ov()):p[p.length]=[Keywords.De+" "+Keywords.Qa,"only valid at a POI"]):p[p.length]=[Keywords.De,"must be followed by INITIAL"];l=!0;break;case Keywords.Qa:p[p.length]=[Keywords.Qa,"must follow POI, ALL or a POI setting"];l=!0;break;case Keywords.Km:f=c.sa();f===Keywords.Ha?(f=c.Y(),this.be=!1):this.Ba&&(this.be=!0);l=!0;break;case Keywords.mo:c.I()&&
(n=!0,k=c.H()|0,0<=k&&(w.hf?(w.Xa=k,w.mm=!0):p[p.length]=[Keywords.mo+" "+k,"only valid at a POI"],l=!0));break;case Keywords.ik:w.zz(p);l=!0;break;case Keywords.jk:w.Bz(p);l=!0;break;case Keywords.Ul:w.Az(p);l=!0;break;case Keywords.Vl:c.I()&&(n=!0,k=c.H(),k>=WaypointConstants.lu&&k<=WaypointConstants.ku&&(w.Ez(k,p),l=!0));break;case Keywords.aq:l=this.Cn=!0;break;case Keywords.xr:f=c.sa();f===Keywords.Ha?(f=c.Y(),this.Fg=!1):this.Fg=!0;l=!0;break;case Keywords.wm:c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=
h.he&&(ma=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(na=k,l=!0,this.ac&&(p[p.length]=[Keywords.wm+" "+ma+" "+na,"overwrites "+ka+" "+la]),ka=ma,la=na,this.ac=!0))));break;case Keywords.vm:c.I()&&(n=!0,k=c.H()|0,0<k&&(Ua=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(ma=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(na=k,l=!0,this.Ld&&(p[p.length]=[Keywords.vm+" "+Ua+" "+ma+" "+na,"overwrites "+ya+" "+ka+" "+la]),ya=Ua,ka=ma,la=na,this.ac=this.Ld=!0))))));break;case Keywords.Aj:c.I()&&
(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(sa=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(ra=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(ta=k,n=!1,e+=" "+k,c.I()&&(n=!0,k=c.H(),k>=h.je&&k<=h.he&&(qa=k,l=!0,ta>sa?p[p.length]=[Keywords.Aj+" W "+this.Da(ta)+" E "+this.Da(sa),"W is greater than E"]:qa>ra?p[p.length]=[Keywords.Aj+" N "+this.Da(qa)+" S "+this.Da(ra),"N is greater than S"]:(this.zj&&(p[p.length]=[Keywords.Aj+" "+this.Da(sa)+" "+this.Da(ra)+" "+this.Da(ta)+" "+this.Da(qa),"overwrites "+
this.Da(this.Og)+" "+this.Da(this.Pg)+" "+this.Da(this.vh)+" "+this.Da(this.uh)]),this.ac=this.zj=!0,this.uh=qa,this.Og=sa,this.Pg=ra,this.vh=ta)))))))));break;case Keywords.gg:H=w;!w.hf&&0<this.v.oy&&(w=this.v.ol());c.I()?(n=!0,k=c.H()|0,0<k&&(!w.si||this.Dc||wa||(p[p.length]=-1===w.pb?[Keywords.gg+" "+k,"overwrites "+Keywords.Ha]:[Keywords.gg+" "+k,"overwrites "+w.pb]),w.pb=k,w.si=!0,wa=this.Dc=!1,l=!0)):(f=c.sa(),f===Keywords.Ha?(f=c.Y(),!w.si||this.Dc||wa||(p[p.length]=-1!==w.pb||this.Dc?[Keywords.gg+
" "+Keywords.Ha,"overwrites "+w.pb]:[Keywords.gg+" "+Keywords.Ha,"overwrites "+Keywords.Ha]),w.pb=-1,w.si=!0,wa=this.Dc=!1,l=!0):f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.gg,w,p,this.Dc),l=this.Dc=!0));w=H;break;case Keywords.Vf:H=w;!w.hf&&0<this.v.ha.length&&(w=this.v.ol());c.I()?(n=!0,k=c.H()|0,0<k&&(!w.Yh||this.wd||va||(p[p.length]=-1===w.la?[Keywords.Vf+" "+k,"overwrites "+Keywords.Ha]:[Keywords.Vf+" "+k,"overwrites "+w.la]),w.la=k,w.Yh=!0,va=this.wd=!1,l=!0)):(f=c.sa(),f===Keywords.Ha?(f=
c.Y(),!w.Yh||this.wd||va||(p[p.length]=-1===w.la?[Keywords.Vf+" "+Keywords.Ha,"overwrites "+Keywords.Ha]:[Keywords.Vf+" "+Keywords.Ha,"overwrites "+w.la]),w.la=-1,w.Yh=!0,va=this.wd=!1,l=!0):f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.Vf,w,p,this.wd),l=this.wd=!0));w=H;break;case Keywords.Gh:c.I()?(n=!0,k=c.H()|0,0<=k&&359>=k&&(!w.Xg||this.Rf||Ya||(p[p.length]=[Keywords.Gh+" "+k,"overwrites "+w.angle]),w.angle=k,w.Xg=!0,Ya=this.Rf=!1,l=!0)):(f=c.sa(),f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.Gh,
w,p,this.Rf),l=this.Rf=!0));break;case Keywords.ej:c.I()?(n=!0,k=c.H()|0,k>=h.$n&&k<=h.Tn&&(!w.gh||this.Wf||Za||(p[p.length]=[Keywords.ej+" "+k,"overwrites "+w.J]),w.J=k,w.gh=!0,Za=this.Wf=!1,l=!0)):(f=c.sa(),f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.ej,w,p,this.Wf),l=this.Wf=!0));break;case Keywords.Si:c.I()?(n=!0,k=c.H(),k>=h.Zn&&k<=h.Ot&&(!w.$g||this.Sf||$a||(p[p.length]=[Keywords.Si+" "+k,"overwrites "+w.depth]),w.depth=k,w.$g=!0,$a=this.Sf=!1,l=!0)):(f=c.sa(),f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.Si,
w,p,this.Sf),l=this.Sf=!0));break;case Keywords.Ro:c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(this.td=k,l=!0));break;case Keywords.So:c.I()&&(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(this.ud=k,l=!0));break;case Keywords.Wc:c.I()?(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(!w.wf||this.Zf||Va||(p[p.length]=[Keywords.Wc+" "+k,"overwrites "+-w.x]),w.x=-k,w.wf=!0,Va=this.Zf=!1,l=!0)):(f=c.sa(),f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.Wc,w,p,this.Zf),l=this.Zf=!0));break;case Keywords.Xc:c.I()?
(n=!0,k=c.H(),k>=-this.a.U/2&&k<=this.a.U/2&&(!w.Ve||this.tg||Wa||(p[p.length]=[Keywords.Xc+" "+k,"overwrites "+-w.y]),w.y=-k,w.Ve=!0,Wa=this.tg=!1,l=!0)):(f=c.sa(),f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.Xc,w,p,this.tg),l=this.tg=!0));break;case Keywords.zt:l=!0;break;case Keywords.Lr:c.I()&&(n=!0,k=c.H(),k>=h.Ra&&k<=h.tb?(this.Fi=!0,this.Mk=k,l=!0):k>=h.Hl&&k<=h.Gl&&(this.Fi=!0,this.Mk=-(1/k),l=!0));break;case Keywords.ip:case Keywords.kc:c.I()?(n=!0,k=c.H(),k>=h.Ra&&k<=h.tb?(!w.vd||this.xd||
Xa||(p[p.length]=1>w.zoom?[Keywords.kc+" "+k,"overwrites "+-(1/w.zoom)]:[Keywords.kc+" "+k,"overwrites "+w.zoom]),w.zoom=k,w.vd=!0,Xa=this.xd=!1,l=!0):k>=h.Hl&&k<=h.Gl&&(w.vd&&!this.xd&&(p[p.length]=1>w.zoom?[Keywords.kc+" "+k,"overwrites "+-(1/w.zoom)]:[Keywords.kc+" "+k,"overwrites "+w.zoom]),w.zoom=-(1/k),w.vd=!0,this.xd=!1,l=!0)):(f=c.sa(),f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.kc,w,p,this.xd),l=this.xd=!0));break;case Keywords.Yi:c.I()?(n=!0,k=c.H()|0,k>=h.ie&&k<=h.$h&&(!w.eh||this.Tf||
ab||(p[p.length]=[Keywords.Yi+" "+k,"overwrites "+w.sb]),w.sb=k,w.eh=!0,ab=this.Tf=!1,l=!0)):(f=c.sa(),f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.Yi,w,p,this.Tf),l=this.Tf=!0));break;case Keywords.Mr:f=c.sa();f===Keywords.Ha?(f=c.Y(),this.ge||(this.th=this.ta=!1)):this.ge||(this.th=this.ta=!0);l=!0;break;case Keywords.Ir:f=c.sa();f===Keywords.Ha?(f=c.Y(),this.ge||(this.Jg=this.th=this.ta=!1,this.h.Jg=!1)):this.ge||(this.Jg=this.th=this.ta=!0,this.h.Jg=!0);l=!0;break;case Keywords.Kr:c.I()&&(n=!0,
k=c.H()|0,k>=h.Zt&&k<=h.Tt&&(this.Ac=k,l=!0));break;case Keywords.sh:c.I()?(n=!0,k=c.H()|0,0<=k&&k<this.a.Wd&&(!w.Se||this.cc||ua||this.Lk(p,k,w.ub),w.ub=k,w.Se=!0,ua=this.cc=!1,l=!0)):(f=c.sa(),f===Keywords.vk?(f=c.Y(),this.Bf?(w.Se&&!this.cc&&this.Lk(p,this.a.Wd,w.ub),w.ub=this.a.Wd,w.Se=!0,this.cc=!1):p[p.length]=[Keywords.sh+" "+Keywords.vk,"no custom THEME defined"],l=!0):(k=this.Tv(f),-1!==k?(f=c.Y(),!w.Se||this.cc||ua||this.Lk(p,k,w.ub),w.ub=k,w.Se=!0,ua=this.cc=!1,l=!0):f===Keywords.Qa&&(f=
c.Y(),this.v.ec(Keywords.sh,w,p,this.cc),l=this.cc=!0)));break;case Keywords.pj:p[p.length]=[e,"already in a script block"];l=!0;break;case Keywords.mr:this.Ca=!this.Ca;l=!0;break;case Keywords.nr:this.Uj.current=this.xk([!0],!0,this);l=!0;break;case Keywords.Tp:this.Sg.current=this.Xk([!0],!0,this);l=!0;break;case Keywords.lr:this.Qo([!0],!0,this);this.Qd&&(this.Qd.current=[this.Re],this.h.Kg=!0);l=!0;break;case Keywords.Jp:c.I()&&(n=!0,k=c.H()|0,k>=h.Vt&&k<=h.Nt&&(l=!0,this.a.Zl=k));break;case Keywords.fo:l=
this.Ic=!0;break;case Keywords.wn:l=this.ab=!0;break;case Keywords.Wp:c.I()&&(n=!0,k=c.H(),0<=k&&1>=k&&(l=!0,this.Qb=k));break;case Keywords.Xp:this.oe=!1;l=!0;break;case Keywords.fq:l=this.a.ue=!0;break;case Keywords.rr:this.a.ue=!1;l=!0;break;case Keywords.sr:this.a.S=!1;this.xb.l=this.a.S;l=!0;break;case Keywords.gq:this.a.S=!0;this.xb.l=this.a.S;l=!0;break;case Keywords.Zq:this.sn=c.Y();l=!0;break;case Keywords.Ie:f=c.sa();switch(f){case Keywords.Wc:w.zh&&this.wa(w.Ue,Keywords.Ie,Keywords.Wc,
p);w.Ue=!0;w.zh=!0;f=c.Y();break;case Keywords.Xc:w.Ah&&this.wa(w.We,Keywords.Ie,Keywords.Xc,p);w.We=!0;w.Ah=!0;f=c.Y();break;case Keywords.kc:w.os&&this.wa(w.Xe,Keywords.Ie,Keywords.kc,p);w.Xe=!0;w.Cm=!0;f=c.Y();break;case Keywords.De:w.zh&&this.wa(w.Ue,Keywords.Ie,Keywords.Wc,p);w.Ah&&this.wa(w.We,Keywords.Ie,Keywords.Xc,p);w.os&&this.wa(w.Xe,Keywords.Ie,Keywords.kc,p);w.Ue=!0;w.zh=!0;w.We=!0;w.Ah=!0;w.Xe=!0;w.Cm=!0;f=c.Y();break;default:this.yd(c,p,Keywords.Ie,"argument",Keywords.De+", "+Keywords.Wc+
", "+Keywords.Xc+" or "+Keywords.kc)}l=!0;break;case Keywords.yf:f=c.sa();switch(f){case Keywords.Wc:w.zh&&this.wa(w.Ue,Keywords.yf,Keywords.Wc,p);w.Ue=!1;w.zh=!0;f=c.Y();break;case Keywords.Xc:w.Ah&&this.wa(w.We,Keywords.yf,Keywords.Xc,p);w.We=!1;w.Ah=!0;f=c.Y();break;case Keywords.kc:w.os&&this.wa(w.Xe,Keywords.yf,Keywords.kc,p);w.Xe=!1;w.Cm=!0;f=c.Y();break;case Keywords.De:w.zh&&this.wa(w.Ue,Keywords.yf,Keywords.Wc,p);w.Ah&&this.wa(w.We,Keywords.yf,Keywords.Xc,p);w.os&&this.wa(w.Xe,Keywords.yf,
Keywords.kc,p);w.Ue=!1;w.zh=!0;w.We=!1;w.Ah=!0;w.Xe=!1;w.Cm=!0;f=c.Y();break;default:this.yd(c,p,Keywords.yf,"argument",Keywords.De+", "+Keywords.Wc+", "+Keywords.Xc+" or "+Keywords.kc)}l=!0;break;case Keywords.no:P=!0;this.v.add(w);w=this.v.Rm();w.hf=!0;f=c.sa();f===Keywords.Qa&&(f=c.Y(),-1!==this.Qi&&(p[p.length]=[Keywords.no+" "+Keywords.Qa,"overrides previous initial POI"]),this.Qi=this.v.nb.length);this.Pr();l=!0;break;case Keywords.lm:c.I()&&(n=!0,k=c.H()|0,0<=k&&(K||(K=!0),0<k&&(this.v.add(w),
w=this.v.Rm()),w.Xa=k,l=w.mm=!0));break;case Keywords.tj:c.I()?(n=!0,k=c.H()|0,k>=h.fj&&k<=h.Vd&&(!w.qh||this.Xf||bb||(p[p.length]=[Keywords.tj+" "+k,"overwrites "+w.step]),w.step=k,w.qh=!0,bb=this.Xf=!1,l=!0)):(f=c.sa(),f===Keywords.Qa&&(f=c.Y(),this.v.ec(Keywords.tj,w,p,this.Xf),l=this.Xf=!0));break;case Keywords.Oq:c.I()&&(n=!0,k=c.H(),0<=k&&(K||(K=!0),this.v.add(w),w=this.v.Rm(),k<h.Ou&&(k=h.Ou),w.$b=k,l=w.Tu=!0));break;case Keywords.yk:c.I()&&(n=!0,k=c.H()|0,this.ge||(-1===this.X||cb||(p[p.length]=
[Keywords.yk+" "+k,"overwrites "+this.X]),this.X=k),cb=!1,l=!0);break;case Keywords.Wj:c.I()&&(n=!0,k=c.H()|0,this.ge||(-1===this.ea||db||(p[p.length]=[Keywords.Wj+" "+k,"overwrites "+this.ea]),this.ea=k),db=!1,l=!0);break;case Keywords.Xl:c.I()&&(n=!0,k=c.H()|0,-1===this.ga||eb||(p[p.length]=[Keywords.Xl+" "+k,"overwrites "+this.ga]),this.ga=k,eb=!1,l=!0);break;case Keywords.Wl:c.I()&&(n=!0,k=c.H()|0,-1===this.ya||fb||(p[p.length]=[Keywords.Wl+" "+k,"overwrites "+this.ya]),this.ya=k,fb=!1,l=!0);
break;default:p[p.length]=[e,"unknown or misspelt command"],l=!0}l||(n?p[p.length]=[e+" "+k,"argument out of range"]:this.yd(c,p,e,"argument",mb))}""!==e&&(e=c.Y())}g&&(p[p.length]=[Keywords.Sb+m,"unterminated string"]);K&&this.ac&&(x=this.zj?Keywords.Aj:this.Ld?Keywords.vm:Keywords.wm,p[p.length]=[x,"can not be used with Waypoints"],this.Ld=this.zj=this.ac=!1);this.zj||!this.ac&&!this.Ld||(this.Ld&&(0<this.a.Sd&&(ya*=this.a.Sd),w.la=ya),this.uh=la,this.Og=ka,this.Pg=la,this.vh=ka);if(K||P){this.v.add(w);
K?(w=this.v.ol(),this.Kb=!0):-1!==this.Qi&&(w=this.v.nb[this.Qi],this.ee=this.Qi);if(K){for(fa=0;fa<this.v.ha.length;fa+=1)w=this.v.ha[fa],w.jd&&(w.wf||w.Ve||w.vd)&&(m="",w.wf?(m="X "+w.x,w.Ve?m=w.vd?m+(", Y "+w.y+" and ZOOM "+w.zoom):m+(" and Y "+w.y):w.vd&&(m+=" and ZOOM "+w.zoom)):w.Ve?(m="Y "+w.y,w.vd&&(m+=" and ZOOM "+w.zoom)):w.vd&&(m="ZOOM "+w.zoom),p[p.length]=[Keywords.Jm,"overwrites "+m]);w=this.v.ol()}P&&w.ke===WaypointConstants.play&&this.Ba&&(this.be=!0)}w.jd&&(this.kb=!0);w.wf&&(this.a.ca=
this.a.width/2-w.x);w.Ve&&(this.a.$=this.a.height/2-w.y);w.vd&&(this.a.zoom=w.zoom);w.Xg&&(this.a.angle=w.angle);w.$g&&(this.a.qc=w.depth/h.Lh+h.Zn);w.gh&&(this.a.J=w.J);w.Se&&(this.Ei=w.ub);w.eh&&(this.Bd=w.sb);w.qh&&(this.fa=w.step);w.Fr&&this.h.notification.T(w.sd,1E3,!1);this.pb=w.pb;this.la=w.la;w.vd&&(this.Ck=!0);w.wf&&(this.Ak=!0);w.Ve&&(this.Bk=!0);w.Zi&&(this.a.nc=w.oc);w.Fo&&(this.fg=w.ni);for(fa=0;fa<b;fa+=1)-1!==this.Ub[fa]&&(y+=1);if(0<y){this.Em=!0;for(fa=0;fa<b;fa+=1)PatternManager.sj[fa]?
-1===this.Ub[fa]?(D=this.hd[fa],this.Dn&&(p[p.length]=this.a.pc?[v+" "+h.Mz[fa],"definition missing (used "+(D>>16)+" "+(D>>8&255)+" "+(D&255)+")"]:[v+" "+fa,"definition missing (used "+(D>>16)+" "+(D>>8&255)+" "+(D&255)+")"]),this.Ub[fa]=D,this.Em=!1,this.Pi[fa]=h.Su):this.Pi[fa]=h.Ru:this.Pi[fa]=h.yr;this.Zk=this.Em?"(custom)":this.Zk+" (custom*)"}else this.Ub=[];this.Bf&&(this.Qv(),this.Jc&&(this.Jc.upper=this.a.Wd));2<b&&!this.a.pc&&-1===this.a.xA&&(this.Tb=!0);this.Tb&&(x="not possible due to "+
Keywords.Am,this.be&&(p[p.length]=[Keywords.Km,x],this.be=!1),-1!==this.pb&&(p[p.length]=[Keywords.gg+" "+this.pb,x]),-1!==this.la&&(p[p.length]=[Keywords.Vf+" "+this.la,x]));0!==this.td&&this.ag+h.Vd+2*Math.abs(this.td)>=this.a.U&&(p[p.length]=[Keywords.Ro+" "+this.td,"pattern does not fit on grid at this offset"],this.td=0);0!==this.ud&&this.ug+h.Vd+2*Math.abs(this.ud)>=this.a.U&&(p[p.length]=[Keywords.So+" "+this.ud,"pattern does not fit on grid at this offset"],this.ud=0);this.Mq=p.length}""!==
this.Na&&(this.Na=this.Qg(this.Na));this.kb&&(this.Im=!0);this.ab&&this.Ic&&(p[p.length]=[Keywords.wn,"not valid with "+Keywords.fo],this.ab=!1);var oa=0,xa=!1;-1!==this.X&&(oa=h.nd,this.Ab&&(oa=h.iy),this.X<oa||this.X>this.qg)&&(p[p.length]=[Keywords.yk+" "+this.X,"argument out of range"],xa=!0);-1!==this.ea&&(oa=h.bk,this.Ab&&(oa=h.hy),this.ea<oa||this.ea>h.Xn)&&(p[p.length]=[Keywords.Wj+" "+this.ea,"argument out of range"],xa=!0);this.ge&&(-1!==this.ga&&(this.ga<h.nd||this.ga>this.qg)&&(p[p.length]=
[Keywords.Xl+" "+this.ga,"argument out of range"],this.ga=-1,xa=!0),-1!==this.ya&&(this.ya<h.bk||this.ya>h.Xn)&&(p[p.length]=[Keywords.Wl+" "+this.ya,"argument out of range"],this.ya=-1,xa=!0));if(xa||p.length)-1!==this.X&&this.X<h.nd&&(this.X=h.nd),-1!==this.ea&&this.ea<h.kh&&(this.ea=h.kh),this.Ab=!1;this.s.l=this.Ab;this.h.Ab=this.Ab;this.h.ei=this.ei;this.Ab&&(this.ab=this.Jg=this.ta=this.be=!1,this.xk([!1],!0,this),this.Xk([!1],!0,this),this.Qo([!1],!0,this),this.vl=this.Ca=!1);this.Ik&&(this.element.style=
"display:none",this.element.parentNode&&this.element.parentNode.parentNode&&this.element.parentNode.parentNode.className===r.on&&(this.element.parentNode.parentNode.style="display:none;"));this.v.Kz()};d.prototype.Lv=function(){this.a.Wm=!1;this.a.U=1<<h.mx;this.Qi=this.Ei=-1;this.ei=this.Ik=this.eo=this.Ab=!1;this.a.Hb=0;this.a.Cb=0;this.a.fc=1;this.Ca=this.Im=this.kb=!1;this.Ub=[];this.Zg=this.Fe=null;this.Ff=h.Ff;this.a.Lf=this.a.Hx;this.a.Kf=this.a.Gx;this.a.Jf=this.a.Fx;this.a.Mf=this.a.Ix;this.a.Nf=
this.a.Jx;this.Hh=this.be=this.Cn=!1;this.la=this.pb=-1;this.Re=this.bc=this.Ld=this.ac=this.zj=this.Kb=this.jc=this.Va=!1;this.da=this.Sn=2<this.a.g?63<=256-this.a.g?63:256-this.a.g:63;this.fe=!1;this.a.mn=!1};d.prototype.Br=function(){this.Jg?n(this.element):(this.C=this.In,this.A=this.Jr,this.kb?(this.ta=!1,this.Hf(!0,!1)):this.a.zoom=this.Jn,this.qb&&(this.qb.current=this.Ug([this.a.zoom,this.a.zoom],!1,this)),this.W=this.Gn,this.ta=!1,this.h.ta=!1,this.s.l=!1,this.h.notification.T("Shrink with hotkey N",
100,!0),this.resize())};d.prototype.Cv=function(a){a.ta?a.Br():a.Ab&&(a.ei||a.Bp(a,!1))};d.prototype.resize=function(){this.Kk&&(y.Wq.cr=this.Hk-this.C,this.Hk=this.C,this.Kk=!1);this.G.width=this.C;this.G.height=this.A;this.kj.width=this.C;this.kj.height=this.A;this.od.textBaseline="middle";this.a.Au(this.C,this.A)};d.prototype.Cr=function(){this.In=this.C;this.Jr=this.A;this.Jn=this.a.zoom;this.Gn=this.W;this.C=this.C/this.Ac|0;this.A=this.A/this.Ac|0;this.a.zoom=this.a.zoom/this.Ac;this.C&=-8;
this.s.l=!0;this.h.ta=!0;this.h.Ac=this.Ac;this.ta=!0;this.resize()};d.prototype.co=function(){var a=this.a.g;a>this.ih&&(a=this.ih);this.Xb.lower=[];this.Xb.D=[];this.Xb.width=40*a;this.i.lower=[];this.i.D=[];this.i.current=[];this.i.width=40*a;this.i.Fc=1;for(a=0;a<this.ih;a+=1){var b=a+this.uf;this.Xb.lower[a]=String(b);b=0===b?"dead":1===b?"alive":"dying "+String(b-1);this.Xb.D[a]=b;this.i.lower[a]="";this.i.D[a]=b;this.i.current[a]=!1}b=this.He;0<b&&(b=this.a.g-b);this.Xb.current=b-this.uf};
d.prototype.Rv=function(){var a=this.a.g;this.He=1;this.uf=0;this.Hg.current=[this.On([!0],!0,this)];this.ih=7+((this.C-h.nd)/40|0);this.a.pc?(this.Xb.lower="0123456".split(""),this.Xb.width=280,this.Xb.D="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.Xb.current=this.He,this.i.lower="      ".split(" "),this.i.width=280,this.i.D="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.i.Fc=1,this.i.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.Xb.lower=["0","1"],this.Xb.width=
80,this.Xb.D=["dead","alive"],this.Xb.current=this.He,this.i.lower=["",""],this.i.width=80,this.i.D=["dead","alive"],this.i.Fc=1,this.i.current=[!1,!1]):(this.He=a-1,a>this.ih&&(a=this.ih),this.co(),this.Xb.width=40*a,this.i.width=40*a,this.Di.current=this.lo([0,0],!0,this));this.Xb.setPosition(Menu.ib,-this.Xb.width,40);this.i.setPosition(Menu.ib,-this.i.width,60)};d.prototype.rn=function(){this.Ph=!1;this.un=0;this.eg=!1;this.ii=this.hi=0;this.Rl=this.dk=this.Nq=this.rf=this.vg="";this.Tl=this.nh=
this.ug=this.ag=0;this.$f="(none)";this.a.pc=!1;this.a.S=!1;this.a.Fd=!1;this.a.we=-1;this.a.Ql=!1;this.a.g=-1;this.a.ja=-1;this.a.ra=!1;this.Ba=this.a.yA=!1};d.prototype.ph=function(a,b){var c,d=!1;var e=0;this.Hn=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;this.Ib=[];this.h.notification.clear(!0,!0);this.h.notification.clear(!1,!0);if(a=PatternManager.create("",a,this.a.j)){this.Ph=PatternManager.Ph;this.un=PatternManager.Vp;this.eg=PatternManager.eg;this.hi=PatternManager.po;this.ii=
PatternManager.qo;this.Eg=PatternManager.Eg;this.Dg=PatternManager.Dg;this.ag=a.width;this.ug=a.height;this.dk=a.name;this.Rl=a.fu;this.$f=a.$f;""===this.$f&&(this.$f="(none)");this.nh=a.ne;this.Tl=a.Ol;this.vg=a.ba;this.rf=a.Md;this.Nq=a.Mm;this.a.lb=a.lb;this.a.ae=a.ae;this.Ba=PatternManager.Ba;this.a.pc=a.Ob;this.a.g=a.g;if(this.a.ra=a.ra)this.a.Mb.yb=a.Lc,this.a.Mb.Go=a.qd,this.a.Mb.xo=a.g,this.a.Mb.Fz(a.me,a.hc),PatternManager.Wg?(this.a.Mb.Fm=a.Ok,this.a.Mb.Gm=a.Qk,this.a.Mb.Wg=!0):this.a.Mb.Wg=
!1;this.a.ue=!0;this.a.S=a.S;this.a.Ql=a.S;this.a.Fd=a.Fd;this.a.we=a.we;this.a.ja=a.Gb;this.a.oa=a.Cd;this.a.qa=a.df;this.a.Vk=a.rl;this.a.Wk=a.Vj;this.a.sp=a.Yp;this.a.Gs=a.Bn;this.Sl=new Uint32Array(this.nh);for(c=0;c<this.nh;c+=1)this.Sl[c]=PatternManager.sj[c]}else this.rn();this.tf=!0;this.ab=!1;this.oe=!0;this.Qb=h.$s;this.Ic=a?!1:!0;this.ql=!0;this.vn=!1;this.xb.l=this.a.S;this.o=PatternManager.o;this.a.Aa=!0;this.a.Zl=h.Zs;this.ud=this.td=0;this.se=this.ee=-1;this.Yk=this.Oi=!1;this.Fg=this.ff=
this.s.locked=!1;this.a.Ax();this.a.Bx();this.a.pc&&(this.a.Qw(),this.a.Tw());this.Na="";this.fg=!1;ColourManager.Dd();this.a.Ls(!1);this.a.Qc=this.a.An;this.a.Rd=this.a.zn;this.a.Sd=10;this.a.nx=10;this.a.Of=!0;this.Bd=60;this.fa=1;this.a.J=1;this.a.qc=.1;this.a.angle=0;this.a.zoom=6;this.a.bz();this.a.ca=this.a.width/2;this.a.$=this.a.height/2;this.Bk=this.Ak=this.Ck=!1;this.Ri=this.Od=0;this.ya=this.ga=this.ea=this.X=-1;this.f[h.Ge]=-1;this.f[h.og]=-1;this.f[h.Xm]=-1;this.f[h.Cf]=-1;this.f[h.al]=
-1;this.f[h.bl]=-1;this.f[h.cl]=-1;this.f[h.fn]=-1;this.f[h.gn]=-1;this.f[h.Ym]=-1;this.f[h.cn]=-1;this.f[h.bn]=-1;this.f[h.an]=-1;this.f[h.dn]=-1;this.f[h.en]=-1;this.f[h.$m]=-1;this.f[h.dl]=-1;this.f[h.Zm]=-1;this.f[h.Dp]=-1;this.f[h.hl]=-1;this.f[h.fl]=-1;this.f[h.il]=-1;this.f[h.kl]=-1;this.f[h.jl]=-1;this.f[h.gl]=-1;this.f[h.$k]=-1;this.f[h.el]=-1;this.Hj=h.Dt;this.Gj=h.Hm;this.Ij=h.mu;this.ta&&this.Br();this.th=!1;this.h.ta=!1;this.Ac=h.at;this.Jg=!1;this.Fi=this.h.EA=!1;this.Pb=a?!1:!0;this.Tb=
!1;this.a.nc=!1;this.ma.l=!1;this.gj.l=!1;this.Qd.l=!1;this.Ka.l=!1;this.Yb.l=!1;this.nf.l=!1;this.rc.l=!1;this.Fb.l=!1;this.Jc.l=!1;this.s.l=!1;this.pe.l=!1;this.nf.current=[!1];this.Qd.current=[!1];this.Ua=this.W=0;this.gj.current=this.Zr(h.Il,!0,this);this.Sh.current=this.tm([this.W],!0,this);this.Ih=[96,96,96];this.a.Lj=this.a.Uf?4284506208:1616929023;this.v.reset();this.Kb=!1;this.v.zw();this.Bf=this.Hq=this.qf=this.vl=!1;if(a){if(PatternManager.Tj||a.Ob)a.Ob?(this.hd=ColourManager.Ns("LifeHistory"),
this.hd[2]=96):this.hd=ColourManager.Ns(a.ba),this.hd.length?this.Zk=a.ba:(this.hd=ColourManager.Fp,this.Zk="(default)");this.Lv();a.title&&(this.Kv(a.title,a.ne),myRand.Dd(this.sn),this.Ib.length&&(this.Ua=1),this.ta&&b&&(this.ta=!1),-1<this.X&&(this.X&=-8,this.X!==this.C&&(this.C=this.X,d=!0)),-1<this.ea&&this.ea!==this.A&&(this.A=this.ea,d=!0),this.ge&&(-1<this.ga?(this.ga&=-8,this.ga!==this.C&&(this.C=this.ga,d=!0)):this.C=h.nd,this.C!==this.Hk&&(this.Kk=!0),-1<this.ya?this.ya!==this.A&&(this.A=
this.ya,d=!0):this.A=h.kh+80));this.Rv();this.Pv();this.yv();this.a.Ky();this.a.da=this.da;this.Jg&&!this.ab&&(this.Ic=!0,this.ab=!1);this.a.fw(!this.Ic);if(a.width>this.a.U||a.height>this.a.U)this.o="Pattern too big (maximum "+this.a.U+"x"+this.a.U+")",this.Lg=!0,this.Ba=!1,this.rn();-1!==a.Gb&&(a.ra&&(e=6*a.hc),a.kd&&(e=6*a.Db),a.Cd>=this.a.U-e||a.df>=this.a.U-e)&&(this.o="Bounded grid is too big",this.Ba=!1,this.a.ja=-1);this.fs=!1;if(-1!==this.a.ja){b=this.a.oa;var f=this.a.qa;0===b&&(b=a.width);
0===f&&(f=a.height)}else b=a.width,f=a.height;e=h.Vd;this.a.ra&&(e=4*this.a.Mb.sc+1,-1!==this.a.ja&&(e+=2*this.a.Mb.sc),this.a.Mb.type===PatternManager.Te&&(e=-1!==this.a.ja?e+this.a.qa/2:e+(this.a.F.M-this.a.F.L+1)/2),e<h.Vd&&(e=h.Vd));c=this.a.U/2-e;this.eg&&(this.hi<-c?this.hi=-c:this.hi>=c&&(this.hi=c-1),this.ii<-c?this.ii=-c:this.ii>=c&&(this.ii=c-1),this.td+=this.hi,this.ud+=this.ii);this.td<-c?this.td=-c:this.td>=c&&(this.td=c-1);this.ud<-c?this.ud=-c:this.ud>=c&&(this.ud=c-1);for(;this.a.width<
this.a.U&&(b+e+2*Math.abs(this.td)>=this.a.width||f+e+2*Math.abs(this.ud)>=this.a.height);)this.a.$p(),this.Od+=this.a.width>>2,this.Ri+=this.a.height>>2,this.Xd+=this.a.width>>2,this.oj+=this.a.height>>2,this.a.S&&(this.Od-=this.a.height>>3,this.Xd-=this.a.height>>3);a.ra&&this.a.Mb.resize(this.a.width,this.a.height);this.ks(a.width,a.height);this.a.pc&&PatternManager.sj[6]&&this.a.Cy(a,this.Le,this.Me);this.Fe?this.h.notification.ce="rgb("+this.Fe[0]+","+this.Fe[1]+","+this.Fe[2]+")":this.h.notification.ce=
this.h.notification.ru;if(0===this.Ub.length)for(c=0;c<this.hd.length;c+=1)this.Pi[c]=PatternManager.sj[c]?h.Su:h.yr;this.a.gc?(this.a.Mw(this.hd,this.Ub),this.a.bh=!0):this.a.bh=!1;this.ms(a);this.a.Xz();this.Ec.ob=""!==this.rf?this.rf:this.vg;this.Ec.D=this.vg;""!==this.rf&&(this.Ec.D+=" alias "+this.rf)}this.a.Kw();-1!==this.Ei?this.a.nk(this.Ei,1,this):this.Bf?this.a.nk(this.a.Wd,1,this):this.a.pc?this.a.nk(10,1,this):2<this.a.g?this.a.nk(11,1,this):this.a.nk(1,1,this);this.a.Ub=this.Ub;this.a.Ss();
this.a.Mc(1);this.a.uz();this.Lb.current=this.Hi([this.Qb,this.Qb],!1,this);this.$j.current=[this.oe];this.ig.current=[this.kb];this.Rh.current=[this.a.nc];this.a.Zy(this.Fg);this.a.br();this.elapsedTime=this.sg=this.Fa=this.a.u=0;this.Pb?(a&&0<this.Ub.length&&(this.hd=this.Ub),this.a.Pw(this.hd),this.a.Hd.reset(),this.Ic=!0,this.ab=!1):(2>=this.a.g&&this.a.az(this.a.Nb),this.a.pc&&PatternManager.sj[2]&&this.a.Fw(a,this.Le,this.Me),this.a.dz(this.a.Nb,this.a.pa),a&&0===this.a.za?(this.Rj=!0,this.h.notification.T("Nothing alive!",
300,!1)):this.Rj=!1,-1!==this.a.ja&&this.a.ir(),this.a.qz(this.qf),this.a.wo(this.qf));this.Qh.locked=this.Ic;this.Qh.current=[this.ab];this.$i.current=[this.a.S];this.bj.current=[this.a.ue];0===this.v.Ll()?(this.Vh.locked=!0,this.tf=!1):(this.Vh.locked=!1,this.tf=!0);this.Vh.current=[this.tf];this.Zj.current=[this.Ca];this.sk.current=[this.fg];this.Yj.current=[this.ff];0===this.a.Sd?(this.hh.current=[!1],this.hh.locked=!0):(this.hh.current=[this.a.Of],this.hh.locked=!1);this.Ic||this.a.zu();a&&(a.le=
null);e=this.a.zoom;c=this.a.ca;b=this.a.$;f=this.ta;this.ta=!1;this.Hf(!0,!1);this.ta=f;this.Ck&&(this.a.zoom=e);this.Ak&&(this.a.ca=c);this.Bk&&(this.a.$=b);this.Kb&&this.Yv(this.Ib);this.ta&&this.Fi&&(this.a.zoom=this.Mk);this.bt=this.a.zoom;this.qb.current=this.Ug([this.a.zoom,this.a.zoom],!1,this);this.Od=this.a.ca;this.Ri=this.a.$;this.Nj=this.a.angle;this.xb.current=[this.Nj,this.Nj];this.kn=this.a.de;this.Jc.current=this.Dj([this.kn,""],!0,this);this.Ip=this.Bd;e=Math.sqrt((this.Ip-h.ie)/
(h.$h-h.ie));this.Ka.current=this.Tg([e,e],!0,this);this.jn=this.fa;this.Yb.current=this.yi([this.jn,this.jn],!0,this);this.Pj=this.a.J;this.rc.current=[this.Pj,this.Pj];this.Hp=this.a.qc;e=Math.sqrt(this.Hp);this.Fb.current=this.wh([e,e],!0,this);this.a.Aa=!0;this.be&&!this.Hh?(this.yc=!0,this.ma.current=h.ai):(this.yc=!1,this.ma.current=h.hb);this.Ju(this.yc);this.A<h.kh?(this.nf.l=!0,this.ma.x=this.Jk+45,this.ma.Oe=this.ma.x,this.Ka.x=this.Dk+45,this.Ka.Oe=this.Ka.x,this.Yb.x=this.zk+45):(this.ma.x=
this.Jk,this.ma.Oe=this.ma.x,this.Ka.x=this.Dk,this.Ka.Oe=this.Ka.x,this.Yb.x=this.zk);this.Yb.Oe=this.Yb.x;this.C>h.nd?(c=this.C-h.nd+h.Uo,c>h.xv&&(c=h.xv),this.qb.width=c,this.Lb.width=c,c>h.py&&(this.Lb.ob="Opacity ")):(this.qb.width=h.Uo,this.Lb.width=h.Uo,this.Lb.ob="Opac ");if(d||this.ta)this.ta?this.Cr():this.resize();a||(PatternManager.Lg?this.h.notification.T("Pattern too big!",h.Sp,!1):this.h.notification.T("Invalid pattern!",h.Sp,!1));this.Ib.length?this.W=0:this.Ua=0;this.Ba||(this.Tb=
!0);this.Tb?(this.ma.l=!0,this.Qd.l=!0,this.pe.l=!0,this.Ka.l=!0,this.Yb.l=!0,this.Pb&&(this.rc.l=!0,this.Fb.l=!0,this.Jc.l=!0,this.a.J=1),this.tc.l=!1,""===this.o?(this.tc.ob=Keywords.Am,this.tc.Ad=h.Xj):(this.tc.ob=this.o,this.tc.Ad=this.Ff)):this.tc.l=!0;this.Rr();this.Ud=!1;this.Mn="";this.Hu(this);this.nl()?(this.vb.ob="Density",this.vb.D="cell density"):(this.vb.ob="Births",this.vb.D="cells born this generation");this.h.Kg=!0;this.h.Bg(!0);this.ge&&this.Mo&&(""===this.Na?this.Mo.nodeValue="LifeViewer":
this.Mo.nodeValue=this.Bv(this.Na));r.La?(d=this.dk,""===d&&(d="Universe "+(this.Eb+1)),this.h.notification.T(d,120,!0),this.zg.l=!1,this.yg.l=!1):(this.zg.l=!0,this.yg.l=!0)};registerEvent(window,"load",x,!1);window.DocConfig=r;window.Controller=y;window.ViewConstants=h;window.startAllViewers=x;window.updateViewer=n;window.updateMe=function(b){var c=a(b).getElementsByTagName(r.mj)[0];b=y.ic[0];c.innerHTML=c.value;c=g(c);b[1].$r(b[1]);b[1].h.notification.clear(!0,!0);b[1].h.notification.clear(!1,
!0);b[1].ph(c,!1)};window.hideViewer=f;window.launchInMolly=function(b){var c=a(b);b=g(c.getElementsByTagName(r.mj)[0]);c=c.getElementsByTagName("form")[0];c.getElementsByTagName("input")[0].value=b;c.submit()}})();window.Help={kr:0,Ry:function(c,d,b,a,f,e,g,n,p,H){var x=n,r=!1,h=c.K;e&&(e.fillStyle===ViewConstants.ul&&(r=!0),h>=H&&h<=H+c.Wb&&(e.font=ViewConstants.pl,r||(e.fillStyle=1<(c.W|0)?ViewConstants.Xj:ViewConstants.xn),e.fillText(d,g,n),r||(e.fillStyle=ViewConstants.Xj),e.fillText(b,g+e.measureText(d).width,n),r||(e.fillStyle=(c.W|0)<c.ck-c.Wb?ViewConstants.Xj:ViewConstants.xn),e.fillText(a,g+e.measureText(d+b).width,n),r||(e.fillStyle=ViewConstants.Xj),e.font=ViewConstants.xi,e.fillText(f,g+c.P[0],
n),x+=p));c.K+=1;return x},qp:function(c){c/=1048576;return 10>c?String(c.toFixed(1)):String(c.toFixed(0))},Ea:function(c,d,b,a,f,e,g,n,p){var H=c.K;f&&(n-=6,H>=p&&H<=p+c.Wb&&(c=f.fillStyle,c!==ViewConstants.ul&&(f.fillStyle="rgb("+d+","+b+","+a+")"),f.fillRect(e,g-(n>>1)-1,n,n),f.fillStyle=c))},measureText:function(c,d,b,a){var f=a?c.eq:c.cq;f[c.K]?d=f[c.K]:(d.font=0===a?ViewConstants.pl:ViewConstants.xi,d=d.measureText(b).width,f[c.K]=d);return d},b:function(c,d,b,a,f,e,g,n){var p=e,H=String(b).indexOf("\t"),
x=c.K,r=0,h=!0;(x<n||x>n+c.Wb)&&h&&(h=!1);if(d.length){h&&(a.font=ViewConstants.pl,a.fillText(d,f,e));d=this.measureText(c,a,d,0);d>c.P[r]&&(h&&(e+=g,p+=g),c.K+=1);h&&(a.font=ViewConstants.xi);for(;-1!==H;)h&&a.fillText(b.substr(0,H),f+c.P[r],e),r+=1,b=b.substr(H+1),H=b.indexOf("\t");H=!1;c.$d&&(d=this.measureText(c,a,b,1),f+c.P[r]+d+this.kr>a.canvas.width&&(d=b.toLowerCase().indexOf("|"),-1===d&&(d=b.toLowerCase().indexOf("s"),-1===d&&(d=b.indexOf("/"),-1!==d&&(d+=1))),-1!==d&&(h&&(a.fillText(b.substr(0,
d),f+c.P[r],e),e+=g,p+=g,a.fillText("  "+b.substr(d),f+c.P[r],e)),c.K+=1,H=!0)));H||h&&a.fillText(b,f+c.P[r],e)}else a.font=ViewConstants.xi,h&&a.fillText(b,f,e);h&&(p+=g);c.K+=1;return p},Rb:function(c,d,b){for(var a=ColourManager.hd,f=Object.keys(a),e="    "+c+"\t"+d+"\t"+b,g=!1,n,p=0;p<f.length&&!g;)n=a[f[p]],n[1]===c&&n[2]===d&&n[3]===b?(e+="\t"+n[0],g=!0,p=f.length):p+=1;return e},Gd:function(c){return this.Rb(c.red,c.green,c.blue)},iw:function(c){var d=0,b=0;c.a.Aa&&(d=c.a.F.O-c.a.F.N+1,b=c.a.F.M-
c.a.F.L+1);-1!==c.a.ja&&(0!==c.a.oa&&(d=c.a.oa),0!==c.a.qa&&(b=c.a.qa));return d+" x "+b},qw:function(c){var d="AutoFit";c.ff&&(d+=" History");c.Fg&&(d+=" State 1");return d},gu:function(c,d){d-=c.length;for(var b="";0<d;)b+=" ",--d;return b+c},vp:function(c){var d=c.indexOf(","),b=c.lastIndexOf(",");return[c.substring(4,d),c.substring(d+1,b),c.substring(b+1,c.length-1)]},xu:function(c,d,b,a,f,e){var g=a;switch(c.Th){case ViewConstants.yh:this.Xy(c,d,b,a,f,e);break;case ViewConstants.At:this.Ty(c,
d,b,a,f,e);break;case ViewConstants.hr:this.Vy(c,d,b,a,f,e);break;case ViewConstants.wl:this.Sy(c,d,b,a,f,e);break;case ViewConstants.Xu:this.Wy(c,d,b,a,f,e);break;case ViewConstants.Os:this.Oy(c,d,b,a,f,e);break;case ViewConstants.rs:this.My(c,d,b,a,f,e);break;case ViewConstants.Ut:this.Uy(c,d,b,a,f,e);break;case ViewConstants.xs:this.Ny(c,d,b,a,f,e)}c.ck=c.K-1;c.K=1;c.P[0]=120;a=g+f*(c.Wb+2);a=c.Th!==ViewConstants.yh?this.Ry(c,"Up"," / ","Down","scroll help",d,b,a,f,0):a+f;c.ge?this.b(c,"H","close help",
d,b,a,f,0):this.b(c,"H / Esc","close help",d,b,a,f,0)},Xy:function(c,d,b,a,f,e){c.K=1;c.$d=!1;c.R=[];c.P[0]=108;c.R[0]=[c.K,"Top"];this.b(c,"",ViewConstants.kv+" build "+ViewConstants.Wr+" by "+ViewConstants.jv,d,b,a,f,e)},Ny:function(c,d,b,a,f,e){var g,n=0;c.K=1;c.$d=!1;c.R=[];c.R[n]=[c.K,"Top"];n+=1;c.P[0]=128;c.P[1]=208;c.P[2]=288;c.P[3]=368;a=this.b(c,"","Annotations",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Labels"];n+=1;a=this.b(c,"","Labels:",d,b,a,f,e);a=this.b(c,"Number",c.v.ld.length,
d,b,a,f,e);for(g=0;g<c.v.ld.length;g+=1){var p="Label "+String(g+1);a=this.b(c,p,c.v.Qx(g),d,b,a,f,e);a=this.b(c," ",c.v.Rx(g),d,b,a,f,e);a=this.b(c," ",c.v.Sx(g),d,b,a,f,e);p=this.vp(c.v.Tx(g));this.Ea(c,p[0],p[1],p[2],d,b+c.P[0],a,f,e);a=this.b(c,"Colour",this.Rb(p[0],p[1],p[2]),d,b,a,f,e)}a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Arrows"];n+=1;a=this.b(c,"","Arrows:",d,b,a,f,e);a=this.b(c,"Number",c.v.gd.length,d,b,a,f,e);for(g=0;g<c.v.gd.length;g+=1)p="Arrow "+String(g+1),a=this.b(c,p,c.v.jw(g),
d,b,a,f,e),a=this.b(c," ",c.v.kw(g),d,b,a,f,e),a=this.b(c," ",c.v.lw(g),d,b,a,f,e),p=this.vp(c.v.Hm(g)),this.Ea(c,p[0],p[1],p[2],d,b+c.P[0],a,f,e),a=this.b(c,"Colour",this.Rb(p[0],p[1],p[2]),d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Polygons"];a=this.b(c,"","Polygons:",d,b,a,f,e);a=this.b(c,"Number",c.v.pd.length,d,b,a,f,e);for(g=0;g<c.v.pd.length;g+=1)p="Polygon "+String(g+1),a=this.b(c,p,c.v.yy(g),d,b,a,f,e),a=this.b(c," ",c.v.zy(g),d,b,a,f,e),a=this.b(c," ",c.v.Ay(g),d,b,a,f,e),p=this.vp(c.v.By(g)),
this.Ea(c,p[0],p[1],p[2],d,b+c.P[0],a,f,e),a=this.b(c,"Colour",this.Rb(p[0],p[1],p[2]),d,b,a,f,e)},Ty:function(c,d,b,a,f,e){var g,n=0;c.K=1;c.$d=!1;c.R=[];c.P[0]=124;c.R[n]=[c.K,"Top"];n+=1;a=this.b(c,"","Keyboard commands",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Playback"];n+=1;a=this.b(c,"","Playback controls:",d,b,a,f,e);c.Pb?a=this.b(c,"R","reset",d,b,a,f,e):(a=this.b(c,"Enter","toggle play / pause",d,b,a,f,e),a=this.b(c,"Space","pause / next generation",d,b,a,f,e),a=this.b(c,"B",
"pause / previous generation",d,b,a,f,e),a=this.b(c,"Tab","pause / next step",d,b,a,f,e),a=this.b(c,"Shift Tab","pause / previous step",d,b,a,f,e),a=c.ge?this.b(c,"Esc","close LifeViewer",d,b,a,f,e):this.b(c,"Esc","pause if playing",d,b,a,f,e),a=this.b(c,"R","reset to generation 0",d,b,a,f,e),a=this.b(c,"Shift R","reset all LifeViewers to generation 0",d,b,a,f,e),a=this.b(c,"-","decrease generation speed",d,b,a,f,e),a=this.b(c,"+","increase generation speed",d,b,a,f,e),a=this.b(c,"Shift -","minimum generation speed",
d,b,a,f,e),a=this.b(c,"Shift +","maximum generation speed",d,b,a,f,e),a=this.b(c,"D","decrease step size",d,b,a,f,e),a=this.b(c,"E","increase step size",d,b,a,f,e),a=this.b(c,"Shift D","minimum step size",d,b,a,f,e),a=this.b(c,"Shift E","maximum step size",d,b,a,f,e),a=this.b(c,"0","reset step and speed",d,b,a,f,e),c.Kb?-1!==c.la?(a=this.b(c,"W","toggle waypoint playback and loop",d,b,a,f,e),a=this.b(c,"Shift P","toggle just loop",d,b,a,f,e)):a=this.b(c,"W","toggle waypoint playback",d,b,a,f,e):-1!==
c.la&&(a=this.b(c,"W","toggle loop",d,b,a,f,e)));a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Multi"];n+=1;a=this.b(c,"","Multi-Viewer controls:",d,b,a,f,e);DocConfig.La&&(a=this.b(c,"Page Up","previous universe",d,b,a,f,e),a=this.b(c,"Page Down","next universe",d,b,a,f,e),a=this.b(c,"Home","first universe",d,b,a,f,e),a=this.b(c,"End","last universe",d,b,a,f,e));a=this.b(c,"Z","stop playback in all other LifeViewers",d,b,a,f,e);a=this.b(c,"Shift Z","stop playback in all LifeViewers",d,b,a,f,e);a=this.b(c,
"","",d,b,a,f,e);c.R[n]=[c.K,"Camera"];n+=1;a=this.b(c,"","Camera controls:",d,b,a,f,e);if(c.A>=ViewConstants.kh||(c.ta&&c.Jr)>=ViewConstants.kh)a=this.b(c,"M","toggle navigation menu",d,b,a,f,e);a=this.b(c,"V","restore saved camera position",d,b,a,f,e);a=this.b(c,"Shift V","save current camera position",d,b,a,f,e);var p=c.v.nb.length;if(0<p)for(a=this.b(c,"J","jump to next point of interest",d,b,a,f,e),a=this.b(c,"Shift J","jump to previous point of interest",d,b,a,f,e),9<p&&(p=9),g=1;g<=p;g+=1)a=
this.b(c,"Alt "+String(g),"jump to POI #"+String(g),d,b,a,f,e);a=this.b(c,"F","fit pattern to display",d,b,a,f,e);a=this.b(c,"Shift F","toggle autofit",d,b,a,f,e);a=this.b(c,"Shift H","toggle autofit history mode",d,b,a,f,e);c.a.pc&&(a=this.b(c,"Shift S","toggle autofit state 1 mode",d,b,a,f,e));a=this.b(c,"[","zoom out",d,b,a,f,e);a=this.b(c,"]","zoom in",d,b,a,f,e);a=this.b(c,"Shift [","halve zoom",d,b,a,f,e);a=this.b(c,"Shift ]","double zoom",d,b,a,f,e);a=this.b(c,"1","1x zoom",d,b,a,f,e);a=this.b(c,
"2","2x zoom",d,b,a,f,e);a=this.b(c,"4","4x zoom",d,b,a,f,e);a=this.b(c,"8","8x zoom",d,b,a,f,e);a=this.b(c,"6","16x zoom",d,b,a,f,e);a=this.b(c,"3","32x zoom",d,b,a,f,e);a=this.b(c,"Shift 1","integer zoom",d,b,a,f,e);a=this.b(c,"Shift 2","-2x zoom",d,b,a,f,e);a=this.b(c,"Shift 4","-4x zoom",d,b,a,f,e);a=this.b(c,"Shift 8","-8x zoom",d,b,a,f,e);a=this.b(c,"Shift 6","-16x zoom",d,b,a,f,e);a=this.b(c,"Left","pan left",d,b,a,f,e);a=this.b(c,"Right","pan right",d,b,a,f,e);a=this.b(c,"Up","pan up",d,b,
a,f,e);a=this.b(c,"Down","pan down",d,b,a,f,e);a=this.b(c,"Shift Left","pan north west",d,b,a,f,e);a=this.b(c,"Shift Right","pan south east",d,b,a,f,e);a=this.b(c,"Shift Up","pan north east",d,b,a,f,e);a=this.b(c,"Shift Down","pan south west",d,b,a,f,e);a=this.b(c,"<","rotate left",d,b,a,f,e);a=this.b(c,">","rotate right",d,b,a,f,e);a=this.b(c,"Shift <","rotate left 90 degrees",d,b,a,f,e);a=this.b(c,"Shift >","rotate right 90 degrees",d,b,a,f,e);a=this.b(c,"5","reset angle",d,b,a,f,e);a=this.b(c,
"","",d,b,a,f,e);c.Pb||(c.R[n]=[c.K,"View"],n+=1,a=this.b(c,"","View controls:",d,b,a,f,e),a=this.b(c,"Q","increase number of layers",d,b,a,f,e),a=this.b(c,"A","decrease number of layers",d,b,a,f,e),a=this.b(c,"P","increase layer depth",d,b,a,f,e),a=this.b(c,"L","decrease layer depth",d,b,a,f,e),a=this.b(c,"C","next colour theme",d,b,a,f,e),a=this.b(c,"Shift C","previous colour theme",d,b,a,f,e),a=this.b(c,"Alt C","default theme",d,b,a,f,e),a=this.b(c,"","",d,b,a,f,e));c.R[n]=[c.K,"Display"];n+=1;
a=this.b(c,"","Display controls:",d,b,a,f,e);c.Pb||(a=this.b(c,"G","toggle generation statistics",d,b,a,f,e),a=this.b(c,"Shift G","toggle generation display mode",d,b,a,f,e),a=this.b(c,"Y","toggle population graph",d,b,a,f,e),a=this.b(c,"Shift Y","toggle graph lines",d,b,a,f,e),a=this.b(c,"7","decrease graph opacity",d,b,a,f,e),a=this.b(c,"9","increase graph opacity",d,b,a,f,e));a=this.b(c,"/","toggle hex view",d,b,a,f,e);a=this.b(c,"Shift /","pattern default view",d,b,a,f,e);a=this.b(c,"T","toggle timing information",
d,b,a,f,e);a=this.b(c,"Shift T","toggle extended timing information",d,b,a,f,e);a=this.b(c,"I","toggle pattern and engine information",d,b,a,f,e);a=this.b(c,"Shift I","toggle information bar",d,b,a,f,e);a=this.b(c,"X","toggle grid lines",d,b,a,f,e);0<c.a.Sd&&(a=this.b(c,"Shift X","toggle major grid lines",d,b,a,f,e));0<c.v.Ll()&&(a=this.b(c,"Shift L","toggle annotation display",d,b,a,f,e));c.th&&(a=this.b(c,"N","toggle thumbnail view",d,b,a,f,e));a=this.b(c,"S","toggle stars",d,b,a,f,e);a=this.b(c,
"O","open screenshot in separate window",d,b,a,f,e);a=this.b(c,"Shift O","open population graph in separate window",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Clipboard"];n+=1;a=this.b(c,"","Clipboard controls:",d,b,a,f,e);a=this.b(c,"Ctrl+Shift C","copy original pattern",d,b,a,f,e);a=this.b(c,"Ctrl C","copy current pattern",d,b,a,f,e);a=this.b(c,"Ctrl+Alt C","copy current pattern with comments",d,b,a,f,e);a=this.b(c,"K","copy camera position",d,b,a,f,e);a=this.b(c,"Shift K","copy camera position and view",
d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Edit"];n+=1;a=this.b(c,"","Edit controls:",d,b,a,f,e);a=this.b(c,"F1","toggle draw/pan mode",d,b,a,f,e);a=this.b(c,"Shift F1","toggle smart drawing",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Help"];a=this.b(c,"","Help controls:",d,b,a,f,e);a=this.b(c,"Up","scroll up one line",d,b,a,f,e);a=this.b(c,"Down","scroll down one line",d,b,a,f,e);a=this.b(c,"Page Up","scroll up one page",d,b,a,f,e);a=this.b(c,"Page Down","scroll down one page",
d,b,a,f,e);a=this.b(c,"Shift Page Up","scroll up one section",d,b,a,f,e);a=this.b(c,"Shift Page Down","scroll down one section",d,b,a,f,e);a=this.b(c,"Home","go to first help page",d,b,a,f,e);this.b(c,"End","go to last help page",d,b,a,f,e)},Vy:function(c,d,b,a,f,e){var g=0;c.K=1;c.$d=!1;c.R=[];c.P[0]=252;c.R[g]=[c.K,"Top"];g+=1;a=this.b(c,"","Scripts",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);a=this.b(c,"","Scripts must be embedded in pattern comments",d,b,a,f,e);a=this.b(c,"","Commands must be surrounded by whitespace",
d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"Params"];g+=1;a=this.b(c,"","Parameter conventions:",d,b,a,f,e);a=this.b(c,"A|B","either A or B",d,b,a,f,e);a=this.b(c,"(A)","A is optional",d,b,a,f,e);a=this.b(c,"<1..3>","integer range",d,b,a,f,e);a=this.b(c,"<1.0..3.0>","decimal range",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"General"];g+=1;a=this.b(c,"","General:",d,b,a,f,e);a=this.b(c,Keywords.pj,"start script section",d,b,a,f,e);a=this.b(c,Keywords.mk,"end script section",d,b,a,
f,e);a=this.b(c,Keywords.zr,"enable strict validation",d,b,a,f,e);a=this.b(c,Keywords.Ar,"suppress overwrite warning",d,b,a,f,e);a=this.b(c,Keywords.Zq+" <string>","set random seed",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"Playback"];g+=1;a=this.b(c,"","Playback:",d,b,a,f,e);a=this.b(c,Keywords.Km+" ("+Keywords.Ha+")","start play automatically",d,b,a,f,e);a=this.b(c,Keywords.Vf+" <1..>|"+Keywords.Ha,"loop at generation",d,b,a,f,e);a=this.b(c,Keywords.gg+" <1..>|"+Keywords.Ha,"stop at generation",
d,b,a,f,e);a=this.b(c,Keywords.Yi+" <"+ViewConstants.ie+".."+ViewConstants.$h+">","set steps per second",d,b,a,f,e);a=this.b(c,Keywords.tj+" <"+ViewConstants.fj+".."+ViewConstants.Vd+">","set generations per step",d,b,a,f,e);a=this.b(c,Keywords.aq,"always use hard reset",d,b,a,f,e);a=this.b(c,Keywords.Am,"disable playback",d,b,a,f,e);a=this.b(c,Keywords.Gq,"disable step back",d,b,a,f,e);a=this.b(c,Keywords.Jq,"disable stop messages",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"Camera"];g+=
1;a=this.b(c,"","Camera:",d,b,a,f,e);a=this.b(c,Keywords.Gh+" <0..359>","set camera angle",d,b,a,f,e);a=this.b(c,Keywords.Wc+" <-"+(c.a.U>>1)+".."+(c.a.U>>1)+">","set camera x position",d,b,a,f,e);a=this.b(c,Keywords.Xc+" <-"+(c.a.U>>1)+".."+(c.a.U>>1)+">","set camera y position",d,b,a,f,e);a=this.b(c,Keywords.kc+" <"+Number(-1/ViewConstants.Ra).toFixed(1)+".."+ViewConstants.tb.toFixed(1)+">","set camera zoom",d,b,a,f,e);a=this.b(c,Keywords.ip,"same as "+Keywords.kc,d,b,a,f,e);a=this.b(c,Keywords.Jm+
" ("+Keywords.Ha+")","fit pattern to display",d,b,a,f,e);a=this.b(c,Keywords.kq+" ("+Keywords.Ha+")","autofit uses pattern history",d,b,a,f,e);a=this.b(c,Keywords.xr+" ("+Keywords.Ha+")","autofit only uses state 1",d,b,a,f,e);a=this.b(c,Keywords.wm+" X Y","camera tracking",d,b,a,f,e);a=this.b(c," X ","horizontal speed cells/gen",d,b,a,f,e);a=this.b(c," Y ","vertical speed cells/gen",d,b,a,f,e);a=this.b(c,Keywords.Aj+" E S W N","camera box tracking",d,b,a,f,e);a=this.b(c," E ","east edge speed cells/gen",
d,b,a,f,e);a=this.b(c," S ","south edge speed cells/gen",d,b,a,f,e);a=this.b(c," W ","west edge speed cells/gen",d,b,a,f,e);a=this.b(c," N ","north edge speed cells/gen",d,b,a,f,e);a=this.b(c,Keywords.vm+" P X Y","camera tracking with loop",d,b,a,f,e);a=this.b(c," P ","period",d,b,a,f,e);a=this.b(c," X ","horizontal speed cells/gen",d,b,a,f,e);a=this.b(c," Y ","vertical speed cells/gen",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"Waypoints"];g+=1;a=this.b(c,"","Waypoints:",d,b,a,f,e);a=this.b(c,
Keywords.lm+" <0..>","waypoint at generation",d,b,a,f,e);a=this.b(c,Keywords.Oq+" <0.0..>","pause for time",d,b,a,f,e);a=this.b(c,Keywords.Ie+" "+Keywords.De+"|"+Keywords.Wc+"|"+Keywords.Xc+"|"+Keywords.kc,"linear motion",d,b,a,f,e);a=this.b(c,Keywords.yf+" "+Keywords.De+"|"+Keywords.Wc+"|"+Keywords.Xc+"|"+Keywords.kc,"bezier motion (default)",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"POIs"];g+=1;a=this.b(c,"","Points of interest:",d,b,a,f,e);a=this.b(c,Keywords.no,"define point of interest",
d,b,a,f,e);a=this.b(c,Keywords.mo+" <0..>","start POI at generation",d,b,a,f,e);a=this.b(c,Keywords.Ul,"reset generation at POI",d,b,a,f,e);a=this.b(c,Keywords.ik,"start playback at POI",d,b,a,f,e);a=this.b(c,Keywords.jk,"stop playback at POI",d,b,a,f,e);a=this.b(c,Keywords.Vl+" <"+WaypointConstants.lu+".."+WaypointConstants.ku+">","set POI transition speed",d,b,a,f,e);a=this.b(c,"<command>|ALL "+Keywords.Qa,"use initial value for POI",d,b,a,f,e);a=this.b(c,Keywords.Sb+"<string>"+Keywords.Sb,"define message",
d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"Annotations"];g+=1;a=this.b(c,"","Annotations:",d,b,a,f,e);a=this.b(c,Keywords.yl+" X Y ZOOM ("+Keywords.Pc+")","define label at position",d,b,a,f,e);a=this.b(c," "+Keywords.Sb+"<string>"+Keywords.Sb,"... optionally fix position",d,b,a,f,e);a=this.b(c,Keywords.sq+" <"+ViewConstants.Xt+".."+ViewConstants.Qt+">","define label font size",d,b,a,f,e);a=this.b(c,Keywords.qq+" <0.0..1.0>","define label font alpha",d,b,a,f,e);a=this.b(c,Keywords.tq+" <0..> <0..> <0..>",
"generation range / fade",d,b,a,f,e);a=this.b(c,Keywords.rq+" <0..359>","label angle",d,b,a,f,e);a=this.b(c," ("+Keywords.Pc+")","... optionally fix angle",d,b,a,f,e);a=this.b(c,Keywords.uq+" X Y D|"+Keywords.Ha,"label target and distance",d,b,a,f,e);a=this.b(c,Keywords.vq+" DX DY|"+Keywords.Pc,"label move per generation",d,b,a,f,e);a=this.b(c,Keywords.Rk+" X1 Y1 X2 Y2 ZOOM","define arrow at position",d,b,a,f,e);a=this.b(c," ("+Keywords.Pc+")","... optionally fix position",d,b,a,f,e);a=this.b(c,Keywords.mp+
" <"+ViewConstants.ao+".."+ViewConstants.Un+"> <0.0..1.0>","line width and head multiple",d,b,a,f,e);a=this.b(c,Keywords.kp+" <0.0..1.0>","define arrow alpha",d,b,a,f,e);a=this.b(c,Keywords.np+" <0..> <0..> <0..>","generation range / fade",d,b,a,f,e);a=this.b(c,Keywords.lp+" <0..359>","arrow angle",d,b,a,f,e);a=this.b(c," ("+Keywords.Pc+")","... optionally fix angle",d,b,a,f,e);a=this.b(c,Keywords.op+" X Y D|"+Keywords.Ha,"arrow target and distance",d,b,a,f,e);a=this.b(c,Keywords.pp+" DX DY|"+Keywords.Pc,
"arrow move per generation",d,b,a,f,e);a=this.b(c,Keywords.Sq+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",d,b,a,f,e);a=this.b(c," ("+Keywords.Pc+")","... optionally fix position",d,b,a,f,e);a=this.b(c,Keywords.oo+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",d,b,a,f,e);a=this.b(c," ("+Keywords.Pc+")","... optionally fix position",d,b,a,f,e);a=this.b(c,Keywords.Tq+" <"+ViewConstants.ao+".."+ViewConstants.Un+">","line width",d,b,a,f,e);a=this.b(c,Keywords.Qq+" <0.0..1.0>","define polygon alpha",
d,b,a,f,e);a=this.b(c,Keywords.Uq+" <0..> <0..> <0..>","generation range / fade",d,b,a,f,e);a=this.b(c,Keywords.Rq+" <0..359>","polygon angle",d,b,a,f,e);a=this.b(c," ("+Keywords.Pc+")","... optionally fix angle",d,b,a,f,e);a=this.b(c,Keywords.Vq+" X Y D|"+Keywords.Ha,"polygon target and distance",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"Display"];g+=1;a=this.b(c,"","Display:",d,b,a,f,e);a=this.b(c,Keywords.yk+" <"+ViewConstants.nd+".."+c.qg+">","set LifeViewer width",d,b,a,f,e);a=this.b(c,
Keywords.Wj+" <"+ViewConstants.bk+".."+ViewConstants.Xn+">","set LifeViewer height",d,b,a,f,e);a=this.b(c,Keywords.Xl+" <"+ViewConstants.nd+".."+c.qg+">","set popup width",d,b,a,f,e);a=this.b(c,Keywords.Wl+" <"+ViewConstants.bk+".."+ViewConstants.Xn+">","set popup height",d,b,a,f,e);a=this.b(c,Keywords.wk+" "+Keywords.Sb+"<string>"+Keywords.Sb,"set popup window title",d,b,a,f,e);a=this.b(c," "+Keywords.ve+"B","program build number",d,b,a,f,e);a=this.b(c," "+Keywords.ve+"N","pattern name",d,b,a,f,
e);a=this.b(c," "+Keywords.ve+"O","pattern originator",d,b,a,f,e);a=this.b(c," "+Keywords.ve+"R","rule name",d,b,a,f,e);a=this.b(c," "+Keywords.ve+"A","rule alias",d,b,a,f,e);a=this.b(c," "+Keywords.ve+"T","program title",d,b,a,f,e);a=this.b(c," "+Keywords.ve+Keywords.ve,Keywords.ve+" symbol",d,b,a,f,e);a=this.b(c,Keywords.ej+" <"+ViewConstants.$n+".."+ViewConstants.Tn+">","set number of layers",d,b,a,f,e);a=this.b(c,Keywords.Si+" <"+ViewConstants.Zn.toFixed(1)+".."+ViewConstants.Ot.toFixed(1)+">",
"set layer depth",d,b,a,f,e);a=this.b(c,Keywords.tl+" ("+Keywords.Ha+")","display grid lines",d,b,a,f,e);a=this.b(c,Keywords.sl+" <0..16>","set major grid line interval",d,b,a,f,e);a=this.b(c,Keywords.Fn+" <0.."+(2<c.a.g?1:63)+">","number of history states",d,b,a,f,e);a=this.b(c,Keywords.km+" ("+Keywords.Ha+")","display stars",d,b,a,f,e);a=this.b(c,Keywords.gq,"force hex display",d,b,a,f,e);a=this.b(c,Keywords.sr,"force square display",d,b,a,f,e);a=this.b(c,Keywords.fq,"hexagonal cells for hex",d,
b,a,f,e);a=this.b(c,Keywords.rr,"square cells for hex",d,b,a,f,e);a=this.b(c,Keywords.Fq,"disable menus and hotkeys",d,b,a,f,e);a=this.b(c,Keywords.ut,"hide menus during playback",d,b,a,f,e);a=this.b(c,Keywords.nr,"show timing information",d,b,a,f,e);a=this.b(c,Keywords.Tp,"extended timing information",d,b,a,f,e);a=this.b(c,Keywords.lr,"show generation statistics",d,b,a,f,e);a=this.b(c,Keywords.mr,"show information bar",d,b,a,f,e);a=this.b(c,Keywords.Iq,"hide performance warning",d,b,a,f,e);a=this.b(c,
"","",d,b,a,f,e);c.R[g]=[c.K,"Thumb"];g+=1;a=this.b(c,"","Thumbnails:",d,b,a,f,e);a=this.b(c,Keywords.Mr+" ("+Keywords.Ha+")","start at 1/"+c.Ac+" size",d,b,a,f,e);a=this.b(c,Keywords.Kr+" <"+ViewConstants.Zt+".."+ViewConstants.Tt+">","set thumbnail divisor",d,b,a,f,e);a=this.b(c,Keywords.Ir+" ("+Keywords.Ha+")","thumbnail launches viewer",d,b,a,f,e);a=this.b(c,Keywords.Lr+" <"+Number(-1/ViewConstants.Ra).toFixed(1)+".."+ViewConstants.tb.toFixed(1)+">","set thumbnail zoom",d,b,a,f,e);a=this.b(c,"",
"",d,b,a,f,e);c.R[g]=[c.K,"Graph"];g+=1;a=this.b(c,"","Population Graph:",d,b,a,f,e);a=this.b(c,Keywords.wn,"display population graph",d,b,a,f,e);a=this.b(c,Keywords.Wp+" <0.0..1.0>","population graph opacity",d,b,a,f,e);a=this.b(c,Keywords.Xp,"population graph use points",d,b,a,f,e);a=this.b(c,Keywords.fo,"disable population graph",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[g]=[c.K,"Colours"];g+=1;a=this.b(c,"","Colours:",d,b,a,f,e);a=this.b(c,Keywords.sh+" <0.."+(c.a.Wd-1)+">|<name>","set theme",
d,b,a,f,e);a=this.b(c," <name> = "+Keywords.vk,"set custom theme",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Jo+" R G B","set theme background",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Io+" R G B","set theme alive color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Gr+" R G B","set theme alive ramp",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Lo+" R G B","set theme dead color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Ko+" R G B","set theme dead ramp",d,b,a,f,e);a=this.b(c,Keywords.na+
" "+Keywords.Ds+" R G B","set boundary color",d,b,a,f,e);a=this.b(c,Keywords.na+" <0.."+String(c.nh-1)+"> R G B","set state color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.bu+" R G B","set [R]History state color "+ViewConstants.cu,d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.du+" R G B","set [R]History state color "+ViewConstants.eu,d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.vt+" R G B","set [R]History state color "+ViewConstants.wt,d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Ht+" R G B",
"set [R]History state color "+ViewConstants.It,d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Lt+" R G B","set [R]History state color "+ViewConstants.Mt,d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Jt+" R G B","set [R]History state color "+ViewConstants.Kt,d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Bt+" R G B","set [R]History state color "+ViewConstants.Ct,d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.tl+" R G B","set grid color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.sl+" R G B","set grid major color",
d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.km+" R G B","set star color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Er+" R G B","set waypoint message color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Rp+" R G B","set error message color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.mt+" R G B","set graph background color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.lt+" R G B","set graph axis color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.kt+" R G B","set graph alive color",
d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.nt+" R G B","set graph birth color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.ot+" R G B","set graph death color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.yl+" R G B","set label text color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.Rk+" R G B","set arrow line color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.pu+" R G B","set polygon color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.dv+" R G B","set UI foreground color",d,b,a,f,
e);a=this.b(c,Keywords.na+" "+Keywords.bv+" R G B","set UI background color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.ev+" R G B","set UI highlight text color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.gv+" R G B","set UI selected color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.fv+" R G B","set UI locked color",d,b,a,f,e);a=this.b(c,Keywords.na+" "+Keywords.cv+" R G B","set UI border color",d,b,a,f,e);a=this.b(c,Keywords.wp,"same as "+Keywords.na,d,b,a,f,e);a=this.b(c,"","",d,b,a,
f,e);c.R[g]=[c.K,"Pattern"];a=this.b(c,"","Pattern:",d,b,a,f,e);a=this.b(c,Keywords.Ro+" <-"+(c.a.U>>1)+".."+(c.a.U>>1)+">","set pattern x offset",d,b,a,f,e);a=this.b(c,Keywords.So+" <-"+(c.a.U>>1)+".."+(c.a.U>>1)+">","set pattern y offset",d,b,a,f,e);a=this.b(c,Keywords.Jp+" <"+ViewConstants.Vt+".."+ViewConstants.Nt+">","set boundary delete range",d,b,a,f,e);a=this.b(c,Keywords.Eq,"disable pattern source copy",d,b,a,f,e);a=this.b(c,Keywords.Kq,"hide pattern source",d,b,a,f,e);this.b(c,Keywords.Aq+
" <"+ViewConstants.Wt+".."+ViewConstants.Pt+">","set maximum grid size 2^n",d,b,a,f,e)},Sy:function(c,d,b,a,f,e){var g,n=Controller.ic.length,p=c.hd,H=c.a.Ia[c.a.de];var x="";var r=0;c.K=1;c.$d=!1;c.R=[];c.P[0]=128;c.R[r]=[c.K,"Top"];r+=1;a=this.b(c,"","Information",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Display"];r+=1;a=this.b(c,"","Display:",d,b,a,f,e);a=this.b(c,"Size",c.C+" x "+c.A,d,b,a,f,e);DocConfig.Dl&&(a=this.b(c,"Limit Width",c.qg,d,b,a,f,e));var h=c.a.ka;1>h&&(h=-1/h);a=this.b(c,
"View","X "+-(c.a.width/2-(c.a.ca+c.a.Hb)|0)+"  Y "+-(c.a.height/2-(c.a.$+c.a.Cb)|0)+"  Z "+h.toFixed(2)+"  ANGLE "+c.a.angle.toFixed(0),d,b,a,f,e);h=c.lk;1>h&&(h=1/h);a=this.b(c,"Saved View","X "+-(c.a.width/2-c.Xd|0)+"  Y "+-(c.a.height/2-c.oj|0)+"  Z "+h.toFixed(2)+"  ANGLE "+c.er.toFixed(0),d,b,a,f,e);a=this.b(c,"Origin","X "+c.a.Hb.toFixed(2)+"  Y "+c.a.Cb.toFixed(2)+"  Z "+c.a.fc.toFixed(3),d,b,a,f,e);c.Tb?x=c.Pb?"Multi-State Viewer":"Viewer":c.a.pc&&(x="History Player");a=this.b(c,"Type",x,
d,b,a,f,e);x=c.a.S?"Hex":"Square";a=this.b(c,"Mode",x,d,b,a,f,e);x=c.a.ue?"Hexagonal":"Square";a=this.b(c,"Cells",x,d,b,a,f,e);c.th&&(a=this.b(c,"Thumbnail","1/"+c.Ac,d,b,a,f,e));a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Pattern"];r+=1;a=this.b(c,"","Pattern:",d,b,a,f,e);""!==c.dk&&(a=this.b(c,"Name",c.dk,d,b,a,f,e));""!==c.Rl&&(a=this.b(c,"Originator",c.Rl,d,b,a,f,e));a=this.b(c,"Actual Size",c.ag+" x "+c.ug,d,b,a,f,e);-1!==c.Eg&&-1!==c.Dg&&(a=this.b(c,"Specified",c.Eg+" x "+c.Dg,d,b,a,f,e));a=this.b(c,
"Offset","X "+c.td+"  Y "+c.ud,d,b,a,f,e);c.Ph&&(a=this.b(c,"CXRLE Gen",c.un,d,b,a,f,e));c.eg&&(a=this.b(c,"CXRLE Pos","X "+c.hi+"  Y "+c.ii,d,b,a,f,e));c.fs&&(a=this.b(c,"Clipped",(0===c.a.oa?"Inf":c.a.oa)+" x "+(0===c.a.qa?"Inf":c.a.qa)+" "+PatternManager.Es(c.a.ja),d,b,a,f,e));c.Ba?x=c.vg:(x=c.vg,""===x&&(x="(none)"));if("MAP"===x.substr(0,3)&&x.length===PatternManager.ak+3)for(a=this.b(c,"Rule","MAP",d,b,a,f,e),h=3;h<PatternManager.ak+3;)a=this.b(c,"  "+(h-3),x.substr(h,16),d,b,a,f,e),h+=16;else c.$d=
!0,a=this.b(c,"Rule",x,d,b,a,f,e),c.$d=!1;""!==c.rf&&(a=this.b(c,"Alias",c.rf,d,b,a,f,e));-1!==c.a.we?x="1D":c.a.Ql?x="Hex":c.a.ra?(x=c.a.Mb.type===PatternManager.Je?"Moore":c.a.Mb.type===PatternManager.Te?"von Neumann":"Circular",1<c.a.Mb.sc&&(x+=" range "+c.a.Mb.sc)):x=c.a.Fd?"von Neumann":"Moore";a=this.b(c,"N'hood",x,d,b,a,f,e);x=c.nh;2<c.nh&&c.Tl!==c.nh&&(x=c.Tl+" of "+x);a=this.b(c,"States",x,d,b,a,f,e);if(c.Sl)for(g=1;g<c.nh;g+=1)c.Sl[g]&&(a=this.b(c,"State "+g,c.Sl[g],d,b,a,f,e));a=this.b(c,
"Decoder",c.$f,d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Grid"];r+=1;a=this.b(c,"","Grid:",d,b,a,f,e);a=this.b(c,"Size",c.a.width+" x "+c.a.height,d,b,a,f,e);a=this.b(c,"Maximum",c.a.U+" x "+c.a.U,d,b,a,f,e);a=this.b(c,"Area",this.iw(c),d,b,a,f,e);a=0!==(c.a.u&1)?this.b(c,"Tiles",c.a.pm(c.a.Sa)+" / "+c.a.pm(c.a.Ta),d,b,a,f,e):this.b(c,"Tiles",c.a.pm(c.a.ua)+" / "+c.a.pm(c.a.Ta),d,b,a,f,e);c.a.Zd&&(a=this.b(c,"State6",c.a.pm(c.a.Zd),d,b,a,f,e));a=this.b(c,"Tile Size",(c.a.qm<<3)+" x "+c.a.rm,
d,b,a,f,e);a=this.b(c,"Generation",c.a.u,d,b,a,f,e);a=this.b(c,"DeleteRange",c.a.Zl,d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);-1!==c.a.ja&&(c.R[r]=[c.K,"Bounded"],r+=1,a=this.b(c,"","Bounded grid:",d,b,a,f,e),a=this.b(c,"Type",PatternManager.Es(c.a.ja),d,b,a,f,e),a=0===c.a.oa?this.b(c,"Width","Infinite",d,b,a,f,e):this.b(c,"Width",c.a.oa,d,b,a,f,e),4!==c.a.ja&&(a=0===c.a.qa?this.b(c,"Height","Infinite",d,b,a,f,e):this.b(c,"Height",c.a.qa,d,b,a,f,e),2===c.a.ja&&(a=c.a.sp?this.b(c,"Twist","Horizontal",
d,b,a,f,e):this.b(c,"Twist","Vertical",d,b,a,f,e)),0!==c.a.Vk&&(a=this.b(c,"H'Shift",c.a.Vk,d,b,a,f,e)),0!==c.a.Wk&&(a=this.b(c,"V'Shift",c.a.Wk,d,b,a,f,e))),a=this.b(c,"","",d,b,a,f,e));c.R[r]=[c.K,"AutoFit"];r+=1;a=this.b(c,"","AutoFit:",d,b,a,f,e);a=this.b(c,"Enabled",c.kb?"On":"Off",d,b,a,f,e);a=this.b(c,"Mode",this.qw(c),d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Track"];r+=1;a=this.b(c,"","Track:",d,b,a,f,e);a=this.b(c,"Enabled",c.ac&&!c.bc?"On":"Off",d,b,a,f,e);c.ac&&(c.zj?(a=this.b(c,
"Mode","Track Box",d,b,a,f,e),a=this.b(c,"Definition","E "+c.Og.toFixed(3)+"  S "+c.Pg.toFixed(3)+"  W "+c.vh.toFixed(3)+"  N "+c.uh.toFixed(3),d,b,a,f,e)):(a=this.b(c,"Mode","Track",d,b,a,f,e),a=this.b(c,"Definition","X "+c.Og.toFixed(3)+"  Y "+c.Pg.toFixed(3),d,b,a,f,e)));a=this.b(c,"Current","E "+c.Sm.toFixed(3)+"  S "+c.Um.toFixed(3)+"  W "+c.Vm.toFixed(3)+"  N "+c.Tm.toFixed(3),d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Snapshots"];r+=1;a=this.b(c,"","Step back:",d,b,a,f,e);a=this.b(c,
"Enabled",c.qf?"Off":"On",d,b,a,f,e);if(!c.qf){a=this.b(c,"Snapshots",c.a.Hd.dA()+"/"+c.a.Hd.af.length,d,b,a,f,e);g=0;h=c.a.Hd.qe.length;if(0<h)for(a=this.b(c,"Reset Gens",h,d,b,a,f,e);g<h;)a=this.b(c,String(g),c.a.Hd.qe[g].u,d,b,a,f,e),g+=1;a=this.b(c,"Buffer",(c.a.Hd.bufferSize()>>10)+"K",d,b,a,f,e);a=this.b(c,"Next Gen",c.a.ij,d,b,a,f,e)}a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Engine"];r+=1;a=this.b(c,"","Engine:",d,b,a,f,e);a=this.b(c,"Name",ViewConstants.kv,d,b,a,f,e);a=this.b(c,"Build",ViewConstants.Wr,
d,b,a,f,e);a=this.b(c,"Author",ViewConstants.jv,d,b,a,f,e);a=this.b(c,"Decoders","RLE, Life 1.06, Life 1.05, Cells",d,b,a,f,e);a=this.b(c,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",d,b,a,f,e);a=this.b(c,"Rules","Wolfram, Totalistic, Generations,",d,b,a,f,e);a=this.b(c," ","Isotropic Non-Totalistic (Hensel, Callahan),",d,b,a,f,e);a=this.b(c," ","Alternating, MAP, Larger than Life (LtL),",d,b,a,f,e);a=this.b(c," ","Higher-range outer-totalistic (HROT)",d,b,a,f,e);a=this.b(c,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",
d,b,a,f,e);a=this.b(c,"States","2 state, [R]History, Niemiec, Generations",d,b,a,f,e);a=this.b(c,"Viewers",n,d,b,a,f,e);a=this.b(c,"Playing",Controller.iA(),d,b,a,f,e);if(DocConfig.La){h=Controller.zc.length;a=this.b(c,"Universe","Multi ("+(c.Eb+1)+" of "+h+")",d,b,a,f,e);c.$d=!0;for(g=0;g<h;g+=1)a=this.b(c,String(g+1)+(g===c.Eb?"*":""),Controller.zc[g].name,d,b,a,f,e),a=this.b(c," ",Controller.zc[g].iz,d,b,a,f,e),a=this.b(c," ",Controller.zc[g].width+" x "+Controller.zc[g].height,d,b,a,f,e);c.$d=
!1}else a=this.b(c,"Universe","Single",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.P[1]=210;c.P[2]=270;c.P[3]=330;if(c.Pb)for(c.R[r]=[c.K,"Colours"],r+=1,a=this.b(c,"","Set:",d,b,a,f,e),a=this.b(c,"Name",c.Zk,d,b,a,f,e),a=this.b(c,"Used",c.Tl,d,b,a,f,e),g=0;g<c.Pi.length;g+=1)c.Pi[g]!==ViewConstants.yr&&(n=this.Rb(p[g]>>16&255,p[g]>>8&255,p[g]&255),x=String(g),c.Pi[g]!==ViewConstants.Ru||c.Em||(x+="*"),this.Ea(c,p[g]>>16,p[g]>>8&255,p[g]&255,d,b+c.P[0],a,f,e),a=this.b(c,x,n,d,b,a,f,e));else{c.R[r]=[c.K,
"Theme"];r+=1;a=this.b(c,"","Theme:",d,b,a,f,e);a=this.b(c,"Name",c.a.Ia[c.a.de].name,d,b,a,f,e);a=this.b(c,"History",c.da,d,b,a,f,e);this.Ea(c,c.a.jb[0],c.a.fb[0],c.a.eb[0],d,b+c.P[0],a,f,e);a=this.b(c,"Background",this.Rb(c.a.jb[0],c.a.fb[0],c.a.eb[0]),d,b,a,f,e);if(2<c.a.g){x=c.a.g+c.da-1;this.Ea(c,c.a.jb[x],c.a.fb[x],c.a.eb[x],d,b+c.P[0],a,f,e);a=this.b(c,"Alive",this.Rb(c.a.jb[x],c.a.fb[x],c.a.eb[x]),d,b,a,f,e);for(g=1;g<c.a.g-1;g+=1)x=c.a.g-g+c.da-1,this.Ea(c,c.a.jb[x],c.a.fb[x],c.a.eb[x],d,
b+c.P[0],a,f,e),a=this.b(c,"Dying "+g,this.Rb(c.a.jb[x],c.a.fb[x],c.a.eb[x]),d,b,a,f,e);0<c.da&&(x=c.da,this.Ea(c,c.a.jb[x],c.a.fb[x],c.a.eb[x],d,b+c.P[0],a,f,e),a=this.b(c,"Dead",this.Rb(c.a.jb[x],c.a.fb[x],c.a.eb[x]),d,b,a,f,e),1<c.da&&(x=1,this.Ea(c,c.a.jb[x],c.a.fb[x],c.a.eb[x],d,b+c.P[0],a,f,e),a=this.b(c,"DeadRamp",this.Rb(c.a.jb[x],c.a.fb[x],c.a.eb[x]),d,b,a,f,e)))}else this.Ea(c,H.xa.w.red,H.xa.w.green,H.xa.w.blue,d,b+c.P[0],a,f,e),a=this.b(c,"Alive",this.Gd(H.xa.w),d,b,a,f,e),H.xa.w.red!==
H.xa.B.red||H.xa.w.green!==H.xa.B.green||H.xa.w.blue!==H.xa.B.blue?(this.Ea(c,H.xa.B.red,H.xa.B.green,H.xa.B.blue,d,b+c.P[0],a,f,e),a=this.b(c,"AliveRamp",this.Gd(H.xa.B),d,b,a,f,e)):a=this.b(c,"AliveRamp","    (none)",d,b,a,f,e),0<c.da&&(this.Ea(c,H.va.B.red,H.va.B.green,H.va.B.blue,d,b+c.P[0],a,f,e),a=this.b(c,"Dead",this.Gd(H.va.B),d,b,a,f,e),1<c.da&&(H.va.w.red!==H.va.B.red||H.va.w.green!==H.va.B.green||H.va.w.blue!==H.va.B.blue?(this.Ea(c,H.va.w.red,H.va.w.green,H.va.w.blue,d,b+c.P[0],a,f,e),
a=this.b(c,"DeadRamp",this.Gd(H.va.w),d,b,a,f,e)):a=this.b(c,"DeadRamp","    (none)",d,b,a,f,e)));if(c.a.pc)for(g=3;6>=g;g+=1)h=128+ViewConstants.bb[g],n=this.Rb(c.a.jb[h],c.a.fb[h],c.a.eb[h]),x=ViewConstants.Qu[g],this.Ea(c,c.a.jb[h],c.a.fb[h],c.a.eb[h],d,b+c.P[0],a,f,e),a=this.b(c,x,n,d,b,a,f,e)}this.Ea(c,c.Ih[0],c.Ih[1],c.Ih[2],d,b+c.P[0],a,f,e);a=this.b(c,"Boundary",this.Rb(c.Ih[0],c.Ih[1],c.Ih[2]),d,b,a,f,e);c.Fe&&(this.Ea(c,c.Fe[0],c.Fe[1],c.Fe[2],d,b+c.P[0],a,f,e),a=this.b(c,"Text",this.Rb(c.Fe[0],
c.Fe[1],c.Fe[2]),d,b,a,f,e));c.Zg&&(this.Ea(c,c.Zg[0],c.Zg[1],c.Zg[2],d,b+c.P[0],a,f,e),a=this.b(c,"Error",this.Rb(c.Zg[0],c.Zg[1],c.Zg[2]),d,b,a,f,e));a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Grid Lines"];r+=1;a=this.b(c,"","Grid Lines:",d,b,a,f,e);x=c.a.nc?"On":"Off";c.a.nc&&!c.a.Yg()&&(x+=" (Hidden)");a=this.b(c,"Enabled",x,d,b,a,f,e);this.Ea(c,c.a.Qc>>16,c.a.Qc>>8&255,c.a.Qc&255,d,b+c.P[0],a,f,e);a=this.b(c,"Line Color",this.Rb(c.a.Qc>>16,c.a.Qc>>8&255,c.a.Qc&255),d,b,a,f,e);this.Ea(c,c.a.Rd>>
16,c.a.Rd>>8&255,c.a.Rd&255,d,b+c.P[0],a,f,e);a=this.b(c,"Major Color",this.Rb(c.a.Rd>>16,c.a.Rd>>8&255,c.a.Rd&255),d,b,a,f,e);x=0<c.a.Sd&&c.a.Of?String(c.a.Sd):"Off";a=this.b(c,"Interval",x,d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Graph"];r+=1;a=this.b(c,"","Population Graph:",d,b,a,f,e);a=this.b(c,"Enabled",c.ab?"On":"Off",d,b,a,f,e);a=this.b(c,"Disabled",c.Ic?"On":"Off",d,b,a,f,e);a=this.b(c,"Mode",c.oe?"Lines":"Points",d,b,a,f,e);a=this.b(c,"Opacity",c.Qb.toFixed(2),d,b,a,f,e);this.Ea(c,
c.a.Lf[0],c.a.Lf[1],c.a.Lf[2],d,b+c.P[0],a,f,e);a=this.b(c,"Bg Color",this.Rb(c.a.Lf[0],c.a.Lf[1],c.a.Lf[2]),d,b,a,f,e);this.Ea(c,c.a.Kf[0],c.a.Kf[1],c.a.Kf[2],d,b+c.P[0],a,f,e);a=this.b(c,"Axis Color",this.Rb(c.a.Kf[0],c.a.Kf[1],c.a.Kf[2]),d,b,a,f,e);this.Ea(c,c.a.Jf[0],c.a.Jf[1],c.a.Jf[2],d,b+c.P[0],a,f,e);a=this.b(c,"Alive Color",this.Rb(c.a.Jf[0],c.a.Jf[1],c.a.Jf[2]),d,b,a,f,e);this.Ea(c,c.a.Mf[0],c.a.Mf[1],c.a.Mf[2],d,b+c.P[0],a,f,e);a=this.b(c,"Birth Color",this.Rb(c.a.Mf[0],c.a.Mf[1],c.a.Mf[2]),
d,b,a,f,e);this.Ea(c,c.a.Nf[0],c.a.Nf[1],c.a.Nf[2],d,b+c.P[0],a,f,e);a=this.b(c,"Death Color",this.Rb(c.a.Nf[0],c.a.Nf[1],c.a.Nf[2]),d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Stars"];r+=1;a=this.b(c,"","Stars:",d,b,a,f,e);a=this.b(c,"Enabled",c.fg?"On":"Off",d,b,a,f,e);this.Ea(c,c.oh.red,c.oh.green,c.oh.blue,d,b+c.P[0],a,f,e);a=this.b(c,"Color",this.Gd(c.oh),d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[r]=[c.K,"Script"];r+=1;a=this.b(c,"","Script:",d,b,a,f,e);a=this.b(c,"Commands",c.Nl,d,
b,a,f,e);a=this.b(c,"Errors",c.Mq,d,b,a,f,e);if(c.Kb)for(a=this.b(c,"","",d,b,a,f,e),c.R[r]=[c.K,"Waypoints"],r+=1,a=this.b(c,"","Waypoints:",d,b,a,f,e),a=this.b(c,"Enabled",c.jc?"Off":"On",d,b,a,f,e),a=this.b(c,"Number",c.v.ha.length,d,b,a,f,e),g=0;g<c.v.ha.length;g+=1)x=String(g),g===c.v.rh&&(x=c.v.rp(c.elapsedTime)?x+">":x+"*"),a=this.b(c,x,c.v.jA(g),d,b,a,f,e);if(c.v.nb.length)for(a=this.b(c,"","",d,b,a,f,e),c.R[r]=[c.K,"POIs"],a=this.b(c,"","Points of interest:",d,b,a,f,e),a=this.b(c,"Number",
c.v.nb.length,d,b,a,f,e),g=0;g<c.v.nb.length;g+=1)x=String(g+1),g===c.ee&&(x+="*"),g===c.Qi&&(x+=" INITIAL"),r=!1,h=c.v.ty(g),""!==h&&(a=this.b(c,r?" ":x,(r?"  ":"")+h,d,b,a,f,e),r=!0),h=c.v.xy(g),""!==h&&(a=this.b(c,r?" ":x,(r?"  ":"")+h,d,b,a,f,e),r=!0),h=c.v.uy(g),""!==h&&(a=this.b(c,r?" ":x,(r?"  ":"")+h,d,b,a,f,e),r=!0),h=c.v.ju(g),""!==h&&(a=this.b(c,r?" ":x,(r?"  ":"")+h,d,b,a,f,e),r=!0),h=c.v.wy(g),""!==h&&(a=this.b(c,r?" ":x,(r?"  ":"")+h,d,b,a,f,e),r=!0),h=c.v.vy(g),""!==h&&(a=this.b(c,
r?" ":x,(r?"  ":"")+h,d,b,a,f,e))},Wy:function(c,d,b,a,f,e){var g,n=0;c.K=1;c.$d=!1;c.R=[];c.P[0]=130;c.P[1]=200;c.P[2]=250;c.P[3]=300;c.R[n]=[c.K,"Top"];n+=1;a=this.b(c,"","Themes",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);a=this.b(c,"","Themes are used to provide a visual representation of",d,b,a,f,e);a=this.b(c,"","cell history and longevity",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"2-State"];n+=1;a=this.b(c,"","Two-state Themes:",d,b,a,f,e);a=this.b(c,"BACKGROUND","cell never occupied",
d,b,a,f,e);a=this.b(c,"ALIVE","cell just born",d,b,a,f,e);a=this.b(c,"ALIVERAMP","cell alive for several generations",d,b,a,f,e);a=this.b(c,"DEAD","cell just died",d,b,a,f,e);a=this.b(c,"DEADRAMP","cell dead for several generations",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);a=this.b(c,"",LifeConstants.lc-LifeConstants.Za+1+" states from ALIVE to ALIVERAMP",d,b,a,f,e);a=this.b(c,"",c.da+" (HISTORYSTATES) states from DEAD to DEADRAMP",d,b,a,f,e);for(g=0;g<c.a.Ia.length-1;g+=1){a=this.b(c,"","",d,b,a,f,
e);var p=c.a.Ia[g];a=this.b(c,"Name"+(g===c.a.de&&2>=c.a.g?"*":""),p.name,d,b,a,f,e);this.Ea(c,p.Ma.red,p.Ma.green,p.Ma.blue,d,b+c.P[0],a,f,e);a=this.b(c,"BACKGROUND",this.Gd(p.Ma),d,b,a,f,e);this.Ea(c,p.xa.w.red,p.xa.w.green,p.xa.w.blue,d,b+c.P[0],a,f,e);a=this.b(c,"ALIVE",this.Gd(p.xa.w),d,b,a,f,e);if(p.xa.w.red!==p.xa.B.red||p.xa.w.green!==p.xa.B.green||p.xa.w.blue!==p.xa.B.blue)this.Ea(c,p.xa.B.red,p.xa.B.green,p.xa.B.blue,d,b+c.P[0],a,f,e),a=this.b(c,"ALIVERAMP",this.Gd(p.xa.B),d,b,a,f,e);this.Ea(c,
p.va.B.red,p.va.B.green,p.va.B.blue,d,b+c.P[0],a,f,e);a=this.b(c,"DEAD",this.Gd(p.va.B),d,b,a,f,e);if(p.va.w.red!==p.va.B.red||p.va.w.green!==p.va.B.green||p.va.w.blue!==p.va.B.blue)this.Ea(c,p.va.w.red,p.va.w.green,p.va.w.blue,d,b+c.P[0],a,f,e),a=this.b(c,"DEADRAMP",this.Gd(p.va.w),d,b,a,f,e);p.Zi&&(this.Ea(c,p.cf>>16,p.cf>>8&255,p.cf&255,d,b+c.P[0],a,f,e),a=this.b(c,"GRID",this.Rb(p.cf>>16,p.cf>>8&255,p.cf&255),d,b,a,f,e),this.Ea(c,p.ef>>16,p.ef>>8&255,p.ef&255,d,b+c.P[0],a,f,e),a=this.b(c,"GRIDMAJOR",
this.Rb(p.ef>>16,p.ef>>8&255,p.ef&255),d,b,a,f,e),a=this.b(c,"GRIDMAJOR",p.Zp,d,b,a,f,e))}a=this.b(c,"","",d,b,a,f,e);c.R[n]=[c.K,"Multi"];a=this.b(c,"","Multi-state Themes:",d,b,a,f,e);a=this.b(c,"BACKGROUND","cell never occupied",d,b,a,f,e);a=this.b(c,"ALIVE","cell alive",d,b,a,f,e);a=this.b(c,"DYING","cell just starting dying",d,b,a,f,e);a=this.b(c,"DYINGRAMP","cell about to die",d,b,a,f,e);a=this.b(c,"DEAD","cell just died",d,b,a,f,e);a=this.b(c,"DEADRAMP","cell dead for several generations",
d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);a=this.b(c,"","Rule defines "+(2>c.a.g?"":String(c.a.g-1)+" ")+"states from DYING to DYINGRAMP",d,b,a,f,e);a=this.b(c,"",c.da+" (HISTORYSTATES) states from DEAD to DEADRAMP",d,b,a,f,e);for(g=0;g<c.a.Ia.length-1;g+=1){a=this.b(c,"","",d,b,a,f,e);p=c.a.Ia[g];a=this.b(c,"Name"+(g===c.a.de&&2<c.a.g?"*":""),p.name,d,b,a,f,e);this.Ea(c,p.Rg.red,p.Rg.green,p.Rg.blue,d,b+c.P[0],a,f,e);a=this.b(c,"BACKGROUND",this.Gd(p.Rg),d,b,a,f,e);this.Ea(c,p.Ce.red,p.Ce.green,p.Ce.blue,
d,b+c.P[0],a,f,e);a=this.b(c,"ALIVE",this.Gd(p.Ce),d,b,a,f,e);this.Ea(c,p.Pa.B.red,p.Pa.B.green,p.Pa.B.blue,d,b+c.P[0],a,f,e);a=this.b(c,"DYING",this.Gd(p.Pa.B),d,b,a,f,e);if(p.Pa.w.red!==p.Pa.B.red||p.Pa.w.green!==p.Pa.B.green||p.Pa.w.blue!==p.Pa.B.blue)this.Ea(c,p.Pa.w.red,p.Pa.w.green,p.Pa.w.blue,d,b+c.P[0],a,f,e),a=this.b(c,"DYINGRAMP",this.Gd(p.Pa.w),d,b,a,f,e);this.Ea(c,p.zb.B.red,p.zb.B.green,p.zb.B.blue,d,b+c.P[0],a,f,e);a=this.b(c,"DEAD",this.Gd(p.zb.B),d,b,a,f,e);if(p.zb.w.red!==p.zb.B.red||
p.zb.w.green!==p.zb.B.green||p.zb.w.blue!==p.zb.B.blue)this.Ea(c,p.zb.w.red,p.zb.w.green,p.zb.w.blue,d,b+c.P[0],a,f,e),a=this.b(c,"DEADRAMP",this.Gd(p.zb.w),d,b,a,f,e)}},Oy:function(c,d,b,a,f,e){var g,n=ColourManager.hd,p=Object.keys(n);c.K=1;c.$d=!1;c.R=[];c.P[0]=260;c.P[1]=330;c.P[2]=380;c.P[3]=c.C;c.R[0]=[c.K,"Top"];a=this.b(c,"","Colours",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);a=this.b(c,"","The following names can be used in place of R G B",d,b,a,f,e);a=this.b(c,"","for example [[ COLOUR ALIVE Green ]]",
d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);for(g=0;g<p.length;g+=1){var H=n[p[g]];this.Ea(c,H[1],H[2],H[3],d,b+c.P[0],a,f,e);a=this.b(c,H[0],this.Rb(H[1],H[2],H[3]),d,b,a,f,e)}},My:function(c,d,b,a,f,e){var g,n=0,p=AliasManager.c,H=AliasManager.Pe;c.K=1;c.$d=!1;c.R=[];c.P[0]=260;c.R[n]=[c.K,"Top"];n+=1;a=this.b(c,"","Aliases",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);a=this.b(c,"","Alias names can be used as rule names in RLE",d,b,a,f,e);a=this.b(c,"","for example 'rule = HighLife'",d,b,a,f,e);c.$d=!0;for(g=
0;g<p.length;g+=1)""===p[g][1]?(a=this.b(c,"","",d,b,a,f,e),c.R[n]=[c.K,H[n-1]],n+=1,a=this.b(c,"",p[g][0]+" Aliases:",d,b,a,f,e)):""!==p[g][0]&&(a=this.b(c,p[g][0]+(p[g][2]?"*":""),p[g][1],d,b,a,f,e))},Uy:function(c,d,b,a,f,e){var g,n=0,p=Controller.ic.length,H=0,x=0,r=0,h=0,y;c.K=1;c.$d=!1;c.R=[];c.P[0]=128;c.P[1]=200;c.P[2]=290;c.P[3]=530;c.R[n]=[c.K,"Top"];n+=1;a=this.b(c,"","Memory usage",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e);if(1<p){c.R[n]=[c.K,"All"];n+=1;a=this.b(c,"","Memory (all "+p+" LifeViewers):",
d,b,a,f,e);for(g=0;g<p;g+=1)if(y=Controller.Dx(g))H+=y.a.j.Kl,r+=y.a.j.xj>>10,x+=y.a.j.Ml,h+=y.a.j.yj>>10;a=this.b(c,"Allocations",H+"\t"+(r>>10)+"M",d,b,a,f,e);a=this.b(c,"Frees",x+"\t"+(h>>10)+"M",d,b,a,f,e);a=this.b(c,"In Use",H-x+"\t"+((r>>10)-(h>>10))+"M",d,b,a,f,e);a=this.b(c,"","",d,b,a,f,e)}c.R[n]=[c.K,"Current"];a=this.b(c,"","Memory (this LifeViewer):",d,b,a,f,e);a=this.b(c,"Allocations",c.a.j.Kl+"\t"+this.qp(c.a.j.xj)+"M\t"+c.a.j.xj,d,b,a,f,e);a=this.b(c,"Frees",c.a.j.Ml+"\t"+this.qp(c.a.j.yj)+
"M\t"+c.a.j.yj,d,b,a,f,e);a=this.b(c,"In Use",c.a.j.Kl-c.a.j.Ml+"\t"+this.qp(c.a.j.xj-c.a.j.yj)+"M\t"+(c.a.j.xj-c.a.j.yj),d,b,a,f,e);a=this.b(c,this.gu("Bytes",10),"Type\tElements\tName\tCount",d,b,a,f,e);for(g=0;g<c.a.j.Ee.length;g+=1)a=this.b(c,this.gu(String(c.a.j.Ee[g].size),10),c.a.j.hw(g),d,b,a,f,e);this.b(c,"","",d,b,a,f,e)},Np:function(c){var d=c.od;c.Wb=(c.A/19|0)-6;d.fillStyle="black";d.globalAlpha=.5;d.fillRect(0,0,d.canvas.width,d.canvas.height);d.globalAlpha=1;d.fillStyle=ViewConstants.ul;
this.kr=-2;this.xu(c,d,6,14,19,c.W|0);d.fillStyle=ViewConstants.Xj;this.kr=0;this.xu(c,d,4,12,19,c.W|0)},Py:function(c,d,b,a,f,e,g,n,p,H){var x=n,r=0,h=!1,y=c.K;e.fillStyle===ViewConstants.ul&&(h=!0);y>=H&&y<=H+c.Wb&&(e.font=ViewConstants.pl,h||(1<(c.Ua|0)?e.fillStyle=c.Ff:e.fillStyle=ViewConstants.xn),e.fillText(d,g,n),h||(e.fillStyle=c.Ff),e.fillText(b,g+e.measureText(d).width,n),h||((c.Ua|0)<c.Ib.length-c.Wb+1?e.fillStyle=c.Ff:e.fillStyle=ViewConstants.xn),e.fillText(a,g+e.measureText(d+b).width,
n),c.P[0]&&(r=c.P[0]),h||(e.fillStyle=c.Ff),e.font=ViewConstants.xi,e.fillText(f,g+r,n),x+=p);return x},uo:function(c,d,b,a,f,e,g,n){var p=e,H=0,x=c.K;x>=n&&x<=n+c.Wb&&(d.length&&(a.font=ViewConstants.pl,a.fillText(d,f,e),H=a.measureText(d+" ").width),c.P[0]&&(H=c.P[0]),a.font=ViewConstants.xi,a.fillText(b,f+H,e),p+=g);c.K+=1;return p},wu:function(c,d,b,a,f,e){var g,n=c.Ib,p=a;c.K=1;c.P[0]=0;d.font=ViewConstants.xi;a=this.uo(c,"",ViewConstants.sz,d,b,a,f,e);for(g=0;g<n.length;g+=1)a=this.uo(c,n[g][0],
n[g][1],d,b,a,f,e);c.ta||(c.P[0]=120,c.K=1,a=p+f*(c.Wb+2),a=this.Py(c,"Up"," / ","Down","scroll errors",d,b,a,f,0),a=this.uo(c,"Esc","clear messages",d,b,a,f,0),this.uo(c,"H  ","help on script commands",d,b,a,f,0))},Mp:function(c){var d=c.od,b=7;c.ta&&(b=1);c.Wb=(c.A/19|0)-b;d.fillStyle="black";d.globalAlpha=.5;d.fillRect(0,0,d.canvas.width,d.canvas.height);d.globalAlpha=1;d.fillStyle=ViewConstants.ul;this.wu(c,d,6,14,19,c.Ua|0);d.fillStyle=c.Ff;this.wu(c,d,4,12,19,c.Ua|0)}};window.Keywords={Sb:'"',pj:"[[",mk:"]]",Ar:"SUPPRESS",mo:"POIT",Qa:"INITIAL",Ha:"OFF",xr:"STATE1FIT",Ul:"POIRESET",ik:"POIPLAY",jk:"POISTOP",Vl:"POITRANS",aq:"HARDRESET",wm:"TRACK",Aj:"TRACKBOX",vm:"TRACKLOOP",Jq:"NOREPORT",wn:"GRAPH",fo:"NOGRAPH",Wp:"GRAPHOPACITY",Xp:"GRAPHPOINTS",Iq:"NOPERFWARNING",ut:"AUTOHIDEGUI",De:"ALL",Ie:"LINEAR",yf:"BEZIER",gq:"HEXDISPLAY",sr:"SQUAREDISPLAY",fq:"HEXCELLS",rr:"SQUARECELLS",zt:"INTEGERZOOM",Zq:"RANDOMSEED",Jp:"DELETERANGE",nr:"SHOWTIMING",Tp:"EXTENDEDTIMING",
lr:"SHOWGENSTATS",mr:"SHOWINFOBAR",Kq:"NOSOURCE",no:"POI",wk:"TITLE",pu:"POLY",oo:"POLYFILL",Sq:"POLYLINE",Qq:"POLYALPHA",Tq:"POLYSIZE",Uq:"POLYT",Rq:"POLYANGLE",Vq:"POLYTARGET",ou:"POLYTRACK",Rk:"ARROW",kp:"ARROWALPHA",mp:"ARROWSIZE",np:"ARROWT",lp:"ARROWANGLE",op:"ARROWTARGET",pp:"ARROWTRACK",yl:"LABEL",qq:"LABELALPHA",sq:"LABELSIZE",tq:"LABELT",rq:"LABELANGLE",uq:"LABELTARGET",vq:"LABELTRACK",Pc:"FIXED",Aq:"MAXGRIDSIZE",km:"STARS",vk:"CUSTOM",Ro:"XOFFSET",So:"YOFFSET",Jo:"BACKGROUND",Io:"ALIVE",
Gr:"ALIVERAMP",Lo:"DEAD",Ko:"DEADRAMP",Vu:"DYING",Uu:"DYINGRAMP",dv:"UIFOREGROUND",HA:"UIFOREGROUNDA",bv:"UIBACKGROUND",FA:"UIBACKGROUNDA",ev:"UIHIGHLIGHT",IA:"UIHIGHTLIGHTA",gv:"UISELECT",KA:"UISELECTA",fv:"UILOCKED",JA:"UILOCKEDA",cv:"UIBORDER",GA:"UIBORDERA",Ds:"BOUNDARY",Jm:"AUTOFIT",kq:"HISTORYFIT",Fn:"HISTORYSTATES",tj:"STEP",Gq:"NOSTEPBACK",lm:"T",Oq:"PAUSE",tl:"GRID",sl:"GRIDMAJOR",Er:"TEXT",Rp:"ERROR",bu:"OFF",du:"ON",vt:"HISTORY",Ht:"MARK1",Lt:"MARKOFF",Jt:"MARK2",Bt:"KILL",mt:"GRAPHBG",
lt:"GRAPHAXIS",kt:"GRAPHALIVE",nt:"GRAPHBIRTH",ot:"GRAPHDEATH",na:"COLOR",wp:"COLOUR",zr:"STRICT",Am:"VIEWONLY",Fq:"NOGUI",Eq:"NOCOPY",Mr:"THUMBNAIL",Kr:"THUMBSIZE",Ir:"THUMBLAUNCH",sh:"THEME",Km:"AUTOSTART",Vf:"LOOP",gg:"STOP",Gh:"ANGLE",ej:"LAYERS",Si:"DEPTH",Yi:"GPS",kc:"ZOOM",ip:"Z",Wc:"X",Xc:"Y",yk:"WIDTH",Wj:"HEIGHT",Xl:"POPUPWIDTH",Wl:"POPUPHEIGHT",Lr:"THUMBZOOM",ve:"#"};
