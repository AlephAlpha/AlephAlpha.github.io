var pb="function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,b){d!=Array.prototype&&d!=Object.prototype&&(d[c]=b.value)},qb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function rb(d,c){if(c){var b=qb;d=d.split(".");for(var a=0;a<d.length-1;a++){var f=d[a];f in b||(b[f]={});b=b[f]}d=d[d.length-1];a=b[d];c=c(a);c!=a&&null!=c&&pb(b,d,{configurable:!0,writable:!0,value:c})}}
rb("Array.prototype.fill",function(d){return d?d:function(c,b,a){var f=this.length||0;0>b&&(b=Math.max(0,f+b));if(null==a||a>f)a=f;a=Number(a);0>a&&(a=Math.max(0,f+a));for(b=Number(b||0);b<a;b++)this[b]=c;return this}});
(function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.Pz||performance.Qz||performance.Uz||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var d=new Uint32Array(1);d[0]=4660;52===(new Uint8Array(d.buffer))[0]?window.littleEndian=!0:
window.littleEndian=!1;window.registerEvent=function(c,b,a,f){c.addEventListener?c.addEventListener(b,a,f):c.attachEvent("on"+b,a)}})();(function(){function d(a,f,e){this.type=a;this.name=e;this.elements=f;this.size=f*b.gk(a);this.Il=1}function c(){this.Ae=[];this.rj=this.Fl=this.qj=this.El=0}var b={So:8,To:40,Qo:9,Ro:10,Po:0,No:1,Oo:2,Lo:18,Mo:19,gk:function(a){return 1<<(a&7)},typeName:function(a){var f=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(f+="Clamped");return f}};c.prototype.Kv=function(a){var f="";0<=a&&a<this.Ae.length&&(a=this.Ae[a],f=b.typeName(a.type)+"\t"+a.elements+"\t"+a.name+"\t"+a.Il);
return f};c.prototype.f=function(a,f,e){for(var g=0,x=!1,m;g<this.Ae.length&&!x;)m=this.Ae[g],e===m.name?(x=!0,this.Fl+=1,this.rj+=m.elements*b.gk(m.type)):g+=1;x?(this.Ae[g].type=a,this.Ae[g].elements=f,this.Ae[g].Il+=1,this.Ae[g].size=f*b.gk(a)):(g=this.Ae.length,this.Ae[g]=new d(a,f,e));this.El+=1;this.qj+=f*b.gk(a)};c.prototype.Ar=function(a,f,e,g,x){a=a.buffer;g*=b.gk(f);switch(f){case b.So:e=new Uint8Array(a,g,e);break;case b.To:e=new Uint8Array(a,g,e);break;case b.Qo:e=new Uint16Array(a,g,
e);break;case b.Ro:e=new Uint32Array(a,g,e);break;case b.Po:e=new Int8Array(a,g,e);break;case b.No:e=new Int16Array(a,g,e);break;case b.Oo:e=new Int32Array(a,g,e);break;case b.Lo:e=new Float32Array(a,g,e);break;case b.Mo:e=new Float64Array(a,g,e);break;default:e=null,alert("Illegal type specified to allocator.typedView for "+x+": "+f)}return e};c.prototype.i=function(a,f,e){switch(a){case b.So:f=new Uint8Array(f);break;case b.To:f=new Uint8Array(f);break;case b.Qo:f=new Uint16Array(f);break;case b.Ro:f=
new Uint32Array(f);break;case b.Po:f=new Int8Array(f);break;case b.No:f=new Int16Array(f);break;case b.Oo:f=new Int32Array(f);break;case b.Lo:f=new Float32Array(f);break;case b.Mo:f=new Float64Array(f);break;default:f=null,alert("Illegal type specified to allocator.typedMemory for "+e+": "+a)}return f};c.prototype.Y=function(a,f,e){var g=null;0<f&&(g=this.i(a,f,e));(g||0===f)&&this.f(a,f,e);return g};c.prototype.Jv=function(a,f,e,g){var x=null;0<f&&(x=this.i(a,f,e));(x||0===f)&&this.f(a,f*g,e);return x};
Array.X=function(a,f,e,g,x,m){var E=0,b=[];b.j=x;b.type=a;b.tm=null;var c=x.Y(a,f*e,m);b.tm=c;if(0<e){for(;E<f;)b[E]=x.Ar(c,a,e,E*e,m),E+=1;if(0!==g)if(c.fill)c.fill(g);else for(E=0;E<c.length;)c[E]=g,E+=1}return b};Array.Ik=function(a,f){f=a.j.Jv(a.type,a[0].length,f,a.length+1);a[a.length]=f};Array.Af=function(a,f){f.tm.set(a.tm)};Array.gf=function(a,f){var e=Uint16,g,x=a.length,m=[],E=a.j,c=a[0].length/b.gk(e);for(g=0;g<x;g+=1)m[g]=E.Ar(a.tm,e,c,g*c,f);return m};Array.Pc=function(a,f,e){var g,
x=a.length,m=[],E=a.j,b=a.type,c=a[0].length;for(g=0;g<x;g+=1)m[g]=E.Ar(a.tm,b,c-f,g*c+f,e);return m};window.Allocator=c;window.Uint8=b.So;window.Uint8Clamped=b.To;window.Uint16=b.Qo;window.Uint32=b.Ro;window.Int8=b.Po;window.Int16=b.No;window.Int32=b.Oo;window.Float32=b.Lo;window.Float64=b.Mo})();window.AliasManager={c:[],nf:[],yd:function(){var d,c;this.c=[];this.nf=[];this.nf.push("OT M");this.c.push(["Outer-Totalistic Moore",""]);this.c.push(["","B3/S23"]);this.c.push(["2x2","B36/S125"]);this.c.push(["2x2 2","B3678/S1258"]);this.c.push(["34 Life","B34/S34"]);this.c.push(["3-4 Life","B34/S34"]);this.c.push(["Amoeba","B357/S1358"]);this.c.push(["AntiLife","B0123478/S01234678"]);this.c.push(["Assimilation","B345/S4567"]);this.c.push(["Bacteria","B34/S456"]);this.c.push(["Blinkers","B345/S2"]);
this.c.push(["Bugs","B3567/S15678"]);this.c.push(["Coagulations","B378/S235678"]);this.c.push(["Conway's Game of Life","B3/S23"]);this.c.push(["Conway's Life","B3/S23"]);this.c.push(["Coral","B3/S45678"]);this.c.push(["Corrosion of Conformity","B3/S124"]);this.c.push(["Dance","B34/S35"]);this.c.push(["Day & Night","B3678/S34678"]);this.c.push(["Day and Night","B3678/S34678"]);this.c.push(["Diamoeba","B35678/S5678"]);this.c.push(["DotLife","B3/S023"]);this.c.push(["DrighLife","B367/S23"]);this.c.push(["DryFlock",
"B37/S12"]);this.c.push(["DryLife","B37/S23"]);this.c.push(["DryLife without Death","B37/S012345678"]);this.c.push(["EightFlock","B3/S128"]);this.c.push(["EightLife","B3/S238"]);this.c.push(["Electrified Maze","B45/S12345"]);this.c.push(["Eppstein","B35/S236"]);this.c.push(["Flock","B3/S12"]);this.c.push(["Forest of Ls","B168/S236"]);this.c.push(["Fredkin","B1357/S02468"]);this.c.push(["Gems Minor","B34578/S456"]);this.c.push(["Gems","B3457/S4568"]);this.c.push(["Gnarl","B1/S1"]);this.c.push(["H-Trees",
"B1/S012345678"]);this.c.push(["HighFlock","B36/S12"]);this.c.push(["HighLife","B36/S23"]);this.c.push(["HighLife without Death","B36/S012345678"]);this.c.push(["Holstein","B35678/S4678"]);this.c.push(["HoneyFlock","B38/S128"]);this.c.push(["HoneyLife","B38/S238"]);this.c.push(["Iceballs","B25678/S5678"]);this.c.push(["InverseLife","B012345678/S34678"]);this.c.push(["Invertamaze","B028/S0124"]);this.c.push(["IronFlock","B36/S128"]);this.c.push(["IronLife","B36/S238"]);this.c.push(["Land Rush","B36/S234578"]);
this.c.push(["Life SkyHigh","B368/S236"]);this.c.push(["Life without Death","B3/S012345678"]);this.c.push(["Life","B3/S23"]);this.c.push(["Live Free or Die","B2/S0"]);this.c.push(["LongLife","B345/S5"]);this.c.push(["Long Life","B345/S5"]);this.c.push(["LowDeath without death","B368/S012345678"]);this.c.push(["LowDeath","B368/S238"]);this.c.push(["LowFlockDeath","B368/S128"]);this.c.push(["LowLife","B3/S13"]);this.c.push(["Majority","B45678/S5678"]);this.c.push(["Maze","B3/S12345"]);this.c.push(["Maze with Mice",
"B37/S12345"]);this.c.push(["Mazectric","B3/S1234"]);this.c.push(["Mazectric with Mice","B37/S1234"]);this.c.push(["Morley","B368/S245"]);this.c.push(["Move","B368/S245"]);this.c.push(["Neon Blobs","B08/S4"]);this.c.push(["Pedestrian Flock","B38/S12"]);this.c.push(["Pedestrian Life","B38/S23"]);this.c.push(["Pedestrian Life without Death","B38/S012345678"]);this.c.push(["Persian Rug","B234/S"]);this.c.push(["Plow World","B378/S012345678"]);this.c.push(["Pseudo Life","B357/S238"]);this.c.push(["Replicator",
"B1357/S1357"]);this.c.push(["Rings 'n' Slugs","B56/S14568"]);this.c.push(["Seeds","B2/S"]);this.c.push(["Serviettes","B234/S"]);this.c.push(["Shoots and Roots","B3/S245678"]);this.c.push(["Slow Blob","B367/S125678"]);this.c.push(["SnowLife","B3/S1237"]);this.c.push(["Stains","B3678/S235678"]);this.c.push(["Virus","B36/S235"]);this.c.push(["Vote","B5678/S45678"]);this.c.push(["Vote 4/5","B4678/S35678"]);this.c.push(["Walled Cities","B45678/S2345"]);this.nf.push("OT Hex");this.c.push(["Outer-Totalistic Hex",
""]);this.c.push(["Fredkin Hex","B135/S0246H"]);this.c.push(["Hexagonal Life","B2/S34H"]);this.c.push(["HighHexLife","B25/S34H"]);this.c.push(["Replicator Hex","B135/S135H"]);this.nf.push("NT M");this.c.push(["Isotropic Non-Totalistic Moore",""]);this.c.push(["15Life","B34r/S23-q4et"]);this.c.push(["22k","B2-k/S2-k"]);this.c.push(["38life","B35y/S2-n35k6ci"]);this.c.push(["aLife","B3/S234iw"]);this.c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);this.c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);
this.c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);this.c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);this.c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);this.c.push(["Best Friends","B2ce3aiy/S12aei3r"]);this.c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);this.c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);this.c.push(["Breps","B34cqy5c/S23-y4y"]);this.c.push(["Bubbles","B3ai4-a/S23"]);this.c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);
this.c.push(["Buzz","B2i35-n/S2-ci36k8"]);this.c.push(["CarrierLife","B2e3aceik/S23"]);this.c.push(["CB2","B2ae4i/S1e2in"]);this.c.push(["cetlife","B34cet/S234jkwyz"]);this.c.push(["CommonRepl","B3/S23-ac4eiy6"]);this.c.push(["Conway++","B3/S234c"]);this.c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);this.c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);this.c.push(["Conway--","B3/S2-ei3"]);this.c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);this.c.push(["Diamoeral","B2n3ai4a78/S35678"]);this.c.push(["Diamonds",
"B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);this.c.push(["DLife","B3-n/S23"]);this.c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);this.c.push(["Dry15Life","B34r7/S23-q4et"]);this.c.push(["DryGoats","B2in37/S123a"]);this.c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);this.c.push(["EightGoats","B2in3/S123a8"]);this.c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);this.c.push(["FattyLife","B3-n4nt5qr6i/S23"]);this.c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
this.c.push(["FogLife","B35eq7/S2-i34q"]);this.c.push(["GlideLife","B34ek5ak/S2-c34z"]);this.c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);this.c.push(["Goat Flock","B2in3/S123a"]);this.c.push(["Goats","B2in3/S123a"]);this.c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);this.c.push(["guntlife","B35j6a/S2-i34q"]);this.c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);this.c.push(["hatlife","B35y/S23"]);this.c.push(["High15Life","B34r6/S23-q4et"]);this.c.push(["HighGoats","B2in36/S123a"]);
this.c.push(["hlife3","B3/S2-in34iw"]);this.c.push(["HoneyGoats","B2in38/S123a8"]);this.c.push(["HouseLife","B2i3/S23-r"]);this.c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);this.c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);this.c.push(["ilife","B3/S235i"]);this.c.push(["IronGoats","B2in36/S123a8"]);this.c.push(["Just Friends","B2-a/S12"]);this.c.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.c.push(["klife","B34n/S23"]);this.c.push(["Knyght","B2e3/S23-jq"]);this.c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);
this.c.push(["Linea","B2-a3-i/S23-a"]);this.c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);this.c.push(["Movostill","B2i3acijk6i/S23-a4"]);this.c.push(["Movostill 2","B3acijk/S23-a4"]);this.c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);this.c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);this.c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);this.c.push(["Pedestrian Goats","B2in38/S123a"]);this.c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);this.c.push(["PiLife","B37e/S23"]);this.c.push(["PondLife",
"B36i/S2-i35i"]);this.c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);this.c.push(["PlasmaLife","B34-air/S234-air"]);this.c.push(["reptlife","B36-k/S2-i34q"]);this.c.push(["RustyLife","B34-ai/S24-air5-a"]);this.c.push(["Salad","B2i34c/S2-i3"]);this.c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);this.c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);this.c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);this.c.push(["SilverLife","B367/S2-i34q"]);this.c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);
this.c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);this.c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);this.c.push(["SparkLife","B36i/S234j"]);this.c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);this.c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);this.c.push(["TableLife","B3/S23-ai4anq6n"]);this.c.push(["TauLife","B3-nr/S2-i34-aij"]);this.c.push(["tceclife","B36ce7c/S2-i34q"]);this.c.push(["tDryFlock","B37/S12-i4q"]);this.c.push(["tDryLife","B37/S2-i34q"]);
this.c.push(["tEightLife","B3/S2-i34q8"]);this.c.push(["tflock","B3/S12-i4q"]);this.c.push(["tHighFlock","B36/S12-i4q"]);this.c.push(["tHighLife","B36/S2-i34q"]);this.c.push(["tlife","B3/S2-i34q"]);this.c.push(["tPedestrianFlock","B38/S12-i4q"]);this.c.push(["tPedestrianLife","B38/S2-i34q"]);this.c.push(["Train","B34t6k8/S2-i35a7e"]);this.c.push(["Turro","B2-a3c/S12-i"]);this.c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);this.c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);this.c.push(["X-rule-pre",
"B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);this.c.push(["Ylife","B2e3ai4ar/S23-a4a"]);this.nf.push("OT M G");this.c.push(["Outer-Totalistic Generations Moore",""]);this.c.push(["9:43 at Knight","237/34578/4"]);this.c.push(["Banners","2367/3457/5"]);this.c.push(["BelZhab","23/23/8"]);this.c.push(["BelZhab Sediment","145678/23/8"]);this.c.push(["Bloomerang","234/34678/24"]);this.c.push(["Bombers","345/24/25"]);this.c.push(["Brain 5","/2/5"]);this.c.push(["Brain 6","6/246/3"]);this.c.push(["Brian's Brain",
"/2/3"]);this.c.push(["Burst","0235678/3468/9"]);this.c.push(["BurstII","235678/3468/9"]);this.c.push(["Caterpillars","124567/378/4"]);this.c.push(["Chenille","05678/24567/6"]);this.c.push(["Circuit Genesis","2345/1234/8"]);this.c.push(["Constellations","/23/3"]);this.c.push(["Cooties","23/2/8"]);this.c.push(["Ebb&Flow","012478/36/18"]);this.c.push(["Ebb&Flow II","012468/37/18"]);this.c.push(["Faders","2/2/25"]);this.c.push(["Fireworks","2/13/21"]);this.c.push(["Flaming Starbows","347/23/8"]);this.c.push(["Free Star",
"0345/2/10"]);this.c.push(["Frogs","12/34/3"]);this.c.push(["Frozen spirals","356/23/6"]);this.c.push(["Glisserati","035678/245678/7"]);this.c.push(["Glissergy","035678/245678/5"]);this.c.push(["Lava","12345/45678/8"]);this.c.push(["Lines","012345/458/3"]);this.c.push(["LivingOn TheEdge","345/3/6"]);this.c.push(["Meteor Guns","01245678/3/8"]);this.c.push(["Nova","45678/2478/25"]);this.c.push(["OrthoGo","3/2/4"]);this.c.push(["Prairie on fire","345/34/6"]);this.c.push(["RainZha","2/23/8"]);this.c.push(["Rake",
"3467/2678/6"]);this.c.push(["SediMental","45678/25678/4"]);this.c.push(["Snake","03467/25/6"]);this.c.push(["SoftFreeze","13458/38/6"]);this.c.push(["Spirals","2/234/5"]);this.c.push(["Star Wars","345/2/4"]);this.c.push(["Sticks","3456/2/6"]);this.c.push(["Swirl","23/34/8"]);this.c.push(["Tadpoles","0125678/345678/64"]);this.c.push(["ThrillGrill","1234/34/48"]);this.c.push(["Transers","345/26/5"]);this.c.push(["TransersII","0345/26/6"]);this.c.push(["Transers 2","0345/26/6"]);this.c.push(["Transers 3",
"0345/26/7"]);this.c.push(["Wallplicators","345/25678/7"]);this.c.push(["Wanderers","345/34678/5"]);this.c.push(["Worms","3467/25/6"]);this.c.push(["Xtasy","1456/2356/16"]);this.nf.push("NT M G");this.c.push(["Isotropic Non-Totalistic Generations Moore",""]);this.c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);this.c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);this.nf.push("LtL M");this.c.push(["Larger than Life Moore",""]);this.c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);this.c.push(["Bosco's Rule",
"R5,C2,M1,S34..58,B34..45,NM"]);this.c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);this.c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);this.c.push(["Bugs R6","R6,C2,M1,S47..81,b47..63,NM"]);this.c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);this.c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);this.c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);this.c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);this.c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);
this.c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);this.c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);this.c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);this.c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);this.c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);this.c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);this.c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);this.c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);this.c.push(["Mini Bugs",
"R2,C2,M1,S7..10,B7..8,NM"]);this.c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);this.c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);this.c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);this.c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);this.c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);this.c.push(["Stones","R2,C2,M1,S29..58,B38..61,NM"]);this.c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);this.c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);this.c.push(["Waffle",
"R7,C2,M1,S100..200,B75..170,NM"]);this.c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);this.nf.push("LtL M G");this.c.push(["Generations Larger than Life Moore",""]);this.c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);this.c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);this.nf.push("HROT M");this.c.push(["Higher-Range Outer-Totalistic Moore",""]);this.c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Fredkin R3",
"R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);this.c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);
this.c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);this.nf.push("Alt OT M");this.c.push(["Alternating Outer-Totalistic Moore",
""]);this.c.push(["alternlife","B13/S012345678|B/S15"]);this.c.push(["comb625","B3/S348|B2/S356"]);this.c.push(["Fizzler","B13/S3|B/S345678"]);this.c.push(["Jelly","B3/S135|B2/S5"]);this.c.push(["Phoenix","B24/S|B35/S"]);this.nf.push("Alt NT M");this.c.push(["Alternating Non-Totalistic Moore",""]);this.c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);this.c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);this.c.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.c[0][2]=!1;for(d=1;d<this.c.length;d+=
1){var b=this.c[d][1];this.c[d][2]=!1;for(c=0;c<d;c+=1)this.c[c][1]===b&&(this.c[c][2]=!0,this.c[d][2]=!0,c=d)}},Os:function(d){var c=null,b=0;for(d=d.toLowerCase();b<this.c.length&&null===c;)""!==this.c[b][1]&&this.c[b][0].toLowerCase()===d&&(c=this.c[b][1]),b+=1;return c},ax:function(d){for(var c=null,b=0;b<this.c.length&&null===c;)""!==this.c[b][1]&&this.c[b][1]===d&&(c=this.c[b][0]),b+=1;return c}};(function(){function d(a,e,g,f,b){this.h=b;this.ga=a;this.ua=e;this.Ea=g;this.message="";this.G=a;this.V=e;this.Ca=g;this.xg="";this.context=f;this.xa=!1;this.da=this.i=0;this.zf="rgb(32,255,255)";this.Yt="white";this.f=0;this.Xo=!1;this.Ya=this.sb="black";this.enabled=!1;this.m=30}function c(a,e,g,f){this.name=a;this.width=e;this.height=g;this.Il=f}function b(a,e){this.context=e;this.V=a;this.height=this.width=0;this.G=this.i=this.f=null;this.m=[];this.jo=!0;this.Nq=-1;this.yd=!1}function a(a,e,
E,f,b,c,d,n,l,p,G,A,B,q,I,k,u,t,J,H){this.id=a;this.C="";this.Oh=-1;this.l=!1;this.Gc=e;this.caller=E;this.icon=J;this.x=b;this.y=c;this.Ke=b;this.f=c;this.position=f;this.width=d;this.height=n;this.border=q;this.type=A;B===g.ds?this.orientation=d>=n?g.Nc:g.vertical:this.orientation=B;this.gm=this.orientation;this.lower=l;this.upper=p;A===g.pc?this.current=[G,G]:this.current=G;this.Er=I;this.nb=k;this.Iq=u;this.fixed=t;this.An=!1;this.ul=this.tl=this.wl=this.vl=this.mt=this.lt=-1;this.textAlign=g.ms;
this.enabled=!0;this.locked=!1;this.mm=[];this.Zn=0;this.mx=!1;this.Kc=H.Kc;this.Fc=H.Fc;if(A===g.list)for(this.Pk=[],a=0;a<l.length;a+=1)this.Pk[a]=this.Kc;this.vd=H.vd;this.Kd=H.Kd;this.bf=H.bf;this.Zg=H.Zg;this.di=H.di;this.kj=H.kj;this.ef=H.ef;this.Rh=H.Rh;this.ig=H.ig;this.Ei=H.Ei;this.border=H.border;this.font=H.Ej}function f(a,e,E,f,b){this.context=f;this.Ej=b;this.locked=this.l=!1;this.pg=this.Ge=-1;this.Fi=this.Sb=!1;this.G=6;this.Gc=a;this.hd=[];this.lb=0;this.Kc="";this.Fc=0;this.vd="";
this.Kd=0;this.bf="";this.Zg=0;this.di="";this.kj=0;this.ef="";this.Rh=0;this.ig="";this.border=this.Ei=0;this.i=g.ds;this.Wh=this.yh=-1;this.xp=this.Mr=null;this.vm=e;this.caller=E;this.ma=null}function e(a,e,g,f,b,c){var x=this,n=0,m=a.canvas;this.Wp=this.Jq=!0;this.V=this.da=40;this.hz=50;this.fg=0;this.f=this.i=this.m=-1;this.fj=!1;this.caller=b;this.Gg=this.ra=this.Yh=this.zb=!1;this.Ac=4;this.Ls=c;this.hasFocus=this.ip=!1;this.Nk=!0;this.pm=!1;this.ni=1;this.Kc="black";this.Fc=.7;this.vd="white";
this.Kd=1;this.bf="rgb(0,240,32)";this.Zg=.7;this.di="blue";this.kj=.7;this.ef="grey";this.Rh=1;this.ig="rgb(32,255,255)";this.border=this.Ei=1;this.ls=function(n){return function(){n.Na(n)}}(this);this.ma=f;this.ff=a;this.ld=e;this.Sb=!1;this.gh=this.fh=-1;this.Hc=null;this.Ej=g;this.ei=this.fi=!1;this.Bn=performance.now();this.dj=5;this.km=0;this.iq=[];this.kq=[];this.hq=[];for(n=0;5>n;n+=1)this.iq[n]=0,this.kq[n]=0,this.hq[n]=0;this.yl=null;this.Hg=!1;this.notification=new d(25,100,25,e,this);
this.kt=performance.now();this.Fi=this.Dr=!1;this.offsetTop=this.offsetLeft=0;registerEvent(m,"mousedown",function(n){x.ga(x,n)},!1);registerEvent(m,"mousemove",function(n){x.ua(x,n)},!1);registerEvent(m,"mouseup",function(n){x.Ea(x,n)},!1);registerEvent(m,"mouseover",function(n){x.Ca(x,n)},!1);registerEvent(m,"mouseout",function(n){x.xa(x,n)},!1);registerEvent(m,"touchstart",function(n){x.G(x,n)},!1);registerEvent(m,"touchmove",function(n){x.G(x,n)},!1);registerEvent(m,"touchend",function(n){x.G(x,
n)},!1)}d.prototype.Pi=function(){var a=!1;if(""!==this.message||""!==this.xg)a=!0;return a};d.prototype.clear=function(a,e){a?""!==this.xg&&(e?this.xg="":this.da=performance.now()-(this.G+this.V)):""!==this.message&&(e?this.message="":this.i=performance.now()-(this.ga+this.ua))};d.prototype.S=function(a,e,g){this.enabled&&(g?this.xg!==a&&(this.xg=a,this.G=240,this.V=16*e,this.Ca=240,this.da=performance.now(),this.f=0,this.Xo=!1):(this.message=a,this.ga=240,this.ua=16*e,this.Ea=240,this.i=performance.now()))};
d.prototype.Qi=function(a,e){96>this.context.canvas.width&&(this.m=24);var g=this.m;var x=this.context.measureText(a).width>>1;if(this.xa){this.context.fillStyle=this.Ya;var m=this.context.globalAlpha;this.context.globalAlpha=.5*m;this.context.fillRect(-x-20,-g,2*x+40,2*g);this.context.globalAlpha=m}this.context.fillStyle=this.sb;this.context.fillText(a,-x+2,2);e?this.Xo?(this.context.fillStyle=128>this.f?"rgb("+2*this.f+","+2*this.f+",255)":"rgb("+2*(256-this.f)+","+2*(256-this.f)+",255)",this.f=
this.f+4&255):this.context.fillStyle=this.Yt:this.context.fillStyle=this.zf;this.context.fillText(a,-x,0)};d.prototype.Na=function(a,e,g,f,b,c,d){var n=this.m,x=n+2,m=this.h.Ac,E=60,h=!0;this.h.zb?(E=0,c=this.context.canvas.height/2,this.xa=!0):this.xa=!1;""!==a&&(h=!1,b=performance.now()-b,this.context.save(),this.h.ra&&(d?(E=0,c=this.context.canvas.height/2):(n/=m,x=x/m|0,c=c/m|0,E=E/m|0)),this.context.font=n+"px Arial",this.context.translate(this.context.canvas.width/2-1,E+c),b<=e?(c=b/e,c*=c,
this.context.globalAlpha=c,this.context.scale(c,c)):b>e+g&&b<=e+g+f&&(c=(f-(b-(e+g)))/f,c*=c,this.context.globalAlpha=c,this.context.scale(c,c)),b>e+g+f?h=!0:(e=a.indexOf("\\n"),-1===e?this.Qi(a,d):(this.Qi(a.substr(0,e),d),this.context.translate(0,x),this.Qi(a.substr(e+2),d))),this.context.restore());return h};d.prototype.update=function(){this.Na(this.message,this.ga,this.ua,this.Ea,this.i,81,!1)&&(this.message="");this.h.ra&&"Expand"!==this.xg&&"Launch"!==this.xg||!this.Na(this.xg,this.G,this.V,
this.Ca,this.da,45,!0)||(this.xg="")};b.prototype.Qi=function(a,e,g){var x;this.yd||(this.width=this.V.width,this.height=this.V.height,this.f=document.createElement("canvas"),this.f.width=this.width,this.f.height=this.height,this.i=this.f.getContext("2d"),this.G=new Image);if(this.jo){this.i.drawImage(this.V,0,0);var m=this.i.getImageData(0,0,this.f.width,this.f.height);var E=new Uint32Array(m.data.buffer);for(x=0;x<E.length;x+=1)4294967295===E[x]&&(E[x]=this.Nq);this.i.putImageData(m,0,0);this.yd=
this.jo=!1}this.yd||(this.G.src=this.f.toDataURL("image/png"),this.yd=!0);this.context.drawImage(this.G,a.Il*a.width,0,a.width,a.height,e,g,a.width,a.height)};b.prototype.length=function(){return this.m.length};b.prototype.icon=function(a){var e,g=this.m,x=this.length(),f=null;for(e=0;e<x&&!f;)g[e].name===a?f=g[e]:e+=1;return f};b.prototype.add=function(a,e,g){var x=this.m.length;this.m[x]=new c(a,e,g,x)};var g={ds:0,Nc:1,vertical:2,pc:0,button:1,toggle:2,me:3,list:4,label:5,fk:0,Ma:1,left:0,ms:1,
right:2,Tb:0,kb:1,Is:2,Ud:3,cr:4,Cg:5,Wu:6,kd:7,Cx:8};a.prototype.Yl=function(a,e,g,f,b,c){this.vd=a;this.Kc=e;this.bf=g;this.di=f;this.ef=b;this.ig=c};a.prototype.setPosition=function(a,e,g){this.position=a;this.Ke=e;this.f=g;this.x=e;this.y=g};a.prototype.Yv=function(a,e){this.x=this.Ke;this.y=this.f;switch(this.position){case g.Tb:this.x=(a-this.width>>1)+this.Ke;break;case g.kb:this.x=a+this.Ke;break;case g.Is:this.y=(e-this.height>>1)+this.f;this.x=a+this.Ke;break;case g.Ud:this.x=a+this.Ke;
this.y=e+this.f;break;case g.cr:this.x=(a-this.width>>1)+this.Ke;this.y=e+this.f;break;case g.Cg:this.y=e+this.f;break;case g.Wu:this.y=(e-this.height>>1)+this.f;break;case g.Cx:this.x=(a-this.width>>1)+this.Ke,this.y=(e-this.height>>1)+this.f}};a.prototype.Ur=function(a,e){var g=this.Zn;this.mm[g]=[a,e];this.Zn=g+1};a.prototype.Uo=function(a){var e=[],g;var x=a.length;for(g=0;g<x;g+=1)a[g].Ur(this,!0);x=e.length;for(g=0;g<x;g+=1)e[g].Ur(this,!1)};a.prototype.Jx=function(a,e){var g=!1;this.enabled&&
a>=this.x&&a<this.x+this.width&&e>=this.y&&e<this.y+this.height&&(g=!0);return g};f.prototype.Yl=function(a,e,g,f,b,c){var x;this.vd=a;this.Kc=e;this.bf=g;this.ef=b;this.ig=c;for(x=0;x<this.hd.length;x+=1)this.hd[x].Yl(a,e,g,f,b,c)};f.prototype.m=function(a,e){var x=!1,m=a.Zn;a.type===g.list&&a.upper===g.Ma?x=a.current[0]:x=a.current===a.upper;a.mx&&(x=!x);if(x&&e)for(e=0;e<m;e+=1)x=x&&this.m(a.mm[e][0],a.mm[e][1]);return x};f.prototype.Eu=function(a){var e,g=a.Zn;var x=!0;for(e=0;e<g;e+=1)x=x&&this.m(a.mm[e][0],
a.mm[e][1]);a.enabled=x};f.prototype.yd=function(){var a;for(a=0;a<this.lb;a+=1){var e=this.hd[a];e.enabled=!0;switch(e.type){case g.toggle:e.Gc&&(e.current=e.Gc(e.current===e.upper,!1,this.caller)?e.upper:e.lower);break;case g.pc:e.Gc&&(e.current=e.Gc(e.current,!1,this.caller));break;case g.list:e.Gc&&(e.current=e.Gc(e.current,!1,this.caller))}this.Eu(e)}};f.prototype.ub=function(e,m,f,b,c,d,D,n,l){this.hd[this.lb]=new a(this.lb,e,this.caller,m,f,b,c,d,D,l,n,g.list,this.i,this.border,!0,"","",-1,
[],this);this.lb+=1;return this.hd[this.lb-1]};f.prototype.Qg=function(e,m,f,b,c,d,D,n,l,p,G,A){this.hd[this.lb]=new a(this.lb,e,this.caller,m,f,b,c,d,D,n,l,g.pc,this.i,this.border,!0,p,G,A,null,this);this.lb+=1;return this.hd[this.lb-1]};f.prototype.tb=function(e,m,f,b,c,d){this.hd[this.lb]=new a(this.lb,null,null,e,m,f,b,c,0,0,0,g.label,this.i,this.border,!0,d,"",-1,null,this);this.lb+=1;return this.hd[this.lb-1]};f.prototype.Gd=function(e,m,f,b,c,d){this.hd[this.lb]=new a(this.lb,e,this.caller,
m,f,b,c,40,0,0,0,g.button,this.i,this.border,!0,d,"",-1,null,this);this.lb+=1;return this.hd[this.lb-1]};f.prototype.Hv=function(){this.hd[this.lb]=new a(this.lb,null,null,Menu.Cg,0,-40,100,40,0,100,0,g.me,this.i,this.border,!1,"","",0,null,this);this.lb+=1;return this.hd[this.lb-1]};f.prototype.f=function(a,e,f){var x;a+=String();if(""!==a){this.context.save();this.context.translate(e.x+e.width/2,e.y+e.height/2);this.context.font=e.font;e.gm===g.vertical&&this.context.rotate(.5*Math.PI);var m=this.context.measureText(a).width;
var b=e.gm===g.vertical?e.height:e.width;if(m>=b-6){if(x=a.length){do{--x;var E=a.substr(0,x)+"...";m=this.context.measureText(E).width}while(1<x&&m>=b-6)}a=E}switch(e.textAlign){case g.left:var n=e.width/2-2;break;case g.ms:n=m/2;break;case g.right:n=m/2-(e.width-m)/2+4}this.context.fillStyle=e.Kc;f&&this.context.fillRect(2-n,2,m,2);this.context.fillText(a,2-n+.5,2.5);this.context.fillStyle=e.locked||this.locked?e.ef:e.vd;this.context.fillText(a,-n+.5,.5);f&&this.context.fillRect(-n,0,m,2);this.context.restore()}};
f.prototype.ga=function(a){this.context.globalAlpha=this.Kd;this.f(a.nb,a,!1)};f.prototype.V=function(a){this.context.globalAlpha=this.Kd;this.f(a.nb,a,!1)};f.prototype.xa=function(a){var e=(a.current-a.lower)/(a.upper-a.lower);this.context.globalAlpha=a.Fc;this.context.fillStyle=a.vd;a.orientation===g.Nc?(e*=a.width-3,this.context.fillRect(a.x+(e+1|0),a.y,1,a.height)):(e*=a.height-3,this.context.fillRect(a.x,a.y+(e+1|0),a.width,1));e=a.nb;a.Er&&(e=-1!==a.fixed?e+a.current.toFixed(a.fixed):e+a.current,
e+=a.Iq);""!==e&&(this.context.globalAlpha=a.Kd,this.f(e,a,!1))};f.prototype.Ca=function(a,e){var x=(a.current[0]-a.lower)/(a.upper-a.lower);var m=this.G;a.orientation===g.Nc?(x*=a.width-3,x=x+1|0,e&&(this.context.fillStyle=a.bf,this.context.globalAlpha=a.Zg,this.context.fillRect(a.x+x-m,a.y,m,a.height),this.context.fillRect(a.x+x+1,a.y,m,a.height)),a.locked||this.locked?(this.context.fillStyle=a.ef,this.context.globalAlpha=a.Rh):(this.context.fillStyle=a.vd,this.context.globalAlpha=a.Kd),this.context.fillRect(a.x+
x,a.y,1,a.height)):(x*=a.height-3,x=x+1|0,e&&(this.context.fillStyle=a.bf,this.context.globalAlpha=a.Zg,this.context.fillRect(a.x,a.y+x-m,a.width,m),this.context.fillRect(a.x,a.y+x+1,a.width,m)),a.locked||this.locked?(this.context.fillStyle=a.ef,this.context.globalAlpha=a.Rh):(this.context.fillStyle=a.vd,this.context.globalAlpha=a.Kd),this.context.fillRect(a.x,a.y+x,a.width,1));e=a.nb;a.Er&&(e=0<=a.fixed?e+a.current[1].toFixed(a.fixed):e+a.current[1]);e+=a.Iq;""!==e&&(this.context.globalAlpha=this.Kd,
this.f(e,a,!1))};f.prototype.Ea=function(a){this.context.globalAlpha=this.Kd;var e="-"===a.lower&&""===a.upper&&a.current===a.lower;var g=a.nb;a.Er&&!e&&(g+=a.current);g+=a.Iq;this.f(g,a,e)};f.prototype.ua=function(a,e){var x=a.x;var m=a.y;var f=a.width;var b=a.height;var c=a.orientation;var n=a.current;var l=a.lower;var p=l.length;var d=a.orientation===g.Nc?f/p:b/p;this.context.globalAlpha=a.kj;this.context.fillStyle=a.di;if(a.upper===g.fk){var A=a.current;0<=A&&A<p&&(a.orientation===g.Nc?this.context.fillRect(x+
A*d+1,m+1,d-2,b-2):this.context.fillRect(x+1,m+1+A*d,f-2,d-2))}else if(a.orientation===g.Nc)for(A=0;A<p;A+=1)n[A]&&this.context.fillRect(x+A*d+1,m+1,d-2,b-2);else for(A=0;A<p;A+=1)n[A]&&this.context.fillRect(x+1,m+1+A*d,f-2,d-2);e?(this.context.globalAlpha=a.Zg,this.context.fillStyle=a.bf,a.orientation===g.Nc?(A=(this.Ge-x)/f*p|0,0<=A&&A<p&&this.context.fillRect(x+A*d+.5,m+.5,d-1,b-1)):(A=(this.pg-m)/b*p|0,0<=A&&A<p&&this.context.fillRect(x+.5,m+.5+A*d,f-1,d-1)),a.Oh=A):a.Oh=-1;this.context.globalAlpha=
this.Kd;if(a.orientation===g.Nc)for(A=0;A<p;A+=1)a.icon[A]&&this.ma.Qi(a.icon[A],a.x+d*A,a.y);else for(A=0;A<p;A+=1)a.icon[A]&&this.ma.Qi(a.icon[A],a.x,a.y+d*A);this.context.globalAlpha=a.Kd;this.context.fillStyle=a.vd;if(c===g.Nc)for(A=0;A<p;A+=1)x=l[A],""!==x&&(this.context.save(),this.context.translate((.5+(A-p/2))*d,0),this.f(x,a,!1),this.context.restore());else for(A=0;A<p;A+=1)x=l[A],""!==x&&(this.context.save(),this.context.translate(0,(.5+(A-p/2))*d),this.f(x,a,!1),this.context.restore())};
f.prototype.da=function(a,e,f,b){!(f===b||-1===b&&e)||a.type!==g.button&&a.type!==g.toggle?(this.context.fillStyle=a.Kc,this.context.globalAlpha=a.Fc):(this.context.fillStyle=a.bf,this.context.globalAlpha=a.Zg);switch(a.type){case g.me:var x=(a.current-a.lower)/(a.upper-a.lower);this.context.fillStyle=a.di;this.context.globalAlpha=a.kj;a.orientation===g.Nc?(x*=a.width-3,x=x+1|0,this.context.fillRect(a.x,a.y,x,a.height),this.context.fillStyle=a.Kc,this.context.globalAlpha=a.Fc,this.context.fillRect(a.x+
x,a.y,a.width-x,a.height)):(x*=a.height-3,x=x+1|0,this.context.fillRect(a.x,a.y,a.width,x),this.context.fillStyle=a.Kc,this.context.fillRect(a.x,a.y+x,a.width,a.height-x));break;case g.pc:x=(a.current[0]-a.lower)/(a.upper-a.lower);if(f===b||-1===b&&e){var m=this.G;if(a.orientation===g.Nc){x*=a.width-3;x=x+1|0;var E=x-m;0<E&&this.context.fillRect(a.x,a.y,E,a.height);E=1+x+m;E<a.width&&this.context.fillRect(a.x+E,a.y,a.width-E,a.height)}else x*=a.height-3,x=x+1|0,E=x-m,0<E&&this.context.fillRect(a.x,
a.y,a.width,E),E=1+x+m,E<a.height&&this.context.fillRect(a.x,a.y+E,a.width,a.height-E)}else this.context.fillRect(a.x,a.y,a.width,a.height);break;case g.list:m=a.lower.length;if(a.orientation===g.Nc)for(E=a.width/m,x=0;x<m;x+=1)this.context.fillStyle=a.Pk[x],this.context.fillRect(a.x+x*E+1,a.y+1,E-2,a.height-2);else for(E=a.height/m,x=0;x<m;x+=1)this.context.fillStyle=a.Pk[x],this.context.fillRect(a.x+1,a.y+1+x*E,a.width-2,E-2);break;default:this.context.fillRect(a.x,a.y,a.width,a.height)}a.type!==
g.list&&a.icon&&(this.context.globalAlpha=a.Kd,this.ma.Qi(a.icon,a.x,a.y));if(0<a.border)switch(a.locked||this.locked?(this.context.strokeStyle=a.ef,this.context.globalAlpha=a.Rh):(this.context.strokeStyle=a.ig,this.context.globalAlpha=a.Ei),this.context.lineWidth=a.border,a.type){case g.label:break;case g.list:m=a.lower.length;if(a.orientation===g.Nc)for(E=a.width/m,x=0;x<m;x+=1)this.context.strokeRect(a.x+.5+x*E,a.y+.5,E-1,a.height-1);else for(E=a.height/m,x=0;x<m;x+=1)this.context.strokeRect(a.x+
.5,a.y+.5+x*E,a.width-1,E-1);break;default:this.context.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case g.button:this.V(a);break;case g.label:this.ga(a);break;case g.pc:this.Ca(a,f===b||-1===b&&e);break;case g.toggle:this.Ea(a);break;case g.me:this.xa(a);break;case g.list:this.ua(a,f===b||-1===b&&e)}if(f===b)switch(a.type){case g.pc:x=this.pg,a.orientation===g.vertical?(x<a.y?x=a.y:x>=a.y+a.height&&(x=a.y+a.height-1),a.current[0]=(x-a.y)/(a.height-1)*(a.upper-a.lower)+a.lower):
(x=this.Ge,x<a.x?x=a.x:x>=a.x+a.width&&(x=a.x+a.width-1),a.current[0]=(x-a.x)/(a.width-1)*(a.upper-a.lower)+a.lower),a.Gc&&(a.current=a.Gc(a.current,!0,a.caller))}if(e&&!this.Sb&&a.An)switch(a.type){case g.button:a.Gc&&a.Gc(a.caller);break;case g.toggle:a.current=a.current===a.upper?a.lower:a.upper;a.Gc&&a.Gc(a.current===a.upper,!0,a.caller);break;case g.list:m=a.lower.length,E=a.orientation===g.Nc?(this.Ge-a.x)/a.width*m|0:(this.pg-a.y)/a.height*m|0,a.upper===g.fk?a.Gc?a.current=a.Gc(E,!0,a.caller):
a.current=E:(a.current[E]=!a.current[E],a.Gc&&a.Gc(a.current,!0,a.caller))}e&&f===b?(a.An=this.Sb,a.lt=this.Ge,a.mt=this.pg):(a.An=!1,a.lt=-1,a.mt=-1)};f.prototype.Bp=function(){var a,e,f=this.context.canvas.width,b=this.context.canvas.height;var c=!1;this.Wh=-1;if(this.l)this.Sb?this.yh=-2:(-2===this.yh&&this.Mr&&this.Mr(this.Ge,this.pg,this.Sb,this.caller),this.Sb||(this.yh=-1));else{var d=this.yh;this.context.textAlign="left";for(e=0;e<this.lb;e+=1){var D=this.hd[e];D.l||(D.Yv(f,b),(a=D.Jx(this.Ge,
this.pg)&&!(D.locked||this.locked))&&!this.Sb&&(this.Wh=e),(this.Sb&&-1===d&&a||a&&this.Fi)&&D.type!==g.label&&(d=e,this.Fi&&(D.An=e)),e===d&&(D.locked||this.locked)&&(d=-1,a=!1),D.enabled&&this.da(D,a,e,d))}0<=d&&!this.Sb&&(c=!0);this.Sb&&-1===d&&(d=-2);-2===d&&this.xp&&!this.locked&&this.xp(this.Ge,this.pg,this.Sb,this.caller);this.Sb||(d=-1);this.yh=d;this.context.globalAlpha=1}return c};e.prototype.Yl=function(a,e,g,f,b,c){this.vd=a;this.Kc=e;this.bf=g;this.ef=b;this.ig=c;this.Hc&&this.Hc.Yl(a,
e,g,f,b,c)};e.prototype.dw=function(){var a=this.ff.canvas,e=a.offsetParent;this.offsetLeft=a.offsetLeft;for(this.offsetTop=a.offsetTop;e;)this.offsetLeft+=e.offsetLeft,this.offsetTop+=e.offsetTop,e=e.offsetParent;e=a.parentNode;if("fixed"===e.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==e.tagName.toLowerCase();)this.offsetLeft-=e.scrollLeft,this.offsetTop-=
e.scrollTop,e=e.parentNode};e.prototype.rw=function(a,e,g){a=new f(a,e,g,this.ld,this.Ej);a.vd=this.vd;a.Kd=this.Kd;a.Kc=this.Kc;a.Fc=this.Fc;a.bf=this.bf;a.Zg=this.Zg;a.di=this.di;a.kj=this.kj;a.ef=this.ef;a.Rh=this.Rh;a.ig=this.ig;a.Ei=this.Ei;a.border=this.border;return a};e.prototype.Sw=function(){var a=this.Hc,e=this.ld,f="";var b=1;if(-1!==a.yh||-1===a.yh&&-1===a.Wh)this.f=a.yh;if(-1===a.Wh||-1!==this.f&&this.f===a.Wh){if(-1!==a.Wh){var c=a.hd[a.Wh];c.id===this.m&&c.Oh!==this.i&&(this.f=-1)}50>
this.fg&&(this.fg+=1)}else if(c=a.hd[a.Wh],c.id!==this.m||c.id===this.m&&c.Oh!==this.i?(this.m=c.id,this.i=c.Oh,50>this.fg&&(this.fg+=1)):0<=this.fg&&--this.fg,a=-1!==this.i?c.C[this.i]:c.C,""!==a&&-1===this.fg){this.f=-1;var d=c.x;var D=c.y;var n=c.width;var l=c.height;-1!==c.Oh&&(c.orientation===g.Nc?(d+=n/c.lower.length*c.Oh,n/=c.lower.length):(D+=l/c.lower.length*c.Oh,l/=c.lower.length));e.font="18px Arial";var p=e.measureText(a).width;var G=Math.round(d+n/2);D=Math.round(D+l/2);G-=p/2;5>G?G=
5:G+p+4>e.canvas.width&&(G=e.canvas.width-p-4-1);l>n?(-1!==this.V&&n<this.V&&(n=this.V),G>e.canvas.width/2?G=d-p-n/2:G=d+c.width+n/2):(-1!==this.da&&l<this.da&&(l=this.da),D>e.canvas.height/2?D-=l:D+=l);if(p>e.canvas.width){f=(p>>1)+22;f>e.canvas.width&&(f=e.canvas.width);for(p=1;e.measureText(a.substr(0,p)).width<f;)p+=1;for(b=p-1;b>p-5;)f=a[b]," "===f||","===f||"/"===f?(p=b+2,b=p-5):--b;f=a.substr(p-1);a=a.substr(0,p-1);p=e.measureText(a).width;b=e.measureText(f).width;b>p&&(p=b);b=2}e.globalAlpha=
this.Fc;e.fillStyle=this.Kc;e.fillRect((G-4|0)-.5,(D-9-4|0)-.5,p+2+8,18*b+8);e.globalAlpha=this.Ei;e.strokeStyle=this.ig;e.strokeRect((G-4|0)-.5,(D-9-4|0)-.5,p+2+8,18*b+8);e.globalAlpha=this.Fc;e.strokeStyle=this.Kc;e.beginPath();e.moveTo((G-4|0)+.5,(D-9-4|0)+.5+18*b+8);e.lineTo((G-4|0)+.5+p+2+8,(D-9-4|0)+.5+18*b+8);e.lineTo((G-4|0)+.5+p+2+8,(D-9-4|0)+.5);e.stroke();e.globalAlpha=1;e.fillStyle=this.Kc;e.fillText(a,G+2,D+2);""!==f&&e.fillText(f,G+2,D+18+2);e.fillStyle=this.vd;e.fillText(a,G,D);""!==
f&&e.fillText(f,G,D+18)}};e.prototype.Na=function(a){var e,g=a.ld,x=g.canvas.width-86,f=90;a.ra&&(f=0);a.pm=!1;a.Dr=!0;a.yl&&(a.Hc=a.yl,a.yl=null,g.font=a.Ej,a.Hc.yd(),a.Hc.vm&&a.Hc.vm(a.Hc.caller));var b=performance.now();a.Wp&&(a.Bn=b-1E3/60);a.Nk||a.notification.Pi()||a.ni||a.hz!==a.fg&&-1!==a.fg?(a.Wl(a),a.ni&&--a.ni,a.Wp=!1):a.Wp=!0;var c=b-a.Bn;a.Bn=b;a.Hc.Gc&&a.Hc.Gc(c,a.Hc.caller);b=performance.now()-b;var n=performance.now();a.Bp();a.Fi=!1;a.Sw();a.notification.update();n=performance.now()-
n;a.iq[a.km]=n;for(e=n=0;e<a.dj;e+=1)n+=a.iq[e];n/=a.dj;a.kq[a.km]=b;for(e=b=0;e<a.dj;e+=1)b+=a.kq[e];b/=a.dj;a.hq[a.km]=c;for(e=c=0;e<a.dj;e+=1)c+=a.hq[e];c/=a.dj;a.km=(a.km+1)%a.dj;c=1E3/c;if(a.fi){g.font="12px Arial";g.globalAlpha=.7;g.fillStyle="black";a.ei?g.fillRect(x,f,88,83):g.fillRect(x,f,88,20);e=(b+n)/16.6666;1<e&&(e=1);g.fillStyle=.5>e?"rgb("+(510*e|0)+",255,0)":"rgb(255,"+(255*(1-2*(e-.5))|0)+",0)";g.fillRect(x,f,88*e|0,20);n=n.toFixed(1);b=b.toFixed(1);4>c.toFixed(1).length?c=c.toFixed(1):
c|=0;g.globalAlpha=1;g.fillStyle="black";var l=c+"fps";var p=g.measureText(l).width;g.fillText(l,x+36-p,f+12);l=(100*e|0)+"%";p=g.measureText(l).width;g.fillText(l,x+84-p,f+12);a.ei&&(g.fillText("menu",x+6,f+28),g.fillText("work",x+6,f+44),g.fillText("update",x+6,f+60),g.fillText("focus",x+6,f+76),l=n+"ms",p=g.measureText(l).width,g.fillText(l,x+84-p,f+28),l=b+"ms",p=g.measureText(l).width,g.fillText(l,x+84-p,f+44),l=a.Nk?"on":"off",p=g.measureText(l).width,g.fillText(l,x+84-p,f+60),l=a.hasFocus?
"on":"off",p=g.measureText(l).width,g.fillText(l,x+84-p,f+76));g.fillStyle="white";l=c+"fps";p=g.measureText(l).width;g.fillText(l,x+34-p,f+10);l=(100*e|0)+"%";p=g.measureText(l).width;g.fillText(l,x+82-p,f+10);a.ei&&(g.fillText("menu",x+4,f+26),g.fillText("work",x+4,f+42),g.fillText("update",x+4,f+58),g.fillText("focus",x+4,f+74),l=n+"ms",p=g.measureText(l).width,g.fillText(l,x+82-p,f+26),l=b+"ms",p=g.measureText(l).width,g.fillText(l,x+82-p,f+42),l=a.Nk?"on":"off",p=g.measureText(l).width,g.fillText(l,
x+82-p,f+58),l=a.hasFocus?"on":"off",p=g.measureText(l).width,g.fillText(l,x+82-p,f+74));g.globalAlpha=1}a.ff.drawImage(g.canvas,0,0);a.Jq=!0};e.prototype.Cv=function(a){a.ma=this.ma;this.Hc?this.yl=a:(this.yl=null,this.Hc=a,this.ld.font=this.Ej,this.Hc.yd(),this.Hc.vm&&this.Hc.vm(this.Hc.caller),this.Wl(this))};e.prototype.Bp=function(){var a;if(this.Hc){var e=this.Hc;this.ld.font=this.Ej;e.Ge=this.fh;e.pg=this.gh;e.Sb=this.Sb;e.Fi=this.Fi;if(e.Bp()||this.Hg){for(a=0;a<e.lb;a+=1){var g=e.hd[a];e.Eu(g)}this.Hg=
!1}}};e.prototype.Wl=function(a){a.pm||(requestAnimationFrame?requestAnimationFrame(a.ls):setTimeout(a.ls,16),a.pm=!0)};e.prototype.G=function(a,e){var g="";if("touchend"===e.type){g="mouseup";var x=document.createEvent("MouseEvent");x.initMouseEvent(g,!0,!0,window,1,a.vl,a.wl,a.tl,a.ul,!1,!1,!1,!1,0,null);e.target.dispatchEvent(x);e.preventDefault()}else{if(1===e.touches.length)switch(e.type){case "touchstart":g="mousedown";break;case "touchmove":g="mousemove"}if(""!==g){var f=e.changedTouches[0];
x=document.createEvent("MouseEvent");x.initMouseEvent(g,!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(x);e.preventDefault();a.vl=f.screenX;a.wl=f.screenY;a.tl=f.clientX;a.ul=f.clientY}}};e.prototype.ga=function(a,e){a.fj||(a.vj(a,e),a.Sb=!0,a.Dr=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.Ea=function(a,e){a.kt=performance.now();a.fj||(a.vj(a,e),a.Sb=!1,a.Dr||(a.Fi=!0),a.hasFocus||(a.ff.canvas.focus(),a.hasFocus=!0,
a.notification.clear(!0,!1),a.Ls&&a.Ls(a.caller)),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.ns=function(a){a.hasFocus||a.ip&&""!==a.notification.xg||(a.zb?a.Yh||a.notification.S("Copy",3600,!0):a.ra?a.Gg?a.notification.S("Launch",3600,!0):a.notification.S("Expand",3600,!0):a.notification.S("Click to control",3600,!0),a.notification.Xo=!0,a.ip=!0)};e.prototype.ua=function(a,e){a.fj||(a.ns(a),a.vj(a,e),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.Ca=
function(a,e){a.fj||(a.ns(a),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.xa=function(a,e){var g=performance.now()-a.kt;a.fj||(1<g&&(a.hasFocus||a.notification.clear(!0,!1),a.ff.canvas.blur(),a.hasFocus=!1,a.Sb=!1,a.fh=-1,a.gh=-1,a.ip=!1,a.pm||(a.Wl(a),2>a.ni&&(a.ni=2))),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.vj=function(a,e){if(e.pageX||e.pageY){var g=e.pageX;e=e.pageY}else g=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
e=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.dw();g-=a.offsetLeft;e-=a.offsetTop;a.fh=g-1|0;a.gh=e-1|0;a.pm||(a.Wl(a),2>a.ni&&(a.ni=2))};e.prototype.Bg=function(a){!a&&!this.notification.Pi()||this.Nk||this.Wl(this);this.Nk=a};window.IconManager=b;window.Menu=g;window.MenuManager=e})();(function(){function d(a,f,e,g,b,m){this.ik=a;this.jk=f;this.width=e;this.height=g;this.az=b;this.Tw=m}function c(a){var f=a.lastIndexOf(".");-1!==f&&(a=a.substr(0,f));this.name=a;this.Ze=this.xd=this.Db=-1;this.Lj=this.ll=0;this.tn=this.Lp=!1;this.Dm=this.Hd=this.ba="";this.Z=this.rl=this.Kb=!1;this.se=-1;this.gd=this.Pd=!1;this.Ab=-1;this.dh=1;this.jf=this.Wr=this.Xr=this.Yr=this.Zr=this.Dd=this.Bc=this.ad=this.tc=-1;this.pa=!1;this.fc=-1;this.Lk=this.Jk=this.md=this.bd=null;this.g=this.ie=-1;this.height=
this.width=0;this.he=this.Oc=null;this.Zf=this.Ci=this.Qb=this.title="";this.je=2;this.Hl=0;this.Xi=this.Ig=!1;this.Mt=""}var b={Cm:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ys:"0123456789abcdef",Rj:86,Fn:22,Gn:6,zl:8,Uw:"XRLE",Xt:"Pos",Ms:"Gen",o:"",Xv:":",js:"ptkcs",Fo:"012345678ceaiknjqrytwz-",ng:"0123456789",jx:"0123456",Cz:"01234",ku:["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"],Eo:" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" "),wx:[0,2,6,10,13,
10,6,2,0],Ox:[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]],Fy:[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]],Un:13,maxWidth:16384,maxHeight:16384,zx:256,mj:new Uint32Array(256),ak:new Uint8Array(512),Qq:new Uint8Array(512),fz:new Uint16Array(512),Aa:!1,Jj:!1,Vp:"history",Zs:"h",Vu:"v",Ig:!1,Ip:0,Jh:!1,ho:0,io:0,cg:!1,index:0,nq:1,mq:500,Hx:0,Ax:255,Ex:0,xx:1,Dl:0,
Lr:1,os:2,Sn:1,Ln:500,Et:0,yt:255,Mn:0,Hn:0,Fe:0,Ne:1,hp:2,sf:-1,rf:-1,Kk:"|",Rg:!1};c.prototype.f=function(a){this.ba=a.ba;this.Hd=a.Hd;this.Z=a.Z;this.se=a.se;this.Pd=a.Pd;this.gd=a.gd;this.Ab=a.Ab;this.jf=a.jf;this.dh=a.dh;this.tc=a.tc;this.ad=a.ad;this.Bc=a.Bc;this.Dd=a.Dd;this.pa=a.pa;this.fc=a.fc;this.ie=a.ie;this.g=a.g;this.je=a.je;a.md&&(this.md=new Uint8Array(a.md.length),this.md.set(a.md));a.bd&&(this.bd=new Uint8Array(a.bd.length),this.bd.set(a.bd))};c.prototype.gw=function(a,f){a.md&&
(this.Lk=f.Y(Uint8,a.md.length,"HROT.altSurvivals"),this.Lk.set(a.md));a.bd&&(this.Jk=f.Y(Uint8,a.bd.length,"HROT.altBirths"),this.Jk.set(a.bd));this.Zr=a.tc;this.Yr=a.ad;this.Xr=a.Bc;this.Wr=a.Dd};c.prototype.By=function(){this.Hd=this.ba="";this.Z=!1;this.se=-1;this.gd=this.Pd=!1;this.jf=this.Ab=-1;this.pa=!1;this.g=this.ie=this.fc=-1;this.je=2};c.prototype.nx=function(a){return this.gd!==a.gd||this.pa!==a.pa?"Alternate is different rule family":(-1===this.g?this.je:this.g)!==(-1===a.g?a.je:a.g)?
"Alternate has different number of states":this.Z!==a.Z||this.Pd!==a.Pd||this.se!==a.se||this.jf!==a.jf||this.ie!==a.ie?"Alternate has different neighborhood":this.Ab!==a.Ab||this.fc!==a.fc?"Alternate has different range":""};b.Bw=function(a,f,e){var g,b,m=0,c=0,d=0,r=!1;var h=f.length;for(g=b=0;g<h;){var D=f[g];g+=1;switch(b){case 0:switch(D){case "!":b=1;a.Qb+="#C ";var n=!0;break;case "O":case "o":case "*":case ".":b=2;c=m=d=0;var l=--g}break;case 1:"\r"!==D&&"\n"!==D&&(" "===D?n||(a.title+=D,
a.Qb+=D):(n=!1,a.title+=D,a.Qb+=D));"\n"===D&&(b=0,a.Qb+=D,a.title+=" ");break;case 2:switch(D){case "O":case "o":case "*":case ".":c+=1;break;case "\n":d+=1;c>m&&(m=c);c=0;break;case " ":case "\t":break;default:g=h,r=!0}}}if(!r){2===b&&"\n"!==D&&(d+=1,c>m&&(m=c));a.height=d;a.width=m;a.Zf="Cells";a.Oc=Array.X(Uint16,a.height,(a.width-1>>4)+1,0,e,"Pattern.lifeMap");g=l;for(b=m=0;g<h;)switch(D=f[g],g+=1,D){case "\n":m+=1;b=0;break;case "O":case "o":case "*":a.Oc[m][b>>4]|=1<<(~b&15);b+=1;break;case ".":b+=
1}this.Aa=!0;this.gl(a,"",e)}};b.zw=function(a,f,e){var g,b;var m=f.length;var c=[];var d=0;var r=!1;var h=b=0;var D=!1;for(g=10;g<m;){var n=f[g];g+=1;switch(n){case "\n":D&&(D=!1,2===l&&r&&(h=-h,r=!1),c[d]=[b,h],d+=1);var l=h=b=0;break;case "-":r=!0;0===l?l=1:1===l&&(l=2);break;case " ":1===l&&(r&&(b=-b,r=!1),l=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===l&&(l=1),1===l?b=10*b+parseInt(n,10):(h=10*h+parseInt(n,10),D=!0)}}D&&(2===l&&r&&(h=
-h),c[d]=[b,h],d+=1);if(d){m=f=c[0][0];l=n=c[0][1];for(g=1;g<d;g+=1)b=c[g][0],h=c[g][1],b<f&&(f=b),b>m&&(m=b),h<n&&(n=h),h>l&&(l=h);a.height=l-n+1;a.width=m-f+1;a.Oc=Array.X(Uint16,a.height,(a.width-1>>4)+1,0,e,"Pattern.lifeMap");a.Zf="Life 1.06";this.gl(a,"",e);for(g=0;g<d;g+=1)b=c[g][0]-f,h=c[g][1]-n,a.Oc[h][b>>4]|=1<<(~b&15)}};b.ys=function(a,f,e,g){var b,m,c=[],C=0,r=f.length;var h="";var D=!1;var n=0,l=0,p=!1,G=!1,A=0,B=0;e=e?10:0;for(this.Aa=!0;e<r&&!G;){var q=f[e];e+=1;switch(n){case 0:switch(q){case "#":n=
2;break;case "*":case ".":n=3;var I=m=b=0;var k=--e}break;case 2:switch(q){case "C":case "D":n=1;a.Qb+="#C ";var u=!0;break;case "N":n=0;break;case "R":n=4;break;case "P":n=5;l=0;p=!1;B=A=0;break;case "\n":n=0;break;default:n=1,u=!0}break;case 1:"\r"!==q&&"\n"!==q&&(" "===q?u||(a.title+=q,a.Qb+=q):(u=!1,a.title+=q,a.Qb+=q));"\n"===q&&(n=0,a.title+=" ",a.Qb+=q);break;case 4:"\n"===q?n=0:(h+=q,D=!0);break;case 5:switch(q){case "\n":n=0;2===l&&p&&(B=-B,p=!1);break;case "-":p=!0;0===l?l=1:1===l&&(l=2);
break;case " ":1===l&&(p&&(A=-A,p=!1),l=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===l&&(l=1),1===l?A=10*A+parseInt(q,10):B=10*B+parseInt(q,10)}break;case 3:switch(q){case "\n":b>m&&(m=b);b=0;I+=1;break;case "#":c[C]=new d(A,B,m,I,k,e-1);C+=1;n=2;break;case "*":case ".":b+=1;break;case " ":case "\t":break;default:G=!0}}}"\n"!==q&&(I+=1);3===n&&(c[C]=new d(A,B,m,I,k,e-1),C+=1);if(C&&!G){A=c[0].ik;B=c[0].jk;q=A+c[0].width-1;b=B+c[0].height-1;
for(e=1;e<C;e+=1)c[e].ik<A&&(A=c[e].ik),c[e].jk<B&&(B=c[e].jk),c[e].ik+c[e].width-1>q&&(q=c[e].ik+c[e].width-1),c[e].jk+c[e].height-1>b&&(b=c[e].jk+c[e].height-1);a.height=b-B+1;a.width=q-A+1;a.Oc=Array.X(Uint16,a.height,(a.width-1>>4)+1,0,g,"Pattern.lifeMap");a.Zf="Life 1.05";a.he=Array.X(Uint8,a.height,a.width,0,g,"Pattern.multiStateMap");D?(this.Cs(a,h,!1,g),this.Aa?0<=a.g||a.Kb||(a.he=null):(a.g=-1,a.Kb=!1)):this.gl(a,"",g);for(e=0;e<C;e+=1)for(g=c[e].az,h=c[e].Tw,b=c[e].ik-A,q=c[e].jk-B,D=b,
m=q;g<=h;)switch(q=f[g],g+=1,q){case "\n":m+=1;D=b;break;case "*":a.Oc[m][D>>4]|=1<<(~D&15);a.he&&(a.he[m][D]=1);D+=1;break;default:D+=1}}};b.Xq=function(a,b,e,g){var f=0,m,c,d;e&&(f=16);for(c=0;512>c;c+=32)for(d=0;16>d;d+=1){e=0;for(m=c+d&g;0<m;)e+=m&1,m>>=1;b===e&&(a[c+d+f]=1)}};b.Xw=function(a){return(a&7)<<6|(a&448)>>6|a&56};b.ju=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};b.Ty=function(a,b,e){var g;for(g=0;4>g;g+=1)a[b]=e,b=this.ju(b);
b=this.Xw(b);for(g=0;4>g;g+=1)a[b]=e,b=this.ju(b)};b.Sy=function(a,b,e,g,x){var f=0,c=b-1;0===b||8===b?this.Xq(a,b,e,511):(3<c&&(c=6-c,f=495),b=this.ku[c].indexOf(g),-1!==b&&(f^=this.Fy[c][b],e&&(f|=16),this.Ty(a,f,x)))};b.pu=function(a,b,e,g){var f=b.length,m=0,c="",d;for(d=0;d<f;d+=1){var r=b.charCodeAt(d)-48;m|=1<<r;this.Xq(a,r,e,g)}for(d=0;9>d;d+=1)0!==(m&1<<d)&&(c+=String(d));return c};b.Wv=function(a){for(var b=0;a;)b+=1,a&=a-1;return b};b.Ev=function(a,b){var e="",g=0;if(b[a]){b=b[a];0!==(b&
1<<this.Un)&&(g=1,b&=~(1<<this.Un));var f=this.Wv(b);var m=this.wx[a];(g||7!==f||13!==m)&&f+g>m>>1&&(b=~b&(1<<m)-1)&&(g=1-g);if(!g||b)for(e+=String(a),g&&(e+="-"),f=0;f<m;f+=1)g=this.Ox[a][f],0!==(b&1<<g)&&(e+=this.ku[3][g])}else e+=String(a);return e};b.nu=function(a,b,e){var g=b.length,f=0,m=[],c="",d;b+=" ";for(d=0;9>d;d+=1)m[d]=0;for(d=0;d<g;d+=1){var r=b.charCodeAt(d)-48;if(0<=r&&8>=r){var h=0!==(f&1<<r);f|=1<<r;var D=b[d+1];var n=this.Eo[r].indexOf(D);-1!==n||h||this.Xq(a,r,e,511);var l=1;"-"===
D&&(l=0,d+=1,D=b[d+1],n=this.Eo[r].indexOf(D));-1!==n||"0"<=D&&"9">=D||" "===D||(this.o=(e?"S":"B")+r+D+" not valid",d=g);h&&(h=0,0===(m[r]&1<<this.Un)&&(h=1),h!==l&&(this.o=(e?"S":"B")+r+" can not have minus and non-minus",n=-1,d=g));for(;-1!==n;)0!==(m[r]&1<<n)?(this.o="duplicate "+r+this.Eo[r][n],n=-1,d=g):(this.Sy(a,r,e,D,l),m[r]|=1<<n,l||(m[r]|=1<<this.Un),d+=1,D=b[d+1],n=this.Eo[r].indexOf(D))}else this.o="missing digit prefix"}for(d=0;9>d;d+=1)0!==(f&1<<d)&&(c+=this.Ev(d,m));return c};b.xw=
function(a,b){var e;for(e=0;512>e;e+=1)a[e]=0!==(b&1<<(e&7))?1:0!==(e&16)?1:0};b.vw=function(a,f,e,g,x,m,c){var d,E=0,h=this.fz;var D=(1<<this.zl+1)/6|0;var n=new Uint8Array(512);var l=511;g?l=254:x&&(l=186);for(d=0;512>d;d+=1)n[d]=0,c[d]=0,h[d]=g?d:(d&448)>>6|d&56|(d&7)<<6;if(""!==e){f="MAP";for(d=0;d<D;d+=1)f+=e[d],a=b.Cm.indexOf(e[d]),n[E]=a>>5,E+=1,n[E]=a>>4&1,E+=1,n[E]=a>>3&1,E+=1,n[E]=a>>2&1,E+=1,n[E]=a>>1&1,E+=1,n[E]=a&1,E+=1;a=b.Cm.indexOf(e[d]);n[E]=a>>5;n[E+1]=a>>4&1;f+=b.Cm[a&48];for(d=
0;512>d;d+=1){e=0;D=b.zl;for(E=8;0<=E;--E)0!==(l&1<<E)&&(0!==(d&1<<E)&&(e|=1<<D),--D);c[h[d]]=n[e]}-1!==m&&(f+="/"+m)}else g||x?(d=this.pu(c,a,!1,l),c=this.pu(c,f,!0,l)):(d=this.nu(c,a,!1),c=this.nu(c,f,!0)),f=-1!==m?c+"/"+d+"/"+m:"B"+d+"/S"+c;return f};b.Oz=function(a,b){var e,g="";for(e=0;e<=b;e+=1){var f=this.Fo[e];-1!==a.indexOf(f)&&(g+=this.Fo[b-e])}return g};b.Mz=function(a){var b,e="";for(b=0;9>b;b+=1){var g=this.Fo[b];-1===a.indexOf(g)&&(e+=g)}return e};b.bu=function(a){var b=a,e=0;if(-1!==
a.indexOf(" "))for(b="";e<a.length;)" "!==a[e]&&(b+=a[e]),e+=1;return b};b.Nw=function(a,b){for(var e=!0,g=0,f,m=1;m<b.length&&e;)f=this.ng.indexOf(b[m]),-1!==f?g=10*g+f:(this.o="Illegal character in Wolfram rule",e=!1),m+=1;e&&(0>g||254<g?(this.o="Wolfram rule number must be 0-254",e=!1):0!==(g&1)?(this.o="Wolfram rule number must be even",e=!1):(this.xw(this.ak,g),a.se=g,a.ba="W"+g));return e};b.Fv=function(a,f){var e=null;""===f&&(a.Z?a.ba+="H":a.Pd&&(a.ba+="V"),e=AliasManager.ax(a.ba),a.Kb&&(a.ba+=
"History"));-1!==a.Db&&(a.ba+=":"+b.js[a.Db].toUpperCase(),a.ba+=a.xd,a.ll&&(a.ba+="+"+a.ll),a.Lp&&(a.ba+="*"),a.Ze!==a.xd||a.Lj||a.tn)&&(a.ba+=","+a.Ze,a.Lj&&(a.ba+="+"+a.Lj),a.tn&&(a.ba+="*"));null!==e&&(""===e&&(e=a.Kb?"Life":"Conway's Life"),a.Kb&&(e+="History"),a.Hd=e)};b.wz=function(a,f){var e=b.Rj,g=a.length;g>=e?this.zl=8:(e=b.Fn,g>=e?(this.zl=6,f.Z=!0):(e=b.Gn,g>=e?(this.zl=4,f.Pd=!0):e=-1));if(0<=e)for(f=0;f<e;f+=1)-1===b.Cm.indexOf(a[f])&&(e=-1);return e};b.Lc=function(a,b,e,g,c){var f=
0,x=b.length,d=a.substr(this.index,x),r;if(d!==b)","===b[0]&&(","===d[0]&&(d=d.substr(1)),b=b.substr(1)),this.o="LtL expected '"+b.toUpperCase()+"' got '"+d.toUpperCase()+"'",this.index=-1;else if(","===b[0]&&(b=b.substr(1)),this.index+=x,x=a[this.index],this.index<a.length?r=x.charCodeAt(0):r=-1,"n"===b)"m"===x||"n"===x||"c"===x?(this.index+=1,f=this.Dl,"n"===x?f=this.Lr:"c"===x&&(f=this.os)):(this.o="LtL expected 'NM', 'NN' or 'NC' got 'N"+x.toUpperCase()+"'",this.index=-1);else if(48>r||57<r)this.o=
"LtL '"+c+b.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=r&&57>=r;)f=10*f+(r-48),this.index+=1,this.index<a.length?r=a[this.index].charCodeAt(0):r=-1;-1!==e&&f<e&&(this.o="LtL '"+c+b.toUpperCase()+f+"' < "+e,this.index=-1);-1!==g&&f>g&&(this.o="LtL '"+c+b.toUpperCase()+f+"' > "+g,this.index=-1)}return f};b.Gw=function(a,f){var e=!1,g=0;this.index=0;var x=this.Lc(f,"r",this.nq,this.mq,"");-1!==this.index&&(a.Ab=x,x=this.Lc(f,",c",this.Hx,this.Ax,""),-1!==this.index&&(2>x&&(x=2),a.g=
x,x=this.Lc(f,",m",this.Ex,this.xx,""),-1!==this.index&&(a.dh=x,x=this.Lc(f,",s",0,-1,""),-1!==this.index&&(a.tc=x,x=this.Lc(f,"..",a.tc,-1,"S"),-1!==this.index&&(a.ad=x,x=this.Lc(f,",b",0,-1,""),-1!==this.index&&(a.Bc=x,x=this.Lc(f,"..",a.Bc,-1,"B"),-1!==this.index&&(a.Dd=x,x=this.Lc(f,",n",-1,-1,""),-1!==this.index&&(a.jf=x,e=!0))))))));if(e)if(this.index!==f.length)e=!1,this.o="LtL invalid characters after rule";else{switch(a.jf){case b.Dl:g=(2*a.Ab+1)*(2*a.Ab+1);break;case b.Lr:g=2*a.Ab*(a.Ab+
1)+1;break;case b.os:x=0;var c=a.Ab*a.Ab+a.Ab;for(f=-a.Ab;f<=a.Ab;f+=1){for(g=0;(g+1)*(g+1)+f*f<=c;)g+=1;x+=2*g+1}g=x}g-=1-a.dh;a.Bc>g&&(e=!1,this.o="LtL 'B"+a.Bc+"..' > "+g);a.Dd>g&&(e=!1,this.o="LtL 'B.."+a.Dd+"' > "+g);a.tc>g&&(e=!1,this.o="LtL 'S"+a.tc+"..' > "+g);a.ad>g&&(e=!1,this.o="LtL 'S.."+a.ad+"' > "+g)}return e};b.Iw=function(a,f){var e=!1;this.index=0;a.g=2;a.dh=1;a.jf=b.Dl;var g=this.Lc(f,"",this.nq,this.mq,"");-1!==this.index&&(a.Ab=g,g=this.Lc(f,",",0,-1,""),-1!==this.index&&(a.Bc=
g,g=this.Lc(f,",",a.Bc,-1,"B"),-1!==this.index&&(a.Dd=g,g=this.Lc(f,",",0,-1,""),-1!==this.index&&(a.tc=g,g=this.Lc(f,",",a.tc,-1,"S"),-1!==this.index&&(a.ad=g,e=!0)))));e&&(this.index!==f.length?(e=!1,this.o="LtL invalid characters after rule"):(f=(2*a.Ab+1)*(2*a.Ab+1),a.Bc>f&&(e=!1,this.o="LtL 'B"+a.Bc+"..' > "+f),a.Dd>f&&(e=!1,this.o="LtL 'B.."+a.Dd+"' > "+f),a.tc>f&&(e=!1,this.o="LtL 'S"+a.tc+"..' > "+f),a.ad>f&&(e=!1,this.o="LtL 'S.."+a.ad+"' > "+f)));return e};b.Hw=function(a,f){var e=!1;this.index=
0;-1===a.g&&(a.g=2);a.dh=1;a.jf=b.Dl;var g=this.Lc(f,"r",this.nq,this.mq,"");-1!==this.index&&(a.Ab=g,g=this.Lc(f,"b",0,-1,""),-1!==this.index&&(a.Bc=g,g=this.Lc(f,"t",a.Bc,-1,"B"),-1!==this.index&&(a.Dd=g,g=this.Lc(f,"s",0,-1,""),-1!==this.index&&(a.tc=g,g=this.Lc(f,"t",a.tc,-1,"S"),-1!==this.index&&(a.ad=g,e=!0)))));e&&(this.index!==f.length?(e=!1,this.o="LtL invalid characters after rule"):(f=(2*a.Ab+1)*(2*a.Ab+1),a.Bc>f&&(e=!1,this.o="LtL 'B"+a.Bc+"' > "+f),a.Dd>f&&(e=!1,this.o="LtL 'B..T"+a.Dd+
"' > "+f),a.tc>f&&(e=!1,this.o="LtL 'S"+a.tc+"..' > "+f),a.ad>f&&(e=!1,this.o="LtL 'S..T"+a.ad+"' > "+f)));return e};b.$t=function(a,b,e,g,x){var f=!1,c,d="HROT.",r,h=0;if(this.index+e>a.length)this.o="HROT '"+b+"' needs "+e+" hex digits";else{for(c=r=0;r<e&&-1!==c;)c=this.Ys.indexOf(a[this.index]),-1!==c&&(this.index+=1,r+=1);if(-1===c)this.o="HROT '"+b+"' expected hex got '"+a[this.index]+"'";else{"B"===b?d+="births":(d+="survivals",h=1);x=x.Y(Uint8,(e<<2)+1+h,d);f=0;x[f]=0;f+=1;--r;"S"===b&&(x[f]=
0,f+=1);for(;0<=r;)c=this.Ys.indexOf(a[this.index-e+r]),--r,x[f]=c&1,f+=1,x[f]=c>>1&1,f+=1,x[f]=c>>2&1,f+=1,x[f]=c>>3&1,f+=1;"B"===b?g.bd=x:g.md=x;f=!0}}return f};b.fl=function(a,b){var e=-1;this.index+=1;if(this.index<a.length){var g=a[this.index].charCodeAt(0);if(48>g||57<g)this.o="HROT '"+b+"' needs a number";else for(e=g-48,this.index+=1,g=-1,this.index<a.length&&(g=a[this.index].charCodeAt(0));48<=g&&57>=g;)e=10*e+(g-48),this.index+=1,this.index<a.length?g=a[this.index].charCodeAt(0):g=-1}else this.o=
"HROT '"+b+"' needs a number";return e};b.zs=function(a,b,e,g){var f=!0,c;for(c=this.fl(a,e);f&&-1!==c;){var d=-1;this.index<a.length&&"-"===a[this.index]&&(d=this.fl(a,e),-1===d&&(this.o="HROT '"+e+c+"-' needs a number",f=!1));if(f&&(-1===d&&(d=c),c>d&&(this.o="HROT '"+e+c+"-"+d+"' wrong order",f=!1),f)){"S"===e?(this.Mn=d,c+=1,d+=1):this.Hn=d;c>g&&(c=g);for(d>g&&(d=g);c<=d;c+=1)b[c]=1;c=-1;this.index<a.length&&","===a[this.index]&&(c=this.fl(a,e),-1===c&&(--this.index,this.o=""))}}return f};b.Xy=
function(a,b){var e=a.Ab,g=(2*e+1)*(2*e+1);a.fc=e;a.ie=a.jf;a.md=b.Y(Uint8,g+1,"HROT.survivals");a.bd=b.Y(Uint8,g,"HROT.births");for(e=a.tc;e<=a.ad;e+=1)a.md[e]=1;for(e=a.Bc;e<=a.Dd;e+=1)a.bd[e]=1;if(this.Rg){a.Lk=b.Y(Uint8,g+1,"HROT.altSurvivals");a.Jk=b.Y(Uint8,g,"HROT.altBirths");for(e=a.Zr;e<=a.Yr;e+=1)a.Lk[e]=1;for(e=a.Xr;e<=a.Wr;e+=1)a.Jk[e]=1}a.pa=!0};b.Ew=function(a,f,e){var g=!1,c,m;this.Mn=this.Hn=this.index=c=0;if("r"!==f[this.index])this.o="HROT expected 'R' got '"+f[this.index].iz()+
"'";else{var d=this.fl(f,"R");-1!==d&&(d<this.Sn?this.o="HROT 'R' < "+this.Sn:d>this.Ln?this.o="HROT 'R' > "+this.Ln:(a.fc=d,g=!0,c=(2*d+1)*(2*d+1)))}g&&(g=!1,this.index<f.length?","!==f[this.index]?this.o="HROT expected ',' got "+f[this.index].toUpperCase():(this.index+=1,this.index<f.length?"c"!==f[this.index]?this.o="HROT expected 'C' got "+f[this.index].toUpperCase():(d=this.fl(f,"C"),-1!==d&&(d<this.Et?this.o="HROT 'C"+d+"' < "+this.Et:d>this.yt?this.o="HROT 'C"+d+"' > "+this.yt:(2>d&&(d=2),
a.g=d,g=!0))):this.o="HROT expected 'C'"):this.o="HROT expected ','");g&&(g=!1,this.index<f.length?","!==f[this.index]?this.o="HROT expected ',' got "+f[this.index].toUpperCase():(this.index+=1,this.index<f.length?"s"!==f[this.index]?this.o="HROT expected 'S' got "+f[this.index].toUpperCase():(a.md=e.Y(Uint8,c+2,"HROT.survivals"),g=this.zs(f,a.md,"S",c)):this.o="HROT expected 'S'"):this.o="HROT expected ','");g&&(g=!1,this.index<f.length?","!==f[this.index]?this.o="HROT expected ',' got "+f[this.index].toUpperCase():
(this.index+=1,this.index<f.length?"b"!==f[this.index]?this.o="HROT expected 'B' got "+f[this.index].toUpperCase():(a.bd=e.Y(Uint8,c+1,"HROT.births"),g=this.zs(f,a.bd,"B",c)):this.o="HROT expected 'B'"):this.o="HROT expected ','");a.ie=this.Fe;g&&this.index<f.length&&","===f[this.index]&&(g=!1,this.index+=1,this.index<f.length?"n"===f[this.index]?(this.index+=1,this.index<f.length?"m"===f[this.index]||"n"===f[this.index]||"c"===f[this.index]?("n"===f[this.index]?a.ie=this.Ne:"c"===f[this.index]&&
(a.ie=this.hp),this.index+=1,g=!0):this.o="HROT expected 'NM', 'NN' or 'NC' got 'N"+f[this.index].toUpperCase()+"'":this.o="HROT 'N' needs a neighborhood"):this.o="HROT expected 'N' got '"+f[this.index].toUpperCase()+"'":this.o="HROT expected 'N'");if(g){switch(a.ie){case b.Fe:c=(2*a.fc+1)*(2*a.fc+1);break;case b.Ne:c=2*a.fc*(a.fc+1)+1;break;case b.hp:e=0;c=a.fc*a.fc+a.fc;for(m=-a.fc;m<=a.fc;m+=1){for(d=0;(d+1)*(d+1)+m*m<=c;)d+=1;e+=2*d+1}c=e}--c;this.Mn>c&&(g=!1,this.o="HROT 'S"+this.Mn+"' > "+c);
g&&this.Hn>c&&(g=!1,this.o="HROT 'B"+this.Hn+"' > "+c);g&&(this.index!==f.length?(g=!1,this.o="HROT invalid characters after rule"):a.pa=!0)}return g};b.Dw=function(a,f,e){var g=!1,c=0;this.index=0;-1===a.g&&(a.g=2);if("r"!==f[this.index])this.o="HROT expected 'R' got '"+f[this.index].iz()+"'";else{var m=-1;this.index+=1;this.index<f.length&&(m=f[this.index].charCodeAt(0));if(48>m||57<m)this.o="HROT 'R' needs a number";else{var d=m-48;this.index+=1;m=-1;for(this.index<f.length&&(m=f[this.index].charCodeAt(0));48<=
m&&57>=m;)d=10*d+(m-48),this.index+=1,this.index<f.length?m=f[this.index].charCodeAt(0):m=-1;d<this.Sn?this.o="HROT 'R' < "+this.Sn:d>this.Ln?this.o="HROT 'R' > "+this.Ln:(a.fc=d,g=!0,c=d*(d+1))}}g&&(g=!1,this.index<f.length?"b"!==f[this.index]?this.o="HROT expected 'B' got "+f[this.index].toUpperCase()+"'":(this.index+=1,g=this.$t(f,"B",c,a,e)):this.o="HROT expected 'B'");g&&(g=!1,this.index<f.length?"s"!==f[this.index]?this.o="HROT expected 'S' got "+f[this.index].toUpperCase()+"'":(this.index+=
1,g=this.$t(f,"S",c,a,e)):this.o="HROT expected 'S'");g&&this.index<f.length&&"z"===f[this.index]&&(a.md[1]=1,this.index+=1);g&&(this.index!==f.length?(g=!1,this.o="HROT invalid characters after rule"):(a.ie=b.Fe,a.pa=!0));return g};b.cs=function(a,b){for(var e=a.length,g=-1,f="",c=0;c<e;)1===a[c]?-1===g&&(g=c):-1!==g&&(""!==f&&(f+=","),f+=g+b,c-1!==g&&(f+="-"+(c-1+b)),g=-1),c+=1;-1!==g&&(""!==f&&(f+=","),f+=g+b,c-1!==g&&(f+="-"+(c-1+b)));return f};b.gl=function(a,f,e){var g="",x=!1;var d=AliasManager.Os(f);
null!==d&&(g=f,f=d);d=f.indexOf(b.Kk);if(-1===d)x=this.rp(a,f,e,this.ak);else if(-1===f.substr(d+1).indexOf(b.Kk)){if(x=this.rp(a,f.substr(0,d),e,this.Qq)){var E=new c(a.name);E.f(a);a.By();if(x=this.rp(a,f.substr(d+1),e,this.ak))if(this.o=a.nx(E),""===this.o)if(this.ak[0]||this.Qq[0])this.o="Alternate not supported with B0",x=!1;else{if(""!==g)a.Hd=g;else if(""!==a.Hd||""!==E.Hd)""===a.Hd&&(a.Hd=a.ba),""==E.Hd&&(E.Hd=E.ba),a.Hd=E.Hd+b.Kk+a.Hd;a.ba=E.ba+b.Kk+a.ba;(a.pa||a.gd)&&a.gw(E,e);this.Rg=!0}else x=
!1}}else this.o="Only one alternate allowed";return x};b.rp=function(a,f,e,g){var c=!1,d=null,E=null,C=null,r=this.Fo;var h=b.Zs.length;var D=b.Vu.length;var n="";g[0]=0;var l=AliasManager.Os(f);null!==l&&(""===f&&(a.ba="Conway's Life"),f=l);if("map"===f.substr(0,3).toLowerCase()){n=f.substr(3);var p=n.indexOf("/");-1===p?"=="===n.substr(-2)&&(n=n.substr(0,n.length-2)):"=="===n.substr(p-2,2)&&(n=n.substr(0,p-2)+n.substr(p));f=this.wz(n,a);if(0<=f)if(c=!0,C=n.substr(f),n=n.substr(0,f),"/"===C[0]){l=
1;a.g=0;l<C.length&&("g"===C[l].toLowerCase()||"c"===C[l].toLowerCase())&&(l+=1);for(p=0;l<C.length&&-1!==p;)p=this.ng.indexOf(C[l]),-1!==p?a.g=10*a.g+p:(this.o="Illegal character in generations number",a.g=-1,c=!1),l+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.o="Generations number must be 2-256",a.g=-1,c=!1)}else""!==C&&(l=C.length,this.o="MAP length must be "+b.Gn+", "+b.Fn+" or "+b.Rj+" not "+(l+f),c=!1);else this.o=n.length===b.Rj||n.length===b.Fn||n.length===b.Gn?"MAP contains illegal base64 character":
"MAP length must be "+b.Gn+", "+b.Fn+" or "+b.Rj+" not "+n.length}else{f=f.toLowerCase();f=this.bu(f);c=!0;if("g"===f[0]){l=1;for(p=a.g=0;l<f.length&&-1!==p;)p=this.ng.indexOf(f[l]),-1!==p&&(a.g=10*a.g+p,l+=1);1<l&&(2>a.g||256<a.g?(this.o="Generations number must be 2-256",a.g=-1,c=!1):(l<f.length&&"/"===f[l]&&(l+=1),f=f.substr(l),c=!0))}if(c&&(p=f.lastIndexOf("g"),-1!==p&&p!==f.length-1&&!(0<p&&"/"===f[p-1]))){l=p+1;for(p=a.g=0;l<f.length&&-1!==p;)p=this.ng.indexOf(f[l]),-1!==p&&(a.g=10*a.g+p,l+=
1);l===f.length?2>a.g||256<a.g?(this.o="Generations number must be 2-256",a.g=-1,c=!1):(f=f.substr(0,f.lastIndexOf("g")),c=!0):a.g=-1}if(c)if(c=!1,"r"===f[0]||"1"<=f[0]&&"9">=f[0]&&-1!==f.indexOf(",")){if(c="r"===f[0]?-1!==f.indexOf(".")?this.Gw(a,f):-1!==f.indexOf("t")?this.Hw(a,f):-1!==f.indexOf(",")?this.Ew(a,f,e):this.Dw(a,f,e):this.Iw(a,f))a.pa?(a.ba="R"+a.fc+",",a.ba+="C"+a.g+",",a.ba+="S"+this.cs(a.md,-1)+",",a.ba+="B"+this.cs(a.bd,0),a.ie!==this.Fe&&(a.ba+=",N",a.ba=a.ie===this.Ne?a.ba+"N":
a.ba+"C")):(a.gd=!0,a.ba="R"+a.Ab+",C"+a.g+",M"+a.dh+",S"+a.tc+".."+a.ad+",B"+a.Bc+".."+a.Dd+",N",a.ba=a.jf===this.Dl?a.ba+"M":a.jf===this.Lr?a.ba+"N":a.ba+"C",0===a.dh&&(a.tc+=1,a.ad+=1))}else if("w"===f[0])c=this.Nw(a,f);else{e=f.lastIndexOf(b.Zs);-1!==e&&e===f.length-h&&(a.Z=!0,f=f.substr(0,f.length-h),r=this.jx);h=f.lastIndexOf(b.Vu);-1!==h&&h===f.length-D&&(a.Pd=!0,f=f.substr(0,f.length-D),r=this.Cz);D=f.indexOf("/");-1===D&&(D=f.indexOf("_"));-1!==D&&(h=f.lastIndexOf("/"),-1===h&&(h=f.lastIndexOf("_")),
h!==D&&(C=f.substring(h+1),f=f.substr(0,h)));h=f.indexOf("b");e=f.indexOf("s");-1===D?0===h||0===e?-1===e?(d=f,E=""):-1===h?(E=f,d=""):h<e&&-1!==e?(d=f.substring(h+1,e),E=f.substring(e+1)):(E=f.substring(e+1,h),d=f.substring(h+1)):this.o="Unsupported rule name":(-1===h&&-1!==e?h=D:-1!==h&&-1===e&&(e=D),h<e?(d=f.substring(0,D),E=f.substring(D+1)):(d=f.substring(D+1),E=f.substring(0,D)));-1!==h&&d&&"b"===d[0]&&(d=d.substring(1));-1!==e&&E&&"s"===E[0]&&(E=E.substring(1));if(null!==C)if(l=0,-1!==a.g)this.o=
"Generations defined twice",d=null;else{a.g=0;l<C.length&&("g"===C[l].toLowerCase()||"c"===C[l].toLowerCase())&&(l+=1);for(p=0;l<C.length&&-1!==p;)p=this.ng.indexOf(C[l]),-1!==p?a.g=10*a.g+p:(this.o="Illegal character in generations number",a.g=-1,d=null),l+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.o="Generations number must be 2-256",a.g=-1,d=null)}if(null!==d&&null!==E){c=!0;for(l=0;l<d.length;)p=r.indexOf(d[l]),-1===p?(this.o="Illegal character in birth specification",c=!1,l=d.length):l+=1;if(c)for(l=
0;l<E.length;)p=r.indexOf(E[l]),-1===p?(this.o="Illegal character in survival specification",c=!1,l=E.length):l+=1}}}c&&-1===a.se&&!1===a.gd&&!1===a.pa&&(a.ba=this.vw(d,E,n,a.Z,a.Pd,a.g,g),""!==this.o&&(c=!1),2===a.g&&(a.g=-1));c&&this.Fv(a,n);return c};b.Bs=function(a,f,e,g){var c=0,d=f.length-1,E=!1,C=!0,r,h=0,D=0,n=0,l=0,p=this.mj;for(r=f[c];!E;){var G=r;r=f[c+1];var A=-1;switch(G){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":l=10*l+parseInt(G,10);break;
case "b":A=0;break;case "o":A=1;break;case ".":A=0;break;case "z":A=7;a.Kb=!0;a.rl=!0;break;case "$":0===l&&(l=1);n+=l;l=0;D>h&&(h=D);D=0;break;case "!":0===l&&(l=1);n+=l;l=0;D>h&&(h=D);E=!0;break;default:C=!1,"A"<=G&&"X">=G?(C=!0,A=G.charCodeAt(0)-64):"p"<=G&&"y">G?"A"<=r&&"X">=r?(C=!0,A=24*(G.charCodeAt(0)-111)+(r.charCodeAt(0)-64),c+=1,r=f[c+1]):"x"===G&&(C=!0,a.Kb=!0,a.rl=!0,A=3):"y"===G&&("A"<=r&&"O">=r?(C=!0,A=24*(G.charCodeAt(0)-111)+(r.charCodeAt(0)-64),c+=1,r=f[c+1]):(C=!0,a.Kb=!0,a.rl=!0,
A=5))}if(0<=A)if(0===l&&(l=1),e||(0===p[A]&&(a.Hl+=1),p[A]+=l,A>=a.je&&(a.je=A+1)),0<A&&e)for(;0<l;){a.he[n][D]=-1===a.g?A:2===a.g?1===A?LifeConstants.Za:0:A<a.g?A:1;if(!a.Kb&&-1===a.g||a.Kb&&A&1||-1!==a.g&&1===A)a.Oc[n][D>>4]|=1<<(~D&15);D+=1;--l}else D+=l,l=0;C||(" "===G||"\t"===G||"\n"===G?C=!0:(this.o="Illegal character in pattern: "+G,E=a.Xi=!0));c+=1;c===d&&(E||(0===l&&(l=1),n+=l,l=0,D>h&&(h=D)),E=!0)}e||(0===h&&(n=h=1),a.width=h,a.height=n,h>b.maxWidth||n>b.maxHeight?(a.Ig=!0,a.Xi=!0):(a.Oc=
Array.X(Uint16,n,(h-1>>4)+1,0,g,"Pattern.lifeMap"),a.he=Array.X(Uint8,n,h,0,g,"Pattern.multiStateMap"),a.Zf="RLE"));a.Xi&&(c=-1);return c};b.Oy=function(a,b){var e=b.indexOf("\n");-1===e&&(e=b.length);a.Mt=b.substring(0,e).trim()};b.to=function(a,b,e){for(var g=!1;b<e&&!g;)" "===a[b]?b+=1:g=!0;return b};b.hy=function(a){var c=a.indexOf("\n"),e=0,g=!1,d=0;-1===c&&(c=a.length);for(;d<c&&!g;)"="===a[d]?g=!0:" "!==a[d]?g=!0:d+=1;if(g&&"="===a[d]){d=this.to(a,d+1,c);for(g=!1;d<c&&!g;){var m=b.ng.indexOf(a[d]);
-1!==m?(e=10*e+m,d+=1):g=!0}this.Jh=!0;this.Ip=e}};b.au=function(a,c){var e=a.indexOf("\n"),g=0,f=0,d=!1,E=!1,C=!1,r=0;-1===e&&(e=a.length);if(c){for(;r<e&&!C;)"="===a[r]?C=!0:" "!==a[r]?C=!0:r+=1;C&&"="===a[r]&&(r+=1)}else C=!0;if(C&&(r=this.to(a,r,e),r<e)){"-"===a[r]&&(d=!0,r+=1);for(C=!1;r<e&&!C;)c=b.ng.indexOf(a[r]),-1!==c?(g=10*g+c,r+=1):C=!0;this.cg=!0;this.ho=d?-g:g;r=this.to(a,r,e);if(r<e&&","===a[r]&&(r=this.to(a,r+1,e),r<e)){"-"===a[r]&&(E=!0,r+=1);for(C=!1;r<e&&!C;)c=b.ng.indexOf(a[r]),
-1!==c?(f=10*f+c,r+=1):C=!0;this.io=E?-f:f}}};b.aw=function(a){var c=a.indexOf(b.Uw);0===c&&(c=a.indexOf(b.Xt),-1!==c&&this.au(a.substr(c+b.Xt.length),!0),c=a.indexOf(b.Ms),-1!==c&&this.hy(a.substr(c+b.Ms.length)))};b.Ny=function(a,b){var e=b.indexOf("\n");-1===e&&(e=b.length);a.name=b.substring(0,e).trim()};b.Tr=function(a,b,e){var g=b.indexOf("\n");-1===g&&(g=b.length);b=b.substring(0,g).trim();a.title+=b+" ";e?a.Ci+=b+"\n":a.Qb+="#C "+b+"\n";return g+1};b.Je=function(a){var b=-1;a+=" ";var e=this.ng.indexOf(a[this.index]);
if(-1!==e)for(b=0;-1!==e;)b=10*b+e,this.index+=1,e=this.ng.indexOf(a[this.index]);return b};b.Lw=function(a,b){b=this.Je(b);a.xd=b;a.Ze=b};b.Mw=function(a,b){var e=this.Je(b),g=-1,c=0,f=0;if(-1!==e){var d=b[this.index];if("-"===d||"+"===d)this.index+=1,c=this.Je(b),-1===c?e=-1:"-"===d&&(c=-c);if(","===b[this.index])if(this.index+=1,g=this.Je(b),-1===g)e=-1;else{if(d=b[this.index],"-"===d||"+"===d)this.index+=1,f=this.Je(b),-1===f?e=-1:"-"===d&&(f=-f)}else g=e}0!==c&&0!==f&&(e=-1);0===e&&0===g&&(e=
-1);0===c&&0===f||0!==e&&0!==g||(e=-1);a.xd=e;a.Ze=g;a.ll=c;a.Lj=f};b.Fw=function(a,b){var e=this.Je(b),g=-1,c=0,f=0,d=!1,C=!1;if(-1!==e){var r=b[this.index];"*"===r&&(d=!0,this.index+=1,r=b[this.index]);if("-"===r||"+"===r)c=this.Je(b),-1===c?e=-1:"-"===r&&(c=-c),this.index+=1,r=b[this.index];if(","===r)if(this.index+=1,g=this.Je(b),-1===g)e=-1;else{if(r=b[this.index],"*"===r&&(C=!0,this.index+=1,r=b[this.index]),"-"===r||"+"===r)this.index+=1,f=this.Je(b),-1===f?e=-1:"-"===r&&(f=-f)}else g=e}d&&
C&&(e=-1);0!==c&&0!==f&&(e=-1);if(d&&0!==f||C&&0!==c)e=-1;if(0===e||0===g)e=-1;d||C||(C=!0);a.xd=e;a.Ze=g;a.ll=c;a.Lj=f;a.Lp=d;a.tn=C};b.Cw=function(a,b){var e=this.Je(b),g=-1;-1!==e&&(","===b[this.index]?(this.index+=1,g=this.Je(b),-1===g&&(e=-1)):g=e);a.xd=e;a.Ze=g};b.Jw=function(a,b){var e=this.Je(b),g=-1;-1!==e&&(","===b[this.index]?(this.index+=1,g=this.Je(b),-1===g&&(e=-1)):g=e);0===e&&0===g&&(e=-1);a.xd=e;a.Ze=g};b.Aw=function(a,b){var e=!1;b=this.bu(b).toLowerCase();if(""!==b){a.Db=this.js.indexOf(b[0]);
if(-1!==a.Db)if(this.index=1,2!==a.Db&&-1!==b.indexOf("*"))a.xd=-1;else switch(a.Db){case 0:this.Jw(a,b);break;case 1:this.Mw(a,b);break;case 2:this.Fw(a,b);break;case 3:this.Cw(a,b);break;case 4:this.Lw(a,b);break;default:a.xd=-1}this.index!==b.length&&(a.xd=-1);-1!==a.xd?e=!0:(a.Db=-1,this.o="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return e};b.$m=function(a,b,e,g){var c,d,f=null;if(e[b]===a){for(b+=1;b<g&&" "===e[b];)b+=1;for(b<g&&"="===e[b]&&(b+=1);b<g&&" "===e[b];)b+=1;a=0;var C=
c=!1;"-"===e[b]&&(b+=1,C=!0);for(d=e[b].charCodeAt(0);b<g&&48<=d&&57>=d;)a=10*a+(d-48),b+=1,c=!0,b<g&&(d=e[b].charCodeAt(0));for(c&&(f=C?-a:a);b<g&&" "===e[b];)b+=1;for(b<g&&","===e[b]&&(b+=1);b<g&&" "===e[b];)b+=1}return[f,b]};b.Kw=function(a,b){this.rf=this.sf=-1;var e=this.$m("x",0,a,b);var g=e[1];e[0]&&(this.sf=e[0]);e=this.$m("y",g,a,b);g=e[1];e[0]&&(this.rf=e[0]);e=this.$m("h",g,a,b);g=e[1];e[0]&&(this.ho=e[0],this.cg=!0);e=this.$m("v",g,a,b);e[0]&&(this.io=e[0])};b.Cs=function(a,c,e,g){var d=
c.indexOf("\n"),f=c.indexOf("rule"),E=b.Vp.length,C="";-1===d&&(d=c.length);this.Kw(c,d);-1===f?e?C="":C=c.substring(1,d).trim():(C=c.substring(f+4,d).trim(),"="===C[0]&&(C=C.substring(1).trim()));a.ba=C;c=C.lastIndexOf(b.Xv);-1!==c&&(this.Aw(a,C.substring(c+1))?C=C.substr(0,c).trim():c=-2);e=C.toLowerCase().lastIndexOf(b.Vp);-1!==e&&e===C.length-E&&(a.Kb=!0,C=C.substr(0,C.length-E).trim());e=C.indexOf(this.Kk);-1!==e&&C.toLowerCase().substr(0,e).trim().substr(-E)===b.Vp&&(a.Kb=!0,f=C.substr(0,e).trim(),
C=f.substr(0,f.length-E)+C.substr(e));-2!==c&&this.gl(a,C,g)?this.Aa=!0:this.Jj=!0;return d+1};b.hs=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};b.As=function(a,c,e){var g=0,d=c.length,f=!1,E=!1;var C=this.mj;var r=b.zx,h=4,D;a.Db=-1;a.width=0;a.height=0;a.Ig=!1;a.Oc=null;a.he=null;a.Xi=!1;a.Kb=!1;a.rl=!1;a.Z=!1;a.se=-1;a.Pd=!1;a.g=-1;a.gd=!1;a.Ab=-1;a.dh=1;a.tc=
-1;a.ad=-1;a.Bc=-1;a.Dd=-1;a.pa=!1;a.bd=null;a.md=null;a.fc=-1;a.title="";a.Qb="";a.Ci="";a.je=2;for(D=a.Hl=0;D<r;D+=1)C[D]=0;for(c+=" ";g<d&&!a.Xi;)switch(C=c[g],C){case "#":g+=1;C=c[g];g+=1;switch(C){case "N":this.Ny(a,c.substring(g));break;case "O":this.Oy(a,c.substring(g));break;case "C":this.aw(c.substring(g));break;case "P":case "R":this.au(c.substring(g),!1);break;case "\n":--g}g+=this.Tr(a,c.substring(g),!1);break;case "x":g+=this.Cs(a,c.substring(g),!0,e);E=!0;break;case "\n":g+=1;break;
default:f?g+=this.Tr(a,c.substring(g),!0):(f=!0,-1!==this.Bs(a,c.substring(g),!1,e)&&(g+=this.Bs(a,c.substring(g),!0,e)))}E||(this.gl(a,"",e)?this.Aa=!0:this.Jj=!0);-1!==a.Db&&(a.pa&&(h=6*a.fc),a.gd&&(h=6*a.Ab),a.xd>=this.maxWidth-h||a.Ze>=this.maxHeight-h)&&(this.o="Bounded grid is too big",this.Aa=!1,a.Db=-1);!a.gd||(1<a.Db&&(this.o="LtL only supports Plane or Torus",this.Aa=!1,a.Db=-1),a.Z&&(this.o="LtL does not support Hex grid",this.Aa=!1,a.Z=!1),0===a.Bc&&-1===a.Db&&(this.o="LtL does not support B0 unbounded",
this.Aa=!1),0!==a.Db&&1!==a.Db)||0!==a.xd&&0!==a.Ze||(this.o="LtL bounded grid must be finite",this.Aa=!1,a.Db=-1);!a.pa||(1<a.Db&&(this.o="HROT only supports Plane or Torus",this.Aa=!1,a.Db=-1),a.Z&&(this.o="HROT does not support Hex grid",this.Aa=!1,a.Z=!1),1===a.bd[0]&&-1===a.Db&&(this.o="HROT does not support B0 unbounded",this.Aa=!1),0!==a.Db&&1!==a.Db)||0!==a.xd&&0!==a.Ze||(this.o="HROT bounded grid must be finite",this.Aa=!1,a.Db=-1);-1===a.g||!a.Kb||a.gd||a.pa||(this.o="[R]History not valid with Generations",
this.Aa=a.Kb=!1);-1===a.g||!this.ak[0]||a.gd||a.pa||(this.o="Generations does not support B0",this.Aa=!1);a.gd&&a.Kb&&(this.o="[R]History not valid with LtL",this.Aa=a.Kb=!1);a.pa&&a.Kb&&(this.o="[R]History not valid with HROT",this.Aa=a.Kb=!1);this.Aa&&(a.rl?8<a.je&&(this.o="Illegal state in pattern for Niemiec",this.Aa=!1):a.Kb?7<a.je&&(this.o="Illegal state in pattern for [R]History",this.Aa=!1):-1!==a.g&&a.je>a.g&&(this.o=a.gd?"Illegal state in pattern for LtL":a.pa?"Illegal state in pattern for HROT":
"Illegal state in pattern for Generations",this.Aa=!1));a.gd&&this.Xy(a,e)};b.create=function(a,b,e){a=new c(a);this.Aa=this.Jj=this.Ig=!1;this.o="";this.Jh=!1;this.Ip=0;this.cg=!1;this.io=this.ho=0;this.rf=this.sf=-1;this.Rg=!1;if("!"===b.substr(0,1)||"O"===b.substr(0,1)||"."===b.substr(0,1)||"*"===b.substr(0,1)||"o"===b.substr(0,1))this.Bw(a,b,e),this.Aa=!0;null===a.Oc&&(this.Aa=!1,"#Life 1.05"===b.substr(0,10)?this.ys(a,b,!0,e):"#Life 1.06"===b.substr(0,10)?(this.zw(a,b,e),this.Aa=!0):"#"===b[0]||
"x"===b[0]?(this.As(a,b,e),null!==a.Oc||a.Ig||a.Xi||(this.ys(a,b,!1,e),this.Jj=!1,a.he=null,a.Kb=!1,a.je=2,a.Hl=0)):this.As(a,b,e));a.Ig&&(this.o="Pattern too big (maximum "+this.maxWidth+"x"+this.maxHeight+")",this.Ig=!0,this.Aa=!1);-1!==a.Db?(b=a.ba.lastIndexOf(":"),a.Dm=a.ba.substr(b),a.ba=a.ba.substr(0,b)):a.Dm="";null===a.Oc&&(a.Ig||""!==this.o||(this.o="Invalid pattern"),a=null,this.Aa=!1);a&&a.Xi&&(a=null,this.Aa=!1);return a};window.PatternManager=b;window.Pattern=c})();(function(){function d(){this.kp=[]}d.prototype.add=function(c,b,a){this.kp[this.kp.length]=c<<16|b<<8|a};window.ColourManager={lg:[],Tl:[],et:!1,tp:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,
169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,
59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,
113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,
158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,
108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],sp:[],cd:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,
245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",
0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",
47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],
gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},Kz:function(){return this.sp},rs:function(c){for(var b=0,a=!1,d=[];b<this.Tl.length&&!a;)c===this.Tl[b][0]?a=!0:b+=1;a&&(d=this.lg[this.Tl[b][1]].kp);return d},Oa:function(c){this.Tl[this.Tl.length]=c},yd:function(){var c,b=0,a;if(!this.et){this.et=!0;for(c=a=0;256>c;c+=1)this.sp[c]=this.tp[a]<<16|this.tp[a+1]<<8|this.tp[a+2],a+=3;c=new d;c.add(0,0,0);c.add(0,255,0);c.add(0,0,128);
c.add(216,255,216);c.add(255,0,0);c.add(255,255,0);c.add(96,96,96);c.add(255,128,128);this.lg[b]=c;this.Oa(["LifeHistory",b]);b+=1;c=new d;c.add(48,48,48);c.add(0,128,255);c.add(255,255,255);c.add(255,128,0);this.lg[b]=c;this.Oa(["WireWorld",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,255,255);c.add(144,128,112);c.add(144,90,45);c.add(192,192,192);c.add(255,0,0);c.add(255,128,0);c.add(255,255,0);c.add(0,255,0);c.add(0,255,208);c.add(0,192,255);c.add(0,0,255);c.add(192,0,255);c.add(255,64,160);c.add(112,
128,144);c.add(0,128,0);c.add(0,96,128);c.add(160,0,80);c.add(40,40,40);c.add(220,220,220);c.add(140,60,0);c.add(0,160,0);c.add(160,160,250);this.lg[b]=c;this.Oa(["WWE",b]);this.Oa(["WWE2",b]);this.Oa(["WWEJ",b]);this.Oa(["WWEJ2",b]);this.Oa(["WWEJ3",b]);b+=1;c=new d;c.add(30,30,30);c.add(0,128,128);c.add(0,255,0);c.add(255,0,0);c.add(255,128,0);c.add(255,255,0);c.add(128,0,128);c.add(128,128,128);c.add(255,255,255);c.add(128,128,255);this.lg[b]=c;this.Oa(["Novoloop",b]);b+=1;c=new d;c.add(0,0,0);
c.add(255,128,0);c.add(255,0,0);c.add(0,255,0);c.add(0,0,255);c.add(0,190,0);c.add(0,140,0);c.add(255,255,255);c.add(80,80,80);c.add(95,95,95);c.add(128,128,128);c.add(0,64,0);c.add(255,255,0);c.add(64,0,164);c.add(64,32,64);c.add(80,80,100);c.add(95,95,125);c.add(128,255,128);c.add(64,100,100);this.lg[b]=c;this.Oa(["shapeloop",b]);this.Oa(["shapeloop-b",b]);this.Oa(["shapeloop2",b]);this.Oa(["shapeloop-ltd",b]);this.Oa(["2armshapeloop-a",b]);this.Oa(["2armshapeloop2-a",b]);this.Oa(["shapeloop2a-bounded",
b]);this.Oa(["foodshapeloop",b]);this.Oa(["foodshapeloop2",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,255,255);c.add(255,0,0);c.add(0,128,255);c.add(170,0,0);c.add(85,0,0);this.lg[b]=c;this.Oa(["b3s23mmg",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,0,0);c.add(0,255,0);c.add(0,0,255);c.add(255,255,0);c.add(0,255,255);c.add(255,0,255);c.add(92,36,110);c.add(0,99,140);c.add(176,196,222);c.add(115,61,26);this.lg[b]=c;this.Oa(["_235_4_O3",b]);this.Oa(["0_245_5_O4",b]);this.Oa(["0_245_5_O3",b]);this.Oa(["58_27_4_O3",
b]);this.Oa(["0_24_4H_O3",b]);this.Oa(["2_235_4H_O3",b]);this.Oa(["24_235_4H_O3",b]);this.Oa(["3_25_4_O2",b]);this.Oa(["Snake_O5",b]);this.Oa(["Mites",b]);this.Oa(["Mites2",b]);this.Oa(["Mites3",b]);b+=1;c=new d;c.add(48,48,48);c.add(255,128,0);c.add(0,0,255);c.add(32,32,255);c.add(64,64,255);c.add(96,96,255);this.lg[b]=c;this.Oa(["Alpha-1",b]);b+=1;c=new d;c.add(48,48,48);c.add(255,0,0);c.add(255,125,0);c.add(255,150,25);c.add(255,175,50);c.add(255,200,75);c.add(255,225,100);c.add(255,250,125);c.add(251,
255,0);c.add(89,89,255);c.add(106,106,255);c.add(122,122,255);c.add(139,139,255);c.add(27,176,27);c.add(36,200,36);c.add(73,255,73);c.add(106,255,106);c.add(235,36,36);c.add(255,56,56);c.add(255,73,73);c.add(255,89,89);c.add(185,56,255);c.add(191,73,255);c.add(197,89,255);c.add(203,106,255);c.add(0,255,128);c.add(255,128,64);c.add(255,255,128);c.add(33,215,215);c.add(27,176,176);c.add(24,156,156);c.add(21,137,137);this.Oa(["JvN29",b]);this.Oa(["Hutton32",b]);this.Oa(["Nobili32",b]);this.lg[b]=c}}}})();window.BoundingBox=function(d,c,b,a){this.N=d;this.K=c;this.O=b;this.L=a};(function(){function d(b,a){this.index=a;this.sa=b.pj[a];this.$a=b.Ii[a];this.m=b.qn[a];this.i=b.Fm[a];this.A=new BoundingBox(0,0,0,0);this.aa=new BoundingBox(0,0,0,0);this.Fa=this.s=this.kc=this.wb=this.za=0;this.f=b}function c(b,a){this.j=b;this.Qc=[];this.We=[];this.pj=[];this.Ii=[];this.qn=[];this.Fm=[];this.f=[];this.i=0;this.index=-1;this.yx=51;this.ne=[];this.fs=a}d.prototype.Dy=function(b,a,c){var e=a.length,g=a[0].length,d,f,E=0,C,r=c.im;c=c.jm;var h,D=0,n=this.m,l=0,p=n[l],G=p.length;Array.Af(this.sa,
a);for(d=0;d<e;d+=1){var A=this.sa[d];for(a=h=0;a<g;a+=1)if(C=A[a])for(f=15;0<=f;--f){if(0!==(C&1<<f)){var B=D;var q=h;var I=p[E];E+=1;b[B][q]=I&255;b[B][q+1]=I>>8&255;b[B+1][q]=I>>16&255;b[B+1][q+1]=I>>24;B+=2;I=p[E];E+=1;b[B][q]=I&255;b[B][q+1]=I>>8&255;b[B+1][q]=I>>16&255;b[B+1][q+1]=I>>24;B+=2;I=p[E];E+=1;b[B][q]=I&255;b[B][q+1]=I>>8&255;b[B+1][q]=I>>16&255;b[B+1][q+1]=I>>24;B+=2;I=p[E];E+=1;b[B][q]=I&255;b[B][q+1]=I>>8&255;b[B+1][q]=I>>16&255;b[B+1][q+1]=I>>24;B+=2;I=p[E];E+=1;b[B][q]=I&255;
b[B][q+1]=I>>8&255;b[B+1][q]=I>>16&255;b[B+1][q+1]=I>>24;B+=2;I=p[E];E+=1;b[B][q]=I&255;b[B][q+1]=I>>8&255;b[B+1][q]=I>>16&255;b[B+1][q+1]=I>>24;B+=2;I=p[E];E+=1;b[B][q]=I&255;b[B][q+1]=I>>8&255;b[B+1][q]=I>>16&255;b[B+1][q+1]=I>>24;B+=2;I=p[E];E+=1;b[B][q]=I&255;b[B][q+1]=I>>8&255;b[B+1][q]=I>>16&255;b[B+1][q+1]=I>>24;E>=G&&(l+=1,p=n[l],E=0)}h+=r}else h+=r<<4;D+=c}};d.prototype.Jy=function(b,a,c){var e=a.length,g=a[0].length,d,f=0,E;var C=0;var r=c.im,h=c.jm,D,n=0,l=this.m,p=0,G=l[p],A=G.length,
B=l.length;var q=this.f.fs;Array.Af(a,this.sa);for(d=0;d<e;d+=1){var I=a[d];for(c=0;c<g;c+=1)(E=I[c])&&(C+=q[E])}if(C)for(d=0;d<e;d+=1){I=a[d];for(c=D=0;c<g;c+=1)if(E=I[c])for(C=15;0<=C;--C){if(0!==(E&1<<C)){var k=n;q=D;G[f]=b[k][q]|b[k][q+1]<<8|b[k+1][q]<<16|b[k+1][q+1]<<24;f+=1;k+=2;G[f]=b[k][q]|b[k][q+1]<<8|b[k+1][q]<<16|b[k+1][q+1]<<24;f+=1;k+=2;G[f]=b[k][q]|b[k][q+1]<<8|b[k+1][q]<<16|b[k+1][q+1]<<24;f+=1;k+=2;G[f]=b[k][q]|b[k][q+1]<<8|b[k+1][q]<<16|b[k+1][q+1]<<24;f+=1;k+=2;G[f]=b[k][q]|b[k][q+
1]<<8|b[k+1][q]<<16|b[k+1][q+1]<<24;f+=1;k+=2;G[f]=b[k][q]|b[k][q+1]<<8|b[k+1][q]<<16|b[k+1][q+1]<<24;f+=1;k+=2;G[f]=b[k][q]|b[k][q+1]<<8|b[k+1][q]<<16|b[k+1][q+1]<<24;f+=1;k+=2;G[f]=b[k][q]|b[k][q+1]<<8|b[k+1][q]<<16|b[k+1][q+1]<<24;f+=1;f>=A&&(p+=1,f=0,p>=B&&(Array.Ik(l,"Snapshot.gridBufferRow"),B+=1));G=l[p]}D+=r}else D+=r<<4;n+=h}};d.prototype.Cy=function(b,a,c){var e=a.length,g=a[0].length,d,f,E,C=0,r,h=c.im<<3,D=c.jm,n,l=0,p=this.i,G=0,A=p[G],B=A.length;Array.Af(this.$a,a);for(d=0;d<e;d+=1){var q=
a[d];for(c=n=0;c<g;c+=1)if(r=q[c])for(f=15;0<=f;--f){if(0!==(r&1<<f))for(E=n;E<n+h;E+=4){var I=l;var k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>
16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;
b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;I+=1;k=A[C];C+=1;b[I][E]=k&255;b[I][E+1]=k>>8&255;b[I][E+2]=k>>16&255;b[I][E+3]=k>>24;C>=B&&(G+=1,A=p[G],C=0)}n+=h}else n+=
h<<4;l+=D}};d.prototype.Gy=function(b,a,c){var e=a.length,g=a[0].length,d,f=0,E;var C=0;var r=c.im<<3,h=c.jm,D,n=0,l=this.i,p=0,G=l[p],A=G.length,B=l.length;var q=this.f.fs;Array.Af(a,this.$a);for(d=0;d<e;d+=1){var I=a[d];for(c=0;c<g;c+=1)(E=I[c])&&(C+=q[E])}if(C)for(d=0;d<e;d+=1){I=a[d];for(c=D=0;c<g;c+=1)if(E=I[c])for(C=15;0<=C;--C){if(0!==(E&1<<C))for(q=D;q<D+r;q+=4){var k=n;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=
1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+
3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;k+=1;G[f]=b[k][q]|b[k][q+1]<<8|b[k][q+2]<<16|b[k][q+3]<<24;f+=1;f>=A&&(p+=1,f=0,p>=B&&(Array.Ik(l,"Snapshot.colourGridBufferRow"),B+=1),G=l[p])}D+=r}else D+=r<<4;n+=h}};
c.prototype.bufferSize=function(){for(var b=0,a=0;a<this.We.length;)b+=this.pj[a].length*this.pj[a][0].length*2,b+=this.Ii[a].length*this.Ii[a][0].length*2,b+=this.qn[a].length*this.qn[a][0].length*4,b+=this.Fm[a].length*this.Fm[a][0].length*4,this.f[a]&&(b+=this.f[a].length*this.f[a][0].length*4),a+=1;return b};c.prototype.vz=function(){for(var b=0,a=0;a<this.We.length;)this.We[a]&&(b+=1),a+=1;return b};c.prototype.reset=function(){var b=0,a;this.Qc=[];for(this.index=-1;b<this.We.length;){var c=
!1;for(a=0;a<this.ne.length&&!c;)b===this.ne[a].index?c=!0:a+=1;c||(this.We[b]=!1);b+=1}};c.prototype.Zy=function(b){var a=null;0<this.Qc.length&&(a=this.Qc[this.index],a.s>b&&(a=null,0<this.index&&(this.m(this.Qc[this.index].index),this.Qc.pop(),--this.index,0<=this.index&&(a=this.Qc[this.index]))));return a};c.prototype.Vl=function(b,a,c,e,g,d,m,E,C,r,h,D,n,l,p,G){var f=null,x=0,q=this.ne.length,I=!1;g=null!==g;if(p){for(;x<q&&!I;)this.ne[x].s===h?I=!0:x+=1;I?f=this.ne[x]:alert("reset snapshot at generation "+
h+" not found!")}else if(51>this.Qc.length)f=this.pp(D,n,!1,h,g),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.m(this.Qc[0].index);for(x=0;50>x;x+=1)this.Qc[x]=this.Qc[x+1];this.Qc.pop();this.pp(D,n,!1,h,g)}f=this.Qc[this.index]}f.Fa=G;f.Jy(b,a,l);f.Gy(c,e,l);f.A.N=d.N;f.A.O=d.O;f.A.K=d.K;f.A.L=d.L;f.aa.N=m.N;f.aa.O=m.O;f.aa.K=m.K;f.aa.L=m.L;f.za=E;f.wb=C;f.kc=r;f.s=h};c.prototype.m=function(b){this.We[b]=!1};c.prototype.V=function(b,a,c){for(var e=0,g=!1;e<this.i&&!g;)this.We[e]?
e+=1:g=!0;g?(b=e,this.We[e]=!0):(this.pj[e]=Array.X(Uint16,a,b,0,this.j,"Snapshot.tileGrid"+e),this.Ii[e]=Array.X(Uint16,a,b,0,this.j,"Snapshot.colourTileGrid"+e),this.qn[e]=Array.X(Uint32,1,1024,0,this.j,"Snapshot.gridBuffer"+e),this.Fm[e]=Array.X(Uint32,1,8192,0,this.j,"Snapshot.colourGridBuffer"+e),c&&(this.f[e]=Array.X(Uint32,1,8192,0,this.j,"Snapshot.overlayGridBuffer"+e)),this.We[e]=!0,this.i+=1,b=e);return b};c.prototype.pp=function(b,a,c,e,g){var f=0,m=this.ne.length,E=!1;b=this.V(b,a,g);
if(c){for(;f<m&&!E;)this.ne[f].s===e?E=!0:f+=1;E?c=this.ne[f]:(c=new d(this,b,g),this.ne[this.ne.length]=c)}else c=new d(this,b,g),this.Qc[this.Qc.length]=c;return c};c.prototype.G=function(b,a,c,e){var g=b.sa,d=b.$a,f=b.sa.length,E=f>>1,C=b.sa[0].length>>1,r=0,h=b.index;this.pj[h]=Array.X(Uint16,c,a,0,this.j,"Snapshot.tileGrid"+h);this.Ii[h]=Array.X(Uint16,c,a,0,this.j,"Snapshot.colourTileGrid"+h);b.sa=this.pj[h];b.$a=this.Ii[h];if(0<e){for(;r<f;)b.sa[r+E].set(g[r],C),b.$a[r+E].set(d[r],C),r+=1;
b.A.N+=e;b.A.O+=e;b.A.K+=e;b.A.L+=e;b.aa.N+=e;b.aa.O+=e;b.aa.K+=e;b.aa.L+=e}};c.prototype.hu=function(b,a,c){for(var e=0,g=this.ne.length;e<g;)this.G(this.ne[e],b,a,c),e+=1;e=0;for(g=this.Qc.length;e<g;)this.G(this.Qc[e],b,a,c),e+=1;for(e=0;e<this.We.length;)this.We[e]||(this.pj[e]=Array.X(Uint16,a,b,0,this.j,"Snapshot.tileGrid"+e),this.Ii[e]=Array.X(Uint16,a,b,0,this.j,"Snapshot.colourTileGrid"+e)),e+=1};window.SnapshotManager=c;window.Snapshot=d})();(function(){function d(c,b,a,d){this.j=c;this.a=d;this.pc=1;this.oo=2;this.wb=c.Y(Uint8,0,"HROT.births");this.xo=c.Y(Uint8,0,"HROT.survivals");this.xm=c.Y(Uint8,0,"HROT.altBirths");this.ym=c.Y(Uint8,0,"HROT.altSurvivals");this.type=PatternManager.Fe;this.G=Array.X(Uint32,1,1,0,c,"HROT.counts");this.da=c.Y(Uint32,0,"HROT.widths");this.xa=c.Y(Uint8,0,"HROT.colUsed");this.ga=this.i=this.m=this.V=0;this.Rg=!1}d.prototype.resize=function(c,b){this.G=Array.X(Uint32,b,c,0,this.j,"HROT.counts");this.xa=this.j.Y(Uint8,
c,"HROT.colUsed")};d.prototype.Vy=function(c,b){var a=2*b+1,d=b*b+b;this.type=c;this.pc=b;this.da=this.j.Y(Uint32,a,"HROT.widths");switch(c){case PatternManager.Fe:for(c=0;c<a;c+=1)this.da[c]=b;break;case PatternManager.Ne:for(c=0;c<b;c+=1)this.da[c]=c,this.da[a-c-1]=c;this.da[c]=b;break;case PatternManager.hp:for(c=-b;c<=b;c+=1){for(a=0;(a+1)*(a+1)+c*c<=d;)a+=1;this.da[c+b]=a}}};d.prototype.f=function(c,b){return 0>c||0>c+b||b-c>=this.m?0:0>b&&c+b<this.i?this.G[c+b][0]:b>=this.m&&b-c>=this.m-this.i?
this.G[c+this.m-1-b][this.m-1]:c<this.i?this.G[c][b]:c-this.i+1+b<=this.ga?this.G[this.i-1][c-this.i+1+b]:b-(c-this.i+1)>=this.ga?this.G[this.i-1][b-(c-this.i+1)]:this.G[this.i-1][this.ga+(c+b+this.i+this.ga+1)%2]};d.prototype.Ea=function(c,b,a,d){var e=this.a.oa,g=this.pc,f,m;for(m=0;m<g;m+=1){var E=e[b+m];var C=e[d+m+1];for(f=c;f<=a;f+=1)C[f]=E[f]}for(m=0;m<g;m+=1)for(E=e[d-m],C=e[b-m-1],f=c;f<=a;f+=1)C[f]=E[f];for(m=b;m<=d;m+=1)for(E=e[m],f=0;f<g;f+=1)E[a+f+1]=E[c+f],E[c-f-1]=E[a-f];for(m=0;m<
g;m+=1)for(E=e[b+m],C=e[d+m+1],f=0;f<g;f+=1)C[f+a+1]=E[f+c],C[c-f-1]=E[a-f];for(m=0;m<g;m+=1)for(E=e[d-m],C=e[b-m-1],f=0;f<g;f+=1)C[f+a+1]=E[f+c],C[c-f-1]=E[a-f]};d.prototype.ua=function(c,b,a,d){var e=this.a.oa,g=this.pc,f,m;for(m=0;m<g;m+=1){var E=e[d+m+1];for(f=c;f<=a;f+=1)E[f]=0}for(m=0;m<g;m+=1)for(E=e[b-m-1],f=c;f<=a;f+=1)E[f]=0;for(m=b;m<=d;m+=1)for(E=e[m],f=0;f<g;f+=1)E[a+f+1]=0,E[c-f-1]=0;for(m=0;m<g;m+=1)for(E=e[d+m+1],f=0;f<g;f+=1)E[f+a+1]=0,E[c-f-1]=0;for(m=0;m<g;m+=1)for(E=e[b-m-1],f=
0;f<g;f+=1)E[f+a+1]=0,E[c-f-1]=0};d.prototype.Ca=function(c,b,a,d,e){var g,f,m=this.a.oa,E=this.a.Ta,C=this.a.width,r=0,h=this.a.height,D=0,n=C,l=r,p=h,G=D,A=this.a.A,B=this.a.aa,q=this.pc,I=e?this.xm:this.wb,k=e?this.ym:this.xo,u=this.G;var t=this.oo-1;var J=LifeConstants.Za,H=LifeConstants.Dh,F=this.a.Gm;var y=this.a.g+this.a.ea-1;var z=this.a.ea,v=0<this.a.ea?1:0;var w=g=e=0;if(1===t)for(t=b-q;t<=d+q;t+=1){var L=m[t];var M=u[t];var P=E[t>>4];var ba=f=!1;for(b=c-q;b<=a+q;b+=1){var Y=L[b];var T=
M[b];y=0;Y<J?1===I[T]&&(g+=1,y=128):0===k[T]?w+=1:y=128;Y=F[Y+y];L[b]=Y;Y>H&&(f=!0,P[b>>8]|=1<<(~(b>>4)&15),b<C&&(C=b),b>r&&(r=b),Y>=J&&(e+=1,b<n&&(n=b),b>l&&(l=b),ba=!0))}f&&(t<h&&(h=t),t>D&&(D=t));ba&&(t<p&&(p=t),t>G&&(G=t))}else for(t=b-q;t<=d+q;t+=1){L=m[t];M=u[t];P=E[t>>4];ba=f=!1;for(b=c-q;b<=a+q;b+=1)Y=L[b],T=M[b],Y<=z?1===I[T]?(Y=y,g+=1):Y>v&&--Y:Y===y?0===k[T]&&(--Y,w+=1):Y>v&&--Y,L[b]=Y,0<Y&&(f=!0,P[b>>8]|=1<<(~(b>>4)&15),b<C&&(C=b),b>r&&(r=b),Y===y&&(e+=1,b<n&&(n=b),b>l&&(l=b),ba=!0));
f&&(t<h&&(h=t),t>D&&(D=t));ba&&(t<p&&(p=t),t>G&&(G=t))}this.a.za=e;this.a.wb=g;this.a.kc=w;0<e?(A.N=C,A.O=r,A.K=h,A.L=D,B.N=n,B.O=l,B.K=p,B.L=G):this.a.Fa=0};d.prototype.Na=function(c){var b,a,d=this.a.A.N,e=this.a.A.O,g=this.a.A.K,x=this.a.A.L,m=this.pc,E=c?this.xm:this.wb,C=c?this.ym:this.xo,r=m+m;var h=m+1;var D=this.G,n=this.type,l=this.oo-1,p=this.a.width,G=0,A=this.a.height,B=0,q=p,I=G,k=A,u=B,t=this.a.oa,J=this.a.Ta;var H=this.da;var F=this.a.wa;var y=this.a.ya,z=0,v=0,w=0,L=0,M=0,P=0,ba=0,
Y=LifeConstants.Za,T=LifeConstants.Dh,ca=this.a.Gm;var X=this.xa;-1!==this.a.na&&(z=Math.round((this.a.width-F)/2),w=Math.round((this.a.height-y)/2),v=z+F-1,L=w+y-1,1===E[0]&&(d=z+m,e=v-m,x=L-m,g=w+m),1===this.a.na&&(d-z<m&&(e=v),v-e<m&&(d=z),L-x<m&&(g=w),g-w<m&&(x=L),this.Ea(z,w,v,L)),0===this.a.na&&1===l&&this.a.Hs(0),d-z<m&&(d=z+m),v-e<m&&(e=v-m),L-x<m&&(x=L-m),g-w<m&&(g=w+m),n===PatternManager.Fe?(d-=r,g-=r,e+=r,x+=r):n===PatternManager.Ne&&6<m&&(d-=m,g-=m,e+=m,x+=m));if(n===PatternManager.Fe){d-=
r;g-=r;e+=r;x+=r;for(a=g;a<g+r;a+=1){var N=D[a];for(b=d;b+8<=e;)N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1;for(;b<=e;)N[b]=0,b+=1}for(a=g+r;a<=x;a+=1){N=D[a];for(b=d;b+8<=d+r;)N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1;for(;b<=d+r;)N[b]=0,b+=1}var S=D[g+r-1];for(a=g+r;a<=x;a+=1){N=D[a];l=t[a];F=0;for(b=d+r;b+8<=e;)l[b]>=Y&&(F+=1),N[b]=S[b]+F,b+=1,l[b]>=Y&&(F+=1),N[b]=S[b]+F,b+=1,l[b]>=
Y&&(F+=1),N[b]=S[b]+F,b+=1,l[b]>=Y&&(F+=1),N[b]=S[b]+F,b+=1,l[b]>=Y&&(F+=1),N[b]=S[b]+F,b+=1,l[b]>=Y&&(F+=1),N[b]=S[b]+F,b+=1,l[b]>=Y&&(F+=1),N[b]=S[b]+F,b+=1,l[b]>=Y&&(F+=1),N[b]=S[b]+F,b+=1;for(;b<=e;)l[b]>=Y&&(F+=1),N[b]=S[b]+F,b+=1;S=N}d+=m;g+=m;e-=m;x-=m;-1!==this.a.na&&(d+=r,g+=r,e-=r,x-=r);r=t[g][d];F=D[g+m][d+m];var R=0;r<Y?1===E[F]&&(P+=1,R=128):0===C[F]?ba+=1:R=128;r=ca[r+R];t[g][d]=r;r>T&&(X[d]|=1,B=A=g,J[g>>4][d>>8]|=1<<(~(d>>4)&15),r>=Y&&(M+=1,X[d]|=2,u=k=g));var aa=y=!1;N=D[g+m];S=D[g+
m];l=t[g];H=J[g>>4];for(b=d+1;b<=e;b+=1)r=l[b],F=N[b+m]-S[b-h],R=0,r<Y?1===E[F]&&(P+=1,R=128):0===C[F]?ba+=1:R=128,r=ca[r+R],l[b]=r,r>T&&(X[b]|=1,y=!0,H[b>>8]|=1<<(~(b>>4)&15),r>=Y&&(M+=1,X[b]|=2,aa=!0));y&&(B=A=g);aa&&(u=k=g);H=l=!1;N=d+m;for(a=g+1;a<=x;a+=1)r=t[a][d],F=D[a+m][N]-D[a-h][N],R=0,r<Y?1===E[F]&&(P+=1,R=128):0===C[F]?ba+=1:R=128,r=ca[r+R],t[a][d]=r,r>T&&(a<A&&(A=a),a>B&&(B=a),l=!0,J[a>>4][d>>8]|=1<<(~(d>>4)&15),r>=Y&&(M+=1,a<k&&(k=a),a>u&&(u=a),H=!0));l&&(X[d]|=1);H&&(X[d]|=2);for(a=
g+1;a<=x;a+=1){l=t[a];H=J[a>>4];S=D[a+m];var Q=D[a-h];N=d+1+m;var K=d+1-h;aa=y=!1;for(b=d+1;b<=e;b+=1)r=l[b],F=S[N]+Q[K]-S[K]-Q[N],R=0,r<Y?1===E[F]&&(R=128,P+=1):0===C[F]?ba+=1:R=128,r=ca[r+R],l[b]=r,r>T&&(y=!0,H[b>>8]|=1<<(~(b>>4)&15),X[b]|=1,r>=Y&&(M+=1,aa=!0,X[b]|=2)),N+=1,K+=1;y&&(a<A&&(A=a),a>B&&(B=a));aa&&(a<k&&(k=a),a>u&&(u=a))}for(b=d;b<=e;b+=1)X[b]&&(b<p&&(p=b),b>G&&(G=b),0!==(X[b]&2)&&(b<q&&(q=b),b>I&&(I=b)),X[b]=0);this.a.za=M;this.a.wb=P;this.a.kc=ba;0<M?(this.a.A.N=p,this.a.A.O=G,this.a.A.K=
A,this.a.A.L=B,this.a.aa.N=q,this.a.aa.O=I,this.a.aa.K=k,this.a.aa.L=u):this.a.Fa=0}else if(n===PatternManager.Ne&&6<m){d-=m;e+=m;g-=m;x+=m;-1===this.a.na&&(d-=m,e+=m,g-=m,x+=m);this.V=x-g+1;this.m=e-d+1;this.i=this.V+(this.m-1)/2|0;this.ga=this.m/2|0;for(h=0;h<this.i;h+=1)for(N=D[h],l=t[h+g],a=h-1,F=a-1,X=0;X<=this.m;X+=1)N[X]=this.f(a,X-1)+this.f(a,X+1)-this.f(F,X),h<this.V&&l[X+d]>=Y&&(N[X]+=1);for(h=m;h<=this.V-m;h+=1){a=h-1;Q=h+m;D=Q-1;b=h-m-1;N=b-1;S=h+g;l=t[S];H=J[S>>4];aa=y=!1;for(X=m;X<=
this.m-m;X+=1)F=X+m,r=X-m,F=this.f(Q,X)-this.f(a,F+1)-this.f(a,r-1)+this.f(N,X)+this.f(D,X)-this.f(a,F)-this.f(a,r)+this.f(b,X),K=X+d,r=l[K],R=0,r<Y?1===E[F]&&(R=128,P+=1):0===C[F]?ba+=1:R=128,r=ca[r+R],l[K]=r,r>T&&(K<p&&(p=K),K>G&&(G=K),y=!0,H[K>>8]|=1<<(~(K>>4)&15),r>=Y&&(M+=1,aa=!0,K<q&&(q=K),K>I&&(I=K)));y&&(S<A&&(A=S),S>B&&(B=S));aa&&(S<k&&(k=S),S>u&&(u=S))}this.a.za=M;this.a.wb=P;this.a.kc=ba;0<M?(this.a.A.N=p,this.a.A.O=G,this.a.A.K=A,this.a.A.L=B,this.a.aa.N=q,this.a.aa.O=I,this.a.aa.K=k,
this.a.aa.L=u):this.a.Fa=0}else for(a=g-m;a<=x+m;a+=1){N=D[a];b=d-m;F=0;for(X=-m;X<=m;X+=1)for(E=H[X+m],l=t[a+X],h=-E;h<=E;h+=1)l[b+h]>=Y&&(F+=1);N[b]=F;for(b+=1;b<=e+m;){for(X=-m;X<=m;X+=1)E=H[X+m],l=t[a+X],l[b-E-1]>=Y&&--F,l[b+E]>=Y&&(F+=1);N[b]=F;b+=1}}-1!==this.a.na&&(d<z+m&&(d=z+m),e>v-m&&(e=v-m),g<w+m&&(g=w+m),x>L-m&&(x=L-m));n===PatternManager.Fe||n===PatternManager.Ne&&6<m||this.Ca(d,g,e,x,c);1===this.a.na&&this.ua(z,w,v,L)};d.prototype.Ya=function(c){var b,a,d=this.a.A.N,e=this.a.A.O,g=this.a.A.K,
x=this.a.A.L,m=this.pc,E=c?this.xm:this.wb,C=c?this.ym:this.xo,r=m+m;var h=m+1;var D=this.G,n=this.type,l=this.a.width,p=0,G=this.a.height,A=0,B=l,q=p,I=G,k=A,u=this.a.oa,t=this.a.Ta;var J=this.da;var H=this.a.wa;var F=this.a.ya;var y=0,z=0,v=0,w=0,L=0,M=0,P=0,ba,Y=this.a.g+this.a.ea-1,T=this.a.ea,ca=0<this.a.ea?1:0;-1!==this.a.na&&(y=Math.round((this.a.width-H)/2),v=Math.round((this.a.height-F)/2),z=y+H-1,w=v+F-1,1===E[0]&&(d=y+m,e=z-m,x=w-m,g=v+m),1===this.a.na&&(d-y<m&&(e=z),z-e<m&&(d=y),w-x<m&&
(g=v),g-v<m&&(x=w),this.Ea(y,v,z,w)),d-y<m&&(d=y+m),z-e<m&&(e=z-m),w-x<m&&(x=w-m),g-v<m&&(g=v+m),n===PatternManager.Fe?(d-=r,g-=r,e+=r,x+=r):n===PatternManager.Ne&&6<m&&(d-=m,g-=m,e+=m,x+=m));if(n===PatternManager.Fe){d-=r;g-=r;e+=r;x+=r;for(a=g;a<g+r;a+=1){var X=D[a];for(b=d;b<=e;b+=1)X[b]=0}for(b=d;b<d+r;b+=1)for(a=g+r;a<=x;a+=1)D[a][b]=0;for(a=g+r;a<=x;a+=1){var N=D[a-1];X=D[a];H=u[a];F=0;for(b=d+r;b<=e;b+=1)H[b]===Y&&(F+=1),X[b]=N[b]+F}d+=m;g+=m;e-=m;x-=m;-1!==this.a.na&&(d+=r,g+=r,e-=r,x-=r);
r=u[g][d];F=D[g+m][d+m];r<=T?1===E[F]?(r=Y,M+=1):r>ca&&--r:r===Y?0===C[F]&&(--r,P+=1):r>ca&&--r;u[g][d]=r;0<r&&(p=l=d,A=G=g,t[g>>4][d>>8]|=1<<(~(d>>4)&15),r===Y&&(L+=1,q=B=d,k=I=g));var S=ba=!1;X=D[g+m];N=D[g+m];H=u[g];J=t[g>>4];for(b=d+1;b<=e;b+=1)r=H[b],F=X[b+m]-N[b-h],r<=T?1===E[F]?(r=Y,M+=1):r>ca&&--r:r===Y?0===C[F]&&(--r,P+=1):r>ca&&--r,H[b]=r,0<r&&(b<l&&(l=b),b>p&&(p=b),ba=!0,J[b>>8]|=1<<(~(b>>4)&15),r===Y&&(L+=1,b<B&&(B=b),b>q&&(q=b),S=!0));ba&&(A=G=g);S&&(k=I=g);J=H=!1;N=d+m;for(a=g+1;a<=
x;a+=1)r=u[a][d],F=D[a+m][N]-D[a-h][N],r<=T?1===E[F]?(r=Y,M+=1):r>ca&&--r:r===Y?0===C[F]&&(--r,P+=1):r>ca&&--r,u[a][d]=r,0<r&&(a<G&&(G=a),a>A&&(A=a),H=!0,t[a>>4][d>>8]|=1<<(~(d>>4)&15),r===Y&&(L+=1,a<I&&(I=a),a>k&&(k=a),J=!0));H&&(d<l&&(l=d),d>p&&(p=d));J&&(d<B&&(B=d),d>q&&(q=d));for(a=g+1;a<=x;a+=1){H=u[a];J=t[a>>4];X=D[a+m];var R=D[a-h];S=ba=!1;N=d+1+m;var aa=d+1-h;for(b=d+1;b<=e;b+=1)r=H[b],F=X[N]+R[aa]-X[aa]-R[N],r<=T?1===E[F]?(r=Y,M+=1):r>ca&&--r:r===Y?0===C[F]&&(--r,P+=1):r>ca&&--r,H[b]=r,0<
r&&(J[b>>8]|=1<<(~(b>>4)&15),b<l&&(l=b),b>p&&(p=b),ba=!0,r===Y&&(L+=1,S=!0,b<B&&(B=b),b>q&&(q=b))),N+=1,aa+=1;ba&&(a<G&&(G=a),a>A&&(A=a));S&&(a<I&&(I=a),a>k&&(k=a))}this.a.za=L;this.a.wb=M;this.a.kc=P;0<L?(this.a.A.N=l,this.a.A.O=p,this.a.A.K=G,this.a.A.L=A,this.a.aa.N=B,this.a.aa.O=q,this.a.aa.K=I,this.a.aa.L=k):this.a.Fa=0}else if(n===PatternManager.Ne&&6<m){d-=m;e+=m;g-=m;x+=m;-1===this.a.na&&(d-=m,e+=m,g-=m,x+=m);this.V=x-g+1;this.m=e-d+1;this.i=this.V+(this.m-1)/2|0;this.ga=this.m/2|0;for(h=
0;h<this.i;h+=1)for(X=D[h],H=u[h+g],a=h-1,F=a-1,N=0;N<=this.m;N+=1)X[N]=this.f(a,N-1)+this.f(a,N+1)-this.f(F,N),h<this.V&&H[N+d]===Y&&(X[N]+=1);for(h=m;h<=this.V-m;h+=1){a=h-1;aa=h+m;D=aa-1;b=h-m-1;X=b-1;R=h+g;H=u[R];J=t[R>>4];S=ba=!1;for(N=m;N<=this.m-m;N+=1){F=N+m;r=N-m;F=this.f(aa,N)-this.f(a,F+1)-this.f(a,r-1)+this.f(X,N)+this.f(D,N)-this.f(a,F)-this.f(a,r)+this.f(b,N);var Q=N+d;r=H[Q];r<=T?1===E[F]?(r=Y,M+=1):r>ca&&--r:r===Y?0===C[F]&&(--r,P+=1):r>ca&&--r;H[Q]=r;0<r&&(J[Q>>8]|=1<<(~(Q>>4)&15),
Q<l&&(l=Q),Q>p&&(p=Q),ba=!0,r===Y&&(L+=1,S=!0,Q<B&&(B=Q),Q>q&&(q=Q)))}ba&&(R<G&&(G=R),R>A&&(A=R));S&&(R<I&&(I=R),R>k&&(k=R))}this.a.za=L;this.a.wb=M;this.a.kc=P;0<L?(this.a.A.N=l,this.a.A.O=p,this.a.A.K=G,this.a.A.L=A,this.a.aa.N=B,this.a.aa.O=q,this.a.aa.K=I,this.a.aa.L=k):this.a.Fa=0}else for(a=g-m;a<=x+m;a+=1){X=D[a];b=d-m;F=0;for(N=-m;N<=m;N+=1)for(E=J[N+m],H=u[a+N],h=-E;h<=E;h+=1)H[b+h]===Y&&(F+=1);X[b]=F;for(b+=1;b<=e+m;){for(N=-m;N<=m;N+=1)E=J[N+m],H=u[a+N],H[b-E-1]===Y&&--F,H[b+E]===Y&&(F+=
1);X[b]=F;b+=1}}-1!==this.a.na&&(d<y+m&&(d=y+m),e>z-m&&(e=z-m),g<v+m&&(g=v+m),x>w-m&&(x=w-m));n===PatternManager.Fe||n===PatternManager.Ne&&6<m||this.Ca(d,g,e,x,c);1===this.a.na&&this.ua(y,v,z,w)};d.prototype.Kx=function(c){var b=!1;this.Rg&&1===(c&1)&&(b=!0);2===this.oo?this.Na(b):this.Ya(b)};window.HROT=d})();(function(){function d(a,g,b,c,d,f,r,h){this.name=a;this.Vi=!1;this.Mp=10;this.$e=this.Ye=0;this.La=c;this.va=b;this.ta=g;this.ye=d;this.Pa=f;this.xb=r;this.Ng=h;this.Gj=!1;-1===this.Pa.w.red&&(this.Gj=!0);128<=(this.La.red+this.La.green+this.La.blue)/3?(this.Ye=ViewConstants.Vs,this.$e=ViewConstants.Us):(this.Ye=ViewConstants.sn,this.$e=ViewConstants.rn)}function c(a,g,b){this.red=a;this.green=g;this.blue=b}function b(a,g){this.v=a;this.w=g}function a(a,g,b,c,d){this.j=new Allocator;this.Ci=this.Qb=
"";this.sc=255;this.Rb=null;this.we=this.j.Y(Uint8,65536,"Life.bitCounts16");this.Ak();this.xe=this.ve=this.Ya=null;this.Mb=this.Vb=this.Fb=this.Se=0;this.yc=1;this.Fa=0;this.ya=this.wa=this.na=-1;this.Rk=this.Qk=0;this.ks=this.gp=!1;this.Sl=ViewConstants.Ds;this.Uc=[];this.Vc=[];this.Uc[0]=this.j.Y(Int32,f.ko,"Life.boundaryX0");this.Vc[0]=this.j.Y(Int32,f.ko,"Life.boundaryY0");this.sg=0;this.Bj=4294967295;this.se=-1;this.Pd=this.Jl=this.Z=!1;this.g=-1;this.mc=!1;this.ea=0;this.Wg=this.pa=!1;this.Bd=
new SnapshotManager(this.j,this.we);this.cj=f.bm;this.wc=this.zu=!1;this.yj=this.ae=this.zd=this.aa=this.A=null;this.title="LifeViewer";this.width=c;this.height=d;this.im=2;this.jm=16;this.f=this.width>>4;this.m=this.height>>4;this.mo=this.Bd.pp((this.f-1>>4)+1,this.m,!0,0);this.F=g;this.B=b;this.kc=this.wb=this.za=0;this.Za=f.Za;this.jc=f.jc;this.Id=f.Id;this.Dh=f.Dh;this.Bn=this.La=0;this.Gi=this.Yd=this.J=1;this.Hi=30;this.angle=this.s=0;this.zoom=6;this.$=this.ca=0;this.nc=.1;this.Ia=0;this.ka=
1;this.vc=this.uc=0;this.i=.1;this.Uf=littleEndian;this.Ha=[];this.Fd=this.Xc=this.Cc=this.Ed=this.Ec=this.bc=this.Na=this.Xe=this.sd=this.Yc=this.ue=this.$c=this.Tc=this.sb=null;this.Sd=-1;this.ud=this.ed=this.sh=null;this.context=a;this.gb=this.cb=0;this.sa=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Sa=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.lc=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Hb=Array.X(Uint8,this.height,
(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.Jb=Array.gf(this.lc,"Life.grid16");this.da=Array.gf(this.Hb,"Life.nextGrid16");this.qg=this.j.Y(Uint32,this.F,"Life.blankPixelRow");this.Ea=this.j.Y(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ef=this.j.Y(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.rc=this.j.Y(Uint16,this.f>>4,"Life.blankTileRow");this.Df=this.j.Y(Uint8,this.width,"Life.blankColourRow");this.oa=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.colourGrid");this.G=
Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.smallColourGrid");this.ua=Array.Pc(this.G,1,"Life.smallColourGrid4");this.xa=Array.Pc(this.G,3,"Life.smallColourGrid8");this.Ca=Array.Pc(this.G,7,"Life.smallColourGrid16");this.lh=Array.gf(this.oa,"Life.colourGrid16");this.Sf=this.Xf=this.Ue=this.Te=this.V=this.ec=null;this.$a=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Ta=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.Vd=this.Zc=
this.Dc=this.ga=null;this.ib=this.j.Y(Uint8,256,"Life.redChannel");this.fb=this.j.Y(Uint8,256,"Life.greenChannel");this.eb=this.j.Y(Uint8,256,"Life.blueChannel");this.vg=this.j.Y(Uint32,256,"Life.pixelColours");this.j.Y(Uint8,f.Ws,"Life.indexLookup33");this.Qf=this.j.Y(Uint8,f.Pp,"Life.indexLookup63");this.Rf=this.j.Y(Uint8,f.Pp,"Life.indexLookup632");this.Gm=this.j.Y(Uint8,2*(this.jc+1),"Life.colourLookup");this.xj=this.j.Y(Uint8,2048,"Life.colourReset");this.Od=ViewConstants.sn;this.Pf=-1;this.Md=
ViewConstants.rn;this.If=-1;this.Nd=10;this.Of=!0;this.Om=!1;this.Pw=10;this.Gf=this.j.Y(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.T=8192;this.ex=[0,0,48];this.dx=[255,255,255];this.cx=[255,255,255];this.fx=[0,255,0];this.gx=[255,0,0];this.Lf=[0,0,48];this.Kf=[255,255,255];this.Jf=[255,255,255];this.Mf=[0,255,0];this.Nf=[255,0,0];this.Ib=new HROT(this.j,this.width,this.height,this);this.dn=!1}var f={ko:4096,Ws:512,Pp:262144,bm:50,xt:262144,Zh:12,Za:64,jc:127,Id:63,Dh:1,df:1,mf:2,uf:4,
Ve:8,Jg:16,Kg:32,jg:64,kg:128};d.prototype.Zl=function(a,g,b){this.Vi=!0;this.Mp=a;this.Ye=g.red<<16|g.green<<8|g.blue;this.$e=b.red<<16|b.green<<8|b.blue};d.prototype.My=function(a,g){-1!==a?this.Ye=a:this.Ye=128<=(this.La.red+this.La.green+this.La.blue)/3?ViewConstants.Vs:ViewConstants.sn;-1!==g?this.$e=g:this.$e=128<=(this.La.red+this.La.green+this.La.blue)/3?ViewConstants.Us:ViewConstants.rn};d.prototype.ix=function(a){var e=!0;a||this.va.v.Zp(this.va.w)&&this.ta.v.Zp(this.ta.w)&&this.ta.v.Zp(this.La)&&
(e=!1);return e};c.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};c.prototype.Zp=function(a){var e=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(e=!0);return e};b.prototype.set=function(a){this.v.set(a.v);this.w.set(a.w)};a.prototype.Rv=function(a,g,b){var e="",c=g.mc?g.ae:g.A,d=c.N,f=c.O,x=c.L,D=c.K,n=f-d+1,l=x-D+1,p=0,G=[];var A=0;var B=!1,q=this.oa,I=null;if(2>=g.g&&!g.mc)B=!0,G[0]="b",G[1]="o";else for(g.mc?A=7:A=g.g,G[0]=".",c=0;c<A-1;c+=1)G[c+
1]=24<=c?String.fromCharCode(112+(c/24|0)-1)+String.fromCharCode(65+c%24):String.fromCharCode(65+c);b&&(e+=g.Qb);0===this.za&&(l=n=0,x=D-1);e+="x = "+n+", y = "+l+", rule = ";e="LifeHistory"===a.lf?e+a.lf:e+a.ug;e+=a.yq;e+="\n";for(a=e.length;D<=x;){c=d;B?(I=q[D],A=I[c],n=A<=this.Id||A===this.sc?0:1):n=g.getState(c,D,!1);l=1;for(c+=1;c<=f+1;)c>f?A=-1:B?(A=I[c],A=A<=this.Id||A===this.sc?0:1):A=g.getState(c,D,!1),A!==n?((-1!==A||0!==n)&&0<p&&(1<p&&(e+=p),e+="$",69<=e.length-a&&(e+="\n",a=e.length),
p=0),0<n?(1<l&&(e+=l),e+=G[n]):c<=f&&(1<l&&(e+=l),e+=G[n]),69<=e.length-a&&(e+="\n",a=e.length),l=1,n=A):l+=1,c+=1;p+=1;D+=1}e+="!\n";b&&(e+=g.Ci);return e};a.prototype.ou=function(a,g,b){var e=this.Jb,c=this.sa,d=this.da,x=this.Sa,h=this.oa,D=this.$a,n=this.Ta,l=this.ec,p=this.A,G=this.aa,A=this.ae,B=Math.round((this.width-this.wa)/2),q=Math.round((this.height-this.ya)/2),I=B+this.wa-1,k=q+this.ya-1,u=!0,t=0;if(a!==(a&this.cb)||g!==(g&this.gb)){for(u=!1;this.width<this.T&&(a!==(a&this.cb)||g!==(g&
this.gb));)this.Np(),a+=this.width>>2,g+=this.height>>2;a===(a&this.cb)&&g===(g&this.gb)&&(u=!0,e=this.Jb,c=this.sa,d=this.da,x=this.Sa,h=this.oa,D=this.$a,n=this.Ta,l=this.ec)}if(u&&(-1===this.na||a>=B&&a<=I&&g>=q&&g<=k)){this.dn=!0;if(this.pa)e=h[g][a],2===this.g?(l=this.Za,1===b&&(b=this.Za)):(l=this.g-1+this.ea,0<b&&(b=this.ea+b)),h[g][a]=b,D[g>>4][a>>8]|=1<<(~(a>>4)&15),n[g>>4][a>>8]|=1<<(~(a>>4)&15),e!==l&&b===l?this.za+=1:e===l&&b!==l&&--this.za;else{(B=2>=this.g?1===(b&1):b===this.g-1)?(0===
(e[g][a>>4]&1<<(~a&15))&&(this.za+=1),h[g][a]=this.Za,D[g>>4][a>>8]|=1<<(~(a>>4)&15),n[g>>4][a>>8]|=1<<(~(a>>4)&15),e[g][a>>4]|=1<<(~a&15),c[g>>4][a>>8]|=1<<(~(a>>4)&15),d[g][a>>4]|=1<<(~a&15)):(0!==(e[g][a>>4]&1<<(~a&15))&&--this.za,h[g][a]=this.La,D[g>>4][a>>8]|=1<<(~(a>>4)&15),n[g>>4][a>>8]|=1<<(~(a>>4)&15),e[g][a>>4]&=~(1<<(~a&15)),c[g>>4][a>>8]|=1<<(~(a>>4)&15),d[g][a>>4]&=~(1<<(~a&15)));x[g>>4][a>>8]|=1<<(~(a>>4)&15);if(this.mc){e=l[g][a];0<e&&(e=ViewConstants.bb.indexOf(e-128));if(6===b&&6!==
e||6!==b&&6===e)t=1;2===b?h[g][a]=f.Dh:l[g][a]=0===b?0:ViewConstants.bb[b]+128}2<this.g&&(0<b&&(b=this.ea+b),h[g][a]=b)}0<b?(a<p.N&&(p.N=a),a>p.O&&(p.O=a),g<p.K&&(p.K=g),g>p.L&&(p.L=g),a<A.N&&(A.N=a),a>A.O&&(A.O=a),g<A.K&&(A.K=g),g>A.L&&(A.L=g),this.pa&&b===this.g-1+this.ea&&(a<G.N&&(G.N=a),a>G.O&&(G.O=a),g<G.K&&(G.K=g),g>G.L&&(G.L=g))):0<this.za&&(a===p.N||a===p.O||g===p.L||g===p.K)&&a>=p.N&&a<=p.O&&g>=p.K&&g<=p.L&&this.bo(a,g)}return t};a.prototype.Iv=function(a){var e=1<<f.Zh;a?(this.Ya=Array.X(Uint32,
1,e,0,this.j,"Life.popGraphData"),this.ve=Array.X(Uint32,1,e,0,this.j,"Life.birthGraphData"),this.xe=Array.X(Uint32,1,e,0,this.j,"Life.deathGraphData"),this.Se=e):(this.Ya=Array.X(Uint32,0,0,0,this.j,"Life.popGraphData"),this.ve=Array.X(Uint32,0,0,0,this.j,"Life.birthGraphData"),this.xe=Array.X(Uint32,0,0,0,this.j,"Life.deathGraphData"),this.Se=0)};a.prototype.getState=function(a,g,b){var e=0,c=ViewConstants.bb[3]+128,d=ViewConstants.bb[4]+128,f=ViewConstants.bb[5]+128,x=ViewConstants.bb[6]+128,D=
Math.round((this.width-this.wa)/2),n=Math.round((this.height-this.ya)/2),l=D+this.wa-1,p=n+this.ya-1;if(a===(a&this.cb)&&g===(g&this.gb)){var G=this.oa[g][a];b||2<this.g?2<this.g&&0<G?e=G<=this.ea?0:-1===this.na||G!==this.sc||a>=D&&a<=l&&g>=n&&g<=p?this.g+this.ea-G:0:e=G:this.ec?(a=this.ec[g][a],a===d||a===x?(G>=this.Za&&(a=c),e=ViewConstants.bb.indexOf(a-128)):a===c||a===f?(G<this.Za&&(a=d),e=ViewConstants.bb.indexOf(a-128)):e=G===this.La?0:G<=this.Id?2:1):e=G<=this.Id||G===this.sc?0:1}return e};
a.prototype.hm=function(a){var e,b,c,d=a.length,f=a[0].length,r=this.we,h=0;for(e=0;e<d;e+=1){var D=a[e];for(b=0;b<f;b+=1)(c=D[b])&&(h+=r[c])}return h};a.prototype.Ul=function(a,g,b){var e=this.Bd.Qc.length,c=this.Bd.Zy(a);e!==this.Bd.Qc.length&&(this.cj-=f.bm);if(c){for(this.zi(c);this.s<a-1;)this.bj(!1,!0,b),this.Cj();this.s<a&&this.bj(g,!0,b);this.Cj()}};a.prototype.zi=function(a){var e,b=this.Ea,c=this.Df;this.s=a.s;if(0!==(this.s&1)){var d=this.Hb;var f=this.lc;var r=this.Sa;var h=this.sa}else d=
this.lc,f=this.Hb,r=this.sa,h=this.Sa;var D=d.length;for(e=0;e<D;e+=1)d[e].set(b),this.oa[e].set(c),this.G[e].set(c);Array.Af(d,f);Array.Af(this.Ta,this.$a);a.Dy(d,r,this);a.Cy(this.oa,this.Ta,this);Array.Af(r,h);Array.Af(d,f);this.A.N=a.A.N;this.A.K=a.A.K;this.A.O=a.A.O;this.A.L=a.A.L;this.aa.N=a.aa.N;this.aa.K=a.aa.K;this.aa.O=a.aa.O;this.aa.L=a.aa.L;this.za=a.za;this.wb=a.wb;this.kc=a.kc;this.Fa=a.Fa};a.prototype.Vl=function(){if(0!==(this.s&1)){var a=this.Hb;var g=this.Sa}else a=this.lc,g=this.sa;
this.Bi(!1,a,g)};a.prototype.no=function(a){this.zi(this.mo);this.Bd.reset();this.cj=f.bm;a||this.Vl()};a.prototype.Bi=function(a,g,b){this.Bd.Vl(g,b,this.oa,this.Ta,this.ec,this.A,this.aa,this.za,this.wb,this.kc,this.s,(this.f-1>>4)+1,this.m,this,a,this.Fa)};a.prototype.Iy=function(a){this.Bd.reset();this.Bi(!0,this.lc,this.sa);a||this.Vl()};a.prototype.xy=function(){var a=this.ec,g=this.ga;this.height=this.width=512;this.pa&&this.Ib.resize(this.width,this.height);this.lc=Array.X(Uint8,this.height,
(this.width-1>>3)+1,0,this.j,"Life.grid");this.Hb=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.Jb=Array.gf(this.lc,"Life.grid16");this.da=Array.gf(this.Hb,"Life.nextGrid16");g&&(this.ga=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.Zc=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive"),this.Dc=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=this.width>>4;this.m=this.height>>
4;g&&(this.Vd=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.sa=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Sa=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.$a=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Ta=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.Ea=this.j.Y(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ef=this.j.Y(Uint16,(this.width-1>>4)+1,"Life.blankRow16");
this.rc=this.j.Y(Uint16,this.f>>4,"Life.blankTileRow");this.Df=this.j.Y(Uint8,this.width,"Life.blankColourRow");this.Gf=this.j.Y(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.oa=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.colourGrid");this.G=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.smallColourGrid");this.ua=Array.Pc(this.G,1,"Life.smallColourGrid4");this.xa=Array.Pc(this.G,3,"Life.smallColourGrid8");this.Ca=Array.Pc(this.G,7,"Life.smallColourGrid16");this.lh=
Array.gf(this.oa,"Life.colourGrid16");a&&(this.ec=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.overlayGrid"),this.V=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.smallOverlayGrid"),this.Te=Array.Pc(this.V,1,"Life.smallColourGrid4"),this.Ue=Array.Pc(this.V,3,"Life.smallColourGrid8"),this.Xf=Array.Pc(this.V,7,"Life.smallColourGrid16"),this.Sf=Array.gf(this.ec,"Life.overlayGrid16"));this.cb=this.width-1;this.gb=this.height-1;this.Bd.hu((this.f-1>>4)+1,this.m,0)};a.prototype.Np=
function(){var a=this.lc,g=this.Hb,b=this.oa,c=this.G,d=this.ec,f=this.V,r=this.ga,h=this.Zc,D=this.Dc,n=this.Vd,l=this.sa,p=this.Sa,G=this.$a,A=this.Ta,B=this.height,q=this.m,I=this.width>>1,k=this.height>>1,u;if(this.width<this.T){this.width*=2;this.height*=2;this.pa&&this.Ib.resize(this.width,this.height);this.lc=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Hb=Array.X(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.Jb=Array.gf(this.lc,"Life.grid16");
this.da=Array.gf(this.Hb,"Life.nextGrid16");r&&(this.ga=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.Zc=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive"),this.Dc=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=this.width>>4;this.m=this.height>>4;r&&(this.Vd=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.sa=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Sa=
Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.$a=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Ta=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.Ea=this.j.Y(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Ef=this.j.Y(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.rc=this.j.Y(Uint16,this.f>>4,"Life.blankTileRow");this.Df=this.j.Y(Uint8,this.width,"Life.blankColourRow");this.Gf=this.j.Y(Uint16,(this.width-
1>>4)+1,"Life.columnOccupied16");this.oa=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.colourGrid");this.G=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.smallColourGrid");this.ua=Array.Pc(this.G,1,"Life.smallColourGrid4");this.xa=Array.Pc(this.G,3,"Life.smallColourGrid8");this.Ca=Array.Pc(this.G,7,"Life.smallColourGrid16");this.lh=Array.gf(this.oa,"Life.colourGrid16");d&&(this.ec=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.overlayGrid"),this.V=Array.X(Uint8,this.height,
this.width,this.La,this.j,"Life.smallOverlayGrid"),this.Te=Array.Pc(this.V,1,"Life.smallColourGrid4"),this.Ue=Array.Pc(this.V,3,"Life.smallColourGrid8"),this.Xf=Array.Pc(this.V,7,"Life.smallColourGrid16"),this.Sf=Array.gf(this.ec,"Life.overlayGrid16"));this.cb=this.width-1;this.gb=this.height-1;for(u=0;u<B;u+=1)this.lc[u+k].set(a[u],I>>3),this.Hb[u+k].set(g[u],I>>3),this.oa[u+k].set(b[u],I),this.G[u+k].set(c[u],I),d&&f&&(this.ec[u+k].set(d[u],I),this.V[u+k].set(f[u],I)),r&&h&&D&&(this.ga[u+k].set(r[u],
I>>4),this.Zc[u+k].set(h[u],I>>4),this.Dc[u+k].set(D[u],I>>4));k=q>>1;for(u=0;u<q;u+=1)n&&this.Vd[u+k].set(n[u],this.Vd[u].length>>2),this.sa[u+k].set(l[u],this.sa[u].length>>2),this.Sa[u+k].set(p[u],this.Sa[u].length>>2),this.$a[u+k].set(G[u],this.$a[u].length>>2),this.Ta[u+k].set(A[u],this.Ta[u].length>>2);I=this.width>>2;k=this.height>>2;this.Bd.hu((this.f-1>>4)+1,this.m,I);this.ca+=I;this.$+=k;this.Z&&(this.ca-=k/2|0);this.A.N+=I;this.A.O+=I;this.A.L+=k;this.A.K+=k;this.aa.N+=I;this.aa.O+=I;this.aa.L+=
k;this.aa.K+=k;this.zd.N+=I;this.zd.O+=I;this.zd.L+=k;this.zd.K+=k;this.ae.N+=I;this.ae.O+=I;this.ae.L+=k;this.ae.K+=k}};a.prototype.bw=function(a){var e=this.A,b=this.width,c=this.height,d=!1;b<this.T&&this.Fa&&(e.N<=a||e.K<=a||e.O>=b-a||e.L>=c-a)&&(this.Np(),d=!0);return d};a.prototype.Ak=function(){var a,g,b=this.we;for(a=0;65536>a;a+=1){var c=a;for(g=0;c;g+=1)c&=c-1;b[a]=g}};a.prototype.Bk=function(){var a,g,b=this.xj,c=this.Za;for(a=0;256>a;a+=1)for(g=0;8>g;g+=1)b[(a<<3)+g]=a&1<<7-g?c:0};a.prototype.zy=
function(a,g){var e,b=0,c=this.we;var d=this.A;var f=d.N,h=d.O,D=d.L;d=d.K;if(this.pa)for(;d<=D;d+=1){var n=g[d];for(e=f;e<=h;e+=1)0<n[e]&&(b+=1)}else for(f>>=4,h>>=4;d<=D;d+=1)for(n=a[d],e=f;e<=h;e+=1)g=c[n[e]],b+=g;this.za=b;this.kc=this.wb=0};a.prototype.gu=function(a,g){var e=this.context;var b=this.Uf?4278190080:255;this.F=a;this.B=g;this.sh=this.ed=this.ud=null;this.ud=e.createImageData(e.canvas.width,e.canvas.height);this.ud.data.buffer?this.ed=new Uint32Array(this.ud.data.buffer):(this.ed=
new Uint32Array(this.ud.data.length>>2),this.sh=new Uint8Array(this.ed.buffer));this.qg=this.j.Y(Uint32,a,"Life.blankPixelRow");for(g=0;g<a;g+=1)this.qg[g]=b;this.sk()};a.prototype.iw=function(a,g,b){var e,c,d=this.oa,f=a.width,x=a.height,D=this.cb,n=this.gb,l=this.Dh,p=ViewConstants.bb[2];for(c=0;c<x;c+=1){var G=a.he[c];var A=d[c+b&n];for(e=0;e<f;e+=1)G[e]===p&&(A[e+g&D]=l)}};a.prototype.Zw=function(){this.Sf=this.V=this.ec=null};a.prototype.tw=function(){this.ec=Array.X(Uint8,this.height,this.width,
this.La,this.j,"Life.overlayGrid");this.V=Array.X(Uint8,this.height,this.width,this.La,this.j,"Life.smallOverlayGrid");this.Te=Array.Pc(this.V,1,"Life.smallOverlayGrid4");this.Ue=Array.Pc(this.V,3,"Life.smallOverlayGrid8");this.Xf=Array.Pc(this.V,7,"Life.smallOverlayGrid16");this.Sf=Array.gf(this.ec,"Life.overlayGrid16")};a.prototype.$w=function(){this.Vd=this.Dc=this.Zc=this.ga=null};a.prototype.ww=function(){this.ga=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask");this.Zc=
Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive");this.Dc=Array.X(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells");this.Vd=Array.X(Uint16,this.m,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid")};a.prototype.$x=function(){var a,g,b=this.cb,c=this.gb,d=this.Vd,f=ViewConstants.bb[6]+128;for(g=0;g<this.ga.length;g+=1)this.ga[g].set(this.Ef),this.Dc[g].set(this.Ef),this.Zc[g].set(this.Ef);for(g=0;g<this.Vd.length;g+=1)this.Vd[g].set(this.rc);for(g=1;g<this.height-
1;g+=1){var r=this.ec[g];var h=this.ga[g-1&c];var D=this.ga[g&c];var n=this.ga[g+1&c];var l=this.Dc[g&c];var p=d[(g-1&c)>>4];var G=d[(g&c)>>4];var A=d[(g+1&c)>>4];for(a=1;a<=this.width-1;a+=1)if(r[a]===f){var B=a&b;l[B>>4]|=1<<(~B&15);h[B>>4]|=1<<(~B&15);D[B>>4]|=1<<(~B&15);n[B>>4]|=1<<(~B&15);p[B>>8]|=1<<(~(B>>4)&15);G[B>>8]|=1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>4)&15);B=a-1&b;h[B>>4]|=1<<(~B&15);D[B>>4]|=1<<(~B&15);n[B>>4]|=1<<(~B&15);p[B>>8]|=1<<(~(B>>4)&15);G[B>>8]|=1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>
4)&15);B=a+1&b;h[B>>4]|=1<<(~B&15);D[B>>4]|=1<<(~B&15);n[B>>4]|=1<<(~B&15);p[B>>8]|=1<<(~(B>>4)&15);G[B>>8]|=1<<(~(B>>4)&15);A[B>>8]|=1<<(~(B>>4)&15)}}};a.prototype.Zx=function(a,g,b){var e,c,d=a.width,f=a.height,x=this.cb,D=this.gb,n=this.Vd;for(c=0;c<f;c+=1){var l=a.he[c];var p=this.ga[c-1+b&D];var G=this.ga[c+b&D];var A=this.ga[c+1+b&D];var B=this.Dc[c+b&D];var q=n[(c-1+b&D)>>4];var I=n[(c+b&D)>>4];var k=n[(c+1+b&D)>>4];for(e=0;e<d;e+=1)if(6===l[e]){var u=e+g&x;B[u>>4]|=1<<(~u&15);p[u>>4]|=1<<
(~u&15);G[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);q[u>>8]|=1<<(~(u>>4)&15);I[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15);u=e-1+g&x;p[u>>4]|=1<<(~u&15);G[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);q[u>>8]|=1<<(~(u>>4)&15);I[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15);u=e+1+g&x;p[u>>4]|=1<<(~u&15);G[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);q[u>>8]|=1<<(~(u>>4)&15);I[u>>8]|=1<<(~(u>>4)&15);k[u>>8]|=1<<(~(u>>4)&15)}}};a.prototype.wy=function(a){var e,b=this.oa,c=this.xj;var d=this.A;var f=d.N>>4,r=d.O>>
4,h=d.L;for(e=d.K;e<=h;e+=1){var D=a[e];var n=b[e];var l=f<<4;for(d=f;d<=r;d+=1){var p=D[d]>>8<<3;n[l]=c[p];l+=1;n[l]=c[p+1];l+=1;n[l]=c[p+2];l+=1;n[l]=c[p+3];l+=1;n[l]=c[p+4];l+=1;n[l]=c[p+5];l+=1;n[l]=c[p+6];l+=1;n[l]=c[p+7];l+=1;p=(D[d]&255)<<3;n[l]=c[p];l+=1;n[l]=c[p+1];l+=1;n[l]=c[p+2];l+=1;n[l]=c[p+3];l+=1;n[l]=c[p+4];l+=1;n[l]=c[p+5];l+=1;n[l]=c[p+6];l+=1;n[l]=c[p+7];l+=1}}};a.prototype.kx=function(a,g,b){var e=this.La,c=this.Ea,d=this.Df,f=this.qg,x=this.rc;var D=this.Uf?4278190080:255;this.Wg=
!1;this.cb=this.width-1;this.gb=this.height-1;this.A=new BoundingBox(0,0,this.width-1,this.height-1);this.aa=new BoundingBox(0,0,this.width-1,this.height-1);this.zd=new BoundingBox(0,0,this.width-1,this.height-1);this.ae=new BoundingBox(0,0,this.width-1,this.height-1);this.yj=new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.Bk();AliasManager.yd();this.gu(g,b);b=(this.width-1>>3)+1;for(a=0;a<b;a+=1)c[a]=0;b=this.width;for(a=0;a<b;a+=1)d[a]=e;b=this.f>>4;for(a=0;a<b;a+=1)x[a]=0;for(a=
0;a<g;a+=1)f[a]=D};a.prototype.ow=function(){var a=0;this.Ha[a]=new d("Mono",new b(new c(0,0,0),new c(0,0,0)),new b(new c(255,255,255),new c(255,255,255)),new c(0,0,0),new c(255,255,255),new b(new c(0,0,0),new c(-1,-1,-1)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0));a+=1;this.Ha[a]=new d("Blues",new b(new c(0,0,47),new c(0,0,255)),new b(new c(0,255,255),new c(255,255,255)),new c(0,0,0),new c(0,255,255),new b(new c(0,0,255),new c(-1,-1,-1)),new b(new c(0,0,47),new c(0,0,128)),new c(0,0,0));a+=1;
this.Ha[a]=new d("Fire",new b(new c(32,0,0),new c(160,0,0)),new b(new c(255,144,0),new c(255,255,0)),new c(0,0,0),new c(255,144,0),new b(new c(240,0,0),new c(-1,-1,-1)),new b(new c(32,0,0),new c(160,0,0)),new c(0,0,0));a+=1;this.Ha[a]=new d("Poison",new b(new c(0,24,0),new c(0,128,0)),new b(new c(0,255,255),new c(255,255,255)),new c(0,0,0),new c(0,255,255),new b(new c(0,192,0),new c(-1,-1,-1)),new b(new c(0,24,0),new c(0,128,0)),new c(0,0,0));a+=1;this.Ha[a]=new d("Yellow",new b(new c(0,47,0),new c(128,
0,128)),new b(new c(255,255,0),new c(255,255,255)),new c(0,32,128),new c(255,255,0),new b(new c(192,64,64),new c(-1,-1,-1)),new b(new c(0,47,0),new c(128,0,128)),new c(0,32,128));a+=1;this.Ha[a]=new d("Gray",new b(new c(16,16,16),new c(104,104,104)),new b(new c(176,176,176),new c(240,240,240)),new c(0,0,0),new c(240,240,240),new b(new c(160,160,160),new c(-1,-1,-1)),new b(new c(16,16,16),new c(104,104,104)),new c(0,0,0));a+=1;this.Ha[a]=new d("Inverse",new b(new c(255,255,255),new c(255,255,255)),
new b(new c(0,0,0),new c(0,0,0)),new c(255,255,255),new c(0,0,0),new b(new c(255,255,255),new c(-1,-1,-1)),new b(new c(255,255,255),new c(255,255,255)),new c(255,255,255));a+=1;this.Ha[a]=new d("Day",new b(new c(240,240,240),new c(0,255,255)),new b(new c(0,0,255),new c(0,0,0)),new c(255,255,255),new c(0,0,255),new b(new c(0,255,255),new c(-1,-1,-1)),new b(new c(240,240,240),new c(0,192,192)),new c(255,255,255));a+=1;this.Ha[a]=new d("Occupied",new b(new c(240,240,240),new c(240,240,240)),new b(new c(240,
240,240),new c(240,240,240)),new c(0,0,0),new c(240,240,240),new b(new c(240,240,240),new c(240,240,240)),new b(new c(240,240,240),new c(240,240,240)),new c(0,0,0));a+=1;this.Ha[a]=new d("Red",new b(new c(160,0,0),new c(160,0,0)),new b(new c(240,240,240),new c(240,240,240)),new c(0,0,0),new c(255,255,255),new b(new c(160,160,160),new c(160,160,160)),new b(new c(160,0,0),new c(160,0,0)),new c(0,0,0));a+=1;this.Ha[a]=new d("LifeHistory",new b(new c(0,0,96),new c(0,0,160)),new b(new c(0,240,0),new c(16,
255,16)),new c(0,0,0),new c(16,255,16),new b(new c(0,128,160),new c(-1,-1,-1)),new b(new c(0,0,96),new c(0,0,160)),new c(0,0,0));a+=1;this.Ha[a]=new d("Generations",new b(new c(64,0,0),new c(255,0,0)),new b(new c(255,255,0),new c(255,255,255)),new c(0,0,0),new c(255,255,0),new b(new c(255,0,0),new c(-1,-1,-1)),new b(new c(64,0,0),new c(128,0,0)),new c(0,0,0));a+=1;this.Ha[a]=new d("Golly",new b(new c(48,48,48),new c(48,48,48)),new b(new c(255,255,255),new c(255,255,255)),new c(48,48,48),new c(255,
255,0),new b(new c(255,0,0),new c(-1,-1,-1)),new b(new c(48,48,48),new c(48,48,48)),new c(48,48,48));this.Ha[a].Zl(10,new c(80,80,80),new c(112,112,112));a+=1;this.Ha[a]=new d("MCell",new b(new c(0,0,0),new c(0,0,0)),new b(new c(255,255,0),new c(255,255,0)),new c(0,0,0),new c(255,255,0),new b(new c(128,128,0),new c(128,128,128)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0));this.Ha[a].Zl(5,new c(64,0,0),new c(99,3,1));a+=1;this.Ha[a]=new d("Catagolue",new b(new c(160,221,204),new c(160,221,204)),
new b(new c(0,0,0),new c(0,0,0)),new c(192,255,238),new c(0,0,0),new b(new c(96,192,139),new c(2,129,2)),new b(new c(160,221,204),new c(160,221,204)),new c(192,255,238));this.Ha[a].Zl(0,new c(160,221,204),new c(160,221,204));a+=1;this.Ha[a]=new d("Caterer",new b(new c(54,57,62),new c(54,57,62)),new b(new c(255,255,255),new c(255,255,255)),new c(54,57,62),new c(255,170,0),new b(new c(255,85,0),new c(-1,-1,-1)),new b(new c(54,57,62),new c(54,57,62)),new c(54,57,62));this.Ha[a].Zl(0,new c(0,0,0),new c(0,
0,0));a+=1;this.Ha[a]=new d("Life32",new b(new c(255,255,255),new c(255,255,255)),new b(new c(0,0,128),new c(0,0,128)),new c(255,255,255),new c(0,0,128),new b(new c(0,0,64),new c(-1,-1,-1)),new b(new c(255,255,255),new c(255,255,255)),new c(255,255,255));this.Ha[a].Zl(5,new c(192,192,192),new c(128,128,128));this.Ha[a+1]=new d(Keywords.kk,new b(new c(0,0,0),new c(0,0,0)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0),new c(0,0,0),new b(new c(0,0,0),new c(0,0,0)),new b(new c(0,0,0),new c(0,0,0)),new c(0,
0,0));this.Sd=this.Ha.length-1;this.Tc=new b(new c(0,0,0),new c(0,0,0));this.sb=new b(new c(0,0,0),new c(0,0,0));this.$c=new c(0,0,0);this.ue=new c(0,0,0);this.Yc=new b(new c(0,0,0),new c(0,0,0));this.sd=new b(new c(0,0,0),new c(0,0,0));this.Xe=new c(0,0,0);this.bc=new b(new c(0,0,0),new c(0,0,0));this.Na=new b(new c(0,0,0),new c(0,0,0));this.Ec=new c(0,0,0);this.Ed=new c(0,0,0);this.Cc=new b(new c(0,0,0),new c(0,0,0));this.Xc=new b(new c(0,0,0),new c(0,0,0));this.Fd=new c(0,0,0)};a.prototype.dk=
function(a,g,b){var e=this.Ha[a];this.Yd=a;this.Tc.set(this.bc);this.sb.set(this.Na);this.$c.set(this.Ec);this.ue.set(this.Ed);this.sd.set(this.Xc);this.Yc.set(this.Cc);this.Xe.set(this.Fd);this.bc.set(e.va);this.Na.set(e.ta);this.Ec.set(e.La);this.Ed.set(e.ye);this.Xc.set(e.xb);this.Cc.set(e.Pa);this.Fd.set(e.Ng);this.Gi=g;this.zu=e.ix(this.mc);this.Od=e.Ye;this.Md=e.$e;this.Om||(this.Nd=e.Mp);this.Uf?(this.Pf=-16777216|(this.Od&255)<<16|(this.Od>>8&255)<<8|this.Od>>16,this.If=-16777216|(this.Md&
255)<<16|(this.Md>>8&255)<<8|this.Md>>16):(this.Pf=(this.Od&255)<<24|(this.Od>>8&255)<<16|this.Od>>16<<8|255,this.If=(this.Md&255)<<24|(this.Md>>8&255)<<16|this.Md>>16<<8|255);b.qs()};a.prototype.nw=function(){var a;var g=this.Gm;var b=this.jc;var c=this.Za;var d=this.Dh;var f=this.Id;g[0]=0;g[b+1]=c;for(a=1;a<b+1;a+=1)g[a]=Math.min(Math.max(a-1,d),f),g[a+b+1]=Math.max(Math.min(a+1,b),c);if(0===this.ea)for(a=this.Za;a<=this.jc;a+=1)g[a]=0;else this.ea<this.Id&&(g[this.Id-this.ea]=0)};a.prototype.gy=
function(){var a;for(a=0;a<this.Ha.length;a+=1){var g=this.Ha[a];if(g.Gj)if(2>=this.g)g.Pa.w.set(g.ye);else{var b=1/(this.g-2);g.Pa.w.red=g.Pa.v.red*b+g.ye.red*(1-b)|0;g.Pa.w.green=g.Pa.v.green*b+g.ye.green*(1-b)|0;g.Pa.w.blue=g.Pa.v.blue*b+g.ye.blue*(1-b)|0}}};a.prototype.ws=function(){var a=(this.Gi-1)/this.Hi;if(2<this.g){var g=0;this.ib[g]=this.Xe.red*a+this.Fd.red*(1-a);this.fb[g]=this.Xe.green*a+this.Fd.green*(1-a);this.eb[g]=this.Xe.blue*a+this.Fd.blue*(1-a);for(g=1;g<this.g-1;g+=1){var b=
3>=this.g?0:(g-1)/(this.g-3);var c=this.Yc.w.red*b+this.Yc.v.red*(1-b);var d=this.Cc.w.red*b+this.Cc.v.red*(1-b);this.ib[g+this.ea]=c*a+d*(1-a);c=this.Yc.w.green*b+this.Yc.v.green*(1-b);d=this.Cc.w.green*b+this.Cc.v.green*(1-b);this.fb[g+this.ea]=c*a+d*(1-a);c=this.Yc.w.blue*b+this.Yc.v.blue*(1-b);d=this.Cc.w.blue*b+this.Cc.v.blue*(1-b);this.eb[g+this.ea]=c*a+d*(1-a);this.Rb.length>=g&&(b=this.Rb[g],-1!==b&&(this.ib[g+this.ea]=b>>16,this.fb[g+this.ea]=b>>8&255,this.eb[g+this.ea]=b&255))}g=this.g-
1+this.ea;this.ib[g]=this.ue.red*a+this.Ed.red*(1-a);this.fb[g]=this.ue.green*a+this.Ed.green*(1-a);this.eb[g]=this.ue.blue*a+this.Ed.blue*(1-a);for(g=0;g<this.ea;g+=1)b=1<this.ea?1-g/(this.ea-1):1,c=this.sd.v.red*b+this.sd.w.red*(1-b),d=this.Xc.v.red*b+this.Xc.w.red*(1-b),this.ib[g+1]=c*a+d*(1-a),c=this.sd.v.green*b+this.sd.w.green*(1-b),d=this.Xc.v.green*b+this.Xc.w.green*(1-b),this.fb[g+1]=c*a+d*(1-a),c=this.sd.v.blue*b+this.sd.w.blue*(1-b),d=this.Xc.v.blue*b+this.Xc.w.blue*(1-b),this.eb[g+1]=
c*a+d*(1-a);0<this.Rb.length&&(b=this.Rb[0],-1!==b&&(this.ib[0]=b>>16,this.fb[0]=b>>8&255,this.eb[0]=b&255))}else{g=0;this.ib[g]=this.$c.red*a+this.Ec.red*(1-a);this.fb[g]=this.$c.green*a+this.Ec.green*(1-a);this.eb[g]=this.$c.blue*a+this.Ec.blue*(1-a);if(0===this.ea)for(g=1;g<=this.Id;g+=1)this.ib[g]=this.$c.red*a+this.Ec.red*(1-a),this.fb[g]=this.$c.green*a+this.Ec.green*(1-a),this.eb[g]=this.$c.blue*a+this.Ec.blue*(1-a);else{var f=this.Id-this.ea+1;for(g=1;g<f;g+=1)this.ib[g]=this.sb.v.red*a+this.Na.v.red*
(1-a),this.fb[g]=this.sb.v.green*a+this.Na.v.green*(1-a),this.eb[g]=this.sb.v.blue*a+this.Na.v.blue*(1-a);for(g=f;g<=this.Id;g+=1)b=this.Id===f?1:1-(g-f)/(this.Id-f),c=this.sb.v.red*b+this.sb.w.red*(1-b),d=this.Na.v.red*b+this.Na.w.red*(1-b),this.ib[g]=c*a+d*(1-a),c=this.sb.v.green*b+this.sb.w.green*(1-b),d=this.Na.v.green*b+this.Na.w.green*(1-b),this.fb[g]=c*a+d*(1-a),c=this.sb.v.blue*b+this.sb.w.blue*(1-b),d=this.Na.v.blue*b+this.Na.w.blue*(1-b),this.eb[g]=c*a+d*(1-a)}for(g=this.Za;g<=this.jc;g+=
1)b=1-(g-this.Za)/(this.jc-this.Za),c=this.Tc.v.red*b+this.Tc.w.red*(1-b),d=this.bc.v.red*b+this.bc.w.red*(1-b),this.ib[g]=c*a+d*(1-a),c=this.Tc.v.green*b+this.Tc.w.green*(1-b),d=this.bc.v.green*b+this.bc.w.green*(1-b),this.fb[g]=c*a+d*(1-a),c=this.Tc.v.blue*b+this.Tc.w.blue*(1-b),d=this.bc.v.blue*b+this.bc.w.blue*(1-b),this.eb[g]=c*a+d*(1-a)}};a.prototype.sw=function(a){var e=this.ib,b=this.fb,c=this.eb,d;for(d=0;d<a.length;d+=1){var f=a[d];e[d]=f>>16;b[d]=f>>8&255;c[d]=f&255}this.Gi=0};a.prototype.pw=
function(a,g){var e=this.ib,b=this.fb,c=this.eb,d=ViewConstants.bb,f=g.length,h;for(h=0;h<a.length;h+=1)h>=f||-1===g[h]?(e[128+d[h]]=a[h]>>16,b[128+d[h]]=a[h]>>8&255,c[128+d[h]]=a[h]&255):(e[128+d[h]]=g[h]>>16,b[128+d[h]]=g[h]>>8&255,c[128+d[h]]=g[h]&255)};a.prototype.dd=function(a){var e=this.ib,b=this.fb,c=this.eb,d=this.vg,f=this.Od,r=this.Md,h;if(2<this.g){if(this.Uf)for(h=0;h<=this.g+this.ea;h+=1)d[h]=-16777216|c[h]<<16|b[h]<<8|e[h]}else if(this.Uf){for(h=0;h<this.Za;h+=1)d[h]=-16777216|c[h]<<
16|b[h]<<8|e[h];for(h=this.Za;h<=this.jc;h+=1)d[h]=-16777216|c[h]*a<<16|b[h]*a<<8|e[h]*a;for(h=this.jc+1;256>h;h+=1)d[h]=-16777216|c[h]*a<<16|b[h]*a<<8|e[h]*a}else{for(h=0;h<this.Za;h+=1)d[h]=e[h]<<24|b[h]<<16|c[h]<<8|255;for(h=this.Za;h<=this.jc;h+=1)d[h]=e[h]*a<<24|b[h]*a<<16|c[h]*a<<8|255;for(h=this.jc+1;256>h;h+=1)d[h]=e[h]*a<<24|b[h]*a<<16|c[h]*a<<8|255}this.Uf?(this.Pf=-16777216|(f&255)<<16|(f>>8&255)<<8|f>>16,this.If=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.Pf=(f&255)<<24|(f>>8&255)<<
16|f>>16<<8|255,this.If=(r&255)<<24|(r>>8&255)<<16|r>>16<<8|255);-1!==this.na&&(h=this.sc,d[h]=this.Uf?-16777216|c[h]<<16|b[h]<<8|e[h]:e[h]*a<<24|b[h]*a<<16|c[h]*a<<8|255)};a.prototype.Ly=function(){var a=this.ib,g=this.fb,b=this.eb;this.sc=-1!==this.na&&256===this.g+this.ea?2:255;-1!==this.na&&256>this.g+this.ea&&(a[this.sc]=128,g[this.sc]=128,b[this.sc]=128)};a.prototype.ps=function(a){var e=this.height,b=this.lc,c=this.Hb,d=this.oa,f=this.G,r=this.ec,h=this.V,D=this.sa,n=this.$a,l=this.Ta,p=this.Sa,
G=this.Ea,A=this.rc,B=this.Df,q;for(q=0;q<e;q+=1)b[q].set(G),c[q].set(G),a||(d[q].set(B),f[q].set(B),r&&(r[q].set(B),h[q].set(B)));e=this.m;for(q=0;q<e;q+=1)D[q].set(A),p[q].set(A),a||(n[q].set(A),l[q].set(A))};a.prototype.yg=function(a,g){var e=f.Pp,b;for(b=0;b<e;b+=1){var c=g[b>>9&448|b>>6&56|b>>3&7]<<3;c|=g[b>>8&448|b>>5&56|b>>2&7]<<2;c|=g[b>>7&448|b>>4&56|b>>1&7]<<1;c|=g[b>>6&448|b>>3&56|b&7];a[b]=c}};a.prototype.nz=function(){var a,g=PatternManager.ak,b=PatternManager.Qq,c=PatternManager.Rg,
d=f.Ws,C=!1;if(-1===this.se&&g[0]){if(!g[d-1]){for(a=0;a<d/2;a+=1){var r=g[a];g[a]=g[d-a-1];g[d-a-1]=r}C=!0;this.yg(this.Rf,g)}for(a=0;a<d/2;a+=1)r=g[a],g[a]=1-g[d-a-1],g[d-a-1]=1-r}c?(this.yg(this.Rf,g),this.yg(this.Qf,b)):(this.yg(this.Qf,g),C||this.Rf.set(this.Qf))};a.prototype.th=function(a){var e=0;0!==(a&32768)?e=0:0!==(a&16384)?e=1:0!==(a&8192)?e=2:0!==(a&4096)?e=3:0!==(a&2048)?e=4:0!==(a&1024)?e=5:0!==(a&512)?e=6:0!==(a&256)?e=7:0!==(a&128)?e=8:0!==(a&64)?e=9:0!==(a&32)?e=10:0!==(a&16)?e=
11:0!==(a&8)?e=12:0!==(a&4)?e=13:0!==(a&2)?e=14:0!==(a&1)&&(e=15);return e};a.prototype.ti=function(a){var e=0;0!==(a&1)?e=15:0!==(a&2)?e=14:0!==(a&4)?e=13:0!==(a&8)?e=12:0!==(a&16)?e=11:0!==(a&32)?e=10:0!==(a&64)?e=9:0!==(a&128)?e=8:0!==(a&256)?e=7:0!==(a&512)?e=6:0!==(a&1024)?e=5:0!==(a&2048)?e=4:0!==(a&4096)?e=3:0!==(a&8192)?e=2:0!==(a&16384)&&(e=1);return e};a.prototype.uk=function(a){var e=this.ec,b=this.sa,c=this.width,d=this.height,f,r=this.A.L,h=this.A.K,D=this.A.N,n=this.A.O,l,p;for(l=0;l<
d;l+=1){var G=e[l];var A=b[l>>4];for(p=f=0;p<c;p+=1)0!==G[p]&&(A[p>>8]|=1<<(~(p>>4)&15),f|=G[p],p<D&&(D=p),p>n&&(n=p));f&&(l<h&&(h=l),l>r&&(r=l))}a||(this.A.L=r,this.A.K=h,this.A.N=D,this.A.O=n)};a.prototype.Kq=function(){var a,g,b,c=this.Jb,d=this.Sa,C=this.sa,r,h=this.m,D=this.f>>4,n=this.rc;var l=0;var p=l+16;for(g=0;g<h;g+=1)C[g].set(n);for(g=0;g<h;g+=1){var G=0;var A=d[g];var B=C[g];var q=0<g?C[g-1]:n;var I=g<h-1?C[g+1]:n;A[0]&=32767;A[D-1]&=65534;for(b=0;b<D;b+=1)if(r=A[b]){var k=B[b];var u=
q[b];var t=I[b];for(a=15;0<=a;--a){if(0!==(r&1<<a)){var J=!1;var H=0;var F=l;var y=c[F];if(y=y[G])J=!0,0!==(y&32768)&&(H|=f.df,H|=f.jg),0!==(y&1)&&(H|=f.mf,H|=f.kg),H|=f.Ve;for(F+=1;F<p-1;){y=c[F];if(y=y[G])J=!0,0!==(y&32768)&&(H|=f.df),0!==(y&1)&&(H|=f.mf);F+=1}y=c[F];if(y=y[G])J=!0,0!==(y&32768)&&(H|=f.df,H|=f.Jg),0!==(y&1)&&(H|=f.mf,H|=f.Kg),H|=f.uf;J&&(k|=1<<a,H&&(0!==(H&f.df)&&(15>a?k|=1<<a+1:0<b&&(B[b-1]|=1)),0!==(H&f.mf)&&(0<a?k|=1<<a-1:b<D-1&&(B[b+1]|=32768)),0!==(H&f.Ve)&&(u|=1<<a),0!==(H&
f.uf)&&(t|=1<<a),0!==(H&f.jg)&&(15>a?u|=1<<a+1:0<b&&(q[b-1]|=1)),0!==(H&f.kg)&&(0<a?u|=1<<a-1:b<D-1&&(q[b+1]|=32768)),0!==(H&f.Jg)&&(15>a?t|=1<<a+1:0<b&&(I[b-1]|=1)),0!==(H&f.Kg)&&(0<a?t|=1<<a-1:b<D-1&&(I[b+1]|=32768))))}G+=1}B[b]|=k;0<g&&(q[b]|=u);g<h-1&&(I[b]|=t)}else G+=16;l+=16;p+=16}for(g=0;g<n.length;g+=1)n[g]=0};a.prototype.Mq=function(){var a,g,b,c=this.Jb,d=this.Sa,C=this.oa,r=this.sa,h,D=this.m,n=this.f>>4,l=this.rc;var p=0;var G=p+16;for(g=0;g<D;g+=1)r[g].set(l);for(g=0;g<D;g+=1){var A=
0;var B=d[g];var q=r[g];var I=0<g?r[g-1]:l;var k=g<D-1?r[g+1]:l;B[0]&=32767;B[n-1]&=65534;for(b=0;b<n;b+=1)if(h=B[b]){var u=q[b];var t=I[b];var J=k[b];for(a=15;0<=a;--a){if(0!==(h&1<<a)){var H=!1;var F=0;var y=p;var z=c[y];var v=C[y];z=z[A];var w=A<<4;0<v[w]&&(z|=32768);w+=1;0<v[w]&&(z|=16384);w+=1;0<v[w]&&(z|=8192);w+=1;0<v[w]&&(z|=4096);w+=1;0<v[w]&&(z|=2048);w+=1;0<v[w]&&(z|=1024);w+=1;0<v[w]&&(z|=512);w+=1;0<v[w]&&(z|=256);w+=1;0<v[w]&&(z|=128);w+=1;0<v[w]&&(z|=64);w+=1;0<v[w]&&(z|=32);w+=1;0<
v[w]&&(z|=16);w+=1;0<v[w]&&(z|=8);w+=1;0<v[w]&&(z|=4);w+=1;0<v[w]&&(z|=2);w+=1;0<v[w]&&(z|=1);z&&(H=!0,0!==(z&32768)&&(F|=f.df,F|=f.jg),0!==(z&1)&&(F|=f.mf,F|=f.kg),F|=f.Ve);for(y+=1;y<G-1;)z=c[y],v=C[y],z=z[A],w=A<<4,0<v[w]&&(z|=32768),w+=1,0<v[w]&&(z|=16384),w+=1,0<v[w]&&(z|=8192),w+=1,0<v[w]&&(z|=4096),w+=1,0<v[w]&&(z|=2048),w+=1,0<v[w]&&(z|=1024),w+=1,0<v[w]&&(z|=512),w+=1,0<v[w]&&(z|=256),w+=1,0<v[w]&&(z|=128),w+=1,0<v[w]&&(z|=64),w+=1,0<v[w]&&(z|=32),w+=1,0<v[w]&&(z|=16),w+=1,0<v[w]&&(z|=8),
w+=1,0<v[w]&&(z|=4),w+=1,0<v[w]&&(z|=2),w+=1,0<v[w]&&(z|=1),z&&(H=!0,0!==(z&32768)&&(F|=f.df),0!==(z&1)&&(F|=f.mf)),y+=1;z=c[y];v=C[y];z=z[A];w=A<<4;0<v[w]&&(z|=32768);w+=1;0<v[w]&&(z|=16384);w+=1;0<v[w]&&(z|=8192);w+=1;0<v[w]&&(z|=4096);w+=1;0<v[w]&&(z|=2048);w+=1;0<v[w]&&(z|=1024);w+=1;0<v[w]&&(z|=512);w+=1;0<v[w]&&(z|=256);w+=1;0<v[w]&&(z|=128);w+=1;0<v[w]&&(z|=64);w+=1;0<v[w]&&(z|=32);w+=1;0<v[w]&&(z|=16);w+=1;0<v[w]&&(z|=8);w+=1;0<v[w]&&(z|=4);w+=1;0<v[w]&&(z|=2);w+=1;0<v[w]&&(z|=1);z&&(H=!0,
0!==(z&32768)&&(F|=f.df,F|=f.Jg),0!==(z&1)&&(F|=f.mf,F|=f.Kg),F|=f.uf);H&&(u|=1<<a,F&&(0!==(F&f.df)&&(15>a?u|=1<<a+1:0<b&&(q[b-1]|=1)),0!==(F&f.mf)&&(0<a?u|=1<<a-1:b<n-1&&(q[b+1]|=32768)),0!==(F&f.Ve)&&(t|=1<<a),0!==(F&f.uf)&&(J|=1<<a),0!==(F&f.jg)&&(15>a?t|=1<<a+1:0<b&&(I[b-1]|=1)),0!==(F&f.kg)&&(0<a?t|=1<<a-1:b<n-1&&(I[b+1]|=32768)),0!==(F&f.Jg)&&(15>a?J|=1<<a+1:0<b&&(k[b-1]|=1)),0!==(F&f.Kg)&&(0<a?J|=1<<a-1:b<n-1&&(k[b+1]|=32768))))}A+=1}q[b]|=u;0<g&&(I[b]|=t);g<D-1&&(k[b]|=J)}else A+=16;p+=16;
G+=16}for(g=0;g<l.length;g+=1)l[g]=0};a.prototype.bo=function(a,b){var e,g=this.A.N,c=this.A.O,d=this.A.L,f=this.A.K,h=this.oa,D,n=2>=this.g?this.Za:this.ea+1,l;if(a===g)for(l=!1;a<=c&&!l;){for(e=f;e<=d&&!l;)h[e][a]>=n?l=!0:e+=1;l?(this.A.N=a,this.pa&&a>this.aa.N&&(this.aa.N=a)):a+=1}else if(a===c)for(l=!1;a>=g&&!l;){e=f;for(D=h[e];e<=d&&!l;)D[a]>=n?l=!0:e+=1;l?(this.A.O=a,this.pa&&a<this.aa.O&&(this.aa.O=a)):--a}if(b===f)for(e=b,l=!1;e<=d&&!l;){a=g;for(D=h[e];a<=c&&!l;)D[a]>=n?l=!0:a+=1;l?(this.A.K=
e,this.pa&&e>this.aa.K&&(this.aa.K=e)):e+=1}else if(b===d)for(e=b,l=!1;e>=f&&!l;){for(a=g;a<=c&&!l;)h[e][a]>=n?l=!0:a+=1;l?(this.A.L=e,this.pa&&e<this.aa.L&&(this.aa.L=e)):--e}};a.prototype.uy=function(a){var e,b,c=this.width>>4,d=this.height,f=this.width,r=this.Jb,h=this.ec;var D=this.oa;var n=this.A,l=this.aa,p=this.zd,G=this.height,A=-1,B=this.width,q=-1,I=this.height,k=-1,u=this.width,t=-1,J,H=this.Gf,F=this.m,y=this.sa,z=this.Sa,v=this.$a,w=this.Ta,L=this.rc;if(h&&!a)for(b=0;b<d;b+=1){var M=
h[b];for(e=J=0;e<f;e+=1){var P=M[e];J|=P;P&&(e<u&&(u=e),e>t&&(t=e))}J&&(b<I&&(I=b),b>k&&(k=b))}for(b=0;b<H.length;b+=1)H[b]=0;for(b=0;b<F;b+=1)z[b].set(L);if(-1!==this.g)for(b=0;b<d;b+=1){c=D[b];for(e=J=0;e<f;e+=1)P=c[e],J|=P,P&&(e<B&&(B=e),e>q&&(q=e));J&&(b<G&&(G=b),b>A&&(A=b))}else{for(b=0;b<d;b+=1){D=r[b];for(e=J=0;e<c;e+=1)P=D[e],J|=P,H[e]|=P;J&&(b<G&&(G=b),b>A&&(A=b))}for(e=0;e<c;e+=1)H[e]&&(e<B&&(B=e),e>q&&(q=e));B=(B<<4)+this.th(H[B]);q=(q<<4)+this.ti(H[q])}if(0>A||G>=d||B>=f||0>q)G=A=d>>1,
q=B=f>>1;h&&!a&&(k<A&&(A=k),I>G&&(G=I),u<B&&(B=u),t>q&&(q=t));A>this.height-1&&(A=this.height-1);0>G&&(G=0);0>B&&(B=0);q>this.width-1&&(q=this.width-1);n.L=A;n.K=G;n.N=B;n.O=q;l.L=A;l.K=G;l.N=B;l.O=q;p.L=A;p.K=G;p.N=B;p.O=q;0<B&&--B;0<G&&--G;q<this.width-1&&(q+=1);A<this.height-1&&(A+=1);P=A>>4;B>>=8;q>>=8;for(b=G>>4;b<=P;b+=1)for(G=z[b],e=B;e<=q;e+=1)G[e]=-1;-1!==this.g?this.Mq():this.Kq();h&&(this.uk(a),p.L=n.L,p.K=n.K,p.N=n.N,p.O=n.O);Array.Af(y,z);Array.Af(y,v);Array.Af(y,w)};a.prototype.Wc=function(a){var b=
Math.round((this.width-this.wa)/2),e=Math.round((this.height-this.ya)/2),c=b+this.wa-1,d=e+this.ya-1,f=c+a>>4,r=b-a>>4,h=c+a>>4,D=~(1<<(~(b-a)&15)),n=~(1<<(~(c+a)&15)),l,p=this.we,G=0;var A=0!==(this.s&1)?this.da:this.Jb;var B=A[d+a];var q=A[e-a];if(0===this.wa)for(f=this.width>>4,l=0;l<f;l+=1)G+=p[q[l]],q[l]=0,G+=p[B[l]],B[l]=0;else if(0===this.ya)for(e=0,d=this.height,f=0;f<d;f+=1)B=A[f],B[r]&~D&&(G+=1),B[r]&=D,B[h]&~n&&(G+=1),B[h]&=n;else{for(l=b-a>>4;l<=f;l+=1)G+=p[q[l]],q[l]=0,G+=p[B[l]],B[l]=
0;for(f=e-a+1;f<=d+a-1;f+=1)B=A[f],B[r]&~D&&(G+=1),B[r]&=D,B[h]&~n&&(G+=1),B[h]&=n}this.za-=G;if(-1!==this.g)if(A=this.oa,b-=a,c+=a,d+=a,e-=a,B=A[d],q=A[e],0===this.wa)for(l=0;l<this.width;l+=1)q[l]=0,B[l]=0;else if(0===this.ya)for(f=0;f<this.height;f+=1)A[f][b]=0,A[f][c]=0;else{for(l=b;l<=c;l+=1)q[l]=0,B[l]=0;for(f=e+1;f<=d-1;f+=1)A[f][b]=0,A[f][c]=0}};a.prototype.Vq=function(){var a=this.wa;var b=this.ya;var c=Math.round((this.width-a)/2-1)>>4,d=Math.round((this.width+a)/2)>>4;var f=Math.round((this.height-
b)/2-1)>>4;var C=Math.round((this.height+b)/2)>>4;0===b&&(f=0,C=(this.height>>4)-1);0===a&&(c=0,d=(this.width>>4)-1);0>c&&(c=0);0>f&&(f=0);d>=this.width>>4&&(d=(this.width>>4)-1);C>=this.height>>4&&(C=(this.height>>4)-1);for(b=c;b<=d;b+=1)a=1<<(~b&15),this.sa[f][b>>4]|=a,this.Sa[f][b>>4]|=a,this.$a[f][b>>4]|=a,this.Ta[f][b>>4]|=a,this.sa[C][b>>4]|=a,this.Sa[C][b>>4]|=a,this.$a[C][b>>4]|=a,this.Ta[C][b>>4]|=a;for(;f<=C;f+=1)a=1<<(~c&15),this.sa[f][c>>4]|=a,this.Sa[f][c>>4]|=a,this.$a[f][c>>4]|=a,this.Ta[f][c>>
4]|=a,a=1<<(~d&15),this.sa[f][d>>4]|=a,this.Sa[f][d>>4]|=a,this.$a[f][d>>4]|=a,this.Ta[f][d>>4]|=a};a.prototype.jn=function(){var a=this.$a,b=this.wa,c=this.ya,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),C=d+b-1,r=f+c-1,h=this.Qk,D=this.Rk,n;if(0!==(this.s&1)){var l=this.da;var p=this.Sa}else l=this.Jb,p=this.sa;0===this.wa&&(d=0,C=this.width-1,b=this.width);0===this.ya&&(f=0,r=this.height-1,c=this.height);if(0!==this.ya)for(n=0;n<b;n+=1){var G=d+n;var A=d+(n+h+b)%b;0!==(l[r][G>>
4]&1<<(~G&15))&&(l[f-1][A>>4]|=1<<(~A&15),p[f-1>>4][A>>8]|=1<<(~(A>>4)&15),a[f-1>>4][A>>8]|=1<<(~(A>>4)&15),15===(f-1&15)&&(p[(f-1>>4)+1][A>>8]|=1<<(~(A>>4)&15),a[(f-1>>4)+1][A>>8]|=1<<(~(A>>4)&15)));A=d+(n-h+b)%b;0!==(l[f][G>>4]&1<<(~G&15))&&(l[r+1][A>>4]|=1<<(~A&15),p[r+1>>4][A>>8]|=1<<(~(A>>4)&15),a[r+1>>4][A>>8]|=1<<(~(A>>4)&15),0===(r+1&15)&&(p[(r+1>>4)-1][A>>8]|=1<<(~(A>>4)&15),a[(r+1>>4)-1][A>>8]|=1<<(~(A>>4)&15)))}if(0!==this.wa)for(n=0;n<c;n+=1)G=f+n,A=f+(n-D+c)%c,0!==(l[G][d>>4]&1<<(~d&
15))&&(l[A][C+1>>4]|=1<<(~(C+1)&15),p[A>>4][C+1>>8]|=1<<(~(C+1>>4)&15),a[A>>4][C+1>>8]|=1<<(~(C+1>>4)&15),0===(C+1&15)&&(p[A>>4][C-15>>8]|=1<<(~(C-15>>4)&15),a[A>>4][C-15>>8]|=1<<(~(C-15>>4)&15))),A=f+(n+D+c)%c,0!==(l[G][C>>4]&1<<(~C&15))&&(l[A][d-1>>4]|=1<<(~(d-1)&15),p[A>>4][d-1>>8]|=1<<(~(d-1>>4)&15),a[A>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(p[A>>4][d+15>>8]|=1<<(~(d+15>>4)&15),a[A>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));0!==this.wa&&0!==this.ya&&(G=d+(-h+b)%b,l[f-1][C+1>>4]=0!==(l[f+(c-1+
D+c)%c][G>>4]&1<<(~G&15))?l[f-1][C+1>>4]|1<<(~(C+1)&15):l[f-1][C+1>>4]&~(1<<(~(C+1)&15)),G=d+(b-1-h+b)%b,l[f-1][d-1>>4]=0!==(l[f+(c-1-D+c)%c][G>>4]&1<<(~G&15))?l[f-1][d-1>>4]|1<<(~(d-1)&15):l[f-1][d-1>>4]&~(1<<(~(d-1)&15)),G=d+(h+b)%b,l[r+1][C+1>>4]=0!==(l[f+(D+c)%c][G>>4]&1<<(~G&15))?l[r+1][C+1>>4]|1<<(~(C+1)&15):l[r+1][C+1>>4]&~(1<<(~(C+1)&15)),G=d+(b-1+h+b)%b,l[r+1][d-1>>4]=0!==(l[f+(-D+c)%c][G>>4]&1<<(~G&15))?l[r+1][d-1>>4]|1<<(~(d-1)&15):l[r+1][d-1>>4]&~(1<<(~(d-1)&15)))};a.prototype.Ok=function(){var a=
this.$a,b=this.wa,c=this.ya,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),C=d+b-1,r=f+c-1,h=this.Qk,D=this.Rk,n=this.gp,l=this.ks,p;if(0!==(this.s&1)){var G=this.da;var A=this.Sa}else G=this.Jb,A=this.sa;for(p=0;p<b;p+=1){var B=d+p;var q=n?C-(p+h+b)%b:d+(p+h+b)%b;0!==(G[r][B>>4]&1<<(~B&15))&&(G[f-1][q>>4]|=1<<(~q&15),A[f-1>>4][q>>8]|=1<<(~(q>>4)&15),a[f-1>>4][q>>8]|=1<<(~(q>>4)&15),15===(f-1&15)&&(A[(f-1>>4)+1][q>>8]|=1<<(~(q>>4)&15),a[(f-1>>4)+1][q>>8]|=1<<(~(q>>4)&15)));q=n?C-(p-
h+b)%b:d+(p-h+b)%b;0!==(G[f][B>>4]&1<<(~B&15))&&(G[r+1][q>>4]|=1<<(~q&15),A[r+1>>4][q>>8]|=1<<(~(q>>4)&15),a[r+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(r+1&15)&&(A[(r+1>>4)-1][q>>8]|=1<<(~(q>>4)&15),a[(r+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}for(p=0;p<c;p+=1)B=f+p,q=l?r-(p-D+c)%c:f+(p-D+c)%c,0!==(G[B][d>>4]&1<<(~d&15))&&(G[q][C+1>>4]|=1<<(~(C+1)&15),A[q>>4][C+1>>8]|=1<<(~(C+1>>4)&15),a[q>>4][C+1>>8]|=1<<(~(C+1>>4)&15),0===(C+1&15)&&(A[q>>4][C-15>>8]|=1<<(~(C-15>>4)&15),a[q>>4][C-15>>8]|=1<<(~(C-15>>4)&15))),
q=l?r-(p+D+c)%c:f+(p+D+c)%c,0!==(G[B][C>>4]&1<<(~C&15))&&(G[q][d-1>>4]|=1<<(~(d-1)&15),A[q>>4][d-1>>8]|=1<<(~(d-1>>4)&15),a[q>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(A[q>>4][d+15>>8]|=1<<(~(d+15>>4)&15),a[q>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));B=n?C-(-h+b)%b:d+(-h+b)%b;0!==(G[l?r-(c-1+D+c)%c:f+(c-1+D+c)%c][B>>4]&1<<(~B&15))&&(G[f-1][C+1>>4]|=1<<(~(C+1)&15));B=n?C-(b-1-h+b)%b:d+(b-1-h+b)%b;0!==(G[l?r-(c-1+D+c)%c:f+(c-1+D+c)%c][B>>4]&1<<(~B&15))&&(G[f-1][d-1>>4]|=1<<(~(d-1)&15));B=n?C-(h+b)%b:
d+(h+b)%b;0!==(G[l?r-(D+c)%c:f+(D+c)%c][B>>4]&1<<(~B&15))&&(G[r+1][C+1>>4]|=1<<(~(C+1)&15));B=n?C-(b-1+h+b)%b:d+(b-1+h+b)%b;0!==(G[l?r-(D+c)%c:f+(D+c)%c][B>>4]&1<<(~B&15))&&(G[r+1][d-1>>4]|=1<<(~(d-1)&15))};a.prototype.Hk=function(){var a=this.$a,b=Math.round((this.width-this.wa)/2),c=Math.round((this.height-this.ya)/2),d=b+this.wa-1,f=c+this.ya-1,C;if(0!==(this.s&1)){var r=this.da;var h=this.Sa}else r=this.Jb,h=this.sa;for(C=0;C<this.wa;C+=1){var D=b+C;var n=d-C;0!==(r[f][D>>4]&1<<(~D&15))&&(r[c-
1][n>>4]|=1<<(~n&15),h[c-1>>4][n>>8]|=1<<(~(n>>4)&15),a[c-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(c-1&15)&&(h[(c-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(c-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(r[c][D>>4]&1<<(~D&15))&&(r[f+1][n>>4]|=1<<(~n&15),h[f+1>>4][n>>8]|=1<<(~(n>>4)&15),a[f+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(f+1&15)&&(h[(f+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(f+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}for(C=0;C<=this.ya;C+=1)D=c+C,n=f-C,0!==(r[D][b>>4]&1<<(~b&15))&&(r[n][d+1>>4]|=1<<(~(d+1)&15),h[n>>4][d+1>>8]|=
1<<(~(d+1>>4)&15),a[n>>4][d+1>>8]|=1<<(~(d+1>>4)&15),0===(d+1&15)&&(h[n>>4][d-15>>8]|=1<<(~(d-15>>4)&15),a[n>>4][d-15>>8]|=1<<(~(d-15>>4)&15))),0!==(r[D][d>>4]&1<<(~d&15))&&(r[n][b-1>>4]|=1<<(~(b-1)&15),h[n>>4][b-1>>8]|=1<<(~(b-1>>4)&15),a[n>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(h[n>>4][b+15>>8]|=1<<(~(b+15>>4)&15),a[n>>4][b+15>>8]|=1<<(~(b+15>>4)&15)));0!==(r[f][b>>4]&1<<(~b&15))&&(r[f+1][b-1>>4]|=1<<(~(b-1)&15));0!==(r[f][d>>4]&1<<(~d&15))&&(r[f+1][d+1>>4]|=1<<(~(d+1)&15));0!==(r[c][b>>
4]&1<<(~b&15))&&(r[c-1][b-1>>4]|=1<<(~(b-1)&15));0!==(r[c][d>>4]&1<<(~d&15))&&(r[c-1][d+1>>4]|=1<<(~(d+1)&15))};a.prototype.Em=function(){var a=this.$a,b=Math.round((this.width-this.wa)/2),c=Math.round((this.height-this.ya)/2),d=b+this.wa-1,f=c+this.wa-1,C;if(0!==(this.s&1)){var r=this.da;var h=this.Sa}else r=this.Jb,h=this.sa;for(C=0;C<this.wa;C+=1){var D=c+C;var n=b+C;0!==(r[D][b>>4]&1<<(~b&15))&&(r[c-1][n>>4]|=1<<(~n&15),h[c-1>>4][n>>8]|=1<<(~(n>>4)&15),a[c-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(c-
1&15)&&(h[(c-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(c-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(r[D][d>>4]&1<<(~d&15))&&(r[f+1][n>>4]|=1<<(~n&15),h[f+1>>4][n>>8]|=1<<(~(n>>4)&15),a[f+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(f+1&15)&&(h[(f+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(f+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));0!==(r[c][n>>4]&1<<(~n&15))&&(r[D][b-1>>4]|=1<<(~(b-1)&15),h[D>>4][b-1>>8]|=1<<(~(b-1>>4)&15),a[D>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(h[D>>4][b+15>>8]|=1<<(~(b+15>>4)&15),a[D>>4][b+15>>8]|=1<<(~(b+
15>>4)&15)));0!==(r[f][n>>4]&1<<(~n&15))&&(r[D][d+1>>4]|=1<<(~(d+1)&15),h[D>>4][d+1>>8]|=1<<(~(d+1>>4)&15),a[D>>4][d+1>>8]|=1<<(~(d+1>>4)&15),0===(d+1&15)&&(h[D>>4][d-15>>8]|=1<<(~(d-15>>4)&15),a[D>>4][d-15>>8]|=1<<(~(d-15>>4)&15)))}0!==(r[f][b>>4]&1<<(~b&15))&&(r[f+1][b-1>>4]|=1<<(~(b-1)&15));0!==(r[f][d>>4]&1<<(~d&15))&&(r[f+1][d+1>>4]|=1<<(~(d+1)&15));0!==(r[c][b>>4]&1<<(~b&15))&&(r[c-1][b-1>>4]|=1<<(~(b-1)&15));0!==(r[c][d>>4]&1<<(~d&15))&&(r[c-1][d+1>>4]|=1<<(~(d+1)&15))};a.prototype.Gk=function(){switch(this.na){case 0:this.Wc(1);
break;case 1:this.Wc(1);this.Wc(2);break;case 2:this.Wc(1);this.Wc(2);break;case 3:this.Wc(1);this.Wc(2);break;case 4:this.Wc(1),this.Wc(2)}};a.prototype.pk=function(){this.Vq();switch(this.na){case 1:this.jn();break;case 2:this.Ok();break;case 3:this.Hk();break;case 4:this.Em()}this.Vq()};a.prototype.bj=function(a,b,c){var e=!1,d=this.A,g=this.ae;c||(a=!0);!b&&this.dn&&(this.dn=!1);this.s===this.cj-1&&(e=!0,b||(a=!0));-1===this.na||this.pa||this.pk();this.ga&&this.pr();this.Fa&&(this.pa?this.Ib.Kx(this.s):
a&&2>this.g?this.Fk():this.Ek());this.s+=1;-1===this.g||this.pa||this.Dk();this.ga&&this.Sq();-1===this.na||this.pa||this.Gk();this.width===this.T&&(c=this.pa?2*this.Ib.pc:16,d.N<=c||d.O>=this.T-c||d.K<=c||d.L>=this.T-c)&&(this.pa?this.rk():this.qk());e&&(this.cj+=f.bm,b||this.Vl());d.N<g.N&&(g.N=d.N);d.O>g.O&&(g.O=d.O);d.K<g.K&&(g.K=d.K);d.L>g.L&&(g.L=d.L);this.s<f.xt&&(a?(this.Ai(this.za,this.wb,this.kc),this.za>this.Fb&&(this.Fb=this.za),this.wb>this.Fb&&(this.Fb=this.wb),this.kc>this.Fb&&(this.Fb=
this.kc)):this.Ai(0,0,0))};a.prototype.Ai=function(a,b,c){var e=this.s>>f.Zh,d=this.s&(1<<f.Zh)-1;this.Ya&&0<this.Ya.length&&(this.s>=this.Se&&(Array.Ik(this.Ya,"Life.popGraphData"),Array.Ik(this.ve,"Life.birthGraphData"),Array.Ik(this.xe,"Life.deathGraphData"),this.Se+=1<<f.Zh),this.Ya[e][d]=a,this.ve[e][d]=b,this.xe[e][d]=c)};a.prototype.si=function(a,b,c,d,E,C,r,h){var e,n=1,g=(1<<f.Zh)-1;this.s>c&&(n=c/this.s);if(h){a.strokeStyle=b;a.beginPath();var p=d-r[0]/this.Fb*d|0;a.moveTo(0+C+.5,p+E+C+
.5)}else a.fillStyle=b;var m=0;for(b=e=1;b<c;b+=1){if(e<f.xt){var x=e>>f.Zh;var B=e&g;B=x=r[x][B];m+=n;for(e+=1;0===(m|0);){var q=r[e];e+=1;q>B&&(B=q);q<x&&(x=q);m+=n}--m}else B=x=0;b<=this.s&&(q=0+C+1+b,p=d-x/this.Fb*d|0,h?(a.lineTo(q+.5,p+E+C+.5),x!==B&&(p=d-B/this.Fb*d|0,a.lineTo(q+.5,p+E+C+.5))):0<x&&0<B&&(x!==B&&(p=d-B/this.Fb*d|0),a.fillRect(q+.5,p+E+C+.5,1,1)))}h&&a.stroke()};a.prototype.hn=function(a,b,c,d){var e=this.context,g=40,f=40,h=this.F-0-f,m=this.B-g-f,n="rgb("+this.Lf[0]+","+this.Lf[1]+
","+this.Lf[2]+")",l="rgb("+this.Kf[0]+","+this.Kf[1]+","+this.Kf[2]+")",p="rgb("+this.Jf[0]+","+this.Jf[1]+","+this.Jf[2]+")",x="rgb("+this.Mf[0]+","+this.Mf[1]+","+this.Mf[2]+")",A="rgb("+this.Nf[0]+","+this.Nf[1]+","+this.Nf[2]+")";if(this.Ya&&0<this.Ya.length){if(c||d)g=0,m+=80;d&&(f=0,h=this.F-0);var B=h-f;e.save();e.fillStyle=n;e.globalAlpha=b;e.fillRect(0,g,h+f,m);e.globalAlpha=1;c&&(m-=40);if(!d){e.font="16px Arial";e.textAlign="center";e.fillStyle="black";for(b=2;0<=b;b-=2)e.save(),e.translate(this.F/
2,m+f/2-6),e.fillText("Generation",b,b),e.restore(),e.save(),e.translate(f/2+6,this.B/2),e.rotate(-90*Math.PI/180),320>this.B?e.fillText("Pop",b,b):e.fillText("Population",b,b),e.restore(),e.fillStyle=l;e.fillStyle="black";for(b=2;0<=b;b-=2)e.save(),e.translate(f-f/2+6,g+f),e.rotate(-90*Math.PI/180),e.fillText(String(this.Fb),b,b),e.restore(),e.save(),e.translate(f-f/2+6,m),e.rotate(-90*Math.PI/180),e.fillText("0",b,b),e.restore(),e.save(),e.translate(f,m+f/2-6),e.fillText("0",b,b),e.restore(),e.save(),
e.translate(h,m+f/2-6),e.fillText(String(this.s>B?this.s:B),b,b),e.restore(),e.fillStyle=l}-1===this.na&&(this.si(e,A,B,m-g-f,g,f,this.xe,a),this.si(e,x,B,m-g-f,g,f,this.ve,a));this.si(e,p,B,m-g-f,g,f,this.Ya,a);e.strokeStyle=l;e.lineWidth=1;e.beginPath();e.moveTo(f+.5,g+f+.5);e.lineTo(f+.5,m+.5);e.lineTo(h+.5,m+.5);e.lineTo(h+.5,m+2.5);e.moveTo(f+.5,m+.5);e.lineTo(f+.5,m+2.5);e.moveTo(f+.5,m+.5);e.lineTo(f+.5-2,m+.5);e.moveTo(f+.5,g+f+.5);e.lineTo(f+.5-2,g+f+.5);e.stroke();e.restore()}};a.prototype.fu=
function(){var a=(1<<f.Zh)-1,b;if(this.Ya&&0<this.Ya.length){for(b=0;b<this.Se;b+=1){var c=b>>f.Zh;var d=b&a;this.Ya[c][d]=0;this.ve[c][d]=0;this.xe[c][d]=0}this.Ya[0][0]=this.za}this.Fb=this.za};a.prototype.Oq=function(){var a=this.A,b=this.ae;b.N=a.N;b.O=a.O;b.L=a.L;b.K=a.K};a.prototype.pr=function(){var a,b,c,d,f=this.ga,C=this.Zc,r=this.Dc,h=this.Vd,D=this.m,n=this.f>>4,l;var p=0;var G=0!==(this.s&1)?this.da:this.Jb;for(a=0;a<D;a+=1){var A=0;var B=h[a];for(b=0;b<n;b+=1)if(l=B[b])for(c=15;0<=c;--c){if(0!==
(l&1<<c))for(d=p;d<p+16;d+=1)C[d][A]=(G[d][A]|r[d][A])&f[d][A];A+=1}else A+=16;p+=16}};a.prototype.Sq=function(){var a,b,c,d,f,C=this.Zc,r=this.Vd,h=this.m,D=this.f>>4,n;var l=0!==(this.s&1)?this.da:this.Jb;for(a=f=0;a<h;a+=1){var p=0;var G=r[a];for(b=0;b<D;b+=1)if(n=G[b])for(c=15;0<=c;--c){if(0!==(n&1<<c))for(d=f;d<f+16;d+=1)l[d][p]&=~C[d][p];p+=1}else p+=16;f+=16}};a.prototype.ri=function(a,b,c){var e,d,g=this.sg,x=0,h=this.Uc[x],D=this.Vc[x],n=0,l=f.ko,p=l-1,G=0,A=l,B=this.Sl,q=this.cb,I=this.gb;
h[n]=a;D[n]=b;n+=1;for(c[b][a>>4]&=~(1<<(~a&15));0<n;)for(--n,n<G&&(--x,G-=l,A-=l,h=this.Uc[x],D=this.Vc[x]),a=h[n&p],b=D[n&p],d=b-B;d<=b+B;){for(e=a-B;e<=a+B;)e===(e&q)&&d===(d&I)&&0!==(c[d][e>>4]&1<<(~e&15))&&(c[d][e>>4]&=~(1<<(~e&15)),n===A&&(x+=1,G+=l,A+=l,x>g&&(this.Uc[x]=this.j.Y(Int32,l,"Life.boundaryX"+x),this.Vc[x]=this.j.Y(Int32,l,"Life.boundaryY"+x),this.sg=g+=1),h=this.Uc[x],D=this.Vc[x]),h[n&p]=e,D[n&p]=d,n+=1),e+=1;d+=1}};a.prototype.yi=function(a,b,c){for(var e=c[b][a],d=15;0<=d;)0!==
(e&1<<d)&&this.ri((a<<4)+(~d&15),b,c),--d};a.prototype.kn=function(a,b){this.ri(0,a,b)};a.prototype.ln=function(a,b,c){this.ri((a<<4)+15,b,c)};a.prototype.qk=function(){var a;var b=0!==(this.s&1)?this.da:this.Jb;var c=b.length;var d=b[0].length;var f=b[0];var C=b[c-1];for(a=0;a<d;)f[a]&&this.yi(a,0,b),C[a]&&this.yi(a,c-1,b),a+=1;for(a=0;a<c;)0!==(b[a][0]&32768)&&this.kn(a,b),0!==(b[a][d-1]&1)&&this.ln(d-1,a,b),a+=1};a.prototype.Ag=function(a,b){var e,c=this.oa,d,g=this.sg,r=0,h=this.Uc[r],D=this.Vc[r],
n=0,l=f.ko,p=l-1,G=0,A=l,B=this.cb,q=this.gb,I=2<this.g?0:f.Za,k=2<this.g?0:f.Id,u=this.Sl;h[n]=a;D[n]=b;n+=1;for(c[b][a]=0;0<n;)for(--n,n<G&&(--r,G-=l,A-=l,h=this.Uc[r],D=this.Vc[r]),a=h[n&p],b=D[n&p],e=b-u;e<=b+u;){var t=a-u;for(d=c[e];t<=a+u;)t===(t&B)&&e===(e&q)&&d[t]>=I&&(d[t]=k,n===A&&(r+=1,G+=l,A+=l,r>g&&(this.Uc[r]=this.j.Y(Int32,l,"Life.boundaryX"+r),this.Vc[r]=this.j.Y(Int32,l,"Life.boundaryY"+r),this.sg=g+=1),h=this.Uc[r],D=this.Vc[r]),h[n&p]=t,D[n&p]=e,n+=1),t+=1;e+=1}};a.prototype.rk=
function(){var a=this.oa,b=a.length,c=a[0].length,d=this.A,E=d.N,C=d.O,r=d.K,h=d.L,D=2*this.Ib.pc+1,n=2<this.g?0:f.Za,l,p;if(b-h<=D){for(p=b-D;p<=h;p+=1){var G=a[p];for(l=E;l<=C;l+=1)G[l]>=n&&this.Ag(l,p)}d.L=b-D}if(r<=D){for(p=r;p<=D;p+=1)for(G=a[p],l=E;l<=C;l+=1)G[l]>=n&&this.Ag(l,p);d.K=D}if(E<=D){for(p=r;p<=h;p+=1)for(G=a[p],l=E;l<=D;l+=1)G[l]>=n&&this.Ag(l,p);d.N=D}if(c-C<=D){for(p=r;p<=h;p+=1)for(G=a[p],l=c-D;l<=C;l+=1)G[l]>=n&&this.Ag(l,p);d.O=c-D}};a.prototype.Ek=function(){var a,b,d,c,E=
this.Gf,C,r=this.height,h=this.width,D=h>>4,n=this.A,l=r,p=-1,G=h,A=-1,B=this.m,q=this.f>>4,I=this.rc;var k=0;var u=B;if(0!==(this.s&1)){var t=this.da;var J=this.Jb;var H=this.Sa;var F=this.sa;var y=this.Rf}else t=this.Jb,J=this.da,H=this.sa,F=this.Sa,y=this.Qf;for(b=0;b<E.length;b+=1)E[b]=0;0>k&&(k=0);u>B&&(u=B);var z=k<<4;var v=z+16;for(b=k;b<u;b+=1){var w=F[b];for(d=0;d<w.length;d+=1)w[d]=0}for(b=k;b<u;b+=1){var L=0;w=H[b];var M=F[b];var P=0<b?F[b-1]:I;var ba=b<B-1?F[b+1]:I;for(d=0;d<q;d+=1)if(c=
w[d]){var Y=M[d];var T=P[d];var ca=ba[d];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var X=C=0;var N=z;var S=0===N?this.Ea:t[N-1];var R=t[N];k=t[N+1];var aa=R[L];if(L)if(L>=D-1){S=S[L-1]<<17|S[L]<<1;R=R[L-1]<<17|aa<<1;var Q=k[L-1]<<17|k[L]<<1;var K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N),0!==(K&32768)&&(X|=f.jg),X|=f.Ve;for(N+=1;N<v-1;){aa|=k[L];
k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1}aa|=k[L];k=N===this.height-1?this.Ea:t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=
K)C|=K,N<l&&(l=N),N>p&&(p=N),0!==(K&32768)&&(X|=f.Jg),X|=f.uf}else{S=S[L-1]<<17|S[L]<<1|S[L+1]>>15;R=R[L-1]<<17|aa<<1|R[L+1]>>15;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N),0!==(K&32768)&&(X|=f.jg),0!==(K&1)&&(X|=f.kg),X|=f.Ve;N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>
12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<
17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=
1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=
K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&
63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|
(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&
63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|
(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1;aa|=k[L];k=N===this.height-1?this.Ea:t[N+1];S=R;R=Q;Q=k[L-1]<<17|k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N),0!==(K&32768)&&(X|=f.Jg),
0!==(K&1)&&(X|=f.Kg),X|=f.uf}else{S=S[L]<<1|S[L+1]>>15;R=aa<<1|R[L+1]>>15;Q=k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N),0!==(K&1)&&(X|=f.kg),X|=f.Ve;for(N+=1;N<v-1;){aa|=k[L];k=t[N+1];S=R;R=Q;Q=k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>
4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N);N+=1}aa|=k[L];k=N===this.height-1?this.Ea:t[N+1];S=R;R=Q;Q=k[L]<<1|k[L+1]>>15;K=y[S>>12&63|(R>>12&63)<<6|(Q>>12&63)<<12]<<12;K|=y[S>>8&63|(R>>8&63)<<6|(Q>>8&63)<<12]<<8;K|=y[S>>4&63|(R>>4&63)<<6|(Q>>4&63)<<12]<<4;K|=y[S&63|(R&63)<<6|(Q&63)<<12];if(J[N][L]=K)C|=K,N<l&&(l=N),N>p&&(p=N),0!==(K&1)&&(X|=f.Kg),X|=f.uf}C&&(0!==(C&32768)&&(X|=f.df),0!==(C&1)&&(X|=f.mf));E[L]|=C;if(C||aa)Y|=1<<a,X&&(0!==(X&f.df)&&
(15>a?Y|=1<<a+1:0<d&&0<L&&(M[d-1]|=1)),0!==(X&f.mf)&&(0<a?Y|=1<<a-1:d<q-1&&L<D-1&&(M[d+1]|=32768)),0!==(X&f.Ve)&&(T|=1<<a),0!==(X&f.uf)&&(ca|=1<<a),0!==(X&f.jg)&&(15>a?T|=1<<a+1:0<d&&0<L&&(P[d-1]|=1)),0!==(X&f.kg)&&(0<a?T|=1<<a-1:d<q-1&&L<D-1&&(P[d+1]|=32768)),0!==(X&f.Jg)&&(15>a?ca|=1<<a+1:0<d&&0<L&&(ba[d-1]|=1)),0!==(X&f.Kg)&&(0<a?ca|=1<<a-1:d<q-1&&L<D-1&&(ba[d+1]|=32768)))}L+=1}M[d]|=Y;0<b&&(P[d]|=T);b<B-1&&(ba[d]|=ca)}else L+=16;z+=16;v+=16}for(d=0;d<D;d+=1)E[d]&&(d<G&&(G=d),d>A&&(A=d));G=(G<<
4)+this.th(E[G]);A=(A<<4)+this.ti(E[A]);0>p&&(p=r-1);l>=r&&(l=0);G>=h&&(G=0);0>A&&(A=h-1);p>r-1&&(p=r-1);0>l&&(l=0);0>G&&(G=0);A>h-1&&(A=h-1);n.L=p;n.K=l;n.N=G;n.O=A;for(b=0;b<I.length;b+=1)I[b]=0};a.prototype.Fk=function(){var a,b,d,c,E,C=this.Gf,r,h=this.height,D=this.width,n=D>>4,l=this.A,p=h,G=-1,A=D,B=-1,q=this.m,I=this.f>>4,k=this.rc,u=this.we,t=0,J=0,H=0;var F=0;var y=q;if(0!==(this.s&1)){var z=this.da;var v=this.Jb;var w=this.Sa;var L=this.sa;var M=this.Rf}else z=this.Jb,v=this.da,w=this.sa,
L=this.Sa,M=this.Qf;for(b=0;b<C.length;b+=1)C[b]=0;0>F&&(F=0);y>q&&(y=q);var P=F<<4;var ba=P+16;for(b=F;b<y;b+=1){var Y=L[b];for(d=0;d<Y.length;d+=1)Y[d]=0}for(b=F;b<y;b+=1){var T=0;Y=w[b];var ca=L[b];var X=0<b?L[b-1]:k;var N=b<q-1?L[b+1]:k;for(d=0;d<I;d+=1)if(c=Y[d]){var S=ca[d];var R=X[d];var aa=N[d];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var Q=r=0;var K=P;var W=0===K?this.Ea:z[K-1];var U=z[K];F=z[K+1];var ea=E=U[T];if(T)if(T>=n-1){W=W[T-1]<<17|W[T]<<1;U=U[T-1]<<17|E<<1;var V=F[T-1]<<17|F[T]<<1;var O=
M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12;O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8;O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4;O|=M[W&63|(U&63)<<6|(V&63)<<12];v[K][T]=O;t+=u[O];J+=u[O&~E];H+=u[E&~O];O&&(r|=O,K<p&&(p=K),K>G&&(G=K),0!==(O&32768)&&(Q|=f.jg),Q|=f.Ve);for(K+=1;K<ba-1;)E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<
12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1;E=F[T];ea|=E;F=K===this.height-1?this.Ea:z[K+1];W=U;U=V;V=F[T-1]<<17|F[T]<<1;O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12;O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8;O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4;O|=M[W&63|(U&63)<<6|(V&63)<<12];v[K][T]=O;t+=u[O];J+=u[O&~E];H+=u[E&~O];O&&(r|=O,K<p&&(p=K),K>G&&(G=K),0!==(O&32768)&&(Q|=f.Jg),Q|=f.uf)}else W=W[T-1]<<17|W[T]<<1|W[T+1]>>15,U=U[T-1]<<17|E<<1|U[T+1]>>15,V=F[T-
1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K),0!==(O&32768)&&(Q|=f.jg),0!==(O&1)&&(Q|=f.kg),Q|=f.Ve),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<
6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>
12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&
~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=
M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<
1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],
J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>
8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=
V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<
12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1,E=F[T],ea|=E,F=K===this.height-1?this.Ea:z[K+1],W=U,U=V,V=F[T-1]<<17|F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K),0!==(O&32768)&&(Q|=f.Jg),0!==(O&1)&&(Q|=f.Kg),Q|=f.uf);else{W=W[T]<<1|W[T+1]>>15;U=E<<1|U[T+1]>>
15;V=F[T]<<1|F[T+1]>>15;O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12;O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8;O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4;O|=M[W&63|(U&63)<<6|(V&63)<<12];v[K][T]=O;t+=u[O];J+=u[O&~E];H+=u[E&~O];O&&(r|=O,K<p&&(p=K),K>G&&(G=K),0!==(O&1)&&(Q|=f.kg),Q|=f.Ve);for(K+=1;K<ba-1;)E=F[T],ea|=E,F=z[K+1],W=U,U=V,V=F[T]<<1|F[T+1]>>15,O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12,O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8,O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4,O|=M[W&
63|(U&63)<<6|(V&63)<<12],v[K][T]=O,t+=u[O],J+=u[O&~E],H+=u[E&~O],O&&(r|=O,K<p&&(p=K),K>G&&(G=K)),K+=1;E=F[T];ea|=E;F=K===this.height-1?this.Ea:z[K+1];W=U;U=V;V=F[T]<<1|F[T+1]>>15;O=M[W>>12&63|(U>>12&63)<<6|(V>>12&63)<<12]<<12;O|=M[W>>8&63|(U>>8&63)<<6|(V>>8&63)<<12]<<8;O|=M[W>>4&63|(U>>4&63)<<6|(V>>4&63)<<12]<<4;O|=M[W&63|(U&63)<<6|(V&63)<<12];v[K][T]=O;t+=u[O];J+=u[O&~E];H+=u[E&~O];O&&(r|=O,K<p&&(p=K),K>G&&(G=K),0!==(O&1)&&(Q|=f.Kg),Q|=f.uf)}r&&(0!==(r&32768)&&(Q|=f.df),0!==(r&1)&&(Q|=f.mf));C[T]|=
r;if(r||ea)S|=1<<a,Q&&(0!==(Q&f.df)&&(15>a?S|=1<<a+1:0<d&&0<T&&(ca[d-1]|=1)),0!==(Q&f.mf)&&(0<a?S|=1<<a-1:d<I-1&&T<n-1&&(ca[d+1]|=32768)),0!==(Q&f.Ve)&&(R|=1<<a),0!==(Q&f.uf)&&(aa|=1<<a),0!==(Q&f.jg)&&(15>a?R|=1<<a+1:0<d&&0<T&&(X[d-1]|=1)),0!==(Q&f.kg)&&(0<a?R|=1<<a-1:d<I-1&&T<n-1&&(X[d+1]|=32768)),0!==(Q&f.Jg)&&(15>a?aa|=1<<a+1:0<d&&0<T&&(N[d-1]|=1)),0!==(Q&f.Kg)&&(0<a?aa|=1<<a-1:d<I-1&&T<n-1&&(N[d+1]|=32768)))}T+=1}ca[d]|=S;0<b&&(X[d]|=R);b<q-1&&(N[d]|=aa)}else T+=16;P+=16;ba+=16}for(d=0;d<n;d+=
1)C[d]&&(d<A&&(A=d),d>B&&(B=d));A=(A<<4)+this.th(C[A]);B=(B<<4)+this.ti(C[B]);0>G&&(G=h-1);p>=h&&(p=0);A>=D&&(A=0);0>B&&(B=D-1);G>h-1&&(G=h-1);0>p&&(p=0);0>A&&(A=0);B>D-1&&(B=D-1);l.L=G;l.K=p;l.N=A;l.O=B;for(b=0;b<k.length;b+=1)k[b]=0;this.za=t;this.wb=J;this.kc=H};a.prototype.vi=function(a,b){var d,c=this.Ta,e,g,f,h,D=this.m,n=this.f>>4;var l=0;var p=l+16;for(e=0;e<D;e+=1){var G=0;var A=c[e];for(g=0;g<n;g+=1)if(h=A[g])for(f=15;0<=f;--f){if(0!==(h&1<<f))for(d=l;d<p;d+=2){var B=a[d];var q=a[d+1];var I=
b[d];var k=G<<3;var u=0;var t=B[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);t=q[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);I[k+k]=u;k+=1;u=0;t=B[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);t=q[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);I[k+k]=u;k+=1;u=0;t=B[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);t=q[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);I[k+k]=u;k+=1;u=0;t=B[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);t=q[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);I[k+k]=u;k+=1;u=0;t=B[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=
t);t=q[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);I[k+k]=u;k+=1;u=0;t=B[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);t=q[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);I[k+k]=u;k+=1;u=0;t=B[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);t=q[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);I[k+k]=u;k+=1;u=0;t=B[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);t=q[k];(t&255)>u&&(u=t&255);t>>=8;t>u&&(u=t);I[k+k]=u}G+=1}else G+=16;l+=16;p+=16}};a.prototype.wi=function(a,b){var d,c=this.Ta,e,g,f,h,D=this.m,n=this.f>>4;var l=0;var p=l+
16;for(e=0;e<D;e+=1){var G=0;var A=c[e];for(g=0;g<n;g+=1)if(h=A[g])for(f=15;0<=f;--f){if(0!==(h&1<<f))for(d=l;d<p;d+=4){var B=b[d];var q=a[d];var I=a[d+2];var k=G<<4;var u=q[k];var t=q[k+2];t>u&&(u=t);t=I[k];t>u&&(u=t);t=I[k+2];t>u&&(u=t);B[k]=u;k+=4;u=q[k];t=q[k+2];t>u&&(u=t);t=I[k];t>u&&(u=t);t=I[k+2];t>u&&(u=t);B[k]=u;k+=4;u=q[k];t=q[k+2];t>u&&(u=t);t=I[k];t>u&&(u=t);t=I[k+2];t>u&&(u=t);B[k]=u;k+=4;u=q[k];t=q[k+2];t>u&&(u=t);t=I[k];t>u&&(u=t);t=I[k+2];t>u&&(u=t);B[k]=u}G+=1}else G+=16;l+=16;p+=
16}};a.prototype.xi=function(a,b){var d,c=this.Ta,e,g,f,h,D=this.m,n=this.f>>4;var l=0;var p=l+16;for(e=0;e<D;e+=1){var G=0;var A=c[e];for(g=0;g<n;g+=1)if(h=A[g])for(f=15;0<=f;--f){if(0!==(h&1<<f))for(d=l;d<p;d+=8){var B=b[d];var q=a[d];var I=a[d+4];var k=G<<4;var u=q[k];var t=q[k+4];t>u&&(u=t);t=I[k];t>u&&(u=t);t=I[k+4];t>u&&(u=t);B[k]=u;k+=8;u=q[k];t=q[k+4];t>u&&(u=t);t=I[k];t>u&&(u=t);t=I[k+4];t>u&&(u=t);B[k]=u}G+=1}else G+=16;l+=16;p+=16}};a.prototype.ui=function(a,b){var d=this.Ta,c,e,g,f,h,
D=this.m,n=this.f>>4;for(c=f=0;c<D;c+=1){var l=0;var p=d[c];for(e=0;e<n;e+=1)if(h=p[e])for(g=15;0<=g;--g){if(0!==(h&1<<g)){var G=b[f];var A=a[f];var B=a[f+8];var q=l<<4;var I=A[q];A=A[q+8];A>I&&(I=A);A=B[q];A>I&&(I=A);A=B[q+8];A>I&&(I=A);G[q]=I}l+=1}else l+=16;f+=16}};a.prototype.vk=function(){1>this.ka&&(this.vi(this.lh,this.G),.5>this.ka&&(this.wi(this.G,this.ua),.25>this.ka&&(this.xi(this.ua,this.xa),.125>this.ka&&this.ui(this.xa,this.Ca))));this.Wg&&1>this.ka&&(this.vi(this.Sf,this.V),.5>this.ka&&
(this.wi(this.V,this.Te),.25>this.ka&&(this.xi(this.Te,this.Ue),.125>this.ka&&this.ui(this.Ue,this.Xf))))};a.prototype.Dk=function(){var a=this.oa,b=this.Ta,d=this.$a,c,f,C,r,h,D=0,n=0,l=0;var p=this.m;var G=this.f>>4;var A=0;var B=p,q=this.g+this.ea-1,I=this.ea,k=0<this.ea?1:0;this.Fa=0;if(0!==(this.s&1)){var u=this.da;var t=this.Sa}else u=this.Jb,t=this.sa;0>A&&(A=0);B>p&&(B=p);p=A<<4;var J=p+16;for(f=A;f<B;f+=1){var H=0;var F=t[f];var y=d[f];var z=b[f];for(C=0;C<G;C+=1){var v=F[C]|y[C];var w=0;
if(v)for(r=15;0<=r;--r){if(0!==(v&1<<r)){var L=0;for(A=p;A<J;A+=1){var M=u[A];var P=a[A];var ba=H<<4;var Y=M[H];for(h=32768;0<h;h>>=1){var T=c=P[ba];(c<=I||c===q)&&0!==(Y&h)?c=q:(Y&=~h,c>k&&--c);P[ba]=c;c>k&&(L=1,c===q&&(D+=1,T!==q&&(n+=1)));T===q&&c!==q&&(l+=1);ba+=1}M[H]=Y;this.Fa|=Y}L&&(w|=1<<r)}H+=1}else H+=16;y[C]=w;z[C]|=w}p+=16;J+=16}this.za=D;this.wb=n;this.kc=l};a.prototype.zk=function(){var a=this.oa,b=this.Ta,d,c,f,C,r;var h=this.m;var D=this.f>>4;var n=0;var l=h,p=0<this.ea?1:0;0>n&&(n=
0);l>h&&(l=h);h=n<<4;var G=h+16;for(d=n;d<l;d+=1){var A=0;var B=b[d];for(c=0;c<D;c+=1)if(r=B[c])for(f=15;0<=f;--f){if(0!==(r&1<<f))for(n=h;n<G;n+=1){var q=a[n];var I=A<<4;for(C=15;0<=C;--C){var k=q[I];k>p&&(--k,q[I]=k);I+=1}}A+=1}else A+=16;h+=16;G+=16}};a.prototype.Cj=function(){-1===this.g?this.tk():this.Fa||this.zk()};a.prototype.tk=function(){var a=this.oa,b=this.Ta,d=this.$a,c=this.Gm,f=this.jc+1,C,r,h;var D=this.m;var n=this.f>>4;var l=0;var p=D;this.Fa=0;if(0!==(this.s&1)){var G=this.da;var A=
this.Sa}else G=this.Jb,A=this.sa;0>l&&(l=0);p>D&&(p=D);D=l<<4;var B=D+16;for(C=l;C<p;C+=1){var q=0;var I=A[C];var k=d[C];var u=b[C];for(r=0;r<n;r+=1){var t=I[r]|k[r];var J=0;if(t)for(h=15;0<=h;--h){if(0!==(t&1<<h)){var H=0;for(l=D;l<B;){var F=G[l];var y=a[l];var z=q<<4;F=F[q];this.Fa|=F;H|=F;if(0!==(F&32768))var v=c[y[z]+f];else v=c[y[z]],H|=1<v;y[z]=v;z+=1;0!==(F&16384)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&8192)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&4096)?v=c[y[z]+f]:(v=
c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&2048)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&1024)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&512)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&256)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&128)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&64)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&32)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&16)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&8)?v=c[y[z]+f]:(v=c[y[z]],H|=
1<v);y[z]=v;z+=1;0!==(F&4)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&2)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&1)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;l+=1;F=G[l];y=a[l];z=q<<4;F=F[q];this.Fa|=F;H|=F;0!==(F&32768)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&16384)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&8192)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&4096)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&2048)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;
0!==(F&1024)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&512)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&256)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&128)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&64)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&32)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&16)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&8)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&4)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&2)?v=
c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&1)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;l+=1;F=G[l];y=a[l];z=q<<4;F=F[q];this.Fa|=F;H|=F;0!==(F&32768)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&16384)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&8192)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&4096)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&2048)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&1024)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&512)?v=c[y[z]+f]:(v=
c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&256)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&128)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&64)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&32)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&16)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&8)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&4)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&2)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&1)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=
v;l+=1;F=G[l];y=a[l];z=q<<4;F=F[q];this.Fa|=F;H|=F;0!==(F&32768)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&16384)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&8192)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&4096)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&2048)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&1024)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&512)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&256)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==
(F&128)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&64)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&32)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&16)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&8)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&4)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&2)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;z+=1;0!==(F&1)?v=c[y[z]+f]:(v=c[y[z]],H|=1<v);y[z]=v;l+=1}H&&(J|=1<<h)}q+=1}else q+=16;k[r]=J;u[r]|=J}D+=16;B+=16}};a.prototype.Zu=function(a,
b,c,d,f,C,r,h,D,n){var e=this.zd;d=d*a+e.L;c=c*a+e.O;b=b*a+e.K;f=f*a+e.N;e=c-f+1;a=d-b+1;this.Z&&(e=c-b/2-(f-d/2)+1);0===e&&(e=1);0===a&&(a=1);C/=e;r/=a;n=Math.round(1E3*(C>r?r:C)/n)/1E3;n<h?n=h:n>D&&(n=D);return n};a.prototype.Ck=function(a){var b=a;1>a&&(b=1/a);var c=Math.round(b);(c<b?c/b:b/c)>=ViewConstants.lx&&(a=1>a?1/c:c);return a};a.prototype.Hf=function(a,b,c,d,f,C,r,h,D,n,l,p,G,A,B,q,I){var e=this.A,g=this.zd,E=this.ae,m=this.yj;l?(m.L=A*a+g.L,m.O=G*a+g.O,m.K=p*a+g.K,m.N=B*a+g.N,n&&(E.N<
m.N&&(m.N=E.N),E.K<m.K&&(m.K=E.K),E.O>m.O&&(m.O=E.O),E.L>m.L&&(m.L=E.L)),e=m):n?e=E:this.pa&&(e=this.aa);a=e.N;n=e.O;l=e.L;e=e.K;this.mc&&!q&&(g.N<a&&(a=g.N),g.O>n&&(n=g.O),g.L>l&&(l=g.L),g.K<e&&(e=g.K));-1!==this.na&&(q=this.wa,g=this.ya,this.width/2-q/2<a&&(a=this.width/2-q/2),this.width/2+q/2>n&&(n=this.width/2+q/2),this.height/2-g/2<e&&(e=this.height/2-g/2),this.height/2+g/2>l&&(l=this.height/2+g/2));D?(q=r,g=h,a=this.width/2-q/2,n=this.width/2+q/2,l=this.height/2+g/2,e=this.height/2-g/2):(q=
n-a+1,g=l-e+1);this.Z&&(a-=l/2,q=n-e/2-a+1);0===q&&(q=1);0===g&&(g=1);b/=q;c/=g;C=Math.round(1E3*(b>c?c:b)/C)/1E3;C/=this.yc;C<d?C=d:C>f&&(C=f);d=e-this.Mb+g/2;f=a-this.Vb+q/2;I||(C=this.Ck(C));return[C,f,d]};a.prototype.xk=function(a,b,c,d){var e=this.ed,f=this.F,g=this.B;if(a>b){var h=b;b=a;a=h}0>a?a=0:a>=f&&(a=f-1);0>b?b=0:b>=f&&(b=f-1);a=c*f+a;b=c*f+b;f=b-15;if(0<=c&&c<g){for(;a<=f;)e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=
d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1,e[a]=d,a+=1;for(;a<=b;)e[a]=d,a+=1}};a.prototype.yk=function(a,b,c,d){var e=this.ed,f=this.F,g=this.B;if(b>c){var h=c;c=b;b=h}0>b?b=0:b>=g&&(b=g-1);0>c?c=0:c>=g&&(c=g-1);b=b*f+a;c=c*f+a;g=c-15*f;if(0<=a&&a<f){for(;b<=g;)e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f,e[b]=d,b+=f;for(;b<=c;)e[b]=d,b+=f}};
a.prototype.wk=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),h=a<c?1:-1,E=b<d?1:-1,n=e-g,l=this.F,p=this.B,m=this.ed;if(!(0>a&&0>c||a>=l&&c>=l||0>b&&0>d||b>=p&&d>=p))if(0<=a&&a<l&&0<=b&&b<p&&0<=c&&c<l&&0<=d&&d<p)for(m[b*l+a]=f;a!==c||b!==d;){var x=n+n;x>-g&&(n-=g,a+=h);x<e&&(n+=e,b+=E);m[b*l+a]=f}else for(0<=a&&a<l&&0<=b&&b<p&&(m[b*l+a]=f);a!==c||b!==d;)x=n+n,x>-g&&(n-=g,a+=h),x<e&&(n+=e,b+=E),0<=a&&a<l&&0<=b&&b<p&&(m[b*l+a]=f)};a.prototype.zg=function(a,b,c,d,f){var e=this.F/2,g=this.B/
2;if(0!==this.Ia){a-=e;b-=g;var h=Math.sqrt(a*a+b*b);var E=180/Math.PI*Math.atan2(b,a);E+=this.Ia;a=Math.round(h*Math.cos(Math.PI/180*E)+e);b=Math.round(h*Math.sin(Math.PI/180*E)+g);c-=e;d-=g;h=Math.sqrt(c*c+d*d);E=180/Math.PI*Math.atan2(d,c);E+=this.Ia;c=Math.round(h*Math.cos(Math.PI/180*E)+e);d=Math.round(h*Math.sin(Math.PI/180*E)+g)}a===c?this.yk(a,b,d,f):b===d?this.xk(a,c,b,f):this.wk(a,b,c,d,f)};a.prototype.td=function(){var a,b=this.F,c=this.B,d=this.Pf,f=this.If,C=this.ka,r=d,h,D,n=((this.height/
2-(this.$+this.Mb))*C+c/2)%C,l=((this.width/2-(this.ca+this.Vb))*C+b/2)%C;var p=0<this.Nd&&this.Of?2:1;for(h=d;p;){var G=-(b/2/C)-(this.width/2-this.ca-this.Vb)|0;var A=22*-C;var B=b+C+22*C;var q=n-22*C;var I=c+22*C;var k=-b/1.5;var u=b+b/1.5;var t=-c/1.5;for(D=c+c/1.5;A<=B;A+=C)if(0<this.Nd&&this.Of&&(r=0===G%this.Nd?f:d),G+=1,r===h)if(this.Z){var J=-(c/2/C)-(this.height/2-this.$-this.Mb)|0;for(a=q;a<I;a+=C)0===(J&1)?this.zg(Math.round(A+l),Math.round(a),Math.round(A+l),Math.round(a+C-1),r):this.zg(Math.round(A+
l+C/2),Math.round(a),Math.round(A+l+C/2),Math.round(a+C-1),r),J+=1}else this.zg(Math.round(A+l),t,Math.round(A+l),D-1,r);G=-(c/2/C)-(this.height/2-this.$-this.Mb)|0;for(a=q;a<I;a+=C)0<this.Nd&&this.Of&&(r=0===G%this.Nd?f:d),G+=1,r===h&&this.zg(k,Math.round(a),u-1,Math.round(a),r);--p;h=f}};a.prototype.Tg=function(){return 4<=this.ka};a.prototype.Hs=function(a){var b=this.wa,c=this.ya,d=this.oa,e=Math.round((this.width-b)/2-1),f=e+b+1,r=Math.round((this.height-c)/2-1),h=r+c+1,D=d[r],n=d[h];if(0===
b)for(b=0;b<this.width;b+=1)D[b]=a,n[b]=a;else if(0===c)for(b=0;b<this.height;b+=1)d[b][e]=a,d[b][f]=a;else{for(b=e;b<=f;b+=1)D[b]=a,n[b]=a;for(b=r+1;b<=h-1;b+=1)d[b][e]=a,d[b][f]=a}};a.prototype.ly=function(){this.Gi&&(this.ws(),--this.Gi,this.Gi||(this.Tc.set(this.bc),this.sb.set(this.Na),this.$c.set(this.Ec),this.ue.set(this.Ed),this.Yc.set(this.Cc),this.Xe.set(this.Fd)));this.ka=this.zoom*this.yc;this.ka<ViewConstants.Ra?this.ka=ViewConstants.Ra:this.ka>ViewConstants.yb&&(this.ka=ViewConstants.yb);
this.uc=this.ca+this.Vb;this.vc=this.$+this.Mb;this.i=this.nc/2+1;this.Ia=this.Z?0:this.angle;-1!==this.na&&this.Hs(this.sc);this.vk();.125>this.ka?this.Wg?this.Tf(this.Xf,this.Ca,15):this.Wf(this.Ca,this.Ca,15):.25>this.ka?this.Wg?this.Tf(this.Ue,this.xa,7):this.Wf(this.xa,this.xa,7):.5>this.ka?this.Wg?this.Tf(this.Te,this.ua,3):this.Wf(this.ua,this.ua,3):1>this.ka?this.Wg?this.Tf(this.V,this.G,1):this.Wf(this.G,this.G,1):this.Wg?this.Tf(this.ec,this.oa,0):this.Wf(this.oa,this.oa,0)};a.prototype.En=
function(a,b){var c=this.F>>3,d=this.vg,e=this.ed,f,g,h=1,D=1,n=0,l=this.cb&~b,p=this.gb&~b,G=~b;b=~b;var A=a,B=this.ka;1<this.i&&(h=this.J);a=Math.sin(this.Ia/180*Math.PI)/this.ka;var q=Math.cos(this.Ia/180*Math.PI)/this.ka;var I=-(this.F/2*-a+this.B/2*q)+this.vc;var k=-(this.F/2*q+this.B/2*a)+this.uc;1<this.J&&1<this.i&&(n=.4/(this.J-1),D=.6);this.dd(D);var u=this.width<this.T?d[0]|0:this.Bj|0;var t=0;var J=I;for(f=0;f<this.B;f+=1){var H=k;for(g=0;g<c;g+=1){if((H&G)===(H&l)&&(J&b)===(J&p)){var F=
A[J&p][H&l]|0;e[t]=d[F]}else e[t]=u;t+=1;H+=q;J-=a;(H&G)===(H&l)&&(J&b)===(J&p)?(F=A[J&p][H&l]|0,e[t]=d[F]):e[t]=u;t+=1;H+=q;J-=a;(H&G)===(H&l)&&(J&b)===(J&p)?(F=A[J&p][H&l]|0,e[t]=d[F]):e[t]=u;t+=1;H+=q;J-=a;(H&G)===(H&l)&&(J&b)===(J&p)?(F=A[J&p][H&l]|0,e[t]=d[F]):e[t]=u;t+=1;H+=q;J-=a;(H&G)===(H&l)&&(J&b)===(J&p)?(F=A[J&p][H&l]|0,e[t]=d[F]):e[t]=u;t+=1;H+=q;J-=a;(H&G)===(H&l)&&(J&b)===(J&p)?(F=A[J&p][H&l]|0,e[t]=d[F]):e[t]=u;t+=1;H+=q;J-=a;(H&G)===(H&l)&&(J&b)===(J&p)?(F=A[J&p][H&l]|0,e[t]=d[F]):
e[t]=u;t+=1;H+=q;J-=a;(H&G)===(H&l)&&(J&b)===(J&p)?(F=A[J&p][H&l]|0,e[t]=d[F]):e[t]=u;t+=1;H+=q;J-=a}k+=a;J=I+=q}this.wc&&this.Tg()&&this.td();for(u=1;u<h;u+=1){var y=2<this.g?this.g/this.J*u|0:(this.jc+1)/this.J*u|0;D+=n;this.dd(D);a/=this.i;q/=this.i;B*=this.i;.125>B?(A=this.Ca,b=15):.25>B?(A=this.xa,b=7):.5>B?(A=this.ua,b=3):1>B?(A=this.G,b=1):(A=this.oa,b=0);l=this.cb&~b;p=this.gb&~b;G=~b;b=~b;I=-(this.F/2*-a+this.B/2*q)+this.vc;k=-(this.F/2*q+this.B/2*a)+this.uc;t=0;J=I;for(f=0;f<this.B;f+=1){H=
k;for(g=0;g<c;g+=1)(H&G)===(H&l)&&(J&b)===(J&p)&&(F=A[J&p][H&l]|0,F>=y&&(e[t]=d[F])),t+=1,H+=q,J-=a,(H&G)===(H&l)&&(J&b)===(J&p)&&(F=A[J&p][H&l]|0,F>=y&&(e[t]=d[F])),t+=1,H+=q,J-=a,(H&G)===(H&l)&&(J&b)===(J&p)&&(F=A[J&p][H&l]|0,F>=y&&(e[t]=d[F])),t+=1,H+=q,J-=a,(H&G)===(H&l)&&(J&b)===(J&p)&&(F=A[J&p][H&l]|0,F>=y&&(e[t]=d[F])),t+=1,H+=q,J-=a,(H&G)===(H&l)&&(J&b)===(J&p)&&(F=A[J&p][H&l]|0,F>=y&&(e[t]=d[F])),t+=1,H+=q,J-=a,(H&G)===(H&l)&&(J&b)===(J&p)&&(F=A[J&p][H&l]|0,F>=y&&(e[t]=d[F])),t+=1,H+=q,J-=
a,(H&G)===(H&l)&&(J&b)===(J&p)&&(F=A[J&p][H&l]|0,F>=y&&(e[t]=d[F])),t+=1,H+=q,J-=a,(H&G)===(H&l)&&(J&b)===(J&p)&&(F=A[J&p][H&l]|0,F>=y&&(e[t]=d[F])),t+=1,H+=q,J-=a;k+=a;J=I+=q}}};a.prototype.On=function(a,b){var c=this.F>>3,d=this.vg,e=this.ed,f,g,h=1,D=1,n=0,l=this.cb&~b,p=this.gb&~b,G=~b;b=~b;var A=a,B=this.ka;1<this.i&&(h=this.J);a=1/this.ka;var q=-(this.B/2*a)+this.vc;var I=-(this.F/2*a)+this.uc;1<this.J&&1<this.i&&(n=.4/(this.J-1),D=.6);this.dd(D);var k=this.width<this.T?d[0]|0:this.Bj|0;var u=
0;var t=q;for(f=0;f<this.B;f+=1){if((t&b)===(t&p)){var J=A[t&p];var H=I;this.Z&&(H+=.5*(t|0));for(g=0;g<c;g+=1){if((H&G)===(H&l)){var F=J[H&l]|0;e[u]=d[F]}else e[u]=k;u+=1;H+=a;(H&G)===(H&l)?(F=J[H&l]|0,e[u]=d[F]):e[u]=k;u+=1;H+=a;(H&G)===(H&l)?(F=J[H&l]|0,e[u]=d[F]):e[u]=k;u+=1;H+=a;(H&G)===(H&l)?(F=J[H&l]|0,e[u]=d[F]):e[u]=k;u+=1;H+=a;(H&G)===(H&l)?(F=J[H&l]|0,e[u]=d[F]):e[u]=k;u+=1;H+=a;(H&G)===(H&l)?(F=J[H&l]|0,e[u]=d[F]):e[u]=k;u+=1;H+=a;(H&G)===(H&l)?(F=J[H&l]|0,e[u]=d[F]):e[u]=k;u+=1;H+=a;
(H&G)===(H&l)?(F=J[H&l]|0,e[u]=d[F]):e[u]=k;u+=1;H+=a}}else for(g=0;g<c;g+=1)e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1,e[u]=k,u+=1;t=q+=a}this.wc&&this.Tg()&&this.td();for(k=1;k<h;k+=1){var y=2<this.g?this.g/this.J*k|0:(this.jc+1)/this.J*k|0;D+=n;this.dd(D);a/=this.i;B*=this.i;.125>B?(A=this.Ca,b=15):.25>B?(A=this.xa,b=7):.5>B?(A=this.ua,b=3):1>B?(A=this.G,b=1):(A=this.oa,b=0);l=this.cb&~b;p=this.gb&~b;G=~b;b=~b;q=-(this.B/2*a)+this.vc;I=-(this.F/2*a)+this.uc;
u=0;t=q;for(f=0;f<this.B;f+=1){if((t&b)===(t&p))for(J=A[t&p],H=I,this.Z&&(H+=.5*(t|0)),g=0;g<c;g+=1)(H&G)===(H&l)&&(F=J[H&l]|0,F>=y&&(e[u]=d[F])),u+=1,H+=a,(H&G)===(H&l)&&(F=A[t&p][H&l]|0,F>=y&&(e[u]=d[F])),u+=1,H+=a,(H&G)===(H&l)&&(F=A[t&p][H&l]|0,F>=y&&(e[u]=d[F])),u+=1,H+=a,(H&G)===(H&l)&&(F=A[t&p][H&l]|0,F>=y&&(e[u]=d[F])),u+=1,H+=a,(H&G)===(H&l)&&(F=A[t&p][H&l]|0,F>=y&&(e[u]=d[F])),u+=1,H+=a,(H&G)===(H&l)&&(F=A[t&p][H&l]|0,F>=y&&(e[u]=d[F])),u+=1,H+=a,(H&G)===(H&l)&&(F=A[t&p][H&l]|0,F>=y&&(e[u]=
d[F])),u+=1,H+=a,(H&G)===(H&l)&&(F=A[t&p][H&l]|0,F>=y&&(e[u]=d[F])),u+=1,H+=a;else u+=c<<3;t=q+=a}}};a.prototype.Tn=function(a,b){var d=this.F>>3,c=this.vg,e=this.ed,f,g,h=1,D=1,n=0,l=this.cb&~b;b=this.gb&~b;var p=a,G=this.ka;1<this.i&&(h=this.J);var A=Math.sin(this.Ia/180*Math.PI)/this.ka;var B=Math.cos(this.Ia/180*Math.PI)/this.ka;var q=-(this.F/2*-A+this.B/2*B)+this.vc;var I=-(this.F/2*B+this.B/2*A)+this.uc;1<this.J&&1<this.i&&(n=.4/(this.J-1),D=.6);this.dd(D);var k=0;var u=q;for(f=0;f<this.B;f+=
1){var t=I;for(g=0;g<d;g+=1){var J=p[u&b][t&l]|0;e[k]=c[J];k+=1;t+=B;u-=A;J=p[u&b][t&l]|0;e[k]=c[J];k+=1;t+=B;u-=A;J=p[u&b][t&l]|0;e[k]=c[J];k+=1;t+=B;u-=A;J=p[u&b][t&l]|0;e[k]=c[J];k+=1;t+=B;u-=A;J=p[u&b][t&l]|0;e[k]=c[J];k+=1;t+=B;u-=A;J=p[u&b][t&l]|0;e[k]=c[J];k+=1;t+=B;u-=A;J=p[u&b][t&l]|0;e[k]=c[J];k+=1;t+=B;u-=A;J=p[u&b][t&l]|0;e[k]=c[J];k+=1;t+=B;u-=A}I+=A;u=q+=B}this.wc&&this.Tg()&&this.td();for(a=1;a<h;a+=1){var H=2<this.g?this.g/this.J*a|0:(this.jc+1)/this.J*a|0;D+=n;this.dd(D);A/=this.i;
B/=this.i;G*=this.i;.125>G?(p=this.Ca,b=15):.25>G?(p=this.xa,b=7):.5>G?(p=this.ua,b=3):1>G?(p=this.G,b=1):(p=this.oa,b=0);l=this.cb&~b;b=this.gb&~b;q=-(this.F/2*-A+this.B/2*B)+this.vc;I=-(this.F/2*B+this.B/2*A)+this.uc;k=0;u=q;for(f=0;f<this.B;f+=1){t=I;for(g=0;g<d;g+=1)J=p[u&b][t&l]|0,J>=H&&(e[k]=c[J]),k+=1,t+=B,u-=A,J=p[u&b][t&l]|0,J>=H&&(e[k]=c[J]),k+=1,t+=B,u-=A,J=p[u&b][t&l]|0,J>=H&&(e[k]=c[J]),k+=1,t+=B,u-=A,J=p[u&b][t&l]|0,J>=H&&(e[k]=c[J]),k+=1,t+=B,u-=A,J=p[u&b][t&l]|0,J>=H&&(e[k]=c[J]),
k+=1,t+=B,u-=A,J=p[u&b][t&l]|0,J>=H&&(e[k]=c[J]),k+=1,t+=B,u-=A,J=p[u&b][t&l]|0,J>=H&&(e[k]=c[J]),k+=1,t+=B,u-=A,J=p[u&b][t&l]|0,J>=H&&(e[k]=c[J]),k+=1,t+=B,u-=A;I+=A;u=q+=B}}};a.prototype.$n=function(a,b){var c=this.F>>3,d=this.vg,e=this.ed,f,g=1,h=1,D=0,n=this.cb&~b;b=this.gb&~b;var l=a,p=this.ka;1<this.i&&(g=this.J);var G=1/this.ka;var A=-(this.B/2*G)+this.vc;var B=-(this.F/2*G)+this.uc;1<this.J&&1<this.i&&(D=.4/(this.J-1),h=.6);this.dd(h);var q=0;var I=A;for(f=0;f<this.B;f+=1){var k=l[I&b];var u=
B;this.Z&&(u+=.5*(I|0));for(I=0;I<c;I+=1){var t=k[u&n]|0;e[q]=d[t];q+=1;u+=G;t=k[u&n]|0;e[q]=d[t];q+=1;u+=G;t=k[u&n]|0;e[q]=d[t];q+=1;u+=G;t=k[u&n]|0;e[q]=d[t];q+=1;u+=G;t=k[u&n]|0;e[q]=d[t];q+=1;u+=G;t=k[u&n]|0;e[q]=d[t];q+=1;u+=G;t=k[u&n]|0;e[q]=d[t];q+=1;u+=G;t=k[u&n]|0;e[q]=d[t];q+=1;u+=G}I=A+=G}this.wc&&this.Tg()&&this.td();for(a=1;a<g;a+=1){var J=2<this.g?this.g/this.J*a|0:(this.jc+1)/this.J*a|0;h+=D;this.dd(h);G/=this.i;p*=this.i;.125>p?(l=this.Ca,b=15):.25>p?(l=this.xa,b=7):.5>p?(l=this.ua,
b=3):1>p?(l=this.G,b=1):(l=this.oa,b=0);n=this.cb&~b;b=this.gb&~b;A=-(this.B/2*G)+this.vc;B=-(this.F/2*G)+this.uc;q=0;I=A;for(f=0;f<this.B;f+=1){k=l[I&b];u=B;this.Z&&(u+=.5*(I|0));for(I=0;I<c;I+=1)t=k[u&n]|0,t>=J&&(e[q]=d[t]),q+=1,u+=G,t=k[u&n]|0,t>=J&&(e[q]=d[t]),q+=1,u+=G,t=k[u&n]|0,t>=J&&(e[q]=d[t]),q+=1,u+=G,t=k[u&n]|0,t>=J&&(e[q]=d[t]),q+=1,u+=G,t=k[u&n]|0,t>=J&&(e[q]=d[t]),q+=1,u+=G,t=k[u&n]|0,t>=J&&(e[q]=d[t]),q+=1,u+=G,t=k[u&n]|0,t>=J&&(e[q]=d[t]),q+=1,u+=G,t=k[u&n]|0,t>=J&&(e[q]=d[t]),q+=
1,u+=G;I=A+=G}}};a.prototype.Wf=function(a,b,d){var c=Math.sin(this.Ia/180*Math.PI)/this.ka,e=Math.cos(this.Ia/180*Math.PI)/this.ka,f=this.F,g=this.B,h=-(this.F/2*-c+this.B/2*e)+this.vc,x=-(this.F/2*e+this.B/2*c)+this.uc;b=h+f*-c;var n=x+f*e,l=h+g*e;g=x+g*c;c=l+f*-c;e=g+f*e;f=h;var p=x;n<p&&(p=n);g<p&&(p=g);e<p&&(p=g);n>x&&(x=n);g>x&&(x=g);e>x&&(x=e);b<f&&(f=b);l<f&&(f=l);c<f&&(f=c);b>h&&(h=b);l>h&&(h=l);c>h&&(h=c);0>(p|0)||(x|0)>=this.width||0>(f|0)||(h|0)>=this.height?0===this.Ia?this.On(a,d):this.En(a,
d):0===this.Ia?this.$n(a,d):this.Tn(a,d)};a.prototype.vn=function(a,b,c){var d=this.F>>3,e=this.vg,f=this.ed,g,h;var x=ViewConstants.bb[3]+128;var n=ViewConstants.bb[4]+128,l=ViewConstants.bb[5]+128,p=ViewConstants.bb[6]+128,G=1,A=1,B=0,q=this.Za,I=this.cb&~c,k=this.gb&~c,u=~c;c=~c;var t=b,J=this.ka;1<this.i&&(G=this.J);b=Math.sin(this.Ia/180*Math.PI)/this.ka;var H=Math.cos(this.Ia/180*Math.PI)/this.ka;var F=-(this.F/2*-b+this.B/2*H)+this.vc;var y=-(this.F/2*H+this.B/2*b)+this.uc;1<this.J&&1<this.i&&
(B=.4/(this.J-1),A=.6);this.dd(A);var z=this.width<this.T?e[0]|0:this.Bj|0;var v=0;var w=F;for(g=0;g<this.B;g+=1){var L=y;for(h=0;h<d;h+=1){if((L&u)===(L&I)&&(w&c)===(w&k)){var M=t[w&k][L&I];var P=a[w&k][L&I];P===n||P===p?(M>=q&&(P=x),M=e[P]|0):P===x||P===l?(M<q&&(P=n),M=e[P]|0):M=e[M]|0;f[v]=M}else f[v]=z;v+=1;L+=H;w-=b;(L&u)===(L&I)&&(w&c)===(w&k)?(M=t[w&k][L&I],P=a[w&k][L&I],P===n||P===p?(M>=q&&(P=x),M=e[P]|0):P===x||P===l?(M<q&&(P=n),M=e[P]|0):M=e[M]|0,f[v]=M):f[v]=z;v+=1;L+=H;w-=b;(L&u)===(L&
I)&&(w&c)===(w&k)?(M=t[w&k][L&I],P=a[w&k][L&I],P===n||P===p?(M>=q&&(P=x),M=e[P]|0):P===x||P===l?(M<q&&(P=n),M=e[P]|0):M=e[M]|0,f[v]=M):f[v]=z;v+=1;L+=H;w-=b;(L&u)===(L&I)&&(w&c)===(w&k)?(M=t[w&k][L&I],P=a[w&k][L&I],P===n||P===p?(M>=q&&(P=x),M=e[P]|0):P===x||P===l?(M<q&&(P=n),M=e[P]|0):M=e[M]|0,f[v]=M):f[v]=z;v+=1;L+=H;w-=b;(L&u)===(L&I)&&(w&c)===(w&k)?(M=t[w&k][L&I],P=a[w&k][L&I],P===n||P===p?(M>=q&&(P=x),M=e[P]|0):P===x||P===l?(M<q&&(P=n),M=e[P]|0):M=e[M]|0,f[v]=M):f[v]=z;v+=1;L+=H;w-=b;(L&u)===
(L&I)&&(w&c)===(w&k)?(M=t[w&k][L&I],P=a[w&k][L&I],P===n||P===p?(M>=q&&(P=x),M=e[P]|0):P===x||P===l?(M<q&&(P=n),M=e[P]|0):M=e[M]|0,f[v]=M):f[v]=z;v+=1;L+=H;w-=b;(L&u)===(L&I)&&(w&c)===(w&k)?(M=t[w&k][L&I],P=a[w&k][L&I],P===n||P===p?(M>=q&&(P=x),M=e[P]|0):P===x||P===l?(M<q&&(P=n),M=e[P]|0):M=e[M]|0,f[v]=M):f[v]=z;v+=1;L+=H;w-=b;(L&u)===(L&I)&&(w&c)===(w&k)?(M=t[w&k][L&I],P=a[w&k][L&I],P===n||P===p?(M>=q&&(P=x),M=e[P]|0):P===x||P===l?(M<q&&(P=n),M=e[P]|0):M=e[M]|0,f[v]=M):f[v]=z;v+=1;L+=H;w-=b}y+=b;
w=F+=H}this.wc&&this.Tg()&&this.td();for(a=1;a<G;a+=1)for(x=2<this.g?this.g/this.J*a|0:(this.jc+1)/this.J*a|0,A+=B,this.dd(A),b/=this.i,H/=this.i,J*=this.i,.125>J?(t=this.Ca,c=15):.25>J?(t=this.xa,c=7):.5>J?(t=this.ua,c=3):1>J?(t=this.G,c=1):(t=this.oa,c=0),I=this.cb&~c,k=this.gb&~c,u=~c,c=~c,F=-(this.F/2*-b+this.B/2*H)+this.vc,y=-(this.F/2*H+this.B/2*b)+this.uc,v=0,w=F,g=0;g<this.B;g+=1){L=y;for(h=0;h<d;h+=1)(L&u)===(L&I)&&(w&c)===(w&k)&&(M=t[w&k][L&I]|0,M>=x&&(f[v]=e[M])),v+=1,L+=H,w-=b,(L&u)===
(L&I)&&(w&c)===(w&k)&&(M=t[w&k][L&I]|0,M>=x&&(f[v]=e[M])),v+=1,L+=H,w-=b,(L&u)===(L&I)&&(w&c)===(w&k)&&(M=t[w&k][L&I]|0,M>=x&&(f[v]=e[M])),v+=1,L+=H,w-=b,(L&u)===(L&I)&&(w&c)===(w&k)&&(M=t[w&k][L&I]|0,M>=x&&(f[v]=e[M])),v+=1,L+=H,w-=b,(L&u)===(L&I)&&(w&c)===(w&k)&&(M=t[w&k][L&I]|0,M>=x&&(f[v]=e[M])),v+=1,L+=H,w-=b,(L&u)===(L&I)&&(w&c)===(w&k)&&(M=t[w&k][L&I]|0,M>=x&&(f[v]=e[M])),v+=1,L+=H,w-=b,(L&u)===(L&I)&&(w&c)===(w&k)&&(M=t[w&k][L&I]|0,M>=x&&(f[v]=e[M])),v+=1,L+=H,w-=b,(L&u)===(L&I)&&(w&c)===
(w&k)&&(M=t[w&k][L&I]|0,M>=x&&(f[v]=e[M])),v+=1,L+=H,w-=b;y+=b;w=F+=H}};a.prototype.yn=function(a,b,c){var d=this.F>>3,e=this.vg,f=this.ed,g,h;var x=ViewConstants.bb[3]+128;var n=ViewConstants.bb[4]+128,l=ViewConstants.bb[5]+128,p=ViewConstants.bb[6]+128,G=1,A=1,B=0,q=this.Za,I=this.cb&~c;c=this.gb&~c;var k=b,u=this.ka;1<this.i&&(G=this.J);b=Math.sin(this.Ia/180*Math.PI)/this.ka;var t=Math.cos(this.Ia/180*Math.PI)/this.ka;var J=-(this.F/2*-b+this.B/2*t)+this.vc;var H=-(this.F/2*t+this.B/2*b)+this.uc;
1<this.J&&1<this.i&&(B=.4/(this.J-1),A=.6);this.dd(A);var F=0;var y=J;for(g=0;g<this.B;g+=1){var z=H;for(h=0;h<d;h+=1){var v=k[y&c][z&I];var w=a[y&c][z&I];w===n||w===p?(v>=q&&(w=x),v=e[w]|0):w===x||w===l?(v<q&&(w=n),v=e[w]|0):v=e[v]|0;f[F]=v;F+=1;z+=t;y-=b;v=k[y&c][z&I];w=a[y&c][z&I];w===n||w===p?(v>=q&&(w=x),v=e[w]|0):w===x||w===l?(v<q&&(w=n),v=e[w]|0):v=e[v]|0;f[F]=v;F+=1;z+=t;y-=b;v=k[y&c][z&I];w=a[y&c][z&I];w===n||w===p?(v>=q&&(w=x),v=e[w]|0):w===x||w===l?(v<q&&(w=n),v=e[w]|0):v=e[v]|0;f[F]=v;
F+=1;z+=t;y-=b;v=k[y&c][z&I];w=a[y&c][z&I];w===n||w===p?(v>=q&&(w=x),v=e[w]|0):w===x||w===l?(v<q&&(w=n),v=e[w]|0):v=e[v]|0;f[F]=v;F+=1;z+=t;y-=b;v=k[y&c][z&I];w=a[y&c][z&I];w===n||w===p?(v>=q&&(w=x),v=e[w]|0):w===x||w===l?(v<q&&(w=n),v=e[w]|0):v=e[v]|0;f[F]=v;F+=1;z+=t;y-=b;v=k[y&c][z&I];w=a[y&c][z&I];w===n||w===p?(v>=q&&(w=x),v=e[w]|0):w===x||w===l?(v<q&&(w=n),v=e[w]|0):v=e[v]|0;f[F]=v;F+=1;z+=t;y-=b;v=k[y&c][z&I];w=a[y&c][z&I];w===n||w===p?(v>=q&&(w=x),v=e[w]|0):w===x||w===l?(v<q&&(w=n),v=e[w]|
0):v=e[v]|0;f[F]=v;F+=1;z+=t;y-=b;v=k[y&c][z&I];w=a[y&c][z&I];w===n||w===p?(v>=q&&(w=x),v=e[w]|0):w===x||w===l?(v<q&&(w=n),v=e[w]|0):v=e[v]|0;f[F]=v;F+=1;z+=t;y-=b}H+=b;y=J+=t}this.wc&&this.Tg()&&this.td();for(a=1;a<G;a+=1)for(x=2<this.g?this.g/this.J*a|0:(this.jc+1)/this.J*a|0,A+=B,this.dd(A),b/=this.i,t/=this.i,u*=this.i,.125>u?(k=this.Ca,c=15):.25>u?(k=this.xa,c=7):.5>u?(k=this.ua,c=3):1>u?(k=this.G,c=1):(k=this.oa,c=0),I=this.cb&~c,c=this.gb&~c,J=-(this.F/2*-b+this.B/2*t)+this.vc,H=-(this.F/2*
t+this.B/2*b)+this.uc,F=0,y=J,g=0;g<this.B;g+=1){z=H;for(h=0;h<d;h+=1)v=k[y&c][z&I]|0,v>=x&&(f[F]=e[v]),F+=1,z+=t,y-=b,v=k[y&c][z&I]|0,v>=x&&(f[F]=e[v]),F+=1,z+=t,y-=b,v=k[y&c][z&I]|0,v>=x&&(f[F]=e[v]),F+=1,z+=t,y-=b,v=k[y&c][z&I]|0,v>=x&&(f[F]=e[v]),F+=1,z+=t,y-=b,v=k[y&c][z&I]|0,v>=x&&(f[F]=e[v]),F+=1,z+=t,y-=b,v=k[y&c][z&I]|0,v>=x&&(f[F]=e[v]),F+=1,z+=t,y-=b,v=k[y&c][z&I]|0,v>=x&&(f[F]=e[v]),F+=1,z+=t,y-=b,v=k[y&c][z&I]|0,v>=x&&(f[F]=e[v]),F+=1,z+=t,y-=b;H+=b;y=J+=t}};a.prototype.zn=function(a,
b,c){var d=this.F>>3,e=this.vg,f=this.ed,g;var h=ViewConstants.bb[3]+128;var x=ViewConstants.bb[4]+128,n=ViewConstants.bb[5]+128,l=ViewConstants.bb[6]+128,p=1,G=1,A=0,B=this.Za,q=this.cb&~c;c=this.gb&~c;var I=b,k=this.ka;1<this.i&&(p=this.J);b=1/this.ka;var u=-(this.B/2*b)+this.vc;var t=-(this.F/2*b)+this.uc;1<this.J&&1<this.i&&(A=.4/(this.J-1),G=.6);this.dd(G);var J=0;var H=u;for(g=0;g<this.B;g+=1){var F=I[H&c];var y=a[H&c];var z=t;this.Z&&(z+=.5*(H|0));for(H=0;H<d;H+=1){var v=F[z&q];var w=y[z&q];
w===x||w===l?(v>=B&&(w=h),v=e[w]|0):w===h||w===n?(v<B&&(w=x),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;z+=b;v=F[z&q];w=y[z&q];w===x||w===l?(v>=B&&(w=h),v=e[w]|0):w===h||w===n?(v<B&&(w=x),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;z+=b;v=F[z&q];w=y[z&q];w===x||w===l?(v>=B&&(w=h),v=e[w]|0):w===h||w===n?(v<B&&(w=x),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;z+=b;v=F[z&q];w=y[z&q];w===x||w===l?(v>=B&&(w=h),v=e[w]|0):w===h||w===n?(v<B&&(w=x),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;z+=b;v=F[z&q];w=y[z&q];w===x||w===l?(v>=B&&(w=h),v=e[w]|0):w===h||
w===n?(v<B&&(w=x),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;z+=b;v=F[z&q];w=y[z&q];w===x||w===l?(v>=B&&(w=h),v=e[w]|0):w===h||w===n?(v<B&&(w=x),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;z+=b;v=F[z&q];w=y[z&q];w===x||w===l?(v>=B&&(w=h),v=e[w]|0):w===h||w===n?(v<B&&(w=x),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;z+=b;v=F[z&q];w=y[z&q];w===x||w===l?(v>=B&&(w=h),v=e[w]|0):w===h||w===n?(v<B&&(w=x),v=e[w]|0):v=e[v]|0;f[J]=v;J+=1;z+=b}H=u+=b}this.wc&&this.Tg()&&this.td();for(a=1;a<p;a+=1)for(h=2<this.g?this.g/this.J*a|0:(this.jc+1)/this.J*
a|0,G+=A,this.dd(G),b/=this.i,k*=this.i,.125>k?(I=this.Ca,c=15):.25>k?(I=this.xa,c=7):.5>k?(I=this.ua,c=3):1>k?(I=this.G,c=1):(I=this.oa,c=0),q=this.cb&~c,c=this.gb&~c,u=-(this.B/2*b)+this.vc,t=-(this.F/2*b)+this.uc,J=0,H=u,g=0;g<this.B;g+=1){F=I[H&c];z=t;this.Z&&(z+=.5*(H|0));for(H=0;H<d;H+=1)v=F[z&q]|0,v>=h&&(f[J]=e[v]),J+=1,z+=b,v=F[z&q]|0,v>=h&&(f[J]=e[v]),J+=1,z+=b,v=F[z&q]|0,v>=h&&(f[J]=e[v]),J+=1,z+=b,v=F[z&q]|0,v>=h&&(f[J]=e[v]),J+=1,z+=b,v=F[z&q]|0,v>=h&&(f[J]=e[v]),J+=1,z+=b,v=F[z&q]|0,
v>=h&&(f[J]=e[v]),J+=1,z+=b,v=F[z&q]|0,v>=h&&(f[J]=e[v]),J+=1,z+=b,v=F[z&q]|0,v>=h&&(f[J]=e[v]),J+=1,z+=b;H=u+=b}};a.prototype.xn=function(a,b,c){var d=this.F>>3,e=this.vg,f=this.ed,g;var h=ViewConstants.bb[3]+128;var x=ViewConstants.bb[4]+128,n=ViewConstants.bb[5]+128,l=ViewConstants.bb[6]+128,p=1,G=1,A=0,B=this.Za,q=this.cb&~c,I=this.gb&~c,k=~c;c=~c;var u=b,t=this.ka;1<this.i&&(p=this.J);b=1/this.ka;var J=-(this.B/2*b)+this.vc;var H=-(this.F/2*b)+this.uc;1<this.J&&1<this.i&&(A=.4/(this.J-1),G=.6);
this.dd(G);var F=this.width<this.T?e[0]|0:this.Bj|0;var y=0;var z=J;for(g=0;g<this.B;g+=1){if((z&c)===(z&I)){var v=u[z&I];var w=a[z&I];var L=H;this.Z&&(L+=.5*(z|0));for(z=0;z<d;z+=1){if((L&k)===(L&q)){var M=v[L&q];var P=w[L&q];P===x||P===l?(M>=B&&(P=h),M=e[P]|0):P===h||P===n?(M<B&&(P=x),M=e[P]|0):M=e[M]|0}else M=F;f[y]=M;y+=1;L+=b;(L&k)===(L&q)?(M=v[L&q],P=w[L&q],P===x||P===l?(M>=B&&(P=h),M=e[P]|0):P===h||P===n?(M<B&&(P=x),M=e[P]|0):M=e[M]|0):M=F;f[y]=M;y+=1;L+=b;(L&k)===(L&q)?(M=v[L&q],P=w[L&q],
P===x||P===l?(M>=B&&(P=h),M=e[P]|0):P===h||P===n?(M<B&&(P=x),M=e[P]|0):M=e[M]|0):M=F;f[y]=M;y+=1;L+=b;(L&k)===(L&q)?(M=v[L&q],P=w[L&q],P===x||P===l?(M>=B&&(P=h),M=e[P]|0):P===h||P===n?(M<B&&(P=x),M=e[P]|0):M=e[M]|0):M=F;f[y]=M;y+=1;L+=b;(L&k)===(L&q)?(M=v[L&q],P=w[L&q],P===x||P===l?(M>=B&&(P=h),M=e[P]|0):P===h||P===n?(M<B&&(P=x),M=e[P]|0):M=e[M]|0):M=F;f[y]=M;y+=1;L+=b;(L&k)===(L&q)?(M=v[L&q],P=w[L&q],P===x||P===l?(M>=B&&(P=h),M=e[P]|0):P===h||P===n?(M<B&&(P=x),M=e[P]|0):M=e[M]|0):M=F;f[y]=M;y+=1;
L+=b;(L&k)===(L&q)?(M=v[L&q],P=w[L&q],P===x||P===l?(M>=B&&(P=h),M=e[P]|0):P===h||P===n?(M<B&&(P=x),M=e[P]|0):M=e[M]|0):M=F;f[y]=M;y+=1;L+=b;(L&k)===(L&q)?(M=v[L&q],P=w[L&q],P===x||P===l?(M>=B&&(P=h),M=e[P]|0):P===h||P===n?(M<B&&(P=x),M=e[P]|0):M=e[M]|0):M=F;f[y]=M;y+=1;L+=b}}else for(z=0;z<d;z+=1)f[y]=F,y+=1,f[y]=F,y+=1,f[y]=F,y+=1,f[y]=F,y+=1,f[y]=F,y+=1,f[y]=F,y+=1,f[y]=F,y+=1,f[y]=F,y+=1;z=J+=b}this.wc&&this.Tg()&&this.td();for(a=1;a<p;a+=1)for(h=2<this.g?this.g/this.J*a|0:(this.jc+1)/this.J*a|
0,G+=A,this.dd(G),b/=this.i,t*=this.i,.125>t?(u=this.Ca,c=15):.25>t?(u=this.xa,c=7):.5>t?(u=this.ua,c=3):1>t?(u=this.G,c=1):(u=this.oa,c=0),q=this.cb&~c,I=this.gb&~c,k=~c,c=~c,J=-(this.B/2*b)+this.vc,H=-(this.F/2*b)+this.uc,y=0,z=J,g=0;g<this.B;g+=1){if((z&c)===(z&I))for(v=u[z&I],L=H,this.Z&&(L+=.5*(z|0)),z=0;z<d;z+=1)(L&k)===(L&q)&&(M=v[L&q]|0,M>=h&&(f[y]=e[M])),y+=1,L+=b,(L&k)===(L&q)&&(M=v[L&q]|0,M>=h&&(f[y]=e[M])),y+=1,L+=b,(L&k)===(L&q)&&(M=v[L&q]|0,M>=h&&(f[y]=e[M])),y+=1,L+=b,(L&k)===(L&q)&&
(M=v[L&q]|0,M>=h&&(f[y]=e[M])),y+=1,L+=b,(L&k)===(L&q)&&(M=v[L&q]|0,M>=h&&(f[y]=e[M])),y+=1,L+=b,(L&k)===(L&q)&&(M=v[L&q]|0,M>=h&&(f[y]=e[M])),y+=1,L+=b,(L&k)===(L&q)&&(M=v[L&q]|0,M>=h&&(f[y]=e[M])),y+=1,L+=b,(L&k)===(L&q)&&(M=v[L&q]|0,M>=h&&(f[y]=e[M])),y+=1,L+=b;else y+=d<<3;z=J+=b}};a.prototype.Tf=function(a,b,c){var d=Math.sin(this.Ia/180*Math.PI)/this.ka,e=Math.cos(this.Ia/180*Math.PI)/this.ka,f=this.F,g=this.B,h=-(this.F/2*-d+this.B/2*e)+this.vc,x=-(this.F/2*e+this.B/2*d)+this.uc,n=h+f*-d,l=
x+f*e,p=h+g*e;g=x+g*d;d=p+f*-d;e=g+f*e;f=h;var G=x;l<G&&(G=l);g<G&&(G=g);e<G&&(G=g);l>x&&(x=l);g>x&&(x=g);e>x&&(x=e);n<f&&(f=n);p<f&&(f=p);d<f&&(f=d);n>h&&(h=n);p>h&&(h=p);d>h&&(h=d);0>(G|0)||(x|0)>=this.width||0>(f|0)||(h|0)>=this.height?0===this.Ia?this.xn(a,b,c):this.vn(a,b,c):0===this.Ia?this.zn(a,b,c):this.yn(a,b,c)};a.prototype.gn=function(){var a;if(!this.ud.data.buffer){var b=this.ud.data;var c=this.sh;var d=c.length;for(a=0;a<d;)b[a]=c[a],a+=1,b[a]=c[a],a+=1,b[a]=c[a],a+=1,b[a]=c[a],a+=1}this.context.putImageData(this.ud,
0,0)};a.prototype.sk=function(){var a,b=0,c=this.B,d=this.F,f=this.ed,C=this.qg;for(a=0;a<c;a+=1)f.set(C,b),b+=d};window.LifeConstants=f;window.Life=a})();(function(){function d(c){this.source=c.replace(/&amp;/gi,"&");this.f=this.source.match(/\S+/g);this.current=0}d.prototype.W=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current],this.current+=1);return c};d.prototype.qa=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current]);return c};d.prototype.Ks=function(){var c=Keywords.jj,b=!1;if(this.f)for(;this.current<this.f.length&&!b;)this.f[this.current]===c&&(b=!0),this.current+=1;return b};d.prototype.i=
function(c){return!isNaN(parseFloat(c))&&isFinite(Number(c))};d.prototype.m=function(c){var b=!1,a=c.indexOf("/");-1!==a&&(b=c.substr(0,a),c=c.substr(a+1),b=this.i(b)&&this.i(c));return b};d.prototype.G=function(c){var b=0;if(this.m(c)){var a=c.indexOf("/");var d=c.substr(0,a);c=c.substr(a+1);0!==Number(c)&&(b=Number(d)/Number(c))}else this.i(c)&&(b=parseFloat(c));return b};d.prototype.H=function(){var c=this.W();return this.G(c)};d.prototype.I=function(){var c=!1;if(this.f&&this.current<this.f.length){var b=
this.f[this.current];this.m(b)?c=!0:c=this.i(b)}return c};window.Script=d})();(function(){function d(a){this.m=a;this.hj=this.cf=!1;this.ge=e.wq;this.wg=e.Yj;this.ia=this.ob=-1;this.angle=this.y=this.x=0;this.depth=this.J=this.zoom=1;this.rb=0;this.qb=60;this.step=1;this.Zb=this.Xa=0;this.od="";this.Rl=this.Vi=this.wo=this.um=this.xh=this.wh=this.rr=this.wu=this.em=this.Sh=this.ki=this.kh=this.Yg=this.Me=this.Vg=this.$g=this.rd=this.Sg=this.Pe=this.vf=this.lc=this.gi=this.Re=this.Qe=this.Oe=this.fd=!1}function c(a,b,c,d,e,f,h,D,n,l,p,G,A,B,q,I,k){this.coords=a;this.Yp=b;this.zoom=
c;this.zf=d;this.alpha=e;this.size=f;this.Wa=h;this.qe=D;this.Yb=n;this.angle=l;this.zh=p;this.ci=G;this.li=A;this.mi=B;this.nd=q;this.Gh=I;this.Hh=k}function b(a,b,c,d,e,f,h,D,n,l,p,G,A,B,q,I,k,u,t,J){this.Pr=a;this.Qr=b;this.Xu=c;this.Yu=d;this.zoom=e;this.zf=f;this.alpha=h;this.size=D;this.Xs=n;this.Wa=l;this.qe=p;this.Yb=G;this.angle=A;this.zh=B;this.ci=q;this.li=I;this.mi=k;this.nd=u;this.Gh=t;this.Hh=J}function a(a,b,c,d,e,f,h,D,n,l,p,G,A,B,q,I,k){this.message="";this.x=a;this.y=b;this.zoom=
c;this.zf=d;this.alpha=e;this.size=f;this.Wa=h;this.qe=D;this.Yb=n;this.angle=l;this.zh=p;this.ci=G;this.li=A;this.mi=B;this.nd=q;this.Gh=I;this.Hh=k}function f(){this.ha=[];this.mb=[];this.ce=[];this.Wd=[];this.ke=[];this.current=new d(this);this.ua=new d(this);this.i=new d(this);this.m=!1;this.mh=0;this.G=!1}var e={wq:0,play:1,stop:2,Yj:12,St:0,Rt:200};d.prototype.set=function(a){this.cf=a.cf;this.hj=a.hj;this.ge=a.ge;this.wg=a.wg;this.ob=a.ob;this.ia=a.ia;this.x=a.x;this.y=a.y;this.Oe=a.Oe;this.Qe=
a.Qe;this.Re=a.Re;this.fd=a.fd;this.angle=a.angle;this.zoom=a.zoom;this.J=a.J;this.depth=a.depth;this.rb=a.rb;this.qb=a.qb;this.Xa=a.Xa;this.Zb=a.Zb;this.od=a.od;this.gi=a.gi;this.lc=a.lc};d.prototype.f=function(){var a="";switch(this.ge){case e.play:a=Keywords.Zj;break;case e.stop:a=Keywords.$j}return a};d.prototype.Py=function(a){this.cf?(this.ge!==e.wq&&(a[a.length]=[Keywords.Zj,"overwrites "+this.f()]),this.ge=e.play):a[a.length]=[Keywords.Zj,"only valid at POI"]};d.prototype.Ry=function(a){this.cf?
(this.ge!==e.wq&&(a[a.length]=[Keywords.$j,"overwrites "+this.f()]),this.ge=e.stop):a[a.length]=[Keywords.$j,"only valid at POI"]};d.prototype.Qy=function(a){this.cf?(this.hj&&(a[a.length]=[Keywords.Nl,"already defined"]),this.hj=!0):a[a.length]=[Keywords.Nl,"only valid at POI"]};d.prototype.Uy=function(a,b){this.cf?(this.wg!==e.Yj&&(b[b.length]=[Keywords.Ol+" "+a,"overwrites "+this.wg]),this.wg=a):b[b.length]=[Keywords.Ol,"only valid at POI"]};d.prototype.i=function(a,b,c){var d=a.Zb+0,e=b.Zb+0,
f=a.angle+0,g=b.angle+0,x=1,n=1,l=1,p=1,G=1;c>e&&(c=e);e-d===ViewConstants.Yy&&(d=e);e!==d&&(x=Math.round((c-d)/(e-d)*1E6)/1E6,n=this.m.es(x)+0);b.Oe||b.fd?l=x:l=n;b.Qe||b.fd?p=x:p=n;b.Re||b.fd?G=x:G=n;this.x=a.x+l*(b.x-a.x);this.y=a.y+p*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,G);180<g-f?f+=360:-180>g-f&&(g+=360);this.angle=(f+n*(g-f))%360;this.J=a.J+x*(b.J-a.J)|0;this.depth=a.depth+x*(b.depth-a.depth);this.rb=b.rb;this.qb=b.qb;this.step=b.step;this.Xa=a.Xa+x*(b.Xa-a.Xa)|0;this.Zb=c;this.od=
b.od;this.fd=b.fd};f.prototype.uw=function(a,b,d,e,f,r,h,D,n,l,p,G,A,B,q,I,k){return new c(a,b,d,e,f,r,h,D,n,l,p,G,A,B,q,I,k)};f.prototype.Ea=function(){this.ke=[]};f.prototype.Gv=function(a){this.ke[this.ke.length]=a};f.prototype.mw=function(a,c,d,e,f,r,h,D,n,l,p,G,A,B,q,I,k,u,t,J){return new b(a,c,d,e,f,r,h,D,n,l,p,G,A,B,q,I,k,u,t,J)};f.prototype.xa=function(){this.Wd=[]};f.prototype.Dv=function(a){this.Wd[this.Wd.length]=a};f.prototype.qw=function(b,c,d,e,f,r,h,D,n,l,p,G,A,B,q,I,k){return new a(b,
c,d,e,f,r,h,D,n,l,p,G,A,B,q,I,k)};f.prototype.Ca=function(){this.ce=[]};f.prototype.Sr=function(a){this.ce[this.ce.length]=a};f.prototype.Xn=function(){return this.ce.length+this.Wd.length+this.ke.length};f.prototype.cw=function(){this.Ca();this.xa();this.Ea()};f.prototype.Wx=function(a){var b="",c="";0<=a&&a<this.ke.length&&(a=this.ke[a],a.ci&&(c="*"),b=a.Yp?"FILL\t":"LINE\t",b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+a.coords[1]);return b};f.prototype.Xx=function(a){var b="",c="";0<=a&&a<this.ke.length&&
(b=this.ke[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.zh&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};f.prototype.Yx=function(a){var b="";0<=a&&a<this.ke.length&&(a=this.ke[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.Wa&&(b+="\tT1 "+a.Wa+"\tT2 "+a.qe,0<a.Yb&&(b+="\tFade "+a.Yb)));return b};f.prototype.Mv=function(a){var b="",c="";0<=a&&a<this.Wd.length&&(a=this.Wd[a],a.ci&&(c="*"),b="X1"+c+" "+a.Pr+"\tY1"+c+" "+a.Qr,b+="\tX2"+c+" "+a.Xu+"\tY2"+c+" "+a.Yu);return b};f.prototype.Nv=function(a){var b=
"",c="";0<=a&&a<this.Wd.length&&(b=this.Wd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.zh&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};f.prototype.Ov=function(a){var b="";0<=a&&a<this.Wd.length&&(a=this.Wd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.Wa&&(b+="\tT1 "+a.Wa+"\tT2 "+a.qe,0<a.Yb&&(b+="\tFade "+a.Yb)));return b};f.prototype.ox=function(a){var b="",c="",d="";if(0<=a&&a<this.ce.length){var e=this.ce[a];a=e.zoom;0<=a&&1>a&&(a=-1/a);e.ci&&(c="*");e.zh&&(d="*");b="X"+c+" "+e.x+"\tY"+
c+" "+e.y;b+="\tZ "+a.toFixed(1)+"\tA"+d+" "+e.angle.toFixed(1)}return b};f.prototype.px=function(a){var b="";0<=a&&a<this.ce.length&&(a=this.ce[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.Wa&&(b+="\tT1 "+a.Wa+"\tT2 "+a.qe,0<a.Yb&&(b+="\tFade "+a.Yb)));return b};f.prototype.qx=function(a){var b="";0<=a&&a<this.ce.length&&(a=this.ce[a],b="Size "+a.size+'\t"'+a.message+'"');return b};f.prototype.Hb=function(){this.ce.sort(function(a,b){return a.zoom-b.zoom})};f.prototype.Fb=function(){this.Wd.sort(function(a,
b){return a.zoom-b.zoom})};f.prototype.bc=function(){this.ke.sort(function(a,b){return a.zoom-b.zoom})};f.prototype.$y=function(){this.Hb();this.Fb();this.bc()};f.prototype.V=function(a,b){var c,d=a.a,e=d.context,f=d.width/2-d.ca-d.Vb,g=d.height/2-d.$-d.Mb,x=d.zoom*d.yc,n=d.F/2,l=d.B/2,p=a.a.s,G=d.Z?-(d.height>>2):0,A=0,B=0,q=0,I=0,k=0;b&&(e.strokeStyle=ViewConstants.Qv);for(c=0;c<this.Wd.length;c+=1){var u=this.Wd[c];var t=!0;-1!==u.Wa&&(p<u.Wa||p>u.qe)&&(t=!1);if(t){var J=u.size*x/u.zoom;var H=
u.size/4;var F=4*u.size;b&&(A=1,24<=J&&(A=2,48<=J&&(A=3)));if(J>=H&&J<=F){H=Math.log(J/H)/Math.log(F/H);H=.25>=H?4*H:.75<=H?4*(1-H):1;F=1;-1!==u.Wa&&0<u.Yb&&(p-u.Wa<u.Yb?F=(p-u.Wa+1)/u.Yb:u.qe-p<u.Yb&&(F=(u.qe-p+1)/u.Yb));t=!0;var y=1;if(-1!==u.nd){var z=Math.sqrt((-(f+G)-u.li)*(-(f+G)-u.li)+(-g-u.mi)*(-g-u.mi));z>u.nd?t=!1:0<u.nd&&.75<z/u.nd&&(y=4*(1-z/u.nd))}t&&(e.globalAlpha=H*u.alpha*F*y,H=u.Pr+f+G-(a.$f>>1)+.5,y=u.Qr+g-(a.tg>>1)+.5,u.ci||(H+=d.Vb,y+=d.Mb),-1!==u.Wa?(H+=u.Gh*(a.Da-u.Wa),y+=u.Hh*
(a.Da-u.Wa)):(H+=u.Gh*a.Da,y+=u.Hh*a.Da),0!==d.Ia&&(F=Math.sqrt(H*H+y*y),t=180/Math.PI*Math.atan2(y,H),t+=d.Ia,H=F*Math.cos(Math.PI/180*t),y=F*Math.sin(Math.PI/180*t)),t=y*x+l,z=H*x+n,H=(u.Xu-u.Pr)*x,F=(u.Yu-u.Qr)*x,y=0===u.Xs?0:Math.sqrt(H*H+F*F)*u.Xs,e.save(),e.translate(z,t),t=u.angle,u.zh||(t+=d.Ia),e.rotate(t/180*Math.PI),e.lineWidth=J,b||(e.strokeStyle=u.zf),e.lineCap="round",e.lineJoin="round",0<y&&(u=Math.atan2(F,H),B=Math.cos(.85*Math.PI+u),q=Math.sin(.85*Math.PI+u),I=Math.cos(.85*-Math.PI+
u),k=Math.sin(.85*-Math.PI+u)),0<A&&e.translate(A,A),e.beginPath(),e.moveTo(0,0),e.lineTo(H,F),0<y&&(e.moveTo(H,F),e.lineTo(H+y*B,F+y*q),e.moveTo(H,F),e.lineTo(H+y*I,F+y*k)),e.stroke(),e.restore())}}}e.globalAlpha=1};f.prototype.Na=function(a){this.V(a,!0);this.V(a,!1)};f.prototype.da=function(a,b){var c,d=a.a,e=d.context,f=d.width/2-d.ca-d.Vb,g=d.height/2-d.$-d.Mb,x=d.zoom*d.yc,n=d.F/2,l=d.B/2,p=a.a.s,G=d.Z?-(d.height>>2):0,A=0;b&&(e.strokeStyle=ViewConstants.Ut,e.fillStyle=ViewConstants.Ut);for(c=
0;c<this.ke.length;c+=1){var B=this.ke[c];var q=B.coords;var I=q.length;var k=!0;-1!==B.Wa&&(p<B.Wa||p>B.qe)&&(k=!1);if(k){var u=B.size*x/B.zoom;var t=B.size/4;var J=4*B.size;b&&(A=1,24<=u&&(A=2,48<=u&&(A=3)));if(u>=t&&u<=J){t=Math.log(u/t)/Math.log(J/t);t=.25>=t?4*t:.75<=t?4*(1-t):1;J=1;-1!==B.Wa&&0<B.Yb&&(p-B.Wa<B.Yb?J=(p-B.Wa+1)/B.Yb:B.qe-p<B.Yb&&(J=(B.qe-p+1)/B.Yb));k=!0;var H=1;if(-1!==B.nd){var F=Math.sqrt((-(f+G)-B.li)*(-(f+G)-B.li)+(-g-B.mi)*(-g-B.mi));F>B.nd?k=!1:0<B.nd&&.75<F/B.nd&&(H=4*
(1-F/B.nd))}if(k){e.globalAlpha=t*B.alpha*J*H;t=0;H=q[t]+f+G-(a.$f>>1)+.5;J=q[t+1]+g-(a.tg>>1)+.5;t+=2;B.ci||(H+=d.Vb,J+=d.Mb);-1!==B.Wa?(H+=B.Gh*(a.Da-B.Wa),J+=B.Hh*(a.Da-B.Wa)):(H+=B.Gh*a.Da,J+=B.Hh*a.Da);0!==d.Ia&&(k=Math.sqrt(H*H+J*J),J=180/Math.PI*Math.atan2(J,H),J+=d.Ia,H=k*Math.cos(Math.PI/180*J),J=k*Math.sin(Math.PI/180*J));J=J*x+l;F=H*x+n;H=(q[t]-q[0])*x;k=(q[t+1]-q[1])*x;t+=2;e.save();e.translate(F,J);J=B.angle;B.zh||(J+=d.Ia);e.rotate(J/180*Math.PI);e.lineWidth=u;b||(B.Yp?e.fillStyle=B.zf:
e.strokeStyle=B.zf);e.lineCap="round";e.lineJoin="round";0<A&&e.translate(A,A);e.beginPath();e.moveTo(0,0);for(e.lineTo(H,k);t<I;)H=(q[t]-q[0])*x,k=(q[t+1]-q[1])*x,t+=2,e.lineTo(H,k);B.Yp?e.fill():e.stroke();e.restore()}}}}e.globalAlpha=1};f.prototype.sb=function(a){this.da(a,!0);this.da(a,!1)};f.prototype.Ya=function(a){var b,c=a.a,d=c.context,e=c.width/2-c.ca-c.Vb,f=c.height/2-c.$-c.Mb,g=c.zoom*c.yc,D=c.F/2,n=c.B/2,l=ViewConstants.tx,p="px "+ViewConstants.rx,G=a.a.s,A=c.Z?-(c.height>>2):0;for(b=
0;b<this.ce.length;b+=1){var B=this.ce[b];var q=!0;-1!==B.Wa&&(G<B.Wa||G>B.qe)&&(q=!1);if(q){var I=B.size*g/B.zoom;var k=B.size/4;var u=4*B.size;var t=1;24<=I&&(t=2,48<=I&&(t=3));if(I>=k&&I<=u){k=Math.log(I/k)/Math.log(u/k);d.font=I+p;k=.25>=k?4*k:.75<=k?4*(1-k):1;u=1;-1!==B.Wa&&0<B.Yb&&(G-B.Wa<B.Yb?u=(G-B.Wa+1)/B.Yb:B.qe-G<B.Yb&&(u=(B.qe-G+1)/B.Yb));q=!0;var J=1;if(-1!==B.nd){var H=Math.sqrt((-(e+A)-B.li)*(-(e+A)-B.li)+(-f-B.mi)*(-f-B.mi));H>B.nd?q=!1:0<B.nd&&.75<H/B.nd&&(J=4*(1-H/B.nd))}if(q){d.globalAlpha=
k*B.alpha*u*J;q=B.x+e+A-(a.$f>>1)+.5;J=B.y+f-(a.tg>>1)+.5;B.ci||(q+=c.Vb,J+=c.Mb);-1!==B.Wa?(q+=B.Gh*(a.Da-B.Wa),J+=B.Hh*(a.Da-B.Wa)):(q+=B.Gh*a.Da,J+=B.Hh*a.Da);0!==c.Ia&&(k=Math.sqrt(q*q+J*J),J=180/Math.PI*Math.atan2(J,q),J+=c.Ia,q=k*Math.cos(Math.PI/180*J),J=k*Math.sin(Math.PI/180*J));k=B.message;u=k.indexOf("\\n");J=J*g+n;q=q*g+D;d.save();d.translate(q,J);J=B.angle;B.zh||(J+=c.Ia);d.rotate(J/180*Math.PI);for(J=0;-1!==u;)q=k.substr(0,u),k=k.substr(u+2),u=d.measureText(q).width>>1,d.fillStyle=l,
d.fillText(q,-u+t,J+t),d.fillStyle=B.zf,d.fillText(q,-u,J),J+=I,u=k.indexOf("\\n");u=d.measureText(k).width>>1;d.fillStyle=l;d.fillText(k,-u+t,J+t);d.fillStyle=B.zf;d.fillText(k,-u,J);d.restore()}}}}d.globalAlpha=1};f.prototype.yp=function(a){this.sb(a);this.Na(a);this.Ya(a)};f.prototype.cz=function(a){var b;for(b=this.ha.length-1;0<=b;--b){var c=this.ha[b];c.Zb>a&&c.Rl&&(this.mh=b,c.Rl=!1)}};f.prototype.yy=function(){var a;for(a=0;a<this.ha.length;a+=1)this.ha[a].Rl=!1;this.mh=0;this.G=!1};f.prototype.Jm=
function(){return new d(this)};f.prototype.es=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};f.prototype.reset=function(){this.ha=[];this.mb=[];this.m=!1;this.mh=0};f.prototype.ux=function(){return this.ha[this.ha.length-1]};f.prototype.Js=function(a){var b=this.ga(a),c=this.ha[b];a>c.Xa?a=c.Zb+1E3*(a-c.Xa)/(c.qb*c.step):0<b?(b=this.ha[b-1],a=b.Zb+1E3*(a-b.Xa)/(c.qb*c.step)):a=1E3*a/(c.qb*c.step);return a};f.prototype.xs=function(a,b,c,d,e,f,h,D,n,l,p){var g=this.ua;g.x=a;g.y=b;g.zoom=c;
g.angle=d;g.qb=D;g.step=n;g.J=e;g.depth=f;g.rb=h;g.Xa=l;this.m&&(p=this.i.Zb);g.Zb=p-1E3;this.update(p,l);this.i.set(this.current);this.i.fd=!1;this.i.Zb=p;this.m=!0;return g.Zb};f.prototype.il=function(){return this.ha[0]};f.prototype.Mx=function(){return this.ha.length};f.prototype.add=function(a){a.cf?this.mb[this.mb.length]=a:this.ha[this.ha.length]=a};f.prototype.fp=function(a){var b=!1;this.mh>=this.ha.length-1&&a>=this.ha[this.mh].Zb&&(b=!0);return b};f.prototype.f=function(a){return a===(a|
0)?String(a|0):String(a.toFixed(1))};f.prototype.Rx=function(a){var b="";0<=a&&a<this.mb.length&&(a=this.mb[a],a.vf&&(b+=" X "+a.x),a.Pe&&(b+=" Y "+a.y),a.rd&&(b+=" ZOOM "+this.f(a.zoom)),a.Sg&&(b+=" ANGLE "+a.angle));return b.substr(1)};f.prototype.Qt=function(a){var b="";0<=a&&a<this.mb.length&&(a=this.mb[a],a.hj&&(b+=" POIRESET"),a.ge===e.play?b+=" POIPLAY":a.ge===e.stop&&(b+=" POISTOP"),a.wg!==e.Yj&&(b+=" POITRANS "+a.wg));return b.substr(1)};f.prototype.Sx=function(a){var b="";0<=a&&a<this.mb.length&&
(a=this.mb[a],a.Sh&&(b+=" LOOP "+(-1===a.ia?"OFF":a.ia)),a.ki&&(b+=" STOP "+(-1===a.ob?"OFF":a.ob)),a.Yg&&(b+=" GPS "+a.qb),a.kh&&(b+=" STEP "+a.step));return b.substr(1)};f.prototype.Qt=function(a){var b="";0<=a&&a<this.mb.length&&(a=this.mb[a],a.hj&&(b+=" POIRESET"),a.ge===e.play?b+=" POIPLAY":a.ge===e.stop&&(b+=" POISTOP"),a.wg!==e.Yj&&(b+=" POITRANS "+a.wg));return b.substr(1)};f.prototype.Vx=function(a){var b="";0<=a&&a<this.mb.length&&(a=this.mb[a],a.Me&&(b+=" THEME "+a.rb),a.Vg&&(b+=" DEPTH "+
this.f(a.depth)),a.$g&&(b+=" LAYERS "+a.J));return b.substr(1)};f.prototype.Ux=function(a){var b="";0<=a&&a<this.mb.length&&(a=this.mb[a],a.em&&(b+=" POIT "+a.Xa));return b.substr(1)};f.prototype.Tx=function(a){var b=Keywords.Ob,c="";0<=a&&a<this.mb.length&&(a=this.mb[a],""!==a.od&&(c+=" "+b+a.od+b));return c.substr(1)};f.prototype.Dz=function(a){var b=Keywords.Ob,c="";if(0<=a&&a<this.ha.length){var d=this.ha[a];0<a?(a=this.ha[a-1],c=d.Xa===a.Xa?"P "+this.f((d.Zb-a.Zb|0)/1E3):"T "+d.Xa,d.fd?c+=" F":
(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.f(d.zoom))),d.angle!==a.angle&&(c+=" A "+d.angle),d.J!==a.J&&(c+=" L "+d.J),d.depth!==a.depth&&(c+=" D "+this.f(d.depth)),d.rb!==a.rb&&(c+=" C "+d.rb),d.qb!==a.qb&&(c+=" G "+d.qb),d.step!==a.step&&(c+=" S "+d.step),""!==d.od&&(c+=" "+b+d.od+b)):c="T "+d.Xa+" X "+-d.x+" Y "+-d.y+" Z "+this.f(d.zoom)+" A "+d.angle+" L "+d.J+" D "+this.f(d.depth)+" C "+d.rb+" G "+d.qb+" S "+d.step}return c};f.prototype.update=function(a,
b){var c=this.ha.length,d=!1,e=this.mh,f=!1;if(this.m)this.current.i(this.ua,this.i,a),a>=this.i.Zb&&(this.m=!1);else{for(;e<c&&!d;){var g=this.ha[e];g.Zb>=a||!g.Rl?d=!0:e+=1}d?(this.ha[e].Rl=!0,0<e?(this.ha[e].fd&&(this.ha[e].x=this.current.x,this.ha[e].y=this.current.y,this.ha[e].zoom=this.current.zoom),this.current.i(this.ha[e-1],this.ha[e],a)):(e=0,this.current.set(this.ha[e]))):(e=c-1,this.current.set(this.ha[e]),b>=this.current.Xa&&this.G&&(f=!0),this.G=!0);this.mh=e}return f};f.prototype.ga=
function(a){for(var b=0,c=!1,d=this.ha,e=this.ha.length;b<e&&!c;)d[b].Xa>=a?c=!0:b+=1;c||(b=e-1);return b};f.prototype.Ww=function(a){this.mh=this.ga(a)};f.prototype.dc=function(a,b,c,d){if(0===this.ha.length)c[c.length]=[a+" "+Keywords.Qa,"no initial waypoint defined"];else switch(a){case Keywords.Rc:b.vf&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+-b.x]);b.x=this.ha[0].x;b.vf=!0;break;case Keywords.Sc:b.Pe&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+
-b.y]);b.y=this.ha[0].y;b.Pe=!0;break;case Keywords.ic:b.rd&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+this.f(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.ha[0].zoom;b.rd=!0;break;case Keywords.Ah:b.Sg&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.angle]);b.angle=this.ha[0].angle;b.Sg=!0;break;case Keywords.Ni:b.Vg&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+this.f(b.depth)]);b.depth=this.ha[0].depth;b.Vg=!0;break;case Keywords.Zi:b.$g&&
(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.J]);b.J=this.ha[0].J;b.$g=!0;break;case Keywords.oh:b.Me&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.rb]);b.rb=this.ha[0].rb;b.Me=!0;break;case Keywords.Ui:b.Yg&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.qb]);b.qb=this.ha[0].qb;b.Yg=!0;break;case Keywords.nj:b.kh&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+b.step]);b.step=this.ha[0].step;b.kh=!0;break;case Keywords.eg:b.ki&&
(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+(-1===b.ob?"OFF":b.ob)]);b.ob=this.ha[0].ob;b.ki=!0;break;case Keywords.Vf:b.Sh&&(c[c.length]=[a+" "+Keywords.Qa,d?"already defined":"overwrites "+(-1===b.ia?"OFF":b.ia)]);b.ia=this.ha[0].ia;b.Sh=!0;break;default:c[c.length]=[a+" "+Keywords.Qa,"illegal command before "+Keywords.Qa]}};f.prototype.fw=function(a,b){this.dc(Keywords.Rc,a,b,!1);this.dc(Keywords.Sc,a,b,!1);this.dc(Keywords.ic,a,b,!1);this.dc(Keywords.Ah,a,b,!1);this.dc(Keywords.Zi,
a,b,!1);this.dc(Keywords.Ni,a,b,!1);this.dc(Keywords.oh,a,b,!1);this.dc(Keywords.Ui,a,b,!1);this.dc(Keywords.nj,a,b,!1);this.dc(Keywords.Vf,a,b,!1);this.dc(Keywords.eg,a,b,!1)};f.prototype.ay=function(a){var b,c=this.ha,d=this.ha.length;for(b=1;b<d;b+=1){var e=c[b-1];var f=c[b];f.vf||(f.x=e.x);f.Pe||(f.y=e.y);f.wh||(f.Oe=e.Oe);f.xh||(f.Qe=e.Qe);f.um||(f.Re=e.Re);f.Sg||(f.angle=e.angle);f.rd||(f.zoom=e.zoom);f.$g||(f.J=e.J);f.Vg||(f.depth=e.depth);f.Me||(f.rb=e.rb);f.Yg||(f.qb=e.qb);f.kh||(f.step=
e.step);f.em?f.Xa<=e.Xa&&(a[a.length]=[Keywords.dm+" "+f.Xa,"target generation must be later than previous ("+e.Xa+")"]):f.Xa=e.Xa;f.Zb=f.wu?1E3*f.Zb+e.Zb:e.Zb+1E3*(f.Xa-e.Xa)/(f.qb*f.step);f.wo||(f.gi=e.gi);f.Vi||(f.lc=e.lc)}};window.Waypoint=d;window.WaypointManager=f;window.WaypointConstants=e})();(function(){function d(c,b){var a=this;this.Or=c;this.h=b;this.top=this.left=0;""!==c.style.left&&(this.left=parseInt(c.style.left,10));""!==c.style.top&&(this.top=parseInt(c.style.top,10));this.Sb=this.Pi=!1;this.ul=this.tl=this.wl=this.vl=this.gh=this.fh=-1;this.Pq=this.offsetTop=this.offsetLeft=0;registerEvent(c,"mousedown",function(b){a.i(a,b)},!1);registerEvent(document,"mousemove",function(b){a.m(a,b)},!1);registerEvent(document,"mouseup",function(b){a.G(a,b)},!1);registerEvent(c,"touchstart",
function(b){a.f(a,b)},!1);registerEvent(c,"touchmove",function(b){a.f(a,b)},!1);registerEvent(c,"touchend",function(b){a.f(a,b)},!1);registerEvent(window,"resize",function(){a.iu(a)},!1)}d.prototype.iu=function(c){c.qu(c.left+c.Pq,c.top,c.Or);c.Pq=0};d.prototype.oz=function(c,b){this.qu(this.left+c,this.top+b,this.Or)};d.prototype.qu=function(c,b,a){var d=window.innerWidth-a.clientWidth,e=window.innerHeight-a.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(d-=
21);0>c&&(c=0);0>b&&(b=0);c>d&&(c=d);b>e&&(b=e);a.style.left=c+"px";a.style.top=b+"px";a.style.position="fixed";this.left=c;this.top=b};d.prototype.ew=function(){var c=this.Or,b=c.offsetParent;this.offsetLeft=c.offsetLeft;for(this.offsetTop=c.offsetTop;b;)this.offsetLeft+=b.offsetLeft,this.offsetTop+=b.offsetTop,b=b.offsetParent;b=c.parentNode;if("fixed"===b.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;
else for(;"body"!==b.tagName.toLowerCase();)this.offsetLeft-=b.scrollLeft,this.offsetTop-=b.scrollTop,b=b.parentNode};d.prototype.f=function(c,b){var a="";if("touchend"===b.type){a="mouseup";var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,c.vl,c.wl,c.tl,c.ul,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d);b.preventDefault()}else{if(1===b.touches.length)switch(b.type){case "touchstart":a="mousedown";break;case "touchmove":a="mousemove"}if(""!==a){var e=b.changedTouches[0];
d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);e.target.dispatchEvent(d);b.preventDefault();c.vl=e.screenX;c.wl=e.screenY;c.tl=e.clientX;c.ul=e.clientY}}};d.prototype.i=function(c,b){c.vj(c,b);c.Sb=!0;c.h.fj=!0;b.stopPropagation&&b.stopPropagation();b.preventDefault()};d.prototype.G=function(c,b){c.Pi&&c.Sb&&(c.vj(c,b),c.Sb=!1,c.h.fj=!1,b.stopPropagation&&b.stopPropagation(),b.preventDefault())};d.prototype.m=function(c,
b){if(c.Pi&&c.Sb){var a=c.fh,d=c.gh;c.vj(c,b);c.Sb&&c.oz(c.fh-a,c.gh-d);c.fh=a;c.gh=d;b.stopPropagation&&b.stopPropagation();b.preventDefault()}};d.prototype.vj=function(c,b){if(b.pageX||b.pageY){var a=b.pageX;b=b.pageY}else a=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.ew();a-=c.offsetLeft;b-=c.offsetTop;c.fh=a-1|0;c.gh=b-1|0};window.PopupWindow=d})();(function(){function d(){this.key=new Uint8Array(256);this.i=this.f=0}d.prototype.yd=function(c){var b,a,d=this.key;for(b=0;256>b;b+=1)d[b]=b;for(b=a=0;256>b;b+=1){a=a+d[b]+c.charCodeAt(b%c.length)&255;var e=d[b];d[b]=d[a];d[a]=e}this.i=this.f=0};d.prototype.random=function(){var c,b=0,a=1,d=this.key,e=this.f,g=this.i;for(c=0;8>c;c+=1){e=e+1&255;g=g+d[e]&255;var x=d[e];d[e]=d[g];d[g]=x;b+=d[d[e]+d[g]&255]*a;a*=256}this.f=e;this.i=g;return b/1.8446744073709552E19};window.Random=d;window.myRand=new d})();(function(){function d(c,b){this.Yn=c;this.x=b.Y(Float32,0,"Stars.x");this.y=b.Y(Float32,0,"Stars.y");this.f=b.Y(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.i=new Random;this.i.yd(Date.now().toString());this.sin=b.Y(Float32,0,"Stars.sin");this.cos=b.Y(Float32,0,"Stars.cos");this.m=Math.PI/180;this.V=180/Math.PI;this.j=b;this.G=!1}d.prototype.yd=function(c,b,a){var d,e=this.Yn,g=c*c+b*b;this.x=this.j.Y(Float32,e,"Stars.x");this.y=this.j.Y(Float32,e,"Stars.y");this.f=this.j.Y(Float32,
e,"Stars.z");for(d=0;d<e;d+=1){var x=d/e*(d/e)*(d/e)*(d/e)*a+1;do{var m=3*(this.i.random()*c-c/2);var E=3*(this.i.random()*b-b/2)}while(m*m+E*E>g);this.x[d]=m;this.y[d]=E;this.f[d]=x}this.sin=this.j.Y(Float32,2880,"Stars.sin");this.cos=this.j.Y(Float32,2880,"Stars.cos");for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.m),this.cos[d]=Math.cos(d/8*this.m),d+=1};d.prototype.lw=function(c,b,a,d,e,g,x,m){var f;this.G||(this.yd(8192,8192,1024),this.G=!0);if(littleEndian){var C=m>>16&255;var r=m>>8&255;var h=
m&255}else h=m>>24&255,r=m>>16&255,C=m>>8&255;for(f=0;f<this.Yn;f+=1){var D=this.x[f]+c;var n=this.y[f]+b;if(0!==d){var l=Math.sqrt(D*D+n*n);n=Math.atan2(n,D)*this.V;n+=d;0>n?n+=360:360<=n&&(n-=360);n*=8;n|=0;D=l*this.cos[n];n=l*this.sin[n]}l=this.f[f]/a*2;D=e/2+D/l|0;n=g/2+n/l|0;if(0<D&&D<e-1&&0<n&&n<g-1){D+=n*e;l=1536/l|0;255<l&&(l=255);l/=255;if(x[D]===m){n=h+(this.red-h)*l;var p=r+(this.green-r)*l;var G=C+(this.blue-C)*l;n=littleEndian?-16777216|G<<16|p<<8|n:n<<24|G<<16|p<<8|255;x[D]=n}l/=2;n=
h+(this.red-h)*l;p=r+(this.green-r)*l;G=C+(this.blue-C)*l;n=littleEndian?-16777216|G<<16|p<<8|n:n<<24|G<<16|p<<8|255;--D;x[D]===m&&(x[D]=n);D+=2;x[D]===m&&(x[D]=n);--D;D-=e;x[D]===m&&(x[D]=n);D+=e+e;x[D]===m&&(x[D]=n)}}};window.Stars=d})();(function(){function d(a,b,c,d,e){this.name=a;this.pattern=b;this.Ey=c;this.width=d;this.height=e}function c(a){this.Bb=0;this.Xp=!1;this.ma=null;this.uj=0;this.Hk=!0;this.tf=0;this.De=1;this.ek=this.Wj=!1;this.bh=7;this.vo=!0;this.qk=this.yj=0;this.Hj=!1;this.ea=this.In=63;this.sd=this.Dc=this.Tf=this.Xf=this.bc=this.Wf=this.Sf=this.Rf=this.td=this.sg=this.qg=this.Ck=!1;this.rg=this.Da=0;this.Tc=null;this.Ie=this.He=0;this.Nr=!1;this.Li=this.rf=this.sf=-1;this.jn=Date.now().toString();this.Nh=h.vh;
this.qf=!0;this.ab=!1;this.le=!0;this.Nb=h.Es;this.Ic=!1;this.element=a;this.Ba=!1;this.rh=this.Lg=this.Mg=this.qh=this.Nm=this.Km=this.Mm=this.Lm=0;this.ac=this.Fd=this.$b=this.sj=!1;this.kl=!0;this.nn=!1;this.mn=0;this.Jh=!1;this.bi=this.ai=0;this.cg=!1;this.o="";this.qd=this.pd=0;this.Dp=this.Cp=this.Ij=this.Ih=this.Si=this.Xg=this.hr=this.gr=this.hi=this.lj=this.ji=this.ii=this.Zd=-1;this.Dn=this.cn=!1;this.yo=this.pe=-1;this.Sk=this.Ji=!1;this.Hm=-1;this.nh=null;this.fm="";this.oj=this.Fg=0;
this.gz=32768;this.mp=this.np=0;this.lp=!0;this.zm=this.jb=!1;this.Di=0;this.Uv=.01;this.Dg=this.af=!1;this.Ug=this.Be=null;this.Ff=h.Ff;this.Ch=[96,96,96];this.Do=null;this.Na="";this.dg=this.Aa=this.kf=this.sq=!1;this.ih=null;this.be=!1;this.M=1;this.ag=this.bg=0;this.cc=this.$p=!1;this.D=new WaypointManager;this.Cn="";this.jq=-1;this.Qd=this.Gb=!1;this.fa=1;this.Hp=this.xq=this.Gl=0;this.og=h.Bx;this.xa=this.ga=this.da=this.V=this.Oi=-1;this.Kl=this.Uj="";this.Ml=this.hh=this.tg=this.$f=0;this.Ll=
null;this.yq=this.lf=this.ug=this.Zf="";this.Bf=!1;this.f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.Om=!1;this.sk=h.jt;this.rk=h.bs;this.tk=h.Tt;this.Tk="";this.cd=[];this.wm=!1;this.Rb=[];this.Ki=[];this.Eb=[];this.Ua=1;this.U=0;this.am=!1;this.Tj=100;this.Ub=10;this.P=[64,200,290,530,700];this.te=!1;this.R=[];this.Qp=[];this.Rp=[];this.ia=this.ob=-1;this.ln=this.un=this.Bh=this.Xd=this.Lb=this.Yh=this.Vn=this.zb=this.pl=this.Pb=this.hc=this.Va=!1;this.Gk=
this.xk=this.Dk=-1;this.a=null;this.elapsedTime=0;this.F=640;this.B=512;this.Ek=!1;this.Bk=640;this.Le=this.br=this.Yf=this.xc=!1;this.i=this.Wb=this.lh=this.Xj=this.aj=this.ja=this.me=this.Eh=this.ve=this.hg=this.sb=this.$h=this.we=this.sc=this.Ri=this.xe=this.th=this.Kj=this.yg=this.zg=this.hk=this.Oj=this.ah=this.Pj=this.yk=this.Kh=this.Wi=this.Ph=this.Fb=this.Ag=this.Ti=this.Lh=this.gg=this.Ya=this.Df=this.Se=this.Te=this.Gf=this.Ue=this.Ef=this.Xe=this.vi=this.xi=this.Ai=this.Mh=this.Ed=this.Th=
this.Ea=this.ue=this.Wc=this.Yc=this.Xc=this.Vc=this.ti=this.ui=this.xj=this.si=this.zk=this.Uc=this.If=this.$c=this.Qf=this.Zc=this.Pf=this.Qj=this.Hb=this.rc=this.Ld=this.oc=this.Cb=this.pb=this.vb=this.Jc=this.hf=this.Xb=this.Ja=null;this.Qh=this.Yi=-1;this.wheelDelta=0;this.ld=this.ej=this.ff=this.G=this.Ec=null;this.wd=60;this.u=this.h=null;this.Mi=this.Jd=this.Dj=0;this.bn=this.Gs=1;this.vp=60;this.Fj=this.an=1;this.up=.1;this.yi=-1;this.ij=this.Td=this.Rq=0;this.bk=1;this.ph=this.ra=this.vk=
this.uk=this.wk=!1;this.Ac=h.Fs;this.vn=this.yn=this.vr=this.xn=0;this.zi=this.Gg=!1;this.Xl=this.pk=0;this.$d=!1;this.Vj=-1}function b(a,b,d,e,f){var n,l=b.parentNode,p=null;for(n=0;n<D.gc.length&&!p;)D.gc[n][0].tabIndex===b.tabIndex?p=D.gc[n][1]:n+=1;p||(p=new c(f),p.be=e,r.xl&&!e&&(p.og=d&-8,p.og<h.jd&&(p.og=h.jd)),b.tabIndex=D.gc.length+1,p.Mq(b),"none"===l.style.display&&(D.Hq=new PopupWindow(l,p.h)),D.gc[D.gc.length]=[b,p,D.Hq]);e||p.jh(a,!1)}function a(a){a=a.parentNode;for(var b=!1;!b;)"div"!==
a.localName||a.className!==r.en&&a.className!==r.fn||(b=!0),b||(a=a.parentNode);return a}function f(){var a=D.fr(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.Pi=!1;b.xc&&(b.ja.current=b.Cd(h.hb,!0,b))}function e(a){f();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function g(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,
"").trim();a=a.replace(/\n[ ]+/g,"\n");return a=a.replace(/\n\t+/g,"\n")}function x(c){c=a(c);var d=c.getElementsByTagName(r.gj)[0],n=g(d),f=D.fr();if(f)f[1].element=d,f[1].Jr(f[1]);else{f=document.createElement("canvas");f.width=h.jd;f.height=h.eh+80;f.style.display="block";var A=document.createElement("a");A.setAttribute("href","#");A.innerHTML="&nbsp;X&nbsp;";A.style.textDecoration="none";A.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";A.style.color="#FFFFFF";A.style.backgroundColor=
"#C75050";A.style.cssFloat="right";A.style.height="28px";A.style.fontSize="18px";var B=document.createElement("a");B.innerHTML="&nbsp;X&nbsp;";B.style.textDecoration="none";B.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";B.style.visibility="hidden";B.style.cssFloat="left";B.style.height="28px";B.style.fontSize="18px";var q=document.createElement("div");q.style.textAlign="center";q.style.color="rgb(83,100,130)";q.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";q.style.fontSize=
"18px";q.style.height="28px";var m=document.createTextNode("LifeViewer");q.style.cursor="default";q.appendChild(m);registerEvent(A,"click",e,!1);var k=document.createElement("div");k.style.display="none";k.style.position="fixed";k.style.border="1px solid rgb(128,128,128)";k.style.left="2048px";k.style.top="0px";k.style.textAlign="right";k.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";k.style.margin="1px";var u=document.createElement("div");u.className=r.fn;u.style.backgroundColor=
"#FFFFFF";u.style.height="28px";u.style.lineHeight="28px";u.appendChild(B);u.appendChild(A);u.appendChild(q);k.appendChild(u);k.appendChild(f);c.appendChild(k);b(n,f,h.jd,!0,d);D.er=D.gc.length-1;f=D.fr();f[1].Do=m}c=f[0].parentNode;""!==c.style.display&&(c.style.display="");f[1].F=h.jd;f[1].B=h.eh+80;f[1].resize();f[1].h.notification.clear(!0,!0);f[1].h.notification.clear(!1,!0);f[1].jh(n,!0);f[1].resize();c=f[2];c.Pi=!0;c.iu(c);f[1].ff.canvas.focus();f[1].h.hasFocus=!0;return!1}function m(a,b){var c=
!1,n=null;try{n=PatternManager.create("",a,b),n.Oc&&(c=!0,r.Ma&&(D.zc[D.zc.length]=new d(n.name,a,n.ba+n.Dm,n.width,n.height)))}catch(A){}return c}function E(a){x(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function C(){var a=document.getElementsByTagName("div"),c,d,e=new Allocator;var f=document.getElementsByTagName("meta");for(c=0;c<f.length;c+=1){var h=f[c];if(h.name===r.tagName&&(r.Tp=!1,r.xl=!1,h=h.content,(d=h.match(/\S+/g))&&2<=d.length&&5>=d.length))for(r.en=d[0],
r.gj=d[1],h=2;h<d.length;h+=1)switch(d[h]){case "hide":r.Tp=!0;break;case "limit":r.xl=!0;break;case "multi":r.Ma=!0;break;default:var q=d[h];!isNaN(parseFloat(q))&&isFinite(Number(q))&&(r.ao=parseFloat(q)|0)}}for(f=0;f<a.length;f+=1)(h=a[f],h.className===r.en)?(c=h.getElementsByTagName(r.gj)[0],h=h.getElementsByTagName("canvas")[0],(d=c.getElementsByTagName(r.gj)[0])&&(c=d),typedArrays&&c&&(d=g(c),r.Ma&&m(d,e),h&&h.getContext?(-1<r.ao&&c.clientHeight>r.ao&&(c.style.height=r.ao+"px"),b(d,h,c.offsetWidth,
!1,c)):r.Tp&&h&&(h.style.display="none"))):typedArrays&&h.className===r.fn&&h.parentNode.className!==r.en&&(c=h.getElementsByTagName(r.gj)[0])&&(d=g(c),m(d,e)&&(h=h.getElementsByTagName("a")[0],d=document.createElement("a"),d.setAttribute("href","#"),d.innerHTML="Show in Viewer",registerEvent(d,"click",E,!1),h?(c=document.createTextNode(" / "),h.parentNode.appendChild(c),h.parentNode.appendChild(d)):c.parentNode.appendChild(d)))}var r={tagName:"LifeViewer",en:"rle",gj:"code",ao:37,Tp:!0,xl:!1,Ma:!1,
fn:"codebox",zc:[]},h={hw:65536,jw:500,kw:17,Us:13750737,Vs:15066597,rn:7368816,sn:5263440,ru:.016,Yy:16,Ht:16384,Es:.7,Yn:1E4,Ky:"Script errors",fe:-2,de:2,Ft:2,zt:4,Fs:4,Mu:16.7,Ct:9,vt:14,Ow:13,dt:null,Bt:1,tt:16,Ds:3,Ce:0,mg:1,Pm:2,Cf:3,Vk:4,Wk:5,Xk:6,Ym:7,Zm:8,Qm:9,Vm:10,Um:11,Tm:12,Wm:13,Xm:14,Sm:15,Yk:16,Rm:17,qp:18,bl:19,$k:20,cl:21,el:22,dl:23,al:24,Uk:25,Zk:26,Jt:0,Lt:1,ct:2,ot:3,st:4,qt:5,it:6,bb:[0,6,2,5,3,4,1],tu:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),bz:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),
Qx:0,Px:160,Pt:10,Aq:100,Ot:20,Yw:18.5,su:1E3/60,Jz:!1,Fp:1800,Vw:"LifeViewer",Tq:"LifeViewer Image",Ou:"LifeViewer",Fr:307,Nu:"Chris Rowett",Qn:1,Jn:10,oq:0,Ix:1,hb:2,Vh:3,Gt:0,Cl:1,Jo:1.25,lx:.99,Pn:0,ut:10,Fh:10,Ra:.0625,yb:32,Bl:-16,Al:-1,ee:1,Uh:60,$i:1,Rd:50,fontSize:18,jl:"18px Courier",oi:"18px Arial",Eg:"18px Arial",oe:"14px Arial",uo:"9px Arial",bs:"rgb(240,255,255)",Qv:"rgb(0,0,0)",Tt:"rgb(240,255,255)",Ut:"rgb(0,0,0)",$r:2,Rn:1,Kn:64,Pv:.2,jt:"rgb(240,255,255)",tx:"rgb(0,0,0)",sx:18,Dt:4,
wt:128,rx:"Arial",Nj:"rgb(32,255,255)",ol:"#000000",Ff:"rgb(255,96,96)",pn:"rgb(128,128,128)",Gx:64,Fx:64,jd:480,Bx:2048,hx:80,Sj:240,Nn:2048,eh:480,Ko:132,$u:292,Nx:154,jr:0,uu:1,vu:2,Dx:0,vx:16,vh:0,gt:1,Uq:2,ql:3,Au:4,ss:5,Vr:6,At:7},D={j:new Allocator,gc:[],er:-1,Hq:null,zc:[],fr:function(){var a=null;-1!==this.er&&(a=this.gc[this.er]);return a},bx:function(a){var b=null;0<=a&&a<this.gc.length&&(b=this.gc[a][1]);return b},Tz:function(){return this.gc.length},Bz:function(){var a=0,b;for(b=0;b<
this.gc.length;b+=1){var c=this.gc[b][1];c.xc&&(a+=1)}return a},ty:function(){var a,b=0;for(a=0;a<this.gc.length;a+=1){var c=this.gc[a][1];c.ja.current=c.Cd(h.oq,!0,c);c.h.Bg(!0);b+=1}return b},dz:function(){var a,b=0;for(a=0;a<this.gc.length;a+=1){var c=this.gc[a][1];c.xc&&(c.ja.current=c.Cd(h.hb,!0,c),b+=1)}return b},ez:function(a){var b,c=0;for(b=0;b<this.gc.length;b+=1){var d=this.gc[b][1];d!==a&&d.xc&&(d.ja.current=d.Cd(h.hb,!0,d),c+=1)}return c}};c.prototype.kn=function(a){this.sd=this.Dc=this.Tf=
this.Xf=this.bc=this.Wf=this.Sf=this.Rf=this.td=this.sg=this.qg=a};c.prototype.Sq=function(){this.kn(!1)};c.prototype.pv=function(){this.kn(!0)};c.prototype.qs=function(){this.Qp=[];this.Rp=[]};c.prototype.Zv=function(a){var b=a.ej.toDataURL("image/png"),c;(c=document.getElementById("screenshot"))?c.src=b:(c=window.open("",h.Tq))?(c.width=a.F+20,c.height=a.B+20,c.document.open(),c.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+h.Tq+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+
a.F+'" height="'+a.B+'" src="'+b+'" alt="'+h.Tq+'"/>\n\t</body>\n</html>\n'),c.document.close(),a.h.notification.S("Image Captured",300,!0)):a.h.notification.S("Could not open Image window!",h.Fp,!0)};c.prototype.Ez=function(a){var b=this.a.Jb,c=this.a.oa,d=this.a.ec;var n=a.width;var e=a.height;var f=this.He,g=this.Ie,k=this.a.cb,u=this.a.cb>>4,t=this.a.gb,r=null,m=n,x=e;var y=Math.round(-this.a.wa/2);var z=Math.floor((this.a.wa-1)/2);var v=Math.round(-this.a.ya/2);var w=Math.floor((this.a.ya-1)/
2);var C=f-(this.a.width>>1),E=g-(this.a.height>>1),D=this.a.g,ba=!0,Y=2===D&&this.a.pa;-1!==this.a.na&&(0!==this.a.wa&&(C<y||C+n-1>z)&&(ba=!1),0!==this.a.ya&&(E<v||E+e-1>w)&&(ba=!1),ba||(this.Nr=!0,0!==this.a.wa?(f=Math.round(this.a.width/2)+y,m>z-y+1&&(m=z-y+1)):f=Math.round(this.a.width/2),0!==this.a.ya?(g=Math.round(this.a.height/2)+v,x>w-v+1&&(x=w-v+1)):g=Math.round(this.a.height/2)));for(e=0;e<x;e+=1){v=a.Oc[e];w=b[e+g&t];if(this.Lb)for(y=a.he[e],r=c[e+g&t],n=0;n<m;n+=1)r[n+f&k]=y[n];else if(2<
D)for(y=a.he[e],r=c[e+g&t],n=0;n<m;n+=1)z=y[n],0<z&&(z=D+this.ea-z),r[n+f&k]=z;Y&&(r=c[e+g&t]);for(n=0;n<m;n+=1)0!==(v[n>>4]&1<<(~n&15))&&(w[n+f>>4&u]|=1<<(~(n+f)&15),Y&&(r[n+f&k]=LifeConstants.Za))}if(d)for(e=0;e<x;e+=1)for(y=a.he[e],b=d[e+g&t],n=0;n<m;n+=1)(z=y[n])&&(b[n+f&k]=h.bb[z]+128)};c.prototype.hl=function(){var a=!1;-1!==this.a.na&&0!==this.a.wa&&0!==this.a.ya&&(a=!0);return a};c.prototype.ri=function(){var a=!1;-1===this.a.na||0!==this.a.wa&&0!==this.a.ya||(a=!0);return a};c.prototype.Bi=
function(a,b,c){a=a[0];b&&(c.Nb=a);return[a,100*a]};c.prototype.$n=function(a,b,c){b&&(c.tf=(c.a.g-c.bh)*a[0]|0);a[1]=c.tf+"-"+(c.tf+c.bh-1);return a};c.prototype.Pg=function(a,b,c){var d=a[0],n=0;b?(c.Qd=!0,c.a.zoom=h.Ra*Math.pow(h.yb/h.Ra,a[0])/c.a.yc):(d=Math.log(c.a.zoom*c.a.yc/h.Ra)/Math.log(h.yb/h.Ra),0>d?d=0:1<d&&(d=1));this.$b&&!this.ac?n=c.a.zoom*c.a.yc:n=c.a.zoom;n<h.Ra?n=h.Ra:n>h.yb&&(n=h.yb);1>n&&(n=-1/n);return[d,n]};c.prototype.Sv=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&
(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};c.prototype.Hf=function(a,b){var c=this.a.zoom,d=this.a.ca,n=this.a.$,e=6;if(this.ra){var f=this.a.Hf(this.Da,this.F*this.Ac,this.B*this.Ac,h.Ra,h.yb,h.Jo,this.$f,this.tg,this.Pb&&this.Lb,this.af,this.$b,this.qh,this.Lg,this.Mg,this.rh,this.Dg,this.jb);f[0]/=this.Ac}else f=h.hx,this.zb&&(f=0),f=this.a.Hf(this.Da,this.F,this.B-f,h.Ra,h.yb,h.Jo,this.$f,this.tg,this.Pb&&this.Lb,this.af,this.$b,this.qh,this.Lg,this.Mg,this.rh,this.Dg,this.jb);this.jb&&
!a?(24<this.a.zoom&&(e=3),1<this.fa&&(e=1),this.a.zoom=(this.a.zoom*(e-1)+f[0])/e,this.a.ca=(this.a.ca*(e-1)+f[1])/e,this.a.$=(this.a.$*(e-1)+f[2])/e,a=this.a.zoom>c?this.a.zoom/c-1:c/this.a.zoom-1,d=this.a.ca>d?this.a.ca-d:d-this.a.ca,n=this.a.$>n?this.a.$-n:n-this.a.$,this.Di=a,d>this.Di&&(this.Di=d),n>this.Di&&(this.Di=n),.01>=this.Di&&(this.a.zoom=f[0],this.a.ca=f[1],this.a.$=f[2])):(this.ii=this.a.width/2-this.a.ca,this.ji=this.a.height/2-this.a.$,this.lj=this.a.zoom,this.hi=this.a.angle,this.Xg=
this.a.width/2-f[1],this.Si=this.a.height/2-f[2],this.Ih=f[0],this.Ij=this.hi,this.yo=WaypointConstants.Yj,b?this.pe=0:(this.pe=WaypointConstants.Yj,this.Br()));this.pb&&(this.pb.current=this.Pg([this.a.zoom,this.a.zoom],!1,this));this.vb&&(this.vb.current=this.qm([this.a.angle,this.a.angle],!1,this))};c.prototype.xz=function(a,b){-1!==this.sf&&(a=this.sf);-1!==this.rf&&(b=this.rf);-1!==this.a.na&&this.cg?(this.He=(this.a.width>>1)+this.pd,this.Ie=(this.a.height>>1)+this.qd):(this.He=Math.round((this.a.width-
a)/2)+this.pd,this.Ie=Math.round((this.a.height-b)/2)+this.qd);!this.Pb&&this.a.mc||!PatternManager.Jj||(this.Pb=this.Lb=!0)};c.prototype.$l=function(a){var b=a+String();1E9<=a?b="1B+":1E8<=a?b=(a/1E6|0)+"M":1E7<=a?b=Number(a/1E6).toFixed(1)+"M":1E6<=a?b=Number(a/1E6).toFixed(2)+"M":1E5<=a&&(b=(a/1E3|0)+"K");return b};c.prototype.zj=function(a,b){var c=this.h.fh,d=this.h.gh;b=a+b;var n=-this.a.angle,e=Math.sin(n/180*Math.PI);n=Math.cos(n/180*Math.PI);0>b?b=0:1<b&&(b=1);a=h.Ra*Math.pow(h.yb/h.Ra,a);
b=h.Ra*Math.pow(h.yb/h.Ra,b);b<h.Ra?b=h.Ra:b>h.yb&&(b=h.yb);c-=this.F/2;d-=this.B/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.a.ca-=c*n+a*-e;this.a.$-=c*e+a*n;b=Math.log(b/h.Ra)/Math.log(h.yb/h.Ra);this.pb.current=this.Pg([b,b],!0,this)};c.prototype.qz=function(a){a.me.current=a.Fg/a.oj*100;a.me.l=!1;a.Ld.Fc=0};c.prototype.rz=function(a,b){a.me.current=a.a.s/b*100;a.me.l=!1;a.Ld.Fc=0};c.prototype.pz=function(a){var b=!1,c=!1,d=0;a.Va||-1===a.ia||(b=!0);!a.hc&&a.Gb&&(c=!0);if(b||c){var n=!1;if(c&&b)d=a.elapsedTime/
a.D.Js(a.ia);else if(c){if(b=a.D.ux().Zb)d=a.elapsedTime/b,1<d&&(n=!0)}else 0<a.ia&&(d=a.a.s/a.ia);1<d&&(d=1);a.me.current=100*d}else n=!0;(a.me.l=n)?a.Ld.Fc=a.u.Fc:a.Ld.Fc=0};c.prototype.Rw=function(){this.ih.lw(this.a.width/2-this.a.uc,this.a.height/2-this.a.vc,this.a.ka,this.a.Ia,this.a.F,this.a.B,this.a.ed,this.a.vg[0])};c.prototype.Zt=function(){var a=this.u.Ge-this.F/2,b=this.u.pg-this.B/2,c=this.Ie-this.a.$,d=this.He-this.a.ca-(this.a.Z?this.a.$/2:0);var e=-1;-1!==this.u.Ge&&(0!==this.a.Ia&&
(e=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.a.Ia,a=e*Math.cos(Math.PI/180*b),b=e*Math.sin(Math.PI/180*b)),b=Math.floor(b/this.a.zoom-c+this.a.Mb),a=Math.floor(a/this.a.zoom+(this.a.Z?c/2+b/2:0)-d+this.a.Vb),e=this.a.getState(a+this.He,b+this.Ie,this.Lb&&this.Pb));return e};c.prototype.En=function(a,b){var c=a-this.F/2,d=b-this.B/2;b=this.Ie-this.a.$;var n=this.He-this.a.ca-(this.a.Z?this.a.$/2:0),e=0,f=0;-1!==a&&(0!==this.a.Ia&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=
this.a.Ia,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),e=Math.floor(d/this.a.zoom-b+this.a.Mb),f=Math.floor(c/this.a.zoom+(this.a.Z?b/2+e/2:0)-n+this.a.Vb));this.yj=f+this.He;this.qk=e+this.Ie};c.prototype.Hz=function(a,b,c,d,e){var n=Math.abs(c-a),f=Math.abs(d-b),l=a<c?1:-1,p=b<d?1:-1,g=n-f,h=this.a.width,G;for(G=0|this.a.ou(a,b,e);h!==this.a.width;)a+=h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1;for(;a!==c||b!==d;){var A=g+g;A>-f&&(g-=f,a+=l);A<n&&(g+=n,b+=p);for(G|=this.a.ou(a,b,e);h!==this.a.width;)a+=
h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1}return G};c.prototype.Wy=function(){var a=this.u.Ge-this.F/2,b=this.u.pg-this.B/2,c=this.Ie-this.a.$,d=this.He-this.a.ca-(this.a.Z?this.a.$/2:0);if(-1===this.u.Ge)this.sc.nb="",this.sc.l=!this.Le;else{if(0!==this.a.Ia){var e=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b-=this.a.Ia;a=e*Math.cos(Math.PI/180*b);b=e*Math.sin(Math.PI/180*b)}e=Math.floor(b/this.a.zoom-c+this.a.Mb);c=Math.floor(a/this.a.zoom+(this.a.Z?c/2+e/2:0)-d+this.a.Vb);a=this.a.getState(c+this.He,
e+this.Ie,this.Lb&&this.Pb);c+=this.pd;e+=this.qd;-1===this.a.na||this.cg||(c-=Math.floor((-1===this.sf?this.$f:this.sf)/2),e-=Math.floor((-1===this.rf?this.tg:this.rf)/2));c=-9999>c||9999<c?Number(c/1E4).toFixed(1)+"K":String(c);d=-9999>e||9999<e?Number(e/1E4).toFixed(1)+"K":String(e);this.sc.nb=c+","+d+"="+a;this.sc.l=!1}this.sc.enabled=this.Le||this.ja.current===h.hb&&-1!==this.u.Ge?this.U||this.Ua||0===this.$f?!1:!0:!1};c.prototype.fy=function(a){if(!this.zb&&!this.ra)if(0<this.U)0<a?this.so(this,
3):this.ro(this,3);else if(0<this.Ua)0<a?this.qo(this,3):this.po(this,3);else if(!this.cc){var b=this.pb.current[0];0>a?this.zj(b,-.05):this.zj(b,.05)}};c.prototype.Az=function(a,b){var c=b.D.current;var d=!1,e=!1,n=!1,f=!1,g=!1,l;b.cc=!1;b.$p&&(b.$p=!1,a=0);b.Pb||b.pz(b);b.fa=b.Xb.current[0];b.ja.current!==h.hb?(a>h.Yw&&(e=!0),a>h.su&&(a=h.su),!b.xc||b.Gb&&!b.hc||(b.rg+=b.fa*b.wd*a/1E3,b.Da+=b.wd*a/1E3,(b.Da|0)>b.a.s?(b.Da+=b.fa-1,b.Yf=!0):b.elapsedTime+=a)):b.Yf&&(g=!0,b.Da=b.br?b.a.s+1:b.a.s+b.fa,
b.rg=b.Da);b.Cr();b.Gb&&!b.hc&&b.ja.current!==h.hb?(b.Qd&&!b.D.fp(b.elapsedTime+a)&&(b.Qd=!1,b.elapsedTime=b.D.xs(b.a.width/2-b.a.ca,b.a.height/2-b.a.$,b.a.zoom,b.a.angle,b.a.J,b.a.nc*h.Fh,b.a.Yd,b.wd,b.fa,b.a.s,b.elapsedTime)),c.fd&&(b.Hf(!0,!1),b.Qd=!1,c.x=b.a.width/2-b.a.ca,c.y=b.a.height/2-b.a.$,b.ra&&(b.a.zoom*=b.Ac),c.zoom=b.a.zoom),(n=b.D.update(b.elapsedTime+a,b.a.s))?(c.fd&&(c.fd=!1,b.ra&&(b.a.zoom=c.zoom/b.Ac),b.pb&&(b.pb.current=b.Pg([b.a.zoom,b.a.zoom],!1,b))),b.Da+=b.wd*a/1E3,(b.Da|0)>
b.a.s&&(b.Da+=b.fa-1,b.Yf=!0)):(b.ja.current!==h.hb&&(b.cc=!0),b.a.ca=b.a.width/2-c.x,b.a.$=b.a.height/2-c.y,b.a.zoom=c.zoom,b.ra&&(b.a.zoom=b.a.zoom/b.Ac),b.pb&&(b.pb.current=b.Pg([b.a.zoom,b.a.zoom],!1,b)),b.a.angle=c.angle,b.vb&&(b.vb.current=[b.a.angle,b.a.angle]),b.a.J=c.J,b.oc&&(b.oc.current=[b.a.J,b.a.J]),b.a.nc=c.depth/h.Fh+h.Pn,b.Cb&&(b.Cb.current=[Math.sqrt(b.a.nc),b.a.nc*h.Fh]),b.wd=c.qb,b.Ja&&(b.Ja.current=[Math.sqrt((c.qb-h.ee)/(h.Uh-h.ee)),b.Ns(c.qb)]),b.fa=c.step,b.Xb.current=[b.fa,
b.fa],c.Xa>b.a.s?(b.Yf=!0,b.Da=c.Xa):b.Yf=!1,c.od!==b.Cn&&(""===c.od?b.h.notification.clear(!1,!1):b.h.notification.S(c.od,1E3,!1),b.Cn=c.od),c.rb!==b.jq&&(b.Jc.current=b.wj([c.rb,""],!0,b),b.jq=c.rb)),b.Yf||(b.elapsedTime+=a)):b.jb&&b.ja.current!==h.hb&&(b.cc=!0);b.cc&&(b.pe=-1);c=0;if(b.Yf){if(b.a.Fa){var u=performance.now();var t=(b.Da|0)-b.a.s;for(l=0;!f&&b.a.s<(b.Da|0);){c=performance.now()-u;if(b.a.s===b.ob-1||c>h.Mu&&!g)f=!0;b.Le&&(b.a.s===(b.Da|0)-1||f)?b.a.bj(!0,b.kf,b.Ic):b.a.bj(!1,b.kf,
b.Ic);l+=1;(b.a.zu||b.a.s===(b.Da|0)||f)&&b.a.Cj();b.Hy(a,t);-1!==b.ia&&b.a.s>=b.ia&&!b.Va&&(b.elapsedTime=0,b.reset(b),n&&(b.cc=!0));b.a.Fa||(f=!0)}b.a.Fa||(b.Hp=this.ea+(0<this.a.g?this.a.g:0),-1===b.Oi&&(b.Oi=b.a.s,b.a.ps(!0),!b.kl||-1!==b.ia&&!b.Va||b.Hj||b.h.notification.S("Life ended at generation "+b.Oi,600,!0)));b.Da-=t-l}else b.Hp&&(--b.Hp,a=b.a.s,b.a.s=b.Oi,b.a.Cj(),b.a.s=a),b.a.s+=b.fa,-1!==b.ia&&b.a.s>=b.ia&&!b.Va&&(b.elapsedTime=0,b.reset(b),n&&(b.cc=!0));b.a.s===b.ob&&(b.ja.current=
b.Cd(h.hb,!0,b),b.kl&&b.h.notification.S("STOP reached - Play to continue ",180,!0))}b.gg.locked=b.cc&&b.Gb;b.Ti.locked=b.cc||b.jb&&b.ja.current!==h.hb;b.Ja.locked=b.cc&&b.Gb;b.Xb.locked=b.cc&&b.Gb;b.Jc.locked=b.cc&&b.Gb;b.pb.locked=b.cc;b.vb.locked=b.cc&&b.Gb;b.oc.locked=b.cc&&b.Gb;b.Cb.locked=b.cc&&b.Gb;b.wheelDelta&&(b.fy(b.wheelDelta),b.wheelDelta=0);b.jb&&(b.ja.current!==h.hb||b.Gb)&&b.Hf(!1,!1);b.a.ly();b.dg&&b.Rw();b.a.gn();b.Xl&&(2===b.Xl&&b.a.hn(b.le,1,!0,b.ra),b.Zv(b),2===b.Xl&&b.a.gn(),
b.Xl=0);b.a.s&&b.a.Fa&&(n=h.Rd,b.a.pa&&(n=4*b.a.Ib.pc+1,-1!==b.a.na&&(n+=2*b.a.Ib.pc),b.a.Ib.type===PatternManager.Ne&&(n=-1!==b.a.na?n+b.a.ya/2:n+(b.a.A.L-b.a.A.K+1)/2),n<h.Rd&&(n=h.Rd)),b.a.bw(n)&&(b.Jd+=b.a.width>>2,b.Mi+=b.a.height>>2,b.Td+=b.a.width>>2,b.ij+=b.a.height>>2,b.a.Z&&(b.Jd-=b.a.height>>3,b.Td-=b.a.height>>3),b.He+=b.a.width>>2,b.Ie+=b.a.height>>2));b.qf&&b.D.yp(b);b.ab&&b.a.hn(b.le,b.Nb,!1,b.ra);b.U?Help.Ap(b):b.Eb.length&&Help.zp(b);b.Ld.lower[0]=b.nn?"+ "+b.$l(b.a.s):"T "+b.$l(b.a.s+
b.mn);b.Ri.nb=b.Sv(b.elapsedTime);b.$h.nb=b.$l(b.a.za);b.hl()?b.hg.nb=(100*b.a.za/(b.a.ya*b.a.wa)|0)+"%":(b.hg.nb=b.$l(b.a.wb),b.Eh.nb=b.$l(b.a.kc));b.$h.C="alive "+b.a.za;b.hl()?b.hg.C="density "+(100*b.a.za/(b.a.ya*b.a.wa)|0)+"%":(b.hg.C="births "+b.a.wb,b.Eh.C="deaths "+b.a.kc);b.sq||b.kz(c,e,g,b);b.Yf=!1;b.br=!1;b.Wy();-1!==b.pe&&b.Br();if(b.xc||b.jb&&b.Di>b.Uv||-1!==b.pe)d=!0;b.lz();b.sz();b.mz();b.uz(b.U||b.Eb.length);b.h.Bg(d)};c.prototype.kz=function(a,b,c,d){a>h.Mu&&!c?(d.ag+=h.Ot,d.ag>=
2*h.Aq&&(d.ag=0)):0<d.ag&&(d.ag-=h.Ot);b&&!c?d.bg<h.Px&&(d.bg+=h.Pt):d.bg>h.Qx&&(d.bg-=h.Pt);d.ag>=h.Aq&&(d.Vz=2*h.Aq-d.ag);a=d.uj>>16;b=d.uj>>8&255;c=d.uj&255;128<=a?64<=b||64<=c?(b-=d.bg,c-=d.bg,0>b&&(b=0),0>c&&(c=0)):(b+=d.bg,255<b&&(b=255)):(a+=d.bg,255<a&&(a=255));d.Ja.Kc="rgb("+a+","+b+","+c+")";a=d.uj>>16;b=d.uj>>8&255;c=d.uj&255;128<=b?(a-=d.bg,0>a&&(a=0),c-=d.ag,0>c&&(c=0)):(b+=d.ag,255<b&&(b=255));d.Xb.Kc="rgb("+a+","+b+","+c+")"};c.prototype.Cr=function(){if(this.$b&&!this.ac){this.a.Vb=
this.rg*(this.Lg+this.rh)/2;this.a.Mb=this.rg*(this.qh+this.Mg)/2;var a=this.a.Zu(0,this.qh,this.Lg,this.Mg,this.rh,this.F,this.B-80,h.Ra,h.yb,h.Jo);var b=this.a.Zu(this.rg,this.qh,this.Lg,this.Mg,this.rh,this.F,this.B-80,h.Ra,h.yb,h.Jo);this.a.yc=b/a}else this.a.Vb=0,this.a.Mb=0,this.a.yc=1;this.pb.current=this.Pg([this.a.zoom,this.a.zoom],!1,this)};c.prototype.uz=function(a){var b=!(this.U&&this.Nh===h.vh);var c=[];var d=[];this.gg.l=a;this.pb.l=a||this.ab;this.Ti.l=a;this.Lh.l=a;this.ue.l=a||this.ab;
this.Ed.l=a||this.ab;this.Ea.l=a||this.ab;this.Th.l=a||this.ab;this.aj.l=a;this.Hb.l=a||!this.ab;this.yk.l=a||!this.ab;this.Qj.l=a||!this.ab;this.xe.l=a;this.Ri.l=a;this.we.l=a;this.$h.l=a;this.sb.l=a||this.ri();this.hg.l=a||this.ri();this.ve.l=a||this.hl()||this.ri();this.Eh.l=a||this.hl()||this.ri();this.Ec.l=a;this.vb.l=a||this.a.Z;this.Cb.l=a;this.Jc.l=a||this.Lb;this.oc.l=a;this.Ti.l=a;this.Ag.l=a||!this.ph;this.Fb.l=!(this.be||this.Eb.length);this.Wi.l=a;this.Ph.l=a;this.Kh.l=a;this.Pj.l=a;
this.ah.l=a;this.Oj.l=a;this.hk.l=a;this.Kj.l=a;this.th.l=a;this.Pf.l=a||!this.Ba;this.Zc.l=a||!this.Ba;this.Qf.l=a||!this.Ba;this.$c.l=a||!this.Ba;this.If.l=a||!this.Ba;this.Uc.l=a||!this.Ba;this.zk.l=a||!this.Ba;this.si.l=a||!this.Ba;this.xj.l=a||!this.Ba;this.ui.l=a||!this.Ba;this.ti.l=a||!this.Ba;this.Vc.l=a||!this.Ba;this.Xc.l=a||!this.Ba;this.Yc.l=a||!this.Ba;this.Wc.l=a||!this.Ba;this.Eb.length?(this.Fb.C="close errors",this.Fb.nb="Esc",this.Fb.font="16px Arial"):(this.Fb.C="close window",
this.Fb.nb="X",this.Fb.font="24px Arial");this.Ai.l=!(this.U&&this.Nh!==h.vh);this.Ya.l=!(this.U&&this.Nh!==h.vh)||!this.am;this.Xe.l=b;this.Ef.l=b;this.Ue.l=b;this.Gf.l=b;this.Te.l=b;this.Se.l=b;this.Df.l=b;this.vi.l=!(this.U&&this.Nh!==h.vh)||this.am;if(this.Hk){this.Hk=!1;for(b=0;b<this.R.length;b+=1)c[b]=this.R[b][1],d[b]="";this.Ya.lower=c;this.Ya.C=d;this.Ya.height=26*this.R.length;this.Ya.current=0}this.Wb.l=a||!this.$d||!this.ek;this.i.l=a||!this.$d||!this.ek;if(2>=this.a.g)for(b=0;b<this.i.lower.length;b+=
1)c=2>=b?0===b?b:1===b?LifeConstants.Za:LifeConstants.Dh:128+h.bb[b],this.i.Pk[b]="rgb("+this.a.ib[c]+","+this.a.fb[c]+","+this.a.eb[c]+")";else for(b=0;b<this.i.lower.length;b+=1)c=0===b+this.tf?0:this.ea+this.a.g-(b+this.tf),this.i.Pk[b]="rgb("+this.a.ib[c]+","+this.a.fb[c]+","+this.a.eb[c]+")";this.Xj.l=a||!this.$d;this.lh.l=a||!this.$d;this.xi.l=a||!this.$d||!this.ek||8>this.a.g;this.a.g>this.bh&&this.On();if(0<this.U){b=0;for(c=-1;b<this.R.length&&-1===c;)this.R[b][0]>this.U?c=this.R[b][0]:b+=
1;b===this.R.length&&(c=b);-1!==c&&(this.Ya.current=b-1)}this.pl&&(this.u.l=this.ja.current===h.Vh?!0:!1)};c.prototype.mz=function(){var a=-(this.a.width/2-this.a.ca-this.a.Vb|0),b=-(this.a.height/2-this.a.$-this.a.Mb|0),c=String(a),d=String(b);this.Pf.l=!this.Ba;this.Zc.l=!this.Ba;this.Qf.l=!this.Ba;this.$c.l=!this.Ba;this.If.l=!this.Ba;this.Uc.l=!this.Ba;this.zk.l=!this.Ba;this.si.l=!this.Ba;this.xj.l=!this.Ba;this.ui.l=!this.Ba;this.ti.l=!this.Ba;this.Vc.l=!this.Ba;this.Xc.l=!this.Ba;this.Wc.l=
!this.Ba;this.Yc.l=!this.Ba;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.Zc.nb=c;this.$c.nb=d;this.Uc.nb=this.a.angle.toFixed(0)+"\u00b0";this.Vc.nb=this.Km.toFixed(3);this.Xc.nb=this.Mm.toFixed(3);this.Yc.nb=this.Nm.toFixed(3);this.Wc.nb=this.Lm.toFixed(3)};c.prototype.sz=function(){0===this.a.s?this.Nm=this.Km=this.Mm=this.Lm=0:(this.Mm=(this.a.A.L-this.a.zd.L)/this.a.s,this.Lm=(this.a.A.K-this.a.zd.K)/this.a.s,this.Km=(this.a.A.O-this.a.zd.O)/this.a.s,this.Nm=
(this.a.A.N-this.a.zd.N)/this.a.s)};c.prototype.lz=function(){this.gg.current=[this.jb];this.ue.current=[!this.Bh&&this.Xd];this.ue.locked=!this.Xd;this.$b?(this.Ea.lower[0]="TRACK",this.Ea.current=[!this.ac&&this.$b],this.Ea.locked=!this.$b,this.Ea.C=["toggle track mode"]):(this.Ea.lower[0]="WAYPT",this.Ea.current=[!this.hc&&this.Gb],this.Ea.locked=!this.Gb,this.Ea.C=["toggle waypoint mode"]);this.Th.current=[!this.Va&&-1!==this.ia];this.Th.locked=-1===this.ia;this.Th.C=["loop at "+this.ia];this.Ed.current=
[-1!==this.ob];this.Ed.locked=-1===this.ob;this.Ed.C=["stop at "+this.ob]};c.prototype.Hy=function(a,b){if(this.a.s>=this.Tc.length){var c=this.a.j.Y(Float32,this.Tc.length+h.Ht,"View.elapsedTimes");c.set(this.Tc);this.Tc=c}this.elapsedTime+=a/b;this.Tc[this.a.s]=this.elapsedTime};c.prototype.yz=function(a){var b=a.gz,c=a.oj-a.Fg;if(a.Fg<a.oj)if(0<a.np)--a.np;else if(a.Xp)a.nh.innerHTML=a.fm,a.Fg=a.oj;else{c<b&&(b=c);var d=document.createElement("textarea");a.$s(d);if(b!==c)for(;"\n"!==a.fm[a.Fg+
b];)--b;d.innerHTML=a.fm.substr(a.Fg,b);a.Fg+=b;a.nh.appendChild(d)}else a.h.notification.S("Press Enter to complete copy",1E4,!0);a.qz(a);a.a.gn();a.qf&&a.D.yp(a);a.ab&&a.a.hn(a.le,a.Nb,!1,a.ra);a.U?Help.Ap(a):a.Eb.length&&Help.zp(a);a.h.Bg(!0)};c.prototype.zz=function(a){for(var b=a.mp,c=performance.now(),d,e=a.a.Bd.yx*LifeConstants.bm;a.a.s<b-1&&13>performance.now()-c;)d=b-1-a.a.s<=e?!1:!0,a.a.bj(!1,d,a.Ic),a.a.Cj();a.a.s===b-1?(a.a.bj(a.Le,!1,a.Ic),a.a.Cj(),a.Ji=!1,a.lp&&a.h.notification.clear(!0,
!1),a.u.locked=!1):a.u.locked=!0;a.rz(a,b);a.a.gn();a.qf&&a.D.yp(a);a.ab&&a.a.hn(a.le,a.Nb,!1,a.ra);a.U?Help.Ap(a):a.Eb.length&&Help.zp(a);a.h.Bg(!0)};c.prototype.av=function(a,b){b.Ji?b.zz(b):b.Sk?b.yz(b):b.Az(a,b)};c.prototype.Jr=function(a){a.a.s=0;a.Da=0;a.rg=0;a.elapsedTime=0;a.a.ca=a.a.width>>1;a.a.$=a.a.height>>1;a.a.ca&=a.a.width-1;a.a.$&=a.a.height-1;a.a.Fa=!0;a.$p=!0;a.Oi=-1};c.prototype.Uu=function(a,b,c){b&&(c.dg=a[0]);return[c.dg]};c.prototype.Qu=function(a,b,c){b&&(c.af=a[0]);return[c.af]};
c.prototype.Tu=function(a,b,c){b&&(c.a.Of=a[0]);return[c.a.Of]};c.prototype.Ru=function(a,b,c){b&&(c.Ba=a[0]);return[c.Ba]};c.prototype.Gr=function(a,b,c){b&&(c.ab=a[0]);return[c.ab]};c.prototype.Su=function(a,b,c){b&&(c.qf=a[0]);return[c.qf]};c.prototype.Hr=function(a,b,c){b&&(c.a.Z=a[0],c.a.Z?(c.a.ca-=c.a.$/2,c.Jd-=c.a.$/2,c.Td-=c.a.$/2):(c.a.ca+=c.a.$/2,c.Jd+=c.a.$/2,c.Td+=c.a.$/2),c.Lu(),c.vb.l=c.a.Z);return[c.a.Z]};c.prototype.Ok=function(a,b,c){b&&(c.h.ei=a[0]);c.h.Bg(!0);return[c.h.ei]};c.prototype.mk=
function(a,b,c){b&&(c.h.fi=a[0]);c.h.Bg(!0);return[c.h.fi]};c.prototype.wj=function(a,b,c){b&&(b=a[0]+.5|0,c.a.Yd!==b&&(c.a.dk(b,c.a.Hi,c),1<c.a.Hi&&(c.h.ni=c.a.Hi)));return[a[0],c.tr(c.a.Yd)]};c.prototype.pi=function(a,b,c){b&&(c.fa=a[0]+.5|0);return[c.fa,c.fa]};c.prototype.Ns=function(a){return(10>a.toFixed(1)?a.toFixed(1):a.toFixed(0))+"/s"};c.prototype.Og=function(a,b,c){b?(c.wd=h.ee+a[0]*a[0]*(h.Uh-h.ee),a=a[0]):a=Math.sqrt((c.wd-h.ee)/(h.Uh-h.ee));return[a,c.Ns(c.wd)]};c.prototype.lu=function(a){a.bk=
a.a.zoom;a.ra&&(a.bk=a.bk*a.Ac);a.Rq=a.a.angle;a.Td=a.a.ca;a.ij=a.a.$};c.prototype.Ay=function(a){a.ii=a.a.width/2-a.a.ca;a.ji=a.a.height/2-a.a.$;a.lj=a.a.zoom;a.hi=a.a.angle;a.Xg=a.a.width/2-a.Td;a.Si=a.a.height/2-a.ij;a.Ij=a.Rq;a.ra?a.Ih=a.bk/a.Ac:a.Ih=a.bk;a.pe=0};c.prototype.vy=function(a,b){a.a.zoom=a.Gs;a.ra&&(a.a.zoom=a.a.zoom/a.Ac);a.pb&&(a.pb.current=a.Pg([a.a.zoom,a.a.zoom],!1,a));a.a.angle=a.Dj;a.vb&&(a.vb.current=[a.Dj,a.Dj]);a.a.ca=a.Jd;a.a.$=a.Mi;b&&(b=a.a.Hi,a.a.Hi=1,a.Jc.current=a.wj([a.bn,
""],!0,a),a.a.Hi=b,a.Lb&&(a.a.Gi=0),b=Math.sqrt((a.vp-h.ee)/(h.Uh-h.ee)),a.Ja.current=a.Og([b,b],!0,a),a.fa=a.an,a.Xb.current=[a.fa,a.fa],a.a.J=a.Fj,a.oc.current=[a.Fj,a.Fj],b=Math.sqrt(a.up),a.Cb.current=a.uh([b,b],!0,a))};c.prototype.Vo=function(a){a?(this.a.ca+=this.a.Vb,this.a.$+=this.a.Mb,this.a.zoom*=this.a.yc):(this.Cr(),this.a.ca-=this.a.Vb,this.a.$-=this.a.Mb,this.a.zoom/=this.a.yc,this.Cr());this.a.zoom<h.Ra?this.a.zoom=h.Ra:this.a.zoom>h.yb&&(this.a.zoom=h.yb)};c.prototype.eu=function(a){a.elapsedTime=
0;a.Lb||(a.a.no(a.kf),a.a.Fa=!0,a.a.Oq())};c.prototype.reset=function(a){var b=!1,c=!1;if(0===a.elapsedTime||a.un)b=!0;a.Va||-1===a.ia||a.a.s>=a.ia&&(c=!0);c||b||(a.Gb&&(a.hc=!0),a.$b&&(a.ac=!0),-1!==a.ia&&(a.Va=!0),a.zm&&(a.jb=!1));a.elapsedTime=0;a.a.Vb=0;a.a.Mb=0;a.a.yc=1;if(b){a.Gb&&(a.hc=!1);a.$b&&(a.ac=!1);a.zm&&(a.jb=!0);if(!c||a.Gb||a.jb)a.vy(a,b),a.jb&&a.Hf(!0,!1);a.Va=!1}a.Lb||(a.a.no(a.kf),a.Da=a.a.s,a.rg=a.Da,a.a.Fa=!0);a.Ic||a.a.fu();a.a.Oq();a.Cn="";a.jq=-1;a.Qd=!1;a.D.yy();a.h.notification.clear(!1,
!1);a.Oi=-1};c.prototype.mu=function(a){a?(this.ja.icon[2]=this.ma.icon("pause"),this.ja.C[2]="pause"):(this.ja.icon[2]=this.ma.icon("stepforward"),this.ja.C[2]="next generation")};c.prototype.pf=function(a,b){b.Nh=a;b.U=1;b.am=!0;b.Qp=[];b.Rp=[];this.Hk=!0};c.prototype.hv=function(a){a.pf(h.gt,a)};c.prototype.nv=function(a){a.pf(h.Uq,a)};c.prototype.fv=function(a){a.pf(h.ql,a)};c.prototype.vv=function(a){a.pf(h.Au,a)};c.prototype.jz=function(a){a.pf(h.ss,a)};c.prototype.Kq=function(a){a.pf(h.Vr,
a)};c.prototype.iv=function(a){a.pf(h.At,a)};c.prototype.Vv=function(a,b,c){b&&(c.U=c.R[a][0],c.am=!1);return a};c.prototype.Ir=function(a,b,c){var d=a;if(b)switch(a){case h.Gt:c.Pb?(c.h.notification.S("Drawing not available",40,!0),d=h.Cl):(c.$d=!0,c.Xj.current=c.zr([!1],!0,c));break;case h.Cl:c.$d=!1}return d};c.prototype.Kr=function(a,b,c){var d=a;b&&(c.De=a,2>=c.a.g?b=c.a.mc?h.tu[c.De]:c.De?"Alive":"Dead":(a+=c.tf,0===a?(c.De=0,b="Dead"):(c.De=c.a.g-a,b=1==a?"Alive":"Dying "+String(a-1))),c.h.notification.S("Drawing with state "+
a+" ("+b+")",120,!0),c.Xj.current=c.zr([!1],!0,c));return d};c.prototype.$v=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.Wb.current=c.Kr(d,!0,c)),d+=1;return a};c.prototype.Cd=function(a,b,c){var d=a,e=c.Va,f=c.hc,n=c.Bh,p=c.jb,g=c.ac,l=40,t=0,r=0,m=0,x=0,y=0;if(b){switch(a){case h.oq:c.Bh=c.un||c.Xd&&0===c.a.s&&0===c.elapsedTime?!1:!0;c.Xd&&!c.Bh?(a=h.Vh,c.xc=!0,c.Hj=0===c.a.za?!0:!1):(a=h.hb,c.xc=!1);c.reset(c);b="Reset";!c.Va&&e&&-1!==c.ia&&(t=1);c.Va&&!e&&-1!==c.ia&&(t=-1);!p&&
c.jb&&(y=1);p&&!c.jb&&(y=-1);!c.hc&&f&&(r=1);c.hc&&!f&&(r=-1);!c.ac&&g&&(m=1);c.ac&&!g&&(m=-1);!c.Bh&&n&&c.Xd&&(x=1);c.Bh&&!n&&c.Xd&&(x=-1);if(0!==t||0!==r||0!==m||0!==x||0!==y){b="";0!==t&&(b+="Loop");if(0!==r||0!==m||0!==y)0!==t&&(b=0!==x?b+", ":b+" and "),b=0!==r?b+"Waypoints":0!==m?b+"Track":b+"AutoFit";if(0!==x){if(0!==t||0!==r||0!==m||0!==y)b+=" and ";b+="AutoStart"}b=0<t||0<r||0<m||0<x||0<y?b+" On":b+" Off";l=120}c.h.notification.S(b,l,!0);break;case h.Vh:c.ja.current!==h.Vh&&(c.xc=!0,c.Hj=
0===c.a.za?!0:!1,c.h.notification.S("Play",40,!0));break;case h.Ix:c.xc?(c.xc=!1,c.h.notification.S("Pause",40,!0)):0<c.a.s&&c.Ul(c.a.s-c.fa);a=h.hb;break;case h.hb:c.xc?(c.xc=!1,(c.a.s!==c.ob||c.kl)&&c.h.notification.S("Pause",40,!0)):(c.Yf=!0,c.Hj=0===c.a.za?!0:!1)}d=a;c.mu(c.xc)}return d};c.prototype.qm=function(a,b,c){b&&(c.Qd=!0,c.a.angle=a[0]);return[c.a.angle,c.a.angle]};c.prototype.rm=function(a,b,c){b?(c.Qd=!0,c.a.J=a[0]+.5|0,a=a[0]):a=c.a.J;return[a,c.a.J]};c.prototype.uh=function(a,b,c){return b?
(c.Qd=!0,c.a.nc=a[0]*a[0],[a[0],c.a.nc*h.Fh]):[Math.sqrt(c.a.nc),c.a.nc*h.Fh]};c.prototype.Qw=function(a,b,c,d){var e=this.De;-1===c&&-1===d?(this.Vj=this.Zt(),2<this.a.g&&(e=this.a.g-e),this.Vj=this.vo&&this.Vj===e?0:this.De):(this.En(c,d),c=this.yj,d=this.qk,this.En(a,b),a=this.yj,b=this.qk,this.Hz(c,d,a,b,this.Vj)&&this.a.$x());0<this.a.za&&(this.Oi=-1,this.a.Fa=!0)};c.prototype.yw=function(a,b,c,d){d.pl&&!c&&(d.ja.current=d.Cd(h.hb,!0,d))};c.prototype.Bv=function(a,b,c,d){d.Pu(a,b,c,d,!1)};c.prototype.Pu=
function(a,b,c,d,e){if(c){if(d.U||d.Ua||!d.$d||e){if(-1!==d.Yi)if(d.U)e=d.Qh-b,e/=h.fontSize,0<e?d.ro(d,e):0>e&&d.so(d,-e);else if(d.Ua)e=d.Qh-b,e/=h.fontSize,0<e?d.po(d,e):0>e&&d.qo(d,-e);else{c=(d.Yi-a)/d.a.ka;e=(d.Qh-b)/d.a.ka;var f=d.a.Z?0:-d.a.angle;if(!d.cc){var n=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);d.Qd=!0;d.a.ca+=c*f+e*-n;d.a.$+=c*n+e*f}}}else d.$d&&-1!==a&&-1!==b&&!d.Wj&&d.Qw(a,b,d.Yi,d.Qh);d.Yi=a;d.Qh=b}else e||!0!==d.Wj||-1===a||-1===b||(d.Vj=d.Zt(),a=d.tf,d.tf=0,d.Wb.current=
d.Kr(d.Vj,!0,d),d.tf=a),d.Yi=-1,d.Qh=-1};c.prototype.Xh=function(a,b){8>this.a.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8));this.Qh=this.Yi=0;this.Pu(a,b,!0,this,!0);this.Qh=this.Yi=-1};c.prototype.Fz=function(a){var b=h.dt;null===b&&(b=new Image,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAAoCAIAAADhf9zeAAAABnRSTlMAAAAAAABupgeRAAAFyklEQVR4nO2dW5LkKAxFnR2z4FpK7Zj5cDfhsNMgQG/u+arIcEmIh67BYB8HAAAAAAAAYJ2fnx/R33dGum5R5/vwn3UBAOCnlHL75fP5KFi28mtFKUWnGGqOANAEAgzSIpGy23Jr61efz+dzk0YWpZSwmQDUQz7+WBcAABFObZCz/5YNrfxasVu8ADACAQZpkdOGtipY+bVit3gB4AICDDIjoQ0UVbDya8Vu8QLAAgQYJIdXG+iqYOXXit3iBW+UUvxsUzhxWKST1y5uNQBGN7awbIS5GlmJOlPWOOukhsO14ahr5+aXC4nNQU786p9a+f39rX9LbM/W3PJNbyDbej7E0guvWa5cysWtL3koEonyDyu/N7iu7xpZLPacUxbmSk4Mh8tp145EOBuCM6kU1oePZj1LDIrF8NuJ4voLQ1kXiieUJ9fpL0E7LLQrpnVIoiSu7CzipBggMbfDTht2ubMG5uaFN91tX6Nft90ieYD6DHjP3tkmZZ24ishVYUAm6uANsyYpQ0n01OxKlNQx9iIOdNmTKK07isO4siaIN25NEDr20e6kH+zZu06/Dju/c27b7uhDVXRQd9vR1ZiaeRPWzjLMNUoljm0stojbBLSbBmeC3nCa3a9msOs8eMM+tj6yJvLYeb3QoHabxN6YfxXlbjLsTS95cd5xocGAl/rss+rB4WxIpkQ0z1CMe2vi1XdB79BxnYvTOiEChAYDFp6L/CH6PzsSA+pWk8oV221KSrwUC1zXHO1zwI3/bxtd4c2vyTlgq0rQhNhRWOqZYmd9CIVm4hmw+fnUN4ZSvM4N1tcJQ63zdgHM65m3ihitEfPkTSCl5f/pnWikoTVVXFmu6ZRjDkqQE365ru8aaZuVDl8Zejhc8U47ClrDVng4BzzUWAot+9aFRvuV1feAiYWkXLZY288a6w5b6YF8tbniq3Hx1T7LNYfE5whL8EVptRTP7ohrMuqcEnYt+lbhX6OgXJMDq3Z8m/7moEhucbq6kPYyxE10Aj1WkHoXNCYrbSQqx9uEQ47QhQcnTnL3iavCsNCegSkvPj9hf/ll++tkXL7YwccYAABKXPO18l3U1zQdfbnuRvl3rPlEZxY04UJafa8/Om9cKQHe81xdIEK3TujC78y14TQbMZnQfuU5r60y3L5slOe/W61IRVffQ0KAo0uvTvklXIzaDNpMQYsNKvU5paY7+u8RacjqdSrMFbKHMZhjSYNzE1agsLtQznKxuLAl0G6FEw+VNg2l8KEDJGIyO5k7ehSC7qRWIpvZpo4c6ntwnQNmX9Onuxi9vmtkcYElVvOfNAJ0dQ44Yt22ee55ntgFbX4+9Y2h1U6hLbVvQjuRrM3r+VlFo1HwVvKcAK8XQFR920FRbmXo13TKQaFjZZxRRywFW3EkXSE6dMPhilfNUQieMXJFjXPA1eyzJhk7leH3gD0MjbfR2oDFI+XHEMw/A47+rHeU3PE6D8158YB/njk6eqfysM9I2XvJsvJcmXkGHDRUFhifprDfsq1vbvR5F7lzf4uOtx5Vy5OjU3mIYihvrBc4k/oeowIcN05e1mVYIjEVi4+LSYMuFxe03SYQ88Zif/i68rxu1haqAIcOUgiFndL6uNLg9L3uGWD6kD2ASmZHP28kUN+DIsDRI5Qmnww70WB0PCAB+lVErnKbQ3pPWgKcI0IdRmVYQuQY28tcg9n73vr6/JwRK79qPPuJxFGQts2vfbXuUcqUrzcnX1PmiQSAyk2xGAWsbdnEr/n51ApXfpywI3EfcMO8nj3fhwEAwF+u6Zh9Kt8wbuX3if454ML3skNGUxI4/x4wCAS+hgQyIzFpoKzPW/m1Yrd4AWCB813QALhCbsnu1IbG61FN/FqxW7yGSN+RoKqVgQCDnEgn7rf5mZVfK3TihTAcUMeMQIBBWq5CxbgZyq1ffZ7SyBLv0yY0GKQEAgwSIpes25at/FqhViqf4QMAAAAAgHj8Dy7JYyBhass3AAAAAElFTkSuQmCC",
h.dt=b);this.ma=new IconManager(b,a);this.ma.add("play",40,40);this.ma.add("pause",40,40);this.ma.add("tostart",40,40);this.ma.add("menu",40,40);this.ma.add("stepback",40,40);this.ma.add("stepforward",40,40);this.ma.add("autofit",40,40);this.ma.add("fit",40,40);this.ma.add("grid",40,40);this.ma.add("shrink",40,40);this.ma.add("draw",40,40);this.ma.add("hexgrid",40,40);this.ma.add("lines",40,40);this.ma.add("pan",40,40);this.ma.add("pick",40,40);this.ma.add("states",40,40)};c.prototype.Lu=function(){this.Lh.icon=
this.a.Z?[this.ma.icon("hexgrid")]:[this.ma.icon("grid")]};c.prototype.bo=function(a,b){a.h.hasFocus&&(a.Ji||(b.wheelDelta?a.wheelDelta=b.wheelDelta/120:b.detail&&(a.wheelDelta=-b.detail/3),a.h.Bg(!0)),b.preventDefault())};c.prototype.Br=function(){var a=this.D.es(this.pe/this.yo),b=this.hi,c=this.Ij;this.a.ca=this.a.width/2-(this.ii+a*(this.Xg-this.ii));this.a.$=this.a.height/2-(this.ji+a*(this.Si-this.ji));this.a.zoom=this.lj*Math.pow(this.Ih/this.lj,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.a.angle=
(b+a*(c-b))%360;this.cn&&(this.a.nc=this.gr+a*(this.Cp-this.gr),this.Cb.current=this.uh([this.a.nc,this.a.nc],!1,this));this.Dn&&(this.a.J=this.hr+a*(this.Dp-this.hr),this.oc.current=this.rm([this.a.J,this.a.J],!1,this));this.pe+=1;this.pe>this.yo&&(this.pe=-1,this.a.zoom=this.Ih,this.a.angle=c,this.a.ca=this.a.width/2-this.Xg,this.a.$=this.a.height/2-this.Si,this.cn&&(this.a.nc=this.Cp,this.Cb.current=this.uh([this.a.nc,this.a.nc],!1,this)),this.Dn&&(this.a.J=this.Dp,this.oc.current=this.rm([this.a.J,
this.a.J],!1,this)));this.pb&&(this.pb.current=this.Pg([this.a.zoom,this.a.zoom],!1,this));this.vb&&(this.vb.current=this.qm([this.a.angle,this.a.angle],!1,this))};c.prototype.Wq=function(a,b){var c=a.D.mb[b];a.ii=a.a.width/2-a.a.ca;a.ji=a.a.height/2-a.a.$;a.lj=a.a.zoom;a.hi=a.a.angle;c.vf?a.Xg=c.x:a.Xg=a.ii;c.Pe?a.Si=c.y:a.Si=a.ji;c.rd?a.Ih=c.zoom:a.Ih=a.lj;c.Sg?a.Ij=c.angle:a.Ij=a.hi;a.a.Z&&(a.Xg+=a.a.$/2);a.cn=c.Vg;a.cn&&(a.gr=a.a.nc,a.Cp=c.depth/h.Fh);a.Dn=c.$g;a.Dn&&(a.hr=a.a.J,a.Dp=c.J);a.pe=
0;a.yo=c.wg;a.Br();c.hj&&a.eu(a);c.ge===WaypointConstants.play?a.ja.current=a.Cd(h.Vh,!0,a):c.ge===WaypointConstants.stop&&a.ja.current!==h.hb&&(a.ja.current=a.Cd(h.hb,!0,a));c.Me&&(a.Jc.current=a.wj([c.rb,""],!0,a));a.h.notification.S("POI "+(b+1),60,!0);""!==c.od?a.h.notification.S(c.od,180,!1):a.h.notification.clear(!1,!0);c.ki&&(a.ob=c.ob);c.Sh&&(a.ia=c.ia);c.Yg&&(a.wd=Math.sqrt((c.qb-h.ee)/(h.Uh-h.ee)),a.Ja.current=a.Og([a.wd,a.wd],!0,a));c.kh&&(a.fa=c.step,a.Xb.current=a.pi([a.fa,a.fa],!0,a));
c.em&&(a.a.s>c.Xa&&a.eu(a),a.a.s<c.Xa&&(a.Ji=!0,a.mp=c.Xa,a.lp=!1));c.Vi&&(a.a.wc=c.lc);c.wo&&(this.dg=c.gi)};c.prototype.yf=function(a,b,c){var d=b/a.a.yc;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.a.yc);a.cc||(a.ii=a.a.width/2-a.a.ca,a.ji=a.a.height/2-a.a.$,a.lj=a.a.zoom,a.hi=a.a.angle,a.Xg=a.ii,a.Si=a.ji,a.Ih=d,a.Ij=a.hi,a.pe=0)};c.prototype.ev=function(a){a.ab=!1;a.Kh.current=a.Gr([a.ab],!0,a)};c.prototype.pr=function(a){a.Eb.length?(a.Eb=[],a.Ua=0):f()};c.prototype.jv=function(a){a.Bb+=
1;a.Bb>=D.zc.length&&(a.Bb=0);a.jh(D.zc[a.Bb].pattern,!1)};c.prototype.kv=function(a){--a.Bb;0>a.Bb&&(a.Bb=D.zc.length-1);a.jh(D.zc[a.Bb].pattern,!1)};c.prototype.tv=function(a){a.nr();a.U&&(a.U=0);a.hf.current[0]=!1;a.h.Hg=!0};c.prototype.ov=function(a){a.am=!0};c.prototype.yv=function(a){a.pf(h.vh,a)};c.prototype.bv=function(a){a.Hf(!0,!0);a.ja.current===h.hb&&(a.Qd=!0)};c.prototype.Cu=function(a,b,c){b&&(c.a.wc=a[0]);return[c.a.wc]};c.prototype.Du=function(a,b,c){b&&(c.le=a[0]);return[c.le]};c.prototype.zn=
function(a,b,c){b&&(c.ek=a[0]);return[c.ek]};c.prototype.zr=function(a,b,c){b&&(c.Wj=a[0],c.Wj&&c.h.notification.S("Now click on a cell",180,!0));return[c.Wj]};c.prototype.Bu=function(a,b,c){b&&(c.jb=a[0],c.jb&&c.ja.current===h.hb&&c.Hf(!0,!0));return[c.jb]};c.prototype.wv=function(a,b,c){b&&-1!==c.ia&&(c.Va=!a[0],c.Gb?(c.hc=c.Va,c.h.notification.S("Loop and Waypoints "+(c.Va?"Off":"On"),40,!0)):c.$b?(c.ac=c.Va,c.h.notification.S("Loop and Track "+(c.Va?"Off":"On"),40,!0),c.Vo(c.ac)):c.h.notification.S("Loop "+
(c.Va?"Off":"On"),40,!0));return[c.Va]};c.prototype.xv=function(a,b,c){b&&(c.$b?(c.ac=!a[0],c.Vo(c.ac),-1!==c.ia?(c.Va=c.ac,c.h.notification.S("Loop and Track "+(c.Va?"Off":"On"),40,!0)):c.h.notification.S("Track "+(c.ac?"Off":"On"),40,!0)):c.Gb&&(c.hc=!a[0],-1!==c.ia?(c.Va=c.hc,c.h.notification.S("Loop and Waypoints "+(c.Va?"Off":"On"),40,!0)):c.h.notification.S("Waypoints "+(c.hc?"Off":"On"),40,!0)));return c.$b?[c.ac]:[c.hc]};c.prototype.lm=function(a,b,c){b&&(c.U=a[0],c.U?c.Eb.length&&c.pf(h.Uq,
c):(c.pf(h.vh,c),c.U=0));return[c.U]};c.prototype.Go=function(a,b,c){b&&(c.Le=a[0],c.Le&&(c.a.Fa?0===c.a.s?(c.a.za=c.a.mo.za,c.a.wb=c.a.mo.wb,c.a.kc=c.a.mo.kc):-1===c.a.g&&(--c.a.s,c.a.bj(!0,c.kf,c.Ic)):(c.a.za=0,c.a.wb=0,c.a.kc=0)));c.h.Bg(!0);return[c.Le]};c.prototype.qo=function(a,b){1<a.Ua&&(a.Ua-=b,1>a.Ua&&(a.Ua=1))};c.prototype.po=function(a,b){a.Ua<a.Eb.length-a.Ub+1&&(a.Ua+=b,a.Ua>a.Eb.length-a.Ub+1&&(a.Ua=a.Eb.length-a.Ub+1))};c.prototype.so=function(a,b){1<a.U&&(a.U-=b,1>a.U&&(a.U=1))};
c.prototype.ro=function(a,b){a.U<a.Tj-a.Ub&&(a.U+=b,a.U>a.Tj-a.Ub&&(a.U=a.Tj-a.Ub))};c.prototype.by=function(a){for(var b=a.R.length-1,c=!1;0<=b&&!c;)a.U<=a.R[b][0]?--b:c=!0;c&&(a.U=a.R[b][0])};c.prototype.Lx=function(a){for(var b=0,c=!1;b<a.R.length&&!c;)a.U>=a.R[b][0]?b+=1:c=!0;c&&(a.U=a.R[b][0])};c.prototype.Ul=function(a){this.kf?this.h.notification.S("Step back disabled",40,!0):this.h.Jq&&(this.h.Jq=!1,0>a&&(a=0),this.elapsedTime=this.Tc[a],this.rg=this.Da=a,this.a.Ul(a,this.Le,this.Ic),this.D.cz(this.elapsedTime),
this.Qd=!0,a!==this.a.s&&(this.Ji=!0,this.mp=a,this.a.no(!1),this.h.notification.S("Computing previous generations",1E4,!0),this.lp=!0))};c.prototype.$s=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.Iz="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};c.prototype.Im=function(a,b,c){var d="textarea";a.fm=b;a.Fg=0;a.oj=b.length;if(c){var e=performance.now()-a.Hm;e<
h.jw&&a.oj<h.hw?c=!1:a.Xp||(d="div")}a.nh=document.createElement(d);a.$s(a.nh);a.nh.contentEditable=!0;document.body.appendChild(a.nh);c?(a.np=h.kw,a.h.notification.S("Copying...",1E4,!0),a.Sk=!0,a.u.locked=!0):(a.nh.innerHTML=b,a.ts(a,c))};c.prototype.ts=function(a,b){a.nh.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(p){}document.body.removeChild(a.nh);a.fm="";a.ff.canvas.focus();a.h.notification.S("Copy complete",120,!0);b&&(a.Sk=!1,a.u.locked=!1);a.Hm=-1};c.prototype.wf=
function(a){var b=ColourManager.cd,c=Object.keys(b),d=a.red,e=a.green;a=a.blue;for(var f="",n=!1,g=null,h=0;h<c.length&&!n;)g=b[c[h]],g[1]===d&&g[2]===e&&g[3]===a?(n=!0,h=c.length):h+=1;n?f=g[0]:f=d+" "+e+" "+a;return f};c.prototype.Aj=function(a,b){return a.red===b.red&&a.green===b.green&&a.blue===b.blue};c.prototype.vs=function(a,b){var c="#C "+Keywords.jj+" ",d=String(-(a.a.width/2-a.a.ca-a.a.Vb|0)),e=String(-(a.a.height/2-a.a.$-a.a.Mb|0)),f=a.a.zoom,n=a.a.angle|0,g=a.a.Ha[a.a.Yd];0!==a.a.s&&(c+=
Keywords.dm+a.a.s+" ");c+=Keywords.Rc+" "+d+" "+Keywords.Sc+" "+e+" ";c+=Keywords.ic+" "+(f===(f|0)?String(f):String(f.toFixed(2)))+" ";c+=Keywords.Ah+" "+n+" ";c+=Keywords.ck+"\n";if(b){c+="#C "+Keywords.jj+" ";if(a.Bf){if(2<a.a.g){if(c+=Keywords.la+" "+Keywords.Ao+" "+a.wf(g.Ng),c+=" "+Keywords.la+" "+Keywords.zo+" "+a.wf(g.ye),a.Aj(g.xb.w,g.Ng)||(c+=" "+Keywords.la+" "+Keywords.Co+" "+a.wf(g.xb.w)),a.Aj(g.xb.v,g.xb.w)||(c+=" "+Keywords.la+" "+Keywords.Bo+" "+a.wf(g.xb.v)),g.Gj||(c+=" "+Keywords.la+
" "+Keywords.yu+" "+a.wf(g.Pa.w)),g.Gj||!a.Aj(g.Pa.v,g.Pa.w))c+=" "+Keywords.la+" "+Keywords.xu+" "+a.wf(g.Pa.v)}else c+=Keywords.la+" "+Keywords.Ao+" "+a.wf(g.La),c+=" "+Keywords.la+" "+Keywords.zo+" "+a.wf(g.va.v),a.Aj(g.va.v,g.va.w)||(c+=" "+Keywords.la+" "+Keywords.sr+" "+a.wf(g.va.w)),a.Aj(g.ta.w,g.La)||(c+=" "+Keywords.la+" "+Keywords.Co+" "+a.wf(g.ta.w)),a.Aj(g.ta.v,g.ta.w)||(c+=" "+Keywords.la+" "+Keywords.Bo+" "+a.wf(g.ta.v));c+=" "+Keywords.ck+"\n#C "+Keywords.jj+" "}c+=Keywords.oh+" "+
g.name+" ";a.ea!==a.In&&(c+=Keywords.wn+" "+a.ea+" ");c+=Keywords.nk+" "+a.F+" ";c+=Keywords.Mj+" "+a.B+" ";c+=Keywords.ck+"\n"}a.Im(a,c,!1)};c.prototype.op=function(a,b){a.Hm=performance.now();r.Ma?a.Im(a,D.zc[a.Bb].pattern,b):a.Im(a,g(a.element),b)};c.prototype.us=function(a,b){a.Hm=performance.now();a.Im(a,a.a.Rv(a,a.a,b),!0)};c.prototype.cy=function(a,b,c){var d=!0;if(a.zb)a.Vn||85!==b||(a.zb=!a.zb,a.u.l=a.zb,a.h.zb=a.zb);else{if(c.ctrlKey&&67!==b||c.metaKey)c.ctrlKey&&37<=b&&40>=b?37===b?b=33:
38===b?b=36:39===b?b=34:40===b&&(b=35):c.ctrlKey&&82===b||(b=-1);if(c.altKey&&!c.ctrlKey){if(49<=b&&57>=b)b-=49,0<=b&&b<a.D.mb.length&&(a.Zd=b,a.Wq(a,a.Zd));else switch(b){case 67:a.Lb||(a.Jc.current=a.wj([a.bn,""],!0,a),a.h.notification.S(a.tr(a.a.Yd)+" Theme",40,!0))}b=-2}switch(b){case 191:case 111:c.shiftKey?a.a.Jl!==a.a.Z&&(a.Wi.current=a.Hr([a.a.Jl],!0,a)):a.Wi.current=a.Hr([!a.a.Z],!0,a);a.h.notification.S("Hex Display "+(a.a.Z?"On":"Off"),40,!0);break;case 66:a.Pb||(a.ja.current===h.hb?0<
a.a.s&&a.Ul(a.a.s-1):a.ja.current=a.Cd(h.hb,!0,a));break;case 13:a.Pb||(a.ja.current=a.ja.current===h.Vh?a.Cd(h.hb,!0,a):a.Cd(h.Vh,!0,a));break;case 9:a.Pb||(a.xc?a.ja.current=a.Cd(h.hb,!0,a):c.shiftKey?0<a.a.s&&a.Ul(a.a.s-a.fa):a.Yf=!0);break;case 32:a.Pb||(a.xc?a.ja.current=a.Cd(h.hb,!0,a):(a.Yf=!0,a.br=!0));break;case 87:a.Gb?(a.hc=!a.hc,-1!==a.ia?(a.Va=a.hc,a.h.notification.S("Loop and Waypoints "+(a.hc?"Off":"On"),40,!0)):a.h.notification.S("Waypoints "+(a.hc?"Off":"On"),40,!0),a.hc?a.h.notification.clear(!1,
!1):a.D.fp(a.elapsedTime)||(a.D.Ww(a.a.s),a.elapsedTime=a.D.Js(a.a.s),a.elapsedTime=a.D.xs(a.a.width/2-a.a.ca,a.a.height/2-a.a.$,a.a.zoom,a.a.angle,a.a.J,a.a.nc*h.Fh,a.a.Yd,a.wd,a.fa,a.a.s,a.elapsedTime),a.Qd=!1)):a.$b?(a.ac=!a.ac,-1!==a.ia?(a.Va=a.ac,a.h.notification.S("Loop and Track "+(a.ac?"Off":"On"),40,!0)):a.h.notification.S("Track "+(a.ac?"Off":"On"),40,!0),a.Vo(a.ac)):-1!==a.ia&&(a.Va=!a.Va,a.h.notification.S("Loop "+(a.Va?"Off":"On"),40,!0));break;case 69:!a.Xb.locked&&a.fa<h.Rd&&(c.shiftKey?
a.fa=h.Rd:a.fa+=1,a.Xb.current=a.pi([a.fa,a.fa],!0,a));break;case 68:!a.Xb.locked&&a.fa>h.$i&&(c.shiftKey?a.fa=h.$i:--a.fa,a.Xb.current=a.pi([a.fa,a.fa],!0,a));break;case 90:c.shiftKey?(b=D.dz(),0===b?a.h.notification.S("No LifeViewers playing",100,!0):1<b&&a.h.notification.S("Paused all LifeViewers",100,!0)):(b=D.ez(a),0===b?a.h.notification.S("No other LifeViewers playing",100,!0):1<b?a.h.notification.S("Paused "+b+" other LifeViewers",100,!0):a.h.notification.S("Paused "+b+" other LifeViewer",
100,!0));break;case 88:c.shiftKey?(a.ah.current=a.Tu([!a.a.Of],!0,a),0<a.a.Nd&&(a.h.notification.S("Major Grid Lines "+(a.a.Of?"On":"Off"),40,!0),a.qs())):(a.a.wc=!a.a.wc,a.Lh.current=a.Cu([a.a.wc],!0,a),a.h.notification.S("Grid Lines "+(a.a.wc?"On":"Off"),40,!0));break;case 89:a.Ic?a.h.notification.S("Graph Disabled",40,!0):c.shiftKey?(a.le=!a.le,a.Qj.current=a.Du([a.le],!0,a),a.h.notification.S("Graph "+(a.le?"Lines":"Points"),40,!0)):(a.ab=!a.ab,a.Kh.current=a.Gr([a.ab],!0,a),a.h.notification.S("Population Graph "+
(a.ab?"On":"Off"),40,!0));break;case 75:c.shiftKey?(a.vs(a,!0),a.h.notification.S("Copied view to clipboard",180,!0)):(a.vs(a,!1),a.h.notification.S("Copied position to clipboard",180,!0));break;case 80:c.shiftKey?-1!==a.Nz&&(a.Va=!a.Va,a.Th.current=[a.Va],a.h.notification.S("Loop "+(a.Va?"Off":"On"),40,!0)):a.Lb||a.Cb.locked||(a.Cb.current=.99>=a.Cb.current[0]?a.uh([a.Cb.current[0]+.01,a.Cb.current[1]],!0,a):a.uh([1,a.Cb.current[1]],!0,a));break;case 76:c.shiftKey?0<a.D.Xn()&&(a.Ph.current=a.Su([!a.qf],
!0,a),a.h.notification.S("Annotations "+(a.qf?"On":"Off"),40,!0)):a.Lb||a.Cb.locked||(a.Cb.current=.01<=a.Cb.current[0]?a.uh([a.Cb.current[0]-.01,a.Cb.current[1]],!0,a):a.uh([0,a.Cb.current[1]],!0,a));break;case 81:!a.Lb&&!a.oc.locked&&a.oc.current[0]<h.Jn&&(a.oc.current=a.rm([a.a.J+1,a.oc.current[1]],!0,a));break;case 65:!a.Lb&&!a.oc.locked&&a.oc.current[0]>h.Qn&&(a.oc.current=a.rm([a.a.J-1,a.oc.current[1]],!0,a));break;case 82:c.shiftKey?D.ty():a.ja.current=a.Cd(h.oq,!0,a);break;case 83:c.shiftKey?
a.a.mc&&(a.Dg=!a.Dg,a.h.notification.S("AutoFit State 1 Mode "+(a.Dg?"On":"Off"),40,!0)):(a.hk.current=a.Uu([!a.dg],!0,a),a.h.notification.S("Stars "+(a.dg?"On":"Off"),40,!0));break;case 78:a.ph&&(a.ra?a.mr():(a.nr(),a.U&&(a.U=0)));break;case 86:c.shiftKey?(a.lu(a),a.h.notification.S("Saved camera position",100,!0)):a.cc||(a.Ay(a),a.h.notification.S("Restored camera position",100,!0),a.ja.current===h.hb&&(a.Qd=!0));break;case 221:a.cc||(c.shiftKey?a.zj(a.pb.current[0],Math.log(a.a.zoom*a.a.yc*2/h.Ra)/
Math.log(h.yb/h.Ra)-a.pb.current[0]):a.zj(a.pb.current[0],.01));break;case 219:a.cc||(c.shiftKey?a.zj(a.pb.current[0],Math.log(a.a.zoom*a.a.yc/2/h.Ra)/Math.log(h.yb/h.Ra)-a.pb.current[0]):a.zj(a.pb.current[0],-.01));break;case 53:case 101:a.vb.locked||(a.a.angle=0,a.vb.current=[a.a.angle,a.a.angle]);break;case 49:case 97:c.shiftKey?(a.yf(a,a.a.zoom*a.a.yc,!0),a.h.notification.S("Integer Zoom",40,!0)):a.yf(a,1,!1);break;case 50:case 98:c.shiftKey?a.yf(a,.5,!1):a.yf(a,2,!1);break;case 51:case 99:a.yf(a,
32,!1);break;case 52:case 100:c.shiftKey?a.yf(a,.25,!1):a.yf(a,4,!1);break;case 54:case 102:c.shiftKey?a.yf(a,.0625,!1):a.yf(a,16,!1);break;case 55:a.Ic?a.h.notification.S("Graph Disabled",40,!0):(0<a.Nb&&(a.Nb-=.05,0>a.Nb&&(a.Nb=0)),this.Hb.current=this.Bi([a.Nb,a.Nb],!1,a));break;case 56:case 104:c.shiftKey?a.yf(a,.125,!1):a.yf(a,8,!1);break;case 57:a.Ic?a.h.notification.S("Graph Disabled",40,!0):(1>a.Nb&&(a.Nb+=.05,1<a.Nb&&(a.Nb=1)),this.Hb.current=this.Bi([a.Nb,a.Nb],!1,a));break;case 48:case 96:a.fa=
1;a.Xb.current=a.pi([a.fa,a.fa],!0,a);a.Ja.current=a.Og([1,a.Ja.current[1]],!0,a);break;case 189:case 109:a.Pb||(a.fa>h.$i?(c.shiftKey?a.fa=h.$i:--a.fa,a.Xb.current=a.pi([a.fa,a.fa],!0,a)):a.Ja&&(a.Ja.current=.01<=a.Ja.current[0]&&!c.shiftKey?a.Og([a.Ja.current[0]-.01,a.Ja.current[1]],!0,a):a.Og([0,a.Ja.current[1]],!0,a)));break;case 187:case 107:!a.Pb&&a.Ja&&(.99>=a.Ja.current[0]&&!c.shiftKey?a.Ja.current=a.Og([a.Ja.current[0]+.01,a.Ja.current[1]],!0,a):.99>=a.Ja.current[0]?a.Ja.current=a.Og([1,
a.Ja.current[1]],!0,a):(a.Ja.current=a.Og([1,a.Ja.current[1]],!0,a),a.fa<h.Rd&&(c.shiftKey?a.fa=h.Rd:a.fa+=1,a.Xb.current=a.pi([a.fa,a.fa],!0,a))));break;case 188:a.vb.locked||(b=a.vb.current[0],b=c.shiftKey?b-90:b-1,0>b&&(b+=360),a.vb.current=a.qm([b,b],!0,a));break;case 190:a.vb.locked||(b=a.vb.current[0],b=c.shiftKey?b+90:b+1,360<=b&&(b-=360),a.vb.current=a.qm([b,b],!0,a));break;case 74:a.D.mb.length?a.cc||(c.shiftKey?(--a.Zd,0>a.Zd&&(a.Zd=a.D.mb.length-1),a.Wq(a,a.Zd)):(a.Zd+=1,a.Zd>=a.D.mb.length&&
(a.Zd=0),a.Wq(a,a.Zd))):a.h.notification.S("No POIs defined",80,!0);break;case 84:c.shiftKey?a.h.ei=!a.h.ei:a.Kj.current=a.mk([!a.h.fi],!0,a);break;case 85:a.Vn||(a.zb=!a.zb,a.u.l=a.zb,a.h.zb=a.zb);break;case 71:a.Pb||(c.shiftKey?a.Jh&&(a.nn=!a.nn):(a.Go([!a.Le],!0,a),a.Ld&&(a.Ld.current=[a.Le],a.h.Hg=!0)));break;case 70:c.shiftKey?a.gg.locked||(a.jb=!a.jb,a.gg.current=a.Bu([a.jb],!0,a),a.h.notification.S("AutoFit "+(a.jb?"On":"Off"),40,!0)):a.Ti.locked||(a.Hf(!0,!0),a.h.notification.S("Fit Zoom",
80,!0),a.ja.current===h.hb&&(a.Qd=!0));break;case 79:a.Xl=c.shiftKey?2:1;break;case 37:c.shiftKey?a.Xh(a.a.zoom,a.a.zoom):a.Xh(a.a.zoom,0);break;case 38:a.U?a.so(a,1):a.Ua?a.qo(a,1):c.shiftKey?a.Xh(-a.a.zoom,a.a.zoom):a.Xh(0,a.a.zoom);break;case 39:c.shiftKey?a.Xh(-a.a.zoom,-a.a.zoom):a.Xh(-a.a.zoom,0);break;case 40:a.U?a.ro(a,1):a.Ua?a.po(a,1):c.shiftKey?a.Xh(a.a.zoom,-a.a.zoom):a.Xh(0,-a.a.zoom);break;case 77:a.hf&&!a.hf.l&&(a.hf.current[0]=!a.hf.current[0],a.h.Hg=!0);break;case 67:c.ctrlKey?a.Yh||
(c.shiftKey?a.op(a,!0):a.Pb?a.op(a,!0):c.altKey?a.us(a,!0):a.us(a,!1)):a.Lb||!a.Jc||a.Jc.locked||(c.shiftKey?(b=a.Jc.current[0]+.5|0,--b,0>b&&(a.Bf?b=a.a.Sd:b=a.a.Sd-1)):(b=a.Jc.current[0]+.5|0,b+=1,a.Bf?b>=a.a.Sd+1&&(b=0):b>=a.a.Sd&&(b=0)),a.Jc.current=a.wj([b,""],!0,a),a.h.notification.S(a.tr(a.a.Yd)+" Theme",40,!0));break;case 72:c.shiftKey?(a.Oj.current=a.Qu([!a.af],!0,a),a.h.notification.S("AutoFit History Mode "+(a.af?"On":"Off"),40,!0)):(a.Eb.length?a.U=a.U?0:1:a.U?a.U=0:a.ra||(a.U=1),a.Mh.current=
a.lm([a.U],!0,a),a.h.Hg=!0);break;case 73:c.shiftKey?a.Pj.current=a.Ru([!a.Ba],!0,a):(a.U?a.Nh===h.ql?a.U=0:a.pf(h.ql,a):a.ra||a.pf(h.ql,a),a.Mh.current=a.lm([a.U],!0,a),a.h.Hg=!0);break;case 27:a.be?a.Eb.length?(a.Eb=[],a.Ua=0):f():a.U?a.U=0:a.Eb.length?(a.Eb=[],a.Ua=0):a.xc&&(a.ja.current=a.Cd(h.hb,!0,a));a.Mh.current=a.lm([a.U],!0,a);a.h.Hg=!0;break;case 33:a.U?c.shiftKey?a.by(a):a.so(a,a.Ub):a.Ua?a.qo(a,a.Ub):r.Ma&&(--a.Bb,0>a.Bb&&(a.Bb=D.zc.length-1),a.jh(D.zc[a.Bb].pattern,!1));break;case 34:a.U?
c.shiftKey?a.Lx(a):a.ro(a,a.Ub):a.Ua?a.po(a,a.Ub):r.Ma&&(a.Bb+=1,a.Bb>=D.zc.length&&(a.Bb=0),a.jh(D.zc[a.Bb].pattern,!1));break;case 36:a.U?a.U=1:a.Ua?a.Ua=1:r.Ma&&(a.Bb=0,a.jh(D.zc[a.Bb].pattern,!1));break;case 35:a.U?a.U=a.Tj-a.Ub:a.Ua?a.Ua=a.Eb.length-a.Ub:r.Ma&&(a.Bb=D.zc.length-1,a.jh(D.zc[a.Bb].pattern,!1));break;case 112:c.shiftKey?(a.vo=!a.vo,a.h.notification.S("Smart Drawing "+(a.vo?"On":"Off"),40,!0)):a.Pb?a.h.notification.S("Drawing not available",40,!0):(a.$d=!a.$d,a.aj.current=a.Ir(a.$d?
h.Gt:h.Cl,!0,a),a.h.notification.S((a.$d?"Draw":"Pan")+" Mode",40,!0));break;default:-1===b&&(d=!1)}}return d};c.prototype.dy=function(a,b,c){var d=!0;if(c.ctrlKey&&82===b)return!0;switch(b){case 13:a.Fg===a.oj&&a.ts(a,!0);break;case 84:a.mk([!a.h.fi],!0,a);break;default:d=!1}return d};c.prototype.ey=function(a,b,c){var d=!0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 84:a.mk([!a.h.fi],!0,a);break;default:d=!1}return d};c.prototype.gv=function(a,b){var c=b.charCode||b.keyCode;if(a.Ji?a.ey(a,
c,b):a.Sk?a.dy(a,c,b):a.cy(a,c,b))a.h.Bg(!0),b.preventDefault()};c.prototype.zv=function(){this.B<h.eh?(this.Xe.setPosition(Menu.kd,10,50),this.Ef.setPosition(Menu.Tb,0,50),this.Ue.setPosition(Menu.kb,-160,50),this.Gf.setPosition(Menu.kd,10,100),this.Te.setPosition(Menu.Tb,0,100),this.Se.setPosition(Menu.kb,-160,100),this.Df.setPosition(Menu.Tb,0,150)):(this.Xe.setPosition(Menu.Tb,0,50),this.Ef.setPosition(Menu.Tb,0,100),this.Ue.setPosition(Menu.Tb,0,150),this.Gf.setPosition(Menu.Tb,0,200),this.Te.setPosition(Menu.Tb,
0,250),this.Se.setPosition(Menu.Tb,0,300),this.Df.setPosition(Menu.Tb,0,350))};c.prototype.qv=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",e="grey",f="white";var g=this.f[h.bl];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.ma.jo=!0,this.ma.Nq=this.a.Uf?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255):(this.ma.jo=!0,g=16777215,this.ma.Nq=this.a.Uf?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);g=this.f[h.$k];
-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.uj=g;g=this.f[h.cl];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.el];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.dl];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.al];-1!==g&&(f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.h.Yl(a,b,c,d,e,f)};c.prototype.Gz=function(){this.u=this.h.rw(this.av,this.Jr,this);this.u.xp=this.Bv;this.u.Mr=this.yw;this.Pf=this.u.tb(Menu.kd,
0,40,16,20,"X");this.Pf.font=h.oe;this.Pf.gm=Menu.Nc;this.Qf=this.u.tb(Menu.kd,70,40,16,20,"Y");this.Qf.font=h.oe;this.Qf.gm=Menu.Nc;this.If=this.u.tb(Menu.kd,140,40,16,20,"A");this.If.font=h.oe;this.If.gm=Menu.Nc;this.Zc=this.u.tb(Menu.kd,16,40,54,20,"");this.Zc.font=h.oe;this.Zc.textAlign=Menu.right;this.Zc.C="camera X position";this.$c=this.u.tb(Menu.kd,86,40,54,20,"");this.$c.font=h.oe;this.$c.textAlign=Menu.right;this.$c.C="camera Y position";this.Uc=this.u.tb(Menu.kd,156,40,40,20,"");this.Uc.font=
h.oe;this.Uc.textAlign=Menu.right;this.Uc.C="camera angle";this.zk=this.u.tb(Menu.kd,196,40,4,20,"");this.si=this.u.tb(Menu.kb,-280,40,20,20,"E");this.si.font=h.oe;this.xj=this.u.tb(Menu.kb,-210,40,20,20,"S");this.xj.font=h.oe;this.ui=this.u.tb(Menu.kb,-140,40,20,20,"W");this.ui.font=h.oe;this.ti=this.u.tb(Menu.kb,-70,40,20,20,"N");this.ti.font=h.oe;this.Vc=this.u.tb(Menu.kb,-260,40,50,20,"");this.Vc.font=h.oe;this.Vc.textAlign=Menu.right;this.Vc.C="bounding box east edge velocity";this.Xc=this.u.tb(Menu.kb,
-190,40,50,20,"");this.Xc.font=h.oe;this.Xc.textAlign=Menu.right;this.Xc.C="bounding box south edge velocity";this.Yc=this.u.tb(Menu.kb,-120,40,50,20,"");this.Yc.font=h.oe;this.Yc.textAlign=Menu.right;this.Yc.C="bounding box west edge velocity";this.Wc=this.u.tb(Menu.kb,-50,40,50,20,"");this.Wc.font=h.oe;this.Wc.textAlign=Menu.right;this.Wc.C="bounding box north edge velocity";this.ue=this.u.ub(null,Menu.kb,-170,0,40,20,["START"],[!1],Menu.Ma);this.ue.font=h.uo;this.ue.C=["autostart indicator"];this.Ed=
this.u.ub(null,Menu.kb,-170,20,40,20,["STOP"],[!1],Menu.Ma);this.Ed.font=h.uo;this.Ed.C=["stop indicator"];this.Ea=this.u.ub(this.xv,Menu.kb,-130,0,40,20,["WAYPT"],[!1],Menu.Ma);this.Ea.font=h.uo;this.Ea.C=["toggle waypoint mode"];this.Th=this.u.ub(this.wv,Menu.kb,-130,20,40,20,["LOOP"],[!1],Menu.Ma);this.Th.font=h.uo;this.Th.C=["toggle loop mode"];this.aj=this.u.ub(this.Ir,Menu.kd,90,0,80,40,["",""],h.Cl,Menu.fk);this.aj.icon=[this.ma.icon("draw"),this.ma.icon("pan")];this.aj.C=["draw","pan"];this.Ya=
this.u.ub(this.Vv,Menu.kb,-80,100,80,60,["1","2"],0,Menu.fk);this.Ya.orientation=Menu.vertical;this.Ya.C=["",""];this.Ya.font="14px Arial";this.Mh=this.u.ub(this.lm,Menu.kb,-40,0,40,40,["Help"],[!1],Menu.Ma);this.Mh.C=["toggle help display"];this.Mh.font="16px Arial";this.Ai=this.u.Gd(this.yv,Menu.kb,-40,50,40,["^"]);this.Ai.C=["show help topics"];this.vi=this.u.Gd(this.ov,Menu.kb,-40,100,40,["<"]);this.vi.C=["show help sections"];this.Xe=this.u.Gd(this.hv,Menu.Tb,0,50,150,["Keys"]);this.Xe.C=["show keyboard shortcuts"];
this.Ef=this.u.Gd(this.nv,Menu.Tb,0,100,150,["Scripts"]);this.Ef.C=["show script commands"];this.Ue=this.u.Gd(this.fv,Menu.Tb,0,150,150,["Info"]);this.Ue.C=["show pattern and engine information"];this.Gf=this.u.Gd(this.vv,Menu.Tb,0,200,150,["Themes"]);this.Gf.C=["show colour Themes"];this.Te=this.u.Gd(this.jz,Menu.Tb,0,250,150,["Colours"]);this.Te.C=["show colour names"];this.Se=this.u.Gd(this.Kq,Menu.Tb,0,300,150,["Aliases"]);this.Se.C=["show rule aliases"];this.Df=this.u.Gd(this.iv,Menu.Tb,0,350,
150,["Memory"]);this.Df.C=["show memory usage"];this.gg=this.u.ub(this.Bu,Menu.kd,0,0,40,40,["Auto"],[!1],Menu.Ma);this.gg.icon=[this.ma.icon("autofit")];this.gg.C=["toggle autofit"];this.gg.font="16px Arial";this.Ti=this.u.Gd(this.bv,Menu.kd,45,0,40,"");this.Ti.icon=this.ma.icon("fit");this.Ti.C="fit pattern to display";this.Lh=this.u.ub(this.Cu,Menu.kb,-85,0,40,40,["Grid"],[!1],Menu.Ma);this.Lh.icon=[this.ma.icon("grid")];this.Lh.C=["toggle grid lines"];this.Lh.font="16px Arial";this.me=this.u.Hv();
this.me.locked=!0;this.xe=this.u.tb(Menu.Cg,0,-100,70,30,"Time");this.xe.textAlign=Menu.left;this.xe.font=h.Eg;this.xe.C="elapsed time";this.Ri=this.u.tb(Menu.Cg,70,-100,70,30,"");this.Ri.textAlign=Menu.right;this.Ri.font=h.Eg;this.Ri.C="elapsed time";this.sc=this.u.tb(Menu.Cg,0,-70,140,30,"");this.sc.textAlign=Menu.left;this.sc.font=h.Eg;this.sc.C="cell state at cursor position";this.Ld=this.u.ub(this.Go,Menu.Cg,0,-40,100,40,[""],[this.Le],Menu.Ma);this.Ld.C=["toggle generation statistics"];this.rc=
this.u.tb(Menu.Cg,0,-40,this.F-40,40,"");this.rc.textAlign=Menu.left;this.rc.l=!0;this.we=this.u.tb(Menu.Ud,-140,-130,70,30,"Alive");this.we.textAlign=Menu.left;this.we.font=h.Eg;this.we.C="current population";this.$h=this.u.tb(Menu.Ud,-70,-130,70,30,"");this.$h.textAlign=Menu.right;this.$h.font=h.Eg;this.$h.C="alive";this.sb=this.u.tb(Menu.Ud,-140,-100,70,30,"Births");this.sb.textAlign=Menu.left;this.sb.font=h.Eg;this.sb.C="cells born this generation";this.hg=this.u.tb(Menu.Ud,-70,-100,70,30,"");
this.hg.textAlign=Menu.right;this.hg.font=h.Eg;this.hg.C="births";this.ve=this.u.tb(Menu.Ud,-140,-70,70,30,"Deaths");this.ve.textAlign=Menu.left;this.ve.font=h.Eg;this.ve.C="cells died this generation";this.Eh=this.u.tb(Menu.Ud,-70,-70,70,30,"");this.Eh.textAlign=Menu.right;this.Eh.font=h.Eg;this.Eh.C="deaths";this.Ec=this.u.tb(Menu.Cg,0,-130,140,30,this.ug);this.Ec.font=h.Eg;this.pb=this.u.Qg(this.Pg,Menu.Tb,0,0,h.Ko,40,0,1,.1,"Zoom ","",1);this.pb.C="camera zoom";this.oc=this.u.Qg(this.rm,Menu.Wu,
30,0,40,292,h.Jn,h.Qn,1,"Layers ","",0);this.oc.C="number of layers";this.Cb=this.u.Qg(this.uh,Menu.Is,-70,0,40,292,1,0,.1,"Depth ","",2);this.Cb.C="depth between layers";this.vb=this.u.Qg(this.qm,Menu.Tb,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.vb.C="camera angle";this.Ag=this.u.Gd(this.tv,Menu.Ud,-40,-90,40,"");this.Ag.icon=this.ma.icon("shrink");this.Ag.C="shrink to thumbnail";this.Wi=this.u.ub(this.Hr,Menu.kd,80,100,80,40,["Hex"],[this.a.Z],Menu.Ma);this.Wi.C=["toggle hex display"];this.Ph=
this.u.ub(this.Su,Menu.Tb,0,160,80,40,["Labels"],[this.qf],Menu.Ma);this.Ph.C=["toggle labels"];this.Kh=this.u.ub(this.Gr,Menu.kb,-160,100,80,40,["Graph"],[this.ab],Menu.Ma);this.Kh.C=["toggle graph display"];this.Pj=this.u.ub(this.Ru,Menu.Tb,0,100,80,40,["Info"],[this.Ba],Menu.Ma);this.Pj.C=["toggle InfoBar"];this.Oj=this.u.ub(this.Qu,Menu.kd,80,160,80,40,["HistFit"],[this.af],Menu.Ma);this.Oj.C=["toggle AutoFit History"];this.ah=this.u.ub(this.Tu,Menu.kb,-160,160,80,40,["Major"],[this.a.Of],Menu.Ma);
this.ah.C=["toggle major grid lines"];this.hk=this.u.ub(this.Uu,Menu.Ud,-160,-140,80,40,["Stars"],[this.dg],Menu.Ma);this.hk.C=["toggle stars display"];this.Fb=this.u.Gd(this.pr,Menu.Ud,-40,-90,40,"X");this.Fb.C="close window";this.Kj=this.u.ub(this.mk,Menu.Cg,80,-140,80,40,["Timing"],[this.h.fi],Menu.Ma);this.Kj.C=["toggle timing display"];this.th=this.u.ub(this.Ok,Menu.cr,0,-140,80,40,["Details"],[this.h.ei],Menu.Ma);this.th.C=["toggle timing details"];this.zg=this.u.Gd(this.kv,Menu.Cg,80,-200,
80,"Prev");this.zg.C="go to previous universe";this.yg=this.u.Gd(this.jv,Menu.Ud,-160,-200,80,"Next");this.yg.C="go to next universe";this.Hb=this.u.Qg(this.Bi,Menu.Tb,0,0,132,40,0,1,this.Nb,"Opac ","%",0);this.Hb.C="graph opacity";this.Qj=this.u.ub(this.Du,Menu.kb,-170,0,40,40,[""],[!1],Menu.Ma);this.Qj.icon=[this.ma.icon("lines")];this.Qj.C=["toggle graph lines/points"];this.yk=this.u.Gd(this.ev,Menu.kb,-130,0,40,"X");this.yk.C="close graph";this.Xj=this.u.ub(this.zr,Menu.kd,0,40,40,40,[""],[this.Wj],
Menu.Ma);this.Xj.icon=[this.ma.icon("pick")];this.Xj.C=["pick state"];this.lh=this.u.ub(this.zn,Menu.kd,45,40,40,40,[""],[this.ek],Menu.Ma);this.lh.icon=[this.ma.icon("states")];this.lh.C=["toggle states"];this.hf=this.u.ub(null,Menu.Ud,-40,-40,40,40,[""],[!1],Menu.Ma);this.hf.icon=[this.ma.icon("menu")];this.hf.C=["toggle navigation menu"];this.Jc=this.u.Qg(this.wj,Menu.cr,0,-90,390,40,0,this.a.Sd-1,1,""," Theme",-1);this.Jc.C="colour theme";this.Ja=this.u.Qg(this.Og,Menu.Ud,-375,-40,80,40,0,1,0,
"","",-1);this.Ja.C="steps per second";this.Xb=this.u.Qg(this.pi,Menu.Ud,-290,-40,80,40,h.$i,h.Rd,1,"x","",0);this.Xb.C="generations per step";this.ja=this.u.ub(this.Cd,Menu.Ud,-205,-40,160,40,["","","",""],h.hb,Menu.fk);this.ja.icon=[this.ma.icon("tostart"),this.ma.icon("stepback"),this.ma.icon("pause"),this.ma.icon("play")];this.ja.C=["reset","previous generation","pause","play"];this.Wb=this.u.ub(this.Kr,Menu.kb,-280,40,280,20,"0123456".split(""),this.De,Menu.fk);this.Wb.C="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
this.Wb.font="14px Arial";this.i=this.u.ub(this.$v,Menu.kb,-280,60,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ma);this.i.C="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.i.Fc=1;this.xi=this.u.Qg(this.$n,Menu.kd,90,40,105,40,0,1,0,"","",-1);this.xi.C="select drawing states range";this.hf.Uo([this.oc,this.Cb,this.vb,this.Jc,this.Ag,this.Fb,this.Wi,this.Ph,this.Kh,this.Kj,this.th,this.Pj,this.hk,this.Oj,this.ah,this.zg,this.yg]);this.Ld.Uo([this.we,this.$h,this.sb,this.hg,
this.ve,this.Eh,this.xe,this.Ri,this.Ec]);this.Mh.Uo([this.Ya,this.Ai,this.vi])};c.prototype.Mq=function(a){var b=this,c=0,d=0;this.G=a;this.G.getContext&&(c=this.G.width,d=this.G.height,c!==this.og&&r.xl&&(c=this.og),c<h.jd&&(c=h.jd),d<h.Sj&&(d=h.Sj),c&=-8,this.G.width!==c&&(this.G.width=c),this.G.height!==d&&(this.G.height=d),this.ff=this.G.getContext("2d",{alpha:!1}),this.ff.globalAlpha=1,this.ff.fillStyle="black",this.ff.fillRect(0,0,this.G.width,this.G.height),this.ej=document.createElement("canvas"),
this.ej.width=this.G.width,this.ej.height=this.G.height,this.ld=this.ej.getContext("2d",{alpha:!1}),this.F=this.G.width,this.B=this.G.height,this.a=new Life(this.ld,this.F,this.B,512,512),this.a.kx(this.ld,this.F,this.B),this.Tc=this.a.j.Y(Float32,h.Ht,"View.elapsedTimes"),this.ih=new Stars(h.Yn,this.a.j),this.ld.textAlign="left",this.ld.textBaseline="middle",this.Fz(this.ld),this.h=new MenuManager(this.ff,this.ld,"24px Arial",this.ma,this,this.dv),this.h.fi=!1,this.a.ow(),this.Gz(),this.Dk=this.ja.x,
this.xk=this.Ja.x,this.Gk=this.Xb.x,registerEvent(this.G,"DOMMouseScroll",function(a){b.bo(b,a)},!1),registerEvent(this.G,"mousewheel",function(a){b.bo(b,a)},!1),this.h.notification.enabled=!0,this.h.Cv(this.u),registerEvent(this.G,"keydown",function(a){b.gv(b,a)},!1))};c.prototype.tr=function(a){var b=this.a.Ha,c="";a|=0;a<b.length&&(c=b[a].name);return c};c.prototype.uv=function(a){var b=!1,c=this.a.Ha,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};
c.prototype.Ak=function(a){switch(a){case Keywords.qr:case Keywords.Ep:case Keywords.Zq:case Keywords.ar:case Keywords.Gp:case Keywords.$q:case Keywords.vq:case Keywords.Ee:case Keywords.xf:case Keywords.Sp:case Keywords.dr:case Keywords.Lq:case Keywords.wp:case Keywords.eo:case Keywords.lk:case Keywords.Dq:case Keywords.fo:case Keywords.Bq:case Keywords.Eq:case Keywords.Fq:case Keywords.Cq:case Keywords.Gq:case Keywords.Vt:case Keywords.Mk:case Keywords.Yo:case Keywords.$o:case Keywords.ap:case Keywords.Zo:case Keywords.bp:case Keywords.cp:case Keywords.sl:case Keywords.aq:case Keywords.cq:case Keywords.eq:case Keywords.bq:case Keywords.fq:case Keywords.gq:case Keywords.rq:case Keywords.uq:case Keywords.tq:case Keywords.Lz:case Keywords.om:case Keywords.Op:case Keywords.Nl:case Keywords.$j:case Keywords.Zj:case Keywords.co:case Keywords.Ol:case Keywords.Qa:case Keywords.ze:case Keywords.Ga:case Keywords.ir:case Keywords.tj:case Keywords.nm:case Keywords.on:case Keywords.Wn:case Keywords.Jp:case Keywords.Kp:case Keywords.cm:case Keywords.lq:case Keywords.Am:case Keywords.Up:case Keywords.wn:case Keywords.dm:case Keywords.nj:case Keywords.zq:case Keywords.nl:case Keywords.ml:case Keywords.kr:case Keywords.lr:case Keywords.la:case Keywords.jp:case Keywords.Rc:case Keywords.Sc:case Keywords.Ho:case Keywords.Io:case Keywords.ic:case Keywords.Wo:case Keywords.ft:case Keywords.Vf:case Keywords.sm:case Keywords.qq:case Keywords.pq:case Keywords.yr:case Keywords.wr:case Keywords.ur:case Keywords.xr:case Keywords.Bm:case Keywords.jj:case Keywords.ck:case Keywords.Ah:case Keywords.oh:case Keywords.Ui:case Keywords.eg:case Keywords.Zi:case Keywords.Ni:case Keywords.nk:case Keywords.Mj:case Keywords.Ql:case Keywords.Pl:a=
!0;break;default:a=!1}return a};c.prototype.ud=function(a,b,c,d,e){var f=a.qa();""===f||this.Ak(f)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+f,d+" must be "+e],a.W())};c.prototype.m=function(a,b,c,d){var e=!0,f=0,g=0,p=0,k=a.W();if(a.I()){f=a.H()|0;if(0>f||255<f)b[b.length]=[d+" "+k+" "+f,"RED out of range"];if(a.I()){g=a.H();if(0>g||255<g)b[b.length]=[d+" "+k+" "+f+" "+g,"GREEN out of range"];a.I()?(p=a.H(),0>p||255<p?b[b.length]=[d+" "+k+" "+f+" "+g+" "+p,"BLUE out of range"]:e=!1):this.ud(a,
b,d+" "+k+" "+f+" "+g,"BLUE","numeric")}else this.ud(a,b,d+" "+k+" "+f,"GREEN","numeric")}else{var n=a.qa();var l=ColourManager.cd[n.toLowerCase()];void 0!==l?(a.W(),f=l[1],g=l[2],p=l[3],e=!1):""===n||this.Ak(n)?b[b.length]=[d+" "+k,"name missing"]:(b[b.length]=[d+" "+k+" "+n,"name not known"],a.W())}if(!e)switch(-1!==this.f[c]&&c!==h.Yk&&c!==h.Uk&&c!==h.Zk&&(b[b.length]=[d+" "+k+" "+f+" "+g+" "+p,"overwrites "+(this.f[c]>>16)+" "+(this.f[c]>>8&255)+" "+(this.f[c]&255)]),this.f[c]=f<<16|g<<8|p,c){case h.Wk:this.Bf=
!0;break;case h.Xk:this.Bf=!0;break;case h.Ym:this.ih.red=f;this.ih.green=g;this.ih.blue=p;break;case h.Zm:this.Be=[f,g,p];break;case h.Sm:this.Ug=[f,g,p];this.Ff="rgb("+f+","+g+","+p+")";break;case h.Yk:this.sk="rgb("+f+","+g+","+p+")";break;case h.Uk:this.rk="rgb("+f+","+g+","+p+")";break;case h.Zk:this.tk="rgb("+f+","+g+","+p+")";break;case h.Qm:this.Ch=[f,g,p];this.a.Bj=this.a.Uf?-16777216|p<<16|g<<8|f:f<<24|g<<16|p<<8|255;break;case h.Vm:this.a.Lf=[f,g,p];break;case h.Um:this.a.Kf=[f,g,p];break;
case h.Tm:this.a.Jf=[f,g,p];break;case h.Wm:this.a.Mf=[f,g,p];break;case h.Xm:this.a.Nf=[f,g,p];break;case h.bl:case h.$k:case h.cl:case h.el:case h.dl:case h.al:break;default:this.Bf=!0}};c.prototype.rv=function(){var a=this.a.Ha[this.a.Sd],b=this.f;if(-1===b[h.mg]){var c=b[h.Cf];-1!==c?b[h.mg]=16777215-c:(c=b[h.Ce],b[h.mg]=-1!==c?16777215-c:16777215)}-1===b[h.Ce]&&-1===b[h.Cf]&&(b[h.Ce]=16777215-b[h.mg]);c=b[h.Ce];-1===c&&(c=b[h.Cf]);a.La.red=c>>16;a.La.green=c>>8&255;a.La.blue=c&255;c=b[h.mg];
a.va.v.red=c>>16;a.va.v.green=c>>8&255;a.va.v.blue=c&255;c=b[h.Pm];-1===c&&(c=b[h.mg]);a.va.w.red=c>>16;a.va.w.green=c>>8&255;a.va.w.blue=c&255;c=b[h.Cf];-1===c&&(c=b[h.Ce]);a.ta.w.red=c>>16;a.ta.w.green=c>>8&255;a.ta.w.blue=c&255;c=b[h.Vk];-1===c&&(c=b[h.Cf],-1===c&&(c=b[h.Ce]));a.ta.v.red=c>>16;a.ta.v.green=c>>8&255;a.ta.v.blue=c&255;c=b[h.Ce];-1===c&&(c=b[h.Cf]);a.Ng.red=c>>16;a.Ng.green=c>>8&255;a.Ng.blue=c&255;c=b[h.mg];a.ye.red=c>>16;a.ye.green=c>>8&255;a.ye.blue=c&255;c=b[h.Cf];-1===c&&(c=
b[h.Ce]);a.xb.w.red=c>>16;a.xb.w.green=c>>8&255;a.xb.w.blue=c&255;c=b[h.Vk];-1===c&&(c=b[h.Cf],-1===c&&(c=b[h.Ce]));a.xb.v.red=c>>16;a.xb.v.green=c>>8&255;a.xb.v.blue=c&255;c=b[h.Rm];-1===c?a.Gj=!0:(a.Gj=!1,a.Pa.w.red=c>>16,a.Pa.w.green=c>>8&255,a.Pa.w.blue=c&255);c=b[h.qp];-1===c&&(c=b[h.Rm],-1===c&&(c=b[h.Ce]));a.Pa.v.red=c>>16;a.Pa.v.green=c>>8&255;a.Pa.v.blue=c&255;a.My(b[h.Wk],b[h.Xk])};c.prototype.Av=function(a){var b=this.D.il();b.vf||(b.x=this.a.width/2-this.a.ca);b.Pe||(b.y=this.a.height/
2-this.a.$);b.rd||(b.zoom=this.a.zoom);b.Sg||(b.angle=this.a.angle);b.$g||(b.J=this.a.J);b.Vg||(b.depth=this.a.nc);b.Yg||(b.qb=this.wd);b.kh||(b.step=this.fa);b.Me||(b.rb=this.a.Yd);this.D.ay(a)};c.prototype.cv=function(a){var b=a,c=this.ld,d=a.length;c.font=h.oi;var e=c.measureText(a).width;if(420<e){--d;for(e=c.measureText(a.substr(0,d)+"...").width;420<e;)--d,e=c.measureText(a.substr(0,d)+"...").width;b=b.substr(0,d)+"..."}return b};c.prototype.wi=function(a,b){var c=a;a.length>b&&(c=a.substr(0,
b-1)+"...");return c};c.prototype.Tn=function(a,b,c,d){var e=a.indexOf("\\n");-1!==e&&(c?b[b.length]=[Keywords.lk+" "+Keywords.Ob+this.wi(a,23)+Keywords.Ob,"only one line allowed"]:(e=a.substr(e+2).indexOf("\\n"),-1===e||d||(b[b.length]=[Keywords.Ob+this.wi(a,23),"only two lines allowed"])))};c.prototype.Fk=function(a,b,c){var d=Keywords.oh+" ",e="overwrites ";d=b>=this.a.Sd?d+Keywords.kk:d+b;e=c>=this.a.Sd?e+Keywords.kk:e+c;a[a.length]=[d,e]};c.prototype.Cc=function(a,b,c,d,e,f){var g=0,h=0,k=0;
if(a.I())if(g=a.H()|0,0>g||255<g)b[b.length]=[d+" "+f+" "+g,"RED out of range"],e=!0;else if(a.I())if(h=a.H()|0,0>h||255<h)b[b.length]=[d+" "+f+" "+g+" "+h,"GREEN out of range"],e=!0;else if(a.I()){if(k=a.H()|0,0>k||255<k)b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"BLUE out of range"],e=!0}else this.ud(a,b,d+" "+f+" "+g+" "+h,"BLUE","numeric"),e=!0;else this.ud(a,b,d+" "+f+" "+g,"GREEN","numeric"),e=!0;else{var p=a.qa();var n=ColourManager.cd[p.toLowerCase()];void 0!==n?(a.W(),g=n[1],h=n[2],k=n[3]):(e=
!0,""===p||this.Ak(p)?b[b.length]=[d+" "+f,"name missing"]:(b[b.length]=[d+" "+f+" "+p,"name not known"],a.W()))}e||(-1!==this.Rb[c]&&(b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"overwrites "+(this.Rb[c]>>16)+" "+(this.Rb[c]>>8&255)+" "+(this.Rb[c]&255)]),this.Rb[c]=g<<16|h<<8|k)};c.prototype.sh=function(a){var b="",c=a.indexOf(Keywords.re);if(-1===c)b=a;else{for(;-1!==c;)if(b+=a.substr(0,c),c+1<a.length){var d=a[c+1];a=a.substr(c+2);switch(d){case "B":b+=h.Fr;break;case "N":b+=this.Uj;break;case "R":b+=
this.ug;break;case "A":b=""===this.lf?b+this.ug:b+this.lf;break;case "O":b+=this.Kl;break;case "T":b+=h.Vw;break;case Keywords.re:b+=Keywords.re;break;default:b+=Keywords.re+d}c=a.indexOf(Keywords.re)}else c=-1;b+=a}return b};c.prototype.ua=function(a,b,c,d){d[d.length]=a?b===Keywords.Ee?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+Keywords.Ee]:b===Keywords.Ee?[b+" "+c,"overwrites "+Keywords.xf]:[b+" "+c,"already defined"]};c.prototype.Ca=function(a){var b="";a===(a|0)?b=String(a):b=a.toFixed(2);
return b};c.prototype.lv=function(a,b){var c=new Script(a),d=!1,e="",f="",g=!1,n="",k=0,l=!1,t=!1,m=this.Eb,x=null,C=0,y=0,z=0,v="",w=this.D.Jm(),E=null,D=!1,P=!1,ba=null,Y=1,T=h.$r,ca=-1,X=-1,N=0,S=0,R=!1,aa=!1,Q=0,K=0,W=-1,U=0,ea=0,V=null,O=1,gb=h.$r,hb=h.Pv,za=-1,Aa=-1,Ba=0,ib=0,Ca=!1,Da=!1,Ea=0,Fa=0,Ga=-1,Ha=0,Ia=0,pa=null,jb=1,kb=h.sx,Ja=-1,Ka=-1,La=0,lb=0,Ma=!1,Na=!1,Oa=0,Pa=0,Qa=-1,Ra=0,Sa=0,ia=!1,Ta=!1,mb="numeric",ya=-1,ka=-1,la=-1,Ua=-1,ma=-1,na=-1,qa=0,ra=0,sa=0,ta=0,Z=0,da=0,ha=0,nb=0,
ob=0,ja=[],fa=0,Va=!1,Wa=!1,Xa=!1,Ya=!1,Za=!1,$a=!1,ua=!1,ab=!1,bb=!1,va=!1,wa=!1,cb=!1,db=!1,eb=!1,fb=!1;this.xq=this.Gl=0;this.Bf=!1;this.f[h.Ce]=-1;this.f[h.mg]=-1;this.f[h.Pm]=-1;this.f[h.Cf]=-1;this.f[h.Vk]=-1;this.f[h.Wk]=-1;this.f[h.Xk]=-1;this.f[h.Ym]=-1;this.f[h.Zm]=-1;this.f[h.Qm]=-1;this.f[h.Vm]=-1;this.f[h.Um]=-1;this.f[h.Tm]=-1;this.f[h.Wm]=-1;this.f[h.Xm]=-1;this.f[h.Sm]=-1;this.f[h.Yk]=-1;this.f[h.bl]=-1;this.f[h.$k]=-1;this.f[h.cl]=-1;this.f[h.el]=-1;this.f[h.dl]=-1;this.f[h.al]=-1;
this.f[h.Uk]=-1;this.f[h.Zk]=-1;this.Rb=[];if(c.Ks()){for(fa=0;256>fa;fa+=1)this.Rb[fa]=-1;for(e=c.W();""!==e;){mb="numeric";if(g)e[e.length-1]===Keywords.Ob?(n=n+" "+e.substr(0,e.length-1),g=!1,this.Tn(n,m,d,ia),d?(""!==this.Na&&(m[m.length]=[Keywords.lk+" "+Keywords.Ob+this.wi(n,20)+Keywords.Ob,"overwrites "+Keywords.Ob+this.Na+Keywords.Ob]),this.Na=n,d=!1):ia?(pa.message=this.sh(n),ia=!1,this.D.Sr(pa)):(w.od=this.sh(n),w.rr=!0)):n=n+" "+e;else if(e[0]===Keywords.Ob)n=e.substr(1),g=!0,e[e.length-
1]===Keywords.Ob&&(g=!1,n=n.substr(0,n.length-1),this.Tn(n,m,d,ia),d?(""!==this.Na&&(m[m.length]=[Keywords.lk+" "+Keywords.Ob+this.wi(n,20)+Keywords.Ob,"overwrites "+Keywords.Ob+this.Na+Keywords.Ob]),this.Na=n,d=!1):ia?(pa.message=this.sh(n),ia=!1,this.D.Sr(pa)):(w.od=this.sh(n),w.rr=!0));else{l=t=!1;this.Gl+=1;switch(e){case Keywords.lk:l=d=!0;break;case Keywords.Eq:c.I()&&(t=!0,k=c.H(),k>=h.Rn&&k<=h.Kn&&(T=k,l=!0));break;case Keywords.Vt:c.I()?(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(Z=k,t=!1,c.I()&&(t=
!0,k=c.H(),k>=h.fe&&k<=h.de&&(U=Z,ea=k,l=!0)))):(f=c.qa(),f===Keywords.Mc&&(f=c.W(),ea=U=0,l=!0));break;case Keywords.Gq:c.I()?(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(t=!1,Z=k,c.I()&&(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(t=!1,da=k,c.I()&&(t=!0,k=c.H(),0<=k&&k<=this.a.T/2&&(Q=Z,K=da,W=k,l=!0)))))):(f=c.qa(),f===Keywords.Ga&&(f=c.W(),K=Q=0,W=-1,l=!0));break;case Keywords.Cq:c.I()&&(t=!0,k=c.H(),0<=k&&360>k&&(S=k,R=!1,f=c.qa(),f===Keywords.Mc&&(f=c.W(),R=!0),l=!0));break;case Keywords.Fq:c.I()?
(t=!0,k=c.H()|0,0<=k&&(Z=k,c.I()?(k=c.H()|0,k>=Z?(da=k,c.I()?(k=c.H()|0,0<=k&&k<=da-Z>>1?(ca=Z,X=da,N=k,l=!0):(l=!0,m[m.length]=[e+" "+Z+" "+da+" "+k,"third argument must from 0 to "+(da-Z>>1)])):t=!1):(l=!0,m[m.length]=[e+" "+Z+" "+k,"second argument must be >= first"])):t=!1)):(f=c.qa(),f===Keywords.ze?(f=c.W(),X=ca=-1,N=0,l=!0):t=!1);break;case Keywords.Bq:c.I()&&(t=!0,k=c.H(),0<=k&&1>=k&&(Y=k,l=!0));break;case Keywords.Dq:case Keywords.fo:ja=[];l=!0;for(ha=-1E3;l&&c.I();)Z=c.H(),c.I()?(da=c.H(),
Z>=-this.a.T&&Z<2*this.a.T&&da>=-this.a.T&&da<2*this.a.T?(ja[ja.length]=Z,ja[ja.length]=da):(m[m.length]=[e+" "+Z+" "+da,"coordinate out of range"],ha=0,l=!1)):Z>=h.Ra&&Z<=h.yb?ha=Z:Z>=h.Bl&&Z<=h.Al?ha=-(1/Z):(m[m.length]=[e+" "+Z,"zoom out of range"],ha=0,l=!1);-1E3===ha&&(m[m.length]=[e,"missing zoom value"]);4>ja.length&&(m[m.length]=[e,"requires at least 2 coordinate pairs"],l=!1);l?(f=c.qa(),aa=!1,f===Keywords.Mc&&(f=c.W(),aa=!0,f=c.qa()),ba=this.D.uw(ja,e===Keywords.fo,ha,this.tk,Y,T,ca,X,N,
S,R,aa,Q,K,W,U,ea),this.D.Gv(ba)):l=!0;break;case Keywords.$o:c.I()&&(t=!0,k=c.H(),k>=h.Rn&&k<=h.Kn&&(Z=k,t=!1,c.I()&&(t=!0,k=c.H(),0<=k&&1>=k&&(hb=k,gb=Z,l=!0))));break;case Keywords.cp:c.I()?(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(Z=k,t=!1,c.I()&&(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(Ha=Z,Ia=k,l=!0)))):(f=c.qa(),f===Keywords.Mc&&(f=c.W(),Ia=Ha=0,l=!0));break;case Keywords.bp:c.I()?(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(t=!1,Z=k,c.I()&&(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(t=!1,da=k,c.I()&&(t=
!0,k=c.H(),0<=k&&k<=this.a.T/2&&(Ea=Z,Fa=da,Ga=k,l=!0)))))):(f=c.qa(),f===Keywords.Ga&&(f=c.W(),Fa=Ea=0,Ga=-1,l=!0));break;case Keywords.Zo:c.I()&&(t=!0,k=c.H(),0<=k&&360>k&&(ib=k,Ca=!1,f=c.qa(),f===Keywords.Mc&&(f=c.W(),Ca=!0),l=!0));break;case Keywords.ap:c.I()?(t=!0,k=c.H()|0,0<=k&&(Z=k,c.I()?(k=c.H()|0,k>=Z?(da=k,c.I()?(k=c.H()|0,0<=k&&k<=da-Z>>1?(za=Z,Aa=da,Ba=k,l=!0):(l=!0,m[m.length]=[e+" "+Z+" "+da+" "+k,"third argument must from 0 to "+(da-Z>>1)])):t=!1):(l=!0,m[m.length]=[e+" "+Z+" "+k,
"second argument must be >= first"])):t=!1)):(f=c.qa(),f===Keywords.ze?(f=c.W(),Aa=za=-1,Ba=0,l=!0):t=!1);break;case Keywords.Yo:c.I()&&(t=!0,k=c.H(),0<=k&&1>=k&&(O=k,l=!0));break;case Keywords.Mk:c.I()&&(t=!0,k=c.H(),k>=-this.a.T&&k<2*this.a.T&&(t=!1,Z=k,c.I()&&(t=!0,k=c.H(),k>=-this.a.T&&k<2*this.a.T&&(t=!1,da=k,c.I()&&(t=!0,k=c.H(),k>=-this.a.T&&k<2*this.a.T&&(t=!1,nb=k,c.I()&&(t=!0,k=c.H(),k>=-this.a.T&&k<2*this.a.T&&(t=!1,ob=k,c.I()&&(t=!0,k=c.H(),ha=-1E3,k>=h.Ra&&k<=h.yb?ha=k:k>=h.Bl&&k<=h.Al&&
(ha=-(1/k)),-1E3!==ha&&(f=c.qa(),Da=!1,f===Keywords.Mc&&(f=c.W(),Da=!0,f=c.qa()),V=this.D.mw(Z,da,nb,ob,ha,this.rk,O,gb,hb,za,Aa,Ba,ib,Ca,Da,Ea,Fa,Ga,Ha,Ia),this.D.Dv(V),l=!0))))))))));break;case Keywords.cq:c.I()&&(t=!0,k=c.H(),k>=h.Dt&&k<=h.wt&&(kb=k,l=!0));break;case Keywords.gq:c.I()?(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(Z=k,t=!1,c.I()&&(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(Ra=Z,Sa=k,l=!0)))):(f=c.qa(),f===Keywords.Mc&&(f=c.W(),Sa=Ra=0,l=!0));break;case Keywords.fq:c.I()?(t=!0,k=c.H(),k>=-this.a.T/2&&k<=
this.a.T/2&&(t=!1,Z=k,c.I()&&(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(t=!1,da=k,c.I()&&(t=!0,k=c.H(),0<=k&&k<=this.a.T/2&&(Oa=Z,Pa=da,Qa=k,l=!0)))))):(f=c.qa(),f===Keywords.Ga&&(f=c.W(),Pa=Oa=0,Qa=-1,l=!0));break;case Keywords.bq:c.I()&&(t=!0,k=c.H(),0<=k&&360>k&&(lb=k,Ma=!1,f=c.qa(),f===Keywords.Mc&&(f=c.W(),Ma=!0),l=!0));break;case Keywords.eq:c.I()?(t=!0,k=c.H()|0,0<=k&&(Z=k,c.I()?(k=c.H()|0,k>=Z?(da=k,c.I()?(k=c.H()|0,0<=k&&k<=da-Z>>1?(Ja=Z,Ka=da,La=k,l=!0):(l=!0,m[m.length]=[e+" "+Z+" "+
da+" "+k,"third argument must from 0 to "+(da-Z>>1)])):t=!1):(l=!0,m[m.length]=[e+" "+Z+" "+k,"second argument must be >= first"])):t=!1)):(f=c.qa(),f===Keywords.ze?(f=c.W(),Ka=Ja=-1,La=0,l=!0):t=!1);break;case Keywords.aq:c.I()&&(t=!0,k=c.H(),0<=k&&1>=k&&(jb=k,l=!0));break;case Keywords.sl:c.I()&&(t=!0,k=c.H(),k>=-this.a.T&&k<2*this.a.T&&(t=!1,Z=k,c.I()&&(t=!0,k=c.H(),k>=-this.a.T&&k<2*this.a.T&&(t=!1,da=k,c.I()&&(t=!0,k=c.H(),ha=-1E3,k>=h.Ra&&k<=h.yb?ha=k:k>=h.Bl&&k<=h.Al&&(ha=-(1/k)),-1E3!==ha&&
(f=c.qa(),Na=!1,f===Keywords.Mc&&(f=c.W(),Na=!0,f=c.qa()),f[0]===Keywords.Ob?(pa=this.D.qw(Z,da,ha,this.sk,jb,kb,Ja,Ka,La,lb,Ma,Na,Oa,Pa,Qa,Ra,Sa),l=ia=!0):t=!1))))));break;case Keywords.at:l=this.pl=!0;break;case Keywords.tq:l=this.sq=!0;break;case Keywords.rq:l=this.kf=!0;break;case Keywords.uq:this.kl=!1;l=!0;break;case Keywords.lq:c.I()&&(t=!0,k=c.H()|0,k>=h.Ct&&k<=h.vt&&(this.a.T=1<<k,l=!0));break;case Keywords.cm:f=c.qa();f===Keywords.Ga?(f=c.W(),w.gi=!1):w.gi=!0;l=w.wo=!0;break;case Keywords.Am:f=
c.qa();f===Keywords.Ga?(f=c.W(),w.fd=!1):w.fd=!0;l=!0;break;case Keywords.wn:c.I()&&(t=!0,k=c.H()|0,0<=k&&k<=this.In&&(this.ea=k,l=!0));break;case Keywords.Up:f=c.qa();f===Keywords.Ga?(f=c.W(),this.af=!1):this.af=!0;l=!0;break;case Keywords.nl:f=c.qa();f===Keywords.Ga?(f=c.W(),w.lc=!1):w.lc=!0;l=w.Vi=!0;break;case Keywords.ml:c.I()&&(t=!0,k=c.H()|0,k>=h.Dx&&k<=h.vx&&(this.a.Nd=k,l=this.a.Om=!0));break;case Keywords.la:case Keywords.jp:v=e;Ta=!1;if(c.I()){y=c.H()|0;if(0>y||255<=y)m[m.length]=[e+" "+
y,"STATE out of range"],Ta=!0;this.Cc(c,m,y,e,Ta,y)}else switch(f=c.qa(),f){case Keywords.It:f=c.W();this.Cc(c,m,h.Jt,e,!1,f);break;case Keywords.Kt:f=c.W();this.Cc(c,m,h.Lt,e,!1,f);break;case Keywords.bt:f=c.W();this.Cc(c,m,h.ct,e,!1,f);break;case Keywords.nt:f=c.W();this.Cc(c,m,h.ot,e,!1,f);break;case Keywords.rt:f=c.W();this.Cc(c,m,h.st,e,!1,f);break;case Keywords.pt:f=c.W();this.Cc(c,m,h.qt,e,!1,f);break;case Keywords.ht:f=c.W();this.Cc(c,m,h.it,e,!1,f);break;case Keywords.Ao:this.m(c,m,h.Ce,
v);break;case Keywords.zo:this.m(c,m,h.mg,v);break;case Keywords.sr:this.m(c,m,h.Pm,v);break;case Keywords.Co:this.m(c,m,h.Cf,v);break;case Keywords.Bo:this.m(c,m,h.Vk,v);break;case Keywords.yu:this.m(c,m,h.Rm,v);break;case Keywords.xu:this.m(c,m,h.qp,v);break;case Keywords.nl:this.m(c,m,h.Wk,v);break;case Keywords.ml:this.m(c,m,h.Xk,v);break;case Keywords.cm:this.m(c,m,h.Ym,v);break;case Keywords.qr:this.m(c,m,h.Zm,v);break;case Keywords.Ep:this.m(c,m,h.Sm,v);break;case Keywords.sl:this.m(c,m,h.Yk,
v);break;case Keywords.Mk:this.m(c,m,h.Uk,v);break;case Keywords.Wt:this.m(c,m,h.Zk,v);break;case Keywords.gs:this.m(c,m,h.Qm,v);break;case Keywords.Rs:this.m(c,m,h.Vm,v);break;case Keywords.Qs:this.m(c,m,h.Um,v);break;case Keywords.Ps:this.m(c,m,h.Tm,v);break;case Keywords.Ss:this.m(c,m,h.Wm,v);break;case Keywords.Ts:this.m(c,m,h.Xm,v);break;case Keywords.Hu:this.m(c,m,h.bl,v);break;case Keywords.Fu:this.m(c,m,h.$k,v);break;case Keywords.Iu:this.m(c,m,h.cl,v);break;case Keywords.Ku:this.m(c,m,h.el,
v);break;case Keywords.Ju:this.m(c,m,h.dl,v);break;case Keywords.Gu:this.m(c,m,h.al,v);break;default:m[m.length]=[e+" "+f,"illegal element"],f=c.W()}l=!0;break;case Keywords.ck:c.Ks();l=!0;--this.Gl;break;case Keywords.sm:l=this.Pb=!0;break;case Keywords.vq:l=this.Ck=!0;break;case Keywords.qq:l=this.Vn=this.zb=!0;break;case Keywords.pq:l=this.Yh=!0;break;case Keywords.kr:l=this.ln=!0;break;case Keywords.lr:l=fb=eb=db=cb=wa=va=bb=ab=ua=$a=Za=Ya=Xa=Wa=Va=!0;break;case Keywords.Ga:m[m.length]=[Keywords.Ga,
"must follow LOOP or STOP"];l=!0;break;case Keywords.ze:f=c.qa();f===Keywords.Qa?(f=c.W(),w.cf?(this.D.fw(w,m),this.pv()):m[m.length]=[Keywords.ze+" "+Keywords.Qa,"only valid at a POI"]):m[m.length]=[Keywords.ze,"must be followed by INITIAL"];l=!0;break;case Keywords.Qa:m[m.length]=[Keywords.Qa,"must follow POI, ALL or a POI setting"];l=!0;break;case Keywords.Bm:f=c.qa();f===Keywords.Ga?(f=c.W(),this.Xd=!1):this.Aa&&(this.Xd=!0);l=!0;break;case Keywords.co:c.I()&&(t=!0,k=c.H()|0,0<=k&&(w.cf?(w.Xa=
k,w.em=!0):m[m.length]=[Keywords.co+" "+k,"only valid at a POI"],l=!0));break;case Keywords.Zj:w.Py(m);l=!0;break;case Keywords.$j:w.Ry(m);l=!0;break;case Keywords.Nl:w.Qy(m);l=!0;break;case Keywords.Ol:c.I()&&(t=!0,k=c.H(),k>=WaypointConstants.St&&k<=WaypointConstants.Rt&&(w.Uy(k,m),l=!0));break;case Keywords.Op:l=this.un=!0;break;case Keywords.ir:f=c.qa();f===Keywords.Ga?(f=c.W(),this.Dg=!1):this.Dg=!0;l=!0;break;case Keywords.om:c.I()&&(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(ma=k,t=!1,e+=" "+k,c.I()&&
(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(na=k,l=!0,this.$b&&(m[m.length]=[Keywords.om+" "+ma+" "+na,"overwrites "+ka+" "+la]),ka=ma,la=na,this.$b=!0))));break;case Keywords.nm:c.I()&&(t=!0,k=c.H()|0,0<k&&(Ua=k,t=!1,e+=" "+k,c.I()&&(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(ma=k,t=!1,e+=" "+k,c.I()&&(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(na=k,l=!0,this.Fd&&(m[m.length]=[Keywords.nm+" "+Ua+" "+ma+" "+na,"overwrites "+ya+" "+ka+" "+la]),ya=Ua,ka=ma,la=na,this.$b=this.Fd=!0))))));break;case Keywords.tj:c.I()&&(t=!0,k=c.H(),
k>=h.fe&&k<=h.de&&(sa=k,t=!1,e+=" "+k,c.I()&&(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(ra=k,t=!1,e+=" "+k,c.I()&&(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(ta=k,t=!1,e+=" "+k,c.I()&&(t=!0,k=c.H(),k>=h.fe&&k<=h.de&&(qa=k,l=!0,ta>sa?m[m.length]=[Keywords.tj+" W "+this.Ca(ta)+" E "+this.Ca(sa),"W is greater than E"]:qa>ra?m[m.length]=[Keywords.tj+" N "+this.Ca(qa)+" S "+this.Ca(ra),"N is greater than S"]:(this.sj&&(m[m.length]=[Keywords.tj+" "+this.Ca(sa)+" "+this.Ca(ra)+" "+this.Ca(ta)+" "+this.Ca(qa),"overwrites "+this.Ca(this.Lg)+
" "+this.Ca(this.Mg)+" "+this.Ca(this.rh)+" "+this.Ca(this.qh)]),this.$b=this.sj=!0,this.qh=qa,this.Lg=sa,this.Mg=ra,this.rh=ta)))))))));break;case Keywords.eg:E=w;!w.cf&&0<this.D.Mx&&(w=this.D.il());c.I()?(t=!0,k=c.H()|0,0<k&&(!w.ki||this.Dc||wa||(m[m.length]=-1===w.ob?[Keywords.eg+" "+k,"overwrites "+Keywords.Ga]:[Keywords.eg+" "+k,"overwrites "+w.ob]),w.ob=k,w.ki=!0,wa=this.Dc=!1,l=!0)):(f=c.qa(),f===Keywords.Ga?(f=c.W(),!w.ki||this.Dc||wa||(m[m.length]=-1!==w.ob||this.Dc?[Keywords.eg+" "+Keywords.Ga,
"overwrites "+w.ob]:[Keywords.eg+" "+Keywords.Ga,"overwrites "+Keywords.Ga]),w.ob=-1,w.ki=!0,wa=this.Dc=!1,l=!0):f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.eg,w,m,this.Dc),l=this.Dc=!0));w=E;break;case Keywords.Vf:E=w;!w.cf&&0<this.D.ha.length&&(w=this.D.il());c.I()?(t=!0,k=c.H()|0,0<k&&(!w.Sh||this.sd||va||(m[m.length]=-1===w.ia?[Keywords.Vf+" "+k,"overwrites "+Keywords.Ga]:[Keywords.Vf+" "+k,"overwrites "+w.ia]),w.ia=k,w.Sh=!0,va=this.sd=!1,l=!0)):(f=c.qa(),f===Keywords.Ga?(f=c.W(),!w.Sh||this.sd||
va||(m[m.length]=-1===w.ia?[Keywords.Vf+" "+Keywords.Ga,"overwrites "+Keywords.Ga]:[Keywords.Vf+" "+Keywords.Ga,"overwrites "+w.ia]),w.ia=-1,w.Sh=!0,va=this.sd=!1,l=!0):f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.Vf,w,m,this.sd),l=this.sd=!0));w=E;break;case Keywords.Ah:c.I()?(t=!0,k=c.H()|0,0<=k&&359>=k&&(!w.Sg||this.Rf||Ya||(m[m.length]=[Keywords.Ah+" "+k,"overwrites "+w.angle]),w.angle=k,w.Sg=!0,Ya=this.Rf=!1,l=!0)):(f=c.qa(),f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.Ah,w,m,this.Rf),l=this.Rf=
!0));break;case Keywords.Zi:c.I()?(t=!0,k=c.H()|0,k>=h.Qn&&k<=h.Jn&&(!w.$g||this.Wf||Za||(m[m.length]=[Keywords.Zi+" "+k,"overwrites "+w.J]),w.J=k,w.$g=!0,Za=this.Wf=!1,l=!0)):(f=c.qa(),f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.Zi,w,m,this.Wf),l=this.Wf=!0));break;case Keywords.Ni:c.I()?(t=!0,k=c.H(),k>=h.Pn&&k<=h.ut&&(!w.Vg||this.Sf||$a||(m[m.length]=[Keywords.Ni+" "+k,"overwrites "+w.depth]),w.depth=k,w.Vg=!0,$a=this.Sf=!1,l=!0)):(f=c.qa(),f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.Ni,w,m,
this.Sf),l=this.Sf=!0));break;case Keywords.Ho:c.I()&&(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(this.pd=k,l=!0));break;case Keywords.Io:c.I()&&(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(this.qd=k,l=!0));break;case Keywords.Rc:c.I()?(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(!w.vf||this.qg||Va||(m[m.length]=[Keywords.Rc+" "+k,"overwrites "+-w.x]),w.x=-k,w.vf=!0,Va=this.qg=!1,l=!0)):(f=c.qa(),f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.Rc,w,m,this.qg),l=this.qg=!0));break;case Keywords.Sc:c.I()?
(t=!0,k=c.H(),k>=-this.a.T/2&&k<=this.a.T/2&&(!w.Pe||this.sg||Wa||(m[m.length]=[Keywords.Sc+" "+k,"overwrites "+-w.y]),w.y=-k,w.Pe=!0,Wa=this.sg=!1,l=!0)):(f=c.qa(),f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.Sc,w,m,this.sg),l=this.sg=!0));break;case Keywords.ft:l=!0;break;case Keywords.xr:c.I()&&(t=!0,k=c.H(),k>=h.Ra&&k<=h.yb?(this.zi=!0,this.pk=k,l=!0):k>=h.Bl&&k<=h.Al&&(this.zi=!0,this.pk=-(1/k),l=!0));break;case Keywords.Wo:case Keywords.ic:c.I()?(t=!0,k=c.H(),k>=h.Ra&&k<=h.yb?(!w.rd||this.td||
Xa||(m[m.length]=1>w.zoom?[Keywords.ic+" "+k,"overwrites "+-(1/w.zoom)]:[Keywords.ic+" "+k,"overwrites "+w.zoom]),w.zoom=k,w.rd=!0,Xa=this.td=!1,l=!0):k>=h.Bl&&k<=h.Al&&(w.rd&&!this.td&&(m[m.length]=1>w.zoom?[Keywords.ic+" "+k,"overwrites "+-(1/w.zoom)]:[Keywords.ic+" "+k,"overwrites "+w.zoom]),w.zoom=-(1/k),w.rd=!0,this.td=!1,l=!0)):(f=c.qa(),f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.ic,w,m,this.td),l=this.td=!0));break;case Keywords.Ui:c.I()?(t=!0,k=c.H()|0,k>=h.ee&&k<=h.Uh&&(!w.Yg||this.Tf||
ab||(m[m.length]=[Keywords.Ui+" "+k,"overwrites "+w.qb]),w.qb=k,w.Yg=!0,ab=this.Tf=!1,l=!0)):(f=c.qa(),f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.Ui,w,m,this.Tf),l=this.Tf=!0));break;case Keywords.yr:f=c.qa();f===Keywords.Ga?(f=c.W(),this.be||(this.ph=this.ra=!1)):this.be||(this.ph=this.ra=!0);l=!0;break;case Keywords.ur:f=c.qa();f===Keywords.Ga?(f=c.W(),this.be||(this.Gg=this.ph=this.ra=!1,this.h.Gg=!1)):this.be||(this.Gg=this.ph=this.ra=!0,this.h.Gg=!0);l=!0;break;case Keywords.wr:c.I()&&(t=!0,
k=c.H()|0,k>=h.Ft&&k<=h.zt&&(this.Ac=k,l=!0));break;case Keywords.oh:c.I()?(t=!0,k=c.H()|0,0<=k&&k<this.a.Sd&&(!w.Me||this.bc||ua||this.Fk(m,k,w.rb),w.rb=k,w.Me=!0,ua=this.bc=!1,l=!0)):(f=c.qa(),f===Keywords.kk?(f=c.W(),this.Bf?(w.Me&&!this.bc&&this.Fk(m,this.a.Sd,w.rb),w.rb=this.a.Sd,w.Me=!0,this.bc=!1):m[m.length]=[Keywords.oh+" "+Keywords.kk,"no custom THEME defined"],l=!0):(k=this.uv(f),-1!==k?(f=c.W(),!w.Me||this.bc||ua||this.Fk(m,k,w.rb),w.rb=k,w.Me=!0,ua=this.bc=!1,l=!0):f===Keywords.Qa&&(f=
c.W(),this.D.dc(Keywords.oh,w,m,this.bc),l=this.bc=!0)));break;case Keywords.jj:m[m.length]=[e,"already in a script block"];l=!0;break;case Keywords.$q:this.Ba=!this.Ba;l=!0;break;case Keywords.ar:this.Kj.current=this.mk([!0],!0,this);l=!0;break;case Keywords.Gp:this.th.current=this.Ok([!0],!0,this);l=!0;break;case Keywords.Zq:this.Go([!0],!0,this);this.Ld&&(this.Ld.current=[this.Le],this.h.Hg=!0);l=!0;break;case Keywords.wp:c.I()&&(t=!0,k=c.H()|0,k>=h.Bt&&k<=h.tt&&(l=!0,this.a.Sl=k));break;case Keywords.Wn:l=
this.Ic=!0;break;case Keywords.on:l=this.ab=!0;break;case Keywords.Jp:c.I()&&(t=!0,k=c.H(),0<=k&&1>=k&&(l=!0,this.Nb=k));break;case Keywords.Kp:this.le=!1;l=!0;break;case Keywords.dr:this.a.Z=!1;this.vb.l=this.a.Z;l=!0;break;case Keywords.Sp:this.a.Z=!0;this.vb.l=this.a.Z;l=!0;break;case Keywords.Lq:this.jn=c.W();l=!0;break;case Keywords.Ee:f=c.qa();switch(f){case Keywords.Rc:w.wh&&this.ua(w.Oe,Keywords.Ee,Keywords.Rc,m);w.Oe=!0;w.wh=!0;f=c.W();break;case Keywords.Sc:w.xh&&this.ua(w.Qe,Keywords.Ee,
Keywords.Sc,m);w.Qe=!0;w.xh=!0;f=c.W();break;case Keywords.ic:w.Rr&&this.ua(w.Re,Keywords.Ee,Keywords.ic,m);w.Re=!0;w.um=!0;f=c.W();break;case Keywords.ze:w.wh&&this.ua(w.Oe,Keywords.Ee,Keywords.Rc,m);w.xh&&this.ua(w.Qe,Keywords.Ee,Keywords.Sc,m);w.Rr&&this.ua(w.Re,Keywords.Ee,Keywords.ic,m);w.Oe=!0;w.wh=!0;w.Qe=!0;w.xh=!0;w.Re=!0;w.um=!0;f=c.W();break;default:this.ud(c,m,Keywords.Ee,"argument",Keywords.ze+", "+Keywords.Rc+", "+Keywords.Sc+" or "+Keywords.ic)}l=!0;break;case Keywords.xf:f=c.qa();
switch(f){case Keywords.Rc:w.wh&&this.ua(w.Oe,Keywords.xf,Keywords.Rc,m);w.Oe=!1;w.wh=!0;f=c.W();break;case Keywords.Sc:w.xh&&this.ua(w.Qe,Keywords.xf,Keywords.Sc,m);w.Qe=!1;w.xh=!0;f=c.W();break;case Keywords.ic:w.Rr&&this.ua(w.Re,Keywords.xf,Keywords.ic,m);w.Re=!1;w.um=!0;f=c.W();break;case Keywords.ze:w.wh&&this.ua(w.Oe,Keywords.xf,Keywords.Rc,m);w.xh&&this.ua(w.Qe,Keywords.xf,Keywords.Sc,m);w.Rr&&this.ua(w.Re,Keywords.xf,Keywords.ic,m);w.Oe=!1;w.wh=!0;w.Qe=!1;w.xh=!0;w.Re=!1;w.um=!0;f=c.W();break;
default:this.ud(c,m,Keywords.xf,"argument",Keywords.ze+", "+Keywords.Rc+", "+Keywords.Sc+" or "+Keywords.ic)}l=!0;break;case Keywords.eo:P=!0;this.D.add(w);w=this.D.Jm();w.cf=!0;f=c.qa();f===Keywords.Qa&&(f=c.W(),-1!==this.Li&&(m[m.length]=[Keywords.eo+" "+Keywords.Qa,"overrides previous initial POI"]),this.Li=this.D.mb.length);this.Sq();l=!0;break;case Keywords.dm:c.I()&&(t=!0,k=c.H()|0,0<=k&&(D||(D=!0),0<k&&(this.D.add(w),w=this.D.Jm()),w.Xa=k,l=w.em=!0));break;case Keywords.nj:c.I()?(t=!0,k=c.H()|
0,k>=h.$i&&k<=h.Rd&&(!w.kh||this.Xf||bb||(m[m.length]=[Keywords.nj+" "+k,"overwrites "+w.step]),w.step=k,w.kh=!0,bb=this.Xf=!1,l=!0)):(f=c.qa(),f===Keywords.Qa&&(f=c.W(),this.D.dc(Keywords.nj,w,m,this.Xf),l=this.Xf=!0));break;case Keywords.zq:c.I()&&(t=!0,k=c.H(),0<=k&&(D||(D=!0),this.D.add(w),w=this.D.Jm(),k<h.ru&&(k=h.ru),w.Zb=k,l=w.wu=!0));break;case Keywords.nk:c.I()&&(t=!0,k=c.H()|0,this.be||(-1===this.V||cb||(m[m.length]=[Keywords.nk+" "+k,"overwrites "+this.V]),this.V=k),cb=!1,l=!0);break;
case Keywords.Mj:c.I()&&(t=!0,k=c.H()|0,this.be||(-1===this.da||db||(m[m.length]=[Keywords.Mj+" "+k,"overwrites "+this.da]),this.da=k),db=!1,l=!0);break;case Keywords.Ql:c.I()&&(t=!0,k=c.H()|0,-1===this.ga||eb||(m[m.length]=[Keywords.Ql+" "+k,"overwrites "+this.ga]),this.ga=k,eb=!1,l=!0);break;case Keywords.Pl:c.I()&&(t=!0,k=c.H()|0,-1===this.xa||fb||(m[m.length]=[Keywords.Pl+" "+k,"overwrites "+this.xa]),this.xa=k,fb=!1,l=!0);break;default:m[m.length]=[e,"unknown or misspelt command"],l=!0}l||(t?
m[m.length]=[e+" "+k,"argument out of range"]:this.ud(c,m,e,"argument",mb))}""!==e&&(e=c.W())}g&&(m[m.length]=[Keywords.Ob+n,"unterminated string"]);D&&this.$b&&(x=this.sj?Keywords.tj:this.Fd?Keywords.nm:Keywords.om,m[m.length]=[x,"can not be used with Waypoints"],this.Fd=this.sj=this.$b=!1);this.sj||!this.$b&&!this.Fd||(this.Fd&&(0<this.a.Nd&&(ya*=this.a.Nd),w.ia=ya),this.qh=la,this.Lg=ka,this.Mg=la,this.rh=ka);if(D||P){this.D.add(w);D?(w=this.D.il(),this.Gb=!0):-1!==this.Li&&(w=this.D.mb[this.Li],
this.Zd=this.Li);if(D){for(fa=0;fa<this.D.ha.length;fa+=1)w=this.D.ha[fa],w.fd&&(w.vf||w.Pe||w.rd)&&(n="",w.vf?(n="X "+w.x,w.Pe?n=w.rd?n+(", Y "+w.y+" and ZOOM "+w.zoom):n+(" and Y "+w.y):w.rd&&(n+=" and ZOOM "+w.zoom)):w.Pe?(n="Y "+w.y,w.rd&&(n+=" and ZOOM "+w.zoom)):w.rd&&(n="ZOOM "+w.zoom),m[m.length]=[Keywords.Am,"overwrites "+n]);w=this.D.il()}P&&w.ge===WaypointConstants.play&&this.Aa&&(this.Xd=!0)}w.fd&&(this.jb=!0);w.vf&&(this.a.ca=this.a.width/2-w.x);w.Pe&&(this.a.$=this.a.height/2-w.y);w.rd&&
(this.a.zoom=w.zoom);w.Sg&&(this.a.angle=w.angle);w.Vg&&(this.a.nc=w.depth/h.Fh+h.Pn);w.$g&&(this.a.J=w.J);w.Me&&(this.yi=w.rb);w.Yg&&(this.wd=w.qb);w.kh&&(this.fa=w.step);w.rr&&this.h.notification.S(w.od,1E3,!1);this.ob=w.ob;this.ia=w.ia;w.rd&&(this.wk=!0);w.vf&&(this.uk=!0);w.Pe&&(this.vk=!0);w.Vi&&(this.a.wc=w.lc);w.wo&&(this.dg=w.gi);for(fa=0;fa<b;fa+=1)-1!==this.Rb[fa]&&(C+=1);if(0<C){this.wm=!0;for(fa=0;fa<b;fa+=1)PatternManager.mj[fa]?-1===this.Rb[fa]?(z=this.cd[fa],this.ln&&(m[m.length]=this.a.mc?
[v+" "+h.bz[fa],"definition missing (used "+(z>>16)+" "+(z>>8&255)+" "+(z&255)+")"]:[v+" "+fa,"definition missing (used "+(z>>16)+" "+(z>>8&255)+" "+(z&255)+")"]),this.Rb[fa]=z,this.wm=!1,this.Ki[fa]=h.vu):this.Ki[fa]=h.uu:this.Ki[fa]=h.jr;this.Tk=this.wm?"(custom)":this.Tk+" (custom*)"}else this.Rb=[];this.Bf&&(this.rv(),this.Jc&&(this.Jc.upper=this.a.Sd));2<b&&!this.a.mc&&-1===this.a.Rz&&(this.Pb=!0);this.Pb&&(x="not possible due to "+Keywords.sm,this.Xd&&(m[m.length]=[Keywords.Bm,x],this.Xd=!1),
-1!==this.ob&&(m[m.length]=[Keywords.eg+" "+this.ob,x]),-1!==this.ia&&(m[m.length]=[Keywords.Vf+" "+this.ia,x]));0!==this.pd&&this.$f+h.Rd+2*Math.abs(this.pd)>=this.a.T&&(m[m.length]=[Keywords.Ho+" "+this.pd,"pattern does not fit on grid at this offset"],this.pd=0);0!==this.qd&&this.tg+h.Rd+2*Math.abs(this.qd)>=this.a.T&&(m[m.length]=[Keywords.Io+" "+this.qd,"pattern does not fit on grid at this offset"],this.qd=0);this.xq=m.length}""!==this.Na&&(this.Na=this.sh(this.Na));this.jb&&(this.zm=!0);this.ab&&
this.Ic&&(m[m.length]=[Keywords.on,"not valid with "+Keywords.Wn],this.ab=!1);var oa=0,xa=!1;-1!==this.V&&(oa=h.jd,this.zb&&(oa=h.Gx),this.V<oa||this.V>this.og)&&(m[m.length]=[Keywords.nk+" "+this.V,"argument out of range"],xa=!0);-1!==this.da&&(oa=h.Sj,this.zb&&(oa=h.Fx),this.da<oa||this.da>h.Nn)&&(m[m.length]=[Keywords.Mj+" "+this.da,"argument out of range"],xa=!0);this.be&&(-1!==this.ga&&(this.ga<h.jd||this.ga>this.og)&&(m[m.length]=[Keywords.Ql+" "+this.ga,"argument out of range"],this.ga=-1,
xa=!0),-1!==this.xa&&(this.xa<h.Sj||this.xa>h.Nn)&&(m[m.length]=[Keywords.Pl+" "+this.xa,"argument out of range"],this.xa=-1,xa=!0));if(xa||m.length)-1!==this.V&&this.V<h.jd&&(this.V=h.jd),-1!==this.da&&this.da<h.eh&&(this.da=h.eh),this.zb=!1;this.u.l=this.zb;this.h.zb=this.zb;this.h.Yh=this.Yh;this.zb&&(this.ab=this.Gg=this.ra=this.Xd=!1,this.mk([!1],!0,this),this.Ok([!1],!0,this),this.Go([!1],!0,this),this.pl=this.Ba=!1);this.Ck&&(this.element.style="display:none",this.element.parentNode&&this.element.parentNode.parentNode&&
this.element.parentNode.parentNode.className===r.fn&&(this.element.parentNode.parentNode.style="display:none;"));this.D.$y()};c.prototype.mv=function(){this.a.Om=!1;this.a.T=1<<h.Ow;this.Li=this.yi=-1;this.Yh=this.Ck=this.Vn=this.zb=!1;this.a.Vb=0;this.a.Mb=0;this.a.yc=1;this.Ba=this.zm=this.jb=!1;this.Rb=[];this.Ug=this.Be=null;this.Ff=h.Ff;this.a.Lf=this.a.ex;this.a.Kf=this.a.dx;this.a.Jf=this.a.cx;this.a.Mf=this.a.fx;this.a.Nf=this.a.gx;this.Bh=this.Xd=this.un=!1;this.ia=this.ob=-1;this.Le=this.ac=
this.Fd=this.$b=this.sj=this.Gb=this.hc=this.Va=!1;this.ea=this.In=2<this.a.g?63<=256-this.a.g?63:256-this.a.g:63;this.$d=!1;this.a.dn=!1};c.prototype.mr=function(){this.Gg?x(this.element):(this.F=this.xn,this.B=this.vr,this.jb?(this.ra=!1,this.Hf(!0,!1)):this.a.zoom=this.yn,this.pb&&(this.pb.current=this.Pg([this.a.zoom,this.a.zoom],!1,this)),this.U=this.vn,this.ra=!1,this.h.ra=!1,this.u.l=!1,this.h.notification.S("Shrink with hotkey N",100,!0),this.resize())};c.prototype.dv=function(a){a.ra?a.mr():
a.zb&&(a.Yh||a.op(a,!1))};c.prototype.resize=function(){this.Ek&&(D.Hq.Pq=this.Bk-this.F,this.Bk=this.F,this.Ek=!1);this.G.width=this.F;this.G.height=this.B;this.ej.width=this.F;this.ej.height=this.B;this.ld.textBaseline="middle";this.a.gu(this.F,this.B)};c.prototype.nr=function(){this.xn=this.F;this.vr=this.B;this.yn=this.a.zoom;this.vn=this.U;this.F=this.F/this.Ac|0;this.B=this.B/this.Ac|0;this.a.zoom=this.a.zoom/this.Ac;this.F&=-8;this.u.l=!0;this.h.ra=!0;this.h.Ac=this.Ac;this.ra=!0;this.resize()};
c.prototype.On=function(){var a=this.a.g;a>this.bh&&(a=this.bh);this.Wb.lower=[];this.Wb.C=[];this.Wb.width=40*a;this.i.lower=[];this.i.C=[];this.i.current=[];this.i.width=40*a;this.i.Fc=1;for(a=0;a<this.bh;a+=1){var b=a+this.tf;this.Wb.lower[a]=String(b);b=0===b?"dead":1===b?"alive":"dying "+String(b-1);this.Wb.C[a]=b;this.i.lower[a]="";this.i.C[a]=b;this.i.current[a]=!1}b=this.De;0<b&&(b=this.a.g-b);this.Wb.current=b-this.tf};c.prototype.sv=function(){var a=this.a.g;this.De=1;this.tf=0;this.lh.current=
[this.zn([!0],!0,this)];this.bh=7+((this.F-h.jd)/40|0);this.a.mc?(this.Wb.lower="0123456".split(""),this.Wb.width=280,this.Wb.C="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.Wb.current=this.De,this.i.lower="      ".split(" "),this.i.width=280,this.i.C="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.i.Fc=1,this.i.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.Wb.lower=["0","1"],this.Wb.width=80,this.Wb.C=["dead","alive"],this.Wb.current=this.De,this.i.lower=["",""],
this.i.width=80,this.i.C=["dead","alive"],this.i.Fc=1,this.i.current=[!1,!1]):(this.De=a-1,a>this.bh&&(a=this.bh),this.On(),this.Wb.width=40*a,this.i.width=40*a,this.xi.current=this.$n([0,0],!0,this));this.Wb.setPosition(Menu.kb,-this.Wb.width,40);this.i.setPosition(Menu.kb,-this.i.width,60)};c.prototype.Em=function(){this.Jh=!1;this.mn=0;this.cg=!1;this.bi=this.ai=0;this.Kl=this.Uj=this.yq=this.lf=this.ug="";this.Ml=this.hh=this.tg=this.$f=0;this.Zf="(none)";this.a.mc=!1;this.a.Z=!1;this.a.Pd=!1;
this.a.se=-1;this.a.Jl=!1;this.a.g=-1;this.a.na=-1;this.a.pa=!1;this.Aa=this.a.Sz=!1};c.prototype.jh=function(a,b){var c,d=!1;var e=0;this.Xp=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;this.Eb=[];this.h.notification.clear(!0,!0);this.h.notification.clear(!1,!0);if(a=PatternManager.create("",a,this.a.j)){this.Jh=PatternManager.Jh;this.mn=PatternManager.Ip;this.cg=PatternManager.cg;this.ai=PatternManager.ho;this.bi=PatternManager.io;this.sf=PatternManager.sf;this.rf=PatternManager.rf;this.$f=
a.width;this.tg=a.height;this.Uj=a.name;this.Kl=a.Mt;this.Zf=a.Zf;""===this.Zf&&(this.Zf="(none)");this.hh=a.je;this.Ml=a.Hl;this.ug=a.ba;this.lf=a.Hd;this.yq=a.Dm;this.a.Qb=a.Qb;this.a.Ci=a.Ci;this.Aa=PatternManager.Aa;this.a.mc=a.Kb;this.a.g=a.g;if(this.a.pa=a.pa)this.a.Ib.wb=a.bd,this.a.Ib.xo=a.md,this.a.Ib.oo=a.g,this.a.Ib.Vy(a.ie,a.fc),PatternManager.Rg?(this.a.Ib.xm=a.Jk,this.a.Ib.ym=a.Lk,this.a.Ib.Rg=!0):this.a.Ib.Rg=!1;this.a.Z=a.Z;this.a.Jl=a.Z;this.a.Pd=a.Pd;this.a.se=a.se;this.a.na=a.Db;
this.a.wa=a.xd;this.a.ya=a.Ze;this.a.Qk=a.ll;this.a.Rk=a.Lj;this.a.gp=a.Lp;this.a.ks=a.tn;this.Ll=new Uint32Array(this.hh);for(c=0;c<this.hh;c+=1)this.Ll[c]=PatternManager.mj[c]}else this.Em();this.qf=!0;this.ab=!1;this.le=!0;this.Nb=h.Es;this.Ic=a?!1:!0;this.kl=!0;this.nn=!1;this.vb.l=this.a.Z;this.o=PatternManager.o;this.a.Fa=!0;this.a.Sl=h.Ds;this.qd=this.pd=0;this.pe=this.Zd=-1;this.Sk=this.Ji=!1;this.Dg=this.af=this.u.locked=!1;this.a.Zw();this.a.$w();this.a.mc&&(this.a.tw(),this.a.ww());this.Na=
"";this.dg=!1;ColourManager.yd();this.a.ps(!1);this.a.Od=this.a.sn;this.a.Md=this.a.rn;this.a.Nd=10;this.a.Pw=10;this.a.Of=!0;this.wd=60;this.fa=1;this.a.J=1;this.a.nc=.1;this.a.angle=0;this.a.zoom=6;this.a.xy();this.a.ca=this.a.width/2;this.a.$=this.a.height/2;this.vk=this.uk=this.wk=!1;this.Mi=this.Jd=0;this.xa=this.ga=this.da=this.V=-1;this.f[h.Ce]=-1;this.f[h.mg]=-1;this.f[h.Pm]=-1;this.f[h.Cf]=-1;this.f[h.Vk]=-1;this.f[h.Wk]=-1;this.f[h.Xk]=-1;this.f[h.Ym]=-1;this.f[h.Zm]=-1;this.f[h.Qm]=-1;
this.f[h.Vm]=-1;this.f[h.Um]=-1;this.f[h.Tm]=-1;this.f[h.Wm]=-1;this.f[h.Xm]=-1;this.f[h.Sm]=-1;this.f[h.Yk]=-1;this.f[h.Rm]=-1;this.f[h.qp]=-1;this.f[h.bl]=-1;this.f[h.$k]=-1;this.f[h.cl]=-1;this.f[h.el]=-1;this.f[h.dl]=-1;this.f[h.al]=-1;this.f[h.Uk]=-1;this.f[h.Zk]=-1;this.sk=h.jt;this.rk=h.bs;this.tk=h.Tt;this.ra&&this.mr();this.ph=!1;this.h.ra=!1;this.Ac=h.Fs;this.Gg=!1;this.zi=this.h.Wz=!1;this.Lb=a?!1:!0;this.Pb=!1;this.a.wc=!1;this.ja.l=!1;this.aj.l=!1;this.Ld.l=!1;this.Ja.l=!1;this.Xb.l=
!1;this.hf.l=!1;this.oc.l=!1;this.Cb.l=!1;this.Jc.l=!1;this.u.l=!1;this.me.l=!1;this.hf.current=[!1];this.Ld.current=[!1];this.Ua=this.U=0;this.aj.current=this.Ir(h.Cl,!0,this);this.Mh.current=this.lm([this.U],!0,this);this.Ch=[96,96,96];this.a.Bj=this.a.Uf?4284506208:1616929023;this.D.reset();this.Gb=!1;this.D.cw();this.Bf=this.sq=this.kf=this.pl=!1;if(a){if(PatternManager.Jj||a.Kb)a.Kb?(this.cd=ColourManager.rs("LifeHistory"),this.cd[2]=96):this.cd=ColourManager.rs(a.ba),this.cd.length?this.Tk=
a.ba:(this.cd=ColourManager.sp,this.Tk="(default)");this.mv();a.title&&(this.lv(a.title,a.je),myRand.yd(this.jn),this.Eb.length&&(this.Ua=1),this.ra&&b&&(this.ra=!1),-1<this.V&&(this.V&=-8,this.V!==this.F&&(this.F=this.V,d=!0)),-1<this.da&&this.da!==this.B&&(this.B=this.da,d=!0),this.be&&(-1<this.ga?(this.ga&=-8,this.ga!==this.F&&(this.F=this.ga,d=!0)):this.F=h.jd,this.F!==this.Bk&&(this.Ek=!0),-1<this.xa?this.xa!==this.B&&(this.B=this.xa,d=!0):this.B=h.eh+80));this.sv();this.qv();this.zv();this.a.gy();
this.a.ea=this.ea;this.Gg&&!this.ab&&(this.Ic=!0,this.ab=!1);this.a.Iv(!this.Ic);if(a.width>this.a.T||a.height>this.a.T)this.o="Pattern too big (maximum "+this.a.T+"x"+this.a.T+")",this.Ig=!0,this.Aa=!1,this.Em();-1!==a.Db&&(a.pa&&(e=6*a.fc),a.gd&&(e=6*a.Ab),a.xd>=this.a.T-e||a.Ze>=this.a.T-e)&&(this.o="Bounded grid is too big",this.Aa=!1,this.a.na=-1);this.Nr=!1;if(-1!==this.a.na){b=this.a.wa;var f=this.a.ya;0===b&&(b=a.width);0===f&&(f=a.height)}else b=a.width,f=a.height;e=h.Rd;this.a.pa&&(e=4*
this.a.Ib.pc+1,-1!==this.a.na&&(e+=2*this.a.Ib.pc),this.a.Ib.type===PatternManager.Ne&&(e=-1!==this.a.na?e+this.a.ya/2:e+(this.a.A.L-this.a.A.K+1)/2),e<h.Rd&&(e=h.Rd));c=this.a.T/2-e;this.cg&&(this.ai<-c?this.ai=-c:this.ai>=c&&(this.ai=c-1),this.bi<-c?this.bi=-c:this.bi>=c&&(this.bi=c-1),this.pd+=this.ai,this.qd+=this.bi);this.pd<-c?this.pd=-c:this.pd>=c&&(this.pd=c-1);this.qd<-c?this.qd=-c:this.qd>=c&&(this.qd=c-1);for(;this.a.width<this.a.T&&(b+e+2*Math.abs(this.pd)>=this.a.width||f+e+2*Math.abs(this.qd)>=
this.a.height);)this.a.Np(),this.Jd+=this.a.width>>2,this.Mi+=this.a.height>>2,this.Td+=this.a.width>>2,this.ij+=this.a.height>>2,this.a.Z&&(this.Jd-=this.a.height>>3,this.Td-=this.a.height>>3);a.pa&&this.a.Ib.resize(this.a.width,this.a.height);this.xz(a.width,a.height);this.a.mc&&PatternManager.mj[6]&&this.a.Zx(a,this.He,this.Ie);this.Be?this.h.notification.zf="rgb("+this.Be[0]+","+this.Be[1]+","+this.Be[2]+")":this.h.notification.zf=this.h.notification.Yt;if(0===this.Rb.length)for(c=0;c<this.cd.length;c+=
1)this.Ki[c]=PatternManager.mj[c]?h.vu:h.jr;this.a.ec?(this.a.pw(this.cd,this.Rb),this.a.Wg=!0):this.a.Wg=!1;this.Ez(a);this.a.nz();this.Ec.nb=""!==this.lf?this.lf:this.ug;this.Ec.C=this.ug;""!==this.lf&&(this.Ec.C+=" alias "+this.lf)}this.a.nw();-1!==this.yi?this.a.dk(this.yi,1,this):this.Bf?this.a.dk(this.a.Sd,1,this):this.a.mc?this.a.dk(10,1,this):2<this.a.g?this.a.dk(11,1,this):this.a.dk(1,1,this);this.a.Rb=this.Rb;this.a.ws();this.a.dd(1);this.a.Ly();this.Hb.current=this.Bi([this.Nb,this.Nb],
!1,this);this.Qj.current=[this.le];this.gg.current=[this.jb];this.Lh.current=[this.a.wc];this.a.uy(this.Dg);this.a.Oq();this.elapsedTime=this.rg=this.Da=this.a.s=0;this.Lb?(a&&0<this.Rb.length&&(this.cd=this.Rb),this.a.sw(this.cd),this.a.Bd.reset(),this.Ic=!0,this.ab=!1):(2>=this.a.g&&this.a.wy(this.a.Jb),this.a.mc&&PatternManager.mj[2]&&this.a.iw(a,this.He,this.Ie),this.a.zy(this.a.Jb,this.a.oa),a&&0===this.a.za?(this.Hj=!0,this.h.notification.S("Nothing alive!",300,!1)):this.Hj=!1,-1!==this.a.na&&
this.a.Vq(),this.a.Iy(this.kf),this.a.no(this.kf));this.Kh.locked=this.Ic;this.Kh.current=[this.ab];this.Wi.current=[this.a.Z];0===this.D.Xn()?(this.Ph.locked=!0,this.qf=!1):(this.Ph.locked=!1,this.qf=!0);this.Ph.current=[this.qf];this.Pj.current=[this.Ba];this.hk.current=[this.dg];this.Oj.current=[this.af];0===this.a.Nd?(this.ah.current=[!1],this.ah.locked=!0):(this.ah.current=[this.a.Of],this.ah.locked=!1);this.Ic||this.a.fu();a&&(a.he=null);e=this.a.zoom;c=this.a.ca;b=this.a.$;f=this.ra;this.ra=
!1;this.Hf(!0,!1);this.ra=f;this.wk&&(this.a.zoom=e);this.uk&&(this.a.ca=c);this.vk&&(this.a.$=b);this.Gb&&this.Av(this.Eb);this.ra&&this.zi&&(this.a.zoom=this.pk);this.Gs=this.a.zoom;this.pb.current=this.Pg([this.a.zoom,this.a.zoom],!1,this);this.Jd=this.a.ca;this.Mi=this.a.$;this.Dj=this.a.angle;this.vb.current=[this.Dj,this.Dj];this.bn=this.a.Yd;this.Jc.current=this.wj([this.bn,""],!0,this);this.vp=this.wd;e=Math.sqrt((this.vp-h.ee)/(h.Uh-h.ee));this.Ja.current=this.Og([e,e],!0,this);this.an=this.fa;
this.Xb.current=this.pi([this.an,this.an],!0,this);this.Fj=this.a.J;this.oc.current=[this.Fj,this.Fj];this.up=this.a.nc;e=Math.sqrt(this.up);this.Cb.current=this.uh([e,e],!0,this);this.a.Fa=!0;this.Xd&&!this.Bh?(this.xc=!0,this.ja.current=h.Vh):(this.xc=!1,this.ja.current=h.hb);this.mu(this.xc);this.B<h.eh?(this.hf.l=!0,this.ja.x=this.Dk+45,this.ja.Ke=this.ja.x,this.Ja.x=this.xk+45,this.Ja.Ke=this.Ja.x,this.Xb.x=this.Gk+45):(this.ja.x=this.Dk,this.ja.Ke=this.ja.x,this.Ja.x=this.xk,this.Ja.Ke=this.Ja.x,
this.Xb.x=this.Gk);this.Xb.Ke=this.Xb.x;this.F>h.jd?(c=this.F-h.jd+h.Ko,c>h.$u&&(c=h.$u),this.pb.width=c,this.Hb.width=c,c>h.Nx&&(this.Hb.nb="Opacity ")):(this.pb.width=h.Ko,this.Hb.width=h.Ko,this.Hb.nb="Opac ");if(d||this.ra)this.ra?this.nr():this.resize();a||(PatternManager.Ig?this.h.notification.S("Pattern too big!",h.Fp,!1):this.h.notification.S("Invalid pattern!",h.Fp,!1));this.Eb.length?this.U=0:this.Ua=0;this.Aa||(this.Pb=!0);this.Pb?(this.ja.l=!0,this.Ld.l=!0,this.me.l=!0,this.Ja.l=!0,this.Xb.l=
!0,this.Lb&&(this.oc.l=!0,this.Cb.l=!0,this.Jc.l=!0,this.a.J=1),this.rc.l=!1,""===this.o?(this.rc.nb=Keywords.sm,this.rc.vd=h.Nj):(this.rc.nb=this.o,this.rc.vd=this.Ff)):this.rc.l=!0;this.Lu();this.Qd=!1;this.Cn="";this.lu(this);this.hl()?(this.sb.nb="Density",this.sb.C="cell density"):(this.sb.nb="Births",this.sb.C="cells born this generation");this.h.Hg=!0;this.h.Bg(!0);this.be&&this.Do&&(""===this.Na?this.Do.nodeValue="LifeViewer":this.Do.nodeValue=this.cv(this.Na));r.Ma?(d=this.Uj,""==d&&(d="Universe "+
(this.Bb+1)),this.h.notification.S(d,120,!0),this.zg.l=!1,this.yg.l=!1):(this.zg.l=!0,this.yg.l=!0)};registerEvent(window,"load",C,!1);window.DocConfig=r;window.Controller=D;window.ViewConstants=h;window.startAllViewers=C;window.updateViewer=x;window.updateMe=function(b){var c=a(b).getElementsByTagName(r.gj)[0];b=D.gc[0];c.innerHTML=c.value;c=g(c);b[1].Jr(b[1]);b[1].h.notification.clear(!0,!0);b[1].h.notification.clear(!1,!0);b[1].jh(c,!1)};window.hideViewer=f;window.launchInMolly=function(b){var c=
a(b);b=g(c.getElementsByTagName(r.gj)[0]);c=c.getElementsByTagName("form")[0];c.getElementsByTagName("input")[0].value=b;c.submit()}})();window.Help={Yq:0,my:function(d,c,b,a,f,e,g,x,m,E){var C=x,r=!1,h=d.M;e&&(e.fillStyle===ViewConstants.ol&&(r=!0),h>=E&&h<=E+d.Ub&&(e.font=ViewConstants.jl,r||(e.fillStyle=1<(d.U|0)?ViewConstants.Nj:ViewConstants.pn),e.fillText(c,g,x),r||(e.fillStyle=ViewConstants.Nj),e.fillText(b,g+e.measureText(c).width,x),r||(e.fillStyle=(d.U|0)<d.Tj-d.Ub?ViewConstants.Nj:ViewConstants.pn),e.fillText(a,g+e.measureText(c+b).width,x),r||(e.fillStyle=ViewConstants.Nj),e.font=ViewConstants.oi,e.fillText(f,g+d.P[0],
x),C+=m));d.M+=1;return C},ep:function(d){d/=1048576;return 10>d?String(d.toFixed(1)):String(d.toFixed(0))},Ka:function(d,c,b,a,f,e,g,x,m){var E=d.M;f&&(x-=6,E>=m&&E<=m+d.Ub&&(d=f.fillStyle,d!==ViewConstants.ol&&(f.fillStyle="rgb("+c+","+b+","+a+")"),f.fillRect(e,g-(x>>1)-1,x,x),f.fillStyle=d))},measureText:function(d,c,b,a){var f=a?d.Rp:d.Qp;f[d.M]?c=f[d.M]:(c.font=0===a?ViewConstants.jl:ViewConstants.oi,c=c.measureText(b).width,f[d.M]=c);return c},b:function(d,c,b,a,f,e,g,x){var m=e,E=String(b).indexOf("\t"),
C=d.M,r=0,h=!0;(C<x||C>x+d.Ub)&&h&&(h=!1);if(c.length){h&&(a.font=ViewConstants.jl,a.fillText(c,f,e));c=this.measureText(d,a,c,0);c>d.P[r]&&(h&&(e+=g,m+=g),d.M+=1);h&&(a.font=ViewConstants.oi);for(;-1!==E;)h&&a.fillText(b.substr(0,E),f+d.P[r],e),r+=1,b=b.substr(E+1),E=b.indexOf("\t");E=!1;d.te&&(c=this.measureText(d,a,b,1),f+d.P[r]+c+this.Yq>a.canvas.width&&(c=b.toLowerCase().indexOf("|"),-1===c&&(c=b.toLowerCase().indexOf("s"),-1===c&&(c=b.indexOf("/"),-1!==c&&(c+=1))),-1!==c&&(h&&(a.fillText(b.substr(0,
c),f+d.P[r],e),e+=g,m+=g,a.fillText("  "+b.substr(c),f+d.P[r],e)),d.M+=1,E=!0)));E||h&&a.fillText(b,f+d.P[r],e)}else a.font=ViewConstants.oi,h&&a.fillText(b,f,e);h&&(m+=g);d.M+=1;return m},qc:function(d,c,b){for(var a=ColourManager.cd,f=Object.keys(a),e="    "+d+"\t"+c+"\t"+b,g=!1,x,m=0;m<f.length&&!g;)x=a[f[m]],x[1]===d&&x[2]===c&&x[3]===b?(e+="\t"+x[0],g=!0,m=f.length):m+=1;return e},Ad:function(d){return this.qc(d.red,d.green,d.blue)},Lv:function(d){var c=0,b=0;d.a.Fa&&(c=d.a.A.O-d.a.A.N+1,b=d.a.A.L-
d.a.A.K+1);-1!==d.a.na&&(0!==d.a.wa&&(c=d.a.wa),0!==d.a.ya&&(b=d.a.ya));return c+" x "+b},Tv:function(d){var c="AutoFit";d.af&&(c+=" History");d.Dg&&(c+=" State 1");return c},Nt:function(d,c){c-=d.length;for(var b="";0<c;)b+=" ",--c;return b+d},du:function(d,c,b,a,f,e){var g=a;switch(d.Nh){case ViewConstants.vh:this.sy(d,c,b,a,f,e);break;case ViewConstants.gt:this.oy(d,c,b,a,f,e);break;case ViewConstants.Uq:this.qy(d,c,b,a,f,e);break;case ViewConstants.ql:this.ny(d,c,b,a,f,e);break;case ViewConstants.Au:this.ry(d,
c,b,a,f,e);break;case ViewConstants.ss:this.jy(d,c,b,a,f,e);break;case ViewConstants.Vr:this.iy(d,c,b,a,f,e);break;case ViewConstants.At:this.py(d,c,b,a,f,e)}d.Tj=d.M-1;d.M=1;d.P[0]=120;a=g+f*(d.Ub+2);a=d.Nh!==ViewConstants.vh?this.my(d,"Up"," / ","Down","scroll help",c,b,a,f,0):a+f;d.be?this.b(d,"H","close help",c,b,a,f,0):this.b(d,"H / Esc","close help",c,b,a,f,0)},sy:function(d,c,b,a,f,e){d.M=1;d.te=!1;d.R=[];d.P[0]=108;d.R[0]=[d.M,"Top"];this.b(d,"",ViewConstants.Ou+" build "+ViewConstants.Fr+
" by "+ViewConstants.Nu,c,b,a,f,e)},oy:function(d,c,b,a,f,e){var g,x=0;d.M=1;d.te=!1;d.R=[];d.P[0]=124;d.R[x]=[d.M,"Top"];x+=1;a=this.b(d,"","Keyboard commands",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[x]=[d.M,"Playback"];x+=1;a=this.b(d,"","Playback controls:",c,b,a,f,e);d.Lb?a=this.b(d,"R","reset",c,b,a,f,e):(a=this.b(d,"Enter","toggle play / pause",c,b,a,f,e),a=this.b(d,"Space","pause / next generation",c,b,a,f,e),a=this.b(d,"B","pause / previous generation",c,b,a,f,e),a=this.b(d,"Tab","pause / next step",
c,b,a,f,e),a=this.b(d,"Shift Tab","pause / previous step",c,b,a,f,e),a=d.be?this.b(d,"Esc","close LifeViewer",c,b,a,f,e):this.b(d,"Esc","pause if playing",c,b,a,f,e),a=this.b(d,"R","reset to generation 0",c,b,a,f,e),a=this.b(d,"Shift R","reset all LifeViewers to generation 0",c,b,a,f,e),a=this.b(d,"-","decrease generation speed",c,b,a,f,e),a=this.b(d,"+","increase generation speed",c,b,a,f,e),a=this.b(d,"Shift -","minimum generation speed",c,b,a,f,e),a=this.b(d,"Shift +","maximum generation speed",
c,b,a,f,e),a=this.b(d,"D","decrease step size",c,b,a,f,e),a=this.b(d,"E","increase step size",c,b,a,f,e),a=this.b(d,"Shift D","minimum step size",c,b,a,f,e),a=this.b(d,"Shift E","maximum step size",c,b,a,f,e),a=this.b(d,"0","reset step and speed",c,b,a,f,e),d.Gb?-1!==d.ia?(a=this.b(d,"W","toggle waypoint playback and loop",c,b,a,f,e),a=this.b(d,"Shift P","toggle just loop",c,b,a,f,e)):a=this.b(d,"W","toggle waypoint playback",c,b,a,f,e):-1!==d.ia&&(a=this.b(d,"W","toggle loop",c,b,a,f,e)));a=this.b(d,
"","",c,b,a,f,e);d.R[x]=[d.M,"Multi"];x+=1;a=this.b(d,"","Multi-Viewer controls:",c,b,a,f,e);DocConfig.Ma&&(a=this.b(d,"Page Up","previous universe",c,b,a,f,e),a=this.b(d,"Page Down","next universe",c,b,a,f,e),a=this.b(d,"Home","first universe",c,b,a,f,e),a=this.b(d,"End","last universe",c,b,a,f,e));a=this.b(d,"Z","stop playback in all other LifeViewers",c,b,a,f,e);a=this.b(d,"Shift Z","stop playback in all LifeViewers",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[x]=[d.M,"Camera"];x+=1;a=this.b(d,
"","Camera controls:",c,b,a,f,e);if(d.B>=ViewConstants.eh||(d.ra&&d.vr)>=ViewConstants.eh)a=this.b(d,"M","toggle navigation menu",c,b,a,f,e);a=this.b(d,"V","restore saved camera position",c,b,a,f,e);a=this.b(d,"Shift V","save current camera position",c,b,a,f,e);var m=d.D.mb.length;if(0<m)for(a=this.b(d,"J","jump to next point of interest",c,b,a,f,e),a=this.b(d,"Shift J","jump to previous point of interest",c,b,a,f,e),9<m&&(m=9),g=1;g<=m;g+=1)a=this.b(d,"Alt "+String(g),"jump to POI #"+String(g),c,
b,a,f,e);a=this.b(d,"F","fit pattern to display",c,b,a,f,e);a=this.b(d,"Shift F","toggle autofit",c,b,a,f,e);a=this.b(d,"Shift H","toggle autofit history mode",c,b,a,f,e);d.a.mc&&(a=this.b(d,"Shift S","toggle autofit state 1 mode",c,b,a,f,e));a=this.b(d,"[","zoom out",c,b,a,f,e);a=this.b(d,"]","zoom in",c,b,a,f,e);a=this.b(d,"Shift [","halve zoom",c,b,a,f,e);a=this.b(d,"Shift ]","double zoom",c,b,a,f,e);a=this.b(d,"1","1x zoom",c,b,a,f,e);a=this.b(d,"2","2x zoom",c,b,a,f,e);a=this.b(d,"4","4x zoom",
c,b,a,f,e);a=this.b(d,"8","8x zoom",c,b,a,f,e);a=this.b(d,"6","16x zoom",c,b,a,f,e);a=this.b(d,"3","32x zoom",c,b,a,f,e);a=this.b(d,"Shift 1","integer zoom",c,b,a,f,e);a=this.b(d,"Shift 2","-2x zoom",c,b,a,f,e);a=this.b(d,"Shift 4","-4x zoom",c,b,a,f,e);a=this.b(d,"Shift 8","-8x zoom",c,b,a,f,e);a=this.b(d,"Shift 6","-16x zoom",c,b,a,f,e);a=this.b(d,"Left","pan left",c,b,a,f,e);a=this.b(d,"Right","pan right",c,b,a,f,e);a=this.b(d,"Up","pan up",c,b,a,f,e);a=this.b(d,"Down","pan down",c,b,a,f,e);a=
this.b(d,"Shift Left","pan north west",c,b,a,f,e);a=this.b(d,"Shift Right","pan south east",c,b,a,f,e);a=this.b(d,"Shift Up","pan north east",c,b,a,f,e);a=this.b(d,"Shift Down","pan south west",c,b,a,f,e);a=this.b(d,"<","rotate left",c,b,a,f,e);a=this.b(d,">","rotate right",c,b,a,f,e);a=this.b(d,"Shift <","rotate left 90 degrees",c,b,a,f,e);a=this.b(d,"Shift >","rotate right 90 degrees",c,b,a,f,e);a=this.b(d,"5","reset angle",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.Lb||(d.R[x]=[d.M,"View"],x+=1,
a=this.b(d,"","View controls:",c,b,a,f,e),a=this.b(d,"Q","increase number of layers",c,b,a,f,e),a=this.b(d,"A","decrease number of layers",c,b,a,f,e),a=this.b(d,"P","increase layer depth",c,b,a,f,e),a=this.b(d,"L","decrease layer depth",c,b,a,f,e),a=this.b(d,"C","next colour theme",c,b,a,f,e),a=this.b(d,"Shift C","previous colour theme",c,b,a,f,e),a=this.b(d,"Alt C","default theme",c,b,a,f,e),a=this.b(d,"","",c,b,a,f,e));d.R[x]=[d.M,"Display"];x+=1;a=this.b(d,"","Display controls:",c,b,a,f,e);d.Lb||
(a=this.b(d,"G","toggle generation statistics",c,b,a,f,e),a=this.b(d,"Shift G","toggle generation display mode",c,b,a,f,e),a=this.b(d,"Y","toggle population graph",c,b,a,f,e),a=this.b(d,"Shift Y","toggle graph lines",c,b,a,f,e),a=this.b(d,"7","decrease graph opacity",c,b,a,f,e),a=this.b(d,"9","increase graph opacity",c,b,a,f,e));a=this.b(d,"/","toggle hex view",c,b,a,f,e);a=this.b(d,"Shift /","pattern default view",c,b,a,f,e);a=this.b(d,"T","toggle timing information",c,b,a,f,e);a=this.b(d,"Shift T",
"toggle extended timing information",c,b,a,f,e);a=this.b(d,"I","toggle pattern and engine information",c,b,a,f,e);a=this.b(d,"Shift I","toggle information bar",c,b,a,f,e);a=this.b(d,"X","toggle grid lines",c,b,a,f,e);0<d.a.Nd&&(a=this.b(d,"Shift X","toggle major grid lines",c,b,a,f,e));0<d.D.Xn()&&(a=this.b(d,"Shift L","toggle annotation display",c,b,a,f,e));d.ph&&(a=this.b(d,"N","toggle thumbnail view",c,b,a,f,e));a=this.b(d,"S","toggle stars",c,b,a,f,e);a=this.b(d,"O","open screenshot in separate window",
c,b,a,f,e);a=this.b(d,"Shift O","open population graph in separate window",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[x]=[d.M,"Clipboard"];x+=1;a=this.b(d,"","Clipboard controls:",c,b,a,f,e);a=this.b(d,"Ctrl+Shift C","copy original pattern",c,b,a,f,e);a=this.b(d,"Ctrl C","copy current pattern",c,b,a,f,e);a=this.b(d,"Ctrl+Alt C","copy current pattern with comments",c,b,a,f,e);a=this.b(d,"K","copy camera position",c,b,a,f,e);a=this.b(d,"Shift K","copy camera position and view",c,b,a,f,e);a=this.b(d,
"","",c,b,a,f,e);d.R[x]=[d.M,"Edit"];x+=1;a=this.b(d,"","Edit controls:",c,b,a,f,e);a=this.b(d,"F1","toggle draw/pan mode",c,b,a,f,e);a=this.b(d,"Shift F1","toggle smart drawing",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[x]=[d.M,"Help"];a=this.b(d,"","Help controls:",c,b,a,f,e);a=this.b(d,"Up","scroll up one line",c,b,a,f,e);a=this.b(d,"Down","scroll down one line",c,b,a,f,e);a=this.b(d,"Page Up","scroll up one page",c,b,a,f,e);a=this.b(d,"Page Down","scroll down one page",c,b,a,f,e);a=this.b(d,
"Shift Page Up","scroll up one section",c,b,a,f,e);a=this.b(d,"Shift Page Down","scroll down one section",c,b,a,f,e);a=this.b(d,"Home","go to first help page",c,b,a,f,e);this.b(d,"End","go to last help page",c,b,a,f,e)},qy:function(d,c,b,a,f,e){var g=0;d.M=1;d.te=!1;d.R=[];d.P[0]=252;d.R[g]=[d.M,"Top"];g+=1;a=this.b(d,"","Scripts",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);a=this.b(d,"","Scripts must be embedded in pattern comments",c,b,a,f,e);a=this.b(d,"","Commands must be surrounded by whitespace",
c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Params"];g+=1;a=this.b(d,"","Parameter conventions:",c,b,a,f,e);a=this.b(d,"A|B","either A or B",c,b,a,f,e);a=this.b(d,"(A)","A is optional",c,b,a,f,e);a=this.b(d,"<1..3>","integer range",c,b,a,f,e);a=this.b(d,"<1.0..3.0>","decimal range",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"General"];g+=1;a=this.b(d,"","General:",c,b,a,f,e);a=this.b(d,Keywords.jj,"start script section",c,b,a,f,e);a=this.b(d,Keywords.ck,"end script section",c,b,a,
f,e);a=this.b(d,Keywords.kr,"enable strict validation",c,b,a,f,e);a=this.b(d,Keywords.lr,"suppress overwrite warning",c,b,a,f,e);a=this.b(d,Keywords.Lq+" <string>","set random seed",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Playback"];g+=1;a=this.b(d,"","Playback:",c,b,a,f,e);a=this.b(d,Keywords.Bm+" ("+Keywords.Ga+")","start play automatically",c,b,a,f,e);a=this.b(d,Keywords.Vf+" <1..>|"+Keywords.Ga,"loop at generation",c,b,a,f,e);a=this.b(d,Keywords.eg+" <1..>|"+Keywords.Ga,"stop at generation",
c,b,a,f,e);a=this.b(d,Keywords.Ui+" <"+ViewConstants.ee+".."+ViewConstants.Uh+">","set steps per second",c,b,a,f,e);a=this.b(d,Keywords.nj+" <"+ViewConstants.$i+".."+ViewConstants.Rd+">","set generations per step",c,b,a,f,e);a=this.b(d,Keywords.Op,"always use hard reset",c,b,a,f,e);a=this.b(d,Keywords.sm,"disable playback",c,b,a,f,e);a=this.b(d,Keywords.rq,"disable step back",c,b,a,f,e);a=this.b(d,Keywords.uq,"disable stop messages",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Camera"];g+=
1;a=this.b(d,"","Camera:",c,b,a,f,e);a=this.b(d,Keywords.Ah+" <0..359>","set camera angle",c,b,a,f,e);a=this.b(d,Keywords.Rc+" <-"+(d.a.T>>1)+".."+(d.a.T>>1)+">","set camera x position",c,b,a,f,e);a=this.b(d,Keywords.Sc+" <-"+(d.a.T>>1)+".."+(d.a.T>>1)+">","set camera y position",c,b,a,f,e);a=this.b(d,Keywords.ic+" <"+Number(-1/ViewConstants.Ra).toFixed(1)+".."+ViewConstants.yb.toFixed(1)+">","set camera zoom",c,b,a,f,e);a=this.b(d,Keywords.Wo,"same as "+Keywords.ic,c,b,a,f,e);a=this.b(d,Keywords.Am+
" ("+Keywords.Ga+")","fit pattern to display",c,b,a,f,e);a=this.b(d,Keywords.Up+" ("+Keywords.Ga+")","autofit uses pattern history",c,b,a,f,e);a=this.b(d,Keywords.ir+" ("+Keywords.Ga+")","autofit only uses state 1",c,b,a,f,e);a=this.b(d,Keywords.om+" X Y","camera tracking",c,b,a,f,e);a=this.b(d," X ","horizontal speed cells/gen",c,b,a,f,e);a=this.b(d," Y ","vertical speed cells/gen",c,b,a,f,e);a=this.b(d,Keywords.tj+" E S W N","camera box tracking",c,b,a,f,e);a=this.b(d," E ","east edge speed cells/gen",
c,b,a,f,e);a=this.b(d," S ","south edge speed cells/gen",c,b,a,f,e);a=this.b(d," W ","west edge speed cells/gen",c,b,a,f,e);a=this.b(d," N ","north edge speed cells/gen",c,b,a,f,e);a=this.b(d,Keywords.nm+" P X Y","camera tracking with loop",c,b,a,f,e);a=this.b(d," P ","period",c,b,a,f,e);a=this.b(d," X ","horizontal speed cells/gen",c,b,a,f,e);a=this.b(d," Y ","vertical speed cells/gen",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Waypoints"];g+=1;a=this.b(d,"","Waypoints:",c,b,a,f,e);a=this.b(d,
Keywords.dm+" <0..>","waypoint at generation",c,b,a,f,e);a=this.b(d,Keywords.zq+" <0.0..>","pause for time",c,b,a,f,e);a=this.b(d,Keywords.Ee+" "+Keywords.ze+"|"+Keywords.Rc+"|"+Keywords.Sc+"|"+Keywords.ic,"linear motion",c,b,a,f,e);a=this.b(d,Keywords.xf+" "+Keywords.ze+"|"+Keywords.Rc+"|"+Keywords.Sc+"|"+Keywords.ic,"bezier motion (default)",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"POIs"];g+=1;a=this.b(d,"","Points of interest:",c,b,a,f,e);a=this.b(d,Keywords.eo,"define point of interest",
c,b,a,f,e);a=this.b(d,Keywords.co+" <0..>","start POI at generation",c,b,a,f,e);a=this.b(d,Keywords.Nl,"reset generation at POI",c,b,a,f,e);a=this.b(d,Keywords.Zj,"start playback at POI",c,b,a,f,e);a=this.b(d,Keywords.$j,"stop playback at POI",c,b,a,f,e);a=this.b(d,Keywords.Ol+" <"+WaypointConstants.St+".."+WaypointConstants.Rt+">","set POI transition speed",c,b,a,f,e);a=this.b(d,"<command>|ALL "+Keywords.Qa,"use initial value for POI",c,b,a,f,e);a=this.b(d,Keywords.Ob+"<string>"+Keywords.Ob,"define message",
c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Annotations"];g+=1;a=this.b(d,"","Annotations:",c,b,a,f,e);a=this.b(d,Keywords.sl+" X Y ZOOM ("+Keywords.Mc+")","define label at position",c,b,a,f,e);a=this.b(d," "+Keywords.Ob+"<string>"+Keywords.Ob,"... optionally fix position",c,b,a,f,e);a=this.b(d,Keywords.cq+" <"+ViewConstants.Dt+".."+ViewConstants.wt+">","define label font size",c,b,a,f,e);a=this.b(d,Keywords.aq+" <0.0..1.0>","define label font alpha",c,b,a,f,e);a=this.b(d,Keywords.eq+" <0..> <0..> <0..>",
"generation range / fade",c,b,a,f,e);a=this.b(d,Keywords.bq+" <0..359>","label angle",c,b,a,f,e);a=this.b(d," ("+Keywords.Mc+")","... optionally fix angle",c,b,a,f,e);a=this.b(d,Keywords.fq+" X Y D|"+Keywords.Ga,"label target and distance",c,b,a,f,e);a=this.b(d,Keywords.gq+" DX DY|"+Keywords.Mc,"label move per generation",c,b,a,f,e);a=this.b(d,Keywords.Mk+" X1 Y1 X2 Y2 ZOOM","define arrow at position",c,b,a,f,e);a=this.b(d," ("+Keywords.Mc+")","... optionally fix position",c,b,a,f,e);a=this.b(d,Keywords.$o+
" <"+ViewConstants.Rn+".."+ViewConstants.Kn+"> <0.0..1.0>","line width and head multiple",c,b,a,f,e);a=this.b(d,Keywords.Yo+" <0.0..1.0>","define arrow alpha",c,b,a,f,e);a=this.b(d,Keywords.ap+" <0..> <0..> <0..>","generation range / fade",c,b,a,f,e);a=this.b(d,Keywords.Zo+" <0..359>","arrow angle",c,b,a,f,e);a=this.b(d," ("+Keywords.Mc+")","... optionally fix angle",c,b,a,f,e);a=this.b(d,Keywords.bp+" X Y D|"+Keywords.Ga,"arrow target and distance",c,b,a,f,e);a=this.b(d,Keywords.cp+" DX DY|"+Keywords.Mc,
"arrow move per generation",c,b,a,f,e);a=this.b(d,Keywords.Dq+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",c,b,a,f,e);a=this.b(d," ("+Keywords.Mc+")","... optionally fix position",c,b,a,f,e);a=this.b(d,Keywords.fo+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",c,b,a,f,e);a=this.b(d," ("+Keywords.Mc+")","... optionally fix position",c,b,a,f,e);a=this.b(d,Keywords.Eq+" <"+ViewConstants.Rn+".."+ViewConstants.Kn+">","line width",c,b,a,f,e);a=this.b(d,Keywords.Bq+" <0.0..1.0>","define polygon alpha",
c,b,a,f,e);a=this.b(d,Keywords.Fq+" <0..> <0..> <0..>","generation range / fade",c,b,a,f,e);a=this.b(d,Keywords.Cq+" <0..359>","polygon angle",c,b,a,f,e);a=this.b(d," ("+Keywords.Mc+")","... optionally fix angle",c,b,a,f,e);a=this.b(d,Keywords.Gq+" X Y D|"+Keywords.Ga,"polygon target and distance",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Display"];g+=1;a=this.b(d,"","Display:",c,b,a,f,e);a=this.b(d,Keywords.nk+" <"+ViewConstants.jd+".."+d.og+">","set LifeViewer width",c,b,a,f,e);a=this.b(d,
Keywords.Mj+" <"+ViewConstants.Sj+".."+ViewConstants.Nn+">","set LifeViewer height",c,b,a,f,e);a=this.b(d,Keywords.Ql+" <"+ViewConstants.jd+".."+d.og+">","set popup width",c,b,a,f,e);a=this.b(d,Keywords.Pl+" <"+ViewConstants.Sj+".."+ViewConstants.Nn+">","set popup height",c,b,a,f,e);a=this.b(d,Keywords.lk+" "+Keywords.Ob+"<string>"+Keywords.Ob,"set popup window title",c,b,a,f,e);a=this.b(d," "+Keywords.re+"B","program build number",c,b,a,f,e);a=this.b(d," "+Keywords.re+"N","pattern name",c,b,a,f,
e);a=this.b(d," "+Keywords.re+"O","pattern originator",c,b,a,f,e);a=this.b(d," "+Keywords.re+"R","rule name",c,b,a,f,e);a=this.b(d," "+Keywords.re+"A","rule alias",c,b,a,f,e);a=this.b(d," "+Keywords.re+"T","program title",c,b,a,f,e);a=this.b(d," "+Keywords.re+Keywords.re,Keywords.re+" symbol",c,b,a,f,e);a=this.b(d,Keywords.Zi+" <"+ViewConstants.Qn+".."+ViewConstants.Jn+">","set number of layers",c,b,a,f,e);a=this.b(d,Keywords.Ni+" <"+ViewConstants.Pn.toFixed(1)+".."+ViewConstants.ut.toFixed(1)+">",
"set layer depth",c,b,a,f,e);a=this.b(d,Keywords.nl+" ("+Keywords.Ga+")","display grid lines",c,b,a,f,e);a=this.b(d,Keywords.ml+" <0..16>","set major grid line interval",c,b,a,f,e);a=this.b(d,Keywords.wn+" <0.."+(2<d.a.g?1:63)+">","number of history states",c,b,a,f,e);a=this.b(d,Keywords.cm+" ("+Keywords.Ga+")","display stars",c,b,a,f,e);a=this.b(d,Keywords.Sp,"force hex display",c,b,a,f,e);a=this.b(d,Keywords.dr,"force square display",c,b,a,f,e);a=this.b(d,Keywords.qq,"disable menus and hotkeys",
c,b,a,f,e);a=this.b(d,Keywords.at,"hide menus during playback",c,b,a,f,e);a=this.b(d,Keywords.ar,"show timing information",c,b,a,f,e);a=this.b(d,Keywords.Gp,"extended timing information",c,b,a,f,e);a=this.b(d,Keywords.Zq,"show generation statistics",c,b,a,f,e);a=this.b(d,Keywords.$q,"show information bar",c,b,a,f,e);a=this.b(d,Keywords.tq,"hide performance warning",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Thumb"];g+=1;a=this.b(d,"","Thumbnails:",c,b,a,f,e);a=this.b(d,Keywords.yr+" ("+Keywords.Ga+
")","start at 1/"+d.Ac+" size",c,b,a,f,e);a=this.b(d,Keywords.wr+" <"+ViewConstants.Ft+".."+ViewConstants.zt+">","set thumbnail divisor",c,b,a,f,e);a=this.b(d,Keywords.ur+" ("+Keywords.Ga+")","thumbnail launches viewer",c,b,a,f,e);a=this.b(d,Keywords.xr+" <"+Number(-1/ViewConstants.Ra).toFixed(1)+".."+ViewConstants.yb.toFixed(1)+">","set thumbnail zoom",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Graph"];g+=1;a=this.b(d,"","Population Graph:",c,b,a,f,e);a=this.b(d,Keywords.on,"display population graph",
c,b,a,f,e);a=this.b(d,Keywords.Jp+" <0.0..1.0>","population graph opacity",c,b,a,f,e);a=this.b(d,Keywords.Kp,"population graph use points",c,b,a,f,e);a=this.b(d,Keywords.Wn,"disable population graph",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Colours"];g+=1;a=this.b(d,"","Colours:",c,b,a,f,e);a=this.b(d,Keywords.oh+" <0.."+(d.a.Sd-1)+">|<name>","set theme",c,b,a,f,e);a=this.b(d," <name> = "+Keywords.kk,"set custom theme",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Ao+" R G B","set theme background",
c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.zo+" R G B","set theme alive color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.sr+" R G B","set theme alive ramp",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Co+" R G B","set theme dead color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Bo+" R G B","set theme dead ramp",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.gs+" R G B","set boundary color",c,b,a,f,e);a=this.b(d,Keywords.la+" <0.."+String(d.hh-1)+"> R G B","set state color",c,b,a,f,
e);a=this.b(d,Keywords.la+" "+Keywords.It+" R G B","set [R]History state color "+ViewConstants.Jt,c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Kt+" R G B","set [R]History state color "+ViewConstants.Lt,c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.bt+" R G B","set [R]History state color "+ViewConstants.ct,c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.nt+" R G B","set [R]History state color "+ViewConstants.ot,c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.rt+" R G B","set [R]History state color "+
ViewConstants.st,c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.pt+" R G B","set [R]History state color "+ViewConstants.qt,c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.ht+" R G B","set [R]History state color "+ViewConstants.it,c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.nl+" R G B","set grid color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.ml+" R G B","set grid major color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.cm+" R G B","set star color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+
Keywords.qr+" R G B","set waypoint message color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Ep+" R G B","set error message color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Rs+" R G B","set graph background color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Qs+" R G B","set graph axis color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Ps+" R G B","set graph alive color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Ss+" R G B","set graph birth color",c,b,a,f,e);a=this.b(d,Keywords.la+
" "+Keywords.Ts+" R G B","set graph death color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.sl+" R G B","set label text color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Mk+" R G B","set arrow line color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Wt+" R G B","set polygon color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Hu+" R G B","set UI foreground color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Fu+" R G B","set UI background color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Iu+
" R G B","set UI highlight text color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Ku+" R G B","set UI selected color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Ju+" R G B","set UI locked color",c,b,a,f,e);a=this.b(d,Keywords.la+" "+Keywords.Gu+" R G B","set UI border color",c,b,a,f,e);a=this.b(d,Keywords.jp,"same as "+Keywords.la,c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[g]=[d.M,"Pattern"];a=this.b(d,"","Pattern:",c,b,a,f,e);a=this.b(d,Keywords.Ho+" <-"+(d.a.T>>1)+".."+(d.a.T>>1)+">","set pattern x offset",
c,b,a,f,e);a=this.b(d,Keywords.Io+" <-"+(d.a.T>>1)+".."+(d.a.T>>1)+">","set pattern y offset",c,b,a,f,e);a=this.b(d,Keywords.wp+" <"+ViewConstants.Bt+".."+ViewConstants.tt+">","set boundary delete range",c,b,a,f,e);a=this.b(d,Keywords.pq,"disable pattern source copy",c,b,a,f,e);a=this.b(d,Keywords.vq,"hide pattern source",c,b,a,f,e);this.b(d,Keywords.lq+" <"+ViewConstants.Ct+".."+ViewConstants.vt+">","set maximum grid size 2^n",c,b,a,f,e)},ny:function(d,c,b,a,f,e){var g,x=Controller.gc.length,m=d.cd,
E=d.a.Ha[d.a.Yd];var C="";var r=0;d.M=1;d.te=!1;d.R=[];d.P[0]=128;d.R[r]=[d.M,"Top"];r+=1;a=this.b(d,"","Information",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[r]=[d.M,"Display"];r+=1;a=this.b(d,"","Display:",c,b,a,f,e);a=this.b(d,"Size",d.F+" x "+d.B,c,b,a,f,e);DocConfig.xl&&(a=this.b(d,"Limit Width",d.og,c,b,a,f,e));var h=d.a.ka;1>h&&(h=-1/h);a=this.b(d,"View","X "+-(d.a.width/2-(d.a.ca+d.a.Vb)|0)+"  Y "+-(d.a.height/2-(d.a.$+d.a.Mb)|0)+"  Z "+h.toFixed(2)+"  ANGLE "+d.a.angle.toFixed(0),c,b,a,
f,e);h=d.bk;1>h&&(h=1/h);a=this.b(d,"Saved View","X "+-(d.a.width/2-d.Td|0)+"  Y "+-(d.a.height/2-d.ij|0)+"  Z "+h.toFixed(2)+"  ANGLE "+d.Rq.toFixed(0),c,b,a,f,e);a=this.b(d,"Origin","X "+d.a.Vb.toFixed(2)+"  Y "+d.a.Mb.toFixed(2)+"  Z "+d.a.yc.toFixed(3),c,b,a,f,e);d.Pb?C=d.Lb?"Multi-State Viewer":"Viewer":d.a.mc&&(C="History Player");a=this.b(d,"Type",C,c,b,a,f,e);C=d.a.Z?"Hex":"Square";a=this.b(d,"Mode",C,c,b,a,f,e);d.ph&&(a=this.b(d,"Thumbnail","1/"+d.Ac,c,b,a,f,e));a=this.b(d,"","",c,b,a,f,
e);d.R[r]=[d.M,"Pattern"];r+=1;a=this.b(d,"","Pattern:",c,b,a,f,e);""!==d.Uj&&(a=this.b(d,"Name",d.Uj,c,b,a,f,e));""!==d.Kl&&(a=this.b(d,"Originator",d.Kl,c,b,a,f,e));a=this.b(d,"Actual Size",d.$f+" x "+d.tg,c,b,a,f,e);-1!==d.sf&&-1!==d.rf&&(a=this.b(d,"Specified",d.sf+" x "+d.rf,c,b,a,f,e));a=this.b(d,"Offset","X "+d.pd+"  Y "+d.qd,c,b,a,f,e);d.Jh&&(a=this.b(d,"CXRLE Gen",d.mn,c,b,a,f,e));d.cg&&(a=this.b(d,"CXRLE Pos","X "+d.ai+"  Y "+d.bi,c,b,a,f,e));d.Nr&&(a=this.b(d,"Clipped",(0===d.a.wa?"Inf":
d.a.wa)+" x "+(0===d.a.ya?"Inf":d.a.ya)+" "+PatternManager.hs(d.a.na),c,b,a,f,e));d.Aa?C=d.ug:(C=d.ug,""===C&&(C="(none)"));if("MAP"===C.substr(0,3)&&C.length===PatternManager.Rj+3)for(a=this.b(d,"Rule","MAP",c,b,a,f,e),h=3;h<PatternManager.Rj+3;)a=this.b(d,"  "+(h-3),C.substr(h,16),c,b,a,f,e),h+=16;else d.te=!0,a=this.b(d,"Rule",C,c,b,a,f,e),d.te=!1;""!==d.lf&&(a=this.b(d,"Alias",d.lf,c,b,a,f,e));-1!==d.a.se?C="1D":d.a.Jl?C="Hex":d.a.pa?(C=d.a.Ib.type===PatternManager.Fe?"Moore":d.a.Ib.type===PatternManager.Ne?
"von Neumann":"Circular",1<d.a.Ib.pc&&(C+=" range "+d.a.Ib.pc)):C=d.a.Pd?"von Neumann":"Moore";a=this.b(d,"N'hood",C,c,b,a,f,e);C=d.hh;2<d.hh&&d.Ml!==d.hh&&(C=d.Ml+" of "+C);a=this.b(d,"States",C,c,b,a,f,e);if(d.Ll)for(g=1;g<d.hh;g+=1)d.Ll[g]&&(a=this.b(d,"State "+g,d.Ll[g],c,b,a,f,e));a=this.b(d,"Decoder",d.Zf,c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[r]=[d.M,"Grid"];r+=1;a=this.b(d,"","Grid:",c,b,a,f,e);a=this.b(d,"Size",d.a.width+" x "+d.a.height,c,b,a,f,e);a=this.b(d,"Maximum",d.a.T+" x "+d.a.T,
c,b,a,f,e);a=this.b(d,"Area",this.Lv(d),c,b,a,f,e);a=0!==(d.a.s&1)?this.b(d,"Tiles",d.a.hm(d.a.Sa)+" / "+d.a.hm(d.a.Ta),c,b,a,f,e):this.b(d,"Tiles",d.a.hm(d.a.sa)+" / "+d.a.hm(d.a.Ta),c,b,a,f,e);d.a.Vd&&(a=this.b(d,"State6",d.a.hm(d.a.Vd),c,b,a,f,e));a=this.b(d,"Tile Size",(d.a.im<<3)+" x "+d.a.jm,c,b,a,f,e);a=this.b(d,"Generation",d.a.s,c,b,a,f,e);a=this.b(d,"DeleteRange",d.a.Sl,c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);-1!==d.a.na&&(d.R[r]=[d.M,"Bounded"],r+=1,a=this.b(d,"","Bounded grid:",c,b,a,f,
e),a=this.b(d,"Type",PatternManager.hs(d.a.na),c,b,a,f,e),a=0===d.a.wa?this.b(d,"Width","Infinite",c,b,a,f,e):this.b(d,"Width",d.a.wa,c,b,a,f,e),4!==d.a.na&&(a=0===d.a.ya?this.b(d,"Height","Infinite",c,b,a,f,e):this.b(d,"Height",d.a.ya,c,b,a,f,e),2===d.a.na&&(a=d.a.gp?this.b(d,"Twist","Horizontal",c,b,a,f,e):this.b(d,"Twist","Vertical",c,b,a,f,e)),0!==d.a.Qk&&(a=this.b(d,"H'Shift",d.a.Qk,c,b,a,f,e)),0!==d.a.Rk&&(a=this.b(d,"V'Shift",d.a.Rk,c,b,a,f,e))),a=this.b(d,"","",c,b,a,f,e));d.R[r]=[d.M,"AutoFit"];
r+=1;a=this.b(d,"","AutoFit:",c,b,a,f,e);a=this.b(d,"Enabled",d.jb?"On":"Off",c,b,a,f,e);a=this.b(d,"Mode",this.Tv(d),c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[r]=[d.M,"Track"];r+=1;a=this.b(d,"","Track:",c,b,a,f,e);a=this.b(d,"Enabled",d.$b&&!d.ac?"On":"Off",c,b,a,f,e);d.$b&&(d.sj?(a=this.b(d,"Mode","Track Box",c,b,a,f,e),a=this.b(d,"Definition","E "+d.Lg.toFixed(3)+"  S "+d.Mg.toFixed(3)+"  W "+d.rh.toFixed(3)+"  N "+d.qh.toFixed(3),c,b,a,f,e)):(a=this.b(d,"Mode","Track",c,b,a,f,e),a=this.b(d,
"Definition","X "+d.Lg.toFixed(3)+"  Y "+d.Mg.toFixed(3),c,b,a,f,e)));a=this.b(d,"Current","E "+d.Km.toFixed(3)+"  S "+d.Mm.toFixed(3)+"  W "+d.Nm.toFixed(3)+"  N "+d.Lm.toFixed(3),c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[r]=[d.M,"Snapshots"];r+=1;a=this.b(d,"","Step back:",c,b,a,f,e);a=this.b(d,"Enabled",d.kf?"Off":"On",c,b,a,f,e);if(!d.kf){a=this.b(d,"Snapshots",d.a.Bd.vz()+"/"+d.a.Bd.We.length,c,b,a,f,e);g=0;h=d.a.Bd.ne.length;if(0<h)for(a=this.b(d,"Reset Gens",h,c,b,a,f,e);g<h;)a=this.b(d,String(g),
d.a.Bd.ne[g].s,c,b,a,f,e),g+=1;a=this.b(d,"Buffer",(d.a.Bd.bufferSize()>>10)+"K",c,b,a,f,e);a=this.b(d,"Next Gen",d.a.cj,c,b,a,f,e)}a=this.b(d,"","",c,b,a,f,e);d.R[r]=[d.M,"Engine"];r+=1;a=this.b(d,"","Engine:",c,b,a,f,e);a=this.b(d,"Name",ViewConstants.Ou,c,b,a,f,e);a=this.b(d,"Build",ViewConstants.Fr,c,b,a,f,e);a=this.b(d,"Author",ViewConstants.Nu,c,b,a,f,e);a=this.b(d,"Decoders","RLE, Life 1.06, Life 1.05, Cells",c,b,a,f,e);a=this.b(d,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",c,b,a,f,e);
a=this.b(d,"Rules","Wolfram, Totalistic, Generations,",c,b,a,f,e);a=this.b(d," ","Isotropic Non-Totalistic (Hensel),",c,b,a,f,e);a=this.b(d," ","Alternating, MAP, Larger than Life (LtL),",c,b,a,f,e);a=this.b(d," ","Higher-range outer-totalistic (HROT)",c,b,a,f,e);a=this.b(d,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",c,b,a,f,e);a=this.b(d,"States","2 state, [R]History, Niemiec, Generations",c,b,a,f,e);a=this.b(d,"Viewers",x,c,b,a,f,e);a=this.b(d,"Playing",Controller.Bz(),c,b,a,f,e);
if(DocConfig.Ma){h=Controller.zc.length;a=this.b(d,"Universe","Multi ("+(d.Bb+1)+" of "+h+")",c,b,a,f,e);d.te=!0;for(g=0;g<h;g+=1)a=this.b(d,String(g+1)+(g===d.Bb?"*":""),Controller.zc[g].name,c,b,a,f,e),a=this.b(d," ",Controller.zc[g].Ey,c,b,a,f,e),a=this.b(d," ",Controller.zc[g].width+" x "+Controller.zc[g].height,c,b,a,f,e);d.te=!1}else a=this.b(d,"Universe","Single",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.P[1]=210;d.P[2]=270;d.P[3]=330;if(d.Lb)for(d.R[r]=[d.M,"Colours"],r+=1,a=this.b(d,"","Set:",
c,b,a,f,e),a=this.b(d,"Name",d.Tk,c,b,a,f,e),a=this.b(d,"Used",d.Ml,c,b,a,f,e),g=0;g<d.Ki.length;g+=1)d.Ki[g]!==ViewConstants.jr&&(x=this.qc(m[g]>>16&255,m[g]>>8&255,m[g]&255),C=String(g),d.Ki[g]!==ViewConstants.uu||d.wm||(C+="*"),this.Ka(d,m[g]>>16,m[g]>>8&255,m[g]&255,c,b+d.P[0],a,f,e),a=this.b(d,C,x,c,b,a,f,e));else{d.R[r]=[d.M,"Theme"];r+=1;a=this.b(d,"","Theme:",c,b,a,f,e);a=this.b(d,"Name",d.a.Ha[d.a.Yd].name,c,b,a,f,e);a=this.b(d,"History",d.ea,c,b,a,f,e);this.Ka(d,d.a.ib[0],d.a.fb[0],d.a.eb[0],
c,b+d.P[0],a,f,e);a=this.b(d,"Background",this.qc(d.a.ib[0],d.a.fb[0],d.a.eb[0]),c,b,a,f,e);if(2<d.a.g){C=d.a.g+d.ea-1;this.Ka(d,d.a.ib[C],d.a.fb[C],d.a.eb[C],c,b+d.P[0],a,f,e);a=this.b(d,"Alive",this.qc(d.a.ib[C],d.a.fb[C],d.a.eb[C]),c,b,a,f,e);for(g=1;g<d.a.g-1;g+=1)C=d.a.g-g+d.ea-1,this.Ka(d,d.a.ib[C],d.a.fb[C],d.a.eb[C],c,b+d.P[0],a,f,e),a=this.b(d,"Dying "+g,this.qc(d.a.ib[C],d.a.fb[C],d.a.eb[C]),c,b,a,f,e);0<d.ea&&(C=d.ea,this.Ka(d,d.a.ib[C],d.a.fb[C],d.a.eb[C],c,b+d.P[0],a,f,e),a=this.b(d,
"Dead",this.qc(d.a.ib[C],d.a.fb[C],d.a.eb[C]),c,b,a,f,e),1<d.ea&&(C=1,this.Ka(d,d.a.ib[C],d.a.fb[C],d.a.eb[C],c,b+d.P[0],a,f,e),a=this.b(d,"DeadRamp",this.qc(d.a.ib[C],d.a.fb[C],d.a.eb[C]),c,b,a,f,e)))}else this.Ka(d,E.va.v.red,E.va.v.green,E.va.v.blue,c,b+d.P[0],a,f,e),a=this.b(d,"Alive",this.Ad(E.va.v),c,b,a,f,e),E.va.v.red!==E.va.w.red||E.va.v.green!==E.va.w.green||E.va.v.blue!==E.va.w.blue?(this.Ka(d,E.va.w.red,E.va.w.green,E.va.w.blue,c,b+d.P[0],a,f,e),a=this.b(d,"AliveRamp",this.Ad(E.va.w),
c,b,a,f,e)):a=this.b(d,"AliveRamp","    (none)",c,b,a,f,e),0<d.ea&&(this.Ka(d,E.ta.w.red,E.ta.w.green,E.ta.w.blue,c,b+d.P[0],a,f,e),a=this.b(d,"Dead",this.Ad(E.ta.w),c,b,a,f,e),1<d.ea&&(E.ta.v.red!==E.ta.w.red||E.ta.v.green!==E.ta.w.green||E.ta.v.blue!==E.ta.w.blue?(this.Ka(d,E.ta.v.red,E.ta.v.green,E.ta.v.blue,c,b+d.P[0],a,f,e),a=this.b(d,"DeadRamp",this.Ad(E.ta.v),c,b,a,f,e)):a=this.b(d,"DeadRamp","    (none)",c,b,a,f,e)));if(d.a.mc)for(g=3;6>=g;g+=1)h=128+ViewConstants.bb[g],x=this.qc(d.a.ib[h],
d.a.fb[h],d.a.eb[h]),C=ViewConstants.tu[g],this.Ka(d,d.a.ib[h],d.a.fb[h],d.a.eb[h],c,b+d.P[0],a,f,e),a=this.b(d,C,x,c,b,a,f,e)}this.Ka(d,d.Ch[0],d.Ch[1],d.Ch[2],c,b+d.P[0],a,f,e);a=this.b(d,"Boundary",this.qc(d.Ch[0],d.Ch[1],d.Ch[2]),c,b,a,f,e);d.Be&&(this.Ka(d,d.Be[0],d.Be[1],d.Be[2],c,b+d.P[0],a,f,e),a=this.b(d,"Text",this.qc(d.Be[0],d.Be[1],d.Be[2]),c,b,a,f,e));d.Ug&&(this.Ka(d,d.Ug[0],d.Ug[1],d.Ug[2],c,b+d.P[0],a,f,e),a=this.b(d,"Error",this.qc(d.Ug[0],d.Ug[1],d.Ug[2]),c,b,a,f,e));a=this.b(d,
"","",c,b,a,f,e);d.R[r]=[d.M,"Grid Lines"];r+=1;a=this.b(d,"","Grid Lines:",c,b,a,f,e);C=d.a.wc?"On":"Off";d.a.wc&&!d.a.Tg()&&(C+=" (Hidden)");a=this.b(d,"Enabled",C,c,b,a,f,e);this.Ka(d,d.a.Od>>16,d.a.Od>>8&255,d.a.Od&255,c,b+d.P[0],a,f,e);a=this.b(d,"Line Color",this.qc(d.a.Od>>16,d.a.Od>>8&255,d.a.Od&255),c,b,a,f,e);this.Ka(d,d.a.Md>>16,d.a.Md>>8&255,d.a.Md&255,c,b+d.P[0],a,f,e);a=this.b(d,"Major Color",this.qc(d.a.Md>>16,d.a.Md>>8&255,d.a.Md&255),c,b,a,f,e);C=0<d.a.Nd&&d.a.Of?String(d.a.Nd):"Off";
a=this.b(d,"Interval",C,c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[r]=[d.M,"Graph"];r+=1;a=this.b(d,"","Population Graph:",c,b,a,f,e);a=this.b(d,"Enabled",d.ab?"On":"Off",c,b,a,f,e);a=this.b(d,"Disabled",d.Ic?"On":"Off",c,b,a,f,e);a=this.b(d,"Mode",d.le?"Lines":"Points",c,b,a,f,e);a=this.b(d,"Opacity",d.Nb.toFixed(2),c,b,a,f,e);this.Ka(d,d.a.Lf[0],d.a.Lf[1],d.a.Lf[2],c,b+d.P[0],a,f,e);a=this.b(d,"Bg Color",this.qc(d.a.Lf[0],d.a.Lf[1],d.a.Lf[2]),c,b,a,f,e);this.Ka(d,d.a.Kf[0],d.a.Kf[1],d.a.Kf[2],c,
b+d.P[0],a,f,e);a=this.b(d,"Axis Color",this.qc(d.a.Kf[0],d.a.Kf[1],d.a.Kf[2]),c,b,a,f,e);this.Ka(d,d.a.Jf[0],d.a.Jf[1],d.a.Jf[2],c,b+d.P[0],a,f,e);a=this.b(d,"Alive Color",this.qc(d.a.Jf[0],d.a.Jf[1],d.a.Jf[2]),c,b,a,f,e);this.Ka(d,d.a.Mf[0],d.a.Mf[1],d.a.Mf[2],c,b+d.P[0],a,f,e);a=this.b(d,"Birth Color",this.qc(d.a.Mf[0],d.a.Mf[1],d.a.Mf[2]),c,b,a,f,e);this.Ka(d,d.a.Nf[0],d.a.Nf[1],d.a.Nf[2],c,b+d.P[0],a,f,e);a=this.b(d,"Death Color",this.qc(d.a.Nf[0],d.a.Nf[1],d.a.Nf[2]),c,b,a,f,e);a=this.b(d,"",
"",c,b,a,f,e);d.R[r]=[d.M,"Stars"];r+=1;a=this.b(d,"","Stars:",c,b,a,f,e);a=this.b(d,"Enabled",d.dg?"On":"Off",c,b,a,f,e);this.Ka(d,d.ih.red,d.ih.green,d.ih.blue,c,b+d.P[0],a,f,e);a=this.b(d,"Color",this.Ad(d.ih),c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[r]=[d.M,"Script"];r+=1;a=this.b(d,"","Script:",c,b,a,f,e);a=this.b(d,"Commands",d.Gl,c,b,a,f,e);a=this.b(d,"Errors",d.xq,c,b,a,f,e);if(d.Gb)for(a=this.b(d,"","",c,b,a,f,e),d.R[r]=[d.M,"Waypoints"],r+=1,a=this.b(d,"","Waypoints:",c,b,a,f,e),a=this.b(d,
"Enabled",d.hc?"Off":"On",c,b,a,f,e),a=this.b(d,"Number",d.D.ha.length,c,b,a,f,e),g=0;g<d.D.ha.length;g+=1)C=String(g),g===d.D.mh&&(C=d.D.fp(d.elapsedTime)?C+">":C+"*"),a=this.b(d,C,d.D.Dz(g),c,b,a,f,e);if(d.D.mb.length)for(a=this.b(d,"","",c,b,a,f,e),d.R[r]=[d.M,"POIs"],r+=1,a=this.b(d,"","Points of interest:",c,b,a,f,e),a=this.b(d,"Number",d.D.mb.length,c,b,a,f,e),g=0;g<d.D.mb.length;g+=1)C=String(g+1),g===d.Zd&&(C+="*"),g===d.Li&&(C+=" INITIAL"),h=!1,m=d.D.Rx(g),""!==m&&(a=this.b(d,h?" ":C,(h?
"  ":"")+m,c,b,a,f,e),h=!0),m=d.D.Vx(g),""!==m&&(a=this.b(d,h?" ":C,(h?"  ":"")+m,c,b,a,f,e),h=!0),m=d.D.Sx(g),""!==m&&(a=this.b(d,h?" ":C,(h?"  ":"")+m,c,b,a,f,e),h=!0),m=d.D.Qt(g),""!==m&&(a=this.b(d,h?" ":C,(h?"  ":"")+m,c,b,a,f,e),h=!0),m=d.D.Ux(g),""!==m&&(a=this.b(d,h?" ":C,(h?"  ":"")+m,c,b,a,f,e),h=!0),m=d.D.Tx(g),""!==m&&(a=this.b(d,h?" ":C,(h?"  ":"")+m,c,b,a,f,e));if(0<d.D.Xn()){d.P[0]=128;d.P[1]=208;d.P[2]=288;d.P[3]=368;a=this.b(d,"","",c,b,a,f,e);d.R[r]=[d.M,"Annotations"];a=this.b(d,
"","Annotations:",c,b,a,f,e);for(g=0;g<d.D.ce.length;g+=1)C="Label "+String(g+1),a=this.b(d,C,d.D.ox(g),c,b,a,f,e),a=this.b(d," ",d.D.px(g),c,b,a,f,e),a=this.b(d," ",d.D.qx(g),c,b,a,f,e);for(g=0;g<d.D.Wd.length;g+=1)C="Arrow "+String(g+1),a=this.b(d,C,d.D.Mv(g),c,b,a,f,e),a=this.b(d," ",d.D.Nv(g),c,b,a,f,e),a=this.b(d," ",d.D.Ov(g),c,b,a,f,e);for(g=0;g<d.D.ke.length;g+=1)C="Polygon "+String(g+1),a=this.b(d,C,d.D.Wx(g),c,b,a,f,e),a=this.b(d," ",d.D.Xx(g),c,b,a,f,e),a=this.b(d," ",d.D.Yx(g),c,b,a,f,
e)}},ry:function(d,c,b,a,f,e){var g,x=0;d.M=1;d.te=!1;d.R=[];d.P[0]=130;d.P[1]=200;d.P[2]=250;d.P[3]=300;d.R[x]=[d.M,"Top"];x+=1;a=this.b(d,"","Themes",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);a=this.b(d,"","Themes are used to provide a visual representation of",c,b,a,f,e);a=this.b(d,"","cell history and longevity",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);d.R[x]=[d.M,"2-State"];x+=1;a=this.b(d,"","Two-state Themes:",c,b,a,f,e);a=this.b(d,"BACKGROUND","cell never occupied",c,b,a,f,e);a=this.b(d,"ALIVE",
"cell just born",c,b,a,f,e);a=this.b(d,"ALIVERAMP","cell alive for several generations",c,b,a,f,e);a=this.b(d,"DEAD","cell just died",c,b,a,f,e);a=this.b(d,"DEADRAMP","cell dead for several generations",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);a=this.b(d,"",LifeConstants.jc-LifeConstants.Za+1+" states from ALIVE to ALIVERAMP",c,b,a,f,e);a=this.b(d,"",d.ea+" (HISTORYSTATES) states from DEAD to DEADRAMP",c,b,a,f,e);for(g=0;g<d.a.Ha.length-1;g+=1){a=this.b(d,"","",c,b,a,f,e);var m=d.a.Ha[g];a=this.b(d,
"Name"+(g===d.a.Yd&&2>=d.a.g?"*":""),m.name,c,b,a,f,e);this.Ka(d,m.La.red,m.La.green,m.La.blue,c,b+d.P[0],a,f,e);a=this.b(d,"BACKGROUND",this.Ad(m.La),c,b,a,f,e);this.Ka(d,m.va.v.red,m.va.v.green,m.va.v.blue,c,b+d.P[0],a,f,e);a=this.b(d,"ALIVE",this.Ad(m.va.v),c,b,a,f,e);if(m.va.v.red!==m.va.w.red||m.va.v.green!==m.va.w.green||m.va.v.blue!==m.va.w.blue)this.Ka(d,m.va.w.red,m.va.w.green,m.va.w.blue,c,b+d.P[0],a,f,e),a=this.b(d,"ALIVERAMP",this.Ad(m.va.w),c,b,a,f,e);this.Ka(d,m.ta.w.red,m.ta.w.green,
m.ta.w.blue,c,b+d.P[0],a,f,e);a=this.b(d,"DEAD",this.Ad(m.ta.w),c,b,a,f,e);if(m.ta.v.red!==m.ta.w.red||m.ta.v.green!==m.ta.w.green||m.ta.v.blue!==m.ta.w.blue)this.Ka(d,m.ta.v.red,m.ta.v.green,m.ta.v.blue,c,b+d.P[0],a,f,e),a=this.b(d,"DEADRAMP",this.Ad(m.ta.v),c,b,a,f,e);m.Vi&&(this.Ka(d,m.Ye>>16,m.Ye>>8&255,m.Ye&255,c,b+d.P[0],a,f,e),a=this.b(d,"GRID",this.qc(m.Ye>>16,m.Ye>>8&255,m.Ye&255),c,b,a,f,e),this.Ka(d,m.$e>>16,m.$e>>8&255,m.$e&255,c,b+d.P[0],a,f,e),a=this.b(d,"GRIDMAJOR",this.qc(m.$e>>16,
m.$e>>8&255,m.$e&255),c,b,a,f,e),a=this.b(d,"GRIDMAJOR",m.Mp,c,b,a,f,e))}a=this.b(d,"","",c,b,a,f,e);d.R[x]=[d.M,"Multi"];a=this.b(d,"","Multi-state Themes:",c,b,a,f,e);a=this.b(d,"BACKGROUND","cell never occupied",c,b,a,f,e);a=this.b(d,"ALIVE","cell alive",c,b,a,f,e);a=this.b(d,"DYING","cell just starting dying",c,b,a,f,e);a=this.b(d,"DYINGRAMP","cell about to die",c,b,a,f,e);a=this.b(d,"DEAD","cell just died",c,b,a,f,e);a=this.b(d,"DEADRAMP","cell dead for several generations",c,b,a,f,e);a=this.b(d,
"","",c,b,a,f,e);a=this.b(d,"","Rule defines "+(2>d.a.g?"":String(d.a.g-1)+" ")+"states from DYING to DYINGRAMP",c,b,a,f,e);a=this.b(d,"",d.ea+" (HISTORYSTATES) states from DEAD to DEADRAMP",c,b,a,f,e);for(g=0;g<d.a.Ha.length-1;g+=1){a=this.b(d,"","",c,b,a,f,e);m=d.a.Ha[g];a=this.b(d,"Name"+(g===d.a.Yd&&2<d.a.g?"*":""),m.name,c,b,a,f,e);this.Ka(d,m.Ng.red,m.Ng.green,m.Ng.blue,c,b+d.P[0],a,f,e);a=this.b(d,"BACKGROUND",this.Ad(m.Ng),c,b,a,f,e);this.Ka(d,m.ye.red,m.ye.green,m.ye.blue,c,b+d.P[0],a,f,
e);a=this.b(d,"ALIVE",this.Ad(m.ye),c,b,a,f,e);this.Ka(d,m.Pa.w.red,m.Pa.w.green,m.Pa.w.blue,c,b+d.P[0],a,f,e);a=this.b(d,"DYING",this.Ad(m.Pa.w),c,b,a,f,e);if(m.Pa.v.red!==m.Pa.w.red||m.Pa.v.green!==m.Pa.w.green||m.Pa.v.blue!==m.Pa.w.blue)this.Ka(d,m.Pa.v.red,m.Pa.v.green,m.Pa.v.blue,c,b+d.P[0],a,f,e),a=this.b(d,"DYINGRAMP",this.Ad(m.Pa.v),c,b,a,f,e);this.Ka(d,m.xb.w.red,m.xb.w.green,m.xb.w.blue,c,b+d.P[0],a,f,e);a=this.b(d,"DEAD",this.Ad(m.xb.w),c,b,a,f,e);if(m.xb.v.red!==m.xb.w.red||m.xb.v.green!==
m.xb.w.green||m.xb.v.blue!==m.xb.w.blue)this.Ka(d,m.xb.v.red,m.xb.v.green,m.xb.v.blue,c,b+d.P[0],a,f,e),a=this.b(d,"DEADRAMP",this.Ad(m.xb.v),c,b,a,f,e)}},jy:function(d,c,b,a,f,e){var g,x=ColourManager.cd,m=Object.keys(x);d.M=1;d.te=!1;d.R=[];d.P[0]=260;d.P[1]=330;d.P[2]=380;d.P[3]=d.F;d.R[0]=[d.M,"Top"];a=this.b(d,"","Colours",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);a=this.b(d,"","The following names can be used in place of R G B",c,b,a,f,e);a=this.b(d,"","for example [[ COLOUR ALIVE Green ]]",c,
b,a,f,e);a=this.b(d,"","",c,b,a,f,e);for(g=0;g<m.length;g+=1){var E=x[m[g]];this.Ka(d,E[1],E[2],E[3],c,b+d.P[0],a,f,e);a=this.b(d,E[0],this.qc(E[1],E[2],E[3]),c,b,a,f,e)}},iy:function(d,c,b,a,f,e){var g,x=0,m=AliasManager.c,E=AliasManager.nf;d.M=1;d.te=!1;d.R=[];d.P[0]=260;d.R[x]=[d.M,"Top"];x+=1;a=this.b(d,"","Aliases",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);a=this.b(d,"","Alias names can be used as rule names in RLE",c,b,a,f,e);a=this.b(d,"","for example 'rule = HighLife'",c,b,a,f,e);d.te=!0;for(g=
0;g<m.length;g+=1)""===m[g][1]?(a=this.b(d,"","",c,b,a,f,e),d.R[x]=[d.M,E[x-1]],x+=1,a=this.b(d,"",m[g][0]+" Aliases:",c,b,a,f,e)):""!==m[g][0]&&(a=this.b(d,m[g][0]+(m[g][2]?"*":""),m[g][1],c,b,a,f,e))},py:function(d,c,b,a,f,e){var g,x=0,m=Controller.gc.length,E=0,C=0,r=0,h=0,D;d.M=1;d.te=!1;d.R=[];d.P[0]=128;d.P[1]=200;d.P[2]=290;d.P[3]=530;d.R[x]=[d.M,"Top"];x+=1;a=this.b(d,"","Memory usage",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e);if(1<m){d.R[x]=[d.M,"All"];x+=1;a=this.b(d,"","Memory (all "+m+" LifeViewers):",
c,b,a,f,e);for(g=0;g<m;g+=1)if(D=Controller.bx(g))E+=D.a.j.El,r+=D.a.j.qj>>10,C+=D.a.j.Fl,h+=D.a.j.rj>>10;a=this.b(d,"Allocations",E+"\t"+(r>>10)+"M",c,b,a,f,e);a=this.b(d,"Frees",C+"\t"+(h>>10)+"M",c,b,a,f,e);a=this.b(d,"In Use",E-C+"\t"+((r>>10)-(h>>10))+"M",c,b,a,f,e);a=this.b(d,"","",c,b,a,f,e)}d.R[x]=[d.M,"Current"];a=this.b(d,"","Memory (this LifeViewer):",c,b,a,f,e);a=this.b(d,"Allocations",d.a.j.El+"\t"+this.ep(d.a.j.qj)+"M\t"+d.a.j.qj,c,b,a,f,e);a=this.b(d,"Frees",d.a.j.Fl+"\t"+this.ep(d.a.j.rj)+
"M\t"+d.a.j.rj,c,b,a,f,e);a=this.b(d,"In Use",d.a.j.El-d.a.j.Fl+"\t"+this.ep(d.a.j.qj-d.a.j.rj)+"M\t"+(d.a.j.qj-d.a.j.rj),c,b,a,f,e);a=this.b(d,this.Nt("Bytes",10),"Type\tElements\tName\tCount",c,b,a,f,e);for(g=0;g<d.a.j.Ae.length;g+=1)a=this.b(d,this.Nt(String(d.a.j.Ae[g].size),10),d.a.j.Kv(g),c,b,a,f,e);this.b(d,"","",c,b,a,f,e)},Ap:function(d){var c=d.ld;d.Ub=(d.B/19|0)-6;c.fillStyle="black";c.globalAlpha=.5;c.fillRect(0,0,c.canvas.width,c.canvas.height);c.globalAlpha=1;c.fillStyle=ViewConstants.ol;
this.Yq=-2;this.du(d,c,6,14,19,d.U|0);c.fillStyle=ViewConstants.Nj;this.Yq=0;this.du(d,c,4,12,19,d.U|0)},ky:function(d,c,b,a,f,e,g,x,m,E){var C=x,r=0,h=!1,D=d.M;e.fillStyle===ViewConstants.ol&&(h=!0);D>=E&&D<=E+d.Ub&&(e.font=ViewConstants.jl,h||(1<(d.Ua|0)?e.fillStyle=d.Ff:e.fillStyle=ViewConstants.pn),e.fillText(c,g,x),h||(e.fillStyle=d.Ff),e.fillText(b,g+e.measureText(c).width,x),h||((d.Ua|0)<d.Eb.length-d.Ub+1?e.fillStyle=d.Ff:e.fillStyle=ViewConstants.pn),e.fillText(a,g+e.measureText(c+b).width,
x),d.P[0]&&(r=d.P[0]),h||(e.fillStyle=d.Ff),e.font=ViewConstants.oi,e.fillText(f,g+r,x),C+=m);return C},lo:function(d,c,b,a,f,e,g,x){var m=e,E=0,C=d.M;C>=x&&C<=x+d.Ub&&(c.length&&(a.font=ViewConstants.jl,a.fillText(c,f,e),E=a.measureText(c+" ").width),d.P[0]&&(E=d.P[0]),a.font=ViewConstants.oi,a.fillText(b,f+E,e),m+=g);d.M+=1;return m},cu:function(d,c,b,a,f,e){var g,x=d.Eb,m=a;d.M=1;d.P[0]=0;c.font=ViewConstants.oi;a=this.lo(d,"",ViewConstants.Ky,c,b,a,f,e);for(g=0;g<x.length;g+=1)a=this.lo(d,x[g][0],
x[g][1],c,b,a,f,e);d.ra||(d.P[0]=120,d.M=1,a=m+f*(d.Ub+2),a=this.ky(d,"Up"," / ","Down","scroll errors",c,b,a,f,0),a=this.lo(d,"Esc","clear messages",c,b,a,f,0),this.lo(d,"H  ","help on script commands",c,b,a,f,0))},zp:function(d){var c=d.ld,b=7;d.ra&&(b=1);d.Ub=(d.B/19|0)-b;c.fillStyle="black";c.globalAlpha=.5;c.fillRect(0,0,c.canvas.width,c.canvas.height);c.globalAlpha=1;c.fillStyle=ViewConstants.ol;this.cu(d,c,6,14,19,d.Ua|0);c.fillStyle=d.Ff;this.cu(d,c,4,12,19,d.Ua|0)}};window.Keywords={Ob:'"',jj:"[[",ck:"]]",lr:"SUPPRESS",co:"POIT",Qa:"INITIAL",Ga:"OFF",ir:"STATE1FIT",Nl:"POIRESET",Zj:"POIPLAY",$j:"POISTOP",Ol:"POITRANS",Op:"HARDRESET",om:"TRACK",tj:"TRACKBOX",nm:"TRACKLOOP",uq:"NOREPORT",on:"GRAPH",Wn:"NOGRAPH",Jp:"GRAPHOPACITY",Kp:"GRAPHPOINTS",tq:"NOPERFWARNING",at:"AUTOHIDEGUI",ze:"ALL",Ee:"LINEAR",xf:"BEZIER",Sp:"HEXDISPLAY",dr:"SQUAREDISPLAY",ft:"INTEGERZOOM",Lq:"RANDOMSEED",wp:"DELETERANGE",ar:"SHOWTIMING",Gp:"EXTENDEDTIMING",Zq:"SHOWGENSTATS",$q:"SHOWINFOBAR",
vq:"NOSOURCE",eo:"POI",lk:"TITLE",Wt:"POLY",fo:"POLYFILL",Dq:"POLYLINE",Bq:"POLYALPHA",Eq:"POLYSIZE",Fq:"POLYT",Cq:"POLYANGLE",Gq:"POLYTARGET",Vt:"POLYTRACK",Mk:"ARROW",Yo:"ARROWALPHA",$o:"ARROWSIZE",ap:"ARROWT",Zo:"ARROWANGLE",bp:"ARROWTARGET",cp:"ARROWTRACK",sl:"LABEL",aq:"LABELALPHA",cq:"LABELSIZE",eq:"LABELT",bq:"LABELANGLE",fq:"LABELTARGET",gq:"LABELTRACK",Mc:"FIXED",lq:"MAXGRIDSIZE",cm:"STARS",kk:"CUSTOM",Ho:"XOFFSET",Io:"YOFFSET",Ao:"BACKGROUND",zo:"ALIVE",sr:"ALIVERAMP",Co:"DEAD",Bo:"DEADRAMP",
yu:"DYING",xu:"DYINGRAMP",Hu:"UIFOREGROUND",Zz:"UIFOREGROUNDA",Fu:"UIBACKGROUND",Xz:"UIBACKGROUNDA",Iu:"UIHIGHLIGHT",$z:"UIHIGHTLIGHTA",Ku:"UISELECT",bA:"UISELECTA",Ju:"UILOCKED",aA:"UILOCKEDA",Gu:"UIBORDER",Yz:"UIBORDERA",gs:"BOUNDARY",Am:"AUTOFIT",Up:"HISTORYFIT",wn:"HISTORYSTATES",nj:"STEP",rq:"NOSTEPBACK",dm:"T",zq:"PAUSE",nl:"GRID",ml:"GRIDMAJOR",qr:"TEXT",Ep:"ERROR",It:"OFF",Kt:"ON",bt:"HISTORY",nt:"MARK1",rt:"MARKOFF",pt:"MARK2",ht:"KILL",Rs:"GRAPHBG",Qs:"GRAPHAXIS",Ps:"GRAPHALIVE",Ss:"GRAPHBIRTH",
Ts:"GRAPHDEATH",la:"COLOR",jp:"COLOUR",kr:"STRICT",sm:"VIEWONLY",qq:"NOGUI",pq:"NOCOPY",yr:"THUMBNAIL",wr:"THUMBSIZE",ur:"THUMBLAUNCH",oh:"THEME",Bm:"AUTOSTART",Vf:"LOOP",eg:"STOP",Ah:"ANGLE",Zi:"LAYERS",Ni:"DEPTH",Ui:"GPS",ic:"ZOOM",Wo:"Z",Rc:"X",Sc:"Y",nk:"WIDTH",Mj:"HEIGHT",Ql:"POPUPWIDTH",Pl:"POPUPHEIGHT",xr:"THUMBZOOM",re:"#"};
