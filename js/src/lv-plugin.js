var Ra="function"==typeof Object.defineProperties?Object.defineProperty:function(c,b,d){c!=Array.prototype&&c!=Object.prototype&&(c[b]=d.value)},Sa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function Ta(c,b){if(b){var d=Sa;c=c.split(".");for(var a=0;a<c.length-1;a++){var e=c[a];e in d||(d[e]={});d=d[e]}c=c[c.length-1];a=d[c];b=b(a);b!=a&&null!=b&&Ra(d,c,{configurable:!0,writable:!0,value:b})}}
Ta("Array.prototype.fill",function(c){return c?c:function(b,d,a){var e=this.length||0;0>d&&(d=Math.max(0,e+d));if(null==a||a>e)a=e;a=Number(a);0>a&&(a=Math.max(0,e+a));for(d=Number(d||0);d<a;d++)this[d]=b;return this}});
(function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.lB||performance.mB||performance.pB||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var c=new Uint32Array(1);c[0]=4660;52===(new Uint8Array(c.buffer))[0]?window.littleEndian=!0:
window.littleEndian=!1;window.registerEvent=function(b,d,a,e){b.addEventListener?b.addEventListener(d,a,e):b.attachEvent("on"+d,a)}})();(function(){function c(a,e,f){this.type=a;this.name=f;this.elements=e;this.size=e*d.Gk(a);this.cm=1}function b(){this.Ve=[];this.Hj=this.$l=this.Gj=this.Yl=0}var d={Bp:8,Cp:40,zp:9,Ap:10,yp:0,wp:1,xp:2,tp:18,up:19,Gk:function(a){return 1<<(a&7)},typeName:function(a){var e=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(e+="Clamped");return e}};b.prototype.Uw=function(a){var e="";0<=a&&a<this.Ve.length&&(a=this.Ve[a],e=d.typeName(a.type)+"\t"+a.elements+"\t"+a.name+"\t"+a.cm);
return e};b.prototype.f=function(a,e,f){for(var g=0,l=!1,E;g<this.Ve.length&&!l;)E=this.Ve[g],f===E.name?(l=!0,this.$l+=1,this.Hj+=E.elements*d.Gk(E.type)):g+=1;l?(this.Ve[g].type=a,this.Ve[g].elements=e,this.Ve[g].cm+=1,this.Ve[g].size=e*d.Gk(a)):(g=this.Ve.length,this.Ve[g]=new c(a,e,f));this.Yl+=1;this.Gj+=e*d.Gk(a)};b.prototype.us=function(a,e,f,g,l){a=a.buffer;g*=d.Gk(e);switch(e){case d.Bp:f=new Uint8Array(a,g,f);break;case d.Cp:f=new Uint8Array(a,g,f);break;case d.zp:f=new Uint16Array(a,g,
f);break;case d.Ap:f=new Uint32Array(a,g,f);break;case d.yp:f=new Int8Array(a,g,f);break;case d.wp:f=new Int16Array(a,g,f);break;case d.xp:f=new Int32Array(a,g,f);break;case d.tp:f=new Float32Array(a,g,f);break;case d.up:f=new Float64Array(a,g,f);break;default:f=null,alert("Illegal type specified to allocator.typedView for "+l+": "+e)}return f};b.prototype.i=function(a,e,f){switch(a){case d.Bp:e=new Uint8Array(e);break;case d.Cp:e=new Uint8Array(e);break;case d.zp:e=new Uint16Array(e);break;case d.Ap:e=
new Uint32Array(e);break;case d.yp:e=new Int8Array(e);break;case d.wp:e=new Int16Array(e);break;case d.xp:e=new Int32Array(e);break;case d.tp:e=new Float32Array(e);break;case d.up:e=new Float64Array(e);break;default:e=null,alert("Illegal type specified to allocator.typedMemory for "+f+": "+a)}return e};b.prototype.W=function(a,e,f){var g=null;0<e&&(g=this.i(a,e,f));(g||0===e)&&this.f(a,e,f);return g};b.prototype.Tw=function(a,e,f,g){var l=null;0<e&&(l=this.i(a,e,f));(l||0===e)&&this.f(a,e*g,f);return l};
Array.Z=function(a,e,f,g,l,E){var M=0,d=[];d.j=l;d.type=a;d.Qm=null;var b=l.W(a,e*f,E);d.Qm=b;if(0<f){for(;M<e;)d[M]=l.us(b,a,f,M*f,E),M+=1;if(0!==g)if(b.fill)b.fill(g);else for(M=0;M<b.length;)b[M]=g,M+=1}return d};Array.bl=function(a,e){e=a.j.Tw(a.type,a[0].length,e,a.length+1);a[a.length]=e};Array.Tf=function(a,e){e.Qm.set(a.Qm)};Array.If=function(a,e){var f=Uint16,g,l=a.length,E=[],M=a.j,b=a[0].length/d.Gk(f);for(g=0;g<l;g+=1)E[g]=M.us(a.Qm,f,b,g*b,e);return E};Array.ad=function(a,e,f){var g,
l=a.length,E=[],M=a.j,d=a.type,b=a[0].length;for(g=0;g<l;g+=1)E[g]=M.us(a.Qm,d,b-e,g*b+e,f);return E};window.Allocator=b;window.Uint8=d.Bp;window.Uint8Clamped=d.Cp;window.Uint16=d.zp;window.Uint32=d.Ap;window.Int8=d.yp;window.Int16=d.wp;window.Int32=d.xp;window.Float32=d.tp;window.Float64=d.up})();window.AliasManager={c:[],ff:[],Kd:function(){var c,b;this.c=[];this.ff=[];this.ff.push("OT M");this.c.push(["Outer-Totalistic Moore",""]);this.c.push(["","B3/S23"]);this.c.push(["2x2","B36/S125"]);this.c.push(["2x2 2","B3678/S1258"]);this.c.push(["34 Life","B34/S34"]);this.c.push(["3-4 Life","B34/S34"]);this.c.push(["Amoeba","B357/S1358"]);this.c.push(["AntiLife","B0123478/S01234678"]);this.c.push(["Assimilation","B345/S4567"]);this.c.push(["Bacteria","B34/S456"]);this.c.push(["Blinkers","B345/S2"]);
this.c.push(["Bugs","B3567/S15678"]);this.c.push(["Coagulations","B378/S235678"]);this.c.push(["Conway's Game of Life","B3/S23"]);this.c.push(["Conway's Life","B3/S23"]);this.c.push(["Coral","B3/S45678"]);this.c.push(["Corrosion of Conformity","B3/S124"]);this.c.push(["Dance","B34/S35"]);this.c.push(["Day & Night","B3678/S34678"]);this.c.push(["Day and Night","B3678/S34678"]);this.c.push(["Diamoeba","B35678/S5678"]);this.c.push(["DotLife","B3/S023"]);this.c.push(["DrighLife","B367/S23"]);this.c.push(["DryFlock",
"B37/S12"]);this.c.push(["DryLife","B37/S23"]);this.c.push(["DryLife without Death","B37/S012345678"]);this.c.push(["EightFlock","B3/S128"]);this.c.push(["EightLife","B3/S238"]);this.c.push(["Electrified Maze","B45/S12345"]);this.c.push(["Eppstein","B35/S236"]);this.c.push(["Flock","B3/S12"]);this.c.push(["Forest of Ls","B168/S236"]);this.c.push(["Fredkin","B1357/S02468"]);this.c.push(["Gems Minor","B34578/S456"]);this.c.push(["Gems","B3457/S4568"]);this.c.push(["Gnarl","B1/S1"]);this.c.push(["H-Trees",
"B1/S012345678"]);this.c.push(["HighFlock","B36/S12"]);this.c.push(["HighLife","B36/S23"]);this.c.push(["HighLife without Death","B36/S012345678"]);this.c.push(["Holstein","B35678/S4678"]);this.c.push(["HoneyFlock","B38/S128"]);this.c.push(["HoneyLife","B38/S238"]);this.c.push(["Iceballs","B25678/S5678"]);this.c.push(["InverseLife","B012345678/S34678"]);this.c.push(["Invertamaze","B028/S0124"]);this.c.push(["IronFlock","B36/S128"]);this.c.push(["IronLife","B36/S238"]);this.c.push(["Land Rush","B36/S234578"]);
this.c.push(["Life SkyHigh","B368/S236"]);this.c.push(["Life without Death","B3/S012345678"]);this.c.push(["Life","B3/S23"]);this.c.push(["Live Free or Die","B2/S0"]);this.c.push(["LongLife","B345/S5"]);this.c.push(["Long Life","B345/S5"]);this.c.push(["LowDeath without death","B368/S012345678"]);this.c.push(["LowDeath","B368/S238"]);this.c.push(["LowFlockDeath","B368/S128"]);this.c.push(["LowLife","B3/S13"]);this.c.push(["Majority","B45678/S5678"]);this.c.push(["Maze","B3/S12345"]);this.c.push(["Maze with Mice",
"B37/S12345"]);this.c.push(["Mazectric","B3/S1234"]);this.c.push(["Mazectric with Mice","B37/S1234"]);this.c.push(["Morley","B368/S245"]);this.c.push(["Move","B368/S245"]);this.c.push(["Neon Blobs","B08/S4"]);this.c.push(["Pedestrian Flock","B38/S12"]);this.c.push(["Pedestrian Life","B38/S23"]);this.c.push(["Pedestrian Life without Death","B38/S012345678"]);this.c.push(["Persian Rug","B234/S"]);this.c.push(["Plow World","B378/S012345678"]);this.c.push(["Pseudo Life","B357/S238"]);this.c.push(["Replicator",
"B1357/S1357"]);this.c.push(["Rings 'n' Slugs","B56/S14568"]);this.c.push(["Seeds","B2/S"]);this.c.push(["Serviettes","B234/S"]);this.c.push(["Shoots and Roots","B3/S245678"]);this.c.push(["Slow Blob","B367/S125678"]);this.c.push(["SnowLife","B3/S1237"]);this.c.push(["Stains","B3678/S235678"]);this.c.push(["Virus","B36/S235"]);this.c.push(["Vote","B5678/S45678"]);this.c.push(["Vote 4/5","B4678/S35678"]);this.c.push(["Walled Cities","B45678/S2345"]);this.ff.push("OT Hex");this.c.push(["Outer-Totalistic Hex",
""]);this.c.push(["Fredkin Hex","B135/S0246H"]);this.c.push(["Hexagonal Life","B2/S34H"]);this.c.push(["HighHexLife","B25/S34H"]);this.c.push(["Replicator Hex","B135/S135H"]);this.ff.push("NT M");this.c.push(["Isotropic Non-Totalistic Moore",""]);this.c.push(["15Life","B34r/S23-q4et"]);this.c.push(["22k","B2-k/S2-k"]);this.c.push(["38life","B35y/S2-n35k6ci"]);this.c.push(["aLife","B3/S234iw"]);this.c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);this.c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);
this.c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);this.c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);this.c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);this.c.push(["Best Friends","B2ce3aiy/S12aei3r"]);this.c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);this.c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);this.c.push(["Breps","B34cqy5c/S23-y4y"]);this.c.push(["Bubbles","B3ai4-a/S23"]);this.c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);
this.c.push(["Buzz","B2i35-n/S2-ci36k8"]);this.c.push(["CarrierLife","B2e3aceik/S23"]);this.c.push(["CB2","B2ae4i/S1e2in"]);this.c.push(["cetlife","B34cet/S234jkwyz"]);this.c.push(["CommonRepl","B3/S23-ac4eiy6"]);this.c.push(["Conway++","B3/S234c"]);this.c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);this.c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);this.c.push(["Conway--","B3/S2-ei3"]);this.c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);this.c.push(["Diamoeral","B2n3ai4a78/S35678"]);this.c.push(["Diamonds",
"B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);this.c.push(["DLife","B3-n/S23"]);this.c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);this.c.push(["Dry15Life","B34r7/S23-q4et"]);this.c.push(["DryGoats","B2in37/S123a"]);this.c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);this.c.push(["EightGoats","B2in3/S123a8"]);this.c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);this.c.push(["FattyLife","B3-n4nt5qr6i/S23"]);this.c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
this.c.push(["FogLife","B35eq7/S2-i34q"]);this.c.push(["GlideLife","B34ek5ak/S2-c34z"]);this.c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);this.c.push(["Goat Flock","B2in3/S123a"]);this.c.push(["Goats","B2in3/S123a"]);this.c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);this.c.push(["guntlife","B35j6a/S2-i34q"]);this.c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);this.c.push(["hatlife","B35y/S23"]);this.c.push(["High15Life","B34r6/S23-q4et"]);this.c.push(["HighGoats","B2in36/S123a"]);
this.c.push(["hlife3","B3/S2-in34iw"]);this.c.push(["HoneyGoats","B2in38/S123a8"]);this.c.push(["HouseLife","B2i3/S23-r"]);this.c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);this.c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);this.c.push(["ilife","B3/S235i"]);this.c.push(["IronGoats","B2in36/S123a8"]);this.c.push(["Just Friends","B2-a/S12"]);this.c.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.c.push(["klife","B34n/S23"]);this.c.push(["Knyght","B2e3/S23-jq"]);this.c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);
this.c.push(["Linea","B2-a3-i/S23-a"]);this.c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);this.c.push(["Movostill","B2i3acijk6i/S23-a4"]);this.c.push(["Movostill 2","B3acijk/S23-a4"]);this.c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);this.c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);this.c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);this.c.push(["Pedestrian Goats","B2in38/S123a"]);this.c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);this.c.push(["PiLife","B37e/S23"]);this.c.push(["PondLife",
"B36i/S2-i35i"]);this.c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);this.c.push(["PlasmaLife","B34-air/S234-air"]);this.c.push(["reptlife","B36-k/S2-i34q"]);this.c.push(["RustyLife","B34-ai/S24-air5-a"]);this.c.push(["Salad","B2i34c/S2-i3"]);this.c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);this.c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);this.c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);this.c.push(["SilverLife","B367/S2-i34q"]);this.c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);
this.c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);this.c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);this.c.push(["SparkLife","B36i/S234j"]);this.c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);this.c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);this.c.push(["TableLife","B3/S23-ai4anq6n"]);this.c.push(["TauLife","B3-nr/S2-i34-aij"]);this.c.push(["tceclife","B36ce7c/S2-i34q"]);this.c.push(["tDryFlock","B37/S12-i4q"]);this.c.push(["tDryLife","B37/S2-i34q"]);
this.c.push(["tEightLife","B3/S2-i34q8"]);this.c.push(["tflock","B3/S12-i4q"]);this.c.push(["tHighFlock","B36/S12-i4q"]);this.c.push(["tHighLife","B36/S2-i34q"]);this.c.push(["tlife","B3/S2-i34q"]);this.c.push(["tPedestrianFlock","B38/S12-i4q"]);this.c.push(["tPedestrianLife","B38/S2-i34q"]);this.c.push(["Train","B34t6k8/S2-i35a7e"]);this.c.push(["Turro","B2-a3c/S12-i"]);this.c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);this.c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);this.c.push(["X-rule-pre",
"B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);this.c.push(["Ylife","B2e3ai4ar/S23-a4a"]);this.ff.push("NT Hex");this.c.push(["Isotropic Non-Totalistic Hex",""]);this.c.push(["Hex Life","B2o3m56/S2-p4oH"]);this.c.push(["22da","B2o/S2-mH"]);this.c.push(["Hexrule b2o","B2o/S2m34H"]);this.ff.push("OT M G");this.c.push(["Outer-Totalistic Generations Moore",""]);this.c.push(["9:43 at Knight","237/34578/4"]);this.c.push(["Banners","2367/3457/5"]);this.c.push(["BelZhab","23/23/8"]);this.c.push(["BelZhab Sediment",
"145678/23/8"]);this.c.push(["Bloomerang","234/34678/24"]);this.c.push(["Bombers","345/24/25"]);this.c.push(["Brain 5","/2/5"]);this.c.push(["Brain 6","6/246/3"]);this.c.push(["Brian's Brain","/2/3"]);this.c.push(["Burst","0235678/3468/9"]);this.c.push(["BurstII","235678/3468/9"]);this.c.push(["Caterpillars","124567/378/4"]);this.c.push(["Chenille","05678/24567/6"]);this.c.push(["Circuit Genesis","2345/1234/8"]);this.c.push(["Constellations","/23/3"]);this.c.push(["Cooties","23/2/8"]);this.c.push(["Ebb&Flow",
"012478/36/18"]);this.c.push(["Ebb&Flow II","012468/37/18"]);this.c.push(["Faders","2/2/25"]);this.c.push(["Fireworks","2/13/21"]);this.c.push(["Flaming Starbows","347/23/8"]);this.c.push(["Free Star","0345/2/10"]);this.c.push(["Frogs","12/34/3"]);this.c.push(["Frozen spirals","356/23/6"]);this.c.push(["Glisserati","035678/245678/7"]);this.c.push(["Glissergy","035678/245678/5"]);this.c.push(["Lava","12345/45678/8"]);this.c.push(["Lines","012345/458/3"]);this.c.push(["LivingOn TheEdge","345/3/6"]);
this.c.push(["Meteor Guns","01245678/3/8"]);this.c.push(["Nova","45678/2478/25"]);this.c.push(["OrthoGo","3/2/4"]);this.c.push(["Prairie on fire","345/34/6"]);this.c.push(["RainZha","2/23/8"]);this.c.push(["Rake","3467/2678/6"]);this.c.push(["SediMental","45678/25678/4"]);this.c.push(["Snake","03467/25/6"]);this.c.push(["SoftFreeze","13458/38/6"]);this.c.push(["Spirals","2/234/5"]);this.c.push(["Star Wars","345/2/4"]);this.c.push(["Sticks","3456/2/6"]);this.c.push(["Swirl","23/34/8"]);this.c.push(["Tadpoles",
"0125678/345678/64"]);this.c.push(["ThrillGrill","1234/34/48"]);this.c.push(["Transers","345/26/5"]);this.c.push(["TransersII","0345/26/6"]);this.c.push(["Transers 2","0345/26/6"]);this.c.push(["Transers 3","0345/26/7"]);this.c.push(["Wallplicators","345/25678/7"]);this.c.push(["Wanderers","345/34678/5"]);this.c.push(["Worms","3467/25/6"]);this.c.push(["Xtasy","1456/2356/16"]);this.ff.push("NT M G");this.c.push(["Isotropic Non-Totalistic Generations Moore",""]);this.c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);
this.c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);this.ff.push("LtL M");this.c.push(["Larger than Life Moore",""]);this.c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);this.c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);this.c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);this.c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);this.c.push(["Bugs R6","R6,C2,M1,S47..81,b47..63,NM"]);this.c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);this.c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);
this.c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);this.c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);this.c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);this.c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);this.c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);this.c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);this.c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);this.c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);
this.c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);this.c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);this.c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);this.c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);this.c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);this.c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);this.c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);this.c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);this.c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);
this.c.push(["Stones","R2,C2,M1,S29..58,B38..61,NM"]);this.c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);this.c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);this.c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);this.c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);this.ff.push("LtL M G");this.c.push(["Generations Larger than Life Moore",""]);this.c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);this.c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);this.ff.push("HROT M");
this.c.push(["Higher-Range Outer-Totalistic Moore",""]);this.c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.ff.push("Alt OT M");this.c.push(["Alternating Outer-Totalistic Moore",""]);this.c.push(["alternlife","B13/S012345678|B/S15"]);this.c.push(["comb625","B3/S348|B2/S356"]);this.c.push(["Fizzler","B13/S3|B/S345678"]);this.c.push(["Jelly","B3/S135|B2/S5"]);this.c.push(["Phoenix","B24/S|B35/S"]);this.ff.push("Alt NT M");this.c.push(["Alternating Non-Totalistic Moore",""]);this.c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);this.c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);this.c.push(["Unidim3",
"B12ci34578/S02345678|B6i7/S268"]);this.c[0][2]=!1;for(c=1;c<this.c.length;c+=1){var d=this.c[c][1];this.c[c][2]=!1;for(b=0;b<c;b+=1)this.c[b][1]===d&&(this.c[b][2]=!0,this.c[c][2]=!0,b=c)}},Tt:function(c){var b=null,d=0;for(c=c.toLowerCase();d<this.c.length&&null===b;)""!==this.c[d][1]&&this.c[d][0].toLowerCase()===c&&(b=this.c[d][1]),d+=1;return b},St:function(c){for(var b=null,d=0;d<this.c.length&&null===b;)""!==this.c[d][1]&&this.c[d][1]===c&&(b=this.c[d][0]),d+=1;return b}};(function(){function c(a,f,g,e,d){this.h=d;this.ha=a;this.ua=f;this.Ha=g;this.message="";this.J=a;this.X=f;this.Fa=g;this.Ng="";this.context=e;this.Ca=!1;this.fa=this.i=0;this.se="rgb(32,255,255)";this.dv="white";this.f=0;this.Hp=!1;this.bb=this.Cb="black";this.enabled=!1;this.o=30}function b(a,f,g,e){this.name=a;this.width=f;this.height=g;this.cm=e}function d(a,f){this.context=f;this.X=a;this.height=this.width=0;this.J=this.i=this.f=null;this.o=[];this.Ho=!0;this.Cr=-1;this.Kd=!1}function a(a,f,
e,d,b,c,w,h,m,q,A,y,v,t,F,p,u,n,I,D){this.id=a;this.F="";this.gi=-1;this.l=!1;this.Mc=f;this.caller=e;this.icon=I;this.x=b;this.y=c;this.ef=b;this.f=c;this.position=d;this.width=w;this.height=h;this.border=t;this.type=y;v===g.gt?this.orientation=w>=h?g.Zc:g.vertical:this.orientation=v;this.Dm=this.orientation;this.lower=m;this.upper=q;y===g.uc?this.current=[A,A]:this.current=A;this.Ds=F;this.xb=p;this.xr=u;this.fixed=n;this.$n=!1;this.Ol=this.Nl=this.Ql=this.Pl=this.ru=this.qu=-1;this.textAlign=g.qt;
this.enabled=!0;this.locked=!1;this.Jm=[];this.yo=0;this.By=!1;this.Sc=D.Sc;this.Lc=D.Lc;if(y===g.list)for(this.il=[],a=0;a<m.length;a+=1)this.il[a]=this.Sc;this.Hd=D.Hd;this.be=D.be;this.Df=D.Df;this.nh=D.nh;this.zi=D.zi;this.zj=D.zj;this.Gf=D.Gf;this.ji=D.ji;this.Dg=D.Dg;this.Vi=D.Vi;this.border=D.border;this.font=D.bk}function e(a,f,e,d,b){this.context=d;this.bk=b;this.locked=this.l=!1;this.Ig=this.cf=-1;this.Wi=this.$b=!1;this.J=6;this.Mc=a;this.sd=[];this.ub=0;this.Sc="";this.Lc=0;this.Hd="";
this.be=0;this.Df="";this.nh=0;this.zi="";this.zj=0;this.Gf="";this.ji=0;this.Dg="";this.border=this.Vi=0;this.i=g.gt;this.oi=this.Oh=-1;this.jq=this.Ns=null;this.Sm=f;this.caller=e;this.ia=null}function f(a,f,g,e,d,b){var l=this,h=0,E=a.canvas;this.Lq=this.yr=!0;this.X=this.fa=40;this.GA=50;this.zg=0;this.f=this.i=this.o=-1;this.vj=!1;this.caller=d;this.Vg=this.va=this.si=this.Jb=!1;this.Fc=4;this.Pt=b;this.hasFocus=this.Tp=!1;this.gl=!0;this.Mm=!1;this.Mi=1;this.Sc="black";this.Lc=.7;this.Hd="white";
this.be=1;this.Df="rgb(0,240,32)";this.nh=.7;this.zi="blue";this.zj=.7;this.Gf="grey";this.ji=1;this.Dg="rgb(32,255,255)";this.border=this.Vi=1;this.pt=function(h){return function(){h.Sa(h)}}(this);this.ia=e;this.Hf=a;this.ud=f;this.$b=!1;this.th=this.sh=-1;this.Nc=null;this.bk=g;this.Bi=this.Ci=!1;this.ao=performance.now();this.tj=5;this.Hm=0;this.Wq=[];this.Yq=[];this.Vq=[];for(h=0;5>h;h+=1)this.Wq[h]=0,this.Yq[h]=0,this.Vq[h]=0;this.Sl=null;this.Wg=!1;this.notification=new c(25,100,25,f,this);
this.pu=performance.now();this.Wi=this.zs=!1;this.offsetTop=this.offsetLeft=0;registerEvent(E,"mousedown",function(h){l.ha(l,h)},!1);registerEvent(E,"mousemove",function(h){l.ua(l,h)},!1);registerEvent(E,"mouseup",function(h){l.Ha(l,h)},!1);registerEvent(E,"mouseover",function(h){l.Fa(l,h)},!1);registerEvent(E,"mouseout",function(h){l.Ca(l,h)},!1);registerEvent(E,"touchstart",function(h){l.J(l,h)},!1);registerEvent(E,"touchmove",function(h){l.J(l,h)},!1);registerEvent(E,"touchend",function(h){l.J(l,
h)},!1)}c.prototype.ej=function(){var a=!1;if(""!==this.message||""!==this.Ng)a=!0;return a};c.prototype.clear=function(a,f){a?""!==this.Ng&&(f?this.Ng="":this.fa=performance.now()-(this.J+this.X)):""!==this.message&&(f?this.message="":this.i=performance.now()-(this.ha+this.ua))};c.prototype.U=function(a,f,g){this.enabled&&(g?this.Ng!==a&&(this.Ng=a,this.J=240,this.X=16*f,this.Fa=240,this.fa=performance.now(),this.f=0,this.Hp=!1):(this.message=a,this.ha=240,this.ua=16*f,this.Ha=240,this.i=performance.now()))};
c.prototype.fj=function(a,f){96>this.context.canvas.width&&(this.o=24);var g=this.o;var l=this.context.measureText(a).width>>1;if(this.Ca){this.context.fillStyle=this.bb;var E=this.context.globalAlpha;this.context.globalAlpha=.5*E;this.context.fillRect(-l-20,-g,2*l+40,2*g);this.context.globalAlpha=E}this.context.fillStyle=this.Cb;this.context.fillText(a,-l+2,2);f?this.Hp?(this.context.fillStyle=128>this.f?"rgb("+2*this.f+","+2*this.f+",255)":"rgb("+2*(256-this.f)+","+2*(256-this.f)+",255)",this.f=
this.f+4&255):this.context.fillStyle=this.dv:this.context.fillStyle=this.se;this.context.fillText(a,-l,0)};c.prototype.Sa=function(a,f,g,e,d,b,c){var h=this.o,l=h+2,E=this.h.Fc,M=60,k=!0;this.h.Jb?(M=0,b=this.context.canvas.height/2,this.Ca=!0):this.Ca=!1;""!==a&&(k=!1,d=performance.now()-d,this.context.save(),this.h.va&&(c?(M=0,b=this.context.canvas.height/2):(h/=E,l=l/E|0,b=b/E|0,M=M/E|0)),this.context.font=h+"px Arial",this.context.translate(this.context.canvas.width/2-1,M+b),d<=f?(b=d/f,b*=b,
this.context.globalAlpha=b,this.context.scale(b,b)):d>f+g&&d<=f+g+e&&(b=(e-(d-(f+g)))/e,b*=b,this.context.globalAlpha=b,this.context.scale(b,b)),d>f+g+e?k=!0:(f=a.indexOf("\\n"),-1===f?this.fj(a,c):(this.fj(a.substr(0,f),c),this.context.translate(0,l),this.fj(a.substr(f+2),c))),this.context.restore());return k};c.prototype.update=function(){this.Sa(this.message,this.ha,this.ua,this.Ha,this.i,81,!1)&&(this.message="");this.h.va&&"Expand"!==this.Ng&&"Launch"!==this.Ng||!this.Sa(this.Ng,this.J,this.X,
this.Fa,this.fa,45,!0)||(this.Ng="")};d.prototype.fj=function(a,f,g){var l;this.Kd||(this.width=this.X.width,this.height=this.X.height,this.f=document.createElement("canvas"),this.f.width=this.width,this.f.height=this.height,this.i=this.f.getContext("2d"),this.J=new Image);if(this.Ho){this.i.drawImage(this.X,0,0);var E=this.i.getImageData(0,0,this.f.width,this.f.height);var e=new Uint32Array(E.data.buffer);for(l=0;l<e.length;l+=1)4294967295===e[l]&&(e[l]=this.Cr);this.i.putImageData(E,0,0);this.Kd=
this.Ho=!1}this.Kd||(this.J.src=this.f.toDataURL("image/png"),this.Kd=!0);this.context.drawImage(this.J,a.cm*a.width,0,a.width,a.height,f,g,a.width,a.height)};d.prototype.length=function(){return this.o.length};d.prototype.icon=function(a){var f,g=this.o,l=this.length(),e=null;for(f=0;f<l&&!e;)g[f].name===a?e=g[f]:f+=1;return e};d.prototype.add=function(a,f,g){var l=this.o.length;this.o[l]=new b(a,f,g,l)};var g={gt:0,Zc:1,vertical:2,uc:0,button:1,toggle:2,Ge:3,list:4,label:5,Fk:0,Ia:1,left:0,qt:1,
right:2,Ob:0,fb:1,Nt:2,ie:3,Wr:4,Pg:5,lw:6,Pc:7,Sy:8};a.prototype.sm=function(a,f,g,e,d,b){this.Hd=a;this.Sc=f;this.Df=g;this.zi=e;this.Gf=d;this.Dg=b};a.prototype.setPosition=function(a,f,g){this.position=a;this.ef=f;this.f=g;this.x=f;this.y=g};a.prototype.gx=function(a,f){this.x=this.ef;this.y=this.f;switch(this.position){case g.Ob:this.x=(a-this.width>>1)+this.ef;break;case g.fb:this.x=a+this.ef;break;case g.Nt:this.y=(f-this.height>>1)+this.f;this.x=a+this.ef;break;case g.ie:this.x=a+this.ef;
this.y=f+this.f;break;case g.Wr:this.x=(a-this.width>>1)+this.ef;this.y=f+this.f;break;case g.Pg:this.y=f+this.f;break;case g.lw:this.y=(f-this.height>>1)+this.f;break;case g.Sy:this.x=(a-this.width>>1)+this.ef,this.y=(f-this.height>>1)+this.f}};a.prototype.Ys=function(a,f){var g=this.yo;this.Jm[g]=[a,f];this.yo=g+1};a.prototype.Dp=function(a){var f=[],g;var l=a.length;for(g=0;g<l;g+=1)a[g].Ys(this,!0);l=f.length;for(g=0;g<l;g+=1)f[g].Ys(this,!1)};a.prototype.Zy=function(a,f){var g=!1;this.enabled&&
a>=this.x&&a<this.x+this.width&&f>=this.y&&f<this.y+this.height&&(g=!0);return g};e.prototype.sm=function(a,f,g,e,d,b){var l;this.Hd=a;this.Sc=f;this.Df=g;this.Gf=d;this.Dg=b;for(l=0;l<this.sd.length;l+=1)this.sd[l].sm(a,f,g,e,d,b)};e.prototype.o=function(a,f){var l=!1,E=a.yo;a.type===g.list&&a.upper===g.Ia?l=a.current[0]:l=a.current===a.upper;a.By&&(l=!l);if(l&&f)for(f=0;f<E;f+=1)l=l&&this.o(a.Jm[f][0],a.Jm[f][1]);return l};e.prototype.Sv=function(a){var f,g=a.yo;var l=!0;for(f=0;f<g;f+=1)l=l&&this.o(a.Jm[f][0],
a.Jm[f][1]);a.enabled=l};e.prototype.Kd=function(){var a;for(a=0;a<this.ub;a+=1){var f=this.sd[a];f.enabled=!0;switch(f.type){case g.toggle:f.Mc&&(f.current=f.Mc(f.current===f.upper,!1,this.caller)?f.upper:f.lower);break;case g.uc:f.Mc&&(f.current=f.Mc(f.current,!1,this.caller));break;case g.list:f.Mc&&(f.current=f.Mc(f.current,!1,this.caller))}this.Sv(f)}};e.prototype.ob=function(f,E,e,d,b,c,w,h,m){this.sd[this.ub]=new a(this.ub,f,this.caller,E,e,d,b,c,w,m,h,g.list,this.i,this.border,!0,"","",-1,
[],this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.fh=function(f,E,e,d,b,c,w,h,m,q,A,y){this.sd[this.ub]=new a(this.ub,f,this.caller,E,e,d,b,c,w,h,m,g.uc,this.i,this.border,!0,q,A,y,null,this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.Db=function(f,E,e,d,b,c){this.sd[this.ub]=new a(this.ub,null,null,f,E,e,d,b,0,0,0,g.label,this.i,this.border,!0,c,"",-1,null,this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.Fd=function(f,E,e,d,b,c){this.sd[this.ub]=new a(this.ub,f,this.caller,
E,e,d,b,40,0,0,0,g.button,this.i,this.border,!0,c,"",-1,null,this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.Rw=function(){this.sd[this.ub]=new a(this.ub,null,null,Menu.Pg,0,-40,100,40,0,100,0,g.Ge,this.i,this.border,!1,"","",0,null,this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.f=function(a,f,e){var l;a+=String();if(""!==a){this.context.save();this.context.translate(f.x+f.width/2,f.y+f.height/2);this.context.font=f.font;f.Dm===g.vertical&&this.context.rotate(.5*Math.PI);var E=this.context.measureText(a).width;
var d=f.Dm===g.vertical?f.height:f.width;if(E>=d-6){if(l=a.length){do{--l;var M=a.substr(0,l)+"...";E=this.context.measureText(M).width}while(1<l&&E>=d-6)}a=M}switch(f.textAlign){case g.left:var h=f.width/2-2;break;case g.qt:h=E/2;break;case g.right:h=E/2-(f.width-E)/2+4}this.context.fillStyle=f.Sc;e&&this.context.fillRect(2-h,2,E,2);this.context.fillText(a,2-h+.5,2.5);this.context.fillStyle=f.locked||this.locked?f.Gf:f.Hd;this.context.fillText(a,-h+.5,.5);e&&this.context.fillRect(-h,0,E,2);this.context.restore()}};
e.prototype.ha=function(a){this.context.globalAlpha=this.be;this.f(a.xb,a,!1)};e.prototype.X=function(a){this.context.globalAlpha=this.be;this.f(a.xb,a,!1)};e.prototype.Ca=function(a){var f=(a.current-a.lower)/(a.upper-a.lower);this.context.globalAlpha=a.Lc;this.context.fillStyle=a.Hd;a.orientation===g.Zc?(f*=a.width-3,this.context.fillRect(a.x+(f+1|0),a.y,1,a.height)):(f*=a.height-3,this.context.fillRect(a.x,a.y+(f+1|0),a.width,1));f=a.xb;a.Ds&&(f=-1!==a.fixed?f+a.current.toFixed(a.fixed):f+a.current,
f+=a.xr);""!==f&&(this.context.globalAlpha=a.be,this.f(f,a,!1))};e.prototype.Fa=function(a,f){var l=(a.current[0]-a.lower)/(a.upper-a.lower);var E=this.J;a.orientation===g.Zc?(l*=a.width-3,l=l+1|0,f&&(this.context.fillStyle=a.Df,this.context.globalAlpha=a.nh,this.context.fillRect(a.x+l-E,a.y,E,a.height),this.context.fillRect(a.x+l+1,a.y,E,a.height)),a.locked||this.locked?(this.context.fillStyle=a.Gf,this.context.globalAlpha=a.ji):(this.context.fillStyle=a.Hd,this.context.globalAlpha=a.be),this.context.fillRect(a.x+
l,a.y,1,a.height)):(l*=a.height-3,l=l+1|0,f&&(this.context.fillStyle=a.Df,this.context.globalAlpha=a.nh,this.context.fillRect(a.x,a.y+l-E,a.width,E),this.context.fillRect(a.x,a.y+l+1,a.width,E)),a.locked||this.locked?(this.context.fillStyle=a.Gf,this.context.globalAlpha=a.ji):(this.context.fillStyle=a.Hd,this.context.globalAlpha=a.be),this.context.fillRect(a.x,a.y+l,a.width,1));f=a.xb;a.Ds&&(f=0<=a.fixed?f+a.current[1].toFixed(a.fixed):f+a.current[1]);f+=a.xr;""!==f&&(this.context.globalAlpha=this.be,
this.f(f,a,!1))};e.prototype.Ha=function(a){this.context.globalAlpha=this.be;var f="-"===a.lower&&""===a.upper&&a.current===a.lower;var g=a.xb;a.Ds&&!f&&(g+=a.current);g+=a.xr;this.f(g,a,f)};e.prototype.ua=function(a,f){var l=a.x;var E=a.y;var e=a.width;var d=a.height;var b=a.orientation;var h=a.current;var m=a.lower;var q=m.length;var c=a.orientation===g.Zc?e/q:d/q;this.context.globalAlpha=a.zj;this.context.fillStyle=a.zi;if(a.upper===g.Fk){var y=a.current;0<=y&&y<q&&(a.orientation===g.Zc?this.context.fillRect(l+
y*c+1,E+1,c-2,d-2):this.context.fillRect(l+1,E+1+y*c,e-2,c-2))}else if(a.orientation===g.Zc)for(y=0;y<q;y+=1)h[y]&&this.context.fillRect(l+y*c+1,E+1,c-2,d-2);else for(y=0;y<q;y+=1)h[y]&&this.context.fillRect(l+1,E+1+y*c,e-2,c-2);f?(this.context.globalAlpha=a.nh,this.context.fillStyle=a.Df,a.orientation===g.Zc?(y=(this.cf-l)/e*q|0,0<=y&&y<q&&this.context.fillRect(l+y*c+.5,E+.5,c-1,d-1)):(y=(this.Ig-E)/d*q|0,0<=y&&y<q&&this.context.fillRect(l+.5,E+.5+y*c,e-1,c-1)),a.gi=y):a.gi=-1;this.context.globalAlpha=
this.be;if(a.orientation===g.Zc)for(y=0;y<q;y+=1)a.icon[y]&&this.ia.fj(a.icon[y],a.x+c*y,a.y);else for(y=0;y<q;y+=1)a.icon[y]&&this.ia.fj(a.icon[y],a.x,a.y+c*y);this.context.globalAlpha=a.be;this.context.fillStyle=a.Hd;if(b===g.Zc)for(y=0;y<q;y+=1)l=m[y],""!==l&&(this.context.save(),this.context.translate((.5+(y-q/2))*c,0),this.f(l,a,!1),this.context.restore());else for(y=0;y<q;y+=1)l=m[y],""!==l&&(this.context.save(),this.context.translate(0,(.5+(y-q/2))*c),this.f(l,a,!1),this.context.restore())};
e.prototype.fa=function(a,f,e,d){!(e===d||-1===d&&f)||a.type!==g.button&&a.type!==g.toggle?(this.context.fillStyle=a.Sc,this.context.globalAlpha=a.Lc):(this.context.fillStyle=a.Df,this.context.globalAlpha=a.nh);switch(a.type){case g.Ge:var l=(a.current-a.lower)/(a.upper-a.lower);this.context.fillStyle=a.zi;this.context.globalAlpha=a.zj;a.orientation===g.Zc?(l*=a.width-3,l=l+1|0,this.context.fillRect(a.x,a.y,l,a.height),this.context.fillStyle=a.Sc,this.context.globalAlpha=a.Lc,this.context.fillRect(a.x+
l,a.y,a.width-l,a.height)):(l*=a.height-3,l=l+1|0,this.context.fillRect(a.x,a.y,a.width,l),this.context.fillStyle=a.Sc,this.context.fillRect(a.x,a.y+l,a.width,a.height-l));break;case g.uc:l=(a.current[0]-a.lower)/(a.upper-a.lower);if(e===d||-1===d&&f){var E=this.J;if(a.orientation===g.Zc){l*=a.width-3;l=l+1|0;var M=l-E;0<M&&this.context.fillRect(a.x,a.y,M,a.height);M=1+l+E;M<a.width&&this.context.fillRect(a.x+M,a.y,a.width-M,a.height)}else l*=a.height-3,l=l+1|0,M=l-E,0<M&&this.context.fillRect(a.x,
a.y,a.width,M),M=1+l+E,M<a.height&&this.context.fillRect(a.x,a.y+M,a.width,a.height-M)}else this.context.fillRect(a.x,a.y,a.width,a.height);break;case g.list:E=a.lower.length;if(a.orientation===g.Zc)for(M=a.width/E,l=0;l<E;l+=1)this.context.fillStyle=a.il[l],this.context.fillRect(a.x+l*M+1,a.y+1,M-2,a.height-2);else for(M=a.height/E,l=0;l<E;l+=1)this.context.fillStyle=a.il[l],this.context.fillRect(a.x+1,a.y+1+l*M,a.width-2,M-2);break;default:this.context.fillRect(a.x,a.y,a.width,a.height)}a.type!==
g.list&&a.icon&&(this.context.globalAlpha=a.be,this.ia.fj(a.icon,a.x,a.y));if(0<a.border)switch(a.locked||this.locked?(this.context.strokeStyle=a.Gf,this.context.globalAlpha=a.ji):(this.context.strokeStyle=a.Dg,this.context.globalAlpha=a.Vi),this.context.lineWidth=a.border,a.type){case g.label:break;case g.list:E=a.lower.length;if(a.orientation===g.Zc)for(M=a.width/E,l=0;l<E;l+=1)this.context.strokeRect(a.x+.5+l*M,a.y+.5,M-1,a.height-1);else for(M=a.height/E,l=0;l<E;l+=1)this.context.strokeRect(a.x+
.5,a.y+.5+l*M,a.width-1,M-1);break;default:this.context.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case g.button:this.X(a);break;case g.label:this.ha(a);break;case g.uc:this.Fa(a,e===d||-1===d&&f);break;case g.toggle:this.Ha(a);break;case g.Ge:this.Ca(a);break;case g.list:this.ua(a,e===d||-1===d&&f)}if(e===d)switch(a.type){case g.uc:l=this.Ig,a.orientation===g.vertical?(l<a.y?l=a.y:l>=a.y+a.height&&(l=a.y+a.height-1),a.current[0]=(l-a.y)/(a.height-1)*(a.upper-a.lower)+a.lower):
(l=this.cf,l<a.x?l=a.x:l>=a.x+a.width&&(l=a.x+a.width-1),a.current[0]=(l-a.x)/(a.width-1)*(a.upper-a.lower)+a.lower),a.Mc&&(a.current=a.Mc(a.current,!0,a.caller))}if(f&&!this.$b&&a.$n)switch(a.type){case g.button:a.Mc&&a.Mc(a.caller);break;case g.toggle:a.current=a.current===a.upper?a.lower:a.upper;a.Mc&&a.Mc(a.current===a.upper,!0,a.caller);break;case g.list:E=a.lower.length,M=a.orientation===g.Zc?(this.cf-a.x)/a.width*E|0:(this.Ig-a.y)/a.height*E|0,a.upper===g.Fk?a.Mc?a.current=a.Mc(M,!0,a.caller):
a.current=M:(a.current[M]=!a.current[M],a.Mc&&a.Mc(a.current,!0,a.caller))}f&&e===d?(a.$n=this.$b,a.qu=this.cf,a.ru=this.Ig):(a.$n=!1,a.qu=-1,a.ru=-1)};e.prototype.nq=function(){var a,f,e=this.context.canvas.width,d=this.context.canvas.height;var b=!1;this.oi=-1;if(this.l)this.$b?this.Oh=-2:(-2===this.Oh&&this.Ns&&this.Ns(this.cf,this.Ig,this.$b,this.caller),this.$b||(this.Oh=-1));else{var c=this.Oh;this.context.textAlign="left";for(f=0;f<this.ub;f+=1){var w=this.sd[f];w.l||(w.gx(e,d),(a=w.Zy(this.cf,
this.Ig)&&!(w.locked||this.locked))&&!this.$b&&(this.oi=f),(this.$b&&-1===c&&a||a&&this.Wi)&&w.type!==g.label&&(c=f,this.Wi&&(w.$n=f)),f===c&&(w.locked||this.locked)&&(c=-1,a=!1),w.enabled&&this.fa(w,a,f,c))}0<=c&&!this.$b&&(b=!0);this.$b&&-1===c&&(c=-2);-2===c&&this.jq&&!this.locked&&this.jq(this.cf,this.Ig,this.$b,this.caller);this.$b||(c=-1);this.Oh=c;this.context.globalAlpha=1}return b};f.prototype.sm=function(a,f,g,e,d,b){this.Hd=a;this.Sc=f;this.Df=g;this.Gf=d;this.Dg=b;this.Nc&&this.Nc.sm(a,
f,g,e,d,b)};f.prototype.mx=function(){var a=this.Hf.canvas,f=a.offsetParent;this.offsetLeft=a.offsetLeft;for(this.offsetTop=a.offsetTop;f;)this.offsetLeft+=f.offsetLeft,this.offsetTop+=f.offsetTop,f=f.offsetParent;f=a.parentNode;if("fixed"===f.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==f.tagName.toLowerCase();)this.offsetLeft-=f.scrollLeft,this.offsetTop-=
f.scrollTop,f=f.parentNode};f.prototype.Ax=function(a,f,g){a=new e(a,f,g,this.ud,this.bk);a.Hd=this.Hd;a.be=this.be;a.Sc=this.Sc;a.Lc=this.Lc;a.Df=this.Df;a.nh=this.nh;a.zi=this.zi;a.zj=this.zj;a.Gf=this.Gf;a.ji=this.ji;a.Dg=this.Dg;a.Vi=this.Vi;a.border=this.border;return a};f.prototype.dy=function(){var a=this.Nc,f=this.ud,e="";var d=1;if(-1!==a.Oh||-1===a.Oh&&-1===a.oi)this.f=a.Oh;if(-1===a.oi||-1!==this.f&&this.f===a.oi){if(-1!==a.oi){var b=a.sd[a.oi];b.id===this.o&&b.gi!==this.i&&(this.f=-1)}50>
this.zg&&(this.zg+=1)}else if(b=a.sd[a.oi],b.id!==this.o||b.id===this.o&&b.gi!==this.i?(this.o=b.id,this.i=b.gi,50>this.zg&&(this.zg+=1)):0<=this.zg&&--this.zg,a=-1!==this.i?b.F[this.i]:b.F,""!==a&&-1===this.zg){this.f=-1;var c=b.x;var w=b.y;var h=b.width;var m=b.height;-1!==b.gi&&(b.orientation===g.Zc?(c+=h/b.lower.length*b.gi,h/=b.lower.length):(w+=m/b.lower.length*b.gi,m/=b.lower.length));f.font="18px Arial";var q=f.measureText(a).width;var A=Math.round(c+h/2);w=Math.round(w+m/2);A-=q/2;5>A?A=
5:A+q+4>f.canvas.width&&(A=f.canvas.width-q-4-1);m>h?(-1!==this.X&&h<this.X&&(h=this.X),A>f.canvas.width/2?A=c-q-h/2:A=c+b.width+h/2):(-1!==this.fa&&m<this.fa&&(m=this.fa),w>f.canvas.height/2?w-=m:w+=m);if(q>f.canvas.width){e=(q>>1)+22;e>f.canvas.width&&(e=f.canvas.width);for(q=1;f.measureText(a.substr(0,q)).width<e;)q+=1;for(d=q-1;d>q-5;)e=a[d]," "===e||","===e||"/"===e?(q=d+2,d=q-5):--d;e=a.substr(q-1);a=a.substr(0,q-1);q=f.measureText(a).width;d=f.measureText(e).width;d>q&&(q=d);d=2}f.globalAlpha=
this.Lc;f.fillStyle=this.Sc;f.fillRect((A-4|0)-.5,(w-9-4|0)-.5,q+2+8,18*d+8);f.globalAlpha=this.Vi;f.strokeStyle=this.Dg;f.strokeRect((A-4|0)-.5,(w-9-4|0)-.5,q+2+8,18*d+8);f.globalAlpha=this.Lc;f.strokeStyle=this.Sc;f.beginPath();f.moveTo((A-4|0)+.5,(w-9-4|0)+.5+18*d+8);f.lineTo((A-4|0)+.5+q+2+8,(w-9-4|0)+.5+18*d+8);f.lineTo((A-4|0)+.5+q+2+8,(w-9-4|0)+.5);f.stroke();f.globalAlpha=1;f.fillStyle=this.Sc;f.fillText(a,A+2,w+2);""!==e&&f.fillText(e,A+2,w+18+2);f.fillStyle=this.Hd;f.fillText(a,A,w);""!==
e&&f.fillText(e,A,w+18)}};f.prototype.Sa=function(a){var f,g=a.ud,l=g.canvas.width-86,e=90;a.va&&(e=0);a.Mm=!1;a.zs=!0;a.Sl&&(a.Nc=a.Sl,a.Sl=null,g.font=a.bk,a.Nc.Kd(),a.Nc.Sm&&a.Nc.Sm(a.Nc.caller));var d=performance.now();a.Lq&&(a.ao=d-1E3/60);a.gl||a.notification.ej()||a.Mi||a.GA!==a.zg&&-1!==a.zg?(a.qm(a),a.Mi&&--a.Mi,a.Lq=!1):a.Lq=!0;var b=d-a.ao;a.ao=d;a.Nc.Mc&&a.Nc.Mc(b,a.Nc.caller);d=performance.now()-d;var h=performance.now();a.nq();a.Wi=!1;a.dy();a.notification.update();h=performance.now()-
h;a.Wq[a.Hm]=h;for(f=h=0;f<a.tj;f+=1)h+=a.Wq[f];h/=a.tj;a.Yq[a.Hm]=d;for(f=d=0;f<a.tj;f+=1)d+=a.Yq[f];d/=a.tj;a.Vq[a.Hm]=b;for(f=b=0;f<a.tj;f+=1)b+=a.Vq[f];b/=a.tj;a.Hm=(a.Hm+1)%a.tj;b=1E3/b;if(a.Ci){g.font="12px Arial";g.globalAlpha=.7;g.fillStyle="black";a.Bi?g.fillRect(l,e,88,83):g.fillRect(l,e,88,20);f=(d+h)/16.6666;1<f&&(f=1);g.fillStyle=.5>f?"rgb("+(510*f|0)+",255,0)":"rgb(255,"+(255*(1-2*(f-.5))|0)+",0)";g.fillRect(l,e,88*f|0,20);h=h.toFixed(1);d=d.toFixed(1);4>b.toFixed(1).length?b=b.toFixed(1):
b|=0;g.globalAlpha=1;g.fillStyle="black";var m=b+"fps";var q=g.measureText(m).width;g.fillText(m,l+36-q,e+12);m=(100*f|0)+"%";q=g.measureText(m).width;g.fillText(m,l+84-q,e+12);a.Bi&&(g.fillText("menu",l+6,e+28),g.fillText("work",l+6,e+44),g.fillText("update",l+6,e+60),g.fillText("focus",l+6,e+76),m=h+"ms",q=g.measureText(m).width,g.fillText(m,l+84-q,e+28),m=d+"ms",q=g.measureText(m).width,g.fillText(m,l+84-q,e+44),m=a.gl?"on":"off",q=g.measureText(m).width,g.fillText(m,l+84-q,e+60),m=a.hasFocus?
"on":"off",q=g.measureText(m).width,g.fillText(m,l+84-q,e+76));g.fillStyle="white";m=b+"fps";q=g.measureText(m).width;g.fillText(m,l+34-q,e+10);m=(100*f|0)+"%";q=g.measureText(m).width;g.fillText(m,l+82-q,e+10);a.Bi&&(g.fillText("menu",l+4,e+26),g.fillText("work",l+4,e+42),g.fillText("update",l+4,e+58),g.fillText("focus",l+4,e+74),m=h+"ms",q=g.measureText(m).width,g.fillText(m,l+82-q,e+26),m=d+"ms",q=g.measureText(m).width,g.fillText(m,l+82-q,e+42),m=a.gl?"on":"off",q=g.measureText(m).width,g.fillText(m,
l+82-q,e+58),m=a.hasFocus?"on":"off",q=g.measureText(m).width,g.fillText(m,l+82-q,e+74));g.globalAlpha=1}a.Hf.drawImage(g.canvas,0,0);a.yr=!0};f.prototype.Lw=function(a){a.ia=this.ia;this.Nc?this.Sl=a:(this.Sl=null,this.Nc=a,this.ud.font=this.bk,this.Nc.Kd(),this.Nc.Sm&&this.Nc.Sm(this.Nc.caller),this.qm(this))};f.prototype.nq=function(){var a;if(this.Nc){var f=this.Nc;this.ud.font=this.bk;f.cf=this.sh;f.Ig=this.th;f.$b=this.$b;f.Wi=this.Wi;if(f.nq()||this.Wg){for(a=0;a<f.ub;a+=1){var g=f.sd[a];f.Sv(g)}this.Wg=
!1}}};f.prototype.qm=function(a){a.Mm||(requestAnimationFrame?requestAnimationFrame(a.pt):setTimeout(a.pt,16),a.Mm=!0)};f.prototype.J=function(a,f){var g="";if("touchend"===f.type){g="mouseup";var l=document.createEvent("MouseEvent");l.initMouseEvent(g,!0,!0,window,1,a.Pl,a.Ql,a.Nl,a.Ol,!1,!1,!1,!1,0,null);f.target.dispatchEvent(l);f.preventDefault()}else{if(1===f.touches.length)switch(f.type){case "touchstart":g="mousedown";break;case "touchmove":g="mousemove"}if(""!==g){var e=f.changedTouches[0];
l=document.createEvent("MouseEvent");l.initMouseEvent(g,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);e.target.dispatchEvent(l);f.preventDefault();a.Pl=e.screenX;a.Ql=e.screenY;a.Nl=e.clientX;a.Ol=e.clientY}}};f.prototype.ha=function(a,f){a.vj||(a.Mj(a,f),a.$b=!0,a.zs=!1,f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Ha=function(a,f){a.pu=performance.now();a.vj||(a.Mj(a,f),a.$b=!1,a.zs||(a.Wi=!0),a.hasFocus||(a.Hf.canvas.focus(),a.hasFocus=!0,
a.notification.clear(!0,!1),a.Pt&&a.Pt(a.caller)),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.rt=function(a){a.hasFocus||a.Tp&&""!==a.notification.Ng||(a.Jb?a.si||a.notification.U("Copy",3600,!0):a.va?a.Vg?a.notification.U("Launch",3600,!0):a.notification.U("Expand",3600,!0):a.notification.U("Click to control",3600,!0),a.notification.Hp=!0,a.Tp=!0)};f.prototype.ua=function(a,f){a.vj||(a.rt(a),a.Mj(a,f),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Fa=
function(a,f){a.vj||(a.rt(a),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Ca=function(a,f){var g=performance.now()-a.pu;a.vj||(1<g&&(a.hasFocus||a.notification.clear(!0,!1),a.Hf.canvas.blur(),a.hasFocus=!1,a.$b=!1,a.sh=-1,a.th=-1,a.Tp=!1,a.Mm||(a.qm(a),2>a.Mi&&(a.Mi=2))),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Mj=function(a,f){if(f.pageX||f.pageY){var g=f.pageX;f=f.pageY}else g=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
f=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.mx();g-=a.offsetLeft;f-=a.offsetTop;a.sh=g-1|0;a.th=f-1|0;a.Mm||(a.qm(a),2>a.Mi&&(a.Mi=2))};f.prototype.Og=function(a){!a&&!this.notification.ej()||this.gl||this.qm(this);this.gl=a};window.IconManager=d;window.Menu=g;window.MenuManager=f})();(function(){function c(a,e,f,g,l,E){this.Ik=a;this.Jk=e;this.width=f;this.height=g;this.AA=l;this.hy=E}function b(a){var e=a.lastIndexOf(".");-1!==e&&(a=a.substr(0,e));this.name=a;this.Ii=this.Bg=0;this.Ze=this.pd=this.tb=-1;this.ik=this.Fl=0;this.Sn=this.xq=!1;this.an=this.Zd=this.$="";this.ca=this.S=this.Ll=this.Gb=this.Hb=!1;this.vc=d.Kj;this.Pe=-1;this.qd=this.Md=!1;this.Kb=-1;this.qh=1;this.Kf=this.$s=this.at=this.bt=this.ct=this.Xd=this.Hc=this.md=this.yc=-1;this.sa=!1;this.lc=-1;this.el=this.cl=
this.wd=this.Tc=null;this.g=this.De=-1;this.height=this.width=0;this.Ce=this.$c=null;this.og=this.Se=this.qb=this.title="";this.Ee=2;this.bm=0;this.mj=this.Xg=!1;this.uv=this.Su="";this.dA=this.Ir=this.Hr=this.Jr=-1;this.vv=this.wv=null}var d={Mu:"none",$m:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",du:"0123456789abcdef",qk:86,fo:22,ho:6,Tl:8,iy:"XRLE",cv:"Pos",Qt:"Gen",m:"",fx:":",nt:"ptkcs",hp:"012345678ceaiknjqrytwz-",Gg:"0123456789",Bs:"0123456789xyz",As:"0123",Cs:"0123456789",
JA:8191,IA:1038,KA:7157,$v:"0123456omp-",hB:"0123456",kw:"01234",rv:["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"],qv:"omp",Zz:[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]],gp:" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" "),fp:"  omp omp omp  ".split(" "),My:[0,2,6,10,13,10,6,2,0],ez:[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,
4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]],$z:[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]],ri:13,maxWidth:16384,maxHeight:16384,Py:256,Bj:new Uint32Array(256),Kr:new Uint8Array(8192),Gr:new Uint8Array(8192),Ak:new Uint8Array(512),Fr:new Uint8Array(512),EA:new Uint16Array(512),xa:!1,gk:!1,Kq:"history",cp:"l",bp:"le",ep:"lv",Gq:"h",Ms:"v",Xg:!1,uq:0,$h:!1,Fo:0,Go:0,sg:!1,index:0,br:1,ar:500,Xy:0,
Qy:255,Uy:0,Ny:1,Xl:0,Ls:1,st:2,to:1,mo:500,Ju:0,Du:255,no:0,io:0,bf:0,jf:1,Sp:2,Rg:-1,Qg:-1,Kj:0,Mk:1,Nk:2,dl:"|",gh:!1,aA:"@RULE",cA:"@TREE",Jr:"num_states",Hr:"num_neighbors",Ir:"num_nodes",bA:"@TABLE",sv:"@COLORS",tv:"@ICONS"};b.prototype.f=function(a){this.$=a.$;this.Hb=a.Hb;this.Zd=a.Zd;this.S=a.S;this.ca=a.ca;this.Bg=a.Bg;this.Ii=a.Ii;this.vc=a.vc;this.Pe=a.Pe;this.Md=a.Md;this.qd=a.qd;this.Kb=a.Kb;this.Kf=a.Kf;this.qh=a.qh;this.yc=a.yc;this.md=a.md;this.Hc=a.Hc;this.Xd=a.Xd;this.sa=a.sa;this.lc=
a.lc;this.De=a.De;this.g=a.g;this.Ee=a.Ee;a.wd&&(this.wd=new Uint8Array(a.wd.length),this.wd.set(a.wd));a.Tc&&(this.Tc=new Uint8Array(a.Tc.length),this.Tc.set(a.Tc))};b.prototype.px=function(a,e){a.wd&&(this.el=e.W(Uint8,a.wd.length,"HROT.altSurvivals"),this.el.set(a.wd));a.Tc&&(this.cl=e.W(Uint8,a.Tc.length,"HROT.altBirths"),this.cl.set(a.Tc));this.ct=a.yc;this.bt=a.md;this.at=a.Hc;this.$s=a.Xd};b.prototype.Vz=function(){this.Zd=this.$="";this.ca=this.S=this.Hb=!1;this.Ii=this.Bg=0;this.vc=d.Kj;
this.Pe=-1;this.qd=this.Md=!1;this.Kf=this.Kb=-1;this.sa=!1;this.g=this.De=this.lc=-1;this.Ee=2};b.prototype.Cy=function(a){return this.qd!==a.qd||this.sa!==a.sa?"Alternate is different rule family":(-1===this.g?this.Ee:this.g)!==(-1===a.g?a.Ee:a.g)?"Alternate has different number of states":this.S!==a.S||this.ca!==a.ca||this.vc!==a.vc||this.Md!==a.Md||this.Pe!==a.Pe||this.Kf!==a.Kf||this.De!==a.De?"Alternate has different neighborhood":this.Kb!==a.Kb||this.lc!==a.lc?"Alternate has different range":
this.Hb||a.Hb?"Alternate can not use none":""};d.Kx=function(a,e,f){var g,l,E=0,d=0,b=0,c=!1;var k=e.length;for(g=l=0;g<k;){var w=e[g];g+=1;switch(l){case 0:switch(w){case "!":l=1;a.qb+="#C ";var h=!0;break;case "O":case "o":case "*":case ".":l=2;d=E=b=0;var m=--g}break;case 1:"\r"!==w&&"\n"!==w&&(" "===w?h||(a.title+=w,a.qb+=w):(h=!1,a.title+=w,a.qb+=w));"\n"===w&&(l=0,a.qb+=w,a.title+=" ");break;case 2:switch(w){case "O":case "o":case "*":case ".":d+=1;break;case "\n":b+=1;d>E&&(E=d);d=0;break;
case " ":case "\t":break;default:g=k,c=!0}}}if(!c){2===l&&"\n"!==w&&(b+=1,d>E&&(E=d));a.height=b;a.width=E;a.og="Cells";a.$c=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");g=m;for(l=E=0;g<k;)switch(w=e[g],g+=1,w){case "\n":E+=1;l=0;break;case "O":case "o":case "*":a.$c[E][l>>4]|=1<<(~l&15);l+=1;break;case ".":l+=1}this.xa=!0;this.Al(a,"",f)}};d.Ix=function(a,e,f){var g,l;var E=e.length;var d=[];var b=0;var c=!1;var k=l=0;var w=!1;for(g=10;g<E;){var h=e[g];g+=1;switch(h){case "\n":w&&
(w=!1,2===m&&c&&(k=-k,c=!1),d[b]=[l,k],b+=1);var m=k=l=0;break;case "-":c=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(c&&(l=-l,c=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?l=10*l+parseInt(h,10):(k=10*k+parseInt(h,10),w=!0)}}w&&(2===m&&c&&(k=-k),d[b]=[l,k],b+=1);if(b){E=e=d[0][0];m=h=d[0][1];for(g=1;g<b;g+=1)l=d[g][0],k=d[g][1],l<e&&(e=l),l>E&&(E=l),k<h&&(h=k),k>m&&(m=k);a.height=m-h+1;a.width=E-e+1;a.$c=Array.Z(Uint16,
a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.og="Life 1.06";this.Al(a,"",f);for(g=0;g<b;g+=1)l=d[g][0]-e,k=d[g][1]-h,a.$c[k][l>>4]|=1<<(~l&15)}};d.Dt=function(a,e,f,g){var l,E,d=[],b=0,r=e.length;var k="";var w=!1;var h=0,m=0,q=!1,A=!1,y=0,v=0;f=f?10:0;for(this.xa=!0;f<r&&!A;){var t=e[f];f+=1;switch(h){case 0:switch(t){case "#":h=2;break;case "*":case ".":h=3;var F=E=l=0;var p=--f}break;case 2:switch(t){case "C":case "D":h=1;a.qb+="#C ";var u=!0;break;case "N":h=0;break;case "R":h=4;break;case "P":h=
5;m=0;q=!1;v=y=0;break;case "\n":h=0;break;default:h=1,u=!0}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?u||(a.title+=t,a.qb+=t):(u=!1,a.title+=t,a.qb+=t));"\n"===t&&(h=0,a.title+=" ",a.qb+=t);break;case 4:"\n"===t?h=0:(k+=t,w=!0);break;case 5:switch(t){case "\n":h=0;2===m&&q&&(v=-v,q=!1);break;case "-":q=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(q&&(y=-y,q=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?y=10*y+parseInt(t,
10):v=10*v+parseInt(t,10)}break;case 3:switch(t){case "\n":l>E&&(E=l);l=0;F+=1;break;case "#":d[b]=new c(y,v,E,F,p,f-1);b+=1;h=2;break;case "*":case ".":l+=1;break;case " ":case "\t":break;default:A=!0}}}"\n"!==t&&(F+=1);3===h&&(d[b]=new c(y,v,E,F,p,f-1),b+=1);if(b&&!A){y=d[0].Ik;v=d[0].Jk;t=y+d[0].width-1;l=v+d[0].height-1;for(f=1;f<b;f+=1)d[f].Ik<y&&(y=d[f].Ik),d[f].Jk<v&&(v=d[f].Jk),d[f].Ik+d[f].width-1>t&&(t=d[f].Ik+d[f].width-1),d[f].Jk+d[f].height-1>l&&(l=d[f].Jk+d[f].height-1);a.height=l-v+
1;a.width=t-y+1;a.$c=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,g,"Pattern.lifeMap");a.og="Life 1.05";a.Ce=Array.Z(Uint8,a.height,a.width,0,g,"Pattern.multiStateMap");w?(this.Ht(a,k,!1,g),this.xa?0<=a.g||a.Gb||(a.Ce=null):(a.g=-1,a.Gb=!1)):this.Al(a,"",g);for(f=0;f<b;f+=1)for(g=d[f].AA,k=d[f].hy,l=d[f].Ik-y,t=d[f].Jk-v,w=l,E=t;g<=k;)switch(t=e[g],g+=1,t){case "\n":E+=1;w=l;break;case "*":a.$c[E][w>>4]|=1<<(~w&15);a.Ce&&(a.Ce[E][w]=1);w+=1;break;default:w+=1}}};d.Ai=function(a,e,f,g){var l=0,d,b,c;
f&&(l=4);for(b=0;8192>b;b+=8)for(c=0;4>c;c+=1){f=0;for(d=b+c&g;0<d;)f+=d&1,d>>=1;e===f&&(a[b+c+l]=1)}};d.um=function(a,e,f,g){var l=0,d,b,c;f&&(l=16);for(b=0;512>b;b+=32)for(c=0;16>c;c+=1){f=0;for(d=b+c&g;0<d;)f+=d&1,d>>=1;e===f&&(a[b+c+l]=1)}};d.ly=function(a){return(a&7)<<6|(a&448)>>6|a&56};d.pv=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};d.sA=function(a,e,f){var g;for(g=0;4>g;g+=1)a[e]=f,e=this.pv(e);e=this.ly(e);for(g=0;4>g;g+=1)a[e]=f,
e=this.pv(e)};d.lA=function(a,e,f,g,l){var d=f?16:0;if(2>e||4<e)this.um(a,e,f,254);else if(f=this.qv.indexOf(g),-1!==f)for(e=this.Zz[e-2][f],f=0;f<e.length;f+=1)g=e[f]+d,a[g]=l,a[g+256]=l,a[g+1]=l,a[g+257]=l};d.rA=function(a,e,f,g,l){var d=0,b=e-1;0===e||8===e?this.um(a,e,f,511):(3<b&&(b=6-b,d=495),e=this.rv[b].indexOf(g),-1!==e&&(d^=this.$z[b][e],f&&(d|=16),this.sA(a,d,l)))};d.Cv=function(a,e,f,g){var l=e.length,d=0,b="",c;for(c=0;c<l;c+=1){var r=e.charCodeAt(c)-48;d|=1<<r;this.um(a,r,f,g)}for(c=
0;9>c;c+=1)0!==(d&1<<c)&&(b+=String(c));return b};d.it=function(a){for(var e=0;a;)e+=1,a&=a-1;return e};d.Nw=function(a,e){var f="",g=0;if(e[a]){e=e[a];0!==(e&1<<this.ri)&&(g=1,e&=~(1<<this.ri));var l=this.it(e);var d=2>a||4<a?0:3;l+g>d>>1&&(e=~e&(1<<d)-1)&&(g=1-g);if(!g||e)for(f+=String(a),g&&(f+="-"),a=0;a<d;a+=1)0!==(e&1<<a)&&(f+=this.qv[a])}else f+=String(a);return f};d.Ow=function(a,e){var f="",g=0;if(e[a]){e=e[a];0!==(e&1<<this.ri)&&(g=1,e&=~(1<<this.ri));var l=this.it(e);var d=this.My[a];(g||
7!==l||13!==d)&&l+g>d>>1&&(e=~e&(1<<d)-1)&&(g=1-g);if(!g||e)for(f+=String(a),g&&(f+="-"),l=0;l<d;l+=1)g=this.ez[a][l],0!==(e&1<<g)&&(f+=this.rv[3][g])}else f+=String(a);return f};d.yv=function(a,e,f){var g=e.length,l=0,d=[],b="",c;e+=" ";for(c=0;7>c;c+=1)d[c]=0;for(c=0;c<g;c+=1){var r=e.charCodeAt(c)-48;if(0<=r&&8>=r){var k=0!==(l&1<<r);l|=1<<r;var w=e[c+1];var h=this.fp[r].indexOf(w);-1!==h||k||this.um(a,r,f,254);var m=1;"-"===w&&(m=0,c+=1,w=e[c+1],h=this.fp[r].indexOf(w));-1!==h||"0"<=w&&"9">=w||
" "===w||(this.m=(f?"S":"B")+r+w+" not valid",c=g);k&&(k=0,0===(d[r]&1<<this.ri)&&(k=1),k!==m&&(this.m=(f?"S":"B")+r+" can not have minus and non-minus",h=-1,c=g));for(;-1!==h;)0!==(d[r]&1<<h)?(this.m="duplicate "+r+this.fp[r][h],h=-1,c=g):(this.lA(a,r,f,w,m),d[r]|=1<<h,m||(d[r]|=1<<this.ri),c+=1,w=e[c+1],h=this.fp[r].indexOf(w))}else this.m="missing digit prefix"}for(c=0;7>c;c+=1)0!==(l&1<<c)&&(b+=this.Nw(c,d));return b};d.Av=function(a,e,f){var g=e.length,l=0,d=[],b="",c;e+=" ";for(c=0;9>c;c+=1)d[c]=
0;for(c=0;c<g;c+=1){var r=e.charCodeAt(c)-48;if(0<=r&&8>=r){var k=0!==(l&1<<r);l|=1<<r;var w=e[c+1];var h=this.gp[r].indexOf(w);-1!==h||k||this.um(a,r,f,511);var m=1;"-"===w&&(m=0,c+=1,w=e[c+1],h=this.gp[r].indexOf(w));-1!==h||"0"<=w&&"9">=w||" "===w||(this.m=(f?"S":"B")+r+w+" not valid",c=g);k&&(k=0,0===(d[r]&1<<this.ri)&&(k=1),k!==m&&(this.m=(f?"S":"B")+r+" can not have minus and non-minus",h=-1,c=g));for(;-1!==h;)0!==(d[r]&1<<h)?(this.m="duplicate "+r+this.gp[r][h],h=-1,c=g):(this.rA(a,r,f,w,m),
d[r]|=1<<h,m||(d[r]|=1<<this.ri),c+=1,w=e[c+1],h=this.gp[r].indexOf(w))}else this.m="missing digit prefix"}for(c=0;9>c;c+=1)0!==(l&1<<c)&&(b+=this.Ow(c,d));return b};d.Gx=function(a,e){var f;for(f=0;512>f;f+=1)a[f]=0!==(e&1<<(f&7))?1:0!==(f&16)?1:0};d.bq=function(a,e,f){var g=12,l=d.JA,E=a.Bg,b=a.Ii;a.vc===d.Mk?(g=3,l=d.IA):a.vc===d.Nk&&(g=9,l=d.KA);for(a=0;8192>a;a+=1)e[a]=0;if(f)for(a=0;8192>a;a+=1)f[a]=0;if(0!==(E&1))if(0!==(b&1<<g)){E=~E;b=~b;for(a=0;a<=g;a+=1)b&1<<g-a&&this.Ai(e,a,!1,l);for(a=
0;a<=g;a+=1)E&1<<g-a&&this.Ai(e,a,!0,l);f.set(e)}else{for(a=0;a<=g;a+=1)~E&1<<a&&this.Ai(f,a,!1,l);for(a=0;a<=g;a+=1)~b&1<<a&&this.Ai(f,a,!0,l);for(a=0;a<=g;a+=1)b&1<<g-a&&this.Ai(e,a,!1,l);for(a=0;a<=g;a+=1)E&1<<g-a&&this.Ai(e,a,!0,l)}else{for(a=0;a<=g;a+=1)0!==(E&1<<a)&&this.Ai(e,a,!1,l);for(a=0;a<=g;a+=1)0!==(b&1<<a)&&this.Ai(e,a,!0,l);f&&f.set(e)}};d.Fx=function(a,e,f,g,l){var E=this.Bs,b="",c="";l===d.Mk?E=this.As:l===d.Nk&&(E=this.Cs);for(l=a.Bg=0;l<e.length;l+=1){var r=E.indexOf(e[l]);a.Bg|=
1<<r}for(l=a.Ii=0;l<f.length;l+=1)r=E.indexOf(f[l]),a.Ii|=1<<r;for(l=0;l<E.length;l+=1)0!==(a.Bg&1<<l)&&(b+=E[l]);for(l=0;l<E.length;l+=1)0!==(a.Ii&1<<l)&&(c+=E[l]);return-1!==g?c+"/"+b+"/"+g:"B"+b+"/S"+c};d.Dx=function(a,e,f,g,l,E,b,c,r,k){var M=0,h=this.EA;var m=(1<<this.Tl+1)/6|0;var q=new Uint8Array(512);if(a.Hb)f=d.Mu;else if(E)f=this.Fx(a,e,f,r,b);else{a=511;l?a=254:c&&(a=186);for(E=0;512>E;E+=1)q[E]=0,k[E]=0,h[E]=l?E:(E&448)>>6|E&56|(E&7)<<6;if(""!==g){f="MAP";for(E=0;E<m;E+=1)f+=g[E],e=d.$m.indexOf(g[E]),
q[M]=e>>5,M+=1,q[M]=e>>4&1,M+=1,q[M]=e>>3&1,M+=1,q[M]=e>>2&1,M+=1,q[M]=e>>1&1,M+=1,q[M]=e&1,M+=1;e=d.$m.indexOf(g[E]);q[M]=e>>5;q[M+1]=e>>4&1;f+=d.$m[e&48];for(E=0;512>E;E+=1){g=0;m=d.Tl;for(M=8;0<=M;--M)0!==(a&1<<M)&&(0!==(E&1<<M)&&(g|=1<<m),--m);k[h[E]]=q[g]}-1!==r&&(f+="/"+r)}else c?(M=this.Cv(k,e,!1,a),k=this.Cv(k,f,!0,a)):l?(M=this.yv(k,e,!1),k=this.yv(k,f,!0)):(M=this.Av(k,e,!1),k=this.Av(k,f,!0)),f=-1!==r?k+"/"+M+"/"+r:"B"+M+"/S"+k}return f};d.kB=function(a,e){var f,g="";for(f=0;f<=e;f+=1){var l=
this.hp[f];-1!==a.indexOf(l)&&(g+=this.hp[e-f])}return g};d.jB=function(a){var e,f="";for(e=0;9>e;e+=1){var g=this.hp[e];-1===a.indexOf(g)&&(f+=g)}return f};d.hv=function(a){var e=a,f=0;if(-1!==a.indexOf(" "))for(e="";f<a.length;)" "!==a[f]&&(e+=a[f]),f+=1;return e};d.Yx=function(a,e){for(var f=!0,g=0,l,d=1;d<e.length&&f;)l=this.Gg.indexOf(e[d]),-1!==l?g=10*g+l:(this.m="Illegal character in Wolfram rule",f=!1),d+=1;f&&(0>g||254<g?(this.m="Wolfram rule number must be 0-254",f=!1):0!==(g&1)?(this.m=
"Wolfram rule number must be even",f=!1):(this.Gx(this.Ak,g),a.Pe=g,a.$="W"+g));return f};d.Pw=function(a,e){var f=null;if(""===e){if(a.S)a.$+="H";else if(a.Md)a.$+="V";else if(a.ca)switch(a.vc){case d.Kj:a.$+=d.cp.toUpperCase();break;case d.Mk:a.$+=d.bp.toUpperCase();break;case d.Nk:a.$+=d.ep.toUpperCase()}f=AliasManager.St(a.$);a.Gb&&(a.$+="History")}-1!==a.tb&&(a.$+=":"+d.nt[a.tb].toUpperCase(),a.$+=a.pd,a.Fl&&(a.$+="+"+a.Fl),a.xq&&(a.$+="*"),a.Ze!==a.pd||a.ik||a.Sn)&&(a.$+=","+a.Ze,a.ik&&(a.$+=
"+"+a.ik),a.Sn&&(a.$+="*"));null!==f&&(""===f&&(f=a.Gb?"Life":"Conway's Life"),a.Gb&&(f+="History"),a.Zd=f)};d.WA=function(a,e){var f=d.qk,g=a.length;g>=f?this.Tl=8:(f=d.fo,g>=f?(this.Tl=6,e.S=!0):(f=d.ho,g>=f?(this.Tl=4,e.Md=!0):f=-1));if(0<=f)for(e=0;e<f;e+=1)-1===d.$m.indexOf(a[e])&&(f=-1);return f};d.Xc=function(a,e,f,g,l){var d=0,b=e.length,c=a.substr(this.index,b),r;if(c!==e)","===e[0]&&(","===c[0]&&(c=c.substr(1)),e=e.substr(1)),this.m="LtL expected '"+e.toUpperCase()+"' got '"+c.toUpperCase()+
"'",this.index=-1;else if(","===e[0]&&(e=e.substr(1)),this.index+=b,b=a[this.index],this.index<a.length?r=b.charCodeAt(0):r=-1,"n"===e)"m"===b||"n"===b||"c"===b?(this.index+=1,d=this.Xl,"n"===b?d=this.Ls:"c"===b&&(d=this.st)):(this.m="LtL expected 'NM', 'NN' or 'NC' got 'N"+b.toUpperCase()+"'",this.index=-1);else if(48>r||57<r)this.m="LtL '"+l+e.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=r&&57>=r;)d=10*d+(r-48),this.index+=1,this.index<a.length?r=a[this.index].charCodeAt(0):r=-1;
-1!==f&&d<f&&(this.m="LtL '"+l+e.toUpperCase()+d+"' < "+f,this.index=-1);-1!==g&&d>g&&(this.m="LtL '"+l+e.toUpperCase()+d+"' > "+g,this.index=-1)}return d};d.Px=function(a,e){var f=!1,g=0;this.index=0;var l=this.Xc(e,"r",this.br,this.ar,"");-1!==this.index&&(a.Kb=l,l=this.Xc(e,",c",this.Xy,this.Qy,""),-1!==this.index&&(2>l&&(l=2),a.g=l,l=this.Xc(e,",m",this.Uy,this.Ny,""),-1!==this.index&&(a.qh=l,l=this.Xc(e,",s",0,-1,""),-1!==this.index&&(a.yc=l,l=this.Xc(e,"..",a.yc,-1,"S"),-1!==this.index&&(a.md=
l,l=this.Xc(e,",b",0,-1,""),-1!==this.index&&(a.Hc=l,l=this.Xc(e,"..",a.Hc,-1,"B"),-1!==this.index&&(a.Xd=l,l=this.Xc(e,",n",-1,-1,""),-1!==this.index&&(a.Kf=l,f=!0))))))));if(f)if(this.index!==e.length)f=!1,this.m="LtL invalid characters after rule";else{switch(a.Kf){case d.Xl:g=(2*a.Kb+1)*(2*a.Kb+1);break;case d.Ls:g=2*a.Kb*(a.Kb+1)+1;break;case d.st:l=0;var E=a.Kb*a.Kb+a.Kb;for(e=-a.Kb;e<=a.Kb;e+=1){for(g=0;(g+1)*(g+1)+e*e<=E;)g+=1;l+=2*g+1}g=l}g-=1-a.qh;a.Hc>g&&(f=!1,this.m="LtL 'B"+a.Hc+"..' > "+
g);a.Xd>g&&(f=!1,this.m="LtL 'B.."+a.Xd+"' > "+g);a.yc>g&&(f=!1,this.m="LtL 'S"+a.yc+"..' > "+g);a.md>g&&(f=!1,this.m="LtL 'S.."+a.md+"' > "+g)}return f};d.Rx=function(a,e){var f=!1;this.index=0;a.g=2;a.qh=1;a.Kf=d.Xl;var g=this.Xc(e,"",this.br,this.ar,"");-1!==this.index&&(a.Kb=g,g=this.Xc(e,",",0,-1,""),-1!==this.index&&(a.Hc=g,g=this.Xc(e,",",a.Hc,-1,"B"),-1!==this.index&&(a.Xd=g,g=this.Xc(e,",",0,-1,""),-1!==this.index&&(a.yc=g,g=this.Xc(e,",",a.yc,-1,"S"),-1!==this.index&&(a.md=g,f=!0)))));f&&
(this.index!==e.length?(f=!1,this.m="LtL invalid characters after rule"):(e=(2*a.Kb+1)*(2*a.Kb+1),a.Hc>e&&(f=!1,this.m="LtL 'B"+a.Hc+"..' > "+e),a.Xd>e&&(f=!1,this.m="LtL 'B.."+a.Xd+"' > "+e),a.yc>e&&(f=!1,this.m="LtL 'S"+a.yc+"..' > "+e),a.md>e&&(f=!1,this.m="LtL 'S.."+a.md+"' > "+e)));return f};d.Qx=function(a,e){var f=!1;this.index=0;-1===a.g&&(a.g=2);a.qh=1;a.Kf=d.Xl;var g=this.Xc(e,"r",this.br,this.ar,"");-1!==this.index&&(a.Kb=g,g=this.Xc(e,"b",0,-1,""),-1!==this.index&&(a.Hc=g,g=this.Xc(e,
"t",a.Hc,-1,"B"),-1!==this.index&&(a.Xd=g,g=this.Xc(e,"s",0,-1,""),-1!==this.index&&(a.yc=g,g=this.Xc(e,"t",a.yc,-1,"S"),-1!==this.index&&(a.md=g,f=!0)))));f&&(this.index!==e.length?(f=!1,this.m="LtL invalid characters after rule"):(e=(2*a.Kb+1)*(2*a.Kb+1),a.Hc>e&&(f=!1,this.m="LtL 'B"+a.Hc+"' > "+e),a.Xd>e&&(f=!1,this.m="LtL 'B..T"+a.Xd+"' > "+e),a.yc>e&&(f=!1,this.m="LtL 'S"+a.yc+"..' > "+e),a.md>e&&(f=!1,this.m="LtL 'S..T"+a.md+"' > "+e)));return f};d.fv=function(a,e,f,g,l){var d=!1,b,c="HROT.",
r,k=0;if(this.index+f>a.length)this.m="HROT '"+e+"' needs "+f+" hex digits";else{for(b=r=0;r<f&&-1!==b;)b=this.du.indexOf(a[this.index]),-1!==b&&(this.index+=1,r+=1);if(-1===b)this.m="HROT '"+e+"' expected hex got '"+a[this.index]+"'";else{"B"===e?c+="births":(c+="survivals",k=1);l=l.W(Uint8,(f<<2)+1+k,c);d=0;l[d]=0;d+=1;--r;"S"===e&&(l[d]=0,d+=1);for(;0<=r;)b=this.du.indexOf(a[this.index-f+r]),--r,l[d]=b&1,d+=1,l[d]=b>>1&1,d+=1,l[d]=b>>2&1,d+=1,l[d]=b>>3&1,d+=1;"B"===e?g.Tc=l:g.wd=l;d=!0}}return d};
d.zl=function(a,e){var f=-1;this.index+=1;if(this.index<a.length){var g=a[this.index].charCodeAt(0);if(48>g||57<g)this.m="HROT '"+e+"' needs a number";else for(f=g-48,this.index+=1,g=-1,this.index<a.length&&(g=a[this.index].charCodeAt(0));48<=g&&57>=g;)f=10*f+(g-48),this.index+=1,this.index<a.length?g=a[this.index].charCodeAt(0):g=-1}else this.m="HROT '"+e+"' needs a number";return f};d.Et=function(a,e,f,g){var l=!0,d;for(d=this.zl(a,f);l&&-1!==d;){var b=-1;this.index<a.length&&"-"===a[this.index]&&
(b=this.zl(a,f),-1===b&&(this.m="HROT '"+f+d+"-' needs a number",l=!1));if(l&&(-1===b&&(b=d),d>b&&(this.m="HROT '"+f+d+"-"+b+"' wrong order",l=!1),l)){"S"===f?(this.no=b,d+=1,b+=1):this.io=b;d>g&&(d=g);for(b>g&&(b=g);d<=b;d+=1)e[d]=1;d=-1;this.index<a.length&&","===a[this.index]&&(d=this.zl(a,f),-1===d&&(--this.index,this.m=""))}}return l};d.wA=function(a,e){var f=a.Kb,g=(2*f+1)*(2*f+1);a.lc=f;a.De=a.Kf;a.wd=e.W(Uint8,g+1,"HROT.survivals");a.Tc=e.W(Uint8,g,"HROT.births");for(f=a.yc;f<=a.md;f+=1)a.wd[f]=
1;for(f=a.Hc;f<=a.Xd;f+=1)a.Tc[f]=1;if(this.gh){a.el=e.W(Uint8,g+1,"HROT.altSurvivals");a.cl=e.W(Uint8,g,"HROT.altBirths");for(f=a.ct;f<=a.bt;f+=1)a.el[f]=1;for(f=a.at;f<=a.$s;f+=1)a.cl[f]=1}a.sa=!0};d.Nx=function(a,e,f){var g=!1,l,E;this.no=this.io=this.index=l=0;if("r"!==e[this.index])this.m="HROT expected 'R' got '"+e[this.index].HA()+"'";else{var b=this.zl(e,"R");-1!==b&&(b<this.to?this.m="HROT 'R' < "+this.to:b>this.mo?this.m="HROT 'R' > "+this.mo:(a.lc=b,g=!0,l=(2*b+1)*(2*b+1)))}g&&(g=!1,this.index<
e.length?","!==e[this.index]?this.m="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"c"!==e[this.index]?this.m="HROT expected 'C' got "+e[this.index].toUpperCase():(b=this.zl(e,"C"),-1!==b&&(b<this.Ju?this.m="HROT 'C"+b+"' < "+this.Ju:b>this.Du?this.m="HROT 'C"+b+"' > "+this.Du:(2>b&&(b=2),a.g=b,g=!0))):this.m="HROT expected 'C'"):this.m="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.m="HROT expected ',' got "+e[this.index].toUpperCase():
(this.index+=1,this.index<e.length?"s"!==e[this.index]?this.m="HROT expected 'S' got "+e[this.index].toUpperCase():(a.wd=f.W(Uint8,l+2,"HROT.survivals"),g=this.Et(e,a.wd,"S",l)):this.m="HROT expected 'S'"):this.m="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.m="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"b"!==e[this.index]?this.m="HROT expected 'B' got "+e[this.index].toUpperCase():(a.Tc=f.W(Uint8,l+1,"HROT.births"),g=this.Et(e,
a.Tc,"B",l)):this.m="HROT expected 'B'"):this.m="HROT expected ','");a.De=this.bf;g&&this.index<e.length&&","===e[this.index]&&(g=!1,this.index+=1,this.index<e.length?"n"===e[this.index]?(this.index+=1,this.index<e.length?"m"===e[this.index]||"n"===e[this.index]||"c"===e[this.index]?("n"===e[this.index]?a.De=this.jf:"c"===e[this.index]&&(a.De=this.Sp),this.index+=1,g=!0):this.m="HROT expected 'NM', 'NN' or 'NC' got 'N"+e[this.index].toUpperCase()+"'":this.m="HROT 'N' needs a neighborhood"):this.m=
"HROT expected 'N' got '"+e[this.index].toUpperCase()+"'":this.m="HROT expected 'N'");if(g){switch(a.De){case d.bf:l=(2*a.lc+1)*(2*a.lc+1);break;case d.jf:l=2*a.lc*(a.lc+1)+1;break;case d.Sp:f=0;l=a.lc*a.lc+a.lc;for(E=-a.lc;E<=a.lc;E+=1){for(b=0;(b+1)*(b+1)+E*E<=l;)b+=1;f+=2*b+1}l=f}--l;this.no>l&&(g=!1,this.m="HROT 'S"+this.no+"' > "+l);g&&this.io>l&&(g=!1,this.m="HROT 'B"+this.io+"' > "+l);g&&(this.index!==e.length?(g=!1,this.m="HROT invalid characters after rule"):a.sa=!0)}return g};d.Mx=function(a,
e,f){var g=!1,l=0;this.index=0;-1===a.g&&(a.g=2);if("r"!==e[this.index])this.m="HROT expected 'R' got '"+e[this.index].HA()+"'";else{var b=-1;this.index+=1;this.index<e.length&&(b=e[this.index].charCodeAt(0));if(48>b||57<b)this.m="HROT 'R' needs a number";else{var c=b-48;this.index+=1;b=-1;for(this.index<e.length&&(b=e[this.index].charCodeAt(0));48<=b&&57>=b;)c=10*c+(b-48),this.index+=1,this.index<e.length?b=e[this.index].charCodeAt(0):b=-1;c<this.to?this.m="HROT 'R' < "+this.to:c>this.mo?this.m=
"HROT 'R' > "+this.mo:(a.lc=c,g=!0,l=c*(c+1))}}g&&(g=!1,this.index<e.length?"b"!==e[this.index]?this.m="HROT expected 'B' got "+e[this.index].toUpperCase()+"'":(this.index+=1,g=this.fv(e,"B",l,a,f)):this.m="HROT expected 'B'");g&&(g=!1,this.index<e.length?"s"!==e[this.index]?this.m="HROT expected 'S' got "+e[this.index].toUpperCase()+"'":(this.index+=1,g=this.fv(e,"S",l,a,f)):this.m="HROT expected 'S'");g&&this.index<e.length&&"z"===e[this.index]&&(a.wd[1]=1,this.index+=1);g&&(this.index!==e.length?
(g=!1,this.m="HROT invalid characters after rule"):(a.De=d.bf,a.sa=!0));return g};d.ft=function(a,e){for(var f=a.length,g=-1,d="",b=0;b<f;)1===a[b]?-1===g&&(g=b):-1!==g&&(""!==d&&(d+=","),d+=g+e,b-1!==g&&(d+="-"+(b-1+e)),g=-1),b+=1;-1!==g&&(""!==d&&(d+=","),d+=g+e,b-1!==g&&(d+="-"+(b-1+e)));return d};d.Al=function(a,e,f){var g="",l=!1;var E=AliasManager.Tt(e);null!==E&&(g=AliasManager.St(E),e=E);E=e.indexOf(d.dl);if(-1===E)(l=this.eq(a,e,f,this.Ak))&&a.ca&&this.bq(a,this.Kr,this.Gr);else if(-1===
e.substr(E+1).indexOf(d.dl)){if(l=this.eq(a,e.substr(0,E),f,this.Fr)){var c=new b(a.name);c.f(a);a.Vz();if(l=this.eq(a,e.substr(E+1),f,this.Ak))if(this.m=a.Cy(c),""===this.m)if(!a.ca&&(this.Ak[0]||this.Fr[0])||a.ca&&0!==(a.Bg&1)||0!==(c.Bg&1))this.m="Alternate not supported with B0",l=!1;else{a.ca&&(this.bq(c,this.Gr,null),this.bq(a,this.Kr,null));if(""!==g)a.Zd=g;else if(""!==a.Zd||""!==c.Zd)""===a.Zd&&(a.Zd=a.$),""===c.Zd&&(c.Zd=c.$),a.Zd=c.Zd+d.dl+a.Zd;a.$=c.$+d.dl+a.$;(a.sa||a.qd)&&a.px(c,f);
this.gh=!0}else l=!1}}else this.m="Only one alternate allowed";return l};d.eq=function(a,e,f,g){var l=!1,b=null,c=null,G=null,r=this.hp;var k=d.Gq.length;var w=d.cp.length;var h=d.bp.length,m=d.ep.length,q=d.Ms.length,A="";g[0]=0;var y=AliasManager.Tt(e);null!==y&&(""===e&&(a.$="Conway's Life"),e=y);if("map"===e.substr(0,3).toLowerCase()){A=e.substr(3);var v=A.indexOf("/");-1===v?"=="===A.substr(-2)&&(A=A.substr(0,A.length-2)):"=="===A.substr(v-2,2)&&(A=A.substr(0,v-2)+A.substr(v));e=this.WA(A,a);
if(0<=e)if(l=!0,G=A.substr(e),A=A.substr(0,e),"/"===G[0]){y=1;a.g=0;y<G.length&&("g"===G[y].toLowerCase()||"c"===G[y].toLowerCase())&&(y+=1);for(v=0;y<G.length&&-1!==v;)v=this.Gg.indexOf(G[y]),-1!==v?a.g=10*a.g+v:(this.m="Illegal character in generations number",a.g=-1,l=!1),y+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.m="Generations number must be 2-256",a.g=-1,l=!1)}else""!==G&&(y=G.length,this.m="MAP length must be "+d.ho+", "+d.fo+" or "+d.qk+" not "+(y+e),l=!1);else this.m=A.length===d.qk||A.length===
d.fo||A.length===d.ho?"MAP contains illegal base64 character":"MAP length must be "+d.ho+", "+d.fo+" or "+d.qk+" not "+A.length}else{e=e.toLowerCase();e=this.hv(e);l=!0;if("g"===e[0]){y=1;for(v=a.g=0;y<e.length&&-1!==v;)v=this.Gg.indexOf(e[y]),-1!==v&&(a.g=10*a.g+v,y+=1);1<y&&(2>a.g||256<a.g?(this.m="Generations number must be 2-256",a.g=-1,l=!1):(y<e.length&&"/"===e[y]&&(y+=1),e=e.substr(y),l=!0))}if(l&&(v=e.lastIndexOf("g"),-1!==v&&v!==e.length-1&&!(0<v&&"/"===e[v-1]))){y=v+1;for(v=a.g=0;y<e.length&&
-1!==v;)v=this.Gg.indexOf(e[y]),-1!==v&&(a.g=10*a.g+v,y+=1);y===e.length?2>a.g||256<a.g?(this.m="Generations number must be 2-256",a.g=-1,l=!1):(e=e.substr(0,e.lastIndexOf("g")),l=!0):a.g=-1}if(l)if(l=!1,"r"===e[0]||"1"<=e[0]&&"9">=e[0]&&-1!==e.indexOf(",")){if(l="r"===e[0]?-1!==e.indexOf(".")?this.Px(a,e):-1!==e.indexOf("t")?this.Qx(a,e):-1!==e.indexOf(",")?this.Nx(a,e,f):this.Mx(a,e,f):this.Rx(a,e))a.sa?(a.$="R"+a.lc+",",a.$+="C"+a.g+",",a.$+="S"+this.ft(a.wd,-1)+",",a.$+="B"+this.ft(a.Tc,0),a.De!==
this.bf&&(a.$+=",N",a.$=a.De===this.jf?a.$+"N":a.$+"C")):(a.qd=!0,a.$="R"+a.Kb+",C"+a.g+",M"+a.qh+",S"+a.yc+".."+a.md+",B"+a.Hc+".."+a.Xd+",N",a.$=a.Kf===this.Xl?a.$+"M":a.Kf===this.Ls?a.$+"N":a.$+"C",0===a.qh&&(a.yc+=1,a.md+=1))}else if("w"===e[0])l=this.Yx(a,e);else if(y=e.lastIndexOf(d.cp),-1!==y&&y===e.length-w&&(a.ca=!0,a.vc=d.Kj,e=e.substr(0,e.length-w),r=this.Bs),y=e.lastIndexOf(d.bp),-1!==y&&y===e.length-h&&(a.ca=!0,a.vc=d.Mk,e=e.substr(0,e.length-h),r=this.As),y=e.lastIndexOf(d.ep),-1!==
y&&y===e.length-m&&(a.ca=!0,a.vc=d.Nk,e=e.substr(0,e.length-m),r=this.Cs),y=e.lastIndexOf(d.Gq),-1!==y&&y===e.length-k&&(a.S=!0,e=e.substr(0,e.length-k),r=this.$v),y=e.lastIndexOf(d.Ms),-1!==y&&y===e.length-q&&(a.Md=!0,e=e.substr(0,e.length-q),r=this.kw),f=e.indexOf("/"),-1===f&&(f=e.indexOf("_")),-1!==f&&(y=e.lastIndexOf("/"),-1===y&&(y=e.lastIndexOf("_")),y!==f&&(G=e.substring(y+1),e=e.substr(0,y),y=e.lastIndexOf(d.cp),-1!==y&&y===e.length-w&&(a.ca=!0,a.vc=d.Kj,e=e.substr(0,e.length-w),r=this.Bs),
y=e.lastIndexOf(d.bp),-1!==y&&y===e.length-h&&(a.ca=!0,a.vc=d.Mk,e=e.substr(0,e.length-h),r=this.As),y=e.lastIndexOf(d.ep),-1!==y&&y===e.length-m&&(a.ca=!0,a.vc=d.Nk,e=e.substr(0,e.length-m),r=this.Cs),y=e.lastIndexOf(d.Gq),-1!==y&&y===e.length-k&&(a.S=!0,e=e.substr(0,e.length-k),r=this.$v),y=e.lastIndexOf(d.Ms),-1!==y&&y===e.length-q&&(a.Md=!0,e=e.substr(0,e.length-q),r=this.kw))),e===d.Mu)a.Hb=!0,a.g=256,l=!0;else{k=e.indexOf("b");w=e.indexOf("s");-1===f?0===k||0===w?-1===w?(b=e,c=""):-1===k?(c=
e,b=""):k<w&&-1!==w?(b=e.substring(k+1,w),c=e.substring(w+1)):(c=e.substring(w+1,k),b=e.substring(k+1)):this.m="Unsupported rule name":(-1===k&&-1!==w?k=f:-1!==k&&-1===w&&(w=f),k<w?(b=e.substring(0,f),c=e.substring(f+1)):(b=e.substring(f+1),c=e.substring(0,f)));-1!==k&&b&&"b"===b[0]&&(b=b.substring(1));-1!==w&&c&&"s"===c[0]&&(c=c.substring(1));if(null!==G)if(y=0,-1!==a.g)this.m="Generations defined twice",b=null;else{a.g=0;y<G.length&&("g"===G[y].toLowerCase()||"c"===G[y].toLowerCase())&&(y+=1);for(v=
0;y<G.length&&-1!==v;)v=this.Gg.indexOf(G[y]),-1!==v?a.g=10*a.g+v:(this.m="Illegal character in generations number",a.g=-1,b=null),y+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.m="Generations number must be 2-256",a.g=-1,b=null)}if(null!==b&&null!==c){l=!0;for(y=0;y<b.length;)v=r.indexOf(b[y]),-1===v?(this.m="Illegal character in birth specification",l=!1,y=b.length):y+=1;if(l)for(y=0;y<c.length;)v=r.indexOf(c[y]),-1===v?(this.m="Illegal character in survival specification",l=!1,y=c.length):y+=1}}}l&&-1===
a.Pe&&!1===a.qd&&!1===a.sa&&(a.$=this.Dx(a,b,c,A,a.S,a.ca,a.vc,a.Md,a.g,g),""!==this.m&&(l=!1),2===a.g&&(a.g=-1));l&&this.Pw(a,A);return l};d.Gt=function(a,e,f,g){var l=0,b=e.length-1,c=!1,G=!0,r,k=0,w=0,h=0,m=0,q=this.Bj;for(r=e[l];!c;){var A=r;r=e[l+1];var y=-1;switch(A){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":m=10*m+parseInt(A,10);break;case "b":y=0;break;case "o":y=1;break;case ".":y=0;break;case "z":y=7;a.Gb=!0;a.Ll=!0;break;case "$":0===m&&(m=
1);h+=m;m=0;w>k&&(k=w);w=0;break;case "!":0===m&&(m=1);h+=m;m=0;w>k&&(k=w);c=!0;break;default:G=!1,"A"<=A&&"X">=A?(G=!0,y=A.charCodeAt(0)-64):"p"<=A&&"y">A?"A"<=r&&"X">=r?(G=!0,y=24*(A.charCodeAt(0)-111)+(r.charCodeAt(0)-64),l+=1,r=e[l+1]):"x"===A&&(G=!0,a.Gb=!0,a.Ll=!0,y=3):"y"===A&&("A"<=r&&"O">=r?(G=!0,y=24*(A.charCodeAt(0)-111)+(r.charCodeAt(0)-64),l+=1,r=e[l+1]):(G=!0,a.Gb=!0,a.Ll=!0,y=5))}if(0<=y)if(0===m&&(m=1),f||(0===q[y]&&(a.bm+=1),q[y]+=m,y>=a.Ee&&(a.Ee=y+1)),0<y&&f)for(;0<m;){a.Ce[h][w]=
-1===a.g?y:2===a.g?1===y?LifeConstants.cb:0:y<a.g?y:1;if(!a.Gb&&-1===a.g||a.Gb&&y&1||-1!==a.g&&1===y)a.$c[h][w>>4]|=1<<(~w&15);w+=1;--m}else w+=m,m=0;G||(" "===A||"\t"===A||"\n"===A?G=!0:(this.m="Illegal character in pattern: "+A,c=a.mj=!0));l+=1;l===b&&(c||(0===m&&(m=1),h+=m,m=0,w>k&&(k=w)),c=!0)}f||(0===k&&(h=k=1),a.width=k,a.height=h,k>d.maxWidth||h>d.maxHeight?(a.Xg=!0,a.mj=!0):(a.$c=Array.Z(Uint16,h,(k-1>>4)+1,0,g,"Pattern.lifeMap"),a.Ce=Array.Z(Uint8,h,k,0,g,"Pattern.multiStateMap"),a.og="RLE"));
a.mj&&(l=-1);return l};d.nA=function(a,e){var f=e.indexOf("\n");-1===f&&(f=e.length);a.Su=e.substring(0,f).trim()};d.Ro=function(a,e,f){for(var g=!1;e<f&&!g;)" "===a[e]?e+=1:g=!0;return e};d.Az=function(a){var e=a.indexOf("\n"),f=0,g=!1,l=0;-1===e&&(e=a.length);for(;l<e&&!g;)"="===a[l]?g=!0:" "!==a[l]?g=!0:l+=1;if(g&&"="===a[l]){l=this.Ro(a,l+1,e);for(g=!1;l<e&&!g;){var b=d.Gg.indexOf(a[l]);-1!==b?(f=10*f+b,l+=1):g=!0}this.$h=!0;this.uq=f}};d.gv=function(a,e){var f=a.indexOf("\n"),g=0,l=0,b=!1,c=
!1,G=!1,r=0;-1===f&&(f=a.length);if(e){for(;r<f&&!G;)"="===a[r]?G=!0:" "!==a[r]?G=!0:r+=1;G&&"="===a[r]&&(r+=1)}else G=!0;if(G&&(r=this.Ro(a,r,f),r<f)){"-"===a[r]&&(b=!0,r+=1);for(G=!1;r<f&&!G;)e=d.Gg.indexOf(a[r]),-1!==e?(g=10*g+e,r+=1):G=!0;this.sg=!0;this.Fo=b?-g:g;r=this.Ro(a,r,f);if(r<f&&","===a[r]&&(r=this.Ro(a,r+1,f),r<f)){"-"===a[r]&&(c=!0,r+=1);for(G=!1;r<f&&!G;)e=d.Gg.indexOf(a[r]),-1!==e?(l=10*l+e,r+=1):G=!0;this.Go=c?-l:l}}};d.jx=function(a){var e=a.indexOf(d.iy);0===e&&(e=a.indexOf(d.cv),
-1!==e&&this.gv(a.substr(e+d.cv.length),!0),e=a.indexOf(d.Qt),-1!==e&&this.Az(a.substr(e+d.Qt.length)))};d.mA=function(a,e){var f=e.indexOf("\n");-1===f&&(f=e.length);a.name=e.substring(0,f).trim()};d.Ep=function(a,e,f,g){var d=f.indexOf("\n");-1===d&&(d=f.length);" "===f[0]&&(e+=" ");f=""+f.substring(0,d).trim();a.title+=f+" ";g?a.Se+=e+f+"\n":a.qb+=e+f+"\n";return d+1};d.df=function(a){var e=-1;a+=" ";var f=this.Gg.indexOf(a[this.index]);if(-1!==f)for(e=0;-1!==f;)e=10*e+f,this.index+=1,f=this.Gg.indexOf(a[this.index]);
return e};d.Vx=function(a,e){e=this.df(e);a.pd=e;a.Ze=e};d.Wx=function(a,e){var f=this.df(e),g=-1,d=0,b=0;if(-1!==f){var c=e[this.index];if("-"===c||"+"===c)this.index+=1,d=this.df(e),-1===d?f=-1:"-"===c&&(d=-d);if(","===e[this.index])if(this.index+=1,g=this.df(e),-1===g)f=-1;else{if(c=e[this.index],"-"===c||"+"===c)this.index+=1,b=this.df(e),-1===b?f=-1:"-"===c&&(b=-b)}else g=f}0!==d&&0!==b&&(f=-1);0===f&&0===g&&(f=-1);0===d&&0===b||0!==f&&0!==g||(f=-1);a.pd=f;a.Ze=g;a.Fl=d;a.ik=b};d.Ox=function(a,
e){var f=this.df(e),g=-1,d=0,b=0,c=!1,G=!1;if(-1!==f){var r=e[this.index];"*"===r&&(c=!0,this.index+=1,r=e[this.index]);if("-"===r||"+"===r)d=this.df(e),-1===d?f=-1:"-"===r&&(d=-d),this.index+=1,r=e[this.index];if(","===r)if(this.index+=1,g=this.df(e),-1===g)f=-1;else{if(r=e[this.index],"*"===r&&(G=!0,this.index+=1,r=e[this.index]),"-"===r||"+"===r)this.index+=1,b=this.df(e),-1===b?f=-1:"-"===r&&(b=-b)}else g=f}c&&G&&(f=-1);0!==d&&0!==b&&(f=-1);if(c&&0!==b||G&&0!==d)f=-1;if(0===f||0===g)f=-1;c||G||
(G=!0);a.pd=f;a.Ze=g;a.Fl=d;a.ik=b;a.xq=c;a.Sn=G};d.Lx=function(a,e){var f=this.df(e),g=-1;-1!==f&&(","===e[this.index]?(this.index+=1,g=this.df(e),-1===g&&(f=-1)):g=f);a.pd=f;a.Ze=g};d.Sx=function(a,e){var f=this.df(e),g=-1;-1!==f&&(","===e[this.index]?(this.index+=1,g=this.df(e),-1===g&&(f=-1)):g=f);0===f&&0===g&&(f=-1);a.pd=f;a.Ze=g};d.Jx=function(a,e){var f=!1;e=this.hv(e).toLowerCase();if(""!==e){a.tb=this.nt.indexOf(e[0]);if(-1!==a.tb)if(this.index=1,2!==a.tb&&-1!==e.indexOf("*"))a.pd=-1;else switch(a.tb){case 0:this.Sx(a,
e);break;case 1:this.Wx(a,e);break;case 2:this.Ox(a,e);break;case 3:this.Lx(a,e);break;case 4:this.Vx(a,e);break;default:a.pd=-1}this.index!==e.length&&(a.pd=-1);-1!==a.pd?f=!0:(a.tb=-1,this.m="Invalid bounded grid definition '"+e.toUpperCase()+"'")}return f};d.xn=function(a,e,f,g){var d,b,c=null;if(f[e]===a){for(e+=1;e<g&&" "===f[e];)e+=1;for(e<g&&"="===f[e]&&(e+=1);e<g&&" "===f[e];)e+=1;a=0;var G=d=!1;"-"===f[e]&&(e+=1,G=!0);for(b=f[e].charCodeAt(0);e<g&&48<=b&&57>=b;)a=10*a+(b-48),e+=1,d=!0,e<
g&&(b=f[e].charCodeAt(0));for(d&&(c=G?-a:a);e<g&&" "===f[e];)e+=1;for(e<g&&","===f[e]&&(e+=1);e<g&&" "===f[e];)e+=1}return[c,e]};d.Ux=function(a,e){this.Qg=this.Rg=-1;var f=this.xn("x",0,a,e);var g=f[1];f[0]&&(this.Rg=f[0]);f=this.xn("y",g,a,e);g=f[1];f[0]&&(this.Qg=f[0]);f=this.xn("h",g,a,e);g=f[1];f[0]&&(this.Fo=f[0],this.sg=!0);f=this.xn("v",g,a,e);f[0]&&(this.Go=f[0])};d.Ht=function(a,e,f,g){var l=e.indexOf("\n"),b=e.indexOf("rule"),c=d.Kq.length,G="";-1===l&&(l=e.length);this.Ux(e,l);-1===b?
f?G="":G=e.substring(1,l).trim():(G=e.substring(b+4,l).trim(),"="===G[0]&&(G=G.substring(1).trim()));a.$=G;e=G.lastIndexOf(d.fx);-1!==e&&(this.Jx(a,G.substring(e+1))?G=G.substr(0,e).trim():e=-2);f=G.toLowerCase().lastIndexOf(d.Kq);-1!==f&&f===G.length-c&&(a.Gb=!0,G=G.substr(0,G.length-c).trim());f=G.indexOf(this.dl);-1!==f&&G.toLowerCase().substr(0,f).trim().substr(-c)===d.Kq&&(a.Gb=!0,b=G.substr(0,f).trim(),G=b.substr(0,b.length-c)+G.substr(f));-2!==e&&this.Al(a,G,g)?this.xa=!0:this.gk=!0;return l+
1};d.mt=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};d.Ft=function(a,e,f){var g=0,l=e.length,b=!1,c=!1;var G=this.Bj;var r=d.Py,k=4,w;a.Hb=!1;a.tb=-1;a.width=0;a.height=0;a.Xg=!1;a.$c=null;a.Ce=null;a.mj=!1;a.Gb=!1;a.Ll=!1;a.S=!1;a.Pe=-1;a.Md=!1;a.g=-1;a.qd=!1;a.Kb=-1;a.qh=1;a.yc=-1;a.md=-1;a.Hc=-1;a.Xd=-1;a.sa=!1;a.Tc=null;a.wd=null;a.lc=-1;a.title="";a.qb="";
a.Se="";a.Ee=2;for(w=a.bm=0;w<r;w+=1)G[w]=0;for(e+=" ";g<l&&!a.mj;)switch(G=e[g],G){case "#":g+=1;G=e[g];g+=1;switch(G){case "N":this.mA(a,e.substring(g));break;case "O":this.nA(a,e.substring(g));break;case "C":this.jx(e.substring(g));break;case "P":case "R":this.gv(e.substring(g),!1);break;case "\n":--g}g="\n"===G?g+this.Ep(a,"#",e.substring(g),b):g+this.Ep(a,"#"+G,e.substring(g),b);break;case "x":g+=this.Ht(a,e.substring(g),!0,f);c=!0;break;case "\n":g+=1;break;default:b?g+=this.Ep(a,"",e.substring(g),
!0):(b=!0,-1!==this.Gt(a,e.substring(g),!1,f)&&(g+=this.Gt(a,e.substring(g),!0,f)))}c||(this.Al(a,"",f)?this.xa=!0:this.gk=!0);-1!==a.tb&&(a.sa&&(k=6*a.lc),a.qd&&(k=6*a.Kb),a.pd>=this.maxWidth-k||a.Ze>=this.maxHeight-k)&&(this.m="Bounded grid is too big",this.xa=!1,a.tb=-1);!a.qd||(1<a.tb&&(this.m="LtL only supports Plane or Torus",this.xa=!1,a.tb=-1),a.S&&(this.m="LtL does not support Hex grid",this.xa=!1,a.S=!1),0===a.Hc&&-1===a.tb&&(this.m="LtL does not support B0 unbounded",this.xa=!1),0!==a.tb&&
1!==a.tb)||0!==a.pd&&0!==a.Ze||(this.m="LtL bounded grid must be finite",this.xa=!1,a.tb=-1);a.ca&&-1!==a.tb&&(0!==(a.pd&1)?(this.m="Bounded grid width must be even",this.xa=!1,a.tb=-1):0!==(a.Ze&1)&&(this.m="Bounded grid height must be even",this.xa=!1,a.tb=-1));!a.sa||(1<a.tb&&(this.m="HROT only supports Plane or Torus",this.xa=!1,a.tb=-1),a.S&&(this.m="HROT does not support Hex grid",this.xa=!1,a.S=!1),a.Tc&&1===a.Tc[0]&&-1===a.tb&&(this.m="HROT does not support B0 unbounded",this.xa=!1),0!==a.tb&&
1!==a.tb)||0!==a.pd&&0!==a.Ze||(this.m="HROT bounded grid must be finite",this.xa=!1,a.tb=-1);a.Hb&&a.Gb&&(this.m="[R]History not valid with none rule",this.xa=a.Gb=!1);-1===a.g||!a.Gb||a.qd||a.sa||(this.m="[R]History not valid with Generations",this.xa=a.Gb=!1);-1===a.g||!this.Ak[0]||a.qd||a.sa||(this.m="Generations does not support B0",this.xa=!1);a.qd&&a.Gb&&(this.m="[R]History not valid with LtL",this.xa=a.Gb=!1);a.sa&&a.Gb&&(this.m="[R]History not valid with HROT",this.xa=a.Gb=!1);this.xa&&(a.Ll?
8<a.Ee&&(this.m="Illegal state in pattern for Niemiec",this.xa=!1):a.Gb?7<a.Ee&&(this.m="Illegal state in pattern for [R]History",this.xa=!1):-1!==a.g&&a.Ee>a.g&&(this.m=a.qd?"Illegal state in pattern for LtL":a.sa?"Illegal state in pattern for HROT":"Illegal state in pattern for Generations",this.xa=!1));a.qd&&this.wA(a,f)};d.eB=function(){return!0};d.dB=function(){return!0};d.fB=function(){return!1};d.Xx=function(a,e){var f=-1,g=-1,l=-1,b=!1,c=[],G=[],r=[],k=[],w=1E3;var h=e.Mn();h===d.Jr&&"="===
e.T()&&e.H()&&(f=e.G(),2<=f&&256>=f&&(b=!0));b&&(h=e.Mn(),h===d.Hr&&"="===e.T()&&e.H()&&(g=e.G(),4===g||8===g))&&(b=!0);b&&(h=e.Mn(),h===d.Ir&&"="===e.T()&&e.H()&&(l=e.G(),l>=g&&1E8>=l&&(b=!0)));for(h=e.Mn();b&&""!==h;){for(;e.ku(h);)h=e.T();if(e.nk(h)){w=e.Pp(h);var m=0;r[r.length]=1===w?G.length:c.length;k[k.length]=w;for(h=e.T();b&&!e.ku(h);)e.nk(h)?(h=e.Pp(h),1===w?0>h||h>=f?b=!1:G[G.length]=h:0>h||h>r.length?b=!1:k[h]!==w-1?b=!1:c[c.length]=r[h],m+=1,h=e.T()):b=!1;m!==f&&(b=!1)}else""!==h&&h!==
d.sv&&h!==d.tv?b=!1:h=""}c.length+G.length!==l*f&&(b=!1);w!==g+1&&(b=!1);if(b)if(a.$===a.uv){a.Hr=g;a.Jr=f;a.Ir=l;a.dA=r[r.length-1];a.vv=new Uint32Array(c.length);a.wv=new Uint32Array(G.length);for(e=0;e<c.length;e+=1)a.vv[e]=c[e];for(e=0;e<G.length;e+=1)a.wv[e]=G[e];this.m="";this.xa=!0}else b=!1;return b};d.Tx=function(a){var e=!1,f=new Script(a.Se,!0);if(-1!==f.ij(d.aA,-1)&&!f.bz()){a.uv=f.T();var g=f.ij(d.bA,-1);-1!==g?e=!1:(g=f.ij(d.cA,-1),-1!==g&&(e=this.Xx(a,f)));e&&(a=f.ij(d.sv,0),-1!==a&&
(e=!0),e&&f.ij(d.tv,0))}};d.create=function(a,e,f){a=new b(a);this.xa=this.gk=this.Xg=!1;this.m="";this.$h=!1;this.uq=0;this.sg=!1;this.Go=this.Fo=0;this.Qg=this.Rg=-1;this.gh=!1;if("!"===e.substr(0,1)||"O"===e.substr(0,1)||"."===e.substr(0,1)||"*"===e.substr(0,1)||"o"===e.substr(0,1))this.Kx(a,e,f),this.xa=!0;null===a.$c&&(this.xa=!1,"#Life 1.05"===e.substr(0,10)?this.Dt(a,e,!0,f):"#Life 1.06"===e.substr(0,10)?(this.Ix(a,e,f),this.xa=!0):"#"===e[0]||"x"===e[0]?(this.Ft(a,e,f),null!==a.$c||a.Xg||
a.mj||(this.Dt(a,e,!1,f),this.gk=!1,a.Ce=null,a.Gb=!1,a.Ee=2,a.bm=0)):this.Ft(a,e,f));a.Xg&&(this.m="Pattern too big (maximum "+this.maxWidth+"x"+this.maxHeight+")",this.Xg=!0,this.xa=!1);-1!==a.tb?(e=a.$.lastIndexOf(":"),a.an=a.$.substr(e),a.$=a.$.substr(0,e)):a.an="";null===a.$c&&(a.Xg||""!==this.m||(this.m="Invalid pattern"),a=null,this.xa=!1);a&&a.mj&&(a=null,this.xa=!1);a&&(""!==a.qb&&"\n"!==a.qb[a.qb.length-1]&&(a.qb+="\n"),""!==a.Se&&("\n"!==a.Se[a.Se.length-1]&&(a.Se+="\n"),this.Tx(a)));return a};
window.PatternManager=d;window.Pattern=b})();(function(){function c(){this.Wp=[]}c.prototype.add=function(b,d,a){this.Wp[this.Wp.length]=b<<16|d<<8|a};window.ColourManager={Eg:[],nm:[],iu:!1,fq:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,
169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,
59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,
113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,
158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,
108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],yn:[],Uc:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,
245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",
0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",
47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],
gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},gB:function(){return this.yn},vt:function(b){for(var d=0,a=!1,e=[];d<this.nm.length&&!a;)b===this.nm[d][0]?a=!0:d+=1;a&&(e=this.Eg[this.nm[d][1]].Wp);return e},Ta:function(b){this.nm[this.nm.length]=b},Kd:function(){var b,d=0,a;if(!this.iu){this.iu=!0;for(b=a=0;256>b;b+=1)this.yn[b]=this.fq[a]<<16|this.fq[a+1]<<8|this.fq[a+2],a+=3;b=new c;b.add(0,0,0);b.add(0,255,0);b.add(0,0,128);
b.add(216,255,216);b.add(255,0,0);b.add(255,255,0);b.add(96,96,96);b.add(255,128,128);this.Eg[d]=b;this.Ta(["LifeHistory",d]);d+=1;b=new c;b.add(48,48,48);b.add(0,128,255);b.add(255,255,255);b.add(255,128,0);this.Eg[d]=b;this.Ta(["WireWorld",d]);d+=1;b=new c;b.add(0,0,0);b.add(255,255,255);b.add(144,128,112);b.add(144,90,45);b.add(192,192,192);b.add(255,0,0);b.add(255,128,0);b.add(255,255,0);b.add(0,255,0);b.add(0,255,208);b.add(0,192,255);b.add(0,0,255);b.add(192,0,255);b.add(255,64,160);b.add(112,
128,144);b.add(0,128,0);b.add(0,96,128);b.add(160,0,80);b.add(40,40,40);b.add(220,220,220);b.add(140,60,0);b.add(0,160,0);b.add(160,160,250);this.Eg[d]=b;this.Ta(["WWE",d]);this.Ta(["WWE2",d]);this.Ta(["WWEJ",d]);this.Ta(["WWEJ2",d]);this.Ta(["WWEJ3",d]);d+=1;b=new c;b.add(30,30,30);b.add(0,128,128);b.add(0,255,0);b.add(255,0,0);b.add(255,128,0);b.add(255,255,0);b.add(128,0,128);b.add(128,128,128);b.add(255,255,255);b.add(128,128,255);this.Eg[d]=b;this.Ta(["Novoloop",d]);d+=1;b=new c;b.add(0,0,0);
b.add(255,128,0);b.add(255,0,0);b.add(0,255,0);b.add(0,0,255);b.add(0,190,0);b.add(0,140,0);b.add(255,255,255);b.add(80,80,80);b.add(95,95,95);b.add(128,128,128);b.add(0,64,0);b.add(255,255,0);b.add(64,0,164);b.add(64,32,64);b.add(80,80,100);b.add(95,95,125);b.add(128,255,128);b.add(64,100,100);this.Eg[d]=b;this.Ta(["shapeloop",d]);this.Ta(["shapeloop-b",d]);this.Ta(["shapeloop2",d]);this.Ta(["shapeloop-ltd",d]);this.Ta(["2armshapeloop-a",d]);this.Ta(["2armshapeloop2-a",d]);this.Ta(["shapeloop2a-bounded",
d]);this.Ta(["foodshapeloop",d]);this.Ta(["foodshapeloop2",d]);d+=1;b=new c;b.add(0,0,0);b.add(255,255,255);b.add(255,0,0);b.add(0,128,255);b.add(170,0,0);b.add(85,0,0);this.Eg[d]=b;this.Ta(["b3s23mmg",d]);d+=1;b=new c;b.add(0,0,0);b.add(255,0,0);b.add(0,255,0);b.add(0,0,255);b.add(255,255,0);b.add(0,255,255);b.add(255,0,255);b.add(92,36,110);b.add(0,99,140);b.add(176,196,222);b.add(115,61,26);this.Eg[d]=b;this.Ta(["_235_4_O3",d]);this.Ta(["0_245_5_O4",d]);this.Ta(["0_245_5_O3",d]);this.Ta(["58_27_4_O3",
d]);this.Ta(["0_24_4H_O3",d]);this.Ta(["2_235_4H_O3",d]);this.Ta(["24_235_4H_O3",d]);this.Ta(["3_25_4_O2",d]);this.Ta(["Snake_O5",d]);this.Ta(["Mites",d]);this.Ta(["Mites2",d]);this.Ta(["Mites3",d]);d+=1;b=new c;b.add(48,48,48);b.add(255,128,0);b.add(0,0,255);b.add(32,32,255);b.add(64,64,255);b.add(96,96,255);this.Eg[d]=b;this.Ta(["Alpha-1",d]);d+=1;b=new c;b.add(48,48,48);b.add(255,0,0);b.add(255,125,0);b.add(255,150,25);b.add(255,175,50);b.add(255,200,75);b.add(255,225,100);b.add(255,250,125);b.add(251,
255,0);b.add(89,89,255);b.add(106,106,255);b.add(122,122,255);b.add(139,139,255);b.add(27,176,27);b.add(36,200,36);b.add(73,255,73);b.add(106,255,106);b.add(235,36,36);b.add(255,56,56);b.add(255,73,73);b.add(255,89,89);b.add(185,56,255);b.add(191,73,255);b.add(197,89,255);b.add(203,106,255);b.add(0,255,128);b.add(255,128,64);b.add(255,255,128);b.add(33,215,215);b.add(27,176,176);b.add(24,156,156);b.add(21,137,137);this.Ta(["JvN29",d]);this.Ta(["Hutton32",d]);this.Ta(["Nobili32",d]);this.Eg[d]=b}}}})();window.BoundingBox=function(c,b,d,a){this.N=c;this.K=b;this.O=d;this.L=a};(function(){function c(d,a){this.index=a;this.qa=d.Fj[a];this.eb=d.Zi[a];this.o=d.Pn[a];this.i=d.bn[a];this.C=new BoundingBox(0,0,0,0);this.ea=new BoundingBox(0,0,0,0);this.Ba=this.s=this.jc=this.Ab=this.Aa=0;this.f=d}function b(d,a){this.j=d;this.bd=[];this.rf=[];this.Fj=[];this.Zi=[];this.Pn=[];this.bn=[];this.f=[];this.i=0;this.index=-1;this.Oy=51;this.He=[];this.jt=a}c.prototype.Xz=function(d,a,e){var f=a.length,g=a[0].length,l,b,c=0,G,r=e.Fm;e=e.Gm;var k,w=0,h=this.o,m=0,q=h[m],A=q.length;Array.Tf(this.qa,
a);for(l=0;l<f;l+=1){var y=this.qa[l];for(a=k=0;a<g;a+=1)if(G=y[a])for(b=15;0<=b;--b){if(0!==(G&1<<b)){var v=w;var t=k;var F=q[c];c+=1;d[v][t]=F&255;d[v][t+1]=F>>8&255;d[v+1][t]=F>>16&255;d[v+1][t+1]=F>>24;v+=2;F=q[c];c+=1;d[v][t]=F&255;d[v][t+1]=F>>8&255;d[v+1][t]=F>>16&255;d[v+1][t+1]=F>>24;v+=2;F=q[c];c+=1;d[v][t]=F&255;d[v][t+1]=F>>8&255;d[v+1][t]=F>>16&255;d[v+1][t+1]=F>>24;v+=2;F=q[c];c+=1;d[v][t]=F&255;d[v][t+1]=F>>8&255;d[v+1][t]=F>>16&255;d[v+1][t+1]=F>>24;v+=2;F=q[c];c+=1;d[v][t]=F&255;
d[v][t+1]=F>>8&255;d[v+1][t]=F>>16&255;d[v+1][t+1]=F>>24;v+=2;F=q[c];c+=1;d[v][t]=F&255;d[v][t+1]=F>>8&255;d[v+1][t]=F>>16&255;d[v+1][t+1]=F>>24;v+=2;F=q[c];c+=1;d[v][t]=F&255;d[v][t+1]=F>>8&255;d[v+1][t]=F>>16&255;d[v+1][t+1]=F>>24;v+=2;F=q[c];c+=1;d[v][t]=F&255;d[v][t+1]=F>>8&255;d[v+1][t]=F>>16&255;d[v+1][t+1]=F>>24;c>=A&&(m+=1,q=h[m],c=0)}k+=r}else k+=r<<4;w+=e}};c.prototype.hA=function(d,a,e){var f=a.length,g=a[0].length,l,b=0,c;var G=0;var r=e.Fm,k=e.Gm,w,h=0,m=this.o,q=0,A=m[q],y=A.length,
v=m.length;var t=this.f.jt;Array.Tf(a,this.qa);for(l=0;l<f;l+=1){var F=a[l];for(e=0;e<g;e+=1)(c=F[e])&&(G+=t[c])}if(G)for(l=0;l<f;l+=1){F=a[l];for(e=w=0;e<g;e+=1)if(c=F[e])for(G=15;0<=G;--G){if(0!==(c&1<<G)){var p=h;t=w;A[b]=d[p][t]|d[p][t+1]<<8|d[p+1][t]<<16|d[p+1][t+1]<<24;b+=1;p+=2;A[b]=d[p][t]|d[p][t+1]<<8|d[p+1][t]<<16|d[p+1][t+1]<<24;b+=1;p+=2;A[b]=d[p][t]|d[p][t+1]<<8|d[p+1][t]<<16|d[p+1][t+1]<<24;b+=1;p+=2;A[b]=d[p][t]|d[p][t+1]<<8|d[p+1][t]<<16|d[p+1][t+1]<<24;b+=1;p+=2;A[b]=d[p][t]|d[p][t+
1]<<8|d[p+1][t]<<16|d[p+1][t+1]<<24;b+=1;p+=2;A[b]=d[p][t]|d[p][t+1]<<8|d[p+1][t]<<16|d[p+1][t+1]<<24;b+=1;p+=2;A[b]=d[p][t]|d[p][t+1]<<8|d[p+1][t]<<16|d[p+1][t+1]<<24;b+=1;p+=2;A[b]=d[p][t]|d[p][t+1]<<8|d[p+1][t]<<16|d[p+1][t+1]<<24;b+=1;b>=y&&(q+=1,b=0,q>=v&&(Array.bl(m,"Snapshot.gridBufferRow"),v+=1));A=m[q]}w+=r}else w+=r<<4;h+=k}};c.prototype.Wz=function(d,a,e){var f=a.length,g=a[0].length,l,b,c,G=0,r,k=e.Fm<<3,w=e.Gm,h,m=0,q=this.i,A=0,y=q[A],v=y.length;Array.Tf(this.eb,a);for(l=0;l<f;l+=1){var t=
a[l];for(e=h=0;e<g;e+=1)if(r=t[e])for(b=15;0<=b;--b){if(0!==(r&1<<b))for(c=h;c<h+k;c+=4){var F=m;var p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>
16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;
d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;F+=1;p=y[G];G+=1;d[F][c]=p&255;d[F][c+1]=p>>8&255;d[F][c+2]=p>>16&255;d[F][c+3]=p>>24;G>=v&&(A+=1,y=q[A],G=0)}h+=k}else h+=
k<<4;m+=w}};c.prototype.eA=function(d,a,e){var f=a.length,g=a[0].length,l,b=0,c;var G=0;var r=e.Fm<<3,k=e.Gm,w,h=0,m=this.i,q=0,A=m[q],y=A.length,v=m.length;var t=this.f.jt;Array.Tf(a,this.eb);for(l=0;l<f;l+=1){var F=a[l];for(e=0;e<g;e+=1)(c=F[e])&&(G+=t[c])}if(G)for(l=0;l<f;l+=1){F=a[l];for(e=w=0;e<g;e+=1)if(c=F[e])for(G=15;0<=G;--G){if(0!==(c&1<<G))for(t=w;t<w+r;t+=4){var p=h;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=
1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+
3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;p+=1;A[b]=d[p][t]|d[p][t+1]<<8|d[p][t+2]<<16|d[p][t+3]<<24;b+=1;b>=y&&(q+=1,b=0,q>=v&&(Array.bl(m,"Snapshot.colourGridBufferRow"),v+=1),A=m[q])}w+=r}else w+=r<<4;h+=k}};
b.prototype.bufferSize=function(){for(var d=0,a=0;a<this.rf.length;)d+=this.Fj[a].length*this.Fj[a][0].length*2,d+=this.Zi[a].length*this.Zi[a][0].length*2,d+=this.Pn[a].length*this.Pn[a][0].length*4,d+=this.bn[a].length*this.bn[a][0].length*4,this.f[a]&&(d+=this.f[a].length*this.f[a][0].length*4),a+=1;return d};b.prototype.VA=function(){for(var d=0,a=0;a<this.rf.length;)this.rf[a]&&(d+=1),a+=1;return d};b.prototype.reset=function(){var d=0,a;this.bd=[];for(this.index=-1;d<this.rf.length;){var e=
!1;for(a=0;a<this.He.length&&!e;)d===this.He[a].index?e=!0:a+=1;e||(this.rf[d]=!1);d+=1}};b.prototype.yA=function(d){var a=null;0<this.bd.length&&(a=this.bd[this.index],a.s>d&&(a=null,0<this.index&&(this.o(this.bd[this.index].index),this.bd.pop(),--this.index,0<=this.index&&(a=this.bd[this.index]))));return a};b.prototype.pm=function(d,a,e,f,g,b,c,M,G,r,k,w,h,m,q,A){var l=null,E=0,t=this.He.length,F=!1;g=null!==g;if(q){for(;E<t&&!F;)this.He[E].s===k?F=!0:E+=1;F?l=this.He[E]:alert("reset snapshot at generation "+
k+" not found!")}else if(51>this.bd.length)l=this.aq(w,h,!1,k,g),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.o(this.bd[0].index);for(E=0;50>E;E+=1)this.bd[E]=this.bd[E+1];this.bd.pop();this.aq(w,h,!1,k,g)}l=this.bd[this.index]}l.Ba=A;l.hA(d,a,m);l.eA(e,f,m);l.C.N=b.N;l.C.O=b.O;l.C.K=b.K;l.C.L=b.L;l.ea.N=c.N;l.ea.O=c.O;l.ea.K=c.K;l.ea.L=c.L;l.Aa=M;l.Ab=G;l.jc=r;l.s=k};b.prototype.o=function(d){this.rf[d]=!1};b.prototype.X=function(d,a,e){for(var f=0,g=!1;f<this.i&&!g;)this.rf[f]?
f+=1:g=!0;g?(d=f,this.rf[f]=!0):(this.Fj[f]=Array.Z(Uint16,a,d,0,this.j,"Snapshot.tileGrid"+f),this.Zi[f]=Array.Z(Uint16,a,d,0,this.j,"Snapshot.colourTileGrid"+f),this.Pn[f]=Array.Z(Uint32,1,1024,0,this.j,"Snapshot.gridBuffer"+f),this.bn[f]=Array.Z(Uint32,1,8192,0,this.j,"Snapshot.colourGridBuffer"+f),e&&(this.f[f]=Array.Z(Uint32,1,8192,0,this.j,"Snapshot.overlayGridBuffer"+f)),this.rf[f]=!0,this.i+=1,d=f);return d};b.prototype.aq=function(d,a,e,f,g){var b=0,E=this.He.length,M=!1;d=this.X(d,a,g);
if(e){for(;b<E&&!M;)this.He[b].s===f?M=!0:b+=1;M?e=this.He[b]:(e=new c(this,d,g),this.He[this.He.length]=e)}else e=new c(this,d,g),this.bd[this.bd.length]=e;return e};b.prototype.J=function(d,a,e,f){var g=d.qa,b=d.eb,c=d.qa.length,M=c>>1,G=d.qa[0].length>>1,r=0,k=d.index;this.Fj[k]=Array.Z(Uint16,e,a,0,this.j,"Snapshot.tileGrid"+k);this.Zi[k]=Array.Z(Uint16,e,a,0,this.j,"Snapshot.colourTileGrid"+k);d.qa=this.Fj[k];d.eb=this.Zi[k];if(0<f){for(;r<c;)d.qa[r+M].set(g[r],G),d.eb[r+M].set(b[r],G),r+=1;
d.C.N+=f;d.C.O+=f;d.C.K+=f;d.C.L+=f;d.ea.N+=f;d.ea.O+=f;d.ea.K+=f;d.ea.L+=f}};b.prototype.nv=function(d,a,e){for(var f=0,g=this.He.length;f<g;)this.J(this.He[f],d,a,e),f+=1;f=0;for(g=this.bd.length;f<g;)this.J(this.bd[f],d,a,e),f+=1;for(f=0;f<this.rf.length;)this.rf[f]||(this.Fj[f]=Array.Z(Uint16,a,d,0,this.j,"Snapshot.tileGrid"+f),this.Zi[f]=Array.Z(Uint16,a,d,0,this.j,"Snapshot.colourTileGrid"+f)),f+=1};window.SnapshotManager=b;window.Snapshot=c})();(function(){function c(b,d){this.j=b;this.a=d;this.uc=1;this.Mo=2;this.Ab=b.W(Uint8,0,"HROT.births");this.Wo=b.W(Uint8,0,"HROT.survivals");this.Um=b.W(Uint8,0,"HROT.altBirths");this.Vm=b.W(Uint8,0,"HROT.altSurvivals");this.type=PatternManager.bf;this.J=Array.Z(Uint32,1,1,0,b,"HROT.counts");this.fa=b.W(Uint32,0,"HROT.widths");this.Ca=b.W(Uint8,0,"HROT.colUsed");this.ha=this.i=this.o=this.X=0;this.gh=!1}c.prototype.resize=function(b,d){this.J=Array.Z(Uint32,d,b,0,this.j,"HROT.counts");this.Ca=this.j.W(Uint8,
b,"HROT.colUsed")};c.prototype.uA=function(b,d){var a=2*d+1,e=d*d+d;this.type=b;this.uc=d;this.fa=this.j.W(Uint32,a,"HROT.widths");switch(b){case PatternManager.bf:for(b=0;b<a;b+=1)this.fa[b]=d;break;case PatternManager.jf:for(b=0;b<d;b+=1)this.fa[b]=b,this.fa[a-b-1]=b;this.fa[b]=d;break;case PatternManager.Sp:for(b=-d;b<=d;b+=1){for(a=0;(a+1)*(a+1)+b*b<=e;)a+=1;this.fa[b+d]=a}}};c.prototype.f=function(b,d){return 0>b||0>b+d||d-b>=this.o?0:0>d&&b+d<this.i?this.J[b+d][0]:d>=this.o&&d-b>=this.o-this.i?
this.J[b+this.o-1-d][this.o-1]:b<this.i?this.J[b][d]:b-this.i+1+d<=this.ha?this.J[this.i-1][b-this.i+1+d]:d-(b-this.i+1)>=this.ha?this.J[this.i-1][d-(b-this.i+1)]:this.J[this.i-1][this.ha+(b+d+this.i+this.ha+1)%2]};c.prototype.Ha=function(b,d,a,e){var f=this.a.ta,g=this.uc,l,c;for(c=0;c<g;c+=1){var M=f[d+c];var G=f[e+c+1];for(l=b;l<=a;l+=1)G[l]=M[l]}for(c=0;c<g;c+=1)for(M=f[e-c],G=f[d-c-1],l=b;l<=a;l+=1)G[l]=M[l];for(c=d;c<=e;c+=1)for(M=f[c],l=0;l<g;l+=1)M[a+l+1]=M[b+l],M[b-l-1]=M[a-l];for(c=0;c<
g;c+=1)for(M=f[d+c],G=f[e+c+1],l=0;l<g;l+=1)G[l+a+1]=M[l+b],G[b-l-1]=M[a-l];for(c=0;c<g;c+=1)for(M=f[e-c],G=f[d-c-1],l=0;l<g;l+=1)G[l+a+1]=M[l+b],G[b-l-1]=M[a-l]};c.prototype.ua=function(b,d,a,e){var f=this.a.ta,g=this.uc,l,c;for(c=0;c<g;c+=1){var M=f[e+c+1];for(l=b;l<=a;l+=1)M[l]=0}for(c=0;c<g;c+=1)for(M=f[d-c-1],l=b;l<=a;l+=1)M[l]=0;for(c=d;c<=e;c+=1)for(M=f[c],l=0;l<g;l+=1)M[a+l+1]=0,M[b-l-1]=0;for(c=0;c<g;c+=1)for(M=f[e+c+1],l=0;l<g;l+=1)M[l+a+1]=0,M[b-l-1]=0;for(c=0;c<g;c+=1)for(M=f[d-c-1],l=
0;l<g;l+=1)M[l+a+1]=0,M[b-l-1]=0};c.prototype.Fa=function(b,d,a,e,f){var g,l,c=this.a.ta,M=this.a.Xa,G=this.a.width,r=0,k=this.a.height,w=0,h=G,m=r,q=k,A=w,y=this.a.C,v=this.a.ea,t=this.uc,F=f?this.Um:this.Ab,p=f?this.Vm:this.Wo,u=this.J;var n=this.Mo-1;var I=LifeConstants.cb,D=LifeConstants.Uh,B=this.a.cn;var z=this.a.g+this.a.ba-1;var C=this.a.ba,x=0<this.a.ba?1:0;var J=g=f=0;if(1===n)for(n=d-t;n<=e+t;n+=1){var L=c[n];var K=u[n];var S=M[n>>4];var da=l=!1;for(d=b-t;d<=a+t;d+=1){var aa=L[d];var T=
K[d];z=0;aa<I?1===F[T]&&(g+=1,z=128):0===p[T]?J+=1:z=128;aa=B[aa+z];L[d]=aa;aa>D&&(l=!0,S[d>>8]|=1<<(~(d>>4)&15),d<G&&(G=d),d>r&&(r=d),aa>=I&&(f+=1,d<h&&(h=d),d>m&&(m=d),da=!0))}l&&(n<k&&(k=n),n>w&&(w=n));da&&(n<q&&(q=n),n>A&&(A=n))}else for(n=d-t;n<=e+t;n+=1){L=c[n];K=u[n];S=M[n>>4];da=l=!1;for(d=b-t;d<=a+t;d+=1)aa=L[d],T=K[d],aa<=C?1===F[T]?(aa=z,g+=1):aa>x&&--aa:aa===z?0===p[T]&&(--aa,J+=1):aa>x&&--aa,L[d]=aa,0<aa&&(l=!0,S[d>>8]|=1<<(~(d>>4)&15),d<G&&(G=d),d>r&&(r=d),aa===z&&(f+=1,d<h&&(h=d),d>
m&&(m=d),da=!0));l&&(n<k&&(k=n),n>w&&(w=n));da&&(n<q&&(q=n),n>A&&(A=n))}this.a.Aa=f;this.a.Ab=g;this.a.jc=J;0<f?(y.N=G,y.O=r,y.K=k,y.L=w,v.N=h,v.O=m,v.K=q,v.L=A):this.a.Ba=0};c.prototype.Sa=function(b){var d,a,e=this.a.C.N,f=this.a.C.O,g=this.a.C.K,l=this.a.C.L,c=this.uc,M=b?this.Um:this.Ab,G=b?this.Vm:this.Wo,r=c+c;var k=c+1;var w=this.J,h=this.type,m=this.Mo-1,q=this.a.width,A=0,y=this.a.height,v=0,t=q,F=A,p=y,u=v,n=this.a.ta,I=this.a.Xa;var D=this.fa;var B=this.a.la;var z=this.a.na,C=0,x=0,J=0,
L=0,K=0,S=0,da=0,aa=LifeConstants.cb,T=LifeConstants.Uh,ca=this.a.cn;var Y=this.Ca;-1!==this.a.ka&&(C=Math.round((this.a.width-B)/2),J=Math.round((this.a.height-z)/2),x=C+B-1,L=J+z-1,1===M[0]&&(e=C+c,f=x-c,l=L-c,g=J+c),1===this.a.ka&&(e-C<c&&(f=x),x-f<c&&(e=C),L-l<c&&(g=J),g-J<c&&(l=L),this.Ha(C,J,x,L)),0===this.a.ka&&1===m&&this.a.Mt(0),e-C<c&&(e=C+c),x-f<c&&(f=x-c),L-l<c&&(l=L-c),g-J<c&&(g=J+c),h===PatternManager.bf?(e-=r,g-=r,f+=r,l+=r):h===PatternManager.jf&&6<c&&(e-=c,g-=c,f+=c,l+=c));if(h===
PatternManager.bf){e-=r;g-=r;f+=r;l+=r;for(a=g;a<g+r;a+=1){var N=w[a];for(d=e;d+8<=f;)N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1;for(;d<=f;)N[d]=0,d+=1}for(a=g+r;a<=l;a+=1){N=w[a];for(d=e;d+8<=e+r;)N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1,N[d]=0,d+=1;for(;d<=e+r;)N[d]=0,d+=1}var R=w[g+r-1];for(a=g+r;a<=l;a+=1){N=w[a];m=n[a];B=0;for(d=e+r;d+8<=f;)m[d]>=aa&&(B+=1),N[d]=R[d]+B,d+=1,m[d]>=aa&&(B+=
1),N[d]=R[d]+B,d+=1,m[d]>=aa&&(B+=1),N[d]=R[d]+B,d+=1,m[d]>=aa&&(B+=1),N[d]=R[d]+B,d+=1,m[d]>=aa&&(B+=1),N[d]=R[d]+B,d+=1,m[d]>=aa&&(B+=1),N[d]=R[d]+B,d+=1,m[d]>=aa&&(B+=1),N[d]=R[d]+B,d+=1,m[d]>=aa&&(B+=1),N[d]=R[d]+B,d+=1;for(;d<=f;)m[d]>=aa&&(B+=1),N[d]=R[d]+B,d+=1;R=N}e+=c;g+=c;f-=c;l-=c;-1!==this.a.ka&&(e+=r,g+=r,f-=r,l-=r);r=n[g][e];B=w[g+c][e+c];var U=0;r<aa?1===M[B]&&(S+=1,U=128):0===G[B]?da+=1:U=128;r=ca[r+U];n[g][e]=r;r>T&&(Y[e]|=1,v=y=g,I[g>>4][e>>8]|=1<<(~(e>>4)&15),r>=aa&&(K+=1,Y[e]|=
2,u=p=g));var fa=z=!1;N=w[g+c];R=w[g+c];m=n[g];D=I[g>>4];for(d=e+1;d<=f;d+=1)r=m[d],B=N[d+c]-R[d-k],U=0,r<aa?1===M[B]&&(S+=1,U=128):0===G[B]?da+=1:U=128,r=ca[r+U],m[d]=r,r>T&&(Y[d]|=1,z=!0,D[d>>8]|=1<<(~(d>>4)&15),r>=aa&&(K+=1,Y[d]|=2,fa=!0));z&&(v=y=g);fa&&(u=p=g);D=m=!1;N=e+c;for(a=g+1;a<=l;a+=1)r=n[a][e],B=w[a+c][N]-w[a-k][N],U=0,r<aa?1===M[B]&&(S+=1,U=128):0===G[B]?da+=1:U=128,r=ca[r+U],n[a][e]=r,r>T&&(a<y&&(y=a),a>v&&(v=a),m=!0,I[a>>4][e>>8]|=1<<(~(e>>4)&15),r>=aa&&(K+=1,a<p&&(p=a),a>u&&(u=a),
D=!0));m&&(Y[e]|=1);D&&(Y[e]|=2);for(a=g+1;a<=l;a+=1){m=n[a];D=I[a>>4];R=w[a+c];var P=w[a-k];N=e+1+c;var H=e+1-k;fa=z=!1;for(d=e+1;d<=f;d+=1)r=m[d],B=R[N]+P[H]-R[H]-P[N],U=0,r<aa?1===M[B]&&(U=128,S+=1):0===G[B]?da+=1:U=128,r=ca[r+U],m[d]=r,r>T&&(z=!0,D[d>>8]|=1<<(~(d>>4)&15),Y[d]|=1,r>=aa&&(K+=1,fa=!0,Y[d]|=2)),N+=1,H+=1;z&&(a<y&&(y=a),a>v&&(v=a));fa&&(a<p&&(p=a),a>u&&(u=a))}for(d=e;d<=f;d+=1)Y[d]&&(d<q&&(q=d),d>A&&(A=d),0!==(Y[d]&2)&&(d<t&&(t=d),d>F&&(F=d)),Y[d]=0);this.a.Aa=K;this.a.Ab=S;this.a.jc=
da;0<K?(this.a.C.N=q,this.a.C.O=A,this.a.C.K=y,this.a.C.L=v,this.a.ea.N=t,this.a.ea.O=F,this.a.ea.K=p,this.a.ea.L=u):this.a.Ba=0}else if(h===PatternManager.jf&&6<c){e-=c;f+=c;g-=c;l+=c;-1===this.a.ka&&(e-=c,f+=c,g-=c,l+=c);this.X=l-g+1;this.o=f-e+1;this.i=this.X+(this.o-1)/2|0;this.ha=this.o/2|0;for(k=0;k<this.i;k+=1)for(N=w[k],m=n[k+g],a=k-1,B=a-1,Y=0;Y<=this.o;Y+=1)N[Y]=this.f(a,Y-1)+this.f(a,Y+1)-this.f(B,Y),k<this.X&&m[Y+e]>=aa&&(N[Y]+=1);for(k=c;k<=this.X-c;k+=1){a=k-1;P=k+c;w=P-1;d=k-c-1;N=
d-1;R=k+g;m=n[R];D=I[R>>4];fa=z=!1;for(Y=c;Y<=this.o-c;Y+=1)B=Y+c,r=Y-c,B=this.f(P,Y)-this.f(a,B+1)-this.f(a,r-1)+this.f(N,Y)+this.f(w,Y)-this.f(a,B)-this.f(a,r)+this.f(d,Y),H=Y+e,r=m[H],U=0,r<aa?1===M[B]&&(U=128,S+=1):0===G[B]?da+=1:U=128,r=ca[r+U],m[H]=r,r>T&&(H<q&&(q=H),H>A&&(A=H),z=!0,D[H>>8]|=1<<(~(H>>4)&15),r>=aa&&(K+=1,fa=!0,H<t&&(t=H),H>F&&(F=H)));z&&(R<y&&(y=R),R>v&&(v=R));fa&&(R<p&&(p=R),R>u&&(u=R))}this.a.Aa=K;this.a.Ab=S;this.a.jc=da;0<K?(this.a.C.N=q,this.a.C.O=A,this.a.C.K=y,this.a.C.L=
v,this.a.ea.N=t,this.a.ea.O=F,this.a.ea.K=p,this.a.ea.L=u):this.a.Ba=0}else for(a=g-c;a<=l+c;a+=1){N=w[a];d=e-c;B=0;for(Y=-c;Y<=c;Y+=1)for(M=D[Y+c],m=n[a+Y],k=-M;k<=M;k+=1)m[d+k]>=aa&&(B+=1);N[d]=B;for(d+=1;d<=f+c;){for(Y=-c;Y<=c;Y+=1)M=D[Y+c],m=n[a+Y],m[d-M-1]>=aa&&--B,m[d+M]>=aa&&(B+=1);N[d]=B;d+=1}}-1!==this.a.ka&&(e<C+c&&(e=C+c),f>x-c&&(f=x-c),g<J+c&&(g=J+c),l>L-c&&(l=L-c));h===PatternManager.bf||h===PatternManager.jf&&6<c||this.Fa(e,g,f,l,b);1===this.a.ka&&this.ua(C,J,x,L)};c.prototype.bb=function(c){var d,
a,e=this.a.C.N,f=this.a.C.O,g=this.a.C.K,b=this.a.C.L,E=this.uc,M=c?this.Um:this.Ab,G=c?this.Vm:this.Wo,r=E+E;var k=E+1;var w=this.J,h=this.type,m=this.a.width,q=0,A=this.a.height,y=0,v=m,t=q,F=A,p=y,u=this.a.ta,n=this.a.Xa;var I=this.fa;var D=this.a.la;var B=this.a.na;var z=0,C=0,x=0,J=0,L=0,K=0,S=0,da,aa=this.a.g+this.a.ba-1,T=this.a.ba,ca=0<this.a.ba?1:0;-1!==this.a.ka&&(z=Math.round((this.a.width-D)/2),x=Math.round((this.a.height-B)/2),C=z+D-1,J=x+B-1,1===M[0]&&(e=z+E,f=C-E,b=J-E,g=x+E),1===this.a.ka&&
(e-z<E&&(f=C),C-f<E&&(e=z),J-b<E&&(g=x),g-x<E&&(b=J),this.Ha(z,x,C,J)),e-z<E&&(e=z+E),C-f<E&&(f=C-E),J-b<E&&(b=J-E),g-x<E&&(g=x+E),h===PatternManager.bf?(e-=r,g-=r,f+=r,b+=r):h===PatternManager.jf&&6<E&&(e-=E,g-=E,f+=E,b+=E));if(h===PatternManager.bf){e-=r;g-=r;f+=r;b+=r;for(a=g;a<g+r;a+=1){var Y=w[a];for(d=e;d<=f;d+=1)Y[d]=0}for(d=e;d<e+r;d+=1)for(a=g+r;a<=b;a+=1)w[a][d]=0;for(a=g+r;a<=b;a+=1){var N=w[a-1];Y=w[a];D=u[a];B=0;for(d=e+r;d<=f;d+=1)D[d]===aa&&(B+=1),Y[d]=N[d]+B}e+=E;g+=E;f-=E;b-=E;-1!==
this.a.ka&&(e+=r,g+=r,f-=r,b-=r);r=u[g][e];B=w[g+E][e+E];r<=T?1===M[B]?(r=aa,K+=1):r>ca&&--r:r===aa?0===G[B]&&(--r,S+=1):r>ca&&--r;u[g][e]=r;0<r&&(q=m=e,y=A=g,n[g>>4][e>>8]|=1<<(~(e>>4)&15),r===aa&&(L+=1,t=v=e,p=F=g));var R=da=!1;Y=w[g+E];N=w[g+E];D=u[g];I=n[g>>4];for(d=e+1;d<=f;d+=1)r=D[d],B=Y[d+E]-N[d-k],r<=T?1===M[B]?(r=aa,K+=1):r>ca&&--r:r===aa?0===G[B]&&(--r,S+=1):r>ca&&--r,D[d]=r,0<r&&(d<m&&(m=d),d>q&&(q=d),da=!0,I[d>>8]|=1<<(~(d>>4)&15),r===aa&&(L+=1,d<v&&(v=d),d>t&&(t=d),R=!0));da&&(y=A=g);
R&&(p=F=g);I=D=!1;N=e+E;for(a=g+1;a<=b;a+=1)r=u[a][e],B=w[a+E][N]-w[a-k][N],r<=T?1===M[B]?(r=aa,K+=1):r>ca&&--r:r===aa?0===G[B]&&(--r,S+=1):r>ca&&--r,u[a][e]=r,0<r&&(a<A&&(A=a),a>y&&(y=a),D=!0,n[a>>4][e>>8]|=1<<(~(e>>4)&15),r===aa&&(L+=1,a<F&&(F=a),a>p&&(p=a),I=!0));D&&(e<m&&(m=e),e>q&&(q=e));I&&(e<v&&(v=e),e>t&&(t=e));for(a=g+1;a<=b;a+=1){D=u[a];I=n[a>>4];Y=w[a+E];var U=w[a-k];R=da=!1;N=e+1+E;var fa=e+1-k;for(d=e+1;d<=f;d+=1)r=D[d],B=Y[N]+U[fa]-Y[fa]-U[N],r<=T?1===M[B]?(r=aa,K+=1):r>ca&&--r:r===
aa?0===G[B]&&(--r,S+=1):r>ca&&--r,D[d]=r,0<r&&(I[d>>8]|=1<<(~(d>>4)&15),d<m&&(m=d),d>q&&(q=d),da=!0,r===aa&&(L+=1,R=!0,d<v&&(v=d),d>t&&(t=d))),N+=1,fa+=1;da&&(a<A&&(A=a),a>y&&(y=a));R&&(a<F&&(F=a),a>p&&(p=a))}this.a.Aa=L;this.a.Ab=K;this.a.jc=S;0<L?(this.a.C.N=m,this.a.C.O=q,this.a.C.K=A,this.a.C.L=y,this.a.ea.N=v,this.a.ea.O=t,this.a.ea.K=F,this.a.ea.L=p):this.a.Ba=0}else if(h===PatternManager.jf&&6<E){e-=E;f+=E;g-=E;b+=E;-1===this.a.ka&&(e-=E,f+=E,g-=E,b+=E);this.X=b-g+1;this.o=f-e+1;this.i=this.X+
(this.o-1)/2|0;this.ha=this.o/2|0;for(k=0;k<this.i;k+=1)for(Y=w[k],D=u[k+g],a=k-1,B=a-1,N=0;N<=this.o;N+=1)Y[N]=this.f(a,N-1)+this.f(a,N+1)-this.f(B,N),k<this.X&&D[N+e]===aa&&(Y[N]+=1);for(k=E;k<=this.X-E;k+=1){a=k-1;fa=k+E;w=fa-1;d=k-E-1;Y=d-1;U=k+g;D=u[U];I=n[U>>4];R=da=!1;for(N=E;N<=this.o-E;N+=1){B=N+E;r=N-E;B=this.f(fa,N)-this.f(a,B+1)-this.f(a,r-1)+this.f(Y,N)+this.f(w,N)-this.f(a,B)-this.f(a,r)+this.f(d,N);var P=N+e;r=D[P];r<=T?1===M[B]?(r=aa,K+=1):r>ca&&--r:r===aa?0===G[B]&&(--r,S+=1):r>ca&&
--r;D[P]=r;0<r&&(I[P>>8]|=1<<(~(P>>4)&15),P<m&&(m=P),P>q&&(q=P),da=!0,r===aa&&(L+=1,R=!0,P<v&&(v=P),P>t&&(t=P)))}da&&(U<A&&(A=U),U>y&&(y=U));R&&(U<F&&(F=U),U>p&&(p=U))}this.a.Aa=L;this.a.Ab=K;this.a.jc=S;0<L?(this.a.C.N=m,this.a.C.O=q,this.a.C.K=A,this.a.C.L=y,this.a.ea.N=v,this.a.ea.O=t,this.a.ea.K=F,this.a.ea.L=p):this.a.Ba=0}else for(a=g-E;a<=b+E;a+=1){Y=w[a];d=e-E;B=0;for(N=-E;N<=E;N+=1)for(M=I[N+E],D=u[a+N],k=-M;k<=M;k+=1)D[d+k]===aa&&(B+=1);Y[d]=B;for(d+=1;d<=f+E;){for(N=-E;N<=E;N+=1)M=I[N+
E],D=u[a+N],D[d-M-1]===aa&&--B,D[d+M]===aa&&(B+=1);Y[d]=B;d+=1}}-1!==this.a.ka&&(e<z+E&&(e=z+E),f>C-E&&(f=C-E),g<x+E&&(g=x+E),b>J-E&&(b=J-E));h===PatternManager.bf||h===PatternManager.jf&&6<E||this.Fa(e,g,f,b,c);1===this.a.ka&&this.ua(z,x,C,J)};c.prototype.$y=function(c){var d=!1;this.gh&&1===(c&1)&&(d=!0);2===this.Mo?this.Sa(d):this.bb(d)};window.HROT=c})();(function(){function c(a,g,e,d,c,b,r,k){this.name=a;this.lj=!1;this.yq=10;this.Bf=this.Af=0;this.Ra=d;this.za=e;this.wa=g;this.Te=c;this.Ua=b;this.Fb=r;this.ah=k;this.dk=!1;-1===this.Ua.D.red&&(this.dk=!0);128<=(this.Ra.red+this.Ra.green+this.Ra.blue)/3?(this.Af=ViewConstants.$t,this.Bf=ViewConstants.Zt):(this.Af=ViewConstants.Rn,this.Bf=ViewConstants.Qn)}function b(a,g,e){this.red=a;this.green=g;this.blue=e}function d(a,g){this.B=a;this.D=g}function a(a,g,d,c,b){this.j=new Allocator;this.al=[];this.eg=
[];this.Se=this.qb="";this.xc=255;this.rb=null;this.me=this.j.W(Uint8,65536,"Life.bitCounts16");this.hl();this.nf=this.Qe=this.Sa=null;this.vb=this.Bb=this.Mb=this.uf=0;this.Pb=1;this.Ba=0;this.na=this.la=this.ka=-1;this.kl=this.jl=0;this.ot=this.Rp=!1;this.mm=ViewConstants.It;this.fd=[];this.gd=[];this.fd[0]=this.j.W(Int32,e.Io,"Life.boundaryX0");this.gd[0]=this.j.W(Int32,e.Io,"Life.boundaryY0");this.bh=0;this.Yj=4294967295;this.Hb=!1;this.Pe=-1;this.ca=!1;this.vc=PatternManager.Kj;this.S=!1;this.Ne=
!0;this.Md=this.dm=!1;this.g=-1;this.Dc=!1;this.ba=0;this.kh=this.sa=!1;this.Sd=new SnapshotManager(this.j,this.me);this.sj=e.xm;this.Bc=this.jb=this.Nv=!1;this.Uj=this.Jd=this.Ld=this.ea=this.C=null;this.title="LifeViewer";this.width=c;this.height=b;this.Fm=2;this.Gm=16;this.f=this.width>>4;this.i=this.height>>4;this.Ko=this.Sd.aq((this.f-1>>4)+1,this.i,!0,0);this.A=g;this.v=d;this.jc=this.Ab=this.Aa=0;this.cb=e.cb;this.pc=e.pc;this.$d=e.$d;this.Uh=e.Uh;this.ao=this.Ra=0;this.Xi=this.te=this.I=1;
this.Yi=30;this.angle=this.s=0;this.zoom=6;this.aa=this.da=0;this.sc=.1;this.Na=0;this.ma=1;this.Ac=this.zc=0;this.o=.1;this.hg=littleEndian;this.La=[];this.oe=this.hd=this.Ic=this.Yd=this.Rc=this.wc=this.Ha=this.yf=this.Cd=this.jd=this.Re=this.ld=this.ed=this.Sb=null;this.ge=-1;this.Ed=this.Wc=this.Jh=null;this.context=a;this.lb=this.ib=0;this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.qc=Array.Z(Uint8,
this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Zb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.sb=Array.If(this.qc,"Life.grid16");this.X=Array.If(this.Zb,"Life.nextGrid16");this.$g=this.j.W(Uint32,this.A,"Life.blankPixelRow");this.ua=this.j.W(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.dg=this.j.W(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Cb=this.j.W(Uint16,this.f>>4,"Life.blankTileRow");this.cg=this.j.W(Uint8,this.width,"Life.blankColourRow");
this.ta=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.colourGrid");this.J=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallColourGrid");this.Ca=Array.ad(this.J,1,"Life.smallColourGrid4");this.Fa=Array.ad(this.J,3,"Life.smallColourGrid8");this.bb=Array.ad(this.J,7,"Life.smallColourGrid16");this.Pi=Array.If(this.ta,"Life.colourGrid16");this.ng=this.yg=this.xf=this.wf=this.fa=this.kc=null;this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Xa=
Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.je=this.kd=this.Kc=this.ha=null;this.Qa=this.j.W(Uint8,256,"Life.redChannel");this.Pa=this.j.W(Uint8,256,"Life.greenChannel");this.Ma=this.j.W(Uint8,256,"Life.blueChannel");this.Nf=this.j.W(Uint32,256,"Life.pixelColours");this.jg=this.j.W(Uint8,e.Bq,"Life.indexLookup63");this.kg=this.j.W(Uint8,e.Bq,"Life.indexLookup632");this.Kh=this.j.W(Uint8,e.au,"Life.indexLookupTri1");this.Lh=this.j.W(Uint8,e.au,"Life.indexLookupTri2");
this.cn=this.j.W(Uint8,2*(this.pc+1),"Life.colourLookup");this.Qi=this.j.W(Uint8,2048,"Life.colourReset");this.rc=ViewConstants.Rn;this.gg=-1;this.de=ViewConstants.Qn;this.fg=-1;this.$e=10;this.mh=!0;this.ln=!1;this.$x=10;this.ne=this.j.W(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.V=8192;this.ty=[0,0,48];this.sy=[255,255,255];this.ry=[255,255,255];this.uy=[0,255,0];this.vy=[255,0,0];this.$f=[0,0,48];this.Zf=[255,255,255];this.Yf=[255,255,255];this.ag=[0,255,0];this.bg=[255,0,0];this.Ub=
new HROT(this.j,this);this.coords=this.j.W(Float32,1,"Life.coords");this.Bd=this.j.W(Uint32,1,"Life.cellColours");this.Jc=0;this.Cn=!1}var e={qy:[[[1,1,0],[1,0,1],[1,0,0]],[[0,1,1],[1,1,0],[0,0,1]],[[1,1,1],[1,0,0],[0,1,0]],[[0,1,0],[1,1,0],[1,0,1]]],ue:4096,Sh:16,Io:4096,yy:512,Bq:262144,bu:8192,au:131072,xm:50,Cu:262144,ti:12,cb:64,pc:127,$d:63,Uh:1,Nd:1,Rd:2,Ud:4,Gd:8,Le:16,Me:32,qe:64,re:128};c.prototype.tm=function(a,g,e){this.lj=!0;this.yq=a;this.Af=g.red<<16|g.green<<8|g.blue;this.Bf=e.red<<
16|e.green<<8|e.blue};c.prototype.kA=function(a,g){-1!==a?this.Af=a:this.Af=128<=(this.Ra.red+this.Ra.green+this.Ra.blue)/3?ViewConstants.$t:ViewConstants.Rn;-1!==g?this.Bf=g:this.Bf=128<=(this.Ra.red+this.Ra.green+this.Ra.blue)/3?ViewConstants.Zt:ViewConstants.Qn};c.prototype.xy=function(a){var f=!0;a||this.za.B.Nq(this.za.D)&&this.wa.B.Nq(this.wa.D)&&this.wa.B.Nq(this.Ra)&&(f=!1);return f};b.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};b.prototype.Nq=function(a){var f=
!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(f=!0);return f};d.prototype.set=function(a){this.B.set(a.B);this.D.set(a.D)};a.prototype.ey=function(){var a=this.ta,g=this.Jd,d=this.A/2,c=this.v/2,b,G,r=this.width/2-.25,k=this.height/2,w=this.coords,h=this.Bd,m=g.N,q=g.O;var A=g.K;var y=g.L,v=this.height/2-this.aa-this.vb+.5,t=this.width/2-this.da-this.Bb+.5,F=this.zoom*this.Pb,p=!this.jb&&!this.Bc;h.length!==e.ue&&(this.coords=this.j.W(Float32,12*e.ue,"Life.coords"),this.Bd=this.j.W(Uint32,
e.ue,"Life.cellColours"),w=this.coords,h=this.Bd);-1!==this.ka&&(0!==this.la?(m=Math.round((this.width-this.la)/2)-1,q=m+this.la-1+2):(m=0,q=this.width-1),0!==this.na?(A=Math.round((this.height-this.na)/2)-1,y=A+this.na-1+2):(A=0,y=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(G=g=0;A<=y;A+=1){var u=(A-k+v)*F+c;if(u>=-F&&u<this.v+F){u=a[A];var n=A-k;var I=t-r;for(b=m;b<=q;b+=1){var D=(b+I)*F+d;if(D>=-F&&D<this.A+2*F){D=u[b];if(0<D){h[g]=(D<<
e.Sh)+G;D=b-r;var B=b+A&1;w[G]=D-1;w[G+1]=n+B;w[G+2]=D+1;w[G+3]=n+B;w[G+4]=D;w[G+5]=n+1-B;G+=6;g+=1}g===e.ue&&(this.Jc=g,this.sf(!0,p),this.Bc&&!this.jb&&(this.context.strokeStyle="rgb("+this.Qa[0]+","+this.Ma[0]+","+this.Pa[0]+")",this.sf(!1,!1)),G=g=0)}}}}this.Jc=g;0<g&&(this.sf(!0,p),this.Bc&&!this.jb&&(this.context.strokeStyle="rgb("+this.Qa[0]+","+this.Ma[0]+","+this.Pa[0]+")",this.sf(!1,!1)),G=0);if(this.jb){this.context.strokeStyle="rgb("+(this.rc>>16)+","+(this.rc>>8&255)+","+(this.rc&255)+
")";this.context.lineWidth=1;y=c/F-v+k|0;g=0;for(A=-c/F-v+k|0;A<=y;A+=1)if(u=(A-k+v)*F+c,u>=-F&&u<this.v+F)for(n=A-k,I=t-r,m=-d/F-I-F|0,q=d/F-I+F|0,b=m;b<=q;b+=1)D=(b+I)*F+d,D>=-F&&D<this.A+F&&(D=b-r,B=b+A&1,w[G]=D-1,w[G+1]=n+B,w[G+2]=D+1,w[G+3]=n+B,w[G+4]=D,w[G+5]=n+1-B,G+=6,g+=1),g===e.ue&&(this.Jc=g,this.sf(!1,!1),G=g=0);this.Jc=g;0<g&&this.sf(!1,!1)}};a.prototype.sf=function(a,g){var f,d=this.context,c=this.width/2-this.da-this.Bb,b=this.height/2-this.aa-this.vb,r=this.zoom*this.Pb,k=this.zoom*
this.Pb*Math.sqrt(3),w=this.A/2,h=this.v/2,m=0,q=0,A=-1,y=this.coords,v=this.Jc,t=this.Bd,F=(1<<e.Sh)-1;if(a&&t.sort){q=(e.ue<<e.Sh)+256;for(f=v;f<e.ue;f+=1)t[f]=q;t.sort()}d.beginPath();a||(A=q=m=0);for(f=0;f<v;f+=1){a&&(q=t[f],m=q&F,q>>=e.Sh);var p=y[m];var u=y[m+1];m+=2;var n=(u+b)*k+h;var I=(p+c)*r+w;var D=(y[m+1]-u)*k;var B=(y[m]-p)*r;m+=2;q!==A&&(A=q,0<f&&(a?(g&&d.stroke(),d.fill()):d.stroke(),d.beginPath()),a&&(d.fillStyle=this.eg[q],g&&(d.strokeStyle=this.eg[q])));d.moveTo(I|0,n|0);d.lineTo(B+
I|0,D+n|0);d.lineTo(B+I|0,n|0);D=(y[m+1]-u)*k;B=(y[m]-p)*r;d.lineTo(B+I|0,D+n|0);m+=2}a?(g&&d.stroke(),d.fill()):d.stroke()};a.prototype.by=function(){var a=this.ta,g=this.Jd,d=this.A/2,c=this.v/2,b,G=this.width/2-.25,r=this.height/2,k=Math.PI/3,w=.5/Math.cos(k/2)*1.16,h=Math.sqrt(3)/4/Math.cos(k/2)*1.16,m=[],q=[],A=this.coords,y=this.Bd,v=g.N,t=g.O;var F=g.K;var p=g.L,u=this.height/2-this.aa-this.vb+.5,n=this.width/2-this.da-this.Bb+.5-(this.height>>2)+u/2,I=this.zoom*this.Pb,D=!this.jb&&!this.Bc;
y.length!==e.ue&&(this.coords=this.j.W(Float32,12*e.ue,"Life.coords"),this.Bd=this.j.W(Uint32,e.ue,"Life.cellColours"),A=this.coords,y=this.Bd);-1!==this.ka&&(0!==this.la?(v=Math.round((this.width-this.la)/2)-1,t=v+this.la-1+2):(v=0,t=this.width-1),0!==this.na?(F=Math.round((this.height-this.na)/2)-1,p=F+this.na-1+2):(F=0,p=this.height-1));var B=k/2;for(g=0;5>=g;g+=1)m[g]=Math.cos(B)*h,q[g]=Math.sin(B)*w,m[g]+=q[g]/2,B+=k;k=m[0];w=q[0];h=m[1];var z=q[1];var C=m[2];var x=q[2];var J=m[3];var L=q[3];
var K=m[4];var S=q[4];m=m[5];q=q[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(B=g=0;F<=p;F+=1){var da=(F+u-r)*I+c;if(da>=-I&&da<this.v+I){da=a[F];var aa=F-r;var T=n-G-(aa+u)/2;for(b=v;b<=t;b+=1){var ca=(b+T)*I+d;ca>=-I&&ca<this.A+I&&(ca=da[b],0<ca&&(y[g]=(ca<<e.Sh)+B,ca=b-G,A[B]=k+ca,A[B+1]=w+aa,A[B+2]=h+ca,A[B+3]=z+aa,A[B+4]=C+ca,A[B+5]=x+aa,A[B+6]=J+ca,A[B+7]=L+aa,A[B+8]=K+ca,A[B+9]=S+aa,A[B+10]=m+ca,A[B+11]=q+aa,B+=12,g+=1),g===e.ue&&(this.Jc=g,this.qf(!0,
D,!1),this.Bc&&!this.jb&&(this.context.strokeStyle="rgb("+this.Qa[0]+","+this.Ma[0]+","+this.Pa[0]+")",this.qf(!1,!1,!1)),B=g=0))}}}this.Jc=g;0<g&&(this.qf(!0,D,!1),this.Bc&&!this.jb&&(this.context.strokeStyle="rgb("+this.Qa[0]+","+this.Ma[0]+","+this.Pa[0]+")",this.qf(!1,!1,!1)),B=0);if(this.jb){this.context.strokeStyle="rgb("+(this.rc>>16)+","+(this.rc>>8&255)+","+(this.rc&255)+")";this.context.lineWidth=1;g=0;p=c/I-u+r|0;for(F=-c/I-u+r|0;F<=p;F+=1)if(da=(F+u-r)*I+c,da>=-I&&da<this.v+I)for(aa=F-
r,T=n-G-(aa+u)/2,v=-d/I-T-I|0,t=d/I-T+I|0,b=v;b<=t;b+=1)ca=(b+T)*I+d,ca>=-I&&ca<this.A+I&&(ca=b-G,A[B]=k+ca,A[B+1]=w+aa,A[B+2]=h+ca,A[B+3]=z+aa,A[B+4]=C+ca,A[B+5]=x+aa,A[B+6]=J+ca,A[B+7]=L+aa,B+=8,g+=1),g===e.ue&&(this.Jc=g,this.qf(!1,!1,!0),B=g=0);this.Jc=g;0<g&&this.qf(!1,!1,!0)}};a.prototype.qf=function(a,g,d){var f,b=this.context,c=this.width/2-this.da-this.Bb,l=this.height/2-this.aa-this.vb,k=this.zoom*this.Pb,w=this.A/2,h=this.v/2,m=0,q=0,A=12,y=0,v=-1,t=this.coords,F=this.Jc,p=this.Bd,u=(1<<
e.Sh)-1;c=c+l/2+-(this.height>>2)+.5;l+=.5;if(a&&p.sort){y=(e.ue<<e.Sh)+256;for(f=F;f<e.ue;f+=1)p[f]=y;p.sort()}b.beginPath();a||(q=A=d?8:12,v=y=m=0);for(f=0;f<F;f+=1){a&&(y=p[f],m=y&u,q=m+A,y>>=e.Sh);d=t[m];var n=t[m+1];var I=n+l;var D=d+c-I/2;m+=2;I=I*k+h;D=D*k+w;var B=(t[m+1]-n)*k;var z=(t[m]-d)*k-B/2;m+=2;y!==v&&(v=y,0<f&&(a?(g&&b.stroke(),b.fill()):b.stroke(),b.beginPath()),a&&(b.fillStyle=this.eg[y],g&&(b.strokeStyle=this.eg[y])));b.moveTo(D,I);for(b.lineTo(z+D,B+I);m<q;)B=(t[m+1]-n)*k,z=(t[m]-
d)*k-B/2,m+=2,b.lineTo(z+D,B+I);q+=A}a?(g&&b.stroke(),b.fill()):b.stroke()};a.prototype.ax=function(a,g,d){var f="",e=g.Dc?g.Jd:g.C,b=e.N,c=e.O,l=e.L,w=e.K,h=c-b+1,m=l-w+1,q=0,A=[];var y=0;var v=!1,t=this.ta,F=null;g.ca&&(0<b&&0!==(b&1)&&(--b,h+=1),0<w&&0!==(w&1)&&(--w,m+=1));if(2>=g.g&&!g.Dc)v=!0,A[0]="b",A[1]="o";else for(g.Dc?y=7:y=g.g,A[0]=".",e=0;e<y-1;e+=1)A[e+1]=24<=e?String.fromCharCode(112+(e/24|0)-1)+String.fromCharCode(65+e%24):String.fromCharCode(65+e);d&&(f+=g.qb);0===this.Aa&&(m=h=0,
l=w-1);f+="x = "+h+", y = "+m+", rule = ";f="LifeHistory"===a.Mf?f+a.Mf:f+a.Lg;f+=a.mr;f+="\n";for(a=f.length;w<=l;){e=b;v?(F=t[w],y=F[e],h=y<=this.$d||y===this.xc?0:1):h=g.getState(e,w,!1);m=1;for(e+=1;e<=c+1;)e>c?y=-1:v?(y=F[e],y=y<=this.$d||y===this.xc?0:1):y=g.getState(e,w,!1),y!==h?((-1!==y||0!==h)&&0<q&&(1<q&&(f+=q),f+="$",69<=f.length-a&&(f+="\n",a=f.length),q=0),0<h?(1<m&&(f+=m),f+=A[h]):e<=c&&(1<m&&(f+=m),f+=A[h]),69<=f.length-a&&(f+="\n",a=f.length),m=1,h=y):m+=1,e+=1;q+=1;w+=1}f+="!\n";
d&&(f+=g.Se);return f};a.prototype.Bv=function(a,g,d){var f=this.sb,b=this.qa,c=this.X,l=this.Ja,k=this.ta,w=this.eb,h=this.Xa,m=this.kc,q=this.C,A=this.ea,y=this.Jd,v=Math.round((this.width-this.la)/2),t=Math.round((this.height-this.na)/2),F=v+this.la-1,p=t+this.na-1,u=!0,n=0,I=this.ca?1:0,D=this.ca?14:15;-1!==this.ka&&(0===this.la&&(v=0,F=this.width-1),0===this.na&&(t=0,p=this.height-1));if(a!==(a&this.ib)||g!==(g&this.lb)){for(u=!1;this.width<this.V&&(a!==(a&this.ib)||g!==(g&this.lb));)this.zq(),
a+=this.width>>2,g+=this.height>>2;a===(a&this.ib)&&g===(g&this.lb)&&(u=!0,f=this.sb,b=this.qa,c=this.X,l=this.Ja,k=this.ta,w=this.eb,h=this.Xa,m=this.kc)}if(u&&(-1===this.ka||a>=v&&a<=F&&g>=t&&g<=p)){this.Cn=!0;if(this.sa)b=k[g][a],2===this.g?(m=this.cb,1===d&&(d=this.cb)):(m=this.g-1+this.ba,0<d&&(d=this.ba+d)),k[g][a]=d,w[g>>4][a>>8]|=1<<(~(a>>4)&15),h[g>>4][a>>8]|=1<<(~(a>>4)&15),b!==m&&d===m?this.Aa+=1:b===m&&d!==m&&--this.Aa;else{(v=2>=this.g?1===(d&1):d===this.g-1)?(0===(f[g][a>>4]&1<<(~a&
15))&&(this.Aa+=1),k[g][a]=this.cb,w[g>>4][a>>8]|=1<<(~(a>>4)&15),h[g>>4][a>>8]|=1<<(~(a>>4)&15),f[g][a>>4]|=1<<(~a&15),b[g>>4][a>>8]|=1<<(~(a>>4)&15),c[g][a>>4]|=1<<(~a&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),w=a&15,0<a&&w<=I?(a-=w+1,b[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=w+1):a<this.width-1&&w>=D&&(a+=16-w,b[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-w),0<g&&0===(g&15)?(--g,b[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&w<=I?(a-=w+
1,b[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=w+1):a<this.width-1&&w>=D&&(a+=16-w,b[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-w),g+=1):g<this.height-1&&15===(g&15)&&(g+=1,b[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&w<=I?(a-=w+1,b[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=w-1):a<this.width-1&&w>=D&&(a+=16-w,b[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-w),--g)):(0!==(f[g][a>>4]&1<<(~a&15))&&
--this.Aa,k[g][a]=this.Ra,w[g>>4][a>>8]|=1<<(~(a>>4)&15),h[g>>4][a>>8]|=1<<(~(a>>4)&15),f[g][a>>4]&=~(1<<(~a&15)),c[g][a>>4]&=~(1<<(~a&15)));if(this.Dc&&m){b=m[g][a];0<b&&(b=ViewConstants.hb.indexOf(b-128));if(6===d&&6!==b||6!==d&&6===b)n=1;2===d?k[g][a]=e.Uh:m[g][a]=0===d?0:ViewConstants.hb[d]+128}2<this.g&&(0<d&&(d=this.ba+d),k[g][a]=d)}0<d?(a<q.N&&(q.N=a),a>q.O&&(q.O=a),g<q.K&&(q.K=g),g>q.L&&(q.L=g),a<y.N&&(y.N=a),a>y.O&&(y.O=a),g<y.K&&(y.K=g),g>y.L&&(y.L=g),this.sa&&d===this.g-1+this.ba&&(a<A.N&&
(A.N=a),a>A.O&&(A.O=a),g<A.K&&(A.K=g),g>A.L&&(A.L=g))):0<this.Aa&&(a===q.N||a===q.O||g===q.L||g===q.K)&&a>=q.N&&a<=q.O&&g>=q.K&&g<=q.L&&this.pp(a,g)}return n};a.prototype.Sw=function(a){var f=1<<e.ti;a?(this.Sa=Array.Z(Uint32,1,f,0,this.j,"Life.popGraphData"),this.Qe=Array.Z(Uint32,1,f,0,this.j,"Life.birthGraphData"),this.nf=Array.Z(Uint32,1,f,0,this.j,"Life.deathGraphData"),this.uf=f):(this.Sa=Array.Z(Uint32,0,0,0,this.j,"Life.popGraphData"),this.Qe=Array.Z(Uint32,0,0,0,this.j,"Life.birthGraphData"),
this.nf=Array.Z(Uint32,0,0,0,this.j,"Life.deathGraphData"),this.uf=0)};a.prototype.getState=function(a,g,d){var f=0,b=ViewConstants.hb[3]+128,e=ViewConstants.hb[4]+128,c=ViewConstants.hb[5]+128,l=ViewConstants.hb[6]+128,w=Math.round((this.width-this.la)/2),h=Math.round((this.height-this.na)/2),m=w+this.la-1,q=h+this.na-1;a===(a&this.ib)&&g===(g&this.lb)&&(f=this.ta[g][a],d||2<this.g?2<this.g&&0<f&&!this.Hb&&(f<=this.ba?f=0:(-1!==this.ka&&(0===this.la&&(w=0,m=this.width-1),0===this.na&&(h=0,q=this.height-
1)),f=-1===this.ka||f!==this.xc||a>=w&&a<=m&&g>=h&&g<=q?this.g+this.ba-f:0)):this.kc?(a=this.kc[g][a],a===e||a===l?(f>=this.cb&&(a=b),f=ViewConstants.hb.indexOf(a-128)):a===b||a===c?(f<this.cb&&(a=e),f=ViewConstants.hb.indexOf(a-128)):f=f===this.Ra?0:f<=this.$d?2:1):f=f<=this.$d||f===this.xc?0:1);return f};a.prototype.Em=function(a){var f,d,b,e=a.length,c=a[0].length,r=this.me,k=0;for(f=0;f<e;f+=1){var w=a[f];for(d=0;d<c;d+=1)(b=w[d])&&(k+=r[b])}return k};a.prototype.om=function(a,g,d){var f=this.Sd.bd.length,
b=this.Sd.yA(a);f!==this.Sd.bd.length&&(this.sj-=e.xm);if(b){for(this.Rj(b);this.s<a-1;)this.Ba=1,this.rj(!1,!0,d),this.$j();this.s<a&&(this.Ba=1,this.rj(g,!0,d));this.$j()}};a.prototype.Rj=function(a){var f,d=this.ua,b=this.cg;this.s=a.s;if(0!==(this.s&1)){var e=this.Zb;var c=this.qc;var r=this.Ja;var k=this.qa}else e=this.qc,c=this.Zb,r=this.qa,k=this.Ja;var w=e.length;for(f=0;f<w;f+=1)e[f].set(d),this.ta[f].set(b),this.J[f].set(b);Array.Tf(e,c);Array.Tf(this.Xa,this.eb);a.Xz(e,r,this);a.Wz(this.ta,
this.Xa,this);Array.Tf(r,k);Array.Tf(e,c);this.C.N=a.C.N;this.C.K=a.C.K;this.C.O=a.C.O;this.C.L=a.C.L;this.ea.N=a.ea.N;this.ea.K=a.ea.K;this.ea.O=a.ea.O;this.ea.L=a.ea.L;this.Aa=a.Aa;this.Ab=a.Ab;this.jc=a.jc;this.Ba=a.Ba};a.prototype.pm=function(){if(0!==(this.s&1)){var a=this.Zb;var g=this.Ja}else a=this.qc,g=this.qa;this.Tj(!1,a,g)};a.prototype.Lo=function(a){this.Rj(this.Ko);this.Sd.reset();this.sj=e.xm;a||this.pm()};a.prototype.Tj=function(a,g,d){this.Sd.pm(g,d,this.ta,this.Xa,this.kc,this.C,
this.ea,this.Aa,this.Ab,this.jc,this.s,(this.f-1>>4)+1,this.i,this,a,this.Ba)};a.prototype.gA=function(a){this.Sd.reset();this.Tj(!0,this.qc,this.qa);a||this.pm()};a.prototype.Rz=function(){var a=this.kc,g=this.ha;this.height=this.width=512;this.sa&&this.Ub.resize(this.width,this.height);this.qc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Zb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.sb=Array.If(this.qc,"Life.grid16");this.X=Array.If(this.Zb,
"Life.nextGrid16");g&&(this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.kd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive"),this.Kc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=this.width>>4;this.i=this.height>>4;g&&(this.je=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,
(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Xa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.ua=this.j.W(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.dg=this.j.W(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Cb=this.j.W(Uint16,this.f>>4,"Life.blankTileRow");this.cg=this.j.W(Uint8,this.width,"Life.blankColourRow");this.ne=this.j.W(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");
this.ta=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.colourGrid");this.J=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallColourGrid");this.Ca=Array.ad(this.J,1,"Life.smallColourGrid4");this.Fa=Array.ad(this.J,3,"Life.smallColourGrid8");this.bb=Array.ad(this.J,7,"Life.smallColourGrid16");this.Pi=Array.If(this.ta,"Life.colourGrid16");a&&(this.kc=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.overlayGrid"),this.fa=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,
"Life.smallOverlayGrid"),this.wf=Array.ad(this.fa,1,"Life.smallColourGrid4"),this.xf=Array.ad(this.fa,3,"Life.smallColourGrid8"),this.yg=Array.ad(this.fa,7,"Life.smallColourGrid16"),this.ng=Array.If(this.kc,"Life.overlayGrid16"));this.ib=this.width-1;this.lb=this.height-1;this.Sd.nv((this.f-1>>4)+1,this.i,0)};a.prototype.zq=function(){var a=this.qc,g=this.Zb,d=this.ta,b=this.J,e=this.kc,c=this.fa,r=this.ha,k=this.kd,w=this.Kc,h=this.je,m=this.qa,q=this.Ja,A=this.eb,y=this.Xa,v=this.height,t=this.i,
F=this.width>>1,p=this.height>>1,u;if(this.width<this.V){this.width*=2;this.height*=2;this.sa&&this.Ub.resize(this.width,this.height);this.qc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Zb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.sb=Array.If(this.qc,"Life.grid16");this.X=Array.If(this.Zb,"Life.nextGrid16");r&&(this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.kd=Array.Z(Uint16,this.height,(this.width-
1>>4)+1,0,this.j,"Life.state6Alive"),this.Kc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=this.width>>4;this.i=this.height>>4;r&&(this.je=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Xa=Array.Z(Uint16,this.i,
(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.ua=this.j.W(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.dg=this.j.W(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Cb=this.j.W(Uint16,this.f>>4,"Life.blankTileRow");this.cg=this.j.W(Uint8,this.width,"Life.blankColourRow");this.ne=this.j.W(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.ta=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.colourGrid");this.J=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallColourGrid");
this.Ca=Array.ad(this.J,1,"Life.smallColourGrid4");this.Fa=Array.ad(this.J,3,"Life.smallColourGrid8");this.bb=Array.ad(this.J,7,"Life.smallColourGrid16");this.Pi=Array.If(this.ta,"Life.colourGrid16");e&&(this.kc=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.overlayGrid"),this.fa=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallOverlayGrid"),this.wf=Array.ad(this.fa,1,"Life.smallColourGrid4"),this.xf=Array.ad(this.fa,3,"Life.smallColourGrid8"),this.yg=Array.ad(this.fa,7,"Life.smallColourGrid16"),
this.ng=Array.If(this.kc,"Life.overlayGrid16"));this.ib=this.width-1;this.lb=this.height-1;for(u=0;u<v;u+=1)this.qc[u+p].set(a[u],F>>3),this.Zb[u+p].set(g[u],F>>3),this.ta[u+p].set(d[u],F),this.J[u+p].set(b[u],F),e&&c&&(this.kc[u+p].set(e[u],F),this.fa[u+p].set(c[u],F)),r&&k&&w&&(this.ha[u+p].set(r[u],F>>4),this.kd[u+p].set(k[u],F>>4),this.Kc[u+p].set(w[u],F>>4));p=t>>1;for(u=0;u<t;u+=1)h&&this.je[u+p].set(h[u],this.je[u].length>>2),this.qa[u+p].set(m[u],this.qa[u].length>>2),this.Ja[u+p].set(q[u],
this.Ja[u].length>>2),this.eb[u+p].set(A[u],this.eb[u].length>>2),this.Xa[u+p].set(y[u],this.Xa[u].length>>2);F=this.width>>2;p=this.height>>2;this.Sd.nv((this.f-1>>4)+1,this.i,F);this.da+=F;this.aa+=p;this.S&&(this.da-=p/2|0);this.C.N+=F;this.C.O+=F;this.C.L+=p;this.C.K+=p;this.ea.N+=F;this.ea.O+=F;this.ea.L+=p;this.ea.K+=p;this.Ld.N+=F;this.Ld.O+=F;this.Ld.L+=p;this.Ld.K+=p;this.Jd.N+=F;this.Jd.O+=F;this.Jd.L+=p;this.Jd.K+=p}};a.prototype.kx=function(a){var f=this.C,d=this.width,b=this.height,e=
!1;d<this.V&&this.Ba&&(f.N<=a||f.K<=a||f.O>=d-a||f.L>=b-a)&&(this.zq(),e=!0);return e};a.prototype.hl=function(){var a,g,d=this.me;for(a=0;65536>a;a+=1){var b=a;for(g=0;b;g+=1)b&=b-1;d[a]=g}};a.prototype.ll=function(){var a,g,d=this.Qi,b=this.cb;for(a=0;256>a;a+=1)for(g=0;8>g;g+=1)d[(a<<3)+g]=a&1<<7-g?b:0};a.prototype.Tz=function(a,g){var f,d=0,b=this.me;var e=this.C;var c=e.N,k=e.O,w=e.L;e=e.K;if(this.sa)for(;e<=w;e+=1){var h=g[e];for(f=c;f<=k;f+=1)0<h[f]&&(d+=1)}else for(c>>=4,k>>=4;e<=w;e+=1)for(h=
a[e],f=c;f<=k;f+=1)g=b[h[f]],d+=g;this.Aa=d;this.jc=this.Ab=0};a.prototype.mv=function(a,g){var f=this.context;var d=this.hg?4278190080:255;this.A=a;this.v=g;this.Jh=this.Wc=this.Ed=null;this.Ed=f.createImageData(f.canvas.width,f.canvas.height);this.Ed.data.buffer?this.Wc=new Uint32Array(this.Ed.data.buffer):(this.Wc=new Uint32Array(this.Ed.data.length>>2),this.Jh=new Uint8Array(this.Wc.buffer));this.$g=this.j.W(Uint32,a,"Life.blankPixelRow");for(g=0;g<a;g+=1)this.$g[g]=d;this.Uk()};a.prototype.rx=
function(a,g,d){var f,b,e=this.ta,c=a.width,l=a.height,w=this.ib,h=this.lb,m=this.Uh,q=ViewConstants.hb[2];for(b=0;b<l;b+=1){var A=a.Ce[b];var y=e[b+d&h];for(f=0;f<c;f+=1)A[f]===q&&(y[f+g&w]=m)}};a.prototype.ny=function(){this.ng=this.fa=this.kc=null};a.prototype.Bx=function(){this.kc=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.overlayGrid");this.fa=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallOverlayGrid");this.wf=Array.ad(this.fa,1,"Life.smallOverlayGrid4");this.xf=
Array.ad(this.fa,3,"Life.smallOverlayGrid8");this.yg=Array.ad(this.fa,7,"Life.smallOverlayGrid16");this.ng=Array.If(this.kc,"Life.overlayGrid16")};a.prototype.oy=function(){this.je=this.Kc=this.kd=this.ha=null};a.prototype.Ex=function(){this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask");this.kd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive");this.Kc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells");this.je=Array.Z(Uint16,
this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid")};a.prototype.rz=function(){var a,g,d=this.ib,b=this.lb,e=this.je,c=ViewConstants.hb[6]+128;for(g=0;g<this.ha.length;g+=1)this.ha[g].set(this.dg),this.Kc[g].set(this.dg),this.kd[g].set(this.dg);for(g=0;g<this.je.length;g+=1)this.je[g].set(this.Cb);for(g=1;g<this.height-1;g+=1){var r=this.kc[g];var k=this.ha[g-1&b];var w=this.ha[g&b];var h=this.ha[g+1&b];var m=this.Kc[g&b];var q=e[(g-1&b)>>4];var A=e[(g&b)>>4];var y=e[(g+1&b)>>4];for(a=1;a<=this.width-
1;a+=1)if(r[a]===c){var v=a&d;m[v>>4]|=1<<(~v&15);k[v>>4]|=1<<(~v&15);w[v>>4]|=1<<(~v&15);h[v>>4]|=1<<(~v&15);q[v>>8]|=1<<(~(v>>4)&15);A[v>>8]|=1<<(~(v>>4)&15);y[v>>8]|=1<<(~(v>>4)&15);v=a-1&d;k[v>>4]|=1<<(~v&15);w[v>>4]|=1<<(~v&15);h[v>>4]|=1<<(~v&15);q[v>>8]|=1<<(~(v>>4)&15);A[v>>8]|=1<<(~(v>>4)&15);y[v>>8]|=1<<(~(v>>4)&15);v=a+1&d;k[v>>4]|=1<<(~v&15);w[v>>4]|=1<<(~v&15);h[v>>4]|=1<<(~v&15);q[v>>8]|=1<<(~(v>>4)&15);A[v>>8]|=1<<(~(v>>4)&15);y[v>>8]|=1<<(~(v>>4)&15)}}};a.prototype.qz=function(a,g,
d){var f,b,e=a.width,c=a.height,l=this.ib,w=this.lb,h=this.je;for(b=0;b<c;b+=1){var m=a.Ce[b];var q=this.ha[b-1+d&w];var A=this.ha[b+d&w];var y=this.ha[b+1+d&w];var v=this.Kc[b+d&w];var t=h[(b-1+d&w)>>4];var F=h[(b+d&w)>>4];var p=h[(b+1+d&w)>>4];for(f=0;f<e;f+=1)if(6===m[f]){var u=f+g&l;v[u>>4]|=1<<(~u&15);q[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);y[u>>4]|=1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);F[u>>8]|=1<<(~(u>>4)&15);p[u>>8]|=1<<(~(u>>4)&15);u=f-1+g&l;q[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);y[u>>4]|=
1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);F[u>>8]|=1<<(~(u>>4)&15);p[u>>8]|=1<<(~(u>>4)&15);u=f+1+g&l;q[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);y[u>>4]|=1<<(~u&15);t[u>>8]|=1<<(~(u>>4)&15);F[u>>8]|=1<<(~(u>>4)&15);p[u>>8]|=1<<(~(u>>4)&15)}}};a.prototype.Qz=function(a){var f,d=this.ta,b=this.Qi;var e=this.C;var c=e.N>>4,r=e.O>>4,k=e.L;for(f=e.K;f<=k;f+=1){var w=a[f];var h=d[f];var m=c<<4;for(e=c;e<=r;e+=1){var q=w[e]>>8<<3;h[m]=b[q];m+=1;h[m]=b[q+1];m+=1;h[m]=b[q+2];m+=1;h[m]=b[q+3];m+=1;h[m]=b[q+4];m+=1;
h[m]=b[q+5];m+=1;h[m]=b[q+6];m+=1;h[m]=b[q+7];m+=1;q=(w[e]&255)<<3;h[m]=b[q];m+=1;h[m]=b[q+1];m+=1;h[m]=b[q+2];m+=1;h[m]=b[q+3];m+=1;h[m]=b[q+4];m+=1;h[m]=b[q+5];m+=1;h[m]=b[q+6];m+=1;h[m]=b[q+7];m+=1}}};a.prototype.zy=function(a,g,b){var f=this.Ra,d=this.ua,e=this.cg,c=this.$g,l=this.Cb;var w=this.hg?4278190080:255;this.Hn();this.kh=!1;this.ib=this.width-1;this.lb=this.height-1;this.C=new BoundingBox(0,0,this.width-1,this.height-1);this.ea=new BoundingBox(0,0,this.width-1,this.height-1);this.Ld=
new BoundingBox(0,0,this.width-1,this.height-1);this.Jd=new BoundingBox(0,0,this.width-1,this.height-1);this.Uj=new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.ll();AliasManager.Kd();this.mv(g,b);b=(this.width-1>>3)+1;for(a=0;a<b;a+=1)d[a]=0;b=this.width;for(a=0;a<b;a+=1)e[a]=f;b=this.f>>4;for(a=0;a<b;a+=1)l[a]=0;for(a=0;a<g;a+=1)c[a]=w};a.prototype.xx=function(){var a=0;this.La[a]=new c("Mono",new d(new b(0,0,0),new b(0,0,0)),new d(new b(255,255,255),new b(255,255,255)),new b(0,
0,0),new b(255,255,255),new d(new b(0,0,0),new b(-1,-1,-1)),new d(new b(0,0,0),new b(0,0,0)),new b(0,0,0));a+=1;this.La[a]=new c("Blues",new d(new b(0,0,47),new b(0,0,255)),new d(new b(0,255,255),new b(255,255,255)),new b(0,0,0),new b(0,255,255),new d(new b(0,0,255),new b(-1,-1,-1)),new d(new b(0,0,47),new b(0,0,128)),new b(0,0,0));a+=1;this.La[a]=new c("Fire",new d(new b(32,0,0),new b(160,0,0)),new d(new b(255,144,0),new b(255,255,0)),new b(0,0,0),new b(255,144,0),new d(new b(240,0,0),new b(-1,-1,
-1)),new d(new b(32,0,0),new b(160,0,0)),new b(0,0,0));a+=1;this.La[a]=new c("Poison",new d(new b(0,24,0),new b(0,128,0)),new d(new b(0,255,255),new b(255,255,255)),new b(0,0,0),new b(0,255,255),new d(new b(0,192,0),new b(-1,-1,-1)),new d(new b(0,24,0),new b(0,128,0)),new b(0,0,0));a+=1;this.La[a]=new c("Yellow",new d(new b(0,47,0),new b(128,0,128)),new d(new b(255,255,0),new b(255,255,255)),new b(0,32,128),new b(255,255,0),new d(new b(192,64,64),new b(-1,-1,-1)),new d(new b(0,47,0),new b(128,0,128)),
new b(0,32,128));a+=1;this.La[a]=new c("Gray",new d(new b(16,16,16),new b(104,104,104)),new d(new b(176,176,176),new b(240,240,240)),new b(0,0,0),new b(240,240,240),new d(new b(160,160,160),new b(-1,-1,-1)),new d(new b(16,16,16),new b(104,104,104)),new b(0,0,0));a+=1;this.La[a]=new c("Inverse",new d(new b(255,255,255),new b(255,255,255)),new d(new b(0,0,0),new b(0,0,0)),new b(255,255,255),new b(0,0,0),new d(new b(255,255,255),new b(-1,-1,-1)),new d(new b(255,255,255),new b(255,255,255)),new b(255,
255,255));a+=1;this.La[a]=new c("Day",new d(new b(240,240,240),new b(0,255,255)),new d(new b(0,0,255),new b(0,0,0)),new b(255,255,255),new b(0,0,255),new d(new b(0,255,255),new b(-1,-1,-1)),new d(new b(240,240,240),new b(0,192,192)),new b(255,255,255));a+=1;this.La[a]=new c("Occupied",new d(new b(240,240,240),new b(240,240,240)),new d(new b(240,240,240),new b(240,240,240)),new b(0,0,0),new b(240,240,240),new d(new b(240,240,240),new b(240,240,240)),new d(new b(240,240,240),new b(240,240,240)),new b(0,
0,0));a+=1;this.La[a]=new c("Red",new d(new b(160,0,0),new b(160,0,0)),new d(new b(240,240,240),new b(240,240,240)),new b(0,0,0),new b(255,255,255),new d(new b(160,160,160),new b(160,160,160)),new d(new b(160,0,0),new b(160,0,0)),new b(0,0,0));a+=1;this.La[a]=new c("LifeHistory",new d(new b(0,0,96),new b(0,0,160)),new d(new b(0,240,0),new b(16,255,16)),new b(0,0,0),new b(16,255,16),new d(new b(0,128,160),new b(-1,-1,-1)),new d(new b(0,0,96),new b(0,0,160)),new b(0,0,0));a+=1;this.La[a]=new c("Generations",
new d(new b(64,0,0),new b(255,0,0)),new d(new b(255,255,0),new b(255,255,255)),new b(0,0,0),new b(255,255,0),new d(new b(255,0,0),new b(-1,-1,-1)),new d(new b(64,0,0),new b(128,0,0)),new b(0,0,0));a+=1;this.La[a]=new c("Golly",new d(new b(48,48,48),new b(48,48,48)),new d(new b(255,255,255),new b(255,255,255)),new b(48,48,48),new b(255,255,0),new d(new b(255,0,0),new b(-1,-1,-1)),new d(new b(48,48,48),new b(48,48,48)),new b(48,48,48));this.La[a].tm(10,new b(80,80,80),new b(112,112,112));a+=1;this.La[a]=
new c("MCell",new d(new b(0,0,0),new b(0,0,0)),new d(new b(255,255,0),new b(255,255,0)),new b(0,0,0),new b(255,255,0),new d(new b(128,128,0),new b(128,128,128)),new d(new b(0,0,0),new b(0,0,0)),new b(0,0,0));this.La[a].tm(5,new b(64,0,0),new b(99,3,1));a+=1;this.La[a]=new c("Catagolue",new d(new b(160,221,204),new b(160,221,204)),new d(new b(0,0,0),new b(0,0,0)),new b(192,255,238),new b(0,0,0),new d(new b(96,192,139),new b(2,129,2)),new d(new b(160,221,204),new b(160,221,204)),new b(192,255,238));
this.La[a].tm(0,new b(160,221,204),new b(160,221,204));a+=1;this.La[a]=new c("Caterer",new d(new b(54,57,62),new b(54,57,62)),new d(new b(255,255,255),new b(255,255,255)),new b(54,57,62),new b(255,170,0),new d(new b(255,85,0),new b(-1,-1,-1)),new d(new b(54,57,62),new b(54,57,62)),new b(54,57,62));this.La[a].tm(0,new b(0,0,0),new b(0,0,0));a+=1;this.La[a]=new c("Life32",new d(new b(255,255,255),new b(255,255,255)),new d(new b(0,0,128),new b(0,0,128)),new b(255,255,255),new b(0,0,128),new d(new b(0,
0,64),new b(-1,-1,-1)),new d(new b(255,255,255),new b(255,255,255)),new b(255,255,255));this.La[a].tm(5,new b(192,192,192),new b(128,128,128));this.La[a+1]=new c(Keywords.Kk,new d(new b(0,0,0),new b(0,0,0)),new d(new b(0,0,0),new b(0,0,0)),new b(0,0,0),new b(0,0,0),new d(new b(0,0,0),new b(0,0,0)),new d(new b(0,0,0),new b(0,0,0)),new b(0,0,0));this.ge=this.La.length-1;this.ed=new d(new b(0,0,0),new b(0,0,0));this.Sb=new d(new b(0,0,0),new b(0,0,0));this.ld=new b(0,0,0);this.Re=new b(0,0,0);this.jd=
new d(new b(0,0,0),new b(0,0,0));this.Cd=new d(new b(0,0,0),new b(0,0,0));this.yf=new b(0,0,0);this.wc=new d(new b(0,0,0),new b(0,0,0));this.Ha=new d(new b(0,0,0),new b(0,0,0));this.Rc=new b(0,0,0);this.Yd=new b(0,0,0);this.Ic=new d(new b(0,0,0),new b(0,0,0));this.hd=new d(new b(0,0,0),new b(0,0,0));this.oe=new b(0,0,0)};a.prototype.Dk=function(a,g,b){var f=this.La[a];this.te=a;this.ed.set(this.wc);this.Sb.set(this.Ha);this.ld.set(this.Rc);this.Re.set(this.Yd);this.Cd.set(this.hd);this.jd.set(this.Ic);
this.yf.set(this.oe);this.wc.set(f.za);this.Ha.set(f.wa);this.Rc.set(f.Ra);this.Yd.set(f.Te);this.hd.set(f.Fb);this.Ic.set(f.Ua);this.oe.set(f.ah);this.Xi=g;this.Nv=f.xy(this.Dc);this.rc=f.Af;this.de=f.Bf;this.ln||(this.$e=f.yq);this.hg?(this.gg=-16777216|(this.rc&255)<<16|(this.rc>>8&255)<<8|this.rc>>16,this.fg=-16777216|(this.de&255)<<16|(this.de>>8&255)<<8|this.de>>16):(this.gg=this.rc>>16<<24|(this.rc>>8&255)<<16|(this.rc&255)<<8|255,this.fg=this.de>>16<<24|(this.de>>8&255)<<16|(this.de&255)<<
8|255);b.ut()};a.prototype.wx=function(){var a;var g=this.cn;var b=this.pc;var d=this.cb;var e=this.Uh;var c=this.$d;g[0]=0;g[b+1]=d;for(a=1;a<b+1;a+=1)g[a]=Math.min(Math.max(a-1,e),c),g[a+b+1]=Math.max(Math.min(a+1,b),d);if(0===this.ba)for(a=this.cb;a<=this.pc;a+=1)g[a]=0;else this.ba<this.$d&&(g[this.$d-this.ba]=0)};a.prototype.zz=function(){var a;for(a=0;a<this.La.length;a+=1){var g=this.La[a];if(g.dk)if(2>=this.g)g.Ua.D.set(g.Te);else{var b=1/(this.g-2);g.Ua.D.red=g.Ua.B.red*b+g.Te.red*(1-b)|
0;g.Ua.D.green=g.Ua.B.green*b+g.Te.green*(1-b)|0;g.Ua.D.blue=g.Ua.B.blue*b+g.Te.blue*(1-b)|0}}};a.prototype.At=function(){var a=(this.Xi-1)/this.Yi;if(!this.Hb)if(2<this.g){var g=0;this.Qa[g]=this.yf.red*a+this.oe.red*(1-a);this.Pa[g]=this.yf.green*a+this.oe.green*(1-a);this.Ma[g]=this.yf.blue*a+this.oe.blue*(1-a);for(g=1;g<this.g-1;g+=1){var b=3>=this.g?0:(g-1)/(this.g-3);var d=this.jd.D.red*b+this.jd.B.red*(1-b);var e=this.Ic.D.red*b+this.Ic.B.red*(1-b);this.Qa[g+this.ba]=d*a+e*(1-a);d=this.jd.D.green*
b+this.jd.B.green*(1-b);e=this.Ic.D.green*b+this.Ic.B.green*(1-b);this.Pa[g+this.ba]=d*a+e*(1-a);d=this.jd.D.blue*b+this.jd.B.blue*(1-b);e=this.Ic.D.blue*b+this.Ic.B.blue*(1-b);this.Ma[g+this.ba]=d*a+e*(1-a);this.rb.length>=g&&(b=this.sa?this.rb[g]:this.rb[this.g-g],-1!==b&&(this.Qa[g+this.ba]=b>>16,this.Pa[g+this.ba]=b>>8&255,this.Ma[g+this.ba]=b&255))}g=this.g-1;this.Qa[g+this.ba]=this.Re.red*a+this.Yd.red*(1-a);this.Pa[g+this.ba]=this.Re.green*a+this.Yd.green*(1-a);this.Ma[g+this.ba]=this.Re.blue*
a+this.Yd.blue*(1-a);this.rb.length>=g&&(b=this.sa?this.rb[g]:this.rb[this.g-g],-1!==b&&(this.Qa[g+this.ba]=b>>16,this.Pa[g+this.ba]=b>>8&255,this.Ma[g+this.ba]=b&255));for(g=0;g<this.ba;g+=1)b=1<this.ba?1-g/(this.ba-1):1,d=this.Cd.B.red*b+this.Cd.D.red*(1-b),e=this.hd.B.red*b+this.hd.D.red*(1-b),this.Qa[g+1]=d*a+e*(1-a),d=this.Cd.B.green*b+this.Cd.D.green*(1-b),e=this.hd.B.green*b+this.hd.D.green*(1-b),this.Pa[g+1]=d*a+e*(1-a),d=this.Cd.B.blue*b+this.Cd.D.blue*(1-b),e=this.hd.B.blue*b+this.hd.D.blue*
(1-b),this.Ma[g+1]=d*a+e*(1-a);0<this.rb.length&&(b=this.rb[0],-1!==b&&(this.Qa[0]=b>>16,this.Pa[0]=b>>8&255,this.Ma[0]=b&255))}else{g=0;this.Qa[g]=this.ld.red*a+this.Rc.red*(1-a);this.Pa[g]=this.ld.green*a+this.Rc.green*(1-a);this.Ma[g]=this.ld.blue*a+this.Rc.blue*(1-a);if(0===this.ba)for(g=1;g<=this.$d;g+=1)this.Qa[g]=this.ld.red*a+this.Rc.red*(1-a),this.Pa[g]=this.ld.green*a+this.Rc.green*(1-a),this.Ma[g]=this.ld.blue*a+this.Rc.blue*(1-a);else{var c=this.$d-this.ba+1;for(g=1;g<c;g+=1)this.Qa[g]=
this.Sb.B.red*a+this.Ha.B.red*(1-a),this.Pa[g]=this.Sb.B.green*a+this.Ha.B.green*(1-a),this.Ma[g]=this.Sb.B.blue*a+this.Ha.B.blue*(1-a);for(g=c;g<=this.$d;g+=1)b=this.$d===c?1:1-(g-c)/(this.$d-c),d=this.Sb.B.red*b+this.Sb.D.red*(1-b),e=this.Ha.B.red*b+this.Ha.D.red*(1-b),this.Qa[g]=d*a+e*(1-a),d=this.Sb.B.green*b+this.Sb.D.green*(1-b),e=this.Ha.B.green*b+this.Ha.D.green*(1-b),this.Pa[g]=d*a+e*(1-a),d=this.Sb.B.blue*b+this.Sb.D.blue*(1-b),e=this.Ha.B.blue*b+this.Ha.D.blue*(1-b),this.Ma[g]=d*a+e*(1-
a)}for(g=this.cb;g<=this.pc;g+=1)b=1-(g-this.cb)/(this.pc-this.cb),d=this.ed.B.red*b+this.ed.D.red*(1-b),e=this.wc.B.red*b+this.wc.D.red*(1-b),this.Qa[g]=d*a+e*(1-a),d=this.ed.B.green*b+this.ed.D.green*(1-b),e=this.wc.B.green*b+this.wc.D.green*(1-b),this.Pa[g]=d*a+e*(1-a),d=this.ed.B.blue*b+this.ed.D.blue*(1-b),e=this.wc.B.blue*b+this.wc.D.blue*(1-b),this.Ma[g]=d*a+e*(1-a)}};a.prototype.Bt=function(a,g){var f=this.Qa,b=this.Pa,d=this.Ma,e,c=g.length;for(e=0;e<a.length;e+=1){var k=e>=c||-1===g[e]?
a[e]:g[e];f[e]=k>>16;b[e]=k>>8&255;d[e]=k&255}this.Xi=0};a.prototype.yx=function(a,g){var f=this.Qa,b=this.Pa,d=this.Ma,e=ViewConstants.hb,c=g.length,k;for(k=0;k<a.length;k+=1)k>=c||-1===g[k]?(f[128+e[k]]=a[k]>>16,b[128+e[k]]=a[k]>>8&255,d[128+e[k]]=a[k]&255):(f[128+e[k]]=g[k]>>16,b[128+e[k]]=g[k]>>8&255,d[128+e[k]]=g[k]&255)};a.prototype.Vc=function(a){var g=this.Qa,f=this.Pa,b=this.Ma,d=this.Nf,e=this.rc,c=this.de,k=this.eg,w=this.S&&this.Ne||this.ca,h;if(2<this.g){if(this.hg)for(h=0;h<=this.g+
this.ba;h+=1)d[h]=-16777216|b[h]<<16|f[h]<<8|g[h],w&&(k[h]="#"+(16777216+((g[h]<<16)+(f[h]<<8)+b[h])).toString(16).substr(1))}else if(this.hg){for(h=0;h<this.cb;h+=1)d[h]=-16777216|b[h]<<16|f[h]<<8|g[h],w&&(k[h]="#"+(16777216+((g[h]<<16)+(f[h]<<8)+b[h])).toString(16).substr(1));for(h=this.cb;h<=this.pc;h+=1)d[h]=-16777216|b[h]*a<<16|f[h]*a<<8|g[h]*a,w&&(k[h]="#"+(16777216+((g[h]<<16)+(f[h]<<8)+b[h])).toString(16).substr(1));for(h=this.pc+1;256>h;h+=1)d[h]=-16777216|b[h]*a<<16|f[h]*a<<8|g[h]*a,w&&
(k[h]="#"+(16777216+((g[h]<<16)+(f[h]<<8)+b[h])).toString(16).substr(1))}else{for(h=0;h<this.cb;h+=1)d[h]=g[h]<<24|f[h]<<16|b[h]<<8|255,w&&(k[h]="#"+(16777216+((g[h]<<16)+(f[h]<<8)+b[h])).toString(16).substr(1));for(h=this.cb;h<=this.pc;h+=1)d[h]=g[h]*a<<24|f[h]*a<<16|b[h]*a<<8|255,w&&(k[h]="#"+(16777216+((g[h]<<16)+(f[h]<<8)+b[h])).toString(16).substr(1));for(h=this.pc+1;256>h;h+=1)d[h]=g[h]*a<<24|f[h]*a<<16|b[h]*a<<8|255,w&&(k[h]="#"+(16777216+((g[h]<<16)+(f[h]<<8)+b[h])).toString(16).substr(1))}this.hg?
(this.gg=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.fg=-16777216|(c&255)<<16|(c>>8&255)<<8|c>>16):(this.gg=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255,this.fg=c>>16<<24|(c>>8&255)<<16|(c&255)<<8|255);-1!==this.ka&&(h=this.xc,d[h]=this.hg?-16777216|b[h]*a<<16|f[h]*a<<8|g[h]*a:g[h]*a<<24|f[h]*a<<16|b[h]*a<<8|255,w&&(k[h]="#"+(16777216+((g[h]<<16)+(f[h]<<8)+b[h])).toString(16).substr(1)))};a.prototype.jA=function(){var a=this.Qa,g=this.Pa,b=this.Ma;this.xc=-1!==this.ka&&256===this.g+this.ba?2:255;-1!==
this.ka&&256>this.g+this.ba&&(a[this.xc]=128,g[this.xc]=128,b[this.xc]=128)};a.prototype.tt=function(a){var g=this.height,f=this.qc,b=this.Zb,d=this.ta,e=this.J,c=this.kc,k=this.fa,w=this.qa,h=this.eb,m=this.Xa,q=this.Ja,A=this.ua,y=this.Cb,v=this.cg,t;for(t=0;t<g;t+=1)f[t].set(A),b[t].set(A),a||(d[t].set(v),e[t].set(v),c&&(c[t].set(v),k[t].set(v)));g=this.i;for(t=0;t<g;t+=1)w[t].set(y),q[t].set(y),a||(h[t].set(y),m[t].set(y))};a.prototype.Pj=function(a,g){var f=e.bu,b;for(b=0;b<f;b+=1)a[b]=g[b]};
a.prototype.Dh=function(a,g){var f=e.Bq,b;for(b=0;b<f;b+=1){var d=g[b>>9&448|b>>6&56|b>>3&7]<<3;d|=g[b>>8&448|b>>5&56|b>>2&7]<<2;d|=g[b>>7&448|b>>4&56|b>>1&7]<<1;d|=g[b>>6&448|b>>3&56|b&7];a[b]=d}};a.prototype.OA=function(){var a,g=this.ca?PatternManager.Kr:PatternManager.Ak,b=this.ca?PatternManager.Gr:PatternManager.Fr,d=PatternManager.gh,c=this.ca?e.bu:e.yy,G=!1;if(this.ca)this.Pj(this.Lh,g),this.Pj(this.Kh,b);else{if(-1===this.Pe&&g[0]){if(!g[c-1]){for(a=0;a<c/2;a+=1){var r=g[a];g[a]=g[c-a-1];
g[c-a-1]=r}G=!0;this.Dh(this.kg,g)}for(a=0;a<c/2;a+=1)r=g[a],g[a]=1-g[c-a-1],g[c-a-1]=1-r}d?(this.Dh(this.kg,g),this.Dh(this.jg,b)):(this.Dh(this.jg,g),G||this.kg.set(this.jg))}};a.prototype.mg=function(a){var g=0;0!==(a&32768)?g=0:0!==(a&16384)?g=1:0!==(a&8192)?g=2:0!==(a&4096)?g=3:0!==(a&2048)?g=4:0!==(a&1024)?g=5:0!==(a&512)?g=6:0!==(a&256)?g=7:0!==(a&128)?g=8:0!==(a&64)?g=9:0!==(a&32)?g=10:0!==(a&16)?g=11:0!==(a&8)?g=12:0!==(a&4)?g=13:0!==(a&2)?g=14:0!==(a&1)&&(g=15);return g};a.prototype.vg=
function(a){var g=0;0!==(a&1)?g=15:0!==(a&2)?g=14:0!==(a&4)?g=13:0!==(a&8)?g=12:0!==(a&16)?g=11:0!==(a&32)?g=10:0!==(a&64)?g=9:0!==(a&128)?g=8:0!==(a&256)?g=7:0!==(a&512)?g=6:0!==(a&1024)?g=5:0!==(a&2048)?g=4:0!==(a&4096)?g=3:0!==(a&8192)?g=2:0!==(a&16384)&&(g=1);return g};a.prototype.Wk=function(a){var g=this.kc,f=this.qa,b=this.width,d=this.height,e,c=this.C.L,k=this.C.K,w=this.C.N,h=this.C.O,m,q;for(m=0;m<d;m+=1){var A=g[m];var y=f[m>>4];for(q=e=0;q<b;q+=1)0!==A[q]&&(y[q>>8]|=1<<(~(q>>4)&15),e|=
A[q],q<w&&(w=q),q>h&&(h=q));e&&(m<k&&(k=m),m>c&&(c=m))}a||(this.C.L=c,this.C.K=k,this.C.N=w,this.C.O=h)};a.prototype.qp=function(){var a,g,b,d=this.sb,c=this.Ja,G=this.qa,r,k=this.i,w=this.f>>4,h=this.Cb;var m=0;var q=m+16;for(g=0;g<k;g+=1)G[g].set(h);for(g=0;g<k;g+=1){var A=0;var y=c[g];var v=G[g];var t=0<g?G[g-1]:h;var F=g<k-1?G[g+1]:h;y[0]&=32767;y[w-1]&=65534;for(b=0;b<w;b+=1)if(r=y[b]){var p=v[b];var u=t[b];var n=F[b];for(a=15;0<=a;--a){if(0!==(r&1<<a)){var I=!1;var D=0;var B=m;var z=d[B];if(z=
z[A])I=!0,0!==(z&32768)&&(D|=e.Nd,D|=e.qe),0!==(z&1)&&(D|=e.Rd,D|=e.re),D|=e.Gd;for(B+=1;B<q-1;){z=d[B];if(z=z[A])I=!0,0!==(z&32768)&&(D|=e.Nd),0!==(z&1)&&(D|=e.Rd);B+=1}z=d[B];if(z=z[A])I=!0,0!==(z&32768)&&(D|=e.Nd,D|=e.Le),0!==(z&1)&&(D|=e.Rd,D|=e.Me),D|=e.Ud;I&&(p|=1<<a,D&&(0!==(D&e.Nd)&&(15>a?p|=1<<a+1:0<b&&(v[b-1]|=1)),0!==(D&e.Rd)&&(0<a?p|=1<<a-1:b<w-1&&(v[b+1]|=32768)),0!==(D&e.Gd)&&(u|=1<<a),0!==(D&e.Ud)&&(n|=1<<a),0!==(D&e.qe)&&(15>a?u|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(D&e.re)&&(0<a?u|=1<<a-
1:b<w-1&&(t[b+1]|=32768)),0!==(D&e.Le)&&(15>a?n|=1<<a+1:0<b&&(F[b-1]|=1)),0!==(D&e.Me)&&(0<a?n|=1<<a-1:b<w-1&&(F[b+1]|=32768))))}A+=1}v[b]|=p;0<g&&(t[b]|=u);g<k-1&&(F[b]|=n)}else A+=16;m+=16;q+=16}for(g=0;g<h.length;g+=1)h[g]=0};a.prototype.rp=function(){var a,g,b,d=this.sb,c=this.Ja,G=this.ta,r=this.qa,k,w=this.i,h=this.f>>4,m=this.Cb;var q=0;var A=q+16;for(g=0;g<w;g+=1)r[g].set(m);for(g=0;g<w;g+=1){var y=0;var v=c[g];var t=r[g];var F=0<g?r[g-1]:m;var p=g<w-1?r[g+1]:m;v[0]&=32767;v[h-1]&=65534;for(b=
0;b<h;b+=1)if(k=v[b]){var u=t[b];var n=F[b];var I=p[b];for(a=15;0<=a;--a){if(0!==(k&1<<a)){var D=!1;var B=0;var z=q;var C=d[z];var x=G[z];C=C[y];var J=y<<4;0<x[J]&&(C|=32768);J+=1;0<x[J]&&(C|=16384);J+=1;0<x[J]&&(C|=8192);J+=1;0<x[J]&&(C|=4096);J+=1;0<x[J]&&(C|=2048);J+=1;0<x[J]&&(C|=1024);J+=1;0<x[J]&&(C|=512);J+=1;0<x[J]&&(C|=256);J+=1;0<x[J]&&(C|=128);J+=1;0<x[J]&&(C|=64);J+=1;0<x[J]&&(C|=32);J+=1;0<x[J]&&(C|=16);J+=1;0<x[J]&&(C|=8);J+=1;0<x[J]&&(C|=4);J+=1;0<x[J]&&(C|=2);J+=1;0<x[J]&&(C|=1);C&&
(D=!0,0!==(C&32768)&&(B|=e.Nd,B|=e.qe),0!==(C&1)&&(B|=e.Rd,B|=e.re),B|=e.Gd);for(z+=1;z<A-1;)C=d[z],x=G[z],C=C[y],J=y<<4,0<x[J]&&(C|=32768),J+=1,0<x[J]&&(C|=16384),J+=1,0<x[J]&&(C|=8192),J+=1,0<x[J]&&(C|=4096),J+=1,0<x[J]&&(C|=2048),J+=1,0<x[J]&&(C|=1024),J+=1,0<x[J]&&(C|=512),J+=1,0<x[J]&&(C|=256),J+=1,0<x[J]&&(C|=128),J+=1,0<x[J]&&(C|=64),J+=1,0<x[J]&&(C|=32),J+=1,0<x[J]&&(C|=16),J+=1,0<x[J]&&(C|=8),J+=1,0<x[J]&&(C|=4),J+=1,0<x[J]&&(C|=2),J+=1,0<x[J]&&(C|=1),C&&(D=!0,0!==(C&32768)&&(B|=e.Nd),0!==
(C&1)&&(B|=e.Rd)),z+=1;C=d[z];x=G[z];C=C[y];J=y<<4;0<x[J]&&(C|=32768);J+=1;0<x[J]&&(C|=16384);J+=1;0<x[J]&&(C|=8192);J+=1;0<x[J]&&(C|=4096);J+=1;0<x[J]&&(C|=2048);J+=1;0<x[J]&&(C|=1024);J+=1;0<x[J]&&(C|=512);J+=1;0<x[J]&&(C|=256);J+=1;0<x[J]&&(C|=128);J+=1;0<x[J]&&(C|=64);J+=1;0<x[J]&&(C|=32);J+=1;0<x[J]&&(C|=16);J+=1;0<x[J]&&(C|=8);J+=1;0<x[J]&&(C|=4);J+=1;0<x[J]&&(C|=2);J+=1;0<x[J]&&(C|=1);C&&(D=!0,0!==(C&32768)&&(B|=e.Nd,B|=e.Le),0!==(C&1)&&(B|=e.Rd,B|=e.Me),B|=e.Ud);D&&(u|=1<<a,B&&(0!==(B&e.Nd)&&
(15>a?u|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(B&e.Rd)&&(0<a?u|=1<<a-1:b<h-1&&(t[b+1]|=32768)),0!==(B&e.Gd)&&(n|=1<<a),0!==(B&e.Ud)&&(I|=1<<a),0!==(B&e.qe)&&(15>a?n|=1<<a+1:0<b&&(F[b-1]|=1)),0!==(B&e.re)&&(0<a?n|=1<<a-1:b<h-1&&(F[b+1]|=32768)),0!==(B&e.Le)&&(15>a?I|=1<<a+1:0<b&&(p[b-1]|=1)),0!==(B&e.Me)&&(0<a?I|=1<<a-1:b<h-1&&(p[b+1]|=32768))))}y+=1}t[b]|=u;0<g&&(F[b]|=n);g<w-1&&(p[b]|=I)}else y+=16;q+=16;A+=16}for(g=0;g<m.length;g+=1)m[g]=0};a.prototype.pp=function(a,g){var f,b=this.C.N,d=this.C.O,e=this.C.L,
c=this.C.K,k=this.ta,w,h=2>=this.g?this.cb:this.ba+1,m;if(a===b)for(m=!1;a<=d&&!m;){for(f=c;f<=e&&!m;)k[f][a]>=h?m=!0:f+=1;m?(this.C.N=a,this.sa&&a>this.ea.N&&(this.ea.N=a)):a+=1}else if(a===d)for(m=!1;a>=b&&!m;){f=c;for(w=k[f];f<=e&&!m;)w[a]>=h?m=!0:f+=1;m?(this.C.O=a,this.sa&&a<this.ea.O&&(this.ea.O=a)):--a}if(g===c)for(f=g,m=!1;f<=e&&!m;){a=b;for(w=k[f];a<=d&&!m;)w[a]>=h?m=!0:a+=1;m?(this.C.K=f,this.sa&&f>this.ea.K&&(this.ea.K=f)):f+=1}else if(g===e)for(f=g,m=!1;f>=c&&!m;){for(a=b;a<=d&&!m;)k[f][a]>=
h?m=!0:a+=1;m?(this.C.L=f,this.sa&&f<this.ea.L&&(this.ea.L=f)):--f}};a.prototype.Oz=function(a){var g,f,b=this.width>>4,d=this.height,e=this.width,c=this.sb,k=this.kc;var w=this.ta;var h=this.C,m=this.ea,q=this.Ld,A=this.height,y=-1,v=this.width,t=-1,F=this.height,p=-1,u=this.width,n=-1,I,D=this.ne,B=this.i,z=this.qa,C=this.Ja,x=this.eb,J=this.Xa,L=this.Cb;if(k&&!a)for(f=0;f<d;f+=1){var K=k[f];for(g=I=0;g<e;g+=1){var S=K[g];I|=S;S&&(g<u&&(u=g),g>n&&(n=g))}I&&(f<F&&(F=f),f>p&&(p=f))}for(f=0;f<D.length;f+=
1)D[f]=0;for(f=0;f<B;f+=1)C[f].set(L);if(-1!==this.g)for(f=0;f<d;f+=1){b=w[f];for(g=I=0;g<e;g+=1)S=b[g],I|=S,S&&(g<v&&(v=g),g>t&&(t=g));I&&(f<A&&(A=f),f>y&&(y=f))}else{for(f=0;f<d;f+=1){w=c[f];for(g=I=0;g<b;g+=1)S=w[g],I|=S,D[g]|=S;I&&(f<A&&(A=f),f>y&&(y=f))}for(g=0;g<b;g+=1)D[g]&&(g<v&&(v=g),g>t&&(t=g));v=(v<<4)+this.mg(D[v]);t=(t<<4)+this.vg(D[t])}if(0>y||A>=d||v>=e||0>t)A=y=d>>1,t=v=e>>1;k&&!a&&(p<y&&(y=p),F>A&&(A=F),u<v&&(v=u),n>t&&(t=n));y>this.height-1&&(y=this.height-1);0>A&&(A=0);0>v&&(v=
0);t>this.width-1&&(t=this.width-1);h.L=y;h.K=A;h.N=v;h.O=t;m.L=y;m.K=A;m.N=v;m.O=t;q.L=y;q.K=A;q.N=v;q.O=t;0<v&&--v;0<A&&--A;t<this.width-1&&(t+=1);y<this.height-1&&(y+=1);S=y>>4;v>>=8;t>>=8;for(f=A>>4;f<=S;f+=1)for(A=C[f],g=v;g<=t;g+=1)A[g]=-1;-1!==this.g?this.rp():this.qp();k&&(this.Wk(a),q.L=h.L,q.K=h.K,q.N=h.N,q.O=h.O);Array.Tf(z,C);Array.Tf(z,x);Array.Tf(z,J)};a.prototype.Rk=function(a){var g=Math.round((this.width-this.la)/2),f=Math.round((this.height-this.na)/2),b=g+this.la-1,d=f+this.na-
1,e=b+a>>4,c=g-a>>4,k=b+a>>4,w=~(1<<(~(g-a)&15)),h=~(1<<(~(b+a)&15)),m,q=this.me,A=0;var y=0!==(this.s&1)?this.X:this.sb;var v=y[d+a];var t=y[f-a];if(0===this.la)for(e=this.width>>4,m=0;m<e;m+=1)A+=q[t[m]],t[m]=0,A+=q[v[m]],v[m]=0;else if(0===this.na)for(f=0,d=this.height,e=0;e<d;e+=1)v=y[e],v[c]&~w&&(A+=1),v[c]&=w,v[k]&~h&&(A+=1),v[k]&=h;else{for(m=g-a>>4;m<=e;m+=1)A+=q[t[m]],t[m]=0,A+=q[v[m]],v[m]=0;for(e=f-a+1;e<=d+a-1;e+=1)v=y[e],v[c]&~w&&(A+=1),v[c]&=w,v[k]&~h&&(A+=1),v[k]&=h}this.Aa-=A;if(-1!==
this.g)if(y=this.ta,g-=a,b+=a,d+=a,f-=a,v=y[d],t=y[f],0===this.la)for(m=0;m<this.width;m+=1)t[m]=0,v[m]=0;else if(0===this.na)for(e=0;e<this.height;e+=1)y[e][g]=0,y[e][b]=0;else{for(m=g;m<=b;m+=1)t[m]=0,v[m]=0;for(e=f+1;e<=d-1;e+=1)y[e][g]=0,y[e][b]=0}};a.prototype.Hn=function(){var a,g=e.qy,b=this.al;for(a=0;3>=a;a+=1){var d=g[a];var c=d[0];var G=d[1];d=d[2];b[a]=c[0]<<3|c[1]<<2|c[2]<<1|G[0]<<8|G[1]<<7|G[2]<<6|d[0]<<13|d[1]<<12|d[2]<<11;b[a+4]=c[2]<<3|c[1]<<2|c[0]<<1|G[2]<<8|G[1]<<7|G[0]<<6|d[2]<<
13|d[1]<<12|d[0]<<11;b[11-a]=b[a];b[15-a]=b[a+4]}};a.prototype.Pr=function(){var a=this.la;var g=this.na;var b=Math.round((this.width-a)/2-1)>>4,d=Math.round((this.width+a)/2)>>4;var e=Math.round((this.height-g)/2-1)>>4;var c=Math.round((this.height+g)/2)>>4;0===g&&(e=0,c=(this.height>>4)-1);0===a&&(b=0,d=(this.width>>4)-1);0>b&&(b=0);0>e&&(e=0);d>=this.width>>4&&(d=(this.width>>4)-1);c>=this.height>>4&&(c=(this.height>>4)-1);for(g=b;g<=d;g+=1)a=1<<(~g&15),this.qa[e][g>>4]|=a,this.Ja[e][g>>4]|=a,
this.eb[e][g>>4]|=a,this.Xa[e][g>>4]|=a,this.qa[c][g>>4]|=a,this.Ja[c][g>>4]|=a,this.eb[c][g>>4]|=a,this.Xa[c][g>>4]|=a;for(;e<=c;e+=1)a=1<<(~b&15),this.qa[e][b>>4]|=a,this.Ja[e][b>>4]|=a,this.eb[e][b>>4]|=a,this.Xa[e][b>>4]|=a,a=1<<(~d&15),this.qa[e][d>>4]|=a,this.Ja[e][d>>4]|=a,this.eb[e][d>>4]|=a,this.Xa[e][d>>4]|=a};a.prototype.Br=function(){var a=this.eb,g=this.la,b=this.na,d=Math.round((this.width-g)/2),e=Math.round((this.height-b)/2),c=d+g-1,r=e+b-1,k=this.jl,w=this.kl,h=this.ca&&0<d&&c<this.width-
1,m;if(0!==(this.s&1)){var q=this.X;var A=this.Ja}else q=this.sb,A=this.qa;0===this.la&&(d=0,c=this.width-1,g=this.width);0===this.na&&(e=0,r=this.height-1,b=this.height);if(0!==this.na)for(m=0;m<g;m+=1){var y=d+m;var v=d+(m+k+g)%g;0!==(q[r][y>>4]&1<<(~y&15))&&(q[e-1][v>>4]|=1<<(~v&15),A[e-1>>4][v>>8]|=1<<(~(v>>4)&15),a[e-1>>4][v>>8]|=1<<(~(v>>4)&15),15===(e-1&15)&&(A[(e-1>>4)+1][v>>8]|=1<<(~(v>>4)&15),a[(e-1>>4)+1][v>>8]|=1<<(~(v>>4)&15)));v=d+(m-k+g)%g;0!==(q[e][y>>4]&1<<(~y&15))&&(q[r+1][v>>4]|=
1<<(~v&15),A[r+1>>4][v>>8]|=1<<(~(v>>4)&15),a[r+1>>4][v>>8]|=1<<(~(v>>4)&15),0===(r+1&15)&&(A[(r+1>>4)-1][v>>8]|=1<<(~(v>>4)&15),a[(r+1>>4)-1][v>>8]|=1<<(~(v>>4)&15)))}if(0!==this.la)for(m=0;m<b;m+=1)y=e+m,v=e+(m-w+b)%b,0!==(q[y][d>>4]&1<<(~d&15))&&(q[v][c+1>>4]|=1<<(~(c+1)&15),A[v>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[v>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(A[v>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[v>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),h&&(d+=1,c+=1,0!==(q[y][d>>4]&1<<(~d&15))&&(q[v][c+1>>4]|=1<<
(~(c+1)&15),A[v>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[v>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(A[v>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[v>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),--d,--c),v=e+(m+w+b)%b,0!==(q[y][c>>4]&1<<(~c&15))&&(q[v][d-1>>4]|=1<<(~(d-1)&15),A[v>>4][d-1>>8]|=1<<(~(d-1>>4)&15),a[v>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(A[v>>4][d+15>>8]|=1<<(~(d+15>>4)&15),a[v>>4][d+15>>8]|=1<<(~(d+15>>4)&15))),h&&(--d,--c,0!==(q[y][c>>4]&1<<(~c&15))&&(q[v][d-1>>4]|=1<<(~(d-1)&15),A[v>>4][d-1>>
8]|=1<<(~(d-1>>4)&15),a[v>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(A[v>>4][d+15>>8]|=1<<(~(d+15>>4)&15),a[v>>4][d+15>>8]|=1<<(~(d+15>>4)&15))),d+=1,c+=1);0!==this.la&&0!==this.na&&(y=d+(-k+g)%g,q[e-1][c+1>>4]=0!==(q[e+(b-1+w+b)%b][y>>4]&1<<(~y&15))?q[e-1][c+1>>4]|1<<(~(c+1)&15):q[e-1][c+1>>4]&~(1<<(~(c+1)&15)),y=d+(g-1-k+g)%g,q[e-1][d-1>>4]=0!==(q[e+(b-1-w+b)%b][y>>4]&1<<(~y&15))?q[e-1][d-1>>4]|1<<(~(d-1)&15):q[e-1][d-1>>4]&~(1<<(~(d-1)&15)),y=d+(k+g)%g,q[r+1][c+1>>4]=0!==(q[e+(w+b)%b][y>>4]&
1<<(~y&15))?q[r+1][c+1>>4]|1<<(~(c+1)&15):q[r+1][c+1>>4]&~(1<<(~(c+1)&15)),y=d+(g-1+k+g)%g,q[r+1][d-1>>4]=0!==(q[e+(-w+b)%b][y>>4]&1<<(~y&15))?q[r+1][d-1>>4]|1<<(~(d-1)&15):q[r+1][d-1>>4]&~(1<<(~(d-1)&15)))};a.prototype.zo=function(){var a=this.eb,g=this.la,b=this.na,d=Math.round((this.width-g)/2),e=Math.round((this.height-b)/2),c=d+g-1,r=e+b-1,k=this.jl,w=this.kl,h=this.Rp,m=this.ot,q;if(0!==(this.s&1)){var A=this.X;var y=this.Ja}else A=this.sb,y=this.qa;for(q=0;q<g;q+=1){var v=d+q;var t=h?c-(q+
k+g)%g:d+(q+k+g)%g;0!==(A[r][v>>4]&1<<(~v&15))&&(A[e-1][t>>4]|=1<<(~t&15),y[e-1>>4][t>>8]|=1<<(~(t>>4)&15),a[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(y[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=h?c-(q-k+g)%g:d+(q-k+g)%g;0!==(A[e][v>>4]&1<<(~v&15))&&(A[r+1][t>>4]|=1<<(~t&15),y[r+1>>4][t>>8]|=1<<(~(t>>4)&15),a[r+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(r+1&15)&&(y[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(q=0;q<b;q+=1)v=e+q,t=m?r-
(q-w+b)%b:e+(q-w+b)%b,0!==(A[v][d>>4]&1<<(~d&15))&&(A[t][c+1>>4]|=1<<(~(c+1)&15),y[t>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[t>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(y[t>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[t>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),t=m?r-(q+w+b)%b:e+(q+w+b)%b,0!==(A[v][c>>4]&1<<(~c&15))&&(A[t][d-1>>4]|=1<<(~(d-1)&15),y[t>>4][d-1>>8]|=1<<(~(d-1>>4)&15),a[t>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(y[t>>4][d+15>>8]|=1<<(~(d+15>>4)&15),a[t>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));v=h?c-(-k+
g)%g:d+(-k+g)%g;0!==(A[m?r-(b-1+w+b)%b:e+(b-1+w+b)%b][v>>4]&1<<(~v&15))&&(A[e-1][c+1>>4]|=1<<(~(c+1)&15));v=h?c-(g-1-k+g)%g:d+(g-1-k+g)%g;0!==(A[m?r-(b-1+w+b)%b:e+(b-1+w+b)%b][v>>4]&1<<(~v&15))&&(A[e-1][d-1>>4]|=1<<(~(d-1)&15));v=h?c-(k+g)%g:d+(k+g)%g;0!==(A[m?r-(w+b)%b:e+(w+b)%b][v>>4]&1<<(~v&15))&&(A[r+1][c+1>>4]|=1<<(~(c+1)&15));v=h?c-(g-1+k+g)%g:d+(g-1+k+g)%g;0!==(A[m?r-(w+b)%b:e+(w+b)%b][v>>4]&1<<(~v&15))&&(A[r+1][d-1>>4]|=1<<(~(d-1)&15))};a.prototype.uo=function(){var a=this.eb,g=Math.round((this.width-
this.la)/2),b=Math.round((this.height-this.na)/2),d=g+this.la-1,e=b+this.na-1,c;if(0!==(this.s&1)){var r=this.X;var k=this.Ja}else r=this.sb,k=this.qa;for(c=0;c<this.la;c+=1){var w=g+c;var h=d-c;0!==(r[e][w>>4]&1<<(~w&15))&&(r[b-1][h>>4]|=1<<(~h&15),k[b-1>>4][h>>8]|=1<<(~(h>>4)&15),a[b-1>>4][h>>8]|=1<<(~(h>>4)&15),15===(b-1&15)&&(k[(b-1>>4)+1][h>>8]|=1<<(~(h>>4)&15),a[(b-1>>4)+1][h>>8]|=1<<(~(h>>4)&15)));0!==(r[b][w>>4]&1<<(~w&15))&&(r[e+1][h>>4]|=1<<(~h&15),k[e+1>>4][h>>8]|=1<<(~(h>>4)&15),a[e+1>>
4][h>>8]|=1<<(~(h>>4)&15),0===(e+1&15)&&(k[(e+1>>4)-1][h>>8]|=1<<(~(h>>4)&15),a[(e+1>>4)-1][h>>8]|=1<<(~(h>>4)&15)))}for(c=0;c<=this.na;c+=1)w=b+c,h=e-c,0!==(r[w][g>>4]&1<<(~g&15))&&(r[h][d+1>>4]|=1<<(~(d+1)&15),k[h>>4][d+1>>8]|=1<<(~(d+1>>4)&15),a[h>>4][d+1>>8]|=1<<(~(d+1>>4)&15),0===(d+1&15)&&(k[h>>4][d-15>>8]|=1<<(~(d-15>>4)&15),a[h>>4][d-15>>8]|=1<<(~(d-15>>4)&15))),0!==(r[w][d>>4]&1<<(~d&15))&&(r[h][g-1>>4]|=1<<(~(g-1)&15),k[h>>4][g-1>>8]|=1<<(~(g-1>>4)&15),a[h>>4][g-1>>8]|=1<<(~(g-1>>4)&15),
15===(g-1&15)&&(k[h>>4][g+15>>8]|=1<<(~(g+15>>4)&15),a[h>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));0!==(r[e][g>>4]&1<<(~g&15))&&(r[e+1][g-1>>4]|=1<<(~(g-1)&15));0!==(r[e][d>>4]&1<<(~d&15))&&(r[e+1][d+1>>4]|=1<<(~(d+1)&15));0!==(r[b][g>>4]&1<<(~g&15))&&(r[b-1][g-1>>4]|=1<<(~(g-1)&15));0!==(r[b][d>>4]&1<<(~d&15))&&(r[b-1][d+1>>4]|=1<<(~(d+1)&15))};a.prototype.zr=function(){var a=this.eb,g=Math.round((this.width-this.la)/2),b=Math.round((this.height-this.na)/2),d=g+this.la-1,e=b+this.la-1,c;if(0!==(this.s&
1)){var r=this.X;var k=this.Ja}else r=this.sb,k=this.qa;for(c=0;c<this.la;c+=1){var w=b+c;var h=g+c;0!==(r[w][g>>4]&1<<(~g&15))&&(r[b-1][h>>4]|=1<<(~h&15),k[b-1>>4][h>>8]|=1<<(~(h>>4)&15),a[b-1>>4][h>>8]|=1<<(~(h>>4)&15),15===(b-1&15)&&(k[(b-1>>4)+1][h>>8]|=1<<(~(h>>4)&15),a[(b-1>>4)+1][h>>8]|=1<<(~(h>>4)&15)));0!==(r[w][d>>4]&1<<(~d&15))&&(r[e+1][h>>4]|=1<<(~h&15),k[e+1>>4][h>>8]|=1<<(~(h>>4)&15),a[e+1>>4][h>>8]|=1<<(~(h>>4)&15),0===(e+1&15)&&(k[(e+1>>4)-1][h>>8]|=1<<(~(h>>4)&15),a[(e+1>>4)-1][h>>
8]|=1<<(~(h>>4)&15)));0!==(r[b][h>>4]&1<<(~h&15))&&(r[w][g-1>>4]|=1<<(~(g-1)&15),k[w>>4][g-1>>8]|=1<<(~(g-1>>4)&15),a[w>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(k[w>>4][g+15>>8]|=1<<(~(g+15>>4)&15),a[w>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));0!==(r[e][h>>4]&1<<(~h&15))&&(r[w][d+1>>4]|=1<<(~(d+1)&15),k[w>>4][d+1>>8]|=1<<(~(d+1>>4)&15),a[w>>4][d+1>>8]|=1<<(~(d+1>>4)&15),0===(d+1&15)&&(k[w>>4][d-15>>8]|=1<<(~(d-15>>4)&15),a[w>>4][d-15>>8]|=1<<(~(d-15>>4)&15)))}0!==(r[e][g>>4]&1<<(~g&15))&&(r[e+1][g-
1>>4]|=1<<(~(g-1)&15));0!==(r[e][d>>4]&1<<(~d&15))&&(r[e+1][d+1>>4]|=1<<(~(d+1)&15));0!==(r[b][g>>4]&1<<(~g&15))&&(r[b-1][g-1>>4]|=1<<(~(g-1)&15));0!==(r[b][d>>4]&1<<(~d&15))&&(r[b-1][d+1>>4]|=1<<(~(d+1)&15))};a.prototype.eo=function(){var a,g=1;0!==this.ka&&(g=2);this.ca&&(g+=1);for(a=1;a<=g+1;a+=1)this.Rk(a)};a.prototype.po=function(){this.Pr();switch(this.ka){case 1:this.Br();break;case 2:this.zo();break;case 3:this.uo();break;case 4:this.zr()}this.Pr()};a.prototype.rj=function(a,g,b){this.Hb?
(this.Ba=1,this.s+=1):this.Bo(a,g,b)};a.prototype.Bo=function(a,g,b){var d=!1,f=this.C,c=this.Jd;b||(a=!0);!g&&this.Cn&&(this.Cn=!1);this.s===this.sj-1&&(d=!0,g||(a=!0));-1===this.ka||this.sa||this.po();this.ha&&this.vp();this.Ba&&(this.sa?this.Ub.$y(this.s):a&&2>this.g?this.ca?this.Zn():this.Yn():this.ca?this.Wn():this.Un());this.s+=1;-1===this.g||this.sa||this.Jn();this.ha&&this.sp();-1===this.ka||this.sa||this.eo();this.width===this.V&&(b=this.sa?2*this.Ub.uc:16,f.N<=b||f.O>=this.V-b||f.K<=b||
f.L>=this.V-b)&&(this.sa?this.Tk():this.Sk());d&&(this.sj+=e.xm,g||this.pm());f.N<c.N&&(c.N=f.N);f.O>c.O&&(c.O=f.O);f.K<c.K&&(c.K=f.K);f.L>c.L&&(c.L=f.L);this.s<e.Cu&&(a?(this.Sj(this.Aa,this.Ab,this.jc),this.Aa>this.Mb&&(this.Mb=this.Aa),this.Ab>this.Mb&&(this.Mb=this.Ab),this.jc>this.Mb&&(this.Mb=this.jc)):this.Sj(0,0,0))};a.prototype.Sj=function(a,g,b){var d=this.s>>e.ti,f=this.s&(1<<e.ti)-1;this.Sa&&0<this.Sa.length&&(this.s>=this.uf&&(Array.bl(this.Sa,"Life.popGraphData"),Array.bl(this.Qe,"Life.birthGraphData"),
Array.bl(this.nf,"Life.deathGraphData"),this.uf+=1<<e.ti),this.Sa[d][f]=a,this.Qe[d][f]=g,this.nf[d][f]=b)};a.prototype.Nh=function(a,g,b,d,c,G,r,k){var f,h=1,m=(1<<e.ti)-1;this.s>b&&(h=b/this.s);if(k){a.strokeStyle=g;a.beginPath();var q=d-r[0]/this.Mb*d|0;a.moveTo(0+G+.5,q+c+G+.5)}else a.fillStyle=g;var l=0;for(g=f=1;g<b;g+=1){if(f<e.Cu){var E=f>>e.ti;var M=f&m;M=E=r[E][M];l+=h;for(f+=1;0===(l|0);){var t=r[f];f+=1;t>M&&(M=t);t<E&&(E=t);l+=h}--l}else M=E=0;g<=this.s&&(t=0+G+1+g,q=d-E/this.Mb*d|0,
k?(a.lineTo(t+.5,q+c+G+.5),E!==M&&(q=d-M/this.Mb*d|0,a.lineTo(t+.5,q+c+G+.5))):0<E&&0<M&&(E!==M&&(q=d-M/this.Mb*d|0),a.fillRect(t+.5,q+c+G+.5,1,1)))}k&&a.stroke()};a.prototype.Gn=function(a,g,b,d){var f=this.context,e=40,c=40,l=this.A-c,E=this.v-e-c,h="rgb("+this.$f[0]+","+this.$f[1]+","+this.$f[2]+")",m="rgb("+this.Zf[0]+","+this.Zf[1]+","+this.Zf[2]+")",q="rgb("+this.Yf[0]+","+this.Yf[1]+","+this.Yf[2]+")",A="rgb("+this.ag[0]+","+this.ag[1]+","+this.ag[2]+")",y="rgb("+this.bg[0]+","+this.bg[1]+
","+this.bg[2]+")";if(this.Sa&&0<this.Sa.length){if(b||d)e=0,E+=80;d&&(c=0,l=this.A);var v=l-c;f.save();f.fillStyle=h;f.globalAlpha=g;f.fillRect(0,e,l+c,E);f.globalAlpha=1;b&&(E-=40);if(!d){f.font="16px Arial";f.textAlign="center";f.fillStyle="black";for(g=2;0<=g;g-=2)f.save(),f.translate(this.A/2,E+c/2-6),f.fillText("Generation",g,g),f.restore(),f.save(),f.translate(c/2+6,this.v/2),f.rotate(-90*Math.PI/180),320>this.v?f.fillText("Pop",g,g):f.fillText("Population",g,g),f.restore(),f.fillStyle=m;f.fillStyle=
"black";for(g=2;0<=g;g-=2)f.save(),f.translate(c-c/2+6,e+c),f.rotate(-90*Math.PI/180),f.fillText(String(this.Mb),g,g),f.restore(),f.save(),f.translate(c-c/2+6,E),f.rotate(-90*Math.PI/180),f.fillText("0",g,g),f.restore(),f.save(),f.translate(c,E+c/2-6),f.fillText("0",g,g),f.restore(),f.save(),f.translate(l,E+c/2-6),f.fillText(String(this.s>v?this.s:v),g,g),f.restore(),f.fillStyle=m}-1===this.ka&&(this.Nh(f,y,v,E-e-c,e,c,this.nf,a),this.Nh(f,A,v,E-e-c,e,c,this.Qe,a));this.Nh(f,q,v,E-e-c,e,c,this.Sa,
a);f.strokeStyle=m;f.lineWidth=1;f.beginPath();f.moveTo(c+.5,e+c+.5);f.lineTo(c+.5,E+.5);f.lineTo(l+.5,E+.5);f.lineTo(l+.5,E+2.5);f.moveTo(c+.5,E+.5);f.lineTo(c+.5,E+2.5);f.moveTo(c+.5,E+.5);f.lineTo(c+.5-2,E+.5);f.moveTo(c+.5,e+c+.5);f.lineTo(c+.5-2,e+c+.5);f.stroke();f.restore()}};a.prototype.lv=function(){var a=(1<<e.ti)-1,g;if(this.Sa&&0<this.Sa.length){for(g=0;g<this.uf;g+=1){var b=g>>e.ti;var d=g&a;this.Sa[b][d]=0;this.Qe[b][d]=0;this.nf[b][d]=0}this.Sa[0][0]=this.Aa}this.Mb=this.Aa};a.prototype.Dr=
function(){var a=this.C,g=this.Jd;g.N=a.N;g.O=a.O;g.L=a.L;g.K=a.K};a.prototype.vp=function(){var a,g,b,d,e=this.ha,c=this.kd,r=this.Kc,k=this.je,w=this.i,h=this.f>>4,m;var q=0;var A=0!==(this.s&1)?this.X:this.sb;for(a=0;a<w;a+=1){var y=0;var v=k[a];for(g=0;g<h;g+=1)if(m=v[g])for(b=15;0<=b;--b){if(0!==(m&1<<b))for(d=q;d<q+16;d+=1)c[d][y]=(A[d][y]|r[d][y])&e[d][y];y+=1}else y+=16;q+=16}};a.prototype.sp=function(){var a,g,b,d,e,c=this.kd,r=this.je,k=this.i,w=this.f>>4,h;var m=0!==(this.s&1)?this.X:this.sb;
for(a=e=0;a<k;a+=1){var q=0;var A=r[a];for(g=0;g<w;g+=1)if(h=A[g])for(b=15;0<=b;--b){if(0!==(h&1<<b))for(d=e;d<e+16;d+=1)m[d][q]&=~c[d][q];q+=1}else q+=16;e+=16}};a.prototype.Mh=function(a,g,b){var d,f,c=this.bh,l=0,k=this.fd[l],w=this.gd[l],h=0,m=e.Io,q=m-1,A=0,y=m,v=this.mm,t=this.ib,F=this.lb;k[h]=a;w[h]=g;h+=1;for(b[g][a>>4]&=~(1<<(~a&15));0<h;)for(--h,h<A&&(--l,A-=m,y-=m,k=this.fd[l],w=this.gd[l]),a=k[h&q],g=w[h&q],f=g-v;f<=g+v;){for(d=a-v;d<=a+v;)d===(d&t)&&f===(f&F)&&0!==(b[f][d>>4]&1<<(~d&
15))&&(b[f][d>>4]&=~(1<<(~d&15)),h===y&&(l+=1,A+=m,y+=m,l>c&&(this.fd[l]=this.j.W(Int32,m,"Life.boundaryX"+l),this.gd[l]=this.j.W(Int32,m,"Life.boundaryY"+l),this.bh=c+=1),k=this.fd[l],w=this.gd[l]),k[h&q]=d,w[h&q]=f,h+=1),d+=1;f+=1}};a.prototype.Qj=function(a,g,b){for(var d=b[g][a],f=15;0<=f;)0!==(d&1<<f)&&this.Mh((a<<4)+(~f&15),g,b),--f};a.prototype.Mr=function(a,g){this.Mh(0,a,g)};a.prototype.js=function(a,g,b){this.Mh((a<<4)+15,g,b)};a.prototype.Sk=function(){var a;var g=0!==(this.s&1)?this.X:
this.sb;var b=g.length;var d=g[0].length;var e=g[0];var c=g[b-1];for(a=0;a<d;)e[a]&&this.Qj(a,0,g),c[a]&&this.Qj(a,b-1,g),a+=1;for(a=0;a<b;)0!==(g[a][0]&32768)&&this.Mr(a,g),0!==(g[a][d-1]&1)&&this.js(d-1,a,g),a+=1};a.prototype.Ih=function(a,g){var b,d=this.ta,f,c=this.bh,r=0,k=this.fd[r],w=this.gd[r],h=0,m=e.Io,q=m-1,A=0,y=m,v=this.ib,t=this.lb,F=2<this.g?0:e.cb,p=2<this.g?0:e.$d,u=this.mm;k[h]=a;w[h]=g;h+=1;for(d[g][a]=0;0<h;)for(--h,h<A&&(--r,A-=m,y-=m,k=this.fd[r],w=this.gd[r]),a=k[h&q],g=w[h&
q],b=g-u;b<=g+u;){var n=a-u;for(f=d[b];n<=a+u;)n===(n&v)&&b===(b&t)&&f[n]>=F&&(f[n]=p,h===y&&(r+=1,A+=m,y+=m,r>c&&(this.fd[r]=this.j.W(Int32,m,"Life.boundaryX"+r),this.gd[r]=this.j.W(Int32,m,"Life.boundaryY"+r),this.bh=c+=1),k=this.fd[r],w=this.gd[r]),k[h&q]=n,w[h&q]=b,h+=1),n+=1;b+=1}};a.prototype.Tk=function(){var a=this.ta,g=a.length,b=a[0].length,d=this.C,c=d.N,G=d.O,r=d.K,k=d.L,w=2*this.Ub.uc+1,h=2<this.g?0:e.cb,m,q;if(g-k<=w){for(q=g-w;q<=k;q+=1){var A=a[q];for(m=c;m<=G;m+=1)A[m]>=h&&this.Ih(m,
q)}d.L=g-w}if(r<=w){for(q=r;q<=w;q+=1)for(A=a[q],m=c;m<=G;m+=1)A[m]>=h&&this.Ih(m,q);d.K=w}if(c<=w){for(q=r;q<=k;q+=1)for(A=a[q],m=c;m<=w;m+=1)A[m]>=h&&this.Ih(m,q);d.N=w}if(b-G<=w){for(q=r;q<=k;q+=1)for(A=a[q],m=b-w;m<=G;m+=1)A[m]>=h&&this.Ih(m,q);d.O=b-w}};a.prototype.Zn=function(){var a,g,b,d,c,G=this.ne,r,k=this.height,w=this.width,h=w>>4,m=this.C,q=k,A=-1,y=w,v=-1,t=this.i,F=this.f>>4,p=this.Cb;var u=0;var n=t,I=this.me,D=0,B=0,z=0;if(0!==(this.s&1)){var C=this.X;var x=this.sb;var J=this.Ja;
var L=this.qa;var K=this.Lh}else C=this.sb,x=this.X,J=this.qa,L=this.Ja,K=this.Kh;for(g=0;g<G.length;g+=1)G[g]=0;0>u&&(u=0);n>t&&(n=t);var S=u<<4;var da=S+16;for(g=u;g<n;g+=1){var aa=L[g];for(b=0;b<aa.length;b+=1)aa[b]=0}for(g=u;g<n;g+=1){var T=0;aa=J[g];var ca=L[g];var Y=0<g?L[g-1]:p;var N=g<t-1?L[g+1]:p;for(b=0;b<F;b+=1)if(d=aa[b]){var R=ca[b];var U=Y[b];var fa=N[b];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var P=r=0;var H=S;var Q=0===H?this.ua:C[H-1];var X=C[H];u=C[H+1];var ia=c=X[T];Q=Q[T-1]<<18|Q[T]<<
2|Q[T+1]>>14;var V=X[T-1]<<18|c<<2|X[T+1]>>14;var O=u[T-1]<<18|u[T]<<2|u[T+1]>>14;var ba=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;ba|=K[O>>6&7936|Q>>10&224|V>>14&31]<<14;ba|=K[Q>>5&7936|O>>9&224|V>>13&31]<<13;ba|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;ba|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;ba|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;ba|=K[Q>>1&7936|O>>5&224|V>>9&31]<<9;ba|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;ba|=K[Q<<1&7936|O>>3&224|V>>7&31]<<7;ba|=K[O<<2&7936|Q>>2&224|V>>6&31]<<6;ba|=K[Q<<3&7936|O>>1&224|V>>5&31]<<
5;ba|=K[O<<4&7936|Q>>0&224|V>>4&31]<<4;ba|=K[Q<<5&7936|O<<1&224|V>>3&31]<<3;ba|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;ba|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;ba|=K[O<<8&7936|Q<<4&224|V>>0&31]<<0;x[H][T]=ba;D+=I[ba];B+=I[ba&~c];z+=I[c&~ba];ba&&(r|=ba,H<q&&(q=H),H>A&&(A=H),0!==(ba&49152)&&(P|=e.qe),0!==(ba&3)&&(P|=e.re),P|=e.Gd);for(H+=1;H<da-1;){c=u[T];ia|=c;u=C[H+1];Q=V;V=O;O=u[T-1]<<18|u[T]<<2|u[T+1]>>14;0!==(H&1)&&(X=Q,Q=O,O=X);ba=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;ba|=K[O>>6&7936|Q>>10&224|V>>14&31]<<
14;ba|=K[Q>>5&7936|O>>9&224|V>>13&31]<<13;ba|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;ba|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;ba|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;ba|=K[Q>>1&7936|O>>5&224|V>>9&31]<<9;ba|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;ba|=K[Q<<1&7936|O>>3&224|V>>7&31]<<7;ba|=K[O<<2&7936|Q>>2&224|V>>6&31]<<6;ba|=K[Q<<3&7936|O>>1&224|V>>5&31]<<5;ba|=K[O<<4&7936|Q>>0&224|V>>4&31]<<4;ba|=K[Q<<5&7936|O<<1&224|V>>3&31]<<3;ba|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;ba|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;ba|=K[O<<
8&7936|Q<<4&224|V>>0&31]<<0;D+=I[ba];B+=I[ba&~c];z+=I[c&~ba];0!==(H&1)&&(O=X=Q);if(x[H][T]=ba)r|=ba,H<q&&(q=H),H>A&&(A=H);H+=1}c=u[T];ia|=c;u=H===this.height-1?this.ua:C[H+1];Q=V;V=O;O=u[T-1]<<18|u[T]<<2|u[T+1]>>14;0!==(H&1)&&(X=Q,Q=O,O=X);ba=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;ba|=K[O>>6&7936|Q>>10&224|V>>14&31]<<14;ba|=K[Q>>5&7936|O>>9&224|V>>13&31]<<13;ba|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;ba|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;ba|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;ba|=K[Q>>1&7936|O>>5&224|V>>
9&31]<<9;ba|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;ba|=K[Q<<1&7936|O>>3&224|V>>7&31]<<7;ba|=K[O<<2&7936|Q>>2&224|V>>6&31]<<6;ba|=K[Q<<3&7936|O>>1&224|V>>5&31]<<5;ba|=K[O<<4&7936|Q>>0&224|V>>4&31]<<4;ba|=K[Q<<5&7936|O<<1&224|V>>3&31]<<3;ba|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;ba|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;ba|=K[O<<8&7936|Q<<4&224|V>>0&31]<<0;D+=I[ba];B+=I[ba&~c];z+=I[c&~ba];if(x[H][T]=ba)r|=ba,H<q&&(q=H),H>A&&(A=H),0!==(ba&49152)&&(P|=e.Le),0!==(ba&3)&&(P|=e.Me),P|=e.Ud;r&&(0!==(r&49152)&&(P|=e.Nd),
0!==(r&3)&&(P|=e.Rd));G[T]|=r;if(r||ia)R|=1<<a,P&&(0!==(P&e.Nd)&&(15>a?R|=1<<a+1:0<b&&0<T&&(ca[b-1]|=1)),0!==(P&e.Rd)&&(0<a?R|=1<<a-1:b<F-1&&T<h-1&&(ca[b+1]|=32768)),0!==(P&e.Gd)&&(U|=1<<a),0!==(P&e.Ud)&&(fa|=1<<a),0!==(P&e.qe)&&(15>a?U|=1<<a+1:0<b&&0<T&&(Y[b-1]|=1)),0!==(P&e.re)&&(0<a?U|=1<<a-1:b<F-1&&T<h-1&&(Y[b+1]|=32768)),0!==(P&e.Le)&&(15>a?fa|=1<<a+1:0<b&&0<T&&(N[b-1]|=1)),0!==(P&e.Me)&&(0<a?fa|=1<<a-1:b<F-1&&T<h-1&&(N[b+1]|=32768)))}T+=1}ca[b]|=R;0<g&&(Y[b]|=U);g<t-1&&(N[b]|=fa)}else T+=16;
S+=16;da+=16}for(b=0;b<h;b+=1)G[b]&&(b<y&&(y=b),b>v&&(v=b));y=(y<<4)+this.mg(G[y]);v=(v<<4)+this.vg(G[v]);0>A&&(A=k-1);q>=k&&(q=0);y>=w&&(y=0);0>v&&(v=w-1);A>k-1&&(A=k-1);0>q&&(q=0);0>y&&(y=0);v>w-1&&(v=w-1);m.L=A;m.K=q;m.N=y;m.O=v;for(g=0;g<p.length;g+=1)p[g]=0;this.Aa=D;this.Ab=B;this.jc=z};a.prototype.Wn=function(){var a,g,b,d,c=this.ne,G,r=this.height,k=this.width,w=k>>4,h=this.C,m=r,q=-1,A=k,y=-1,v=this.i,t=this.f>>4,F=this.Cb;var p=0;var u=v;if(0!==(this.s&1)){var n=this.X;var I=this.sb;var D=
this.Ja;var B=this.qa;var z=this.Lh}else n=this.sb,I=this.X,D=this.qa,B=this.Ja,z=this.Kh;for(g=0;g<c.length;g+=1)c[g]=0;0>p&&(p=0);u>v&&(u=v);var C=p<<4;var x=C+16;for(g=p;g<u;g+=1){var J=B[g];for(b=0;b<J.length;b+=1)J[b]=0}for(g=p;g<u;g+=1){var L=0;J=D[g];var K=B[g];var S=0<g?B[g-1]:F;var da=g<v-1?B[g+1]:F;for(b=0;b<t;b+=1)if(d=J[b]){var aa=K[b];var T=S[b];var ca=da[b];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var Y=G=0;var N=C;var R=0===N?this.ua:n[N-1];var U=n[N];p=n[N+1];var fa=U[L];R=R[L-1]<<18|R[L]<<
2|R[L+1]>>14;var P=U[L-1]<<18|fa<<2|U[L+1]>>14;var H=p[L-1]<<18|p[L]<<2|p[L+1]>>14;var Q=z[R>>7&7936|H>>11&224|P>>15&31]<<15;Q|=z[H>>6&7936|R>>10&224|P>>14&31]<<14;Q|=z[R>>5&7936|H>>9&224|P>>13&31]<<13;Q|=z[H>>4&7936|R>>8&224|P>>12&31]<<12;Q|=z[R>>3&7936|H>>7&224|P>>11&31]<<11;Q|=z[H>>2&7936|R>>6&224|P>>10&31]<<10;Q|=z[R>>1&7936|H>>5&224|P>>9&31]<<9;Q|=z[H>>0&7936|R>>4&224|P>>8&31]<<8;Q|=z[R<<1&7936|H>>3&224|P>>7&31]<<7;Q|=z[H<<2&7936|R>>2&224|P>>6&31]<<6;Q|=z[R<<3&7936|H>>1&224|P>>5&31]<<5;Q|=z[H<<
4&7936|R>>0&224|P>>4&31]<<4;Q|=z[R<<5&7936|H<<1&224|P>>3&31]<<3;Q|=z[H<<6&7936|R<<2&224|P>>2&31]<<2;Q|=z[R<<7&7936|H<<3&224|P>>1&31]<<1;Q|=z[H<<8&7936|R<<4&224|P>>0&31]<<0;if(I[N][L]=Q)G|=Q,N<m&&(m=N),N>q&&(q=N),0!==(Q&49152)&&(Y|=e.qe),0!==(Q&3)&&(Y|=e.re),Y|=e.Gd;for(N+=1;N<x-1;){fa|=p[L];p=n[N+1];R=P;P=H;H=p[L-1]<<18|p[L]<<2|p[L+1]>>14;0!==(N&1)&&(U=R,R=H,H=U);Q=z[R>>7&7936|H>>11&224|P>>15&31]<<15;Q|=z[H>>6&7936|R>>10&224|P>>14&31]<<14;Q|=z[R>>5&7936|H>>9&224|P>>13&31]<<13;Q|=z[H>>4&7936|R>>8&
224|P>>12&31]<<12;Q|=z[R>>3&7936|H>>7&224|P>>11&31]<<11;Q|=z[H>>2&7936|R>>6&224|P>>10&31]<<10;Q|=z[R>>1&7936|H>>5&224|P>>9&31]<<9;Q|=z[H>>0&7936|R>>4&224|P>>8&31]<<8;Q|=z[R<<1&7936|H>>3&224|P>>7&31]<<7;Q|=z[H<<2&7936|R>>2&224|P>>6&31]<<6;Q|=z[R<<3&7936|H>>1&224|P>>5&31]<<5;Q|=z[H<<4&7936|R>>0&224|P>>4&31]<<4;Q|=z[R<<5&7936|H<<1&224|P>>3&31]<<3;Q|=z[H<<6&7936|R<<2&224|P>>2&31]<<2;Q|=z[R<<7&7936|H<<3&224|P>>1&31]<<1;Q|=z[H<<8&7936|R<<4&224|P>>0&31]<<0;0!==(N&1)&&(H=U=R);if(I[N][L]=Q)G|=Q,N<m&&(m=N),
N>q&&(q=N);N+=1}fa|=p[L];p=N===this.height-1?this.ua:n[N+1];R=P;P=H;H=p[L-1]<<18|p[L]<<2|p[L+1]>>14;0!==(N&1)&&(U=R,R=H,H=U);Q=z[R>>7&7936|H>>11&224|P>>15&31]<<15;Q|=z[H>>6&7936|R>>10&224|P>>14&31]<<14;Q|=z[R>>5&7936|H>>9&224|P>>13&31]<<13;Q|=z[H>>4&7936|R>>8&224|P>>12&31]<<12;Q|=z[R>>3&7936|H>>7&224|P>>11&31]<<11;Q|=z[H>>2&7936|R>>6&224|P>>10&31]<<10;Q|=z[R>>1&7936|H>>5&224|P>>9&31]<<9;Q|=z[H>>0&7936|R>>4&224|P>>8&31]<<8;Q|=z[R<<1&7936|H>>3&224|P>>7&31]<<7;Q|=z[H<<2&7936|R>>2&224|P>>6&31]<<6;Q|=
z[R<<3&7936|H>>1&224|P>>5&31]<<5;Q|=z[H<<4&7936|R>>0&224|P>>4&31]<<4;Q|=z[R<<5&7936|H<<1&224|P>>3&31]<<3;Q|=z[H<<6&7936|R<<2&224|P>>2&31]<<2;Q|=z[R<<7&7936|H<<3&224|P>>1&31]<<1;Q|=z[H<<8&7936|R<<4&224|P>>0&31]<<0;if(I[N][L]=Q)G|=Q,N<m&&(m=N),N>q&&(q=N),0!==(Q&49152)&&(Y|=e.Le),0!==(Q&3)&&(Y|=e.Me),Y|=e.Ud;G&&(0!==(G&49152)&&(Y|=e.Nd),0!==(G&3)&&(Y|=e.Rd));c[L]|=G;if(G||fa)aa|=1<<a,Y&&(0!==(Y&e.Nd)&&(15>a?aa|=1<<a+1:0<b&&0<L&&(K[b-1]|=1)),0!==(Y&e.Rd)&&(0<a?aa|=1<<a-1:b<t-1&&L<w-1&&(K[b+1]|=32768)),
0!==(Y&e.Gd)&&(T|=1<<a),0!==(Y&e.Ud)&&(ca|=1<<a),0!==(Y&e.qe)&&(15>a?T|=1<<a+1:0<b&&0<L&&(S[b-1]|=1)),0!==(Y&e.re)&&(0<a?T|=1<<a-1:b<t-1&&L<w-1&&(S[b+1]|=32768)),0!==(Y&e.Le)&&(15>a?ca|=1<<a+1:0<b&&0<L&&(da[b-1]|=1)),0!==(Y&e.Me)&&(0<a?ca|=1<<a-1:b<t-1&&L<w-1&&(da[b+1]|=32768)))}L+=1}K[b]|=aa;0<g&&(S[b]|=T);g<v-1&&(da[b]|=ca)}else L+=16;C+=16;x+=16}for(b=0;b<w;b+=1)c[b]&&(b<A&&(A=b),b>y&&(y=b));A=(A<<4)+this.mg(c[A]);y=(y<<4)+this.vg(c[y]);0>q&&(q=r-1);m>=r&&(m=0);A>=k&&(A=0);0>y&&(y=k-1);q>r-1&&
(q=r-1);0>m&&(m=0);0>A&&(A=0);y>k-1&&(y=k-1);h.L=q;h.K=m;h.N=A;h.O=y;for(g=0;g<F.length;g+=1)F[g]=0};a.prototype.Un=function(){var a,b,d,c,M=this.ne,G,r=this.height,k=this.width,w=k>>4,h=this.C,m=r,q=-1,A=k,y=-1,v=this.i,t=this.f>>4,F=this.Cb;var p=0;var u=v;if(0!==(this.s&1)){var n=this.X;var I=this.sb;var D=this.Ja;var B=this.qa;var z=this.kg}else n=this.sb,I=this.X,D=this.qa,B=this.Ja,z=this.jg;for(b=0;b<M.length;b+=1)M[b]=0;0>p&&(p=0);u>v&&(u=v);var C=p<<4;var x=C+16;for(b=p;b<u;b+=1){var J=B[b];
for(d=0;d<J.length;d+=1)J[d]=0}for(b=p;b<u;b+=1){var L=0;J=D[b];var K=B[b];var S=0<b?B[b-1]:F;var da=b<v-1?B[b+1]:F;for(d=0;d<t;d+=1)if(c=J[d]){var aa=K[d];var T=S[d];var ca=da[d];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var Y=G=0;var N=C;var R=0===N?this.ua:n[N-1];var U=n[N];p=n[N+1];var fa=U[L];if(L)if(L>=w-1){R=R[L-1]<<17|R[L]<<1;U=U[L-1]<<17|fa<<1;var P=p[L-1]<<17|p[L]<<1;var H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&
63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N),0!==(H&32768)&&(Y|=e.qe),Y|=e.Gd;for(N+=1;N<x-1;){fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1}fa|=p[L];p=N===this.height-1?this.ua:n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<
12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N),0!==(H&32768)&&(Y|=e.Le),Y|=e.Ud}else{R=R[L-1]<<17|R[L]<<1|R[L+1]>>15;U=U[L-1]<<17|fa<<1|U[L+1]>>15;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&
(q=N),0!==(H&32768)&&(Y|=e.qe),0!==(H&1)&&(Y|=e.re),Y|=e.Gd;N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>
4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<
6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&
63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>
15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];
R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=
N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|
(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1;fa|=p[L];p=N===this.height-1?this.ua:n[N+1];R=U;U=P;P=p[L-1]<<17|p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;
H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N),0!==(H&32768)&&(Y|=e.Le),0!==(H&1)&&(Y|=e.Me),Y|=e.Ud}else{R=R[L]<<1|R[L+1]>>15;U=fa<<1|U[L+1]>>15;P=p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N),0!==(H&1)&&(Y|=e.re),Y|=e.Gd;for(N+=1;N<x-1;){fa|=p[L];p=n[N+
1];R=U;U=P;P=p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,N<m&&(m=N),N>q&&(q=N);N+=1}fa|=p[L];p=N===this.height-1?this.ua:n[N+1];R=U;U=P;P=p[L]<<1|p[L+1]>>15;H=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;H|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;H|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;H|=z[R&63|(U&63)<<6|(P&63)<<12];if(I[N][L]=H)G|=H,
N<m&&(m=N),N>q&&(q=N),0!==(H&1)&&(Y|=e.Me),Y|=e.Ud}G&&(0!==(G&32768)&&(Y|=e.Nd),0!==(G&1)&&(Y|=e.Rd));M[L]|=G;if(G||fa)aa|=1<<a,Y&&(0!==(Y&e.Nd)&&(15>a?aa|=1<<a+1:0<d&&0<L&&(K[d-1]|=1)),0!==(Y&e.Rd)&&(0<a?aa|=1<<a-1:d<t-1&&L<w-1&&(K[d+1]|=32768)),0!==(Y&e.Gd)&&(T|=1<<a),0!==(Y&e.Ud)&&(ca|=1<<a),0!==(Y&e.qe)&&(15>a?T|=1<<a+1:0<d&&0<L&&(S[d-1]|=1)),0!==(Y&e.re)&&(0<a?T|=1<<a-1:d<t-1&&L<w-1&&(S[d+1]|=32768)),0!==(Y&e.Le)&&(15>a?ca|=1<<a+1:0<d&&0<L&&(da[d-1]|=1)),0!==(Y&e.Me)&&(0<a?ca|=1<<a-1:d<t-1&&
L<w-1&&(da[d+1]|=32768)))}L+=1}K[d]|=aa;0<b&&(S[d]|=T);b<v-1&&(da[d]|=ca)}else L+=16;C+=16;x+=16}for(d=0;d<w;d+=1)M[d]&&(d<A&&(A=d),d>y&&(y=d));A=(A<<4)+this.mg(M[A]);y=(y<<4)+this.vg(M[y]);0>q&&(q=r-1);m>=r&&(m=0);A>=k&&(A=0);0>y&&(y=k-1);q>r-1&&(q=r-1);0>m&&(m=0);0>A&&(A=0);y>k-1&&(y=k-1);h.L=q;h.K=m;h.N=A;h.O=y;for(b=0;b<F.length;b+=1)F[b]=0};a.prototype.Yn=function(){var a,b,d,c,M,G=this.ne,r,k=this.height,w=this.width,h=w>>4,m=this.C,q=k,A=-1,y=w,v=-1,t=this.i,F=this.f>>4,p=this.Cb,u=this.me,
n=0,I=0,D=0;var B=0;var z=t;if(0!==(this.s&1)){var C=this.X;var x=this.sb;var J=this.Ja;var L=this.qa;var K=this.kg}else C=this.sb,x=this.X,J=this.qa,L=this.Ja,K=this.jg;for(b=0;b<G.length;b+=1)G[b]=0;0>B&&(B=0);z>t&&(z=t);var S=B<<4;var da=S+16;for(b=B;b<z;b+=1){var aa=L[b];for(d=0;d<aa.length;d+=1)aa[d]=0}for(b=B;b<z;b+=1){var T=0;aa=J[b];var ca=L[b];var Y=0<b?L[b-1]:p;var N=b<t-1?L[b+1]:p;for(d=0;d<F;d+=1)if(c=aa[d]){var R=ca[d];var U=Y[d];var fa=N[d];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var P=
r=0;var H=S;var Q=0===H?this.ua:C[H-1];var X=C[H];B=C[H+1];var ia=M=X[T];if(T)if(T>=h-1){Q=Q[T-1]<<17|Q[T]<<1;X=X[T-1]<<17|M<<1;var V=B[T-1]<<17|B[T]<<1;var O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(X&63)<<6|(V&63)<<12];x[H][T]=O;n+=u[O];I+=u[O&~M];D+=u[M&~O];O&&(r|=O,H<q&&(q=H),H>A&&(A=H),0!==(O&32768)&&(P|=e.qe),P|=e.Gd);for(H+=1;H<da-1;)M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1,O=K[Q>>
12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1;M=B[T];ia|=M;B=H===this.height-1?this.ua:C[H+1];Q=X;X=V;V=B[T-1]<<17|B[T]<<1;O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(X&63)<<6|(V&63)<<12];x[H][T]=O;n+=u[O];I+=
u[O&~M];D+=u[M&~O];O&&(r|=O,H<q&&(q=H),H>A&&(A=H),0!==(O&32768)&&(P|=e.Le),P|=e.Ud)}else Q=Q[T-1]<<17|Q[T]<<1|Q[T+1]>>15,X=X[T-1]<<17|M<<1|X[T+1]>>15,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H),0!==(O&32768)&&(P|=e.qe),0!==(O&1)&&(P|=e.re),P|=e.Gd),H+=1,M=B[T],ia|=M,B=C[H+1],
Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|
(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<
12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),
H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<
12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>
12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=
O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|
(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+
1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1,M=B[T],ia|=M,B=H===this.height-1?this.ua:C[H+1],Q=X,X=V,V=B[T-1]<<17|B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<
12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H),0!==(O&32768)&&(P|=e.Le),0!==(O&1)&&(P|=e.Me),P|=e.Ud);else{Q=Q[T]<<1|Q[T+1]>>15;X=M<<1|X[T+1]>>15;V=B[T]<<1|B[T+1]>>15;O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(X&63)<<6|(V&63)<<12];x[H][T]=O;n+=u[O];I+=u[O&~M];D+=u[M&~O];O&&(r|=O,H<q&&(q=H),H>A&&(A=H),0!==(O&1)&&(P|=e.re),P|=e.Gd);for(H+=1;H<da-1;)M=B[T],ia|=M,B=C[H+1],
Q=X,X=V,V=B[T]<<1|B[T+1]>>15,O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(X&63)<<6|(V&63)<<12],x[H][T]=O,n+=u[O],I+=u[O&~M],D+=u[M&~O],O&&(r|=O,H<q&&(q=H),H>A&&(A=H)),H+=1;M=B[T];ia|=M;B=H===this.height-1?this.ua:C[H+1];Q=X;X=V;V=B[T]<<1|B[T+1]>>15;O=K[Q>>12&63|(X>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(X>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(X>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(X&63)<<
6|(V&63)<<12];x[H][T]=O;n+=u[O];I+=u[O&~M];D+=u[M&~O];O&&(r|=O,H<q&&(q=H),H>A&&(A=H),0!==(O&1)&&(P|=e.Me),P|=e.Ud)}r&&(0!==(r&32768)&&(P|=e.Nd),0!==(r&1)&&(P|=e.Rd));G[T]|=r;if(r||ia)R|=1<<a,P&&(0!==(P&e.Nd)&&(15>a?R|=1<<a+1:0<d&&0<T&&(ca[d-1]|=1)),0!==(P&e.Rd)&&(0<a?R|=1<<a-1:d<F-1&&T<h-1&&(ca[d+1]|=32768)),0!==(P&e.Gd)&&(U|=1<<a),0!==(P&e.Ud)&&(fa|=1<<a),0!==(P&e.qe)&&(15>a?U|=1<<a+1:0<d&&0<T&&(Y[d-1]|=1)),0!==(P&e.re)&&(0<a?U|=1<<a-1:d<F-1&&T<h-1&&(Y[d+1]|=32768)),0!==(P&e.Le)&&(15>a?fa|=1<<a+
1:0<d&&0<T&&(N[d-1]|=1)),0!==(P&e.Me)&&(0<a?fa|=1<<a-1:d<F-1&&T<h-1&&(N[d+1]|=32768)))}T+=1}ca[d]|=R;0<b&&(Y[d]|=U);b<t-1&&(N[d]|=fa)}else T+=16;S+=16;da+=16}for(d=0;d<h;d+=1)G[d]&&(d<y&&(y=d),d>v&&(v=d));y=(y<<4)+this.mg(G[y]);v=(v<<4)+this.vg(G[v]);0>A&&(A=k-1);q>=k&&(q=0);y>=w&&(y=0);0>v&&(v=w-1);A>k-1&&(A=k-1);0>q&&(q=0);0>y&&(y=0);v>w-1&&(v=w-1);m.L=A;m.K=q;m.N=y;m.O=v;for(b=0;b<p.length;b+=1)p[b]=0;this.Aa=n;this.Ab=I;this.jc=D};a.prototype.Si=function(a,b){var d,g=this.Xa,e,c,f,k,w=this.i,
h=this.f>>4;var m=0;var q=m+16;for(e=0;e<w;e+=1){var A=0;var y=g[e];for(c=0;c<h;c+=1)if(k=y[c])for(f=15;0<=f;--f){if(0!==(k&1<<f))for(d=m;d<q;d+=2){var v=a[d];var t=a[d+1];var F=b[d];var p=A<<3;var u=0;var n=v[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);n=t[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);F[p+p]=u;p+=1;u=0;n=v[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);n=t[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);F[p+p]=u;p+=1;u=0;n=v[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);n=t[p];(n&255)>u&&(u=n&255);n>>=8;
n>u&&(u=n);F[p+p]=u;p+=1;u=0;n=v[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);n=t[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);F[p+p]=u;p+=1;u=0;n=v[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);n=t[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);F[p+p]=u;p+=1;u=0;n=v[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);n=t[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);F[p+p]=u;p+=1;u=0;n=v[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);n=t[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);F[p+p]=u;p+=1;u=0;n=v[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=
n);n=t[p];(n&255)>u&&(u=n&255);n>>=8;n>u&&(u=n);F[p+p]=u}A+=1}else A+=16;m+=16;q+=16}};a.prototype.Ti=function(a,b){var d,g=this.Xa,e,c,f,k,w=this.i,h=this.f>>4;var m=0;var q=m+16;for(e=0;e<w;e+=1){var A=0;var y=g[e];for(c=0;c<h;c+=1)if(k=y[c])for(f=15;0<=f;--f){if(0!==(k&1<<f))for(d=m;d<q;d+=4){var v=b[d];var t=a[d];var F=a[d+2];var p=A<<4;var u=t[p];var n=t[p+2];n>u&&(u=n);n=F[p];n>u&&(u=n);n=F[p+2];n>u&&(u=n);v[p]=u;p+=4;u=t[p];n=t[p+2];n>u&&(u=n);n=F[p];n>u&&(u=n);n=F[p+2];n>u&&(u=n);v[p]=u;p+=
4;u=t[p];n=t[p+2];n>u&&(u=n);n=F[p];n>u&&(u=n);n=F[p+2];n>u&&(u=n);v[p]=u;p+=4;u=t[p];n=t[p+2];n>u&&(u=n);n=F[p];n>u&&(u=n);n=F[p+2];n>u&&(u=n);v[p]=u}A+=1}else A+=16;m+=16;q+=16}};a.prototype.Oj=function(a,b){var d,g=this.Xa,e,c,f,k,w=this.i,h=this.f>>4;var m=0;var q=m+16;for(e=0;e<w;e+=1){var A=0;var y=g[e];for(c=0;c<h;c+=1)if(k=y[c])for(f=15;0<=f;--f){if(0!==(k&1<<f))for(d=m;d<q;d+=8){var v=b[d];var t=a[d];var F=a[d+4];var p=A<<4;var u=t[p];var n=t[p+4];n>u&&(u=n);n=F[p];n>u&&(u=n);n=F[p+4];n>
u&&(u=n);v[p]=u;p+=8;u=t[p];n=t[p+4];n>u&&(u=n);n=F[p];n>u&&(u=n);n=F[p+4];n>u&&(u=n);v[p]=u}A+=1}else A+=16;m+=16;q+=16}};a.prototype.Ri=function(a,b){var d=this.Xa,g,e,c,f,k,w=this.i,h=this.f>>4;for(g=f=0;g<w;g+=1){var m=0;var q=d[g];for(e=0;e<h;e+=1)if(k=q[e])for(c=15;0<=c;--c){if(0!==(k&1<<c)){var A=b[f];var y=a[f];var v=a[f+8];var t=m<<4;var F=y[t];y=y[t+8];y>F&&(F=y);y=v[t];y>F&&(F=y);y=v[t+8];y>F&&(F=y);A[t]=F}m+=1}else m+=16;f+=16}};a.prototype.Xk=function(){1>this.ma&&(this.Si(this.Pi,this.J),
.5>this.ma&&(this.Ti(this.J,this.Ca),.25>this.ma&&(this.Oj(this.Ca,this.Fa),.125>this.ma&&this.Ri(this.Fa,this.bb))));this.kh&&1>this.ma&&(this.Si(this.ng,this.fa),.5>this.ma&&(this.Ti(this.fa,this.wf),.25>this.ma&&(this.Oj(this.wf,this.xf),.125>this.ma&&this.Ri(this.xf,this.yg))))};a.prototype.Jn=function(){var a=this.ta,b=this.Xa,d=this.eb,e,c,G,r,k,w=0,h=0,m=0;var q=this.i;var A=this.f>>4;var y=0;var v=q,t=this.g+this.ba-1,F=this.ba,p=0<this.ba?1:0;this.Ba=0;if(0!==(this.s&1)){var u=this.X;var n=
this.Ja}else u=this.sb,n=this.qa;0>y&&(y=0);v>q&&(v=q);q=y<<4;var I=q+16;for(c=y;c<v;c+=1){var D=0;var B=n[c];var z=d[c];var C=b[c];for(G=0;G<A;G+=1){var x=B[G]|z[G];var J=0;if(x)for(r=15;0<=r;--r){if(0!==(x&1<<r)){var L=0;for(y=q;y<I;y+=1){var K=u[y];var S=a[y];var da=D<<4;var aa=K[D];for(k=32768;0<k;k>>=1){var T=e=S[da];(e<=F||e===t)&&0!==(aa&k)?e=t:(aa&=~k,e>p&&--e);S[da]=e;e>p&&(L=1,e===t&&(w+=1,T!==t&&(h+=1)));T===t&&e!==t&&(m+=1);da+=1}K[D]=aa;this.Ba|=aa}L&&(J|=1<<r)}D+=1}else D+=16;z[G]=J;
C[G]|=J}q+=16;I+=16}this.Aa=w;this.Ab=h;this.jc=m};a.prototype.Qk=function(){var a=this.ta,b=this.Xa,d,e,c,G,r;var k=this.i;var w=this.f>>4;var h=0;var m=k,q=0<this.ba?1:0;0>h&&(h=0);m>k&&(m=k);k=h<<4;var A=k+16;for(d=h;d<m;d+=1){var y=0;var v=b[d];for(e=0;e<w;e+=1)if(r=v[e])for(c=15;0<=c;--c){if(0!==(r&1<<c))for(h=k;h<A;h+=1){var t=a[h];var F=y<<4;for(G=15;0<=G;--G){var p=t[F];p>q&&(--p,t[F]=p);F+=1}}y+=1}else y+=16;k+=16;A+=16}};a.prototype.$j=function(){this.Hb||(-1===this.g?this.Vk():this.Ba||
this.Qk())};a.prototype.Vk=function(){var a=this.ta,b=this.Xa,d=this.eb,e=this.cn,c=this.pc+1,G,r,k;var w=this.i;var h=this.f>>4;var m=0;var q=w;this.Ba=0;if(0!==(this.s&1)){var A=this.X;var y=this.Ja}else A=this.sb,y=this.qa;0>m&&(m=0);q>w&&(q=w);w=m<<4;var v=w+16;for(G=m;G<q;G+=1){var t=0;var F=y[G];var p=d[G];var u=b[G];for(r=0;r<h;r+=1){var n=F[r]|p[r];var I=0;if(n)for(k=15;0<=k;--k){if(0!==(n&1<<k)){var D=0;for(m=w;m<v;){var B=A[m];var z=a[m];var C=t<<4;B=B[t];this.Ba|=B;D|=B;if(0!==(B&32768))var x=
e[z[C]+c];else x=e[z[C]],D|=1<x;z[C]=x;C+=1;0!==(B&16384)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&8192)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&4096)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&2048)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&1024)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&512)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&256)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&128)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&64)?
x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&32)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&16)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&8)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&4)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&2)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&1)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;m+=1;B=A[m];z=a[m];C=t<<4;B=B[t];this.Ba|=B;D|=B;0!==(B&32768)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&16384)?x=e[z[C]+c]:(x=e[z[C]],
D|=1<x);z[C]=x;C+=1;0!==(B&8192)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&4096)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&2048)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&1024)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&512)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&256)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&128)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&64)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&32)?x=e[z[C]+c]:(x=e[z[C]],D|=1<
x);z[C]=x;C+=1;0!==(B&16)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&8)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&4)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&2)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&1)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;m+=1;B=A[m];z=a[m];C=t<<4;B=B[t];this.Ba|=B;D|=B;0!==(B&32768)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&16384)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&8192)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&
4096)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&2048)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&1024)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&512)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&256)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&128)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&64)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&32)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&16)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&8)?x=e[z[C]+
c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&4)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&2)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&1)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;m+=1;B=A[m];z=a[m];C=t<<4;B=B[t];this.Ba|=B;D|=B;0!==(B&32768)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&16384)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&8192)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&4096)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&2048)?x=e[z[C]+c]:(x=e[z[C]],D|=
1<x);z[C]=x;C+=1;0!==(B&1024)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&512)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&256)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&128)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&64)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&32)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&16)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&8)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&4)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;
C+=1;0!==(B&2)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;C+=1;0!==(B&1)?x=e[z[C]+c]:(x=e[z[C]],D|=1<x);z[C]=x;m+=1}D&&(I|=1<<k)}t+=1}else t+=16;p[r]=I;u[r]|=I}w+=16;v+=16}};a.prototype.ow=function(a,b,d,e,c,G,r,k,w,h){var g=this.Ld;e=e*a+g.L;d=d*a+g.O;b=b*a+g.K;c=c*a+g.N;g=d-c+1;a=e-b+1;this.S&&(g=d-b/2-(c-e/2)+1);0===g&&(g=1);0===a&&(a=1);G/=g;r/=a;h=Math.round(1E3*(G>r?r:G)/h)/1E3;h<k?h=k:h>w&&(h=w);return h};a.prototype.In=function(a){var b=a;1>a&&(b=1/a);var d=Math.round(b);(d<b?d/b:b/d)>=ViewConstants.Ay&&
(a=1>a?1/d:d);return a};a.prototype.Xf=function(a,b,d,e,c,G,r,k,w,h,m,q,A,y,v,t,F){var g=this.C,f=this.Ld,l=this.Jd,E=this.Uj;m?(E.L=y*a+f.L,E.O=A*a+f.O,E.K=q*a+f.K,E.N=v*a+f.N,h&&(l.N<E.N&&(E.N=l.N),l.K<E.K&&(E.K=l.K),l.O>E.O&&(E.O=l.O),l.L>E.L&&(E.L=l.L)),g=E):h?g=l:this.sa&&(g=this.ea);a=g.N;h=g.O;m=g.L;g=g.K;this.Dc&&!t&&(f.N<a&&(a=f.N),f.O>h&&(h=f.O),f.L>m&&(m=f.L),f.K<g&&(g=f.K));-1!==this.ka&&(t=this.la,f=this.na,0<t&&(this.width/2-t/2<a&&(a=this.width/2-t/2),this.width/2+t/2>h&&(h=this.width/
2+t/2)),0<f&&(this.height/2-f/2<g&&(g=this.height/2-f/2),this.height/2+f/2>m&&(m=this.height/2+f/2)));w?(t=r,f=k,a=this.width/2-t/2,h=this.width/2+t/2,m=this.height/2+f/2,g=this.height/2-f/2):(t=h-a+1,f=m-g+1);this.S&&(a-=m/2,t=h-g/2-a+1);0===t&&(t=1);0===f&&(f=1);b/=t;d/=f;G=Math.round(1E3*(b>d?d:b)/G)/1E3;G/=this.Pb;G<e?G=e:G>c&&(G=c);e=g-this.vb+f/2;c=a-this.Bb+t/2;F||(G=this.In(G));return[G,c,e]};a.prototype.Zk=function(a,b,d,e){var g=this.Wc,c=this.A,f=this.v;if(a>b){var k=b;b=a;a=k}0>a?a=0:
a>=c&&(a=c-1);0>b?b=0:b>=c&&(b=c-1);a=d*c+a;b=d*c+b;c=b-15;if(0<=d&&d<f){for(;a<=c;)g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1,g[a]=e,a+=1;for(;a<=b;)g[a]=e,a+=1}};a.prototype.$k=function(a,b,d,e){var g=this.Wc,c=this.A,f=this.v;if(b>d){var k=d;d=b;b=k}0>b?b=0:b>=f&&(b=f-1);0>d?d=0:d>=f&&(d=f-1);b=b*c+a;d=d*c+a;f=d-15*c;if(0<=a&&a<c){for(;b<=f;)g[b]=e,b+=c,g[b]=
e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c,g[b]=e,b+=c;for(;b<=d;)g[b]=e,b+=c}};a.prototype.Yk=function(a,b,d,e,c){var g=Math.abs(d-a),f=Math.abs(e-b),k=a<d?1:-1,l=b<e?1:-1,h=g-f,m=this.A,q=this.v,A=this.Wc;if(!(0>a&&0>d||a>=m&&d>=m||0>b&&0>e||b>=q&&e>=q))if(0<=a&&a<m&&0<=b&&b<q&&0<=d&&d<m&&0<=e&&e<q)for(A[b*m+a]=c;a!==d||b!==e;){var y=h+h;y>-f&&(h-=f,a+=k);y<g&&(h+=g,b+=l);A[b*
m+a]=c}else for(0<=a&&a<m&&0<=b&&b<q&&(A[b*m+a]=c);a!==d||b!==e;)y=h+h,y>-f&&(h-=f,a+=k),y<g&&(h+=g,b+=l),0<=a&&a<m&&0<=b&&b<q&&(A[b*m+a]=c)};a.prototype.Gh=function(a,b,d,e,c){var g=this.A/2,f=this.v/2;if(0!==this.Na){a-=g;b-=f;var k=Math.sqrt(a*a+b*b);var l=180/Math.PI*Math.atan2(b,a);l+=this.Na;a=Math.round(k*Math.cos(Math.PI/180*l)+g);b=Math.round(k*Math.sin(Math.PI/180*l)+f);d-=g;e-=f;k=Math.sqrt(d*d+e*e);l=180/Math.PI*Math.atan2(e,d);l+=this.Na;d=Math.round(k*Math.cos(Math.PI/180*l)+g);e=Math.round(k*
Math.sin(Math.PI/180*l)+f)}a===d?this.$k(a,b,e,c):b===e?this.Zk(a,d,b,c):this.Yk(a,b,d,e,c)};a.prototype.Dd=function(){var a,b=this.A,d=this.v,e=this.gg,c=this.fg,G=this.ma,r=e,k,w,h=0<this.$e&&this.mh,m=((this.height/2-(this.aa+this.vb))*G+d/2)%G,q=((this.width/2-(this.da+this.Bb))*G+b/2)%G;if(this.jb)var A=h?2:1;else A=1,h=!1,r=e=this.Nf[0];for(k=e;A;){var y=-(b/2/G)-(this.width/2-this.da-this.Bb)|0;var v=22*-G;var t=b+G+22*G;var F=m-22*G;var p=d+22*G;var u=-b/1.5;var n=b+b/1.5;var I=-d/1.5;for(w=
d+d/1.5;v<=t;v+=G)if(h&&(0===y%this.$e?r=c:r=e),y+=1,r===k)if(this.S){var D=-(d/2/G)-(this.height/2-this.aa-this.vb)|0;for(a=F;a<p;a+=G)0===(D&1)?this.Gh(Math.round(v+q),Math.round(a),Math.round(v+q),Math.round(a+G-1),r):this.Gh(Math.round(v+q+G/2),Math.round(a),Math.round(v+q+G/2),Math.round(a+G-1),r),D+=1}else this.Gh(Math.round(v+q),I,Math.round(v+q),w-1,r);y=-(d/2/G)-(this.height/2-this.aa-this.vb)|0;for(a=F;a<p;a+=G)h&&(0===y%this.$e?r=c:r=e),y+=1,r===k&&this.Gh(u,Math.round(a),n-1,Math.round(a),
r);--A;k=c}};a.prototype.hh=function(){return 4<=this.ma};a.prototype.Mt=function(a){var b=this.la,d=this.na,e=this.ta,c=Math.round((this.width-b)/2-1),f=c+b+1,r=Math.round((this.height-d)/2-1),k=r+d+1,w=e[r],h=e[k];if(0===b)for(b=0;b<this.width;b+=1)w[b]=a,h[b]=a;else if(0===d)for(b=0;b<this.height;b+=1)e[b][c]=a,e[b][f]=a;else{for(b=c;b<=f;b+=1)w[b]=a,h[b]=a;for(b=r+1;b<=k-1;b+=1)e[b][c]=a,e[b][f]=a}};a.prototype.Fz=function(){var a=this.Nf[0],b=this.Wc,d;this.Xi&&(this.At(),--this.Xi,this.Xi||
(this.ed.set(this.wc),this.Sb.set(this.Ha),this.ld.set(this.Rc),this.Re.set(this.Yd),this.jd.set(this.Ic),this.yf.set(this.oe)));this.ma=this.zoom*this.Pb;this.ma<ViewConstants.Wa?this.ma=ViewConstants.Wa:this.ma>ViewConstants.Ib&&(this.ma=ViewConstants.Ib);this.zc=this.da+this.Bb;this.Ac=this.aa+this.vb;this.o=this.sc/2+1;this.Na=this.S||this.ca?0:this.angle;-1!==this.ka&&this.Mt(this.xc);if(4<=this.ma&&(this.Ne&&this.S||this.ca)){var e=0;for(d=b.length;e<d;)b[e]=a,e+=1;this.Vc(1)}else this.Xk(),
.125>this.ma?this.kh?this.tg(this.yg,this.bb,15):this.ug(this.bb,15):.25>this.ma?this.kh?this.tg(this.xf,this.Fa,7):this.ug(this.Fa,7):.5>this.ma?this.kh?this.tg(this.wf,this.Ca,3):this.ug(this.Ca,3):1>this.ma?this.kh?this.tg(this.fa,this.J,1):this.ug(this.J,1):this.kh?this.tg(this.kc,this.ta,0):this.ug(this.ta,0)};a.prototype.Us=function(a,b){var d=this.A>>3,e=this.Nf,c=this.Wc,g,f,k=1,w=1,h=0,m=this.ib&~b,q=this.lb&~b,A=~b;b=~b;var y=a,v=this.ma;1<this.o&&(k=this.I);a=Math.sin(this.Na/180*Math.PI)/
this.ma;var t=Math.cos(this.Na/180*Math.PI)/this.ma;var F=-(this.A/2*-a+this.v/2*t)+this.Ac;var p=-(this.A/2*t+this.v/2*a)+this.zc;1<this.I&&1<this.o&&(h=.4/(this.I-1),w=.6);this.Vc(w);var u=this.width<this.V?e[0]|0:this.Yj|0;var n=0;var I=F;for(g=0;g<this.v;g+=1){var D=p;for(f=0;f<d;f+=1){if((D&A)===(D&m)&&(I&b)===(I&q)){var B=y[I&q][D&m]|0;c[n]=e[B]}else c[n]=u;n+=1;D+=t;I-=a;(D&A)===(D&m)&&(I&b)===(I&q)?(B=y[I&q][D&m]|0,c[n]=e[B]):c[n]=u;n+=1;D+=t;I-=a;(D&A)===(D&m)&&(I&b)===(I&q)?(B=y[I&q][D&
m]|0,c[n]=e[B]):c[n]=u;n+=1;D+=t;I-=a;(D&A)===(D&m)&&(I&b)===(I&q)?(B=y[I&q][D&m]|0,c[n]=e[B]):c[n]=u;n+=1;D+=t;I-=a;(D&A)===(D&m)&&(I&b)===(I&q)?(B=y[I&q][D&m]|0,c[n]=e[B]):c[n]=u;n+=1;D+=t;I-=a;(D&A)===(D&m)&&(I&b)===(I&q)?(B=y[I&q][D&m]|0,c[n]=e[B]):c[n]=u;n+=1;D+=t;I-=a;(D&A)===(D&m)&&(I&b)===(I&q)?(B=y[I&q][D&m]|0,c[n]=e[B]):c[n]=u;n+=1;D+=t;I-=a;(D&A)===(D&m)&&(I&b)===(I&q)?(B=y[I&q][D&m]|0,c[n]=e[B]):c[n]=u;n+=1;D+=t;I-=a}p+=a;I=F+=t}(this.jb||this.Bc)&&this.hh()&&this.Dd();for(u=1;u<k;u+=
1){var z=2<this.g?this.g/this.I*u|0:(this.pc+1)/this.I*u|0;w+=h;this.Vc(w);a/=this.o;t/=this.o;v*=this.o;.125>v?(y=this.bb,b=15):.25>v?(y=this.Fa,b=7):.5>v?(y=this.Ca,b=3):1>v?(y=this.J,b=1):(y=this.ta,b=0);m=this.ib&~b;q=this.lb&~b;A=~b;b=~b;F=-(this.A/2*-a+this.v/2*t)+this.Ac;p=-(this.A/2*t+this.v/2*a)+this.zc;n=0;I=F;for(g=0;g<this.v;g+=1){D=p;for(f=0;f<d;f+=1)(D&A)===(D&m)&&(I&b)===(I&q)&&(B=y[I&q][D&m]|0,B>=z&&(c[n]=e[B])),n+=1,D+=t,I-=a,(D&A)===(D&m)&&(I&b)===(I&q)&&(B=y[I&q][D&m]|0,B>=z&&(c[n]=
e[B])),n+=1,D+=t,I-=a,(D&A)===(D&m)&&(I&b)===(I&q)&&(B=y[I&q][D&m]|0,B>=z&&(c[n]=e[B])),n+=1,D+=t,I-=a,(D&A)===(D&m)&&(I&b)===(I&q)&&(B=y[I&q][D&m]|0,B>=z&&(c[n]=e[B])),n+=1,D+=t,I-=a,(D&A)===(D&m)&&(I&b)===(I&q)&&(B=y[I&q][D&m]|0,B>=z&&(c[n]=e[B])),n+=1,D+=t,I-=a,(D&A)===(D&m)&&(I&b)===(I&q)&&(B=y[I&q][D&m]|0,B>=z&&(c[n]=e[B])),n+=1,D+=t,I-=a,(D&A)===(D&m)&&(I&b)===(I&q)&&(B=y[I&q][D&m]|0,B>=z&&(c[n]=e[B])),n+=1,D+=t,I-=a,(D&A)===(D&m)&&(I&b)===(I&q)&&(B=y[I&q][D&m]|0,B>=z&&(c[n]=e[B])),n+=1,D+=
t,I-=a;p+=a;I=F+=t}}};a.prototype.Vs=function(a,b){var d=this.A>>3,e=this.Nf,c=this.Wc,g,f,k=1,w=1,h=0,m=this.ib&~b,q=this.lb&~b,A=~b;b=~b;var y=a,v=this.ma;1<this.o&&(k=this.I);a=1/this.ma;var t=-(this.v/2*a)+this.Ac;var F=-(this.A/2*a)+this.zc;1<this.I&&1<this.o&&(h=.4/(this.I-1),w=.6);this.Vc(w);var p=this.width<this.V?e[0]|0:this.Yj|0;var u=0;var n=t;for(g=0;g<this.v;g+=1){if((n&b)===(n&q)){var I=y[n&q];var D=F;this.S&&(D+=.5*(n|0));for(f=0;f<d;f+=1){if((D&A)===(D&m)){var B=I[D&m]|0;c[u]=e[B]}else c[u]=
p;u+=1;D+=a;(D&A)===(D&m)?(B=I[D&m]|0,c[u]=e[B]):c[u]=p;u+=1;D+=a;(D&A)===(D&m)?(B=I[D&m]|0,c[u]=e[B]):c[u]=p;u+=1;D+=a;(D&A)===(D&m)?(B=I[D&m]|0,c[u]=e[B]):c[u]=p;u+=1;D+=a;(D&A)===(D&m)?(B=I[D&m]|0,c[u]=e[B]):c[u]=p;u+=1;D+=a;(D&A)===(D&m)?(B=I[D&m]|0,c[u]=e[B]):c[u]=p;u+=1;D+=a;(D&A)===(D&m)?(B=I[D&m]|0,c[u]=e[B]):c[u]=p;u+=1;D+=a;(D&A)===(D&m)?(B=I[D&m]|0,c[u]=e[B]):c[u]=p;u+=1;D+=a}}else for(f=0;f<d;f+=1)c[u]=p,u+=1,c[u]=p,u+=1,c[u]=p,u+=1,c[u]=p,u+=1,c[u]=p,u+=1,c[u]=p,u+=1,c[u]=p,u+=1,c[u]=
p,u+=1;n=t+=a}(this.jb||this.Bc)&&this.hh()&&this.Dd();for(p=1;p<k;p+=1){var z=2<this.g?this.g/this.I*p|0:(this.pc+1)/this.I*p|0;w+=h;this.Vc(w);a/=this.o;v*=this.o;.125>v?(y=this.bb,b=15):.25>v?(y=this.Fa,b=7):.5>v?(y=this.Ca,b=3):1>v?(y=this.J,b=1):(y=this.ta,b=0);m=this.ib&~b;q=this.lb&~b;A=~b;b=~b;t=-(this.v/2*a)+this.Ac;F=-(this.A/2*a)+this.zc;u=0;n=t;for(g=0;g<this.v;g+=1){if((n&b)===(n&q))for(I=y[n&q],D=F,this.S&&(D+=.5*(n|0)),f=0;f<d;f+=1)(D&A)===(D&m)&&(B=I[D&m]|0,B>=z&&(c[u]=e[B])),u+=1,
D+=a,(D&A)===(D&m)&&(B=y[n&q][D&m]|0,B>=z&&(c[u]=e[B])),u+=1,D+=a,(D&A)===(D&m)&&(B=y[n&q][D&m]|0,B>=z&&(c[u]=e[B])),u+=1,D+=a,(D&A)===(D&m)&&(B=y[n&q][D&m]|0,B>=z&&(c[u]=e[B])),u+=1,D+=a,(D&A)===(D&m)&&(B=y[n&q][D&m]|0,B>=z&&(c[u]=e[B])),u+=1,D+=a,(D&A)===(D&m)&&(B=y[n&q][D&m]|0,B>=z&&(c[u]=e[B])),u+=1,D+=a,(D&A)===(D&m)&&(B=y[n&q][D&m]|0,B>=z&&(c[u]=e[B])),u+=1,D+=a,(D&A)===(D&m)&&(B=y[n&q][D&m]|0,B>=z&&(c[u]=e[B])),u+=1,D+=a;else u+=d<<3;n=t+=a}}};a.prototype.np=function(a,b){var d=this.A>>3,e=
this.Nf,c=this.Wc,g,f,k=1,w=1,h=0,m=this.ib&~b;b=this.lb&~b;var q=a,A=this.ma;1<this.o&&(k=this.I);var y=Math.sin(this.Na/180*Math.PI)/this.ma;var v=Math.cos(this.Na/180*Math.PI)/this.ma;var t=-(this.A/2*-y+this.v/2*v)+this.Ac;var F=-(this.A/2*v+this.v/2*y)+this.zc;1<this.I&&1<this.o&&(h=.4/(this.I-1),w=.6);this.Vc(w);var p=0;var u=t;for(g=0;g<this.v;g+=1){var n=F;for(f=0;f<d;f+=1){var I=q[u&b][n&m]|0;c[p]=e[I];p+=1;n+=v;u-=y;I=q[u&b][n&m]|0;c[p]=e[I];p+=1;n+=v;u-=y;I=q[u&b][n&m]|0;c[p]=e[I];p+=1;
n+=v;u-=y;I=q[u&b][n&m]|0;c[p]=e[I];p+=1;n+=v;u-=y;I=q[u&b][n&m]|0;c[p]=e[I];p+=1;n+=v;u-=y;I=q[u&b][n&m]|0;c[p]=e[I];p+=1;n+=v;u-=y;I=q[u&b][n&m]|0;c[p]=e[I];p+=1;n+=v;u-=y;I=q[u&b][n&m]|0;c[p]=e[I];p+=1;n+=v;u-=y}F+=y;u=t+=v}(this.jb||this.Bc)&&this.hh()&&this.Dd();for(a=1;a<k;a+=1){var D=2<this.g?this.g/this.I*a|0:(this.pc+1)/this.I*a|0;w+=h;this.Vc(w);y/=this.o;v/=this.o;A*=this.o;.125>A?(q=this.bb,b=15):.25>A?(q=this.Fa,b=7):.5>A?(q=this.Ca,b=3):1>A?(q=this.J,b=1):(q=this.ta,b=0);m=this.ib&~b;
b=this.lb&~b;t=-(this.A/2*-y+this.v/2*v)+this.Ac;F=-(this.A/2*v+this.v/2*y)+this.zc;p=0;u=t;for(g=0;g<this.v;g+=1){n=F;for(f=0;f<d;f+=1)I=q[u&b][n&m]|0,I>=D&&(c[p]=e[I]),p+=1,n+=v,u-=y,I=q[u&b][n&m]|0,I>=D&&(c[p]=e[I]),p+=1,n+=v,u-=y,I=q[u&b][n&m]|0,I>=D&&(c[p]=e[I]),p+=1,n+=v,u-=y,I=q[u&b][n&m]|0,I>=D&&(c[p]=e[I]),p+=1,n+=v,u-=y,I=q[u&b][n&m]|0,I>=D&&(c[p]=e[I]),p+=1,n+=v,u-=y,I=q[u&b][n&m]|0,I>=D&&(c[p]=e[I]),p+=1,n+=v,u-=y,I=q[u&b][n&m]|0,I>=D&&(c[p]=e[I]),p+=1,n+=v,u-=y,I=q[u&b][n&m]|0,I>=D&&
(c[p]=e[I]),p+=1,n+=v,u-=y;F+=y;u=t+=v}}};a.prototype.op=function(a,b){var d=this.A>>3,e=this.Nf,c=this.Wc,g,f=1,k=1,w=0,h=this.ib&~b;b=this.lb&~b;var m=a,q=this.ma;1<this.o&&(f=this.I);var A=1/this.ma;var y=-(this.v/2*A)+this.Ac;var v=-(this.A/2*A)+this.zc;1<this.I&&1<this.o&&(w=.4/(this.I-1),k=.6);this.Vc(k);var t=0;var F=y;for(g=0;g<this.v;g+=1){var p=m[F&b];var u=v;this.S&&(u+=.5*(F|0));for(F=0;F<d;F+=1){var n=p[u&h]|0;c[t]=e[n];t+=1;u+=A;n=p[u&h]|0;c[t]=e[n];t+=1;u+=A;n=p[u&h]|0;c[t]=e[n];t+=
1;u+=A;n=p[u&h]|0;c[t]=e[n];t+=1;u+=A;n=p[u&h]|0;c[t]=e[n];t+=1;u+=A;n=p[u&h]|0;c[t]=e[n];t+=1;u+=A;n=p[u&h]|0;c[t]=e[n];t+=1;u+=A;n=p[u&h]|0;c[t]=e[n];t+=1;u+=A}F=y+=A}(this.jb||this.Bc)&&this.hh()&&this.Dd();for(a=1;a<f;a+=1){var I=2<this.g?this.g/this.I*a|0:(this.pc+1)/this.I*a|0;k+=w;this.Vc(k);A/=this.o;q*=this.o;.125>q?(m=this.bb,b=15):.25>q?(m=this.Fa,b=7):.5>q?(m=this.Ca,b=3):1>q?(m=this.J,b=1):(m=this.ta,b=0);h=this.ib&~b;b=this.lb&~b;y=-(this.v/2*A)+this.Ac;v=-(this.A/2*A)+this.zc;t=0;F=
y;for(g=0;g<this.v;g+=1){p=m[F&b];u=v;this.S&&(u+=.5*(F|0));for(F=0;F<d;F+=1)n=p[u&h]|0,n>=I&&(c[t]=e[n]),t+=1,u+=A,n=p[u&h]|0,n>=I&&(c[t]=e[n]),t+=1,u+=A,n=p[u&h]|0,n>=I&&(c[t]=e[n]),t+=1,u+=A,n=p[u&h]|0,n>=I&&(c[t]=e[n]),t+=1,u+=A,n=p[u&h]|0,n>=I&&(c[t]=e[n]),t+=1,u+=A,n=p[u&h]|0,n>=I&&(c[t]=e[n]),t+=1,u+=A,n=p[u&h]|0,n>=I&&(c[t]=e[n]),t+=1,u+=A,n=p[u&h]|0,n>=I&&(c[t]=e[n]),t+=1,u+=A;F=y+=A}}};a.prototype.ug=function(a,b){var d=Math.sin(this.Na/180*Math.PI)/this.ma,e=Math.cos(this.Na/180*Math.PI)/
this.ma,c=this.A,g=this.v,f=-(this.A/2*-d+this.v/2*e)+this.Ac,k=-(this.A/2*e+this.v/2*d)+this.zc,w=f+c*-d,h=k+c*e,m=f+g*e;g=k+g*d;d=m+c*-d;e=g+c*e;c=f;var q=k;h<q&&(q=h);g<q&&(q=g);e<q&&(q=g);h>k&&(k=h);g>k&&(k=g);e>k&&(k=e);w<c&&(c=w);m<c&&(c=m);d<c&&(c=d);w>f&&(f=w);m>f&&(f=m);d>f&&(f=d);0>(q|0)||(k|0)>=this.width||0>(c|0)||(f|0)>=this.height?0===this.Na?this.Vs(a,b):this.Us(a,b):0===this.Na?this.op(a,b):this.np(a,b)};a.prototype.vs=function(a,b,d){var e=this.A>>3,c=this.Nf,g=this.Wc,f,k;var l=
ViewConstants.hb[3]+128;var h=ViewConstants.hb[4]+128,m=ViewConstants.hb[5]+128,q=ViewConstants.hb[6]+128,A=1,y=1,v=0,t=this.cb,F=this.ib&~d,p=this.lb&~d,u=~d;d=~d;var n=b,I=this.ma;1<this.o&&(A=this.I);b=Math.sin(this.Na/180*Math.PI)/this.ma;var D=Math.cos(this.Na/180*Math.PI)/this.ma;var B=-(this.A/2*-b+this.v/2*D)+this.Ac;var z=-(this.A/2*D+this.v/2*b)+this.zc;1<this.I&&1<this.o&&(v=.4/(this.I-1),y=.6);this.Vc(y);var C=this.width<this.V?c[0]|0:this.Yj|0;var x=0;var J=B;for(f=0;f<this.v;f+=1){var L=
z;for(k=0;k<e;k+=1){if((L&u)===(L&F)&&(J&d)===(J&p)){var K=n[J&p][L&F];var S=a[J&p][L&F];S===h||S===q?(K>=t&&(S=l),K=c[S]|0):S===l||S===m?(K<t&&(S=h),K=c[S]|0):K=c[K]|0;g[x]=K}else g[x]=C;x+=1;L+=D;J-=b;(L&u)===(L&F)&&(J&d)===(J&p)?(K=n[J&p][L&F],S=a[J&p][L&F],S===h||S===q?(K>=t&&(S=l),K=c[S]|0):S===l||S===m?(K<t&&(S=h),K=c[S]|0):K=c[K]|0,g[x]=K):g[x]=C;x+=1;L+=D;J-=b;(L&u)===(L&F)&&(J&d)===(J&p)?(K=n[J&p][L&F],S=a[J&p][L&F],S===h||S===q?(K>=t&&(S=l),K=c[S]|0):S===l||S===m?(K<t&&(S=h),K=c[S]|0):K=
c[K]|0,g[x]=K):g[x]=C;x+=1;L+=D;J-=b;(L&u)===(L&F)&&(J&d)===(J&p)?(K=n[J&p][L&F],S=a[J&p][L&F],S===h||S===q?(K>=t&&(S=l),K=c[S]|0):S===l||S===m?(K<t&&(S=h),K=c[S]|0):K=c[K]|0,g[x]=K):g[x]=C;x+=1;L+=D;J-=b;(L&u)===(L&F)&&(J&d)===(J&p)?(K=n[J&p][L&F],S=a[J&p][L&F],S===h||S===q?(K>=t&&(S=l),K=c[S]|0):S===l||S===m?(K<t&&(S=h),K=c[S]|0):K=c[K]|0,g[x]=K):g[x]=C;x+=1;L+=D;J-=b;(L&u)===(L&F)&&(J&d)===(J&p)?(K=n[J&p][L&F],S=a[J&p][L&F],S===h||S===q?(K>=t&&(S=l),K=c[S]|0):S===l||S===m?(K<t&&(S=h),K=c[S]|0):
K=c[K]|0,g[x]=K):g[x]=C;x+=1;L+=D;J-=b;(L&u)===(L&F)&&(J&d)===(J&p)?(K=n[J&p][L&F],S=a[J&p][L&F],S===h||S===q?(K>=t&&(S=l),K=c[S]|0):S===l||S===m?(K<t&&(S=h),K=c[S]|0):K=c[K]|0,g[x]=K):g[x]=C;x+=1;L+=D;J-=b;(L&u)===(L&F)&&(J&d)===(J&p)?(K=n[J&p][L&F],S=a[J&p][L&F],S===h||S===q?(K>=t&&(S=l),K=c[S]|0):S===l||S===m?(K<t&&(S=h),K=c[S]|0):K=c[K]|0,g[x]=K):g[x]=C;x+=1;L+=D;J-=b}z+=b;J=B+=D}(this.jb||this.Bc)&&this.hh()&&this.Dd();for(a=1;a<A;a+=1)for(l=2<this.g?this.g/this.I*a|0:(this.pc+1)/this.I*a|0,
y+=v,this.Vc(y),b/=this.o,D/=this.o,I*=this.o,.125>I?(n=this.bb,d=15):.25>I?(n=this.Fa,d=7):.5>I?(n=this.Ca,d=3):1>I?(n=this.J,d=1):(n=this.ta,d=0),F=this.ib&~d,p=this.lb&~d,u=~d,d=~d,B=-(this.A/2*-b+this.v/2*D)+this.Ac,z=-(this.A/2*D+this.v/2*b)+this.zc,x=0,J=B,f=0;f<this.v;f+=1){L=z;for(k=0;k<e;k+=1)(L&u)===(L&F)&&(J&d)===(J&p)&&(K=n[J&p][L&F]|0,K>=l&&(g[x]=c[K])),x+=1,L+=D,J-=b,(L&u)===(L&F)&&(J&d)===(J&p)&&(K=n[J&p][L&F]|0,K>=l&&(g[x]=c[K])),x+=1,L+=D,J-=b,(L&u)===(L&F)&&(J&d)===(J&p)&&(K=n[J&
p][L&F]|0,K>=l&&(g[x]=c[K])),x+=1,L+=D,J-=b,(L&u)===(L&F)&&(J&d)===(J&p)&&(K=n[J&p][L&F]|0,K>=l&&(g[x]=c[K])),x+=1,L+=D,J-=b,(L&u)===(L&F)&&(J&d)===(J&p)&&(K=n[J&p][L&F]|0,K>=l&&(g[x]=c[K])),x+=1,L+=D,J-=b,(L&u)===(L&F)&&(J&d)===(J&p)&&(K=n[J&p][L&F]|0,K>=l&&(g[x]=c[K])),x+=1,L+=D,J-=b,(L&u)===(L&F)&&(J&d)===(J&p)&&(K=n[J&p][L&F]|0,K>=l&&(g[x]=c[K])),x+=1,L+=D,J-=b,(L&u)===(L&F)&&(J&d)===(J&p)&&(K=n[J&p][L&F]|0,K>=l&&(g[x]=c[K])),x+=1,L+=D,J-=b;z+=b;J=B+=D}};a.prototype.Ps=function(a,b,d){var e=this.A>>
3,c=this.Nf,g=this.Wc,f,k;var l=ViewConstants.hb[3]+128;var h=ViewConstants.hb[4]+128,m=ViewConstants.hb[5]+128,q=ViewConstants.hb[6]+128,A=1,y=1,v=0,t=this.cb,F=this.ib&~d;d=this.lb&~d;var p=b,u=this.ma;1<this.o&&(A=this.I);b=Math.sin(this.Na/180*Math.PI)/this.ma;var n=Math.cos(this.Na/180*Math.PI)/this.ma;var I=-(this.A/2*-b+this.v/2*n)+this.Ac;var D=-(this.A/2*n+this.v/2*b)+this.zc;1<this.I&&1<this.o&&(v=.4/(this.I-1),y=.6);this.Vc(y);var B=0;var z=I;for(f=0;f<this.v;f+=1){var C=D;for(k=0;k<e;k+=
1){var x=p[z&d][C&F];var J=a[z&d][C&F];J===h||J===q?(x>=t&&(J=l),x=c[J]|0):J===l||J===m?(x<t&&(J=h),x=c[J]|0):x=c[x]|0;g[B]=x;B+=1;C+=n;z-=b;x=p[z&d][C&F];J=a[z&d][C&F];J===h||J===q?(x>=t&&(J=l),x=c[J]|0):J===l||J===m?(x<t&&(J=h),x=c[J]|0):x=c[x]|0;g[B]=x;B+=1;C+=n;z-=b;x=p[z&d][C&F];J=a[z&d][C&F];J===h||J===q?(x>=t&&(J=l),x=c[J]|0):J===l||J===m?(x<t&&(J=h),x=c[J]|0):x=c[x]|0;g[B]=x;B+=1;C+=n;z-=b;x=p[z&d][C&F];J=a[z&d][C&F];J===h||J===q?(x>=t&&(J=l),x=c[J]|0):J===l||J===m?(x<t&&(J=h),x=c[J]|0):x=
c[x]|0;g[B]=x;B+=1;C+=n;z-=b;x=p[z&d][C&F];J=a[z&d][C&F];J===h||J===q?(x>=t&&(J=l),x=c[J]|0):J===l||J===m?(x<t&&(J=h),x=c[J]|0):x=c[x]|0;g[B]=x;B+=1;C+=n;z-=b;x=p[z&d][C&F];J=a[z&d][C&F];J===h||J===q?(x>=t&&(J=l),x=c[J]|0):J===l||J===m?(x<t&&(J=h),x=c[J]|0):x=c[x]|0;g[B]=x;B+=1;C+=n;z-=b;x=p[z&d][C&F];J=a[z&d][C&F];J===h||J===q?(x>=t&&(J=l),x=c[J]|0):J===l||J===m?(x<t&&(J=h),x=c[J]|0):x=c[x]|0;g[B]=x;B+=1;C+=n;z-=b;x=p[z&d][C&F];J=a[z&d][C&F];J===h||J===q?(x>=t&&(J=l),x=c[J]|0):J===l||J===m?(x<t&&
(J=h),x=c[J]|0):x=c[x]|0;g[B]=x;B+=1;C+=n;z-=b}D+=b;z=I+=n}(this.jb||this.Bc)&&this.hh()&&this.Dd();for(a=1;a<A;a+=1)for(l=2<this.g?this.g/this.I*a|0:(this.pc+1)/this.I*a|0,y+=v,this.Vc(y),b/=this.o,n/=this.o,u*=this.o,.125>u?(p=this.bb,d=15):.25>u?(p=this.Fa,d=7):.5>u?(p=this.Ca,d=3):1>u?(p=this.J,d=1):(p=this.ta,d=0),F=this.ib&~d,d=this.lb&~d,I=-(this.A/2*-b+this.v/2*n)+this.Ac,D=-(this.A/2*n+this.v/2*b)+this.zc,B=0,z=I,f=0;f<this.v;f+=1){C=D;for(k=0;k<e;k+=1)x=p[z&d][C&F]|0,x>=l&&(g[B]=c[x]),B+=
1,C+=n,z-=b,x=p[z&d][C&F]|0,x>=l&&(g[B]=c[x]),B+=1,C+=n,z-=b,x=p[z&d][C&F]|0,x>=l&&(g[B]=c[x]),B+=1,C+=n,z-=b,x=p[z&d][C&F]|0,x>=l&&(g[B]=c[x]),B+=1,C+=n,z-=b,x=p[z&d][C&F]|0,x>=l&&(g[B]=c[x]),B+=1,C+=n,z-=b,x=p[z&d][C&F]|0,x>=l&&(g[B]=c[x]),B+=1,C+=n,z-=b,x=p[z&d][C&F]|0,x>=l&&(g[B]=c[x]),B+=1,C+=n,z-=b,x=p[z&d][C&F]|0,x>=l&&(g[B]=c[x]),B+=1,C+=n,z-=b;D+=b;z=I+=n}};a.prototype.Ss=function(a,b,d){var e=this.A>>3,c=this.Nf,g=this.Wc,f;var k=ViewConstants.hb[3]+128;var l=ViewConstants.hb[4]+128,h=ViewConstants.hb[5]+
128,m=ViewConstants.hb[6]+128,q=1,A=1,y=0,v=this.cb,t=this.ib&~d;d=this.lb&~d;var F=b,p=this.ma;1<this.o&&(q=this.I);b=1/this.ma;var u=-(this.v/2*b)+this.Ac;var n=-(this.A/2*b)+this.zc;1<this.I&&1<this.o&&(y=.4/(this.I-1),A=.6);this.Vc(A);var I=0;var D=u;for(f=0;f<this.v;f+=1){var B=F[D&d];var z=a[D&d];var C=n;this.S&&(C+=.5*(D|0));for(D=0;D<e;D+=1){var x=B[C&t];var J=z[C&t];J===l||J===m?(x>=v&&(J=k),x=c[J]|0):J===k||J===h?(x<v&&(J=l),x=c[J]|0):x=c[x]|0;g[I]=x;I+=1;C+=b;x=B[C&t];J=z[C&t];J===l||J===
m?(x>=v&&(J=k),x=c[J]|0):J===k||J===h?(x<v&&(J=l),x=c[J]|0):x=c[x]|0;g[I]=x;I+=1;C+=b;x=B[C&t];J=z[C&t];J===l||J===m?(x>=v&&(J=k),x=c[J]|0):J===k||J===h?(x<v&&(J=l),x=c[J]|0):x=c[x]|0;g[I]=x;I+=1;C+=b;x=B[C&t];J=z[C&t];J===l||J===m?(x>=v&&(J=k),x=c[J]|0):J===k||J===h?(x<v&&(J=l),x=c[J]|0):x=c[x]|0;g[I]=x;I+=1;C+=b;x=B[C&t];J=z[C&t];J===l||J===m?(x>=v&&(J=k),x=c[J]|0):J===k||J===h?(x<v&&(J=l),x=c[J]|0):x=c[x]|0;g[I]=x;I+=1;C+=b;x=B[C&t];J=z[C&t];J===l||J===m?(x>=v&&(J=k),x=c[J]|0):J===k||J===h?(x<
v&&(J=l),x=c[J]|0):x=c[x]|0;g[I]=x;I+=1;C+=b;x=B[C&t];J=z[C&t];J===l||J===m?(x>=v&&(J=k),x=c[J]|0):J===k||J===h?(x<v&&(J=l),x=c[J]|0):x=c[x]|0;g[I]=x;I+=1;C+=b;x=B[C&t];J=z[C&t];J===l||J===m?(x>=v&&(J=k),x=c[J]|0):J===k||J===h?(x<v&&(J=l),x=c[J]|0):x=c[x]|0;g[I]=x;I+=1;C+=b}D=u+=b}(this.jb||this.Bc)&&this.hh()&&this.Dd();for(a=1;a<q;a+=1)for(k=2<this.g?this.g/this.I*a|0:(this.pc+1)/this.I*a|0,A+=y,this.Vc(A),b/=this.o,p*=this.o,.125>p?(F=this.bb,d=15):.25>p?(F=this.Fa,d=7):.5>p?(F=this.Ca,d=3):1>
p?(F=this.J,d=1):(F=this.ta,d=0),t=this.ib&~d,d=this.lb&~d,u=-(this.v/2*b)+this.Ac,n=-(this.A/2*b)+this.zc,I=0,D=u,f=0;f<this.v;f+=1){B=F[D&d];C=n;this.S&&(C+=.5*(D|0));for(D=0;D<e;D+=1)x=B[C&t]|0,x>=k&&(g[I]=c[x]),I+=1,C+=b,x=B[C&t]|0,x>=k&&(g[I]=c[x]),I+=1,C+=b,x=B[C&t]|0,x>=k&&(g[I]=c[x]),I+=1,C+=b,x=B[C&t]|0,x>=k&&(g[I]=c[x]),I+=1,C+=b,x=B[C&t]|0,x>=k&&(g[I]=c[x]),I+=1,C+=b,x=B[C&t]|0,x>=k&&(g[I]=c[x]),I+=1,C+=b,x=B[C&t]|0,x>=k&&(g[I]=c[x]),I+=1,C+=b,x=B[C&t]|0,x>=k&&(g[I]=c[x]),I+=1,C+=b;D=u+=
b}};a.prototype.Es=function(a,b,d){var e=this.A>>3,c=this.Nf,g=this.Wc,f;var k=ViewConstants.hb[3]+128;var l=ViewConstants.hb[4]+128,h=ViewConstants.hb[5]+128,m=ViewConstants.hb[6]+128,q=1,A=1,y=0,v=this.cb,t=this.ib&~d,F=this.lb&~d,p=~d;d=~d;var u=b,n=this.ma;1<this.o&&(q=this.I);b=1/this.ma;var I=-(this.v/2*b)+this.Ac;var D=-(this.A/2*b)+this.zc;1<this.I&&1<this.o&&(y=.4/(this.I-1),A=.6);this.Vc(A);var B=this.width<this.V?c[0]|0:this.Yj|0;var z=0;var C=I;for(f=0;f<this.v;f+=1){if((C&d)===(C&F)){var x=
u[C&F];var J=a[C&F];var L=D;this.S&&(L+=.5*(C|0));for(C=0;C<e;C+=1){if((L&p)===(L&t)){var K=x[L&t];var S=J[L&t];S===l||S===m?(K>=v&&(S=k),K=c[S]|0):S===k||S===h?(K<v&&(S=l),K=c[S]|0):K=c[K]|0}else K=B;g[z]=K;z+=1;L+=b;(L&p)===(L&t)?(K=x[L&t],S=J[L&t],S===l||S===m?(K>=v&&(S=k),K=c[S]|0):S===k||S===h?(K<v&&(S=l),K=c[S]|0):K=c[K]|0):K=B;g[z]=K;z+=1;L+=b;(L&p)===(L&t)?(K=x[L&t],S=J[L&t],S===l||S===m?(K>=v&&(S=k),K=c[S]|0):S===k||S===h?(K<v&&(S=l),K=c[S]|0):K=c[K]|0):K=B;g[z]=K;z+=1;L+=b;(L&p)===(L&t)?
(K=x[L&t],S=J[L&t],S===l||S===m?(K>=v&&(S=k),K=c[S]|0):S===k||S===h?(K<v&&(S=l),K=c[S]|0):K=c[K]|0):K=B;g[z]=K;z+=1;L+=b;(L&p)===(L&t)?(K=x[L&t],S=J[L&t],S===l||S===m?(K>=v&&(S=k),K=c[S]|0):S===k||S===h?(K<v&&(S=l),K=c[S]|0):K=c[K]|0):K=B;g[z]=K;z+=1;L+=b;(L&p)===(L&t)?(K=x[L&t],S=J[L&t],S===l||S===m?(K>=v&&(S=k),K=c[S]|0):S===k||S===h?(K<v&&(S=l),K=c[S]|0):K=c[K]|0):K=B;g[z]=K;z+=1;L+=b;(L&p)===(L&t)?(K=x[L&t],S=J[L&t],S===l||S===m?(K>=v&&(S=k),K=c[S]|0):S===k||S===h?(K<v&&(S=l),K=c[S]|0):K=c[K]|
0):K=B;g[z]=K;z+=1;L+=b;(L&p)===(L&t)?(K=x[L&t],S=J[L&t],S===l||S===m?(K>=v&&(S=k),K=c[S]|0):S===k||S===h?(K<v&&(S=l),K=c[S]|0):K=c[K]|0):K=B;g[z]=K;z+=1;L+=b}}else for(C=0;C<e;C+=1)g[z]=B,z+=1,g[z]=B,z+=1,g[z]=B,z+=1,g[z]=B,z+=1,g[z]=B,z+=1,g[z]=B,z+=1,g[z]=B,z+=1,g[z]=B,z+=1;C=I+=b}(this.jb||this.Bc)&&this.hh()&&this.Dd();for(a=1;a<q;a+=1)for(k=2<this.g?this.g/this.I*a|0:(this.pc+1)/this.I*a|0,A+=y,this.Vc(A),b/=this.o,n*=this.o,.125>n?(u=this.bb,d=15):.25>n?(u=this.Fa,d=7):.5>n?(u=this.Ca,d=3):
1>n?(u=this.J,d=1):(u=this.ta,d=0),t=this.ib&~d,F=this.lb&~d,p=~d,d=~d,I=-(this.v/2*b)+this.Ac,D=-(this.A/2*b)+this.zc,z=0,C=I,f=0;f<this.v;f+=1){if((C&d)===(C&F))for(x=u[C&F],L=D,this.S&&(L+=.5*(C|0)),C=0;C<e;C+=1)(L&p)===(L&t)&&(K=x[L&t]|0,K>=k&&(g[z]=c[K])),z+=1,L+=b,(L&p)===(L&t)&&(K=x[L&t]|0,K>=k&&(g[z]=c[K])),z+=1,L+=b,(L&p)===(L&t)&&(K=x[L&t]|0,K>=k&&(g[z]=c[K])),z+=1,L+=b,(L&p)===(L&t)&&(K=x[L&t]|0,K>=k&&(g[z]=c[K])),z+=1,L+=b,(L&p)===(L&t)&&(K=x[L&t]|0,K>=k&&(g[z]=c[K])),z+=1,L+=b,(L&p)===
(L&t)&&(K=x[L&t]|0,K>=k&&(g[z]=c[K])),z+=1,L+=b,(L&p)===(L&t)&&(K=x[L&t]|0,K>=k&&(g[z]=c[K])),z+=1,L+=b,(L&p)===(L&t)&&(K=x[L&t]|0,K>=k&&(g[z]=c[K])),z+=1,L+=b;else z+=e<<3;C=I+=b}};a.prototype.tg=function(a,b,d){var c=Math.sin(this.Na/180*Math.PI)/this.ma,e=Math.cos(this.Na/180*Math.PI)/this.ma,g=this.A,f=this.v,k=-(this.A/2*-c+this.v/2*e)+this.Ac,l=-(this.A/2*e+this.v/2*c)+this.zc,h=k+g*-c,m=l+g*e,q=k+f*e;f=l+f*c;c=q+g*-c;e=f+g*e;g=k;var A=l;m<A&&(A=m);f<A&&(A=f);e<A&&(A=f);m>l&&(l=m);f>l&&(l=f);
e>l&&(l=e);h<g&&(g=h);q<g&&(g=q);c<g&&(g=c);h>k&&(k=h);q>k&&(k=q);c>k&&(k=c);0>(A|0)||(l|0)>=this.width||0>(g|0)||(k|0)>=this.height?0===this.Na?this.Es(a,b,d):this.vs(a,b,d):0===this.Na?this.Ss(a,b,d):this.Ps(a,b,d)};a.prototype.Fn=function(){var a;if(!this.Ed.data.buffer){var b=this.Ed.data;var d=this.Jh;var c=d.length;for(a=0;a<c;)b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1}this.context.putImageData(this.Ed,0,0)};a.prototype.Uk=function(){var a,b=0,d=this.v,c=this.A,e=this.Wc,G=
this.$g;for(a=0;a<d;a+=1)e.set(G,b),b+=c};window.LifeConstants=e;window.Life=a})();(function(){function c(b,d){var a;b=b.replace(/&amp;/gi,"&");d&&(b=b.replace(/=/gm," = "),b=b.replace(/\n/gm," _NEWLINE_ "));b=b.match(/\S+/g);this.f=[];for(a=0;a<b.length;a+=1){if(d&&"#"===b[a][0]){for(a+=1;a<b.length&&"_NEWLINE_"!==b[a];)a+=1;a<b.length&&(a+=1)}a<b.length&&(this.f[this.f.length]=b[a])}this.current=0}c.prototype.bz=function(){var b=!1;this.f&&this.current<this.f.length&&"_NEWLINE_"===this.f[this.current]&&(b=!0);return b};c.prototype.ku=function(b){var d=!1;"_NEWLINE_"===b&&(d=!0);
return d};c.prototype.T=function(){var b="";this.f&&this.current<this.f.length&&(b=this.f[this.current],this.current+=1);return b};c.prototype.Mn=function(){var b;for(b=this.T();"_NEWLINE_"===b;)b=this.T();return b};c.prototype.ya=function(){var b="";this.f&&this.current<this.f.length&&(b=this.f[this.current]);return b};c.prototype.ij=function(b,d){var a=-1,c=this.current;-1!==d&&0<=d&&d<this.f.length&&(c=d);if(this.f)for(;c<this.f.length&&-1===a;)this.f[c]===b&&(a=c),c+=1;-1!==a&&(this.current=c);
return a};c.prototype.nk=function(b){return!isNaN(parseFloat(b))&&isFinite(Number(b))};c.prototype.i=function(b){var d=!1,a=b.indexOf("/");-1!==a&&(d=b.substr(0,a),b=b.substr(a+1),d=this.nk(d)&&this.nk(b));return d};c.prototype.Pp=function(b){var d=0;if(this.i(b)){var a=b.indexOf("/");var c=b.substr(0,a);b=b.substr(a+1);0!==Number(b)&&(d=Number(c)/Number(b))}else this.nk(b)&&(d=parseFloat(b));return d};c.prototype.G=function(){var b=this.T();return this.Pp(b)};c.prototype.H=function(){var b=!1;if(this.f&&
this.current<this.f.length){var d=this.f[this.current];this.i(d)?b=!0:b=this.nk(d)}return b};c.prototype.fy=function(){this.f&&(this.current=this.f.length)};window.Script=c})();(function(){function c(a){this.o=a;this.xj=this.Ef=!1;this.Be=f.kr;this.Mg=f.xk;this.oa=this.yb=-1;this.angle=this.y=this.x=0;this.depth=this.I=this.zoom=1;this.nb=0;this.kb=60;this.step=1;this.ec=this.ab=0;this.yd="";this.lm=this.lj=this.Vo=this.Rm=this.Hh=this.Fh=this.ls=this.Kv=this.Am=this.ki=this.Hi=this.Qf=this.zf=this.Td=this.vf=this.Ff=this.Gc=this.pf=this.Wd=this.le=this.qc=this.Di=this.mf=this.lf=this.kf=this.od=!1}function b(a,b,d,c,e,f,k,w,h,m,q,A,y,v,t,F,p){this.coords=a;this.Mq=b;this.zoom=
d;this.se=c;this.alpha=e;this.size=f;this.$a=k;this.Ke=w;this.dc=h;this.angle=m;this.Ph=q;this.xi=A;this.Ki=y;this.Li=v;this.xd=t;this.Xh=F;this.Yh=p}function d(a,b,d,c,e,f,k,w,h,m,q,A,y,v,t,F,p,u,n,I){this.Rs=a;this.Ts=b;this.mw=d;this.nw=c;this.zoom=e;this.se=f;this.alpha=k;this.size=w;this.cu=h;this.$a=m;this.Ke=q;this.dc=A;this.angle=y;this.Ph=v;this.xi=t;this.Ki=F;this.Li=p;this.xd=u;this.Xh=n;this.Yh=I}function a(a,b,d,c,e,f,k,w,h,m,q,A,y,v,t,F,p){this.message="";this.x=a;this.y=b;this.zoom=
d;this.se=c;this.alpha=e;this.size=f;this.$a=k;this.Ke=w;this.dc=h;this.angle=m;this.Ph=q;this.xi=A;this.Ki=y;this.Li=v;this.xd=t;this.Xh=F;this.Yh=p}function e(){this.ja=[];this.wb=[];this.rd=[];this.nd=[];this.vd=[];this.current=new c(this);this.ua=new c(this);this.i=new c(this);this.o=!1;this.xh=0;this.J=!1}var f={kr:0,play:1,stop:2,xk:12,Yu:0,Xu:200};c.prototype.set=function(a){this.Ef=a.Ef;this.xj=a.xj;this.Be=a.Be;this.Mg=a.Mg;this.yb=a.yb;this.oa=a.oa;this.x=a.x;this.y=a.y;this.kf=a.kf;this.lf=
a.lf;this.mf=a.mf;this.od=a.od;this.angle=a.angle;this.zoom=a.zoom;this.I=a.I;this.depth=a.depth;this.nb=a.nb;this.kb=a.kb;this.ab=a.ab;this.ec=a.ec;this.yd=a.yd;this.Di=a.Di;this.qc=a.qc};c.prototype.f=function(){var a="";switch(this.Be){case f.play:a=Keywords.yk;break;case f.stop:a=Keywords.zk}return a};c.prototype.oA=function(a){this.Ef?(this.Be!==f.kr&&(a[a.length]=[Keywords.yk,"overwrites "+this.f()]),this.Be=f.play):a[a.length]=[Keywords.yk,"only valid at POI"]};c.prototype.qA=function(a){this.Ef?
(this.Be!==f.kr&&(a[a.length]=[Keywords.zk,"overwrites "+this.f()]),this.Be=f.stop):a[a.length]=[Keywords.zk,"only valid at POI"]};c.prototype.pA=function(a){this.Ef?(this.xj&&(a[a.length]=[Keywords.hm,"already defined"]),this.xj=!0):a[a.length]=[Keywords.hm,"only valid at POI"]};c.prototype.tA=function(a,b){this.Ef?(this.Mg!==f.xk&&(b[b.length]=[Keywords.im+" "+a,"overwrites "+this.Mg]),this.Mg=a):b[b.length]=[Keywords.im,"only valid at POI"]};c.prototype.i=function(a,b,d){var c=a.ec+0,e=b.ec+0,
g=a.angle+0,f=b.angle+0,l=1,h=1,m=1,q=1,A=1;d>e&&(d=e);e-c===ViewConstants.xA&&(c=e);e!==c&&(l=Math.round((d-c)/(e-c)*1E6)/1E6,h=this.o.ht(l)+0);b.kf||b.od?m=l:m=h;b.lf||b.od?q=l:q=h;b.mf||b.od?A=l:A=h;this.x=a.x+m*(b.x-a.x);this.y=a.y+q*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,A);180<f-g?g+=360:-180>f-g&&(f+=360);this.angle=(g+h*(f-g))%360;this.I=a.I+l*(b.I-a.I)|0;this.depth=a.depth+l*(b.depth-a.depth);this.nb=b.nb;this.kb=b.kb;this.step=b.step;this.ab=a.ab+l*(b.ab-a.ab)|0;this.ec=d;this.yd=
b.yd;this.od=b.od};e.prototype.Cx=function(a,d,c,e,f,r,k,w,h,m,q,A,y,v,t,F,p){return new b(a,d,c,e,f,r,k,w,h,m,q,A,y,v,t,F,p)};e.prototype.Ha=function(){this.vd=[]};e.prototype.Qw=function(a){this.vd[this.vd.length]=a};e.prototype.vx=function(a,b,c,e,f,r,k,w,h,m,q,A,y,v,t,F,p,u,n,I){return new d(a,b,c,e,f,r,k,w,h,m,q,A,y,v,t,F,p,u,n,I)};e.prototype.Ca=function(){this.nd=[]};e.prototype.Mw=function(a){this.nd[this.nd.length]=a};e.prototype.zx=function(b,d,c,e,f,r,k,w,h,m,q,A,y,v,t,F,p){return new a(b,
d,c,e,f,r,k,w,h,m,q,A,y,v,t,F,p)};e.prototype.Fa=function(){this.rd=[]};e.prototype.Xs=function(a){this.rd[this.rd.length]=a};e.prototype.Zl=function(){return this.rd.length+this.nd.length+this.vd.length};e.prototype.lx=function(){this.Fa();this.Ca();this.Ha()};e.prototype.mz=function(a){var b="",d="";0<=a&&a<this.vd.length&&(a=this.vd[a],a.xi&&(d="*"),b=a.Mq?"FILL\t":"LINE\t",b+="X1"+d+" "+a.coords[0]+"\tY1"+d+" "+a.coords[1]);return b};e.prototype.nz=function(a){var b="",d="";0<=a&&a<this.vd.length&&
(b=this.vd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.Ph&&(d="*"),b="Z "+a.toFixed(1)+"\tA"+d+" "+b.angle.toFixed(1));return b};e.prototype.oz=function(a){var b="";0<=a&&a<this.vd.length&&(a=this.vd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Ke,0<a.dc&&(b+="\tFade "+a.dc)));return b};e.prototype.pz=function(a){var b="";0<=a&&a<this.vd.length&&(b=this.vd[a].se);return b};e.prototype.Ww=function(a){var b="",d="";0<=a&&a<this.nd.length&&(a=this.nd[a],a.xi&&(d="*"),b="X1"+d+" "+a.Rs+
"\tY1"+d+" "+a.Ts,b+="\tX2"+d+" "+a.mw+"\tY2"+d+" "+a.nw);return b};e.prototype.Xw=function(a){var b="",d="";0<=a&&a<this.nd.length&&(b=this.nd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.Ph&&(d="*"),b="Z "+a.toFixed(1)+"\tA"+d+" "+b.angle.toFixed(1));return b};e.prototype.Yw=function(a){var b="";0<=a&&a<this.nd.length&&(a=this.nd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Ke,0<a.dc&&(b+="\tFade "+a.dc)));return b};e.prototype.Wm=function(a){var b="";0<=a&&a<this.nd.length&&(b=this.nd[a].se);
return b};e.prototype.Dy=function(a){var b="",d="",c="";if(0<=a&&a<this.rd.length){var e=this.rd[a];a=e.zoom;0<=a&&1>a&&(a=-1/a);e.xi&&(d="*");e.Ph&&(c="*");b="X"+d+" "+e.x+"\tY"+d+" "+e.y;b+="\tZ "+a.toFixed(1)+"\tA"+c+" "+e.angle.toFixed(1)}return b};e.prototype.Ey=function(a){var b="";0<=a&&a<this.rd.length&&(a=this.rd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Ke,0<a.dc&&(b+="\tFade "+a.dc)));return b};e.prototype.Fy=function(a){var b="";0<=a&&a<this.rd.length&&(a=
this.rd[a],b="Size "+a.size+'\t"'+a.message+'"');return b};e.prototype.Gy=function(a){var b="";0<=a&&a<this.rd.length&&(b=this.rd[a].se);return b};e.prototype.Mb=function(){this.rd.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.Sb=function(){this.nd.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.Zb=function(){this.vd.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.zA=function(){this.Mb();this.Sb();this.Zb()};e.prototype.X=function(a,b){var d,c=a.a,e=c.context,g=c.width/2-c.da-
c.Bb,f=c.height/2-c.aa-c.vb,l=c.zoom*c.Pb,h=c.A/2,m=c.v/2,q=a.a.s,A=c.S?-(c.height>>2):0,y=0,v=0,t=0,F=0,p=0;c.S&&(g+=f/2);b&&(e.strokeStyle=ViewConstants.$w);for(d=0;d<this.nd.length;d+=1){var u=this.nd[d];var n=!0;-1!==u.$a&&(q<u.$a||q>u.Ke)&&(n=!1);if(n){var I=u.size*l/u.zoom;var D=u.size/4;var B=4*u.size;b&&(y=1,24<=I&&(y=2,48<=I&&(y=3)));if(I>=D&&I<=B){D=Math.log(I/D)/Math.log(B/D);D=.25>=D?4*D:.75<=D?4*(1-D):1;B=1;-1!==u.$a&&0<u.dc&&(q-u.$a<u.dc?B=(q-u.$a+1)/u.dc:u.Ke-q<u.dc&&(B=(u.Ke-q+1)/
u.dc));n=!0;var z=1;if(-1!==u.xd){var C=Math.sqrt((-(g+A)-u.Ki)*(-(g+A)-u.Ki)+(-f-u.Li)*(-f-u.Li));C>u.xd?n=!1:0<u.xd&&.75<C/u.xd&&(z=4*(1-C/u.xd))}n&&(e.globalAlpha=D*u.alpha*B*z,z=u.Ts+f-(a.Kg>>1)+.5,D=u.Rs+g+A-(a.pg>>1)+.5,u.xi||(D+=c.Bb,z+=c.vb),-1!==u.$a?(D+=u.Xh*(a.Ga-u.$a),z+=u.Yh*(a.Ga-u.$a)):(D+=u.Xh*a.Ga,z+=u.Yh*a.Ga),0!==c.Na&&(B=Math.sqrt(D*D+z*z),n=180/Math.PI*Math.atan2(z,D),n+=c.Na,D=B*Math.cos(Math.PI/180*n),z=B*Math.sin(Math.PI/180*n)),c.S&&(D-=z/2),n=z*l+m,C=D*l+h,D=(u.mw-u.Rs)*
l,B=(u.nw-u.Ts)*l,c.S&&(D-=B/2),z=0===u.cu?0:Math.sqrt(D*D+B*B)*u.cu,e.save(),e.translate(C,n),n=u.angle,u.Ph||(n+=c.Na),e.rotate(n/180*Math.PI),e.lineWidth=I,b||(e.strokeStyle=u.se),e.lineCap="round",e.lineJoin="round",0<z&&(u=Math.atan2(B,D),v=Math.cos(.85*Math.PI+u),t=Math.sin(.85*Math.PI+u),F=Math.cos(.85*-Math.PI+u),p=Math.sin(.85*-Math.PI+u)),0<y&&e.translate(y,y),e.beginPath(),e.moveTo(0,0),e.lineTo(D,B),0<z&&(e.moveTo(D,B),e.lineTo(D+z*v,B+z*t),e.moveTo(D,B),e.lineTo(D+z*F,B+z*p)),e.stroke(),
e.restore())}}}e.globalAlpha=1};e.prototype.Sa=function(a){this.X(a,!0);this.X(a,!1)};e.prototype.fa=function(a,b){var d,c=a.a,e=c.context,g=c.width/2-c.da-c.Bb,f=c.height/2-c.aa-c.vb,l=c.zoom*c.Pb,h=c.A/2,m=c.v/2,q=a.a.s,A=c.S?-(c.height>>2):0,y=0;b&&(e.strokeStyle=ViewConstants.$u,e.fillStyle=ViewConstants.$u);c.S&&(g+=f/2);for(d=0;d<this.vd.length;d+=1){var v=this.vd[d];var t=v.coords;var F=t.length;var p=!0;-1!==v.$a&&(q<v.$a||q>v.Ke)&&(p=!1);if(p){var u=v.size*l/v.zoom;var n=v.size/4;var I=4*
v.size;b&&(y=1,24<=u&&(y=2,48<=u&&(y=3)));if(u>=n&&u<=I){n=Math.log(u/n)/Math.log(I/n);n=.25>=n?4*n:.75<=n?4*(1-n):1;I=1;-1!==v.$a&&0<v.dc&&(q-v.$a<v.dc?I=(q-v.$a+1)/v.dc:v.Ke-q<v.dc&&(I=(v.Ke-q+1)/v.dc));p=!0;var D=1;if(-1!==v.xd){var B=Math.sqrt((-(g+A)-v.Ki)*(-(g+A)-v.Ki)+(-f-v.Li)*(-f-v.Li));B>v.xd?p=!1:0<v.xd&&.75<B/v.xd&&(D=4*(1-B/v.xd))}if(p){e.globalAlpha=n*v.alpha*I*D;n=0;D=t[n]+g+A-(a.pg>>1)+.5;I=t[n+1]+f-(a.Kg>>1)+.5;n+=2;v.xi||(D+=c.Bb,I+=c.vb);-1!==v.$a?(D+=v.Xh*(a.Ga-v.$a),I+=v.Yh*(a.Ga-
v.$a)):(D+=v.Xh*a.Ga,I+=v.Yh*a.Ga);0!==c.Na&&(p=Math.sqrt(D*D+I*I),I=180/Math.PI*Math.atan2(I,D),I+=c.Na,D=p*Math.cos(Math.PI/180*I),I=p*Math.sin(Math.PI/180*I));c.S&&(D-=I/2);I=I*l+m;B=D*l+h;D=(t[n]-t[0])*l;p=(t[n+1]-t[1])*l;c.S&&(D-=p/2);n+=2;e.save();e.translate(B,I);I=v.angle;v.Ph||(I+=c.Na);e.rotate(I/180*Math.PI);e.lineWidth=u;b||(v.Mq?e.fillStyle=v.se:e.strokeStyle=v.se);e.lineCap="round";e.lineJoin="round";0<y&&e.translate(y,y);e.beginPath();e.moveTo(0,0);for(e.lineTo(D,p);n<F;)D=(t[n]-t[0])*
l,p=(t[n+1]-t[1])*l,c.S&&(D-=p/2),n+=2,e.lineTo(D,p);v.Mq?e.fill():e.stroke();e.restore()}}}}e.globalAlpha=1};e.prototype.Cb=function(a){this.fa(a,!0);this.fa(a,!1)};e.prototype.bb=function(a){var b,d=a.a,c=d.context,e=d.width/2-d.da-d.Bb,f=d.height/2-d.aa-d.vb,g=d.zoom*d.Pb,w=d.A/2,h=d.v/2,m=ViewConstants.Jy,q="px "+ViewConstants.Hy,A=a.a.s,y=d.S?-(d.height>>2):0;d.S&&(e+=f/2);for(b=0;b<this.rd.length;b+=1){var v=this.rd[b];var t=!0;-1!==v.$a&&(A<v.$a||A>v.Ke)&&(t=!1);if(t){var F=v.size*g/v.zoom;
var p=v.size/4;var u=4*v.size;var n=1;24<=F&&(n=2,48<=F&&(n=3));if(F>=p&&F<=u){p=Math.log(F/p)/Math.log(u/p);c.font=F+q;p=.25>=p?4*p:.75<=p?4*(1-p):1;u=1;-1!==v.$a&&0<v.dc&&(A-v.$a<v.dc?u=(A-v.$a+1)/v.dc:v.Ke-A<v.dc&&(u=(v.Ke-A+1)/v.dc));t=!0;var I=1;if(-1!==v.xd){var D=Math.sqrt((-(e+y)-v.Ki)*(-(e+y)-v.Ki)+(-f-v.Li)*(-f-v.Li));D>v.xd?t=!1:0<v.xd&&.75<D/v.xd&&(I=4*(1-D/v.xd))}if(t){c.globalAlpha=p*v.alpha*u*I;t=v.x+e+y-(a.pg>>1)+.5;I=v.y+f-(a.Kg>>1)+.5;v.xi||(t+=d.Bb,I+=d.vb);-1!==v.$a?(t+=v.Xh*(a.Ga-
v.$a),I+=v.Yh*(a.Ga-v.$a)):(t+=v.Xh*a.Ga,I+=v.Yh*a.Ga);0!==d.Na&&(p=Math.sqrt(t*t+I*I),I=180/Math.PI*Math.atan2(I,t),I+=d.Na,t=p*Math.cos(Math.PI/180*I),I=p*Math.sin(Math.PI/180*I));d.S&&(t-=I/2);p=v.message;u=p.indexOf("\\n");I=I*g+h;t=t*g+w;c.save();c.translate(t,I);I=v.angle;v.Ph||(I+=d.Na);c.rotate(I/180*Math.PI);for(I=0;-1!==u;)t=p.substr(0,u),p=p.substr(u+2),u=c.measureText(t).width>>1,c.fillStyle=m,c.fillText(t,-u+n,I+n),c.fillStyle=v.se,c.fillText(t,-u,I),I+=F,u=p.indexOf("\\n");u=c.measureText(p).width>>
1;c.fillStyle=m;c.fillText(p,-u+n,I+n);c.fillStyle=v.se;c.fillText(p,-u,I);c.restore()}}}}c.globalAlpha=1};e.prototype.kq=function(a){this.Cb(a);this.Sa(a);this.bb(a)};e.prototype.BA=function(a){var b;for(b=this.ja.length-1;0<=b;--b){var d=this.ja[b];d.ec>a&&d.lm&&(this.xh=b,d.lm=!1)}};e.prototype.Sz=function(){var a;for(a=0;a<this.ja.length;a+=1)this.ja[a].lm=!1;this.xh=0;this.J=!1};e.prototype.fn=function(){return new c(this)};e.prototype.ht=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*
a};e.prototype.reset=function(){this.ja=[];this.wb=[];this.o=!1;this.xh=0};e.prototype.Ky=function(){return this.ja[this.ja.length-1]};e.prototype.Ot=function(a){var b=this.ha(a),d=this.ja[b];a>d.ab?a=d.ec+1E3*(a-d.ab)/(d.kb*d.step):0<b?(b=this.ja[b-1],a=b.ec+1E3*(a-b.ab)/(d.kb*d.step)):a=1E3*a/(d.kb*d.step);return a};e.prototype.Ct=function(a,b,d,c,e,f,k,w,h,m,q){var g=this.ua;g.x=a;g.y=b;g.zoom=d;g.angle=c;g.kb=w;g.step=h;g.I=e;g.depth=f;g.nb=k;g.ab=m;this.o&&(q=this.i.ec);g.ec=q-1E3;this.update(q,
m);this.i.set(this.current);this.i.od=!1;this.i.ec=q;this.o=!0;return g.ec};e.prototype.Cl=function(){return this.ja[0]};e.prototype.cz=function(){return this.ja.length};e.prototype.add=function(a){a.Ef?this.wb[this.wb.length]=a:this.ja[this.ja.length]=a};e.prototype.Qp=function(a){var b=!1;this.xh>=this.ja.length-1&&a>=this.ja[this.xh].ec&&(b=!0);return b};e.prototype.f=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};e.prototype.hz=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],
a.le&&(b+=" X "+-a.x),a.Wd&&(b+=" Y "+-a.y),a.Gc&&(b+=" ZOOM "+this.f(a.zoom)),a.pf&&(b+=" ANGLE "+a.angle));return b.substr(1)};e.prototype.Wu=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.xj&&(b+=" POIRESET"),a.Be===f.play?b+=" POIPLAY":a.Be===f.stop&&(b+=" POISTOP"),a.Mg!==f.xk&&(b+=" POITRANS "+a.Mg));return b.substr(1)};e.prototype.iz=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.ki&&(b+=" LOOP "+(-1===a.oa?"OFF":a.oa)),a.Hi&&(b+=" STOP "+(-1===a.yb?"OFF":a.yb)),
a.zf&&(b+=" GPS "+a.kb),a.Qf&&(b+=" STEP "+a.step));return b.substr(1)};e.prototype.Wu=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.xj&&(b+=" POIRESET"),a.Be===f.play?b+=" POIPLAY":a.Be===f.stop&&(b+=" POISTOP"),a.Mg!==f.xk&&(b+=" POITRANS "+a.Mg));return b.substr(1)};e.prototype.lz=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.Td&&(b+=" THEME "+a.nb),a.vf&&(b+=" DEPTH "+this.f(a.depth)),a.Ff&&(b+=" LAYERS "+a.I));return b.substr(1)};e.prototype.kz=function(a){var b=
"";0<=a&&a<this.wb.length&&(a=this.wb[a],a.Am&&(b+=" POIT "+a.ab));return b.substr(1)};e.prototype.jz=function(a){var b=Keywords.Xb,d="";0<=a&&a<this.wb.length&&(a=this.wb[a],""!==a.yd&&(d+=" "+b+a.yd+b));return d.substr(1)};e.prototype.aB=function(a){var b=Keywords.Xb,d="";if(0<=a&&a<this.ja.length){var c=this.ja[a];0<a?(a=this.ja[a-1],d=c.ab===a.ab?"P "+this.f((c.ec-a.ec|0)/1E3):"T "+c.ab,c.od?d+=" F":(c.x!==a.x&&(d+=" X "+-c.x),c.y!==a.y&&(d+=" Y "+-c.y),c.zoom!==a.zoom&&(d+=" Z "+this.f(c.zoom))),
c.angle!==a.angle&&(d+=" A "+c.angle),c.I!==a.I&&(d+=" L "+c.I),c.depth!==a.depth&&(d+=" D "+this.f(c.depth)),c.nb!==a.nb&&(d+=" C "+c.nb),c.kb!==a.kb&&(d+=" G "+c.kb),c.step!==a.step&&(d+=" S "+c.step),""!==c.yd&&(d+=" "+b+c.yd+b)):d="T "+c.ab+" X "+-c.x+" Y "+-c.y+" Z "+this.f(c.zoom)+" A "+c.angle+" L "+c.I+" D "+this.f(c.depth)+" C "+c.nb+" G "+c.kb+" S "+c.step}return d};e.prototype.update=function(a,b){var d=this.ja.length,c=!1,e=this.xh,f=!1;if(this.o)this.current.i(this.ua,this.i,a),a>=this.i.ec&&
(this.o=!1);else{for(;e<d&&!c;){var g=this.ja[e];g.ec>=a||!g.lm?c=!0:e+=1}c?(this.ja[e].lm=!0,0<e?(this.ja[e].od&&(this.ja[e].x=this.current.x,this.ja[e].y=this.current.y,this.ja[e].zoom=this.current.zoom),this.current.i(this.ja[e-1],this.ja[e],a)):(e=0,this.current.set(this.ja[e]))):(e=d-1,this.current.set(this.ja[e]),b>=this.current.ab&&this.J&&(f=!0),this.J=!0);this.xh=e}return f};e.prototype.ha=function(a){for(var b=0,d=!1,c=this.ja,e=this.ja.length;b<e&&!d;)c[b].ab>=a?d=!0:b+=1;d||(b=e-1);return b};
e.prototype.ky=function(a){this.xh=this.ha(a)};e.prototype.ic=function(a,b,d,c){if(0===this.ja.length)d[d.length]=[a+" "+Keywords.Va,"no initial waypoint defined"];else switch(a){case Keywords.cd:b.le&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+-b.x]);b.x=this.ja[0].x;b.le=!0;break;case Keywords.dd:b.Wd&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+-b.y]);b.y=this.ja[0].y;b.Wd=!0;break;case Keywords.oc:b.Gc&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":
"overwrites "+this.f(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.ja[0].zoom;b.Gc=!0;break;case Keywords.Qh:b.pf&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+b.angle]);b.angle=this.ja[0].angle;b.pf=!0;break;case Keywords.dj:b.vf&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+this.f(b.depth)]);b.depth=this.ja[0].depth;b.vf=!0;break;case Keywords.oj:b.Ff&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+b.I]);b.I=this.ja[0].I;b.Ff=!0;break;case Keywords.yh:b.Td&&
(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+b.nb]);b.nb=this.ja[0].nb;b.Td=!0;break;case Keywords.kj:b.zf&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+b.kb]);b.kb=this.ja[0].kb;b.zf=!0;break;case Keywords.Cj:b.Qf&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+b.step]);b.step=this.ja[0].step;b.Qf=!0;break;case Keywords.xg:b.Hi&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+(-1===b.yb?"OFF":b.yb)]);b.yb=this.ja[0].yb;
b.Hi=!0;break;case Keywords.ig:b.ki&&(d[d.length]=[a+" "+Keywords.Va,c?"already defined":"overwrites "+(-1===b.oa?"OFF":b.oa)]);b.oa=this.ja[0].oa;b.ki=!0;break;default:d[d.length]=[a+" "+Keywords.Va,"illegal command before "+Keywords.Va]}};e.prototype.ox=function(a,b){this.ic(Keywords.cd,a,b,!1);this.ic(Keywords.dd,a,b,!1);this.ic(Keywords.oc,a,b,!1);this.ic(Keywords.Qh,a,b,!1);this.ic(Keywords.oj,a,b,!1);this.ic(Keywords.dj,a,b,!1);this.ic(Keywords.yh,a,b,!1);this.ic(Keywords.kj,a,b,!1);this.ic(Keywords.Cj,
a,b,!1);this.ic(Keywords.ig,a,b,!1);this.ic(Keywords.xg,a,b,!1)};e.prototype.sz=function(a){var b,d=this.ja,c=this.ja.length;for(b=1;b<c;b+=1){var e=d[b-1];var f=d[b];f.le||(f.x=e.x);f.Wd||(f.y=e.y);f.Fh||(f.kf=e.kf);f.Hh||(f.lf=e.lf);f.Rm||(f.mf=e.mf);f.pf||(f.angle=e.angle);f.Gc||(f.zoom=e.zoom);f.Ff||(f.I=e.I);f.vf||(f.depth=e.depth);f.Td||(f.nb=e.nb);f.zf||(f.kb=e.kb);f.Qf||(f.step=e.step);f.Am?f.ab<=e.ab&&(a[a.length]=[Keywords.zm+" "+f.ab,"target generation must be later than previous ("+e.ab+
")"]):f.ab=e.ab;f.ec=f.Kv?1E3*f.ec+e.ec:e.ec+1E3*(f.ab-e.ab)/(f.kb*f.step);f.Vo||(f.Di=e.Di);f.lj||(f.qc=e.qc)}};window.Waypoint=c;window.WaypointManager=e;window.WaypointConstants=f})();(function(){function c(b,d){var a=this;this.Qs=b;this.h=d;this.top=this.left=0;""!==b.style.left&&(this.left=parseInt(b.style.left,10));""!==b.style.top&&(this.top=parseInt(b.style.top,10));this.$b=this.ej=!1;this.Ol=this.Nl=this.Ql=this.Pl=this.th=this.sh=-1;this.Er=this.offsetTop=this.offsetLeft=0;registerEvent(b,"mousedown",function(b){a.i(a,b)},!1);registerEvent(document,"mousemove",function(b){a.o(a,b)},!1);registerEvent(document,"mouseup",function(b){a.J(a,b)},!1);registerEvent(b,"touchstart",
function(b){a.f(a,b)},!1);registerEvent(b,"touchmove",function(b){a.f(a,b)},!1);registerEvent(b,"touchend",function(b){a.f(a,b)},!1);registerEvent(window,"resize",function(){a.ov(a)},!1)}c.prototype.ov=function(b){b.Dv(b.left+b.Er,b.top,b.Qs);b.Er=0};c.prototype.PA=function(b,d){this.Dv(this.left+b,this.top+d,this.Qs)};c.prototype.Dv=function(b,d,a){var c=window.innerWidth-a.clientWidth,f=window.innerHeight-a.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(c-=
21);0>b&&(b=0);0>d&&(d=0);b>c&&(b=c);d>f&&(d=f);a.style.left=b+"px";a.style.top=d+"px";a.style.position="fixed";this.left=b;this.top=d};c.prototype.nx=function(){var b=this.Qs,d=b.offsetParent;this.offsetLeft=b.offsetLeft;for(this.offsetTop=b.offsetTop;d;)this.offsetLeft+=d.offsetLeft,this.offsetTop+=d.offsetTop,d=d.offsetParent;d=b.parentNode;if("fixed"===d.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;
else for(;"body"!==d.tagName.toLowerCase();)this.offsetLeft-=d.scrollLeft,this.offsetTop-=d.scrollTop,d=d.parentNode};c.prototype.f=function(b,d){var a="";if("touchend"===d.type){a="mouseup";var c=document.createEvent("MouseEvent");c.initMouseEvent(a,!0,!0,window,1,b.Pl,b.Ql,b.Nl,b.Ol,!1,!1,!1,!1,0,null);d.target.dispatchEvent(c);d.preventDefault()}else{if(1===d.touches.length)switch(d.type){case "touchstart":a="mousedown";break;case "touchmove":a="mousemove"}if(""!==a){var f=d.changedTouches[0];
c=document.createEvent("MouseEvent");c.initMouseEvent(a,!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(c);d.preventDefault();b.Pl=f.screenX;b.Ql=f.screenY;b.Nl=f.clientX;b.Ol=f.clientY}}};c.prototype.i=function(b,d){b.Mj(b,d);b.$b=!0;b.h.vj=!0;d.stopPropagation&&d.stopPropagation();d.preventDefault()};c.prototype.J=function(b,d){b.ej&&b.$b&&(b.Mj(b,d),b.$b=!1,b.h.vj=!1,d.stopPropagation&&d.stopPropagation(),d.preventDefault())};c.prototype.o=function(b,
d){if(b.ej&&b.$b){var a=b.sh,c=b.th;b.Mj(b,d);b.$b&&b.PA(b.sh-a,b.th-c);b.sh=a;b.th=c;d.stopPropagation&&d.stopPropagation();d.preventDefault()}};c.prototype.Mj=function(b,d){if(d.pageX||d.pageY){var a=d.pageX;d=d.pageY}else a=d.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=d.clientY+document.body.scrollTop+document.documentElement.scrollTop;b.nx();a-=b.offsetLeft;d-=b.offsetTop;b.sh=a-1|0;b.th=d-1|0};window.PopupWindow=c})();(function(){function c(){this.key=new Uint8Array(256);this.i=this.f=0}c.prototype.Kd=function(b){var d,a,c=this.key;for(d=0;256>d;d+=1)c[d]=d;for(d=a=0;256>d;d+=1){a=a+c[d]+b.charCodeAt(d%b.length)&255;var f=c[d];c[d]=c[a];c[a]=f}this.i=this.f=0};c.prototype.random=function(){var b,d=0,a=1,c=this.key,f=this.f,g=this.i;for(b=0;8>b;b+=1){f=f+1&255;g=g+c[f]&255;var l=c[f];c[f]=c[g];c[g]=l;d+=c[c[f]+c[g]&255]*a;a*=256}this.f=f;this.i=g;return d/1.8446744073709552E19};window.Random=c;window.myRand=new c})();(function(){function c(b,d){this.xo=b;this.x=d.W(Float32,0,"Stars.x");this.y=d.W(Float32,0,"Stars.y");this.f=d.W(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.i=new Random;this.i.Kd(Date.now().toString());this.sin=d.W(Float32,0,"Stars.sin");this.cos=d.W(Float32,0,"Stars.cos");this.o=Math.PI/180;this.X=180/Math.PI;this.j=d;this.J=!1}c.prototype.Kd=function(b,d,a){var c,f=this.xo,g=b*b+d*d;this.x=this.j.W(Float32,f,"Stars.x");this.y=this.j.W(Float32,f,"Stars.y");this.f=this.j.W(Float32,
f,"Stars.z");for(c=0;c<f;c+=1){var l=c/f*(c/f)*(c/f)*(c/f)*a+1;do{var E=3*(this.i.random()*b-b/2);var M=3*(this.i.random()*d-d/2)}while(E*E+M*M>g);this.x[c]=E;this.y[c]=M;this.f[c]=l}this.sin=this.j.W(Float32,2880,"Stars.sin");this.cos=this.j.W(Float32,2880,"Stars.cos");for(c=0;2880>c;)this.sin[c]=Math.sin(c/8*this.o),this.cos[c]=Math.cos(c/8*this.o),c+=1};c.prototype.ux=function(b,d,a,c,f,g,l,E){var e;this.J||(this.Kd(8192,8192,1024),this.J=!0);if(littleEndian){var G=E>>16&255;var r=E>>8&255;var k=
E&255}else k=E>>24&255,r=E>>16&255,G=E>>8&255;for(e=0;e<this.xo;e+=1){var w=this.x[e]+b;var h=this.y[e]+d;if(0!==c){var m=Math.sqrt(w*w+h*h);h=Math.atan2(h,w)*this.X;h+=c;0>h?h+=360:360<=h&&(h-=360);h*=8;h|=0;w=m*this.cos[h];h=m*this.sin[h]}m=this.f[e]/a*2;w=f/2+w/m|0;h=g/2+h/m|0;if(0<w&&w<f-1&&0<h&&h<g-1){w+=h*f;m=1536/m|0;255<m&&(m=255);m/=255;if(l[w]===E){h=k+(this.red-k)*m;var q=r+(this.green-r)*m;var A=G+(this.blue-G)*m;h=littleEndian?-16777216|A<<16|q<<8|h:h<<24|A<<16|q<<8|255;l[w]=h}m/=2;h=
k+(this.red-k)*m;q=r+(this.green-r)*m;A=G+(this.blue-G)*m;h=littleEndian?-16777216|A<<16|q<<8|h:h<<24|A<<16|q<<8|255;--w;l[w]===E&&(l[w]=h);w+=2;l[w]===E&&(l[w]=h);--w;w-=f;l[w]===E&&(l[w]=h);w+=f+f;l[w]===E&&(l[w]=h)}}};window.Stars=c})();(function(){function c(a,b,c,d,e){this.name=a;this.pattern=b;this.Yz=c;this.width=d;this.height=e}function b(a){this.Lb=0;this.Xn=!1;this.ia=null;this.Lj=0;this.hl=!0;this.Pf=0;this.Ye=1;this.Ek=this.vk=!1;this.ph=7;this.To=!0;this.Pj=this.Oj=0;this.ek=!1;this.ba=this.jo=63;this.Bd=this.Jc=this.gg=this.kg=this.Zb=this.jg=this.fg=this.eg=this.Cd=this.ng=this.mg=this.Xk=!1;this.Jg=this.Ga=0;this.Rc=null;this.Pd=this.Od=0;this.Os=!1;this.bj=this.Qg=this.Rg=-1;this.In=Date.now().toString();this.di=k.Eh;
this.Of=!0;this.gb=!1;this.Fe=!0;this.Wb=k.Jt;this.Oc=!1;this.element=a;this.Ea=!1;this.Bh=this.Yg=this.Zg=this.Ah=this.kn=this.gn=this.jn=this.hn=0;this.gc=this.Yd=this.fc=this.Ij=!1;this.El=!0;this.Ln=!1;this.Kn=0;this.$h=!1;this.wi=this.vi=0;this.sg=!1;this.m="";this.Ad=this.zd=0;this.pq=this.oq=this.fk=this.Zh=this.hj=this.lh=this.cs=this.bs=this.Ei=this.Aj=this.Gi=this.Fi=this.ve=-1;this.co=this.Bn=!1;this.Bm=this.Je=-1;this.ml=this.$i=!1;this.dn=-1;this.Dj=this.Ji=null;this.Cm="";this.Ej=this.Ug=
0;this.FA=32768;this.Yp=this.Zp=0;this.Xp=!0;this.Xm=this.pb=!1;this.Ui=0;this.dx=.01;this.Sg=this.Cf=!1;this.ih=this.We=null;this.Wf=k.Wf;this.Th=[96,96,96];this.ap=null;this.Sa="";this.wg=this.xa=this.Lf=this.gr=!1;this.vh=null;this.xe=!1;this.M=1;this.qg=this.rg=0;this.hc=this.Oq=!1;this.w=new WaypointManager;this.bo="";this.Xq=-1;this.ee=this.Tb=!1;this.ga=1;this.tq=this.lr=this.am=0;this.Hg=k.Ry;this.Ca=this.ha=this.fa=this.X=this.jh=-1;this.em=this.tk="";this.gm=this.uh=this.Kg=this.pg=0;this.fm=
null;this.mr=this.Mf=this.Lg=this.og="";this.Uf=!1;this.f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.ln=!1;this.Rj=k.ou;this.Qj=k.Wm;this.Sj=k.Zu;this.Zj="";this.Uc=[];this.Tm=!1;this.rb=[];this.aj=[];this.Rb=[];this.Ya=1;this.Y=0;this.wm=!1;this.sk=100;this.ac=10;this.P=[64,200,290,530,700];this.ke=!1;this.R=[];this.Cq=[];this.Dq=[];this.oa=this.yb=-1;this.Tn=this.Rh=this.pe=this.Vb=this.si=this.vo=this.Jb=this.Jl=this.Yb=this.nc=this.Za=!1;this.Qk=this.Sk=
this.Yk=-1;this.a=null;this.elapsedTime=0;this.A=640;this.v=512;this.Zk=!1;this.Wk=640;this.hf=this.Vr=this.lg=this.Cc=!1;this.i=this.bc=this.yg=this.wk=this.qj=this.pa=this.Ge=this.Vh=this.ne=this.Cg=this.Cb=this.ui=this.Re=this.xc=this.gj=this.Qe=this.bh=this.hk=this.tg=this.ug=this.Hk=this.lk=this.oh=this.mk=this.Tk=this.ai=this.Xj=this.fi=this.ei=this.hi=this.Sb=this.vg=this.jj=this.bi=this.Ag=this.bb=this.oe=this.nf=this.qf=this.xf=this.sf=this.wf=this.uf=this.Lh=this.Nh=this.Si=this.ci=this.Ed=
this.li=this.Ha=this.me=this.gd=this.jd=this.hd=this.fd=this.Pi=this.Kh=this.Jh=this.Ih=this.Uk=this.ed=this.yf=this.ld=this.dg=this.kd=this.cg=this.pk=this.Mb=this.wc=this.ce=this.tc=this.Nb=this.zb=this.Eb=this.Qc=this.Jf=this.cc=this.Oa=null;this.ii=this.nj=-1;this.wheelDelta=0;this.ud=this.uj=this.Hf=this.J=this.Kc=null;this.Id=60;this.u=this.h=null;this.cj=this.ae=this.ak=0;this.An=this.Lt=1;this.hq=60;this.ck=this.zn=1;this.gq=.1;this.Qi=-1;this.yj=this.he=this.Lr=0;this.Bk=1;this.zh=this.va=
this.Uj=this.Tj=this.Rk=!1;this.Fc=k.Kt;this.Un=this.Yn=this.ps=this.Wn=0;this.Ri=this.Vg=!1;this.rm=this.al=0;this.we=!1;this.uk=-1}function d(a,c,d,e,f){var h,g=c.parentNode,m=null;for(h=0;h<w.mc.length&&!m;)w.mc[h][0].tabIndex===c.tabIndex?m=w.mc[h][1]:h+=1;m||(m=new b(f),m.xe=e,r.Rl&&!e&&(m.Hg=d&-8,m.Hg<k.td&&(m.Hg=k.td)),c.tabIndex=w.mc.length+1,m.Mr(c),"none"===g.style.display&&(w.wr=new PopupWindow(g,m.h)),w.mc[w.mc.length]=[c,m,w.wr]);e||m.wh(a,!1)}function a(a){a=a.parentNode;for(var b=!1;!b;)"div"!==
a.localName||a.className!==r.Dn&&a.className!==r.En||(b=!0),b||(a=a.parentNode);return a}function e(){var a=w.$r(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.ej=!1;b.Cc&&(b.pa.current=b.Vd(k.mb,!0,b))}function f(a){e();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function g(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,
"").trim();a=a.replace(/\n[ ]+/g,"\n");return a=a.replace(/\n\t+/g,"\n")}function l(b){b=a(b);var c=b.getElementsByTagName(r.wj)[0],h=g(c),e=w.$r();if(e)e[1].element=c,e[1].Js(e[1]);else{e=document.createElement("canvas");e.width=k.td;e.height=k.rh+80;e.style.display="block";var l=document.createElement("a");l.setAttribute("href","#");l.innerHTML="&nbsp;X&nbsp;";l.style.textDecoration="none";l.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";l.style.color="#FFFFFF";l.style.backgroundColor=
"#C75050";l.style.cssFloat="right";l.style.height="28px";l.style.fontSize="18px";var v=document.createElement("a");v.innerHTML="&nbsp;X&nbsp;";v.style.textDecoration="none";v.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";v.style.visibility="hidden";v.style.cssFloat="left";v.style.height="28px";v.style.fontSize="18px";var t=document.createElement("div");t.style.textAlign="center";t.style.color="rgb(83,100,130)";t.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";t.style.fontSize=
"18px";t.style.height="28px";var F=document.createTextNode("LifeViewer");t.style.cursor="default";t.appendChild(F);registerEvent(l,"click",f,!1);var p=document.createElement("div");p.style.display="none";p.style.position="fixed";p.style.border="1px solid rgb(128,128,128)";p.style.left="2048px";p.style.top="0px";p.style.textAlign="right";p.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";p.style.margin="1px";var u=document.createElement("div");u.className=r.En;u.style.backgroundColor=
"#FFFFFF";u.style.height="28px";u.style.lineHeight="28px";u.appendChild(v);u.appendChild(l);u.appendChild(t);p.appendChild(u);p.appendChild(e);b.appendChild(p);d(h,e,k.td,!0,c);w.Zr=w.mc.length-1;e=w.$r();e[1].ap=F}b=e[0].parentNode;""!==b.style.display&&(b.style.display="");e[1].A=k.td;e[1].v=k.rh+80;e[1].resize();e[1].h.notification.clear(!0,!0);e[1].h.notification.clear(!1,!0);e[1].wh(h,!0);e[1].resize();b=e[2];b.ej=!0;b.ov(b);e[1].Hf.canvas.focus();e[1].h.hasFocus=!0;return!1}function E(a,b){var d=
!1,h=null;try{h=PatternManager.create("",a,b),h.$c&&(d=!0,r.Ia&&(w.Ec[w.Ec.length]=new c(h.name,a,h.$+h.an,h.width,h.height)))}catch(y){}return d}function M(a){l(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function G(){var a=document.getElementsByTagName("div"),b,c,e=new Allocator;var f=document.getElementsByTagName("meta");for(b=0;b<f.length;b+=1){var k=f[b];if(k.name===r.tagName&&(r.Hq=!1,r.Rl=!1,k=k.content,(c=k.match(/\S+/g))&&2<=c.length&&5>=c.length))for(r.Dn=c[0],
r.wj=c[1],k=2;k<c.length;k+=1)switch(c[k]){case "hide":r.Hq=!0;break;case "limit":r.Rl=!0;break;case "multi":r.Ia=!0;break;default:var l=c[k];!isNaN(parseFloat(l))&&isFinite(Number(l))&&(r.Ao=parseFloat(l)|0)}}for(f=0;f<a.length;f+=1)(k=a[f],k.className===r.Dn)?(b=k.getElementsByTagName(r.wj)[0],k=k.getElementsByTagName("canvas")[0],(c=b.getElementsByTagName(r.wj)[0])&&(b=c),typedArrays&&b&&(c=g(b),r.Ia&&E(c,e),k&&k.getContext?(-1<r.Ao&&b.clientHeight>r.Ao&&(b.style.height=r.Ao+"px"),d(c,k,b.offsetWidth,
!1,b)):r.Hq&&k&&(k.style.display="none"))):typedArrays&&k.className===r.En&&k.parentNode.className!==r.Dn&&(b=k.getElementsByTagName(r.wj)[0])&&(c=g(b),E(c,e)&&(k=k.getElementsByTagName("a")[0],c=document.createElement("a"),c.setAttribute("href","#"),c.innerHTML="Show in Viewer",registerEvent(c,"click",M,!1),k?(b=document.createTextNode(" / "),k.parentNode.appendChild(b),k.parentNode.appendChild(c)):b.parentNode.appendChild(c)))}var r={tagName:"LifeViewer",Dn:"rle",wj:"code",Ao:37,Hq:!0,Rl:!1,Ia:!1,
En:"codebox",Ec:[]},k={Uo:Math.sqrt(3),qx:65536,sx:500,tx:17,Zt:13750737,$t:15066597,Qn:7368816,Rn:5263440,Ev:.016,xA:16,Nu:16384,Jt:.7,xo:1E4,iA:"Script errors",Ae:-2,ye:2,Ku:2,Eu:4,Kt:4,Zv:16.7,Hu:9,Au:14,Zx:13,hu:null,Gu:1,yu:16,It:3,Xe:0,Fg:1,mn:2,Vf:3,ol:4,pl:5,ql:6,vn:7,wn:8,nn:9,sn:10,rn:11,qn:12,tn:13,un:14,pn:15,rl:16,on:17,cq:18,vl:19,tl:20,wl:21,yl:22,xl:23,ul:24,nl:25,sl:26,Pu:0,Ru:1,gu:2,tu:3,xu:4,vu:5,nu:6,hb:[0,6,2,5,3,4,1],Gv:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),
rB:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),gz:0,fz:160,Vu:10,pr:100,Uu:20,my:18.5,Fv:1E3/60,cB:!1,rq:1800,jy:"LifeViewer",Nr:"LifeViewer Image",bw:"LifeViewer",Fs:329,aw:"Chris Rowett",ro:1,ko:10,cr:0,Yy:1,mb:2,ni:3,Lu:0,Wl:1,lp:1.25,Ay:.99,qo:0,zu:10,Wh:10,Wa:.0625,Ib:64,Vl:-16,Ul:-1,ze:1,mi:60,pj:1,fe:64,fontSize:18,Dl:"18px Courier",Ni:"18px Arial",Tg:"18px Arial",Ie:"14px Arial",So:"9px Arial",Wm:"rgb(240,255,255)",$w:"rgb(0,0,0)",Zu:"rgb(240,255,255)",$u:"rgb(0,0,0)",dt:2,so:1,lo:64,
Zw:.2,ou:"rgb(240,255,255)",Jy:"rgb(0,0,0)",Iy:18,Iu:4,Bu:128,Hy:"Arial",kk:"rgb(32,255,255)",Il:"#000000",Wf:"rgb(255,96,96)",On:"rgb(128,128,128)",Wy:64,Vy:64,td:480,Ry:2048,wy:80,rk:240,oo:2048,rh:480,mp:132,pw:292,dz:154,es:0,Hv:1,Iv:2,Ty:0,Ly:16,Eh:0,lu:1,Or:2,Kl:3,Ov:4,wt:5,Zs:6,Fu:7,et:8},w={j:new Allocator,mc:[],Zr:-1,wr:null,Ec:[],$r:function(){var a=null;-1!==this.Zr&&(a=this.mc[this.Zr]);return a},py:function(a){var b=null;0<=a&&a<this.mc.length&&(b=this.mc[a][1]);return b},oB:function(){return this.mc.length},
$A:function(){var a=0,b;for(b=0;b<this.mc.length;b+=1){var c=this.mc[b][1];c.Cc&&(a+=1)}return a},Nz:function(){var a,b=0;for(a=0;a<this.mc.length;a+=1){var c=this.mc[a][1];c.pa.current=c.Vd(k.cr,!0,c);c.h.Og(!0);b+=1}return b},CA:function(){var a,b=0;for(a=0;a<this.mc.length;a+=1){var c=this.mc[a][1];c.Cc&&(c.pa.current=c.Vd(k.mb,!0,c),b+=1)}return b},DA:function(a){var b,c=0;for(b=0;b<this.mc.length;b+=1){var d=this.mc[b][1];d!==a&&d.Cc&&(d.pa.current=d.Vd(k.mb,!0,d),c+=1)}return c}};b.prototype.Jn=
function(a){this.Bd=this.Jc=this.gg=this.kg=this.Zb=this.jg=this.fg=this.eg=this.Cd=this.ng=this.mg=a};b.prototype.js=function(){this.Jn(!1)};b.prototype.zw=function(){this.Jn(!0)};b.prototype.ut=function(){this.Cq=[];this.Dq=[]};b.prototype.hx=function(a){var b=a.uj.toDataURL("image/png"),c;(c=document.getElementById("screenshot"))?c.src=b:(c=window.open("",k.Nr))?(c.width=a.A+20,c.height=a.v+20,c.document.open(),c.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+
k.Nr+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+a.A+'" height="'+a.v+'" src="'+b+'" alt="'+k.Nr+'"/>\n\t</body>\n</html>\n'),c.document.close(),a.h.notification.U("Image Captured",300,!0)):a.h.notification.U("Could not open Image window!",k.rq,!0)};b.prototype.Ss=function(a){var b=this.a.sb,c=this.a.ta,d=this.a.kc;var h=a.width;var e=a.height;var f=this.Od,g=this.Pd,p=this.a.ib,l=this.a.ib>>4,n=this.a.lb,r=null,w=h,B=e;var z=Math.round(-this.a.la/2);var C=Math.floor((this.a.la-1)/2);var x=
Math.round(-this.a.na/2);var E=Math.floor((this.a.na-1)/2);var G=f-(this.a.width>>1),K=g-(this.a.height>>1),M=this.a.g,da=!0,aa=2===M&&this.a.sa;-1!==this.a.ka&&(0!==this.a.la&&(G<z||G+h-1>C)&&(da=!1),0!==this.a.na&&(K<x||K+e-1>E)&&(da=!1),da||(this.Os=!0,0!==this.a.la?(f=Math.round(this.a.width/2)+z,w>C-z+1&&(w=C-z+1)):f=Math.round(this.a.width/2),0!==this.a.na?(g=Math.round(this.a.height/2)+x,B>E-x+1&&(B=E-x+1)):g=Math.round(this.a.height/2)));a.ca&&(0!==(f&1)&&(f+=1),0!==(g&1)&&(g+=1));for(e=0;e<
B;e+=1){x=a.$c[e];E=b[e+g&n];if(this.Vb)for(z=a.Ce[e],r=c[e+g&n],h=0;h<w;h+=1)r[h+f&p]=z[h];else if(2<M)for(z=a.Ce[e],r=c[e+g&n],h=0;h<w;h+=1)C=z[h],0<C&&!this.a.Hb&&(C=M+this.ba-C),r[h+f&p]=C;aa&&(r=c[e+g&n]);for(h=0;h<w;h+=1)0!==(x[h>>4]&1<<(~h&15))&&(E[h+f>>4&l]|=1<<(~(h+f)&15),aa&&(r[h+f&p]=LifeConstants.cb))}if(d)for(e=0;e<B;e+=1)for(z=a.Ce[e],b=d[e+g&n],h=0;h<w;h+=1)(C=z[h])&&(b[h+f&p]=k.hb[C]+128)};b.prototype.Bl=function(){var a=!1;-1!==this.a.ka&&0!==this.a.la&&0!==this.a.na&&(a=!0);return a};
b.prototype.Gh=function(){var a=!1;-1===this.a.ka||0!==this.a.la&&0!==this.a.na||(a=!0);return a};b.prototype.Ti=function(a,b,c){a=a[0];b&&(c.Wb=a);return[a,100*a]};b.prototype.zo=function(a,b,c){b&&(c.Pf=(c.a.g-c.ph)*a[0]|0);a[1]=c.Pf+"-"+(c.Pf+c.ph-1);return a};b.prototype.eh=function(a,b,c){var d=a[0],h=0;b?(c.ee=!0,c.a.zoom=k.Wa*Math.pow(k.Ib/k.Wa,a[0])/c.a.Pb):(d=Math.log(c.a.zoom*c.a.Pb/k.Wa)/Math.log(k.Ib/k.Wa),0>d?d=0:1<d&&(d=1));this.fc&&!this.gc?h=c.a.zoom*c.a.Pb:h=c.a.zoom;h<k.Wa?h=k.Wa:
h>k.Ib&&(h=k.Ib);1>h&&(h=-1/h);return[d,h]};b.prototype.bx=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};b.prototype.Xf=function(a,b){var c=this.a.zoom,d=this.a.da,h=this.a.aa,e=6;if(this.va){var f=this.a.Xf(this.Ga,this.A*this.Fc,this.v*this.Fc,k.Wa,k.Ib,k.lp,this.pg,this.Kg,this.Yb&&this.Vb,this.Cf,this.fc,this.Ah,this.Yg,this.Zg,this.Bh,this.Sg,this.pb);f[0]/=this.Fc}else f=k.wy,this.Jb&&(f=0),f=this.a.Xf(this.Ga,this.A,this.v-f,k.Wa,k.Ib,
k.lp,this.pg,this.Kg,this.Yb&&this.Vb,this.Cf,this.fc,this.Ah,this.Yg,this.Zg,this.Bh,this.Sg,this.pb);this.pb&&!a?(24<this.a.zoom&&(e=3),1<this.ga&&(e=1),this.a.zoom=(this.a.zoom*(e-1)+f[0])/e,this.a.da=(this.a.da*(e-1)+f[1])/e,this.a.aa=(this.a.aa*(e-1)+f[2])/e,a=this.a.zoom>c?this.a.zoom/c-1:c/this.a.zoom-1,d=this.a.da>d?this.a.da-d:d-this.a.da,h=this.a.aa>h?this.a.aa-h:h-this.a.aa,this.Ui=a,d>this.Ui&&(this.Ui=d),h>this.Ui&&(this.Ui=h),.01>=this.Ui&&(this.a.zoom=f[0],this.a.da=f[1],this.a.aa=
f[2])):(this.Fi=this.a.width/2-this.a.da,this.Gi=this.a.height/2-this.a.aa,this.Aj=this.a.zoom,this.Ei=this.a.angle,this.lh=this.a.width/2-f[1],this.hj=this.a.height/2-f[2],this.Zh=f[0],this.fk=this.Ei,this.Bm=WaypointConstants.xk,b?this.Je=0:(this.Je=WaypointConstants.xk,this.ws()));this.zb&&(this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this));this.Eb&&(this.Eb.current=this.Nm([this.a.angle,this.a.angle],!1,this))};b.prototype.Ps=function(a,b){-1!==this.a.ka&&this.sg?(this.Od=(this.a.width>>
1)+this.zd,this.Pd=(this.a.height>>1)+this.Ad):(this.Od=Math.round((this.a.width-a)/2)+this.zd,this.Pd=Math.round((this.a.height-b)/2)+this.Ad);!this.Yb&&this.a.Dc||!PatternManager.gk||(this.Yb=this.Vb=!0)};b.prototype.vm=function(a){var b=a+String();1E9<=a?b="1B+":1E8<=a?b=(a/1E6|0)+"M":1E7<=a?b=Number(a/1E6).toFixed(1)+"M":1E6<=a?b=Number(a/1E6).toFixed(2)+"M":1E5<=a&&(b=(a/1E3|0)+"K");return b};b.prototype.Vj=function(a,b){var c=this.h.sh,d=this.h.th;b=a+b;var h=-this.a.angle,e=Math.sin(h/180*
Math.PI);h=Math.cos(h/180*Math.PI);0>b?b=0:1<b&&(b=1);a=k.Wa*Math.pow(k.Ib/k.Wa,a);b=k.Wa*Math.pow(k.Ib/k.Wa,b);b<k.Wa?b=k.Wa:b>k.Ib&&(b=k.Ib);c-=this.A/2;d-=this.v/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.a.da-=c*h+a*-e;this.a.aa-=c*e+a*h;b=Math.log(b/k.Wa)/Math.log(k.Ib/k.Wa);this.zb.current=this.eh([b,b],!0,this)};b.prototype.RA=function(a){a.Ge.current=a.Ug/a.Ej*100;a.Ge.l=!1;a.ce.Lc=0};b.prototype.SA=function(a,b){a.Ge.current=a.a.s/b*100;a.Ge.l=!1;a.ce.Lc=0};b.prototype.QA=function(a){var b=!1,c=
!1,d=0;a.Za||-1===a.oa||(b=!0);!a.nc&&a.Tb&&(c=!0);if(b||c){var h=!1;if(c&&b)d=a.elapsedTime/a.w.Ot(a.oa);else if(c){if(b=a.w.Ky().ec)d=a.elapsedTime/b,1<d&&(h=!0)}else 0<a.oa&&(d=a.a.s/a.oa);1<d&&(d=1);a.Ge.current=100*d}else h=!0;(a.Ge.l=h)?a.ce.Lc=a.u.Lc:a.ce.Lc=0};b.prototype.cy=function(){this.vh.ux(this.a.width/2-this.a.zc,this.a.height/2-this.a.Ac,this.a.ma,this.a.Na,this.a.A,this.a.v,this.a.Wc,this.a.Nf[0])};b.prototype.ev=function(){var a=this.u.cf-this.A/2,b=this.u.Ig-this.v/2,c=this.Pd-
this.a.aa,d=this.Od-this.a.da-(this.a.S?this.a.aa/2:0),e=this.a.zoom;var f=this.a.zoom*(this.a.ca&&4<=e?k.Uo:1);var g=-1;-1!==this.u.cf&&(0!==this.a.Na&&(g=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.a.Na,a=g*Math.cos(Math.PI/180*b),b=g*Math.sin(Math.PI/180*b)),f=b/f-c+this.a.vb,a=a/e+(this.a.S?c/2+f/2:0)-d+this.a.Bb,this.a.ca&&(a-=this.a.zoom/32*.2),d=a-Math.floor(a),c=f-Math.floor(f),a-=d,f-=c,this.a.ca&&(0===(a+this.Od+f+this.Pd&1)?1<d+c&&(a+=1):1>1-d+c&&(a+=1)),g=this.a.getState(a+
this.Od,f+this.Pd,this.Vb&&this.Yb));return g};b.prototype.eo=function(a,b){var c=a-this.A/2,d=b-this.v/2;b=this.Pd-this.a.aa;var h=this.Od-this.a.da-(this.a.S?this.a.aa/2:0),e=0,f=0,g=0,m=0,l=this.a.zoom,n=this.a.zoom*(this.a.ca&&4<=l?k.Uo:1);-1!==a&&(0!==this.a.Na&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.a.Na,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),e=d/n-b+this.a.vb,f=c/l+(this.a.S?b/2+e/2:0)-h+this.a.Bb,this.a.ca&&(f-=this.a.zoom/32*.2),m=f-Math.floor(f),g=
e-Math.floor(e),f-=m,e-=g);this.a.ca&&(0===(f+this.Od+e+this.Pd&1)?1<m+g&&(f+=1):1>1-m+g&&(f+=1));this.Oj=f+this.Od;this.Pj=e+this.Pd};b.prototype.np=function(a,b,c,d,e){var h=Math.abs(c-a),f=Math.abs(d-b),g=a<c?1:-1,m=b<d?1:-1,q=h-f,k=this.a.width,l;for(l=0|this.a.Bv(a,b,e);k!==this.a.width;)a+=k>>1,b+=k>>1,c+=k>>1,d+=k>>1,k<<=1;for(;a!==c||b!==d;){var A=q+q;A>-f&&(q-=f,a+=g);A<h&&(q+=h,b+=m);for(l|=this.a.Bv(a,b,e);k!==this.a.width;)a+=k>>1,b+=k>>1,c+=k>>1,d+=k>>1,k<<=1}return l};b.prototype.vA=
function(){var a=this.u.cf-this.A/2,b=this.u.Ig-this.v/2,c=this.Pd-this.a.aa,d=this.Od-this.a.da-(this.a.S?this.a.aa/2:0),e=this.a.zoom,f=this.a.zoom*(this.a.ca&&4<=e?k.Uo:1);if(-1===this.u.cf)this.xc.xb="",this.xc.l=!this.hf;else{if(0!==this.a.Na){var g=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b-=this.a.Na;a=g*Math.cos(Math.PI/180*b);b=g*Math.sin(Math.PI/180*b)}f=b/f-c+this.a.vb;a=a/e+(this.a.S?c/2+f/2:0)-d+this.a.Bb;this.a.ca&&(a-=this.a.zoom/32*.2);d=a-Math.floor(a);c=f-Math.floor(f);a-=
d;f-=c;this.a.ca&&(0===(a+this.Od+f+this.Pd&1)?1<d+c&&(a+=1):1>1-d+c&&(a+=1));c=this.a.getState(a+this.Od,f+this.Pd,this.Vb&&this.Yb);a+=this.zd;f+=this.Ad;-1===this.a.ka||this.sg||(a-=Math.floor((-1===this.Rg?this.pg:this.Rg)/2),f-=Math.floor((-1===this.Qg?this.Kg:this.Qg)/2));a=-9999>a||9999<a?Number(a/1E4).toFixed(1)+"K":String(a);f=-9999>f||9999<f?Number(f/1E4).toFixed(1)+"K":String(f);this.xc.xb=a+","+f+"="+c;this.xc.l=!1}this.xc.enabled=this.hf||this.pa.current===k.mb&&-1!==this.u.cf?this.Y||
this.Ya||0===this.pg?!1:!0:!1};b.prototype.yz=function(a){if(!this.Jb&&!this.va)if(0<this.Y)0<a?this.Qo(this,3):this.Po(this,3);else if(0<this.Ya)0<a?this.Oo(this,3):this.No(this,3);else if(!this.hc){var b=this.zb.current[0];0>a?this.Vj(b,-.05):this.Vj(b,.05)}};b.prototype.ZA=function(a,b){var c=b.w.current;var d=!1,e=!1,h=!1,f=!1,g=!1,m;b.hc=!1;b.Oq&&(b.Oq=!1,a=0);b.Yb||b.QA(b);b.ga=b.cc.current[0];b.pa.current!==k.mb?(a>k.my&&(e=!0),a>k.Fv&&(a=k.Fv),!b.Cc||b.Tb&&!b.nc||(b.Jg+=b.ga*b.Id*a/1E3,b.Ga+=
b.Id*a/1E3,(b.Ga|0)>b.a.s?(b.Ga+=b.ga-1,b.lg=!0):b.elapsedTime+=a)):b.lg&&(g=!0,b.Ga=b.Vr?b.a.s+1:b.a.s+b.ga,b.Jg=b.Ga);b.ys();b.Tb&&!b.nc&&b.pa.current!==k.mb?(b.ee&&!b.w.Qp(b.elapsedTime+a)&&(b.ee=!1,b.elapsedTime=b.w.Ct(b.a.width/2-b.a.da,b.a.height/2-b.a.aa,b.a.zoom,b.a.angle,b.a.I,b.a.sc*k.Wh,b.a.te,b.Id,b.ga,b.a.s,b.elapsedTime)),c.od&&(b.Xf(!0,!1),b.ee=!1,c.x=b.a.width/2-b.a.da,c.y=b.a.height/2-b.a.aa,b.va&&(b.a.zoom*=b.Fc),c.zoom=b.a.zoom),(h=b.w.update(b.elapsedTime+a,b.a.s))?(c.od&&(c.od=
!1,b.va&&(b.a.zoom=c.zoom/b.Fc),b.zb&&(b.zb.current=b.eh([b.a.zoom,b.a.zoom],!1,b))),b.Ga+=b.Id*a/1E3,(b.Ga|0)>b.a.s&&(b.Ga+=b.ga-1,b.lg=!0)):(b.pa.current!==k.mb&&(b.hc=!0),b.a.da=b.a.width/2-c.x,b.a.aa=b.a.height/2-c.y,b.a.zoom=c.zoom,b.va&&(b.a.zoom=b.a.zoom/b.Fc),b.zb&&(b.zb.current=b.eh([b.a.zoom,b.a.zoom],!1,b)),b.a.angle=c.angle,b.Eb&&(b.Eb.current=[b.a.angle,b.a.angle]),b.a.I=c.I,b.tc&&(b.tc.current=[b.a.I,b.a.I]),b.a.sc=c.depth/k.Wh+k.qo,b.Nb&&(b.Nb.current=[Math.sqrt(b.a.sc),b.a.sc*k.Wh]),
b.Id=c.kb,b.Oa&&(b.Oa.current=[Math.sqrt((c.kb-k.ze)/(k.mi-k.ze)),b.Rt(c.kb)]),b.ga=c.step,b.cc.current=[b.ga,b.ga],c.ab>b.a.s?(b.lg=!0,b.Ga=c.ab):b.lg=!1,c.yd!==b.bo&&(""===c.yd?b.h.notification.clear(!1,!1):b.h.notification.U(c.yd,1E3,!1),b.bo=c.yd),c.nb!==b.Xq&&(b.Qc.current=b.Nj([c.nb,""],!0,b),b.Xq=c.nb)),b.lg||(b.elapsedTime+=a)):b.pb&&b.pa.current!==k.mb&&(b.hc=!0);b.hc&&(b.Je=-1);c=0;if(b.lg){if(b.a.Ba){var l=performance.now();var n=(b.Ga|0)-b.a.s;for(m=0;!f&&b.a.s<(b.Ga|0);){c=performance.now()-
l;if(b.a.s===b.yb-1||c>k.Zv&&!g)f=!0;b.hf&&(b.a.s===(b.Ga|0)-1||f)?b.a.rj(!0,b.Lf,b.Oc):b.a.rj(!1,b.Lf,b.Oc);m+=1;(b.a.Nv||b.a.s===(b.Ga|0)||f)&&b.a.$j();b.fA(a,n);-1!==b.oa&&b.a.s>=b.oa&&!b.Za&&(b.elapsedTime=0,b.reset(b),h&&(b.hc=!0));b.a.Ba||(f=!0)}b.a.Ba||(b.tq=this.ba+(0<this.a.g?this.a.g:0),-1===b.jh&&(b.jh=b.a.s,b.a.tt(!0),!b.El||-1!==b.oa&&!b.Za||b.ek||b.h.notification.U("Life ended at generation "+b.jh,600,!0)));b.Ga-=n-m}else b.tq&&(--b.tq,a=b.a.s,b.a.s=b.jh,b.a.$j(),b.a.s=a),b.a.s+=b.ga,
-1!==b.oa&&b.a.s>=b.oa&&!b.Za&&(b.elapsedTime=0,b.reset(b),h&&(b.hc=!0));b.a.s===b.yb&&(b.pa.current=b.Vd(k.mb,!0,b),b.El&&b.h.notification.U("STOP reached - Play to continue ",180,!0))}b.Ag.locked=b.hc&&b.Tb;b.jj.locked=b.hc||b.pb&&b.pa.current!==k.mb;b.Oa.locked=b.hc&&b.Tb;b.cc.locked=b.hc&&b.Tb;b.Qc.locked=b.hc&&b.Tb;b.zb.locked=b.hc;b.Eb.locked=b.hc&&b.Tb;b.tc.locked=b.hc&&b.Tb;b.Nb.locked=b.hc&&b.Tb;b.wheelDelta&&(b.yz(b.wheelDelta),b.wheelDelta=0);b.pb&&(b.pa.current!==k.mb||b.Tb)&&b.Xf(!1,
!1);b.a.Fz();b.wg&&b.cy();b.a.Fn();b.a.Ne&&b.a.S&&4<=b.a.zoom?b.a.by():b.a.ca&&4<=b.a.zoom&&b.a.ey();b.rm&&(2===b.rm&&b.a.Gn(b.Fe,1,!0,b.va),b.hx(b),2===b.rm&&b.a.Fn(),b.rm=0);b.a.s&&b.a.Ba&&(h=k.fe,b.a.sa&&(h=4*b.a.Ub.uc+1,-1!==b.a.ka&&(h+=2*b.a.Ub.uc),b.a.Ub.type===PatternManager.jf&&(h=-1!==b.a.ka?h+b.a.na/2:h+(b.a.C.L-b.a.C.K+1)/2),h<k.fe&&(h=k.fe)),b.a.kx(h)&&(b.ae+=b.a.width>>2,b.cj+=b.a.height>>2,b.he+=b.a.width>>2,b.yj+=b.a.height>>2,b.a.S&&(b.ae-=b.a.height>>3,b.he-=b.a.height>>3),b.Od+=
b.a.width>>2,b.Pd+=b.a.height>>2));b.Of&&b.w.kq(b);b.gb&&b.a.Gn(b.Fe,b.Wb,!1,b.va);b.Y?Help.mq(b):b.Rb.length&&Help.lq(b);b.ce.lower[0]=b.Ln?"+ "+b.vm(b.a.s):"T "+b.vm(b.a.s+b.Kn);b.gj.xb=b.bx(b.elapsedTime);b.ui.xb=b.vm(b.a.Aa);b.Bl()?b.Cg.xb=(100*b.a.Aa/(b.a.na*b.a.la)|0)+"%":(b.Cg.xb=b.vm(b.a.Ab),b.Vh.xb=b.vm(b.a.jc));b.ui.F="alive "+b.a.Aa;b.Bl()?b.Cg.F="density "+(100*b.a.Aa/(b.a.na*b.a.la)|0)+"%":(b.Cg.F="births "+b.a.Ab,b.Vh.F="deaths "+b.a.jc);b.gr||b.LA(c,e,g,b);b.lg=!1;b.Vr=!1;b.vA();-1!==
b.Je&&b.ws();if(b.Cc||b.pb&&b.Ui>b.dx||-1!==b.Je)d=!0;b.MA();b.TA();b.NA();b.UA(b.Y||b.Rb.length);b.h.Og(d)};b.prototype.LA=function(a,b,c,d){a>k.Zv&&!c?(d.qg+=k.Uu,d.qg>=2*k.pr&&(d.qg=0)):0<d.qg&&(d.qg-=k.Uu);b&&!c?d.rg<k.fz&&(d.rg+=k.Vu):d.rg>k.gz&&(d.rg-=k.Vu);d.qg>=k.pr&&(d.qB=2*k.pr-d.qg);a=d.Lj>>16;b=d.Lj>>8&255;c=d.Lj&255;128<=a?64<=b||64<=c?(b-=d.rg,c-=d.rg,0>b&&(b=0),0>c&&(c=0)):(b+=d.rg,255<b&&(b=255)):(a+=d.rg,255<a&&(a=255));d.Oa.Sc="rgb("+a+","+b+","+c+")";a=d.Lj>>16;b=d.Lj>>8&255;c=
d.Lj&255;128<=b?(a-=d.rg,0>a&&(a=0),c-=d.qg,0>c&&(c=0)):(b+=d.qg,255<b&&(b=255));d.cc.Sc="rgb("+a+","+b+","+c+")"};b.prototype.ys=function(){if(this.fc&&!this.gc){this.a.Bb=this.Jg*(this.Yg+this.Bh)/2;this.a.vb=this.Jg*(this.Ah+this.Zg)/2;var a=this.a.ow(0,this.Ah,this.Yg,this.Zg,this.Bh,this.A,this.v-80,k.Wa,k.Ib,k.lp);var b=this.a.ow(this.Jg,this.Ah,this.Yg,this.Zg,this.Bh,this.A,this.v-80,k.Wa,k.Ib,k.lp);this.a.Pb=b/a}else this.a.Bb=0,this.a.vb=0,this.a.Pb=1;this.zb.current=this.eh([this.a.zoom,
this.a.zoom],!1,this)};b.prototype.UA=function(a){var b=!(this.Y&&this.di===k.Eh);var c=[];var d=[];this.Ag.l=a;this.zb.l=a||this.gb;this.jj.l=a;this.bi.l=a;this.me.l=a||this.gb;this.Ed.l=a||this.gb;this.Ha.l=a||this.gb;this.li.l=a||this.gb;this.qj.l=a;this.Mb.l=a||!this.gb;this.Tk.l=a||!this.gb;this.pk.l=a||!this.gb;this.Qe.l=a;this.gj.l=a;this.Re.l=a;this.ui.l=a;this.Cb.l=a||this.Gh();this.Cg.l=a||this.Gh();this.ne.l=a||this.Bl()||this.Gh();this.Vh.l=a||this.Bl()||this.Gh();this.Kc.l=a;this.Eb.l=
a||this.a.S||this.a.ca;this.Nb.l=a;this.Qc.l=a||this.Vb||this.a.Hb;this.tc.l=a;this.jj.l=a;this.vg.l=a||!this.zh;this.Sb.l=!(this.xe||this.Rb.length);this.ei.l=a;this.fi.l=a;this.Xj.l=a;this.hi.l=a;this.ai.l=a;this.mk.l=a;this.oh.l=a;this.lk.l=a;this.Hk.l=a;this.hk.l=a;this.bh.l=a;this.cg.l=a||!this.Ea;this.kd.l=a||!this.Ea;this.dg.l=a||!this.Ea;this.ld.l=a||!this.Ea;this.yf.l=a||!this.Ea;this.ed.l=a||!this.Ea;this.Uk.l=a||!this.Ea;this.Ih.l=a||!this.Ea;this.Jh.l=a||!this.Ea;this.Kh.l=a||!this.Ea;
this.Pi.l=a||!this.Ea;this.fd.l=a||!this.Ea;this.hd.l=a||!this.Ea;this.jd.l=a||!this.Ea;this.gd.l=a||!this.Ea;this.Rb.length?(this.Sb.F="close errors",this.Sb.xb="Esc",this.Sb.font="16px Arial"):(this.Sb.F="close window",this.Sb.xb="X",this.Sb.font="24px Arial");this.Si.l=!(this.Y&&this.di!==k.Eh);this.bb.l=!(this.Y&&this.di!==k.Eh)||!this.wm;this.uf.l=b;this.wf.l=b;this.sf.l=b;this.xf.l=b;this.qf.l=b;this.nf.l=b;this.oe.l=b;this.Dh.l=b||0===this.w.Zl();this.Lh.l=!(this.Y&&this.di!==k.Eh)||this.wm;
if(this.hl){this.hl=!1;for(b=0;b<this.R.length;b+=1)c[b]=this.R[b][1],d[b]="";this.bb.lower=c;this.bb.F=d;this.bb.height=26*this.R.length;this.bb.current=0}this.bc.l=a||!this.we||!this.Ek;this.i.l=a||!this.we||!this.Ek;if(2>=this.a.g)for(b=0;b<this.i.lower.length;b+=1)c=2>=b?0===b?b:1===b?LifeConstants.cb:LifeConstants.Uh:128+k.hb[b],this.i.il[b]="rgb("+this.a.Qa[c]+","+this.a.Pa[c]+","+this.a.Ma[c]+")";else for(b=0;b<this.i.lower.length;b+=1)c=0===b+this.Pf?0:this.ba+this.a.g-(b+this.Pf),this.i.il[b]=
"rgb("+this.a.Qa[c]+","+this.a.Pa[c]+","+this.a.Ma[c]+")";this.wk.l=a||!this.we;this.yg.l=a||!this.we;this.Nh.l=a||!this.we||!this.Ek||8>this.a.g;this.a.g>this.ph&&this.po();if(0<this.Y){b=0;for(c=-1;b<this.R.length&&-1===c;)this.R[b][0]>this.Y?c=this.R[b][0]:b+=1;b===this.R.length&&(c=b);-1!==c&&(this.bb.current=b-1)}this.Jl&&(this.u.l=this.pa.current===k.ni?!0:!1)};b.prototype.NA=function(){var a=-(this.a.width/2-this.a.da-this.a.Bb|0),b=-(this.a.height/2-this.a.aa-this.a.vb|0),c=String(a),d=String(b);
this.cg.l=!this.Ea;this.kd.l=!this.Ea;this.dg.l=!this.Ea;this.ld.l=!this.Ea;this.yf.l=!this.Ea;this.ed.l=!this.Ea;this.Uk.l=!this.Ea;this.Ih.l=!this.Ea;this.Jh.l=!this.Ea;this.Kh.l=!this.Ea;this.Pi.l=!this.Ea;this.fd.l=!this.Ea;this.hd.l=!this.Ea;this.gd.l=!this.Ea;this.jd.l=!this.Ea;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.kd.xb=c;this.ld.xb=d;this.ed.xb=this.a.angle.toFixed(0)+"\u00b0";this.fd.xb=this.gn.toFixed(3);this.hd.xb=this.jn.toFixed(3);this.jd.xb=this.kn.toFixed(3);
this.gd.xb=this.hn.toFixed(3)};b.prototype.TA=function(){0===this.a.s?this.kn=this.gn=this.jn=this.hn=0:(this.jn=(this.a.C.L-this.a.Ld.L)/this.a.s,this.hn=(this.a.C.K-this.a.Ld.K)/this.a.s,this.gn=(this.a.C.O-this.a.Ld.O)/this.a.s,this.kn=(this.a.C.N-this.a.Ld.N)/this.a.s)};b.prototype.MA=function(){this.Ag.current=[this.pb];this.me.current=[!this.Rh&&this.pe];this.me.locked=!this.pe;this.fc?(this.Ha.lower[0]="TRACK",this.Ha.current=[!this.gc&&this.fc],this.Ha.locked=!this.fc,this.Ha.F=["toggle track mode"]):
(this.Ha.lower[0]="WAYPT",this.Ha.current=[!this.nc&&this.Tb],this.Ha.locked=!this.Tb,this.Ha.F=["toggle waypoint mode"]);this.li.current=[!this.Za&&-1!==this.oa];this.li.locked=-1===this.oa;this.li.F=["loop at "+this.oa];this.Ed.current=[-1!==this.yb];this.Ed.locked=-1===this.yb;this.Ed.F=["stop at "+this.yb]};b.prototype.fA=function(a,b){if(this.a.s>=this.Rc.length){var c=this.a.j.W(Float32,this.Rc.length+k.Nu,"View.elapsedTimes");c.set(this.Rc);this.Rc=c}this.elapsedTime+=a/b;this.Rc[this.a.s]=
this.elapsedTime};b.prototype.XA=function(a){var b=a.FA,c=a.Ej-a.Ug;if(a.Ug<a.Ej)if(0<a.Zp)--a.Zp;else if(a.Xn)a.Ji.innerHTML=a.Cm,a.Ug=a.Ej;else{c<b&&(b=c);var d=document.createElement("textarea");a.Iq(d);if(b!==c)for(;"\n"!==a.Cm[a.Ug+b];)--b;d.innerHTML=a.Cm.substr(a.Ug,b);a.Ug+=b;a.Ji.appendChild(d)}else a.h.notification.U("Press Enter to complete copy",1E4,!0);a.RA(a);a.a.Fn();a.Of&&a.w.kq(a);a.gb&&a.a.Gn(a.Fe,a.Wb,!1,a.va);a.Y?Help.mq(a):a.Rb.length&&Help.lq(a);a.h.Og(!0)};b.prototype.YA=function(a){for(var b=
a.Yp,c=performance.now(),d,e=a.a.Sd.Oy*LifeConstants.xm;a.a.s<b-1&&13>performance.now()-c;)d=b-1-a.a.s<=e?!1:!0,a.a.rj(!1,d,a.Oc),a.a.$j();a.a.s===b-1?(a.a.rj(a.hf,!1,a.Oc),a.a.$j(),a.$i=!1,a.Xp&&a.h.notification.clear(!0,!1),a.u.locked=!1):a.u.locked=!0;a.SA(a,b);a.a.Fn();a.Of&&a.w.kq(a);a.gb&&a.a.Gn(a.Fe,a.Wb,!1,a.va);a.Y?Help.mq(a):a.Rb.length&&Help.lq(a);a.h.Og(!0)};b.prototype.Kw=function(a,b){b.$i?b.YA(b):b.ml?b.XA(b):b.ZA(a,b)};b.prototype.Js=function(a){a.a.s=0;a.Ga=0;a.Jg=0;a.elapsedTime=
0;a.a.da=a.a.width>>1;a.a.aa=a.a.height>>1;a.a.da&=a.a.width-1;a.a.aa&=a.a.height-1;a.a.Ba=!0;a.Oq=!0;a.jh=-1};b.prototype.jw=function(a,b,c){b&&(c.wg=a[0]);return[c.wg]};b.prototype.fw=function(a,b,c){b&&(c.Cf=a[0]);return[c.Cf]};b.prototype.iw=function(a,b,c){b&&(c.a.mh=a[0]);return[c.a.mh]};b.prototype.gw=function(a,b,c){b&&(c.Ea=a[0]);return[c.Ea]};b.prototype.Gs=function(a,b,c){b&&(c.gb=a[0]);return[c.gb]};b.prototype.hw=function(a,b,c){b&&(c.Of=a[0]);return[c.Of]};b.prototype.cw=function(a,
b,c){b&&(c.a.Bc=a[0]);return[c.a.Bc]};b.prototype.ew=function(a,b,c){b&&(c.a.Ne=a[0],c.xs());return[c.a.Ne]};b.prototype.Hs=function(a,b,c){b&&(c.a.S=a[0],c.a.S?(c.a.da-=c.a.aa/2,c.ae-=c.a.aa/2,c.he-=c.a.aa/2):(c.a.da+=c.a.aa/2,c.ae+=c.a.aa/2,c.he+=c.a.aa/2),c.xs(),c.Eb.l=c.a.S);return[c.a.S]};b.prototype.ll=function(a,b,c){b&&(c.h.Bi=a[0]);c.h.Og(!0);return[c.h.Bi]};b.prototype.Ok=function(a,b,c){b&&(c.h.Ci=a[0]);c.h.Og(!0);return[c.h.Ci]};b.prototype.Nj=function(a,b,c){b&&(b=a[0]+.5|0,c.a.te!==
b&&(c.a.Dk(b,c.a.Yi,c),1<c.a.Yi&&(c.h.Mi=c.a.Yi)));return[a[0],c.ns(c.a.te)]};b.prototype.Oi=function(a,b,c){b&&(c.ga=a[0]+.5|0);return[c.ga,c.ga]};b.prototype.Rt=function(a){return(10>a.toFixed(1)?a.toFixed(1):a.toFixed(0))+"/s"};b.prototype.dh=function(a,b,c){b?(c.Id=k.ze+a[0]*a[0]*(k.mi-k.ze),a=a[0]):a=Math.sqrt((c.Id-k.ze)/(k.mi-k.ze));return[a,c.Rt(c.Id)]};b.prototype.xv=function(a){a.Bk=a.a.zoom;a.va&&(a.Bk=a.Bk*a.Fc);a.Lr=a.a.angle;a.he=a.a.da;a.yj=a.a.aa};b.prototype.Uz=function(a){a.Fi=a.a.width/
2-a.a.da;a.Gi=a.a.height/2-a.a.aa;a.Aj=a.a.zoom;a.Ei=a.a.angle;a.lh=a.a.width/2-a.he;a.hj=a.a.height/2-a.yj;a.fk=a.Lr;a.va?a.Zh=a.Bk/a.Fc:a.Zh=a.Bk;a.Je=0};b.prototype.Pz=function(a,b){a.a.zoom=a.Lt;a.va&&(a.a.zoom=a.a.zoom/a.Fc);a.zb&&(a.zb.current=a.eh([a.a.zoom,a.a.zoom],!1,a));a.a.angle=a.ak;a.Eb&&(a.Eb.current=[a.ak,a.ak]);a.a.da=a.ae;a.a.aa=a.cj;b&&(b=a.a.Yi,a.a.Yi=1,a.Qc.current=a.Nj([a.An,""],!0,a),a.a.Yi=b,a.Vb&&(a.a.Xi=0),b=Math.sqrt((a.hq-k.ze)/(k.mi-k.ze)),a.Oa.current=a.dh([b,b],!0,a),
a.ga=a.zn,a.cc.current=[a.ga,a.ga],a.a.I=a.ck,a.tc.current=[a.ck,a.ck],b=Math.sqrt(a.gq),a.Nb.current=a.Ch([b,b],!0,a))};b.prototype.Fp=function(a){a?(this.a.da+=this.a.Bb,this.a.aa+=this.a.vb,this.a.zoom*=this.a.Pb):(this.ys(),this.a.da-=this.a.Bb,this.a.aa-=this.a.vb,this.a.zoom/=this.a.Pb,this.ys());this.a.zoom<k.Wa?this.a.zoom=k.Wa:this.a.zoom>k.Ib&&(this.a.zoom=k.Ib)};b.prototype.kv=function(a){a.elapsedTime=0;a.Vb||(a.a.Lo(a.Lf),a.a.Ba=!0,a.a.Dr())};b.prototype.reset=function(a){var b=!1,c=
!1;if(0===a.elapsedTime||a.Tn)b=!0;a.Za||-1===a.oa||a.a.s>=a.oa&&(c=!0);c||b||(a.Tb&&(a.nc=!0),a.fc&&(a.gc=!0),-1!==a.oa&&(a.Za=!0),a.Xm&&(a.pb=!1));a.elapsedTime=0;a.a.Bb=0;a.a.vb=0;a.a.Pb=1;if(b){a.Tb&&(a.nc=!1);a.fc&&(a.gc=!1);a.Xm&&(a.pb=!0);if(!c||a.Tb||a.pb)a.Pz(a,b),a.pb&&a.Xf(!0,!1);a.Za=!1}a.Vb||(a.a.Lo(a.Lf),a.Ga=a.a.s,a.Jg=a.Ga,a.a.Ba=!0);a.Oc||a.a.lv();a.a.Dr();a.bo="";a.Xq=-1;a.ee=!1;a.w.Sz();a.h.notification.clear(!1,!1);a.jh=-1};b.prototype.zv=function(a){a?(this.pa.icon[2]=this.ia.icon("pause"),
this.pa.F[2]="pause"):(this.pa.icon[2]=this.ia.icon("stepforward"),this.pa.F[2]="next generation")};b.prototype.gf=function(a,b){b.di=a;b.Y=1;b.wm=!0;b.Cq=[];b.Dq=[];this.hl=!0};b.prototype.rw=function(a){a.gf(k.lu,a)};b.prototype.xw=function(a){a.gf(k.Or,a)};b.prototype.sp=function(a){a.gf(k.Kl,a)};b.prototype.Fw=function(a){a.gf(k.Ov,a)};b.prototype.Es=function(a){a.gf(k.wt,a)};b.prototype.zr=function(a){a.gf(k.Zs,a)};b.prototype.sw=function(a){a.gf(k.Fu,a)};b.prototype.Br=function(a){a.gf(k.et,
a)};b.prototype.ix=function(a,b,c){b&&(c.Y=c.R[a][0],c.wm=!1);return a};b.prototype.Is=function(a,b,c){var d=a;if(b)switch(a){case k.Lu:c.Yb||c.a.Hb?(c.h.notification.U("Drawing not available",40,!0),d=k.Wl):(c.we=!0,c.wk.current=c.ts([!1],!0,c));break;case k.Wl:c.we=!1}return d};b.prototype.Ks=function(a,b,c){var d=a;b&&(c.Ye=a,2>=c.a.g?b=c.a.Dc?k.Gv[c.Ye]:c.Ye?"Alive":"Dead":(a+=c.Pf,0===a?(c.Ye=0,b="Dead"):(c.Ye=c.a.g-a,b=1===a?"Alive":"Dying "+String(a-1))),c.h.notification.U("Drawing with state "+
a+" ("+b+")",120,!0),c.wk.current=c.ts([!1],!0,c));return d};b.prototype.Hx=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.bc.current=c.Ks(d,!0,c)),d+=1;return a};b.prototype.Vd=function(a,b,c){var d=a,e=c.Za,h=c.nc,f=c.Rh,g=c.pb,q=c.gc,m=40,l=0,r=0,w=0,B=0,z=0;if(b){switch(a){case k.cr:c.Rh=c.Tn||c.pe&&0===c.a.s&&0===c.elapsedTime?!1:!0;c.pe&&!c.Rh?(a=k.ni,c.Cc=!0,c.ek=0===c.a.Aa?!0:!1):(a=k.mb,c.Cc=!1);c.reset(c);b="Reset";!c.Za&&e&&-1!==c.oa&&(l=1);c.Za&&!e&&-1!==c.oa&&(l=-1);!g&&
c.pb&&(z=1);g&&!c.pb&&(z=-1);!c.nc&&h&&(r=1);c.nc&&!h&&(r=-1);!c.gc&&q&&(w=1);c.gc&&!q&&(w=-1);!c.Rh&&f&&c.pe&&(B=1);c.Rh&&!f&&c.pe&&(B=-1);if(0!==l||0!==r||0!==w||0!==B||0!==z){b="";0!==l&&(b+="Loop");if(0!==r||0!==w||0!==z)0!==l&&(b=0!==B?b+", ":b+" and "),b=0!==r?b+"Waypoints":0!==w?b+"Track":b+"AutoFit";if(0!==B){if(0!==l||0!==r||0!==w||0!==z)b+=" and ";b+="AutoStart"}b=0<l||0<r||0<w||0<B||0<z?b+" On":b+" Off";m=120}c.h.notification.U(b,m,!0);break;case k.ni:c.pa.current!==k.ni&&(c.Cc=!0,c.ek=
0===c.a.Aa?!0:!1,c.h.notification.U("Play",40,!0));break;case k.Yy:c.Cc?(c.Cc=!1,c.h.notification.U("Pause",40,!0)):0<c.a.s&&c.om(c.a.s-c.ga);a=k.mb;break;case k.mb:c.Cc?(c.Cc=!1,(c.a.s!==c.yb||c.El)&&c.h.notification.U("Pause",40,!0)):(c.lg=!0,c.ek=0===c.a.Aa?!0:!1)}d=a;c.zv(c.Cc)}return d};b.prototype.Nm=function(a,b,c){b&&(c.ee=!0,c.a.angle=a[0]);return[c.a.angle,c.a.angle]};b.prototype.Om=function(a,b,c){b?(c.ee=!0,c.a.I=a[0]+.5|0,a=a[0]):a=c.a.I;return[a,c.a.I]};b.prototype.Ch=function(a,b,c){return b?
(c.ee=!0,c.a.sc=a[0]*a[0],[a[0],c.a.sc*k.Wh]):[Math.sqrt(c.a.sc),c.a.sc*k.Wh]};b.prototype.ay=function(a,b,c,d){var e=this.Ye;-1===c&&-1===d?(this.uk=this.ev(),2<this.a.g&&(e=this.a.g-e),this.uk=this.To&&this.uk===e?0:this.Ye):(this.eo(c,d),c=this.Oj,d=this.Pj,this.eo(a,b),a=this.Oj,b=this.Pj,this.np(c,d,a,b,this.uk)&&this.a.rz());0<this.a.Aa&&(this.jh=-1,this.a.Ba=!0)};b.prototype.gy=function(a,b,c,d){d.Jl&&!c&&(d.pa.current=d.Vd(k.mb,!0,d))};b.prototype.ex=function(a,b,c,d){d.dw(a,b,c,d,!1)};b.prototype.dw=
function(a,b,c,d,e){if(c){if(d.Y||d.Ya||!d.we||e){if(-1!==d.nj)if(d.Y)e=d.ii-b,e/=k.fontSize,0<e?d.Po(d,e):0>e&&d.Qo(d,-e);else if(d.Ya)e=d.ii-b,e/=k.fontSize,0<e?d.No(d,e):0>e&&d.Oo(d,-e);else{c=(d.nj-a)/d.a.ma;e=(d.ii-b)/d.a.ma/(d.a.ca&&4<=d.a.ma?k.Uo:1);var h=d.a.S||d.a.ca?0:-d.a.angle;if(!d.hc){var f=Math.sin(h/180*Math.PI);h=Math.cos(h/180*Math.PI);d.ee=!0;d.a.da+=c*h+e*-f;d.a.aa+=c*f+e*h}}}else d.we&&-1!==a&&-1!==b&&!d.vk&&d.ay(a,b,d.nj,d.ii);d.nj=a;d.ii=b}else e||!0!==d.vk||-1===a||-1===b||
(d.uk=d.ev(),a=d.Pf,d.Pf=0,d.bc.current=d.Ks(d.uk,!0,d),d.Pf=a),d.nj=-1,d.ii=-1};b.prototype.pi=function(a,b){8>this.a.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8));this.ii=this.nj=0;this.dw(a,b,!0,this,!0);this.ii=this.nj=-1};b.prototype.Us=function(a){var b=k.hu;null===b&&(b=new Image,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAAAoCAIAAABYa1qWAAAABnRSTlMAAAAAAABupgeRAAAHbklEQVR4nO2dWbKtKBBFtaIGfIbijK0P4xIUSL8zE3Cvr/fEmx1dHkQ8DkIIIYQQQghp5ff7iV7/MtKxZcw/yFPpcdVLXw/uydwAKf03o56QRbnvO7hynqeCZCu9Vtz3rWOGmiJCTLiu6/f7Xdeldr0v3x0pPZhwkI2RmKLy6YWtXn3O8wxSAUhmICFzAxgHAiROSp50Ib6OKj2O458uUwmZnWculJOfGv2t9FrxNX8J2ZLXdRF4KRMOsi1yc2F+FrTSa8XX/CVkV54nL0KlBxMOsjcSc2HNLGil14qv+UvITugsbxCyJ8HkB5wL85Kt9MaYvDFx3zfEZZQcIazeUpk5Jj4TVt+EJgXM8JZKcPN4aXxn8geE1c+L1o14kI17vpARr3f6TfbExLmD2iBZlBPoRSGxmXESvfpvUfo/WSRen9F8Jae+gmzjfIgNL1ixqLEURdCWZjApxl8GUPt3/I9Xk+Cl79x/VN2N406Aur8oZNDsPqUQ+iyvdAeltChHwp0PwjMhahjvPppxlugUg+7nBwr/CsDWAfOExkkIVqsaVqXvWFVS68TWen9RyKDBfX+FotX4om1Fg0eEFxVB3PkmTDgqGWzPqyccI2JfQxdcMezOqaFmiYFFp10pnPQVUHsOxy2z0L00SzTcVqZy6t7oERWZCjegSb/WOzm7drEv12klLiGQO+krKL2uq+3gL6YdD7u25gn92nVATBFUwdK+tzYnfWef1vXonbDxT06Qq9V3VdFOXazHpfsUEPcWq9xJX3Fpz0mjX047UKOSxO+qwRqZdsD9Ws6xE/UVp9n83AjmFthd2vEpxntWxzjmHrUIbYCFy9wVyLbQvOSY/nM4VnkYhgLu74lmxJjJq3Jy88hyPP3FfzeKbUwB0SDXCP9gWpkCcrTG607VTOnowV9f6Kjb+7iEd0sYSeZnp4dWI0isMQSxVe6zRXdq/M1sNXXuoO55SM3ZctcDRE8XDUpz53DkrYyBNN+U3pTw1vuLQvw/tAqCJnkf/Z+A+RsG1RUV9albjo7p0Px8iBRNU5rQGnus5Yii6mKeN8A8ztgQAaVVjpPB8xfpdCfWXikkM9e47T6Qexwm53DUGIAtzZFP0Cpztw5axULMiP/Qyn1l6t1B+dutaNEIWzHDa7FNlaVQs6km1NqupGObul5pZM1tg9GOI1bsttId2Zc5oitzsy8fco+P9NkbxbMx8i+tQEoPiW+prD4rqNnf0UWxHXjRalrU7KPuyIfBOl0IK+9Syxt7cP9tyZRWIa2lifv/C1crroM+Tx/ixQDp6wHdu0FrSg+5j7dtP1wOIhGcJplL187SxpOHqWaFqYyBkOkjt/rDlBjss6G8wP0qVwKdnRz8WiwhRAl/flLOGl+npeJctRb337EiDzq/+jpUSGcb/sVtKncPpBKO8Rc1iShL187Sxn8Zv+I0K3GzxOKVeN3CpR3521qJ/9xqxZHZBhDRhymuFJ9wrJ5q6NgvoaJV5qLVtKjZxKGwzyBWV399RTJphL/UgXJ5hj74hSUrfUQfrBzYhGP1VMNHwZfsIV499NkA90uU5Qz2qamv8Tqdn9Pi1+frzKRvhgTFRYunLWETLNu47ZdtSJ+9kT+TQ2d540CdwwGs45TelIrW+4tC4j+0CoUaGQedO5A418ipMWYbAmfjWaHGZfPzIVI0rd4DdzIGYp9/jE9O5nGOQ9TqBTbIfRnMuAGi2UbeqbPiszv19zimOodD9L9JEq9ehpQFNdKqCGLYiCLpgOhQdAflr5qiJYh9RHnNczic2DiSwEalGWc5L7pJ9dYMEI01F1fB8OyNvAESpUmk202rXtT9RSF95kmHRYG8Oyh/i3I2i2qe2E2U40w4nNg4nsBGZZhwvF7RJ9Wjiz29W1fNxdVRaFeos7yaSnu+FrvfynY9NctllcA7yWC9wJ/yovhye1ud2VqUs2ePRjWDF03jxrjBO+3bsOXKfp5eqLQt4WC9PoynHRID8W3xsWlp2OTWhXX3ESrHjcH2kFrgYTPrI7+GEd82XnpdV23CwUqNAa52zMNUOcf2rS52cHuXZ4BBhqM/bjDbGCS/SnH8pQvY0vJrsRu/ngdhv/hM4s4kZpDNYLtaET+9eDZt7DfwKqP2KqxPLuFgjdbTGiuJwAJlmtc73ACrbTdzbvcBgt0V2CczsznRNaS9jzb5CFumGlZnbzzofELFsU+1EeIItrOM726plGyi1/x8CAdqlbtDTpyUwOck8zgDmxOZCvNzODL2jJTWHsJByNL40w98eSAj3EpvjP5rsTfu8GygKAmkY5u6Pm1AyDjSZ2/kz+SQO3hDP00nRBs3NAuN0Sn5VnpjlBMOrOPSYRyECQeRwKpdBaUjx3IUD+3g5+nJtsgtQef35FvpteJr/hryulsFiLV/xBjRnaRH38FfhMyP9APv1FxopdcKHX+5d+GYYCs32Rid3aNMOMi2+BMzcPPmtHr1iVMBiL+xTOYchGAZfPLSUXow4SBbIjc55SVb6bVCzao53SdkXV6/Gft6HVVKCCGEEKLBfwV0RB7MVN6yAAAAAElFTkSuQmCC",
k.hu=b);this.ia=new IconManager(b,a);this.ia.add("play",40,40);this.ia.add("pause",40,40);this.ia.add("tostart",40,40);this.ia.add("menu",40,40);this.ia.add("stepback",40,40);this.ia.add("stepforward",40,40);this.ia.add("autofit",40,40);this.ia.add("fit",40,40);this.ia.add("grid",40,40);this.ia.add("shrink",40,40);this.ia.add("draw",40,40);this.ia.add("hexgrid",40,40);this.ia.add("lines",40,40);this.ia.add("pan",40,40);this.ia.add("pick",40,40);this.ia.add("states",40,40);this.ia.add("hexagongrid",
40,40);this.ia.add("trianglegrid",40,40)};b.prototype.xs=function(){this.bi.icon=this.a.S?this.a.Ne?[this.ia.icon("hexagongrid")]:[this.ia.icon("hexgrid")]:this.a.ca?[this.ia.icon("trianglegrid")]:[this.ia.icon("grid")]};b.prototype.Bo=function(a,b){a.h.hasFocus&&(a.$i||(b.wheelDelta?a.wheelDelta=b.wheelDelta/120:b.detail&&(a.wheelDelta=-b.detail/3),a.h.Og(!0)),b.preventDefault())};b.prototype.ws=function(){var a=this.w.ht(0===this.Bm?0:this.Je/this.Bm),b=this.Ei,c=this.fk;this.a.da=this.a.width/
2-(this.Fi+a*(this.lh-this.Fi));this.a.aa=this.a.height/2-(this.Gi+a*(this.hj-this.Gi));this.a.zoom=this.Aj*Math.pow(this.Zh/this.Aj,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.a.angle=(b+a*(c-b))%360;this.Bn&&(this.a.sc=this.bs+a*(this.oq-this.bs),this.Nb.current=this.Ch([this.a.sc,this.a.sc],!1,this));this.co&&(this.a.I=this.cs+a*(this.pq-this.cs),this.tc.current=this.Om([this.a.I,this.a.I],!1,this));this.Je+=1;this.Je>this.Bm&&(this.Je=-1,this.a.zoom=this.Zh,this.a.angle=c%360,this.a.da=this.a.width/
2-this.lh,this.a.aa=this.a.height/2-this.hj,this.Bn&&(this.a.sc=this.oq,this.Nb.current=this.Ch([this.a.sc,this.a.sc],!1,this)),this.co&&(this.a.I=this.pq,this.tc.current=this.Om([this.a.I,this.a.I],!1,this)));this.zb&&(this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this));this.Eb&&(this.Eb.current=this.Nm([this.a.angle,this.a.angle],!1,this))};b.prototype.Qr=function(a,b){var c=a.w.wb[b];a.Fi=a.a.width/2-a.a.da;a.Gi=a.a.height/2-a.a.aa;a.Aj=a.a.zoom;a.Ei=a.a.angle;c.le?a.lh=c.x:a.lh=a.Fi;c.Wd?
a.hj=c.y:a.hj=a.Gi;c.Gc?a.Zh=c.zoom:a.Zh=a.Aj;c.pf?a.fk=c.angle:a.fk=a.Ei;a.a.S&&(a.lh+=a.a.aa/2);a.Bn=c.vf;a.Bn&&(a.bs=a.a.sc,a.oq=c.depth/k.Wh);a.co=c.Ff;a.co&&(a.cs=a.a.I,a.pq=c.I);a.Je=0;a.Bm=c.Mg;a.ws();c.xj&&a.kv(a);c.Be===WaypointConstants.play?a.pa.current=a.Vd(k.ni,!0,a):c.Be===WaypointConstants.stop&&a.pa.current!==k.mb&&(a.pa.current=a.Vd(k.mb,!0,a));c.Td&&(a.Qc.current=a.Nj([c.nb,""],!0,a));a.h.notification.U("POI "+(b+1),60,!0);""!==c.yd?a.h.notification.U(c.yd,180,!1):a.h.notification.clear(!1,
!0);c.Hi&&(a.yb=c.yb);c.ki&&(a.oa=c.oa);c.zf&&(a.Id=Math.sqrt((c.kb-k.ze)/(k.mi-k.ze)),a.Oa.current=a.dh([a.Id,a.Id],!0,a));c.Qf&&(a.ga=c.step,a.cc.current=a.Oi([a.ga,a.ga],!0,a));c.Am&&(a.a.s>c.ab&&a.kv(a),a.a.s<c.ab&&(a.$i=!0,a.Yp=c.ab,a.Xp=!1));c.lj&&(a.a.jb=c.qc);c.Vo&&(this.wg=c.Di)};b.prototype.tf=function(a,b,c){var d=b/a.a.Pb;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.a.Pb);a.hc||(a.Fi=a.a.width/2-a.a.da,a.Gi=a.a.height/2-a.a.aa,a.Aj=a.a.zoom,a.Ei=a.a.angle,a.lh=a.Fi,a.hj=a.Gi,a.Zh=
d,a.fk=a.Ei,a.Je=0)};b.prototype.rp=function(a){a.gb=!1;a.ai.current=a.Gs([a.gb],!0,a)};b.prototype.vs=function(a){a.Rb.length?(a.Rb=[],a.Ya=0):e()};b.prototype.tw=function(a){a.Lb+=1;a.Lb>=w.Ec.length&&(a.Lb=0);a.wh(w.Ec[a.Lb].pattern,!1)};b.prototype.uw=function(a){--a.Lb;0>a.Lb&&(a.Lb=w.Ec.length-1);a.wh(w.Ec[a.Lb].pattern,!1)};b.prototype.Dw=function(a){a.hs();a.Y&&(a.Y=0);a.Jf.current[0]=!1;a.h.Wg=!0};b.prototype.yw=function(a){a.wm=!0};b.prototype.Iw=function(a){a.gf(k.Eh,a)};b.prototype.op=
function(a){a.Xf(!0,!0);a.pa.current===k.mb&&(a.ee=!0)};b.prototype.Qv=function(a,b,c){b&&(c.a.jb=a[0]);return[c.a.jb]};b.prototype.Rv=function(a,b,c){b&&(c.Fe=a[0]);return[c.Fe]};b.prototype.Zn=function(a,b,c){b&&(c.Ek=a[0]);return[c.Ek]};b.prototype.ts=function(a,b,c){b&&(c.vk=a[0],c.vk&&c.h.notification.U("Now click on a cell",180,!0));return[c.vk]};b.prototype.Pv=function(a,b,c){b&&(c.pb=a[0],c.pb&&c.pa.current===k.mb&&c.Xf(!0,!0));return[c.pb]};b.prototype.Gw=function(a,b,c){b&&-1!==c.oa&&(c.Za=
!a[0],c.Tb?(c.nc=c.Za,c.h.notification.U("Loop and Waypoints "+(c.Za?"Off":"On"),40,!0)):c.fc?(c.gc=c.Za,c.h.notification.U("Loop and Track "+(c.Za?"Off":"On"),40,!0),c.Fp(c.gc)):c.h.notification.U("Loop "+(c.Za?"Off":"On"),40,!0));return[c.Za]};b.prototype.Hw=function(a,b,c){b&&(c.fc?(c.gc=!a[0],c.Fp(c.gc),-1!==c.oa?(c.Za=c.gc,c.h.notification.U("Loop and Track "+(c.Za?"Off":"On"),40,!0)):c.h.notification.U("Track "+(c.gc?"Off":"On"),40,!0)):c.Tb&&(c.nc=!a[0],-1!==c.oa?(c.Za=c.nc,c.h.notification.U("Loop and Waypoints "+
(c.Za?"Off":"On"),40,!0)):c.h.notification.U("Waypoints "+(c.nc?"Off":"On"),40,!0)));return c.fc?[c.gc]:[c.nc]};b.prototype.Im=function(a,b,c){b&&(c.Y=a[0],c.Y?c.Rb.length&&c.gf(k.Or,c):(c.gf(k.Eh,c),c.Y=0));return[c.Y]};b.prototype.ip=function(a,b,c){b&&(c.hf=a[0],c.hf&&(c.a.Ba?0===c.a.s?(c.a.Aa=c.a.Ko.Aa,c.a.Ab=c.a.Ko.Ab,c.a.jc=c.a.Ko.jc):-1===c.a.g&&(--c.a.s,c.a.rj(!0,c.Lf,c.Oc)):(c.a.Aa=0,c.a.Ab=0,c.a.jc=0)));c.h.Og(!0);return[c.hf]};b.prototype.Oo=function(a,b){1<a.Ya&&(a.Ya-=b,1>a.Ya&&(a.Ya=
1))};b.prototype.No=function(a,b){a.Ya<a.Rb.length-a.ac+1&&(a.Ya+=b,a.Ya>a.Rb.length-a.ac+1&&(a.Ya=a.Rb.length-a.ac+1))};b.prototype.Qo=function(a,b){1<a.Y&&(a.Y-=b,1>a.Y&&(a.Y=1))};b.prototype.Po=function(a,b){a.Y<a.sk-a.ac&&(a.Y+=b,a.Y>a.sk-a.ac&&(a.Y=a.sk-a.ac))};b.prototype.uz=function(a){for(var b=a.R.length-1,c=!1;0<=b&&!c;)a.Y<=a.R[b][0]?--b:c=!0;c&&(a.Y=a.R[b][0])};b.prototype.az=function(a){for(var b=0,c=!1;b<a.R.length&&!c;)a.Y>=a.R[b][0]?b+=1:c=!0;c&&(a.Y=a.R[b][0])};b.prototype.om=function(a){var b=
this.ba+(0<this.a.g?this.a.g:0);this.Lf?this.h.notification.U("Step back disabled",40,!0):this.h.yr&&(this.h.yr=!1,0>a&&(a=0),this.elapsedTime=this.Rc[a],this.Jg=this.Ga=a,-1!==this.jh&&a>this.jh+b?this.a.s=a:this.a.om(a,this.hf,this.Oc),this.w.BA(this.elapsedTime),this.ee=!0,a!==this.a.s&&(this.$i=!0,this.Yp=a,this.a.Lo(!1),this.h.notification.U("Computing previous generations",1E4,!0),this.Xp=!0))};b.prototype.Iq=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.bB=
"none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};b.prototype.en=function(a,b,c){var d="textarea";a.Cm=b;a.Ug=0;a.Ej=b.length;if(c){var e=performance.now()-a.dn;e<k.sx&&a.Ej<k.qx?c=!1:a.Xn||(d="div")}a.Dj=document.createElement("div");a.Dj.contentEditable=!0;a.Iq(a.Dj);a.Ji=document.createElement(d);a.Iq(a.Ji);a.Ji.contentEditable=!0;a.Dj.appendChild(a.Ji);document.body.appendChild(a.Dj);c?(a.Zp=
k.tx,a.h.notification.U("Copying...",1E4,!0),a.ml=!0,a.u.locked=!0):(a.Ji.innerHTML=b,a.xt(a,c))};b.prototype.xt=function(a,b){a.Xn?a.Ji.focus():a.Dj.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(q){}document.body.removeChild(a.Dj);a.Cm="";a.Hf.canvas.focus();a.h.notification.U("Copy complete",120,!0);b&&(a.ml=!1,a.u.locked=!1);a.dn=-1};b.prototype.Rf=function(a){var b=ColourManager.Uc,c=Object.keys(b),d=a.red,e=a.green;a=a.blue;for(var f="",h=!1,g=null,k=0;k<c.length&&
!h;)g=b[c[k]],g[1]===d&&g[2]===e&&g[3]===a?(h=!0,k=c.length):k+=1;h?f=g[0]:f=d+" "+e+" "+a;return f};b.prototype.Wj=function(a,b){return a.red===b.red&&a.green===b.green&&a.blue===b.blue};b.prototype.zt=function(a,b){var c="#C "+Keywords.yi+" ",d=String(-(a.a.width/2-a.a.da-a.a.Bb|0)),e=String(-(a.a.height/2-a.a.aa-a.a.vb|0)),f=a.a.zoom,g=a.a.angle|0,h=a.a.La[a.a.te];0!==a.a.s&&(c+=Keywords.zm+a.a.s+" ");c+=Keywords.cd+" "+d+" "+Keywords.dd+" "+e+" ";c+=Keywords.oc+" "+(f===(f|0)?String(f):String(f.toFixed(2)))+
" ";c+=Keywords.Qh+" "+g+" ";c+=Keywords.Ck+"\n";if(b){c+="#C "+Keywords.yi+" ";if(a.Uf){if(2<a.a.g){if(c+=Keywords.ra+" "+Keywords.Yo+" "+a.Rf(h.ah),c+=" "+Keywords.ra+" "+Keywords.Xo+" "+a.Rf(h.Te),a.Wj(h.Fb.D,h.ah)||(c+=" "+Keywords.ra+" "+Keywords.$o+" "+a.Rf(h.Fb.D)),a.Wj(h.Fb.B,h.Fb.D)||(c+=" "+Keywords.ra+" "+Keywords.Zo+" "+a.Rf(h.Fb.B)),h.dk||(c+=" "+Keywords.ra+" "+Keywords.Mv+" "+a.Rf(h.Ua.D)),h.dk||!a.Wj(h.Ua.B,h.Ua.D))c+=" "+Keywords.ra+" "+Keywords.Lv+" "+a.Rf(h.Ua.B)}else c+=Keywords.ra+
" "+Keywords.Yo+" "+a.Rf(h.Ra),c+=" "+Keywords.ra+" "+Keywords.Xo+" "+a.Rf(h.za.B),a.Wj(h.za.B,h.za.D)||(c+=" "+Keywords.ra+" "+Keywords.ms+" "+a.Rf(h.za.D)),a.Wj(h.wa.D,h.Ra)||(c+=" "+Keywords.ra+" "+Keywords.$o+" "+a.Rf(h.wa.D)),a.Wj(h.wa.B,h.wa.D)||(c+=" "+Keywords.ra+" "+Keywords.Zo+" "+a.Rf(h.wa.B));c+=" "+Keywords.Ck+"\n#C "+Keywords.yi+" "}c+=Keywords.yh+" "+h.name+" ";a.ba!==a.jo&&(c+=Keywords.Vn+" "+a.ba+" ");c+=Keywords.Pk+" "+a.A+" ";c+=Keywords.jk+" "+a.v+" ";c+=Keywords.Ck+"\n"}a.en(a,
c,!1)};b.prototype.$p=function(a,b){a.dn=performance.now();r.Ia?a.en(a,w.Ec[a.Lb].pattern,b):a.en(a,g(a.element),b)};b.prototype.yt=function(a,b){a.dn=performance.now();a.en(a,a.a.ax(a,a.a,b),!0)};b.prototype.vz=function(a,b,c){var d=!0;if(a.Jb)a.vo||85!==b||(a.Jb=!a.Jb,a.u.l=a.Jb,a.h.Jb=a.Jb);else{if(c.ctrlKey&&67!==b||c.metaKey)c.ctrlKey&&37<=b&&40>=b?37===b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35):c.ctrlKey&&82===b||(b=-1);if(c.altKey&&!c.ctrlKey){if(49<=b&&57>=b)b-=49,0<=b&&b<a.w.wb.length&&
(a.ve=b,a.Qr(a,a.ve));else switch(b){case 67:a.Vb||(a.Qc.current=a.Nj([a.An,""],!0,a),a.a.Hb||a.h.notification.U(a.ns(a.a.te)+" Theme",40,!0));break;case 88:a.Xj.current=a.cw([!a.a.Bc],!0,a);break;case 191:a.a.ca||(a.fi.current=a.ew([!a.a.Ne],!0,a),a.h.notification.U("Hex display uses "+(a.a.Ne?"Hexagons":"Squares"),40,!0))}b=-2}switch(b){case 191:case 111:a.a.ca||(c.shiftKey?a.a.dm!==a.a.S&&(a.ei.current=a.Hs([a.a.dm],!0,a)):a.ei.current=a.Hs([!a.a.S],!0,a),a.h.notification.U("Hex Display "+(a.a.S?
"On":"Off"),40,!0));break;case 66:a.Yb||(a.pa.current===k.mb?0<a.a.s&&a.om(a.a.s-1):a.pa.current=a.Vd(k.mb,!0,a));break;case 13:a.Yb||(a.pa.current=a.pa.current===k.ni?a.Vd(k.mb,!0,a):a.Vd(k.ni,!0,a));break;case 9:a.Yb||(a.Cc?a.pa.current=a.Vd(k.mb,!0,a):c.shiftKey?0<a.a.s&&a.om(a.a.s-a.ga):a.lg=!0);break;case 32:a.Yb||(a.Cc?a.pa.current=a.Vd(k.mb,!0,a):(a.lg=!0,a.Vr=!0));break;case 87:a.Tb?(a.nc=!a.nc,-1!==a.oa?(a.Za=a.nc,a.h.notification.U("Loop and Waypoints "+(a.nc?"Off":"On"),40,!0)):a.h.notification.U("Waypoints "+
(a.nc?"Off":"On"),40,!0),a.nc?a.h.notification.clear(!1,!1):a.w.Qp(a.elapsedTime)||(a.w.ky(a.a.s),a.elapsedTime=a.w.Ot(a.a.s),a.elapsedTime=a.w.Ct(a.a.width/2-a.a.da,a.a.height/2-a.a.aa,a.a.zoom,a.a.angle,a.a.I,a.a.sc*k.Wh,a.a.te,a.Id,a.ga,a.a.s,a.elapsedTime),a.ee=!1)):a.fc?(a.gc=!a.gc,-1!==a.oa?(a.Za=a.gc,a.h.notification.U("Loop and Track "+(a.gc?"Off":"On"),40,!0)):a.h.notification.U("Track "+(a.gc?"Off":"On"),40,!0),a.Fp(a.gc)):-1!==a.oa&&(a.Za=!a.Za,a.h.notification.U("Loop "+(a.Za?"Off":"On"),
40,!0));break;case 69:!a.cc.locked&&a.ga<k.fe&&(c.shiftKey?a.ga=k.fe:a.ga+=1,a.cc.current=a.Oi([a.ga,a.ga],!0,a));break;case 68:!a.cc.locked&&a.ga>k.pj&&(c.shiftKey?a.ga=k.pj:--a.ga,a.cc.current=a.Oi([a.ga,a.ga],!0,a));break;case 90:c.shiftKey?(b=w.CA(),0===b?a.h.notification.U("No LifeViewers playing",100,!0):1<b&&a.h.notification.U("Paused all LifeViewers",100,!0)):(b=w.DA(a),0===b?a.h.notification.U("No other LifeViewers playing",100,!0):1<b?a.h.notification.U("Paused "+b+" other LifeViewers",
100,!0):a.h.notification.U("Paused "+b+" other LifeViewer",100,!0));break;case 88:c.shiftKey?(a.oh.current=a.iw([!a.a.mh],!0,a),0<a.a.$e&&(a.h.notification.U("Major Grid Lines "+(a.a.mh?"On":"Off"),40,!0),a.ut())):(a.a.jb=!a.a.jb,a.bi.current=a.Qv([a.a.jb],!0,a),a.h.notification.U("Grid Lines "+(a.a.jb?"On":"Off"),40,!0));break;case 89:a.Oc?a.h.notification.U("Graph Disabled",40,!0):c.shiftKey?(a.Fe=!a.Fe,a.pk.current=a.Rv([a.Fe],!0,a),a.h.notification.U("Graph "+(a.Fe?"Lines":"Points"),40,!0)):(a.gb=
!a.gb,a.ai.current=a.Gs([a.gb],!0,a),a.h.notification.U("Population Graph "+(a.gb?"On":"Off"),40,!0));break;case 75:c.shiftKey?(a.zt(a,!0),a.h.notification.U("Copied view to clipboard",180,!0)):(a.zt(a,!1),a.h.notification.U("Copied position to clipboard",180,!0));break;case 80:c.shiftKey?-1!==a.Zq&&(a.Za=!a.Za,a.li.current=[a.Za],a.h.notification.U("Loop "+(a.Za?"Off":"On"),40,!0)):a.Vb||a.Nb.locked||(a.Nb.current=.99>=a.Nb.current[0]?a.Ch([a.Nb.current[0]+.01,a.Nb.current[1]],!0,a):a.Ch([1,a.Nb.current[1]],
!0,a));break;case 76:c.shiftKey?0<a.w.Zl()&&(a.hi.current=a.hw([!a.Of],!0,a),a.h.notification.U("Annotations "+(a.Of?"On":"Off"),40,!0)):a.Vb||a.Nb.locked||(a.Nb.current=.01<=a.Nb.current[0]?a.Ch([a.Nb.current[0]-.01,a.Nb.current[1]],!0,a):a.Ch([0,a.Nb.current[1]],!0,a));break;case 81:!a.Vb&&!a.tc.locked&&a.tc.current[0]<k.ko&&(a.tc.current=a.Om([a.a.I+1,a.tc.current[1]],!0,a));break;case 65:!a.Vb&&!a.tc.locked&&a.tc.current[0]>k.ro&&(a.tc.current=a.Om([a.a.I-1,a.tc.current[1]],!0,a));break;case 82:c.shiftKey?
w.Nz():a.pa.current=a.Vd(k.cr,!0,a);break;case 83:c.shiftKey?a.a.Dc&&(a.Sg=!a.Sg,a.h.notification.U("AutoFit State 1 Mode "+(a.Sg?"On":"Off"),40,!0)):(a.Hk.current=a.jw([!a.wg],!0,a),a.h.notification.U("Stars "+(a.wg?"On":"Off"),40,!0));break;case 78:a.zh&&(a.va?a.gs():(a.hs(),a.Y&&(a.Y=0)));break;case 86:c.shiftKey?(a.xv(a),a.h.notification.U("Saved camera position",100,!0)):a.hc||(a.Uz(a),a.h.notification.U("Restored camera position",100,!0),a.pa.current===k.mb&&(a.ee=!0));break;case 221:a.hc||
(c.shiftKey?a.Vj(a.zb.current[0],Math.log(a.a.zoom*a.a.Pb*2/k.Wa)/Math.log(k.Ib/k.Wa)-a.zb.current[0]):a.Vj(a.zb.current[0],.01));break;case 219:a.hc||(c.shiftKey?a.Vj(a.zb.current[0],Math.log(a.a.zoom*a.a.Pb/2/k.Wa)/Math.log(k.Ib/k.Wa)-a.zb.current[0]):a.Vj(a.zb.current[0],-.01));break;case 53:case 101:a.Eb.locked||(a.a.angle=0,a.Eb.current=[a.a.angle,a.a.angle]);break;case 49:case 97:c.shiftKey?(a.tf(a,a.a.zoom*a.a.Pb,!0),a.h.notification.U("Integer Zoom",40,!0)):a.tf(a,1,!1);break;case 50:case 98:c.shiftKey?
a.tf(a,.5,!1):a.tf(a,2,!1);break;case 51:case 99:c.shiftKey?a.tf(a,64,!1):a.tf(a,32,!1);break;case 52:case 100:c.shiftKey?a.tf(a,.25,!1):a.tf(a,4,!1);break;case 54:case 102:c.shiftKey?a.tf(a,.0625,!1):a.tf(a,16,!1);break;case 55:a.Oc?a.h.notification.U("Graph Disabled",40,!0):(0<a.Wb&&(a.Wb-=.05,0>a.Wb&&(a.Wb=0)),this.Mb.current=this.Ti([a.Wb,a.Wb],!1,a));break;case 56:case 104:c.shiftKey?a.tf(a,.125,!1):a.tf(a,8,!1);break;case 57:a.Oc?a.h.notification.U("Graph Disabled",40,!0):(1>a.Wb&&(a.Wb+=.05,
1<a.Wb&&(a.Wb=1)),this.Mb.current=this.Ti([a.Wb,a.Wb],!1,a));break;case 48:case 96:a.ga=1;a.cc.current=a.Oi([a.ga,a.ga],!0,a);a.Oa.current=a.dh([1,a.Oa.current[1]],!0,a);break;case 189:case 109:a.Yb||(a.ga>k.pj?(c.shiftKey?a.ga=k.pj:--a.ga,a.cc.current=a.Oi([a.ga,a.ga],!0,a)):a.Oa&&(a.Oa.current=.01<=a.Oa.current[0]&&!c.shiftKey?a.dh([a.Oa.current[0]-.01,a.Oa.current[1]],!0,a):a.dh([0,a.Oa.current[1]],!0,a)));break;case 187:case 107:!a.Yb&&a.Oa&&(.99>=a.Oa.current[0]&&!c.shiftKey?a.Oa.current=a.dh([a.Oa.current[0]+
.01,a.Oa.current[1]],!0,a):.99>=a.Oa.current[0]?a.Oa.current=a.dh([1,a.Oa.current[1]],!0,a):(a.Oa.current=a.dh([1,a.Oa.current[1]],!0,a),a.ga<k.fe&&(c.shiftKey?a.ga=k.fe:a.ga+=1,a.cc.current=a.Oi([a.ga,a.ga],!0,a))));break;case 188:a.Eb.locked||(b=a.Eb.current[0],b=c.shiftKey?b-90:b-1,0>b&&(b+=360),a.Eb.current=a.Nm([b,b],!0,a));break;case 190:a.Eb.locked||(b=a.Eb.current[0],b=c.shiftKey?b+90:b+1,360<=b&&(b-=360),a.Eb.current=a.Nm([b,b],!0,a));break;case 74:a.w.wb.length?a.hc||(c.shiftKey?(--a.ve,
0>a.ve&&(a.ve=a.w.wb.length-1),a.Qr(a,a.ve)):(a.ve+=1,a.ve>=a.w.wb.length&&(a.ve=0),a.Qr(a,a.ve))):a.h.notification.U("No POIs defined",80,!0);break;case 84:c.shiftKey?a.h.Bi=!a.h.Bi:a.hk.current=a.Ok([!a.h.Ci],!0,a);break;case 85:a.vo||(a.Jb=!a.Jb,a.u.l=a.Jb,a.h.Jb=a.Jb);break;case 71:a.Yb||(c.shiftKey?a.$h&&(a.Ln=!a.Ln):(a.ip([!a.hf],!0,a),a.ce&&(a.ce.current=[a.hf],a.h.Wg=!0)));break;case 70:c.shiftKey?a.Ag.locked||(a.pb=!a.pb,a.Ag.current=a.Pv([a.pb],!0,a),a.h.notification.U("AutoFit "+(a.pb?
"On":"Off"),40,!0)):a.jj.locked||(a.Xf(!0,!0),a.h.notification.U("Fit Zoom",80,!0),a.pa.current===k.mb&&(a.ee=!0));break;case 79:a.rm=c.shiftKey?2:1;break;case 37:c.shiftKey?a.pi(a.a.zoom,a.a.zoom):a.pi(a.a.zoom,0);break;case 38:a.Y?a.Qo(a,1):a.Ya?a.Oo(a,1):c.shiftKey?a.pi(-a.a.zoom,a.a.zoom):a.pi(0,a.a.zoom);break;case 39:c.shiftKey?a.pi(-a.a.zoom,-a.a.zoom):a.pi(-a.a.zoom,0);break;case 40:a.Y?a.Po(a,1):a.Ya?a.No(a,1):c.shiftKey?a.pi(a.a.zoom,-a.a.zoom):a.pi(0,-a.a.zoom);break;case 77:a.Jf&&!a.Jf.l&&
(a.Jf.current[0]=!a.Jf.current[0],a.h.Wg=!0);break;case 67:c.ctrlKey?a.si||(c.shiftKey?a.$p(a,!0):a.Yb?a.$p(a,!0):c.altKey?a.yt(a,!0):a.yt(a,!1)):a.Vb||!a.Qc||a.Qc.locked||(c.shiftKey?(b=a.Qc.current[0]+.5|0,--b,0>b&&(a.Uf?b=a.a.ge:b=a.a.ge-1)):(b=a.Qc.current[0]+.5|0,b+=1,a.Uf?b>=a.a.ge+1&&(b=0):b>=a.a.ge&&(b=0)),a.Qc.current=a.Nj([b,""],!0,a),a.a.Hb||a.h.notification.U(a.ns(a.a.te)+" Theme",40,!0));break;case 72:c.shiftKey?(a.lk.current=a.fw([!a.Cf],!0,a),a.h.notification.U("AutoFit History Mode "+
(a.Cf?"On":"Off"),40,!0)):(a.Rb.length?a.Y=a.Y?0:1:a.Y?a.Y=0:a.va||(a.Y=1),a.ci.current=a.Im([a.Y],!0,a),a.h.Wg=!0);break;case 73:c.shiftKey?a.mk.current=a.gw([!a.Ea],!0,a):(a.Y?a.di===k.Kl?a.Y=0:a.gf(k.Kl,a):a.va||a.gf(k.Kl,a),a.ci.current=a.Im([a.Y],!0,a),a.h.Wg=!0);break;case 27:a.xe?a.Rb.length?(a.Rb=[],a.Ya=0):e():a.Y?a.Y=0:a.Rb.length?(a.Rb=[],a.Ya=0):a.Cc&&(a.pa.current=a.Vd(k.mb,!0,a));a.ci.current=a.Im([a.Y],!0,a);a.h.Wg=!0;break;case 33:a.Y?c.shiftKey?a.uz(a):a.Qo(a,a.ac):a.Ya?a.Oo(a,a.ac):
r.Ia&&(--a.Lb,0>a.Lb&&(a.Lb=w.Ec.length-1),a.wh(w.Ec[a.Lb].pattern,!1));break;case 34:a.Y?c.shiftKey?a.az(a):a.Po(a,a.ac):a.Ya?a.No(a,a.ac):r.Ia&&(a.Lb+=1,a.Lb>=w.Ec.length&&(a.Lb=0),a.wh(w.Ec[a.Lb].pattern,!1));break;case 36:a.Y?a.Y=1:a.Ya?a.Ya=1:r.Ia&&(a.Lb=0,a.wh(w.Ec[a.Lb].pattern,!1));break;case 35:a.Y?a.Y=a.sk-a.ac:a.Ya?a.Ya=a.Rb.length-a.ac:r.Ia&&(a.Lb=w.Ec.length-1,a.wh(w.Ec[a.Lb].pattern,!1));break;case 112:c.shiftKey?(a.To=!a.To,a.h.notification.U("Smart Drawing "+(a.To?"On":"Off"),40,!0)):
a.Yb?a.h.notification.U("Drawing not available",40,!0):(a.we=!a.we,a.qj.current=a.Is(a.we?k.Lu:k.Wl,!0,a),a.h.notification.U((a.we?"Draw":"Pan")+" Mode",40,!0));break;default:-1===b&&(d=!1)}}return d};b.prototype.wz=function(a,b,c){var d=!0;if(c.ctrlKey&&82===b)return!0;switch(b){case 13:a.Ug===a.Ej&&a.xt(a,!0);break;case 84:a.Ok([!a.h.Ci],!0,a);break;default:d=!1}return d};b.prototype.xz=function(a,b,c){var d=!0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 84:a.Ok([!a.h.Ci],!0,a);break;
default:d=!1}return d};b.prototype.vp=function(a,b){var c=b.charCode||b.keyCode;if(a.$i?a.xz(a,c,b):a.ml?a.wz(a,c,b):a.vz(a,c,b))a.h.Og(!0),b.preventDefault()};b.prototype.Jw=function(){this.v<k.rh?(this.uf.setPosition(Menu.Pc,10,50),this.wf.setPosition(Menu.Ob,0,50),this.sf.setPosition(Menu.fb,-160,50),this.xf.setPosition(Menu.Pc,10,100),this.qf.setPosition(Menu.Ob,0,100),this.nf.setPosition(Menu.fb,-160,100),0<this.w.Zl()?(this.oe.setPosition(Menu.Pc,10,150),this.Dh.setPosition(Menu.fb,-160,150)):
this.oe.setPosition(Menu.Ob,0,150)):(this.uf.setPosition(Menu.Ob,0,40),this.wf.setPosition(Menu.Ob,0,90),this.sf.setPosition(Menu.Ob,0,140),this.xf.setPosition(Menu.Ob,0,190),this.qf.setPosition(Menu.Ob,0,240),this.nf.setPosition(Menu.Ob,0,290),this.oe.setPosition(Menu.Ob,0,340),this.Dh.setPosition(Menu.Ob,0,390))};b.prototype.Aw=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",e="grey",f="white";var g=this.f[k.vl];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.ia.Ho=!0,
this.ia.Cr=this.a.hg?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255):(this.ia.Ho=!0,g=16777215,this.ia.Cr=this.a.hg?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);g=this.f[k.tl];-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.Lj=g;g=this.f[k.wl];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[k.yl];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[k.xl];-1!==g&&(e="rgb("+(g>>
16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[k.ul];-1!==g&&(f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.h.sm(a,b,c,d,e,f)};b.prototype.Vs=function(){this.u=this.h.Ax(this.Kw,this.Js,this);this.u.jq=this.ex;this.u.Ns=this.gy;this.cg=this.u.Db(Menu.Pc,0,40,16,20,"X");this.cg.font=k.Ie;this.cg.Dm=Menu.Zc;this.dg=this.u.Db(Menu.Pc,70,40,16,20,"Y");this.dg.font=k.Ie;this.dg.Dm=Menu.Zc;this.yf=this.u.Db(Menu.Pc,140,40,16,20,"A");this.yf.font=k.Ie;this.yf.Dm=Menu.Zc;this.kd=this.u.Db(Menu.Pc,16,
40,54,20,"");this.kd.font=k.Ie;this.kd.textAlign=Menu.right;this.kd.F="camera X position";this.ld=this.u.Db(Menu.Pc,86,40,54,20,"");this.ld.font=k.Ie;this.ld.textAlign=Menu.right;this.ld.F="camera Y position";this.ed=this.u.Db(Menu.Pc,156,40,40,20,"");this.ed.font=k.Ie;this.ed.textAlign=Menu.right;this.ed.F="camera angle";this.Uk=this.u.Db(Menu.Pc,196,40,4,20,"");this.Ih=this.u.Db(Menu.fb,-280,40,20,20,"E");this.Ih.font=k.Ie;this.Jh=this.u.Db(Menu.fb,-210,40,20,20,"S");this.Jh.font=k.Ie;this.Kh=this.u.Db(Menu.fb,
-140,40,20,20,"W");this.Kh.font=k.Ie;this.Pi=this.u.Db(Menu.fb,-70,40,20,20,"N");this.Pi.font=k.Ie;this.fd=this.u.Db(Menu.fb,-260,40,50,20,"");this.fd.font=k.Ie;this.fd.textAlign=Menu.right;this.fd.F="bounding box east edge velocity";this.hd=this.u.Db(Menu.fb,-190,40,50,20,"");this.hd.font=k.Ie;this.hd.textAlign=Menu.right;this.hd.F="bounding box south edge velocity";this.jd=this.u.Db(Menu.fb,-120,40,50,20,"");this.jd.font=k.Ie;this.jd.textAlign=Menu.right;this.jd.F="bounding box west edge velocity";
this.gd=this.u.Db(Menu.fb,-50,40,50,20,"");this.gd.font=k.Ie;this.gd.textAlign=Menu.right;this.gd.F="bounding box north edge velocity";this.me=this.u.ob(null,Menu.fb,-170,0,40,20,["START"],[!1],Menu.Ia);this.me.font=k.So;this.me.F=["autostart indicator"];this.Ed=this.u.ob(null,Menu.fb,-170,20,40,20,["STOP"],[!1],Menu.Ia);this.Ed.font=k.So;this.Ed.F=["stop indicator"];this.Ha=this.u.ob(this.Hw,Menu.fb,-130,0,40,20,["WAYPT"],[!1],Menu.Ia);this.Ha.font=k.So;this.Ha.F=["toggle waypoint mode"];this.li=
this.u.ob(this.Gw,Menu.fb,-130,20,40,20,["LOOP"],[!1],Menu.Ia);this.li.font=k.So;this.li.F=["toggle loop mode"];this.qj=this.u.ob(this.Is,Menu.Pc,90,0,80,40,["",""],k.Wl,Menu.Fk);this.qj.icon=[this.ia.icon("draw"),this.ia.icon("pan")];this.qj.F=["draw","pan"];this.bb=this.u.ob(this.ix,Menu.fb,-80,100,80,60,["1","2"],0,Menu.Fk);this.bb.orientation=Menu.vertical;this.bb.F=["",""];this.bb.font="14px Arial";this.ci=this.u.ob(this.Im,Menu.fb,-40,0,40,40,["Help"],[!1],Menu.Ia);this.ci.F=["toggle help display"];
this.ci.font="16px Arial";this.Si=this.u.Fd(this.Iw,Menu.fb,-40,50,40,["^"]);this.Si.F=["show help topics"];this.Lh=this.u.Fd(this.yw,Menu.fb,-40,100,40,["<"]);this.Lh.F=["show help sections"];this.uf=this.u.Fd(this.rw,Menu.Ob,0,50,150,["Keys"]);this.uf.F=["show keyboard shortcuts"];this.wf=this.u.Fd(this.xw,Menu.Ob,0,100,150,["Scripts"]);this.wf.F=["show script commands"];this.sf=this.u.Fd(this.sp,Menu.Ob,0,150,150,["Info"]);this.sf.F=["show pattern and engine information"];this.xf=this.u.Fd(this.Fw,
Menu.Ob,0,200,150,["Themes"]);this.xf.F=["show colour Themes"];this.qf=this.u.Fd(this.Es,Menu.Ob,0,250,150,["Colours"]);this.qf.F=["show colour names"];this.nf=this.u.Fd(this.zr,Menu.Ob,0,300,150,["Aliases"]);this.nf.F=["show rule aliases"];this.oe=this.u.Fd(this.sw,Menu.Ob,0,350,150,["Memory"]);this.oe.F=["show memory usage"];this.Dh=this.u.Fd(this.Br,Menu.Ob,0,350,150,["Annotations"]);this.Dh.F=["show annotations"];this.Ag=this.u.ob(this.Pv,Menu.Pc,0,0,40,40,["Auto"],[!1],Menu.Ia);this.Ag.icon=
[this.ia.icon("autofit")];this.Ag.F=["toggle autofit"];this.Ag.font="16px Arial";this.jj=this.u.Fd(this.op,Menu.Pc,45,0,40,"");this.jj.icon=this.ia.icon("fit");this.jj.F="fit pattern to display";this.bi=this.u.ob(this.Qv,Menu.fb,-85,0,40,40,["Grid"],[!1],Menu.Ia);this.bi.icon=[this.ia.icon("grid")];this.bi.F=["toggle grid lines"];this.bi.font="16px Arial";this.Ge=this.u.Rw();this.Ge.locked=!0;this.Qe=this.u.Db(Menu.Pg,0,-100,70,30,"Time");this.Qe.textAlign=Menu.left;this.Qe.font=k.Tg;this.Qe.F="elapsed time";
this.gj=this.u.Db(Menu.Pg,70,-100,70,30,"");this.gj.textAlign=Menu.right;this.gj.font=k.Tg;this.gj.F="elapsed time";this.xc=this.u.Db(Menu.Pg,0,-70,140,30,"");this.xc.textAlign=Menu.left;this.xc.font=k.Tg;this.xc.F="cell state at cursor position";this.ce=this.u.ob(this.ip,Menu.Pg,0,-40,100,40,[""],[this.hf],Menu.Ia);this.ce.F=["toggle generation statistics"];this.wc=this.u.Db(Menu.Pg,0,-40,this.A-40,40,"");this.wc.textAlign=Menu.left;this.wc.l=!0;this.Re=this.u.Db(Menu.ie,-140,-130,70,30,"Alive");
this.Re.textAlign=Menu.left;this.Re.font=k.Tg;this.Re.F="current population";this.ui=this.u.Db(Menu.ie,-70,-130,70,30,"");this.ui.textAlign=Menu.right;this.ui.font=k.Tg;this.ui.F="alive";this.Cb=this.u.Db(Menu.ie,-140,-100,70,30,"Births");this.Cb.textAlign=Menu.left;this.Cb.font=k.Tg;this.Cb.F="cells born this generation";this.Cg=this.u.Db(Menu.ie,-70,-100,70,30,"");this.Cg.textAlign=Menu.right;this.Cg.font=k.Tg;this.Cg.F="births";this.ne=this.u.Db(Menu.ie,-140,-70,70,30,"Deaths");this.ne.textAlign=
Menu.left;this.ne.font=k.Tg;this.ne.F="cells died this generation";this.Vh=this.u.Db(Menu.ie,-70,-70,70,30,"");this.Vh.textAlign=Menu.right;this.Vh.font=k.Tg;this.Vh.F="deaths";this.Kc=this.u.Db(Menu.Pg,0,-130,140,30,this.Lg);this.Kc.font=k.Tg;this.zb=this.u.fh(this.eh,Menu.Ob,0,0,k.mp,40,0,1,.1,"Zoom ","",1);this.zb.F="camera zoom";this.tc=this.u.fh(this.Om,Menu.lw,30,0,40,292,k.ko,k.ro,1,"Layers ","",0);this.tc.F="number of layers";this.Nb=this.u.fh(this.Ch,Menu.Nt,-70,0,40,292,1,0,.1,"Depth ",
"",2);this.Nb.F="depth between layers";this.Eb=this.u.fh(this.Nm,Menu.Ob,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Eb.F="camera angle";this.vg=this.u.Fd(this.Dw,Menu.ie,-40,-90,40,"");this.vg.icon=this.ia.icon("shrink");this.vg.F="shrink to thumbnail";this.ei=this.u.ob(this.Hs,Menu.Pc,80,100,80,40,["Hex"],[this.a.S],Menu.Ia);this.ei.F=["toggle hex display"];this.fi=this.u.ob(this.ew,Menu.Ob,0,100,80,40,["Hexagon"],[this.a.Ne],Menu.Ia);this.fi.F=["toggle hexagonal cells"];this.fi.font="18px Arial";
this.Xj=this.u.ob(this.cw,Menu.fb,-160,100,80,40,["Borders"],[this.a.Bc],Menu.Ia);this.Xj.F=["toggle cell borders"];this.Xj.font="18px Arial";this.hi=this.u.ob(this.hw,Menu.Pc,80,220,80,40,["Labels"],[this.Of],Menu.Ia);this.hi.F=["toggle labels"];this.ai=this.u.ob(this.Gs,Menu.fb,-160,220,80,40,["Graph"],[this.gb],Menu.Ia);this.ai.F=["toggle graph display"];this.mk=this.u.ob(this.gw,Menu.Ob,0,160,80,40,["Info"],[this.Ea],Menu.Ia);this.mk.F=["toggle InfoBar"];this.lk=this.u.ob(this.fw,Menu.Pc,80,160,
80,40,["HistFit"],[this.Cf],Menu.Ia);this.lk.F=["toggle AutoFit History"];this.oh=this.u.ob(this.iw,Menu.fb,-160,160,80,40,["Major"],[this.a.mh],Menu.Ia);this.oh.F=["toggle major grid lines"];this.Hk=this.u.ob(this.jw,Menu.ie,-160,-140,80,40,["Stars"],[this.wg],Menu.Ia);this.Hk.F=["toggle stars display"];this.Sb=this.u.Fd(this.vs,Menu.ie,-40,-90,40,"X");this.Sb.F="close window";this.hk=this.u.ob(this.Ok,Menu.Pg,80,-140,80,40,["Timing"],[this.h.Ci],Menu.Ia);this.hk.F=["toggle timing display"];this.bh=
this.u.ob(this.ll,Menu.Wr,0,-140,80,40,["Details"],[this.h.Bi],Menu.Ia);this.bh.F=["toggle timing details"];this.ug=this.u.Fd(this.uw,Menu.Pg,80,-200,80,"Prev");this.ug.F="go to previous universe";this.tg=this.u.Fd(this.tw,Menu.ie,-160,-200,80,"Next");this.tg.F="go to next universe";this.Mb=this.u.fh(this.Ti,Menu.Ob,0,0,132,40,0,1,this.Wb,"Opac ","%",0);this.Mb.F="graph opacity";this.pk=this.u.ob(this.Rv,Menu.fb,-170,0,40,40,[""],[!1],Menu.Ia);this.pk.icon=[this.ia.icon("lines")];this.pk.F=["toggle graph lines/points"];
this.Tk=this.u.Fd(this.rp,Menu.fb,-130,0,40,"X");this.Tk.F="close graph";this.wk=this.u.ob(this.ts,Menu.Pc,0,40,40,40,[""],[this.vk],Menu.Ia);this.wk.icon=[this.ia.icon("pick")];this.wk.F=["pick state"];this.yg=this.u.ob(this.Zn,Menu.Pc,45,40,40,40,[""],[this.Ek],Menu.Ia);this.yg.icon=[this.ia.icon("states")];this.yg.F=["toggle states"];this.Jf=this.u.ob(null,Menu.ie,-40,-40,40,40,[""],[!1],Menu.Ia);this.Jf.icon=[this.ia.icon("menu")];this.Jf.F=["toggle navigation menu"];this.Qc=this.u.fh(this.Nj,
Menu.Wr,0,-90,390,40,0,this.a.ge-1,1,""," Theme",-1);this.Qc.F="colour theme";this.Oa=this.u.fh(this.dh,Menu.ie,-375,-40,80,40,0,1,0,"","",-1);this.Oa.F="steps per second";this.cc=this.u.fh(this.Oi,Menu.ie,-290,-40,80,40,k.pj,k.fe,1,"x","",0);this.cc.F="generations per step";this.pa=this.u.ob(this.Vd,Menu.ie,-205,-40,160,40,["","","",""],k.mb,Menu.Fk);this.pa.icon=[this.ia.icon("tostart"),this.ia.icon("stepback"),this.ia.icon("pause"),this.ia.icon("play")];this.pa.F=["reset","previous generation",
"pause","play"];this.bc=this.u.ob(this.Ks,Menu.fb,-280,40,280,20,"0123456".split(""),this.Ye,Menu.Fk);this.bc.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.bc.font="14px Arial";this.i=this.u.ob(this.Hx,Menu.fb,-280,60,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ia);this.i.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.i.Lc=1;this.Nh=this.u.fh(this.zo,Menu.Pc,90,40,105,40,0,1,0,"","",-1);this.Nh.F="select drawing states range";this.Jf.Dp([this.tc,
this.Nb,this.Eb,this.Qc,this.vg,this.Sb,this.ei,this.fi,this.Xj,this.hi,this.ai,this.hk,this.bh,this.mk,this.Hk,this.lk,this.oh,this.ug,this.tg]);this.ce.Dp([this.Re,this.ui,this.Cb,this.Cg,this.ne,this.Vh,this.Qe,this.gj,this.Kc]);this.ci.Dp([this.bb,this.Si,this.Lh])};b.prototype.Mr=function(a){var b=this,c=0,d=0;this.J=a;this.J.getContext&&(c=this.J.width,d=this.J.height,c!==this.Hg&&r.Rl&&(c=this.Hg),c<k.td&&(c=k.td),d<k.rk&&(d=k.rk),c&=-8,this.J.width!==c&&(this.J.width=c),this.J.height!==d&&
(this.J.height=d),this.Hf=this.J.getContext("2d",{alpha:!1}),this.Hf.globalAlpha=1,this.Hf.fillStyle="black",this.Hf.fillRect(0,0,this.J.width,this.J.height),this.uj=document.createElement("canvas"),this.uj.width=this.J.width,this.uj.height=this.J.height,this.ud=this.uj.getContext("2d",{alpha:!1}),this.A=this.J.width,this.v=this.J.height,this.a=new Life(this.ud,this.A,this.v,512,512),this.a.zy(this.ud,this.A,this.v),this.Rc=this.a.j.W(Float32,k.Nu,"View.elapsedTimes"),this.vh=new Stars(k.xo,this.a.j),
this.ud.textAlign="left",this.ud.textBaseline="middle",this.Us(this.ud),this.h=new MenuManager(this.Hf,this.ud,"24px Arial",this.ia,this,this.qp),this.h.Ci=!1,this.a.xx(),this.Vs(),this.Yk=this.pa.x,this.Sk=this.Oa.x,this.Qk=this.cc.x,registerEvent(this.J,"DOMMouseScroll",function(a){b.Bo(b,a)},!1),registerEvent(this.J,"mousewheel",function(a){b.Bo(b,a)},!1),this.h.notification.enabled=!0,this.h.Lw(this.u),registerEvent(this.J,"keydown",function(a){b.vp(b,a)},!1))};b.prototype.ns=function(a){var b=
this.a.La,c="";a|=0;a<b.length&&(c=b[a].name);return c};b.prototype.Ew=function(a){var b=!1,c=this.a.La,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};b.prototype.Vk=function(a){switch(a){case Keywords.ks:case Keywords.qq:case Keywords.Sr:case Keywords.Ur:case Keywords.sq:case Keywords.Tr:case Keywords.jr:case Keywords.af:case Keywords.Sf:case Keywords.Fq:case Keywords.Yr:case Keywords.Eq:case Keywords.Xr:case Keywords.kt:case Keywords.Ar:case Keywords.iq:case Keywords.Do:case Keywords.Lk:case Keywords.sr:case Keywords.Eo:case Keywords.qr:case Keywords.tr:case Keywords.ur:case Keywords.rr:case Keywords.vr:case Keywords.av:case Keywords.fl:case Keywords.Ip:case Keywords.Kp:case Keywords.Lp:case Keywords.Jp:case Keywords.Mp:case Keywords.Np:case Keywords.Ml:case Keywords.Pq:case Keywords.Rq:case Keywords.Sq:case Keywords.Qq:case Keywords.Tq:case Keywords.Uq:case Keywords.fr:case Keywords.ir:case Keywords.hr:case Keywords.iB:case Keywords.Lm:case Keywords.Aq:case Keywords.hm:case Keywords.zk:case Keywords.yk:case Keywords.Co:case Keywords.im:case Keywords.Va:case Keywords.Ue:case Keywords.Ka:case Keywords.ds:case Keywords.Jj:case Keywords.Km:case Keywords.Nn:case Keywords.wo:case Keywords.vq:case Keywords.wq:case Keywords.ym:case Keywords.$q:case Keywords.Ym:case Keywords.Jq:case Keywords.Vn:case Keywords.zm:case Keywords.Cj:case Keywords.nr:case Keywords.Hl:case Keywords.Gl:case Keywords.fs:case Keywords.ra:case Keywords.Vp:case Keywords.cd:case Keywords.dd:case Keywords.jp:case Keywords.kp:case Keywords.oc:case Keywords.Gp:case Keywords.ju:case Keywords.ig:case Keywords.Pm:case Keywords.er:case Keywords.dr:case Keywords.ss:case Keywords.qs:case Keywords.os:case Keywords.rs:case Keywords.Zm:case Keywords.yi:case Keywords.Ck:case Keywords.Qh:case Keywords.yh:case Keywords.kj:case Keywords.xg:case Keywords.oj:case Keywords.dj:case Keywords.Pk:case Keywords.jk:case Keywords.km:case Keywords.jm:a=
!0;break;default:a=!1}return a};b.prototype.Dd=function(a,b,c,d,e){var f=a.ya();""===f||this.Vk(f)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+f,d+" must be "+e],a.T())};b.prototype.o=function(a,b,c,d){var e=!0,f=0,g=0,h=0,q=a.T();if(a.H()){f=a.G()|0;if(0>f||255<f)b[b.length]=[d+" "+q+" "+f,"RED out of range"];if(a.H()){g=a.G();if(0>g||255<g)b[b.length]=[d+" "+q+" "+f+" "+g,"GREEN out of range"];a.H()?(h=a.G(),0>h||255<h?b[b.length]=[d+" "+q+" "+f+" "+g+" "+h,"BLUE out of range"]:e=!1):this.Dd(a,
b,d+" "+q+" "+f+" "+g,"BLUE","numeric")}else this.Dd(a,b,d+" "+q+" "+f,"GREEN","numeric")}else{var m=a.ya();var l=ColourManager.Uc[m.toLowerCase()];void 0!==l?(a.T(),f=l[1],g=l[2],h=l[3],e=!1):""===m||this.Vk(m)?b[b.length]=[d+" "+q,"name missing"]:(b[b.length]=[d+" "+q+" "+m,"name not known"],a.T())}if(!e)switch(-1!==this.f[c]&&c!==k.rl&&c!==k.nl&&c!==k.sl&&(b[b.length]=[d+" "+q+" "+f+" "+g+" "+h,"overwrites "+(this.f[c]>>16)+" "+(this.f[c]>>8&255)+" "+(this.f[c]&255)]),this.f[c]=f<<16|g<<8|h,c){case k.pl:this.Uf=
!0;break;case k.ql:this.Uf=!0;break;case k.vn:this.vh.red=f;this.vh.green=g;this.vh.blue=h;break;case k.wn:this.We=[f,g,h];break;case k.pn:this.ih=[f,g,h];this.Wf="rgb("+f+","+g+","+h+")";break;case k.rl:this.Rj="rgb("+f+","+g+","+h+")";break;case k.nl:this.Qj="rgb("+f+","+g+","+h+")";break;case k.sl:this.Sj="rgb("+f+","+g+","+h+")";break;case k.nn:this.Th=[f,g,h];this.a.Yj=this.a.hg?-16777216|h<<16|g<<8|f:f<<24|g<<16|h<<8|255;break;case k.sn:this.a.$f=[f,g,h];break;case k.rn:this.a.Zf=[f,g,h];break;
case k.qn:this.a.Yf=[f,g,h];break;case k.tn:this.a.ag=[f,g,h];break;case k.un:this.a.bg=[f,g,h];break;case k.vl:case k.tl:case k.wl:case k.yl:case k.xl:case k.ul:break;default:this.Uf=!0}};b.prototype.Bw=function(){var a=this.a.La[this.a.ge],b=this.f;if(-1===b[k.Fg]){var c=b[k.Vf];-1!==c?b[k.Fg]=16777215-c:(c=b[k.Xe],b[k.Fg]=-1!==c?16777215-c:16777215)}-1===b[k.Xe]&&-1===b[k.Vf]&&(b[k.Xe]=16777215-b[k.Fg]);c=b[k.Xe];-1===c&&(c=b[k.Vf]);a.Ra.red=c>>16;a.Ra.green=c>>8&255;a.Ra.blue=c&255;c=b[k.Fg];
a.za.B.red=c>>16;a.za.B.green=c>>8&255;a.za.B.blue=c&255;c=b[k.mn];-1===c&&(c=b[k.Fg]);a.za.D.red=c>>16;a.za.D.green=c>>8&255;a.za.D.blue=c&255;c=b[k.Vf];-1===c&&(c=b[k.Xe]);a.wa.D.red=c>>16;a.wa.D.green=c>>8&255;a.wa.D.blue=c&255;c=b[k.ol];-1===c&&(c=b[k.Vf],-1===c&&(c=b[k.Xe]));a.wa.B.red=c>>16;a.wa.B.green=c>>8&255;a.wa.B.blue=c&255;c=b[k.Xe];-1===c&&(c=b[k.Vf]);a.ah.red=c>>16;a.ah.green=c>>8&255;a.ah.blue=c&255;c=b[k.Fg];a.Te.red=c>>16;a.Te.green=c>>8&255;a.Te.blue=c&255;c=b[k.Vf];-1===c&&(c=
b[k.Xe]);a.Fb.D.red=c>>16;a.Fb.D.green=c>>8&255;a.Fb.D.blue=c&255;c=b[k.ol];-1===c&&(c=b[k.Vf],-1===c&&(c=b[k.Xe]));a.Fb.B.red=c>>16;a.Fb.B.green=c>>8&255;a.Fb.B.blue=c&255;c=b[k.on];-1===c?a.dk=!0:(a.dk=!1,a.Ua.D.red=c>>16,a.Ua.D.green=c>>8&255,a.Ua.D.blue=c&255);c=b[k.cq];-1===c&&(c=b[k.on],-1===c&&(c=b[k.Xe]));a.Ua.B.red=c>>16;a.Ua.B.green=c>>8&255;a.Ua.B.blue=c&255;a.kA(b[k.pl],b[k.ql])};b.prototype.qw=function(a){var b=this.w.Cl();b.le||(b.x=this.a.width/2-this.a.da);b.Wd||(b.y=this.a.height/
2-this.a.aa);b.Gc||(b.zoom=this.a.zoom);b.pf||(b.angle=this.a.angle);b.Ff||(b.I=this.a.I);b.vf||(b.depth=this.a.sc);b.zf||(b.kb=this.Id);b.Qf||(b.step=this.ga);b.Td||(b.nb=this.a.te);this.w.sz(a)};b.prototype.pp=function(a){var b=a,c=this.ud,d=a.length;c.font=k.Ni;var e=c.measureText(a).width;if(420<e){--d;for(e=c.measureText(a.substr(0,d)+"...").width;420<e;)--d,e=c.measureText(a.substr(0,d)+"...").width;b=b.substr(0,d)+"..."}return b};b.prototype.Mh=function(a,b){var c=a;a.length>b&&(c=a.substr(0,
b-1)+"...");return c};b.prototype.uo=function(a,b,c,d){var e=a.indexOf("\\n");-1!==e&&(c?b[b.length]=[Keywords.Lk+" "+Keywords.Xb+this.Mh(a,23)+Keywords.Xb,"only one line allowed"]:(e=a.substr(e+2).indexOf("\\n"),-1===e||d||(b[b.length]=[Keywords.Xb+this.Mh(a,23),"only two lines allowed"])))};b.prototype.$k=function(a,b,c){var d=Keywords.yh+" ",e="overwrites ";d=b>=this.a.ge?d+Keywords.Kk:d+b;e=c>=this.a.ge?e+Keywords.Kk:e+c;a[a.length]=[d,e]};b.prototype.Ic=function(a,b,c,d,e,f){var g=0,h=0,k=0;
if(a.H())if(g=a.G()|0,0>g||255<g)b[b.length]=[d+" "+f+" "+g,"RED out of range"],e=!0;else if(a.H())if(h=a.G()|0,0>h||255<h)b[b.length]=[d+" "+f+" "+g+" "+h,"GREEN out of range"],e=!0;else if(a.H()){if(k=a.G()|0,0>k||255<k)b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"BLUE out of range"],e=!0}else this.Dd(a,b,d+" "+f+" "+g+" "+h,"BLUE","numeric"),e=!0;else this.Dd(a,b,d+" "+f+" "+g,"GREEN","numeric"),e=!0;else{var q=a.ya();var l=ColourManager.Uc[q.toLowerCase()];void 0!==l?(a.T(),g=l[1],h=l[2],k=l[3]):(e=
!0,""===q||this.Vk(q)?b[b.length]=[d+" "+f,"name missing"]:(b[b.length]=[d+" "+f+" "+q,"name not known"],a.T()))}e||(-1!==this.rb[c]&&(b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"overwrites "+(this.rb[c]>>16)+" "+(this.rb[c]>>8&255)+" "+(this.rb[c]&255)]),this.rb[c]=g<<16|h<<8|k)};b.prototype.$g=function(a){var b="",c=a.indexOf(Keywords.Oe);if(-1===c)b=a;else{for(;-1!==c;)if(b+=a.substr(0,c),c+1<a.length){var d=a[c+1];a=a.substr(c+2);switch(d){case "B":b+=k.Fs;break;case "N":b+=this.tk;break;case "R":b+=
this.Lg;break;case "A":b=""===this.Mf?b+this.Lg:b+this.Mf;break;case "O":b+=this.em;break;case "T":b+=k.jy;break;case Keywords.Oe:b+=Keywords.Oe;break;default:b+=Keywords.Oe+d}c=a.indexOf(Keywords.Oe)}else c=-1;b+=a}return b};b.prototype.ua=function(a,b,c,d){d[d.length]=a?b===Keywords.af?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+Keywords.af]:b===Keywords.af?[b+" "+c,"overwrites "+Keywords.Sf]:[b+" "+c,"already defined"]};b.prototype.Fa=function(a){var b="";a===(a|0)?b=String(a):b=a.toFixed(2);
return b};b.prototype.vw=function(a,b){var c=new Script(a,!1),d=!1,e,f=!1,g="",h=0,l;a=this.Rb;var m=0,n=this.w.fn(),w,D=!1,B=!1,z=1,C=k.dt,x=-1,E=-1,G=0,K=0,M=!1,da=0,aa=0,T=-1,ca=0,Y=0,N=1,R=k.dt,U=k.Zw,fa=-1,P=-1,H=0,Q=0,X=!1,ia=0,V=0,O=-1,ba=0,sa=0,na=null,Oa=1,Pa=k.Iy,ta=-1,ua=-1,va=0,Qa=0,wa=!1,xa=0,ya=0,za=-1,Aa=0,Ba=0,ka=!1,ra=-1,la=-1,ma=-1,Ca=!1,Da=!1,Ea=!1,Fa=!1,Ga=!1,Ha=!1,oa=!1,Ia=!1,Ja=!1,pa=!1,qa=!1,Ka=!1,La=!1,Ma=!1,Na=!1;this.lr=this.am=0;this.Uf=!1;this.f[k.Xe]=-1;this.f[k.Fg]=-1;
this.f[k.mn]=-1;this.f[k.Vf]=-1;this.f[k.ol]=-1;this.f[k.pl]=-1;this.f[k.ql]=-1;this.f[k.vn]=-1;this.f[k.wn]=-1;this.f[k.nn]=-1;this.f[k.sn]=-1;this.f[k.rn]=-1;this.f[k.qn]=-1;this.f[k.tn]=-1;this.f[k.un]=-1;this.f[k.pn]=-1;this.f[k.rl]=-1;this.f[k.vl]=-1;this.f[k.tl]=-1;this.f[k.wl]=-1;this.f[k.yl]=-1;this.f[k.xl]=-1;this.f[k.ul]=-1;this.f[k.nl]=-1;this.f[k.sl]=-1;this.rb=[];if(-1!==c.ij(Keywords.yi,-1)){for(e=0;256>e;e+=1)this.rb[e]=-1;for(e=c.T();""!==e;){if(f)e[e.length-1]===Keywords.Xb?(g=g+
" "+e.substr(0,e.length-1),f=!1,this.uo(g,a,d,ka),d?(""!==this.Sa&&(a[a.length]=[Keywords.Lk+" "+Keywords.Xb+this.Mh(g,20)+Keywords.Xb,"overwrites "+Keywords.Xb+this.Sa+Keywords.Xb]),this.Sa=g,d=!1):ka?(na.message=this.$g(g),ka=!1,this.w.Xs(na)):(n.yd=this.$g(g),n.ls=!0)):g=g+" "+e;else if(e[0]===Keywords.Xb)g=e.substr(1),f=!0,e[e.length-1]===Keywords.Xb&&(f=!1,g=g.substr(0,g.length-1),this.uo(g,a,d,ka),d?(""!==this.Sa&&(a[a.length]=[Keywords.Lk+" "+Keywords.Xb+this.Mh(g,20)+Keywords.Xb,"overwrites "+
Keywords.Xb+this.Sa+Keywords.Xb]),this.Sa=g,d=!1):ka?(na.message=this.$g(g),ka=!1,this.w.Xs(na)):(n.yd=this.$g(g),n.ls=!0));else{var W=l=!1;this.am+=1;switch(e){case Keywords.Lk:W=d=!0;break;case Keywords.tr:c.H()&&(l=!0,h=c.G(),h>=k.so&&h<=k.lo&&(C=h,W=!0));break;case Keywords.av:if(c.H()){if(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye){var ea=h;l=!1;c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(ca=ea,Y=h,W=!0))}}else{var Z=c.ya();Z===Keywords.Yc&&(c.T(),Y=ca=0,W=!0)}break;case Keywords.vr:if(c.H()){if(l=!0,h=c.G(),
h>=-this.a.V/2&&h<=this.a.V/2&&(l=!1,ea=h,c.H()&&(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2))){l=!1;var ha=h;c.H()&&(l=!0,h=c.G(),0<=h&&h<=this.a.V/2&&(da=ea,aa=ha,T=h,W=!0))}}else Z=c.ya(),Z===Keywords.Ka&&(c.T(),aa=da=0,T=-1,W=!0);break;case Keywords.rr:c.H()&&(l=!0,h=c.G(),0<=h&&360>h&&(K=h,M=!1,Z=c.ya(),Z===Keywords.Yc&&(c.T(),M=!0),W=!0));break;case Keywords.ur:c.H()?(l=!0,h=c.G()|0,0<=h&&(ea=h,c.H()?(h=c.G()|0,h>=ea?(ha=h,c.H()?(h=c.G()|0,0<=h&&h<=ha-ea>>1?(x=ea,E=ha,G=h,W=!0):(W=!0,a[a.length]=
[e+" "+ea+" "+ha+" "+h,"third argument must from 0 to "+(ha-ea>>1)])):l=!1):(W=!0,a[a.length]=[e+" "+ea+" "+h,"second argument must be >= first"])):l=!1)):(Z=c.ya(),Z===Keywords.Ue?(c.T(),E=x=-1,G=0,W=!0):l=!1);break;case Keywords.qr:c.H()&&(l=!0,h=c.G(),0<=h&&1>=h&&(z=h,W=!0));break;case Keywords.sr:case Keywords.Eo:var ja=[];W=!0;for(w=-1E3;W&&c.H();)ea=c.G(),c.H()?(ha=c.G(),ea>=-this.a.V&&ea<2*this.a.V&&ha>=-this.a.V&&ha<2*this.a.V?(ja[ja.length]=ea,ja[ja.length]=ha):(a[a.length]=[e+" "+ea+" "+
ha,"coordinate out of range"],w=0,W=!1)):ea>=k.Wa&&ea<=k.Ib?w=ea:ea>=k.Vl&&ea<=k.Ul?w=-(1/ea):(a[a.length]=[e+" "+ea,"zoom out of range"],w=0,W=!1);-1E3===w&&(a[a.length]=[e,"missing zoom value"]);4>ja.length&&(a[a.length]=[e,"requires at least 2 coordinate pairs"],W=!1);W?(Z=c.ya(),ea=!1,Z===Keywords.Yc&&(c.T(),ea=!0),Z=this.w.Cx(ja,e===Keywords.Eo,w,this.Sj,z,C,x,E,G,K,M,ea,da,aa,T,ca,Y),this.w.Qw(Z)):W=!0;break;case Keywords.Kp:c.H()&&(l=!0,h=c.G(),h>=k.so&&h<=k.lo&&(ea=h,l=!1,c.H()&&(l=!0,h=c.G(),
0<=h&&1>=h&&(U=h,R=ea,W=!0))));break;case Keywords.Np:c.H()?(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(ea=h,l=!1,c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(ba=ea,sa=h,W=!0)))):(Z=c.ya(),Z===Keywords.Yc&&(c.T(),sa=ba=0,W=!0));break;case Keywords.Mp:c.H()?(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2&&(l=!1,ea=h,c.H()&&(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2&&(l=!1,ha=h,c.H()&&(l=!0,h=c.G(),0<=h&&h<=this.a.V/2&&(ia=ea,V=ha,O=h,W=!0)))))):(Z=c.ya(),Z===Keywords.Ka&&(c.T(),V=ia=0,O=-1,W=!0));break;case Keywords.Jp:c.H()&&
(l=!0,h=c.G(),0<=h&&360>h&&(Q=h,X=!1,Z=c.ya(),Z===Keywords.Yc&&(c.T(),X=!0),W=!0));break;case Keywords.Lp:c.H()?(l=!0,h=c.G()|0,0<=h&&(ea=h,c.H()?(h=c.G()|0,h>=ea?(ha=h,c.H()?(h=c.G()|0,0<=h&&h<=ha-ea>>1?(fa=ea,P=ha,H=h,W=!0):(W=!0,a[a.length]=[e+" "+ea+" "+ha+" "+h,"third argument must from 0 to "+(ha-ea>>1)])):l=!1):(W=!0,a[a.length]=[e+" "+ea+" "+h,"second argument must be >= first"])):l=!1)):(Z=c.ya(),Z===Keywords.Ue?(c.T(),P=fa=-1,H=0,W=!0):l=!1);break;case Keywords.Ip:c.H()&&(l=!0,h=c.G(),0<=
h&&1>=h&&(N=h,W=!0));break;case Keywords.fl:if(c.H()&&(l=!0,h=c.G(),h>=-this.a.V&&h<2*this.a.V&&(l=!1,ea=h,c.H()&&(l=!0,h=c.G(),h>=-this.a.V&&h<2*this.a.V&&(l=!1,ha=h,c.H()&&(l=!0,h=c.G(),h>=-this.a.V&&h<2*this.a.V&&(l=!1,ja=h,c.H()&&(l=!0,h=c.G(),h>=-this.a.V&&h<2*this.a.V)))))))){l=!1;var Ua=h;c.H()&&(l=!0,h=c.G(),w=-1E3,h>=k.Wa&&h<=k.Ib?w=h:h>=k.Vl&&h<=k.Ul&&(w=-(1/h)),-1E3!==w&&(Z=c.ya(),W=!1,Z===Keywords.Yc&&(c.T(),W=!0),W=this.w.vx(ea,ha,ja,Ua,w,this.Qj,N,R,U,fa,P,H,Q,X,W,ia,V,O,ba,sa),this.w.Mw(W),
W=!0))}break;case Keywords.Rq:c.H()&&(l=!0,h=c.G(),h>=k.Iu&&h<=k.Bu&&(Pa=h,W=!0));break;case Keywords.Uq:c.H()?(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(ea=h,l=!1,c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(Aa=ea,Ba=h,W=!0)))):(Z=c.ya(),Z===Keywords.Yc&&(c.T(),Ba=Aa=0,W=!0));break;case Keywords.Tq:c.H()?(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2&&(l=!1,ea=h,c.H()&&(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2&&(l=!1,ha=h,c.H()&&(l=!0,h=c.G(),0<=h&&h<=this.a.V/2&&(xa=ea,ya=ha,za=h,W=!0)))))):(Z=c.ya(),Z===Keywords.Ka&&
(c.T(),ya=xa=0,za=-1,W=!0));break;case Keywords.Qq:c.H()&&(l=!0,h=c.G(),0<=h&&360>h&&(Qa=h,wa=!1,Z=c.ya(),Z===Keywords.Yc&&(c.T(),wa=!0),W=!0));break;case Keywords.Sq:c.H()?(l=!0,h=c.G()|0,0<=h&&(ea=h,c.H()?(h=c.G()|0,h>=ea?(ha=h,c.H()?(h=c.G()|0,0<=h&&h<=ha-ea>>1?(ta=ea,ua=ha,va=h,W=!0):(W=!0,a[a.length]=[e+" "+ea+" "+ha+" "+h,"third argument must from 0 to "+(ha-ea>>1)])):l=!1):(W=!0,a[a.length]=[e+" "+ea+" "+h,"second argument must be >= first"])):l=!1)):(Z=c.ya(),Z===Keywords.Ue?(c.T(),ua=ta=
-1,va=0,W=!0):l=!1);break;case Keywords.Pq:c.H()&&(l=!0,h=c.G(),0<=h&&1>=h&&(Oa=h,W=!0));break;case Keywords.Ml:c.H()&&(l=!0,h=c.G(),h>=-this.a.V&&h<2*this.a.V&&(l=!1,ea=h,c.H()&&(l=!0,h=c.G(),h>=-this.a.V&&h<2*this.a.V&&(l=!1,ha=h,c.H()&&(l=!0,h=c.G(),w=-1E3,h>=k.Wa&&h<=k.Ib?w=h:h>=k.Vl&&h<=k.Ul&&(w=-(1/h)),-1E3!==w&&(Z=c.ya(),ja=!1,Z===Keywords.Yc&&(c.T(),ja=!0,Z=c.ya()),Z[0]===Keywords.Xb?(na=this.w.zx(ea,ha,w,this.Rj,Oa,Pa,ta,ua,va,Qa,wa,ja,xa,ya,za,Aa,Ba),W=ka=!0):l=!1))))));break;case Keywords.eu:W=
this.Jl=!0;break;case Keywords.hr:W=this.gr=!0;break;case Keywords.fr:W=this.Lf=!0;break;case Keywords.ir:this.El=!1;W=!0;break;case Keywords.$q:c.H()&&(l=!0,h=c.G()|0,h>=k.Hu&&h<=k.Au&&(this.a.V=1<<h,W=!0));break;case Keywords.ym:Z=c.ya();Z===Keywords.Ka?(c.T(),n.Di=!1):n.Di=!0;W=n.Vo=!0;break;case Keywords.Ym:Z=c.ya();Z===Keywords.Ka?(c.T(),n.od=!1):n.od=!0;W=!0;break;case Keywords.Vn:c.H()&&(l=!0,h=c.G()|0,0<=h&&h<=this.jo&&(this.ba=h,W=!0));break;case Keywords.Jq:Z=c.ya();Z===Keywords.Ka?(c.T(),
this.Cf=!1):this.Cf=!0;W=!0;break;case Keywords.Hl:Z=c.ya();Z===Keywords.Ka?(c.T(),n.qc=!1):n.qc=!0;W=n.lj=!0;break;case Keywords.Gl:c.H()&&(l=!0,h=c.G()|0,h>=k.Ty&&h<=k.Ly&&(this.a.$e=h,W=this.a.ln=!0));break;case Keywords.ra:case Keywords.Vp:W=e;Z=!1;if(c.H()){W=c.G()|0;if(0>W||255<W)a[a.length]=[e+" "+W,"STATE out of range"],Z=!0;this.Ic(c,a,W,e,Z,W)}else switch(Z=c.ya(),Z){case Keywords.Ou:Z=c.T();this.Ic(c,a,k.Pu,e,!1,Z);break;case Keywords.Qu:Z=c.T();this.Ic(c,a,k.Ru,e,!1,Z);break;case Keywords.fu:Z=
c.T();this.Ic(c,a,k.gu,e,!1,Z);break;case Keywords.su:Z=c.T();this.Ic(c,a,k.tu,e,!1,Z);break;case Keywords.wu:Z=c.T();this.Ic(c,a,k.xu,e,!1,Z);break;case Keywords.uu:Z=c.T();this.Ic(c,a,k.vu,e,!1,Z);break;case Keywords.mu:Z=c.T();this.Ic(c,a,k.nu,e,!1,Z);break;case Keywords.Yo:this.o(c,a,k.Xe,W);break;case Keywords.Xo:this.o(c,a,k.Fg,W);break;case Keywords.ms:this.o(c,a,k.mn,W);break;case Keywords.$o:this.o(c,a,k.Vf,W);break;case Keywords.Zo:this.o(c,a,k.ol,W);break;case Keywords.Mv:this.o(c,a,k.on,
W);break;case Keywords.Lv:this.o(c,a,k.cq,W);break;case Keywords.Hl:this.o(c,a,k.pl,W);break;case Keywords.Gl:this.o(c,a,k.ql,W);break;case Keywords.ym:this.o(c,a,k.vn,W);break;case Keywords.ks:this.o(c,a,k.wn,W);break;case Keywords.qq:this.o(c,a,k.pn,W);break;case Keywords.Ml:this.o(c,a,k.rl,W);break;case Keywords.fl:this.o(c,a,k.nl,W);break;case Keywords.bv:this.o(c,a,k.sl,W);break;case Keywords.lt:this.o(c,a,k.nn,W);break;case Keywords.Wt:this.o(c,a,k.sn,W);break;case Keywords.Vt:this.o(c,a,k.rn,
W);break;case Keywords.Ut:this.o(c,a,k.qn,W);break;case Keywords.Xt:this.o(c,a,k.tn,W);break;case Keywords.Yt:this.o(c,a,k.un,W);break;case Keywords.Vv:this.o(c,a,k.vl,W);break;case Keywords.Tv:this.o(c,a,k.tl,W);break;case Keywords.Wv:this.o(c,a,k.wl,W);break;case Keywords.Yv:this.o(c,a,k.yl,W);break;case Keywords.Xv:this.o(c,a,k.xl,W);break;case Keywords.Uv:this.o(c,a,k.ul,W);break;default:a[a.length]=[e+" "+Z,"illegal element"],c.T()}W=!0;break;case Keywords.Ck:-1===c.ij(Keywords.yi,-1)&&c.fy();
W=!0;--this.am;break;case Keywords.Pm:W=this.Yb=!0;break;case Keywords.jr:W=this.Xk=!0;break;case Keywords.er:W=this.vo=this.Jb=!0;break;case Keywords.dr:W=this.si=!0;break;case Keywords.fs:W=Na=Ma=La=Ka=qa=pa=Ja=Ia=oa=Ha=Ga=Fa=Ea=Da=Ca=!0;break;case Keywords.Ka:a[a.length]=[Keywords.Ka,"must follow LOOP or STOP"];W=!0;break;case Keywords.Ue:Z=c.ya();Z===Keywords.Va?(c.T(),n.Ef?(this.w.ox(n,a),this.zw()):a[a.length]=[Keywords.Ue+" "+Keywords.Va,"only valid at a POI"]):a[a.length]=[Keywords.Ue,"must be followed by INITIAL"];
W=!0;break;case Keywords.Va:a[a.length]=[Keywords.Va,"must follow POI, ALL or a POI setting"];W=!0;break;case Keywords.Zm:Z=c.ya();Z===Keywords.Ka?(c.T(),this.pe=!1):this.xa&&(this.pe=!0);W=!0;break;case Keywords.Co:c.H()&&(l=!0,h=c.G()|0,0<=h&&(n.Ef?(n.ab=h,n.Am=!0):a[a.length]=[Keywords.Co+" "+h,"only valid at a POI"],W=!0));break;case Keywords.yk:n.oA(a);W=!0;break;case Keywords.zk:n.qA(a);W=!0;break;case Keywords.hm:n.pA(a);W=!0;break;case Keywords.im:c.H()&&(l=!0,h=c.G(),h>=WaypointConstants.Yu&&
h<=WaypointConstants.Xu&&(n.tA(h,a),W=!0));break;case Keywords.Aq:W=this.Tn=!0;break;case Keywords.ds:Z=c.ya();Z===Keywords.Ka?(c.T(),this.Sg=!1):this.Sg=!0;W=!0;break;case Keywords.Lm:c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(w=h,l=!1,e+=" "+h,c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(ea=h,W=!0,this.fc&&(a[a.length]=[Keywords.Lm+" "+w+" "+ea,"overwrites "+la+" "+ma]),la=w,ma=ea,this.fc=!0))));break;case Keywords.Km:c.H()&&(l=!0,h=c.G()|0,0<h&&(Z=h,l=!1,e+=" "+h,c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&
(w=h,l=!1,e+=" "+h,c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(ea=h,W=!0,this.Yd&&(a[a.length]=[Keywords.Km+" "+Z+" "+w+" "+ea,"overwrites "+ra+" "+la+" "+ma]),ra=Z,la=w,ma=ea,this.fc=this.Yd=!0))))));break;case Keywords.Jj:c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(ea=h,l=!1,e+=" "+h,c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(w=h,l=!1,e+=" "+h,c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(ha=h,l=!1,e+=" "+h,c.H()&&(l=!0,h=c.G(),h>=k.Ae&&h<=k.ye&&(Z=h,W=!0,ha>ea?a[a.length]=[Keywords.Jj+" W "+this.Fa(ha)+" E "+this.Fa(ea),
"W is greater than E"]:Z>w?a[a.length]=[Keywords.Jj+" N "+this.Fa(Z)+" S "+this.Fa(w),"N is greater than S"]:(this.Ij&&(a[a.length]=[Keywords.Jj+" "+this.Fa(ea)+" "+this.Fa(w)+" "+this.Fa(ha)+" "+this.Fa(Z),"overwrites "+this.Fa(this.Yg)+" "+this.Fa(this.Zg)+" "+this.Fa(this.Bh)+" "+this.Fa(this.Ah)]),this.fc=this.Ij=!0,this.Ah=Z,this.Yg=ea,this.Zg=w,this.Bh=ha)))))))));break;case Keywords.xg:w=n;!n.Ef&&0<this.w.cz&&(n=this.w.Cl());c.H()?(l=!0,h=c.G()|0,0<h&&(!n.Hi||this.Jc||qa||(a[a.length]=-1===
n.yb?[Keywords.xg+" "+h,"overwrites "+Keywords.Ka]:[Keywords.xg+" "+h,"overwrites "+n.yb]),n.yb=h,n.Hi=!0,qa=this.Jc=!1,W=!0)):(Z=c.ya(),Z===Keywords.Ka?(c.T(),!n.Hi||this.Jc||qa||(a[a.length]=-1!==n.yb||this.Jc?[Keywords.xg+" "+Keywords.Ka,"overwrites "+n.yb]:[Keywords.xg+" "+Keywords.Ka,"overwrites "+Keywords.Ka]),n.yb=-1,n.Hi=!0,qa=this.Jc=!1,W=!0):Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.xg,n,a,this.Jc),W=this.Jc=!0));n=w;break;case Keywords.ig:w=n;!n.Ef&&0<this.w.ja.length&&(n=this.w.Cl());
c.H()?(l=!0,h=c.G()|0,0<h&&(!n.ki||this.Bd||pa||(a[a.length]=-1===n.oa?[Keywords.ig+" "+h,"overwrites "+Keywords.Ka]:[Keywords.ig+" "+h,"overwrites "+n.oa]),n.oa=h,n.ki=!0,pa=this.Bd=!1,W=!0)):(Z=c.ya(),Z===Keywords.Ka?(c.T(),!n.ki||this.Bd||pa||(a[a.length]=-1===n.oa?[Keywords.ig+" "+Keywords.Ka,"overwrites "+Keywords.Ka]:[Keywords.ig+" "+Keywords.Ka,"overwrites "+n.oa]),n.oa=-1,n.ki=!0,pa=this.Bd=!1,W=!0):Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.ig,n,a,this.Bd),W=this.Bd=!0));n=w;break;case Keywords.Qh:c.H()?
(l=!0,h=c.G()|0,0<=h&&359>=h&&(!n.pf||this.eg||Fa||(a[a.length]=[Keywords.Qh+" "+h,"overwrites "+n.angle]),n.angle=h,n.pf=!0,Fa=this.eg=!1,W=!0)):(Z=c.ya(),Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.Qh,n,a,this.eg),W=this.eg=!0));break;case Keywords.oj:c.H()?(l=!0,h=c.G()|0,h>=k.ro&&h<=k.ko&&(!n.Ff||this.jg||Ga||(a[a.length]=[Keywords.oj+" "+h,"overwrites "+n.I]),n.I=h,n.Ff=!0,Ga=this.jg=!1,W=!0)):(Z=c.ya(),Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.oj,n,a,this.jg),W=this.jg=!0));break;case Keywords.dj:c.H()?
(l=!0,h=c.G(),h>=k.qo&&h<=k.zu&&(!n.vf||this.fg||Ha||(a[a.length]=[Keywords.dj+" "+h,"overwrites "+n.depth]),n.depth=h,n.vf=!0,Ha=this.fg=!1,W=!0)):(Z=c.ya(),Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.dj,n,a,this.fg),W=this.fg=!0));break;case Keywords.jp:c.H()&&(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2&&(this.zd=h,W=!0));break;case Keywords.kp:c.H()&&(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2&&(this.Ad=h,W=!0));break;case Keywords.cd:c.H()?(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2&&(!n.le||this.mg||
Ca||(a[a.length]=[Keywords.cd+" "+h,"overwrites "+-n.x]),n.x=-h,n.le=!0,Ca=this.mg=!1,W=!0)):(Z=c.ya(),Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.cd,n,a,this.mg),W=this.mg=!0));break;case Keywords.dd:c.H()?(l=!0,h=c.G(),h>=-this.a.V/2&&h<=this.a.V/2&&(!n.Wd||this.ng||Da||(a[a.length]=[Keywords.dd+" "+h,"overwrites "+-n.y]),n.y=-h,n.Wd=!0,Da=this.ng=!1,W=!0)):(Z=c.ya(),Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.dd,n,a,this.ng),W=this.ng=!0));break;case Keywords.ju:W=!0;break;case Keywords.rs:c.H()&&
(l=!0,h=c.G(),h>=k.Wa&&h<=k.Ib?(this.Ri=!0,this.al=h,W=!0):h>=k.Vl&&h<=k.Ul&&(this.Ri=!0,this.al=-(1/h),W=!0));break;case Keywords.Gp:case Keywords.oc:c.H()?(l=!0,h=c.G(),h>=k.Wa&&h<=k.Ib?(!n.Gc||this.Cd||Ea||(a[a.length]=1>n.zoom?[Keywords.oc+" "+h,"overwrites "+-(1/n.zoom)]:[Keywords.oc+" "+h,"overwrites "+n.zoom]),n.zoom=h,n.Gc=!0,Ea=this.Cd=!1,W=!0):h>=k.Vl&&h<=k.Ul&&(n.Gc&&!this.Cd&&(a[a.length]=1>n.zoom?[Keywords.oc+" "+h,"overwrites "+-(1/n.zoom)]:[Keywords.oc+" "+h,"overwrites "+n.zoom]),
n.zoom=-(1/h),n.Gc=!0,this.Cd=!1,W=!0)):(Z=c.ya(),Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.oc,n,a,this.Cd),W=this.Cd=!0));break;case Keywords.kj:c.H()?(l=!0,h=c.G()|0,h>=k.ze&&h<=k.mi&&(!n.zf||this.gg||Ia||(a[a.length]=[Keywords.kj+" "+h,"overwrites "+n.kb]),n.kb=h,n.zf=!0,Ia=this.gg=!1,W=!0)):(Z=c.ya(),Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.kj,n,a,this.gg),W=this.gg=!0));break;case Keywords.ss:Z=c.ya();Z===Keywords.Ka?(c.T(),this.xe||(this.zh=this.va=!1)):this.xe||(this.zh=this.va=!0);W=!0;
break;case Keywords.os:Z=c.ya();Z===Keywords.Ka?(c.T(),this.xe||(this.Vg=this.zh=this.va=!1,this.h.Vg=!1)):this.xe||(this.Vg=this.zh=this.va=!0,this.h.Vg=!0);W=!0;break;case Keywords.qs:c.H()&&(l=!0,h=c.G()|0,h>=k.Ku&&h<=k.Eu&&(this.Fc=h,W=!0));break;case Keywords.yh:c.H()?(l=!0,h=c.G()|0,0<=h&&h<this.a.ge&&(!n.Td||this.Zb||oa||this.$k(a,h,n.nb),n.nb=h,n.Td=!0,oa=this.Zb=!1,W=!0)):(Z=c.ya(),Z===Keywords.Kk?(c.T(),this.Uf?(n.Td&&!this.Zb&&this.$k(a,this.a.ge,n.nb),n.nb=this.a.ge,n.Td=!0,this.Zb=!1):
a[a.length]=[Keywords.yh+" "+Keywords.Kk,"no custom THEME defined"],W=!0):(h=this.Ew(Z),-1!==h?(c.T(),!n.Td||this.Zb||oa||this.$k(a,h,n.nb),n.nb=h,n.Td=!0,oa=this.Zb=!1,W=!0):Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.yh,n,a,this.Zb),W=this.Zb=!0)));break;case Keywords.yi:a[a.length]=[e,"already in a script block"];W=!0;break;case Keywords.Tr:this.Ea=!this.Ea;W=!0;break;case Keywords.Ur:this.hk.current=this.Ok([!0],!0,this);W=!0;break;case Keywords.sq:this.bh.current=this.ll([!0],!0,this);W=!0;break;
case Keywords.Sr:this.ip([!0],!0,this);this.ce&&(this.ce.current=[this.hf],this.h.Wg=!0);W=!0;break;case Keywords.iq:c.H()&&(l=!0,h=c.G()|0,h>=k.Gu&&h<=k.yu&&(W=!0,this.a.mm=h));break;case Keywords.wo:W=this.Oc=!0;break;case Keywords.Nn:W=this.gb=!0;break;case Keywords.vq:c.H()&&(l=!0,h=c.G(),0<=h&&1>=h&&(W=!0,this.Wb=h));break;case Keywords.wq:this.Fe=!1;W=!0;break;case Keywords.Eq:W=this.a.Ne=!0;break;case Keywords.Xr:this.a.Ne=!1;W=!0;break;case Keywords.Yr:this.a.ca||(this.a.S=!1,this.Eb.l=this.a.S);
W=!0;break;case Keywords.Fq:this.a.ca||(this.a.S=!0,this.Eb.l=this.a.S);W=!0;break;case Keywords.kt:W=this.a.Bc=!0;break;case Keywords.Ar:this.In=c.T();W=!0;break;case Keywords.af:Z=c.ya();switch(Z){case Keywords.cd:n.Fh&&this.ua(n.kf,Keywords.af,Keywords.cd,a);n.kf=!0;n.Fh=!0;c.T();break;case Keywords.dd:n.Hh&&this.ua(n.lf,Keywords.af,Keywords.dd,a);n.lf=!0;n.Hh=!0;c.T();break;case Keywords.oc:n.Ws&&this.ua(n.mf,Keywords.af,Keywords.oc,a);n.mf=!0;n.Rm=!0;c.T();break;case Keywords.Ue:n.Fh&&this.ua(n.kf,
Keywords.af,Keywords.cd,a);n.Hh&&this.ua(n.lf,Keywords.af,Keywords.dd,a);n.Ws&&this.ua(n.mf,Keywords.af,Keywords.oc,a);n.kf=!0;n.Fh=!0;n.lf=!0;n.Hh=!0;n.mf=!0;n.Rm=!0;c.T();break;default:this.Dd(c,a,Keywords.af,"argument",Keywords.Ue+", "+Keywords.cd+", "+Keywords.dd+" or "+Keywords.oc)}W=!0;break;case Keywords.Sf:Z=c.ya();switch(Z){case Keywords.cd:n.Fh&&this.ua(n.kf,Keywords.Sf,Keywords.cd,a);n.kf=!1;n.Fh=!0;c.T();break;case Keywords.dd:n.Hh&&this.ua(n.lf,Keywords.Sf,Keywords.dd,a);n.lf=!1;n.Hh=
!0;c.T();break;case Keywords.oc:n.Ws&&this.ua(n.mf,Keywords.Sf,Keywords.oc,a);n.mf=!1;n.Rm=!0;c.T();break;case Keywords.Ue:n.Fh&&this.ua(n.kf,Keywords.Sf,Keywords.cd,a);n.Hh&&this.ua(n.lf,Keywords.Sf,Keywords.dd,a);n.Ws&&this.ua(n.mf,Keywords.Sf,Keywords.oc,a);n.kf=!1;n.Fh=!0;n.lf=!1;n.Hh=!0;n.mf=!1;n.Rm=!0;c.T();break;default:this.Dd(c,a,Keywords.Sf,"argument",Keywords.Ue+", "+Keywords.cd+", "+Keywords.dd+" or "+Keywords.oc)}W=!0;break;case Keywords.Do:B=!0;this.w.add(n);n=this.w.fn();n.Ef=!0;Z=
c.ya();Z===Keywords.Va&&(c.T(),-1!==this.bj&&(a[a.length]=[Keywords.Do+" "+Keywords.Va,"overrides previous initial POI"]),this.bj=this.w.wb.length);this.js();W=!0;break;case Keywords.zm:c.H()&&(l=!0,h=c.G()|0,0<=h&&(D||(D=!0),0<h&&(this.w.add(n),n=this.w.fn()),n.ab=h,W=n.Am=!0));break;case Keywords.Cj:c.H()?(l=!0,h=c.G()|0,h>=k.pj&&h<=k.fe&&(!n.Qf||this.kg||Ja||(a[a.length]=[Keywords.Cj+" "+h,"overwrites "+n.step]),n.step=h,n.Qf=!0,Ja=this.kg=!1,W=!0)):(Z=c.ya(),Z===Keywords.Va&&(c.T(),this.w.ic(Keywords.Cj,
n,a,this.kg),W=this.kg=!0));break;case Keywords.nr:c.H()&&(l=!0,h=c.G(),0<=h&&(D||(D=!0),this.w.add(n),n=this.w.fn(),h<k.Ev&&(h=k.Ev),n.ec=h,W=n.Kv=!0));break;case Keywords.Pk:c.H()&&(l=!0,h=c.G()|0,this.xe||(-1===this.X||Ka||(a[a.length]=[Keywords.Pk+" "+h,"overwrites "+this.X]),this.X=h),Ka=!1,W=!0);break;case Keywords.jk:c.H()&&(l=!0,h=c.G()|0,this.xe||(-1===this.fa||La||(a[a.length]=[Keywords.jk+" "+h,"overwrites "+this.fa]),this.fa=h),La=!1,W=!0);break;case Keywords.km:c.H()&&(l=!0,h=c.G()|0,
-1===this.ha||Ma||(a[a.length]=[Keywords.km+" "+h,"overwrites "+this.ha]),this.ha=h,Ma=!1,W=!0);break;case Keywords.jm:c.H()&&(l=!0,h=c.G()|0,-1===this.Ca||Na||(a[a.length]=[Keywords.jm+" "+h,"overwrites "+this.Ca]),this.Ca=h,Na=!1,W=!0);break;default:a[a.length]=[e,"unknown or misspelt command"],W=!0}W||(l?a[a.length]=[e+" "+h,"argument out of range"]:this.Dd(c,a,e,"argument","numeric"))}""!==e&&(e=c.T())}f&&(a[a.length]=[Keywords.Xb+g,"unterminated string"]);D&&this.fc&&(c=this.Ij?Keywords.Jj:this.Yd?
Keywords.Km:Keywords.Lm,a[a.length]=[c,"can not be used with Waypoints"],this.Yd=this.Ij=this.fc=!1);this.Ij||!this.fc&&!this.Yd||(this.Yd&&(0<this.a.$e&&(ra*=this.a.$e),n.oa=ra),this.Ah=ma,this.Yg=la,this.Zg=ma,this.Bh=la);if(D||B){this.w.add(n);n=this.w.Cl();D?this.Tb=!0:-1!==this.bj&&(this.ve=this.bj,w=this.w.wb[this.bj],w.le&&(n.le=w.le,n.x=w.x),w.Wd&&(n.Wd=w.Wd,n.y=w.y),w.Gc&&(n.Gc=w.Gc,n.zoom=w.zoom),w.pf&&(n.pf=w.pf,n.angle=w.angle),w.vf&&(n.vf=w.vf,n.depth=w.depth),w.Ff&&(n.Ff=w.Ff,n.I=w.I),
w.Td&&(n.Td=w.Td,n.nb=w.nb),w.zf&&(n.zf=w.zf,n.kb=w.kb),w.Qf&&(n.Qf=w.Qf,n.step=w.step),w.Jv&&(n.Jv=w.Jv,n.stop=w.stop),w.Zq&&(n.Zq=w.Zq,n.loop=w.loop));if(D){for(e=0;e<this.w.ja.length;e+=1)n=this.w.ja[e],n.od&&(n.le||n.Wd||n.Gc)&&(g="",n.le?(g="X "+n.x,n.Wd?g=n.Gc?g+(", Y "+n.y+" and ZOOM "+n.zoom):g+(" and Y "+n.y):n.Gc&&(g+=" and ZOOM "+n.zoom)):n.Wd?(g="Y "+n.y,n.Gc&&(g+=" and ZOOM "+n.zoom)):n.Gc&&(g="ZOOM "+n.zoom),a[a.length]=[Keywords.Ym,"overwrites "+g]);n=this.w.Cl()}B&&n.Be===WaypointConstants.play&&
this.xa&&(this.pe=!0)}n.od&&(this.pb=!0);n.le&&(this.a.da=this.a.width/2-n.x);n.Wd&&(this.a.aa=this.a.height/2-n.y);n.Gc&&(this.a.zoom=n.zoom);n.pf&&(this.a.angle=n.angle);n.vf&&(this.a.sc=n.depth/k.Wh+k.qo);n.Ff&&(this.a.I=n.I);n.Td&&(this.Qi=n.nb);n.zf&&(this.Id=n.kb);n.Qf&&(this.ga=n.step);n.ls&&this.h.notification.U(n.yd,1E3,!1);this.yb=n.yb;this.oa=n.oa;n.Gc&&(this.Rk=!0);n.le&&(this.Tj=!0);n.Wd&&(this.Uj=!0);n.lj&&(this.a.jb=n.qc);n.Vo&&(this.wg=n.Di);for(e=0;e<b;e+=1)-1!==this.rb[e]&&(m+=1);
if(0<m){this.Tm=!0;for(e=0;e<b;e+=1)PatternManager.Bj[e]?-1===this.rb[e]?(this.Tm=!1,this.aj[e]=k.Iv):this.aj[e]=k.Hv:this.aj[e]=k.es;this.Zj=this.Tm?"(custom)":this.Zj+" (custom*)"}else this.rb=[];this.Uf&&(this.Bw(),this.Qc&&(this.Qc.upper=this.a.ge));2<b&&!this.a.Dc&&-1===this.a.g&&(this.Yb=!0);this.Yb&&(c="not possible due to "+Keywords.Pm,this.pe&&(a[a.length]=[Keywords.Zm,c],this.pe=!1),-1!==this.yb&&(a[a.length]=[Keywords.xg+" "+this.yb,c]),-1!==this.oa&&(a[a.length]=[Keywords.ig+" "+this.oa,
c]));0!==this.zd&&this.pg+k.fe+2*Math.abs(this.zd)>=this.a.V&&(a[a.length]=[Keywords.jp+" "+this.zd,"pattern does not fit on grid at this offset"],this.zd=0);0!==this.Ad&&this.Kg+k.fe+2*Math.abs(this.Ad)>=this.a.V&&(a[a.length]=[Keywords.kp+" "+this.Ad,"pattern does not fit on grid at this offset"],this.Ad=0);this.lr=a.length}""!==this.Sa&&(this.Sa=this.$g(this.Sa));this.pb&&(this.Xm=!0);this.gb&&this.Oc&&(a[a.length]=[Keywords.Nn,"not valid with "+Keywords.wo],this.gb=!1);m=!1;-1!==this.X&&(b=k.td,
this.Jb&&(b=k.Wy),this.X<b||this.X>this.Hg)&&(a[a.length]=[Keywords.Pk+" "+this.X,"argument out of range"],m=!0);-1!==this.fa&&(b=k.rk,this.Jb&&(b=k.Vy),this.fa<b||this.fa>k.oo)&&(a[a.length]=[Keywords.jk+" "+this.fa,"argument out of range"],m=!0);this.xe&&(-1!==this.ha&&(this.ha<k.td||this.ha>this.Hg)&&(a[a.length]=[Keywords.km+" "+this.ha,"argument out of range"],this.ha=-1,m=!0),-1!==this.Ca&&(this.Ca<k.rk||this.Ca>k.oo)&&(a[a.length]=[Keywords.jm+" "+this.Ca,"argument out of range"],this.Ca=-1,
m=!0));if(m||a.length)-1!==this.X&&this.X<k.td&&(this.X=k.td),-1!==this.fa&&this.fa<k.rh&&(this.fa=k.rh),this.Jb=!1;this.u.l=this.Jb;this.h.Jb=this.Jb;this.h.si=this.si;this.Jb&&(this.gb=this.Vg=this.va=this.pe=!1,this.Ok([!1],!0,this),this.ll([!1],!0,this),this.ip([!1],!0,this),this.Jl=this.Ea=!1);this.Xk&&(this.element.style="display:none",this.element.parentNode&&this.element.parentNode.parentNode&&this.element.parentNode.parentNode.className===r.En&&(this.element.parentNode.parentNode.style="display:none;"));
this.w.zA()};b.prototype.ww=function(){this.a.ln=!1;this.a.V=1<<k.Zx;this.bj=this.Qi=-1;this.si=this.Xk=this.vo=this.Jb=!1;this.a.Bb=0;this.a.vb=0;this.a.Pb=1;this.Ea=this.Xm=this.pb=!1;this.rb=[];this.ih=this.We=null;this.Wf=k.Wf;this.a.$f=this.a.ty;this.a.Zf=this.a.sy;this.a.Yf=this.a.ry;this.a.ag=this.a.uy;this.a.bg=this.a.vy;this.Rh=this.pe=this.Tn=!1;this.oa=this.yb=-1;this.hf=this.gc=this.Yd=this.fc=this.Ij=this.Tb=this.nc=this.Za=!1;this.ba=this.jo=2<this.a.g?63<=256-this.a.g?63:256-this.a.g:
63;this.we=!1;this.a.Cn=!1};b.prototype.gs=function(){this.Vg?l(this.element):(this.A=this.Wn,this.v=this.ps,this.pb?(this.va=!1,this.Xf(!0,!1)):this.a.zoom=this.Yn,this.zb&&(this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this)),this.Y=this.Un,this.va=!1,this.h.va=!1,this.u.l=!1,this.h.notification.U("Shrink with hotkey N",100,!0),this.resize())};b.prototype.qp=function(a){a.va?a.gs():a.Jb&&(a.si||a.$p(a,!1))};b.prototype.resize=function(){this.Zk&&(w.wr.Er=this.Wk-this.A,this.Wk=this.A,this.Zk=
!1);this.J.width=this.A;this.J.height=this.v;this.uj.width=this.A;this.uj.height=this.v;this.ud.textBaseline="middle";this.a.mv(this.A,this.v)};b.prototype.hs=function(){this.Wn=this.A;this.ps=this.v;this.Yn=this.a.zoom;this.Un=this.Y;this.A=this.A/this.Fc|0;this.v=this.v/this.Fc|0;this.a.zoom=this.a.zoom/this.Fc;this.A&=-8;this.u.l=!0;this.h.va=!0;this.h.Fc=this.Fc;this.va=!0;this.resize()};b.prototype.po=function(){var a=this.a.g;a>this.ph&&(a=this.ph);this.bc.lower=[];this.bc.F=[];this.bc.width=
40*a;this.i.lower=[];this.i.F=[];this.i.current=[];this.i.width=40*a;this.i.Lc=1;for(a=0;a<this.ph;a+=1){var b=a+this.Pf;this.bc.lower[a]=String(b);b=0===b?"dead":1===b?"alive":"dying "+String(b-1);this.bc.F[a]=b;this.i.lower[a]="";this.i.F[a]=b;this.i.current[a]=!1}b=this.Ye;0<b&&(b=this.a.g-b);this.bc.current=b-this.Pf};b.prototype.Cw=function(){var a=this.a.g;this.Ye=1;this.Pf=0;this.yg.current=[this.Zn([!0],!0,this)];this.ph=7+((this.A-k.td)/40|0);this.a.Dc?(this.bc.lower="0123456".split(""),
this.bc.width=280,this.bc.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.bc.current=this.Ye,this.i.lower="      ".split(" "),this.i.width=280,this.i.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.i.Lc=1,this.i.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.bc.lower=["0","1"],this.bc.width=80,this.bc.F=["dead","alive"],this.bc.current=this.Ye,this.i.lower=["",""],this.i.width=80,this.i.F=["dead","alive"],this.i.Lc=1,this.i.current=[!1,!1]):(this.Ye=a-1,a>this.ph&&
(a=this.ph),this.po(),this.bc.width=40*a,this.i.width=40*a,this.Nh.current=this.zo([0,0],!0,this));this.bc.setPosition(Menu.fb,-this.bc.width,40);this.i.setPosition(Menu.fb,-this.i.width,60)};b.prototype.Hn=function(){this.$h=!1;this.Kn=0;this.sg=!1;this.wi=this.vi=0;this.em=this.tk=this.mr=this.Mf=this.Lg="";this.gm=this.uh=this.Kg=this.pg=0;this.og="(none)";this.a.Hb=!1;this.a.Dc=!1;this.a.S=!1;this.a.ca=!1;this.a.vc=PatternManager.Kj;this.a.Md=!1;this.a.Pe=-1;this.a.dm=!1;this.a.g=-1;this.a.ka=
-1;this.a.sa=!1;this.xa=this.a.nB=!1};b.prototype.wh=function(a,b){var c,d=!1;var e=0;this.Xn=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;this.Rb=[];this.h.notification.clear(!0,!0);this.h.notification.clear(!1,!0);if(a=PatternManager.create("",a,this.a.j)){this.$h=PatternManager.$h;this.Kn=PatternManager.uq;this.sg=PatternManager.sg;this.vi=PatternManager.Fo;this.wi=PatternManager.Go;this.Rg=PatternManager.Rg;this.Qg=PatternManager.Qg;this.pg=a.width;this.Kg=a.height;this.tk=a.name;this.em=
a.Su;this.og=a.og;""===this.og&&(this.og="(none)");this.uh=a.Ee;this.gm=a.bm;this.Lg=a.$;this.Mf=a.Zd;this.mr=a.an;this.a.qb=a.qb;this.a.Se=a.Se;this.xa=PatternManager.xa;this.a.Dc=a.Gb;this.a.g=a.g;if(this.a.sa=a.sa)this.a.Ub.Ab=a.Tc,this.a.Ub.Wo=a.wd,this.a.Ub.Mo=a.g,this.a.Ub.uA(a.De,a.lc),PatternManager.gh?(this.a.Ub.Um=a.cl,this.a.Ub.Vm=a.el,this.a.Ub.gh=!0):this.a.Ub.gh=!1;this.a.Hb=a.Hb;this.a.Ne=!0;this.a.S=a.S;this.a.dm=a.S;this.a.ca=a.ca;this.a.vc=a.vc;this.a.Md=a.Md;this.a.Pe=a.Pe;this.a.ka=
a.tb;this.a.la=a.pd;this.a.na=a.Ze;this.a.jl=a.Fl;this.a.kl=a.ik;this.a.Rp=a.xq;this.a.ot=a.Sn;this.fm=new Uint32Array(this.uh);for(c=0;c<this.uh;c+=1)this.fm[c]=PatternManager.Bj[c]}else this.Hn();this.Of=!0;this.gb=!1;this.Fe=!0;this.Wb=k.Jt;this.Oc=a?!1:!0;this.El=!0;this.Ln=!1;this.Eb.l=this.a.S;this.m=PatternManager.m;this.a.Ba=!0;this.a.mm=k.It;this.Ad=this.zd=0;this.Je=this.ve=-1;this.ml=this.$i=!1;this.Sg=this.Cf=this.u.locked=!1;this.a.ny();this.a.oy();this.a.Dc&&(this.a.Bx(),this.a.Ex());
this.Sa="";this.wg=!1;ColourManager.Kd();this.a.tt(!1);this.a.rc=this.a.Rn;this.a.de=this.a.Qn;this.a.$e=10;this.a.$x=10;this.a.mh=!0;this.Id=60;this.ga=1;this.a.I=1;this.a.sc=.1;this.a.angle=0;this.a.zoom=6;this.a.Rz();this.a.da=this.a.width/2;this.a.aa=this.a.height/2;this.Uj=this.Tj=this.Rk=!1;this.cj=this.ae=0;this.Ca=this.ha=this.fa=this.X=-1;this.f[k.Xe]=-1;this.f[k.Fg]=-1;this.f[k.mn]=-1;this.f[k.Vf]=-1;this.f[k.ol]=-1;this.f[k.pl]=-1;this.f[k.ql]=-1;this.f[k.vn]=-1;this.f[k.wn]=-1;this.f[k.nn]=
-1;this.f[k.sn]=-1;this.f[k.rn]=-1;this.f[k.qn]=-1;this.f[k.tn]=-1;this.f[k.un]=-1;this.f[k.pn]=-1;this.f[k.rl]=-1;this.f[k.on]=-1;this.f[k.cq]=-1;this.f[k.vl]=-1;this.f[k.tl]=-1;this.f[k.wl]=-1;this.f[k.yl]=-1;this.f[k.xl]=-1;this.f[k.ul]=-1;this.f[k.nl]=-1;this.f[k.sl]=-1;this.Rj=k.ou;this.Qj=k.Wm;this.Sj=k.Zu;this.va&&this.gs();this.zh=!1;this.h.va=!1;this.Fc=k.Kt;this.Vg=!1;this.Ri=this.h.sB=!1;this.Vb=a?!1:!0;this.Yb=!1;this.a.jb=!1;this.a.Bc=!1;this.pa.l=!1;this.qj.l=!1;this.ce.l=!1;this.Oa.l=
!1;this.cc.l=!1;this.Jf.l=!1;this.tc.l=!1;this.Nb.l=!1;this.Qc.l=!1;this.u.l=!1;this.Ge.l=!1;this.Jf.current=[!1];this.ce.current=[!1];this.Ya=this.Y=0;this.qj.current=this.Is(k.Wl,!0,this);this.ci.current=this.Im([this.Y],!0,this);this.Th=[96,96,96];this.a.Yj=this.a.hg?4284506208:1616929023;this.w.reset();this.Tb=!1;this.w.lx();this.Uf=this.gr=this.Lf=this.Jl=!1;if(a){if(a.Hb)this.Uc=ColourManager.yn,this.Zj="(default)";else if(PatternManager.gk||a.Gb)a.Gb?(this.Uc=ColourManager.vt("LifeHistory"),
this.Uc[2]=96):this.Uc=ColourManager.vt(a.$),this.Uc.length?this.Zj=a.$:(this.Uc=ColourManager.yn,this.Zj="(default)");this.ww();a.title&&(this.vw(a.title,a.Ee),myRand.Kd(this.In),this.Rb.length&&(this.Ya=1),this.va&&b&&(this.va=!1),-1<this.X&&(this.X&=-8,this.X!==this.A&&(this.A=this.X,d=!0)),-1<this.fa&&this.fa!==this.v&&(this.v=this.fa,d=!0),this.xe&&(-1<this.ha?(this.ha&=-8,this.ha!==this.A&&(this.A=this.ha,d=!0)):this.A=k.td,this.A!==this.Wk&&(this.Zk=!0),-1<this.Ca?this.Ca!==this.v&&(this.v=
this.Ca,d=!0):this.v=k.rh+80));this.Cw();this.Aw();this.Jw();this.a.zz();this.a.ba=this.ba;this.Vg&&!this.gb&&(this.Oc=!0,this.gb=!1);this.a.Sw(!this.Oc);if(a.width>this.a.V||a.height>this.a.V)this.m="Pattern too big (maximum "+this.a.V+"x"+this.a.V+")",this.Xg=!0,this.xa=!1,this.Hn();-1!==a.tb&&(a.sa&&(e=6*a.lc),a.qd&&(e=6*a.Kb),a.pd>=this.a.V-e||a.Ze>=this.a.V-e)&&(this.m="Bounded grid is too big",this.xa=!1,this.a.ka=-1);this.Os=!1;if(-1!==this.a.ka){b=this.a.la;var f=this.a.na;0===b&&(b=a.width);
0===f&&(f=a.height)}else b=a.width,f=a.height;e=k.fe;this.a.sa&&(e=4*this.a.Ub.uc+1,-1!==this.a.ka&&(e+=2*this.a.Ub.uc),this.a.Ub.type===PatternManager.jf&&(e=-1!==this.a.ka?e+this.a.na/2:e+(this.a.C.L-this.a.C.K+1)/2),e<k.fe&&(e=k.fe));c=this.a.V/2-e;this.sg&&(this.vi<-c?this.vi=-c:this.vi>=c&&(this.vi=c-1),this.wi<-c?this.wi=-c:this.wi>=c&&(this.wi=c-1),this.zd+=this.vi,this.Ad+=this.wi);this.zd<-c?this.zd=-c:this.zd>=c&&(this.zd=c-1);this.Ad<-c?this.Ad=-c:this.Ad>=c&&(this.Ad=c-1);for(;this.a.width<
this.a.V&&(b+e+2*Math.abs(this.zd)>=this.a.width||f+e+2*Math.abs(this.Ad)>=this.a.height);)this.a.zq(),this.ae+=this.a.width>>2,this.cj+=this.a.height>>2,this.he+=this.a.width>>2,this.yj+=this.a.height>>2,this.a.S&&(this.ae-=this.a.height>>3,this.he-=this.a.height>>3);a.sa&&this.a.Ub.resize(this.a.width,this.a.height);this.Ps(a.width,a.height);this.a.Dc&&PatternManager.Bj[6]&&this.a.qz(a,this.Od,this.Pd);this.We?this.h.notification.se="rgb("+this.We[0]+","+this.We[1]+","+this.We[2]+")":this.h.notification.se=
this.h.notification.dv;if(0===this.rb.length)for(c=0;c<this.Uc.length;c+=1)this.aj[c]=PatternManager.Bj[c]?k.Iv:k.es;this.a.kc?(this.a.yx(this.Uc,this.rb),this.a.kh=!0):this.a.kh=!1;this.Ss(a);this.a.OA();this.Kc.xb=""!==this.Mf?this.Mf:this.Lg;this.Kc.F=this.Lg;""!==this.Mf&&(this.Kc.F+=" alias "+this.Mf)}this.a.wx();-1!==this.Qi?this.a.Dk(this.Qi,1,this):this.Uf?this.a.Dk(this.a.ge,1,this):this.a.Dc?this.a.Dk(10,1,this):2<this.a.g?this.a.Dk(11,1,this):this.a.Dk(1,1,this);this.a.rb=this.rb;this.a.Hb?
this.a.Bt(this.Uc,this.rb):this.a.At();this.a.Vc(1);this.a.jA();this.Mb.current=this.Ti([this.Wb,this.Wb],!1,this);this.pk.current=[this.Fe];this.Ag.current=[this.pb];this.bi.current=[this.a.jb];this.a.Oz(this.Sg);this.a.Dr();this.elapsedTime=this.Jg=this.Ga=this.a.s=0;this.Vb?(a&&0<this.rb.length&&(this.Uc=this.rb),this.a.Bt(this.Uc,this.rb),this.a.Sd.reset(),this.Oc=!0,this.gb=!1):(2>=this.a.g&&this.a.Qz(this.a.sb),this.a.Dc&&PatternManager.Bj[2]&&this.a.rx(a,this.Od,this.Pd),this.a.Tz(this.a.sb,
this.a.ta),a&&0===this.a.Aa?(this.ek=!0,this.a.Hb||this.h.notification.U("Nothing alive!",300,!1)):this.ek=!1,-1!==this.a.ka&&this.a.Pr(),this.a.gA(this.Lf),this.a.Lo(this.Lf));this.ai.locked=this.Oc;this.ai.current=[this.gb];this.ei.current=[this.a.S];this.ei.locked=this.a.ca;this.fi.current=[this.a.Ne];this.fi.locked=this.a.ca;0===this.w.Zl()?(this.hi.locked=!0,this.Of=!1):(this.hi.locked=!1,this.Of=!0);this.hi.current=[this.Of];this.mk.current=[this.Ea];this.Hk.current=[this.wg];this.lk.current=
[this.Cf];0===this.a.$e?(this.oh.current=[!1],this.oh.locked=!0):(this.oh.current=[this.a.mh],this.oh.locked=!1);this.Oc||this.a.lv();a&&(a.Ce=null);e=this.a.zoom;c=this.a.da;b=this.a.aa;f=this.va;this.va=!1;this.Xf(!0,!1);this.va=f;this.Rk&&(this.a.zoom=e);this.Tj&&(this.a.da=c);this.Uj&&(this.a.aa=b);this.Tb&&this.qw(this.Rb);this.va&&this.Ri&&(this.a.zoom=this.al);this.Lt=this.a.zoom;this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this);this.ae=this.a.da;this.cj=this.a.aa;this.ak=this.a.angle;
this.Eb.current=[this.ak,this.ak];this.An=this.a.te;this.Qc.current=this.Nj([this.An,""],!0,this);this.hq=this.Id;e=Math.sqrt((this.hq-k.ze)/(k.mi-k.ze));this.Oa.current=this.dh([e,e],!0,this);this.zn=this.ga;this.cc.current=this.Oi([this.zn,this.zn],!0,this);this.ck=this.a.I;this.tc.current=[this.ck,this.ck];this.gq=this.a.sc;e=Math.sqrt(this.gq);this.Nb.current=this.Ch([e,e],!0,this);this.a.Ba=!0;this.pe&&!this.Rh?(this.Cc=!0,this.pa.current=k.ni):(this.Cc=!1,this.pa.current=k.mb);this.zv(this.Cc);
this.v<k.rh?(this.Jf.l=!0,this.pa.x=this.Yk+45,this.pa.ef=this.pa.x,this.Oa.x=this.Sk+45,this.Oa.ef=this.Oa.x,this.cc.x=this.Qk+45):(this.pa.x=this.Yk,this.pa.ef=this.pa.x,this.Oa.x=this.Sk,this.Oa.ef=this.Oa.x,this.cc.x=this.Qk);this.cc.ef=this.cc.x;this.A>k.td?(c=this.A-k.td+k.mp,c>k.pw&&(c=k.pw),this.zb.width=c,this.Mb.width=c,c>k.dz&&(this.Mb.xb="Opacity ")):(this.zb.width=k.mp,this.Mb.width=k.mp,this.Mb.xb="Opac ");if(d||this.va)this.va?this.hs():this.resize();a||(PatternManager.Xg?this.h.notification.U("Pattern too big!",
k.rq,!1):this.h.notification.U("Invalid pattern!",k.rq,!1));this.Rb.length?this.Y=0:this.Ya=0;this.xa||(this.Yb=!0);this.Yb?(this.pa.l=!0,this.ce.l=!0,this.Ge.l=!0,this.Oa.l=!0,this.cc.l=!0,this.Vb&&(this.tc.l=!0,this.Nb.l=!0,this.Qc.l=!0,this.a.I=1),this.wc.l=!1,""===this.m?(this.wc.xb=Keywords.Pm,this.wc.Hd=k.kk):(this.wc.xb=this.m,this.wc.Hd=this.Wf)):this.wc.l=!0;this.xs();this.ee=!1;this.bo="";this.xv(this);this.Bl()?(this.Cb.xb="Density",this.Cb.F="cell density"):(this.Cb.xb="Births",this.Cb.F=
"cells born this generation");this.h.Wg=!0;this.h.Og(!0);this.xe&&this.ap&&(""===this.Sa?this.ap.nodeValue="LifeViewer":this.ap.nodeValue=this.pp(this.Sa));r.Ia?(d=this.tk,""===d&&(d="Universe "+(this.Lb+1)),this.h.notification.U(d,120,!0),this.ug.l=!1,this.tg.l=!1):(this.ug.l=!0,this.tg.l=!0)};registerEvent(window,"load",G,!1);window.DocConfig=r;window.Controller=w;window.ViewConstants=k;window.startAllViewers=G;window.updateViewer=l;window.updateMe=function(b){var c=a(b).getElementsByTagName(r.wj)[0];
b=w.mc[0];c.innerHTML=c.value;c=g(c);b[1].Js(b[1]);b[1].h.notification.clear(!0,!0);b[1].h.notification.clear(!1,!0);b[1].wh(c,!1)};window.hideViewer=e;window.launchInMolly=function(b){var c=a(b);b=g(c.getElementsByTagName(r.wj)[0]);c=c.getElementsByTagName("form")[0];c.getElementsByTagName("input")[0].value=b;c.submit()}})();window.Help={Rr:0,Gz:function(c,b,d,a,e,f,g,l,E,M){var G=l,r=!1,k=c.M;f&&(f.fillStyle===ViewConstants.Il&&(r=!0),k>=M&&k<=M+c.ac&&(f.font=ViewConstants.Dl,r||(f.fillStyle=1<(c.Y|0)?ViewConstants.kk:ViewConstants.On),f.fillText(b,g,l),r||(f.fillStyle=ViewConstants.kk),f.fillText(d,g+f.measureText(b).width,l),r||(f.fillStyle=(c.Y|0)<c.sk-c.ac?ViewConstants.kk:ViewConstants.On),f.fillText(a,g+f.measureText(b+d).width,l),r||(f.fillStyle=ViewConstants.kk),f.font=ViewConstants.Ni,f.fillText(e,g+c.P[0],
l),G+=E));c.M+=1;return G},Op:function(c){c/=1048576;return 10>c?String(c.toFixed(1)):String(c.toFixed(0))},Da:function(c,b,d,a,e,f,g,l,E){var M=c.M;e&&(l-=6,M>=E&&M<=E+c.ac&&(c=e.fillStyle,c!==ViewConstants.Il&&(e.fillStyle="rgb("+b+","+d+","+a+")"),e.fillRect(f,g-(l>>1)-1,l,l),e.fillStyle=c))},measureText:function(c,b,d,a){var e=a?c.Dq:c.Cq;e[c.M]?b=e[c.M]:(b.font=0===a?ViewConstants.Dl:ViewConstants.Ni,b=b.measureText(d).width,e[c.M]=b);return b},b:function(c,b,d,a,e,f,g,l){var E=f,M=String(d).indexOf("\t"),
G=c.M,r=0,k=!0;(G<l||G>l+c.ac)&&k&&(k=!1);if(b.length){k&&(a.font=ViewConstants.Dl,a.fillText(b,e,f));b=this.measureText(c,a,b,0);b>c.P[r]&&(k&&(f+=g,E+=g),c.M+=1);k&&(a.font=ViewConstants.Ni);for(;-1!==M;)k&&a.fillText(d.substr(0,M),e+c.P[r],f),r+=1,d=d.substr(M+1),M=d.indexOf("\t");M=!1;c.ke&&(b=this.measureText(c,a,d,1),e+c.P[r]+b+this.Rr>a.canvas.width&&(b=d.toLowerCase().indexOf("|"),-1===b&&(b=d.toLowerCase().indexOf("s"),-1===b&&(b=d.indexOf("/"),-1!==b&&(b+=1))),-1!==b&&(k&&(a.fillText(d.substr(0,
b),e+c.P[r],f),f+=g,E+=g,a.fillText("  "+d.substr(b),e+c.P[r],f)),c.M+=1,M=!0)));M||k&&a.fillText(d,e+c.P[r],f)}else a.font=ViewConstants.Ni,k&&a.fillText(d,e,f);k&&(E+=g);c.M+=1;return E},Qb:function(c,b,d){for(var a=ColourManager.Uc,e=Object.keys(a),f="    "+c+"\t"+b+"\t"+d,g=!1,l,E=0;E<e.length&&!g;)l=a[e[E]],l[1]===c&&l[2]===b&&l[3]===d?(f+="\t"+l[0],g=!0,E=e.length):E+=1;return f},Qd:function(c){return this.Qb(c.red,c.green,c.blue)},Vw:function(c){var b=0,d=0;c.a.Ba&&(b=c.a.C.O-c.a.C.N+1,d=c.a.C.L-
c.a.C.K+1);-1!==c.a.ka&&(0!==c.a.la&&(b=c.a.la),0!==c.a.na&&(d=c.a.na));return b+" x "+d},cx:function(c){var b="AutoFit";c.Cf&&(b+=" History");c.Sg&&(b+=" State 1");return b},Tu:function(c,b){b-=c.length;for(var d="";0<b;)d+=" ",--b;return d+c},Up:function(c){var b=c.indexOf(","),d=c.lastIndexOf(",");return[c.substring(4,b),c.substring(b+1,d),c.substring(d+1,c.length-1)]},jv:function(c,b,d,a,e,f){var g=a;switch(c.di){case ViewConstants.Eh:this.Mz(c,b,d,a,e,f);break;case ViewConstants.lu:this.Iz(c,
b,d,a,e,f);break;case ViewConstants.Or:this.Kz(c,b,d,a,e,f);break;case ViewConstants.Kl:this.Hz(c,b,d,a,e,f);break;case ViewConstants.Ov:this.Lz(c,b,d,a,e,f);break;case ViewConstants.wt:this.Dz(c,b,d,a,e,f);break;case ViewConstants.Zs:this.Bz(c,b,d,a,e,f);break;case ViewConstants.Fu:this.Jz(c,b,d,a,e,f);break;case ViewConstants.et:this.Cz(c,b,d,a,e,f)}c.sk=c.M-1;c.M=1;c.P[0]=120;a=g+e*(c.ac+2);a=c.di!==ViewConstants.Eh?this.Gz(c,"Up"," / ","Down","scroll help",b,d,a,e,0):a+e;c.xe?this.b(c,"H","close help",
b,d,a,e,0):this.b(c,"H / Esc","close help",b,d,a,e,0)},Mz:function(c,b,d,a,e,f){c.M=1;c.ke=!1;c.R=[];c.P[0]=108;c.R[0]=[c.M,"Top"];this.b(c,"",ViewConstants.bw+" build "+ViewConstants.Fs+" by "+ViewConstants.aw,b,d,a,e,f)},Cz:function(c,b,d,a,e,f){var g,l=0;c.M=1;c.ke=!1;c.R=[];c.R[l]=[c.M,"Top"];l+=1;c.P[0]=128;c.P[1]=208;c.P[2]=288;c.P[3]=368;a=this.b(c,"","Annotations",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"Labels"];l+=1;a=this.b(c,"","Labels:",b,d,a,e,f);a=this.b(c,"Number",c.w.rd.length,
b,d,a,e,f);for(g=0;g<c.w.rd.length;g+=1){var E="Label "+String(g+1);a=this.b(c,E,c.w.Dy(g),b,d,a,e,f);a=this.b(c," ",c.w.Ey(g),b,d,a,e,f);a=this.b(c," ",c.w.Fy(g),b,d,a,e,f);E=this.Up(c.w.Gy(g));this.Da(c,E[0],E[1],E[2],b,d+c.P[0],a,e,f);a=this.b(c,"Colour",this.Qb(E[0],E[1],E[2]),b,d,a,e,f)}a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"Arrows"];l+=1;a=this.b(c,"","Arrows:",b,d,a,e,f);a=this.b(c,"Number",c.w.nd.length,b,d,a,e,f);for(g=0;g<c.w.nd.length;g+=1)E="Arrow "+String(g+1),a=this.b(c,E,c.w.Ww(g),
b,d,a,e,f),a=this.b(c," ",c.w.Xw(g),b,d,a,e,f),a=this.b(c," ",c.w.Yw(g),b,d,a,e,f),E=this.Up(c.w.Wm(g)),this.Da(c,E[0],E[1],E[2],b,d+c.P[0],a,e,f),a=this.b(c,"Colour",this.Qb(E[0],E[1],E[2]),b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"Polygons"];a=this.b(c,"","Polygons:",b,d,a,e,f);a=this.b(c,"Number",c.w.vd.length,b,d,a,e,f);for(g=0;g<c.w.vd.length;g+=1)E="Polygon "+String(g+1),a=this.b(c,E,c.w.mz(g),b,d,a,e,f),a=this.b(c," ",c.w.nz(g),b,d,a,e,f),a=this.b(c," ",c.w.oz(g),b,d,a,e,f),E=this.Up(c.w.pz(g)),
this.Da(c,E[0],E[1],E[2],b,d+c.P[0],a,e,f),a=this.b(c,"Colour",this.Qb(E[0],E[1],E[2]),b,d,a,e,f)},Iz:function(c,b,d,a,e,f){var g,l=0;c.M=1;c.ke=!1;c.R=[];c.P[0]=124;c.R[l]=[c.M,"Top"];l+=1;a=this.b(c,"","Keyboard commands",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"Playback"];l+=1;a=this.b(c,"","Playback controls:",b,d,a,e,f);c.Vb?a=this.b(c,"R","reset",b,d,a,e,f):(a=this.b(c,"Enter","toggle play / pause",b,d,a,e,f),a=this.b(c,"Space","pause / next generation",b,d,a,e,f),a=this.b(c,"B",
"pause / previous generation",b,d,a,e,f),a=this.b(c,"Tab","pause / next step",b,d,a,e,f),a=this.b(c,"Shift Tab","pause / previous step",b,d,a,e,f),a=c.xe?this.b(c,"Esc","close LifeViewer",b,d,a,e,f):this.b(c,"Esc","pause if playing",b,d,a,e,f),a=this.b(c,"R","reset to generation 0",b,d,a,e,f),a=this.b(c,"Shift R","reset all LifeViewers to generation 0",b,d,a,e,f),a=this.b(c,"-","decrease generation speed",b,d,a,e,f),a=this.b(c,"+","increase generation speed",b,d,a,e,f),a=this.b(c,"Shift -","minimum generation speed",
b,d,a,e,f),a=this.b(c,"Shift +","maximum generation speed",b,d,a,e,f),a=this.b(c,"D","decrease step size",b,d,a,e,f),a=this.b(c,"E","increase step size",b,d,a,e,f),a=this.b(c,"Shift D","minimum step size",b,d,a,e,f),a=this.b(c,"Shift E","maximum step size",b,d,a,e,f),a=this.b(c,"0","reset step and speed",b,d,a,e,f),c.Tb?-1!==c.oa?(a=this.b(c,"W","toggle waypoint playback and loop",b,d,a,e,f),a=this.b(c,"Shift P","toggle just loop",b,d,a,e,f)):a=this.b(c,"W","toggle waypoint playback",b,d,a,e,f):-1!==
c.oa&&(a=this.b(c,"W","toggle loop",b,d,a,e,f)));a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"Multi"];l+=1;a=this.b(c,"","Multi-Viewer controls:",b,d,a,e,f);DocConfig.Ia&&(a=this.b(c,"Page Up","previous universe",b,d,a,e,f),a=this.b(c,"Page Down","next universe",b,d,a,e,f),a=this.b(c,"Home","first universe",b,d,a,e,f),a=this.b(c,"End","last universe",b,d,a,e,f));a=this.b(c,"Z","stop playback in all other LifeViewers",b,d,a,e,f);a=this.b(c,"Shift Z","stop playback in all LifeViewers",b,d,a,e,f);a=this.b(c,
"","",b,d,a,e,f);c.R[l]=[c.M,"Camera"];l+=1;a=this.b(c,"","Camera controls:",b,d,a,e,f);if(c.v>=ViewConstants.rh||(c.va&&c.ps)>=ViewConstants.rh)a=this.b(c,"M","toggle navigation menu",b,d,a,e,f);a=this.b(c,"V","restore saved camera position",b,d,a,e,f);a=this.b(c,"Shift V","save current camera position",b,d,a,e,f);var E=c.w.wb.length;if(0<E)for(a=this.b(c,"J","jump to next point of interest",b,d,a,e,f),a=this.b(c,"Shift J","jump to previous point of interest",b,d,a,e,f),9<E&&(E=9),g=1;g<=E;g+=1)a=
this.b(c,"Alt "+String(g),"jump to POI #"+String(g),b,d,a,e,f);a=this.b(c,"F","fit pattern to display",b,d,a,e,f);a=this.b(c,"Shift F","toggle autofit",b,d,a,e,f);a=this.b(c,"Shift H","toggle autofit history mode",b,d,a,e,f);c.a.Dc&&(a=this.b(c,"Shift S","toggle autofit state 1 mode",b,d,a,e,f));a=this.b(c,"[","zoom out",b,d,a,e,f);a=this.b(c,"]","zoom in",b,d,a,e,f);a=this.b(c,"Shift [","halve zoom",b,d,a,e,f);a=this.b(c,"Shift ]","double zoom",b,d,a,e,f);a=this.b(c,"1","1x zoom",b,d,a,e,f);a=this.b(c,
"2","2x zoom",b,d,a,e,f);a=this.b(c,"4","4x zoom",b,d,a,e,f);a=this.b(c,"8","8x zoom",b,d,a,e,f);a=this.b(c,"6","16x zoom",b,d,a,e,f);a=this.b(c,"3","32x zoom",b,d,a,e,f);a=this.b(c,"Shift 3","64x zoom",b,d,a,e,f);a=this.b(c,"Shift 1","integer zoom",b,d,a,e,f);a=this.b(c,"Shift 2","-2x zoom",b,d,a,e,f);a=this.b(c,"Shift 4","-4x zoom",b,d,a,e,f);a=this.b(c,"Shift 8","-8x zoom",b,d,a,e,f);a=this.b(c,"Shift 6","-16x zoom",b,d,a,e,f);a=this.b(c,"Left","pan left",b,d,a,e,f);a=this.b(c,"Right","pan right",
b,d,a,e,f);a=this.b(c,"Up","pan up",b,d,a,e,f);a=this.b(c,"Down","pan down",b,d,a,e,f);a=this.b(c,"Shift Left","pan north west",b,d,a,e,f);a=this.b(c,"Shift Right","pan south east",b,d,a,e,f);a=this.b(c,"Shift Up","pan north east",b,d,a,e,f);a=this.b(c,"Shift Down","pan south west",b,d,a,e,f);a=this.b(c,"<","rotate left",b,d,a,e,f);a=this.b(c,">","rotate right",b,d,a,e,f);a=this.b(c,"Shift <","rotate left 90 degrees",b,d,a,e,f);a=this.b(c,"Shift >","rotate right 90 degrees",b,d,a,e,f);a=this.b(c,
"5","reset angle",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.Vb||(c.R[l]=[c.M,"View"],l+=1,a=this.b(c,"","View controls:",b,d,a,e,f),a=this.b(c,"Q","increase number of layers",b,d,a,e,f),a=this.b(c,"A","decrease number of layers",b,d,a,e,f),a=this.b(c,"P","increase layer depth",b,d,a,e,f),a=this.b(c,"L","decrease layer depth",b,d,a,e,f),a=this.b(c,"C","next colour theme",b,d,a,e,f),a=this.b(c,"Shift C","previous colour theme",b,d,a,e,f),a=this.b(c,"Alt C","default theme",b,d,a,e,f),a=this.b(c,"","",
b,d,a,e,f));c.R[l]=[c.M,"Display"];l+=1;a=this.b(c,"","Display controls:",b,d,a,e,f);c.Vb||(a=this.b(c,"G","toggle generation statistics",b,d,a,e,f),a=this.b(c,"Shift G","toggle generation display mode",b,d,a,e,f),a=this.b(c,"Y","toggle population graph",b,d,a,e,f),a=this.b(c,"Shift Y","toggle graph lines",b,d,a,e,f),a=this.b(c,"7","decrease graph opacity",b,d,a,e,f),a=this.b(c,"9","increase graph opacity",b,d,a,e,f));a=this.b(c,"/","toggle hex view",b,d,a,e,f);a=this.b(c,"Shift /","pattern default view",
b,d,a,e,f);a=this.b(c,"T","toggle timing information",b,d,a,e,f);a=this.b(c,"Shift T","toggle extended timing information",b,d,a,e,f);a=this.b(c,"I","toggle pattern and engine information",b,d,a,e,f);a=this.b(c,"Shift I","toggle information bar",b,d,a,e,f);a=this.b(c,"X","toggle grid lines",b,d,a,e,f);0<c.a.$e&&(a=this.b(c,"Shift X","toggle major grid lines",b,d,a,e,f));a=this.b(c,"Alt X","toggle cell borders",b,d,a,e,f);0<c.w.Zl()&&(a=this.b(c,"Shift L","toggle annotation display",b,d,a,e,f));c.zh&&
(a=this.b(c,"N","toggle thumbnail view",b,d,a,e,f));a=this.b(c,"S","toggle stars",b,d,a,e,f);a=this.b(c,"O","open screenshot in separate window",b,d,a,e,f);a=this.b(c,"Shift O","open population graph in separate window",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"Clipboard"];l+=1;a=this.b(c,"","Clipboard controls:",b,d,a,e,f);a=this.b(c,"Ctrl+Shift C","copy original pattern",b,d,a,e,f);a=this.b(c,"Ctrl C","copy current pattern",b,d,a,e,f);a=this.b(c,"Ctrl+Alt C","copy current pattern with comments",
b,d,a,e,f);a=this.b(c,"K","copy camera position",b,d,a,e,f);a=this.b(c,"Shift K","copy camera position and view",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"Edit"];l+=1;a=this.b(c,"","Edit controls:",b,d,a,e,f);a=this.b(c,"F1","toggle draw/pan mode",b,d,a,e,f);a=this.b(c,"Shift F1","toggle smart drawing",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"Help"];a=this.b(c,"","Help controls:",b,d,a,e,f);a=this.b(c,"Up","scroll up one line",b,d,a,e,f);a=this.b(c,"Down","scroll down one line",
b,d,a,e,f);a=this.b(c,"Page Up","scroll up one page",b,d,a,e,f);a=this.b(c,"Page Down","scroll down one page",b,d,a,e,f);a=this.b(c,"Shift Page Up","scroll up one section",b,d,a,e,f);a=this.b(c,"Shift Page Down","scroll down one section",b,d,a,e,f);a=this.b(c,"Home","go to first help page",b,d,a,e,f);this.b(c,"End","go to last help page",b,d,a,e,f)},Kz:function(c,b,d,a,e,f){var g=0;c.M=1;c.ke=!1;c.R=[];c.P[0]=252;c.R[g]=[c.M,"Top"];g+=1;a=this.b(c,"","Scripts",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,
f);a=this.b(c,"","Scripts must be embedded in pattern comments",b,d,a,e,f);a=this.b(c,"","Commands must be surrounded by whitespace",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Params"];g+=1;a=this.b(c,"","Parameter conventions:",b,d,a,e,f);a=this.b(c,"A|B","either A or B",b,d,a,e,f);a=this.b(c,"(A)","A is optional",b,d,a,e,f);a=this.b(c,"<1..3>","integer range",b,d,a,e,f);a=this.b(c,"<1.0..3.0>","decimal range",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"General"];g+=1;a=this.b(c,
"","General:",b,d,a,e,f);a=this.b(c,Keywords.yi,"start script section",b,d,a,e,f);a=this.b(c,Keywords.Ck,"end script section",b,d,a,e,f);a=this.b(c,Keywords.fs,"suppress overwrite warning",b,d,a,e,f);a=this.b(c,Keywords.Ar+" <string>","set random seed",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Playback"];g+=1;a=this.b(c,"","Playback:",b,d,a,e,f);a=this.b(c,Keywords.Zm+" ("+Keywords.Ka+")","start play automatically",b,d,a,e,f);a=this.b(c,Keywords.ig+" <1..>|"+Keywords.Ka,"loop at generation",
b,d,a,e,f);a=this.b(c,Keywords.xg+" <1..>|"+Keywords.Ka,"stop at generation",b,d,a,e,f);a=this.b(c,Keywords.kj+" <"+ViewConstants.ze+".."+ViewConstants.mi+">","set steps per second",b,d,a,e,f);a=this.b(c,Keywords.Cj+" <"+ViewConstants.pj+".."+ViewConstants.fe+">","set generations per step",b,d,a,e,f);a=this.b(c,Keywords.Aq,"always use hard reset",b,d,a,e,f);a=this.b(c,Keywords.Pm,"disable playback",b,d,a,e,f);a=this.b(c,Keywords.fr,"disable step back",b,d,a,e,f);a=this.b(c,Keywords.ir,"disable stop messages",
b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Camera"];g+=1;a=this.b(c,"","Camera:",b,d,a,e,f);a=this.b(c,Keywords.Qh+" <0..359>","set camera angle",b,d,a,e,f);a=this.b(c,Keywords.cd+" <-"+(c.a.V>>1)+".."+(c.a.V>>1)+">","set camera x position",b,d,a,e,f);a=this.b(c,Keywords.dd+" <-"+(c.a.V>>1)+".."+(c.a.V>>1)+">","set camera y position",b,d,a,e,f);a=this.b(c,Keywords.oc+" <"+Number(-1/ViewConstants.Wa).toFixed(1)+".."+ViewConstants.Ib.toFixed(1)+">","set camera zoom",b,d,a,e,f);a=this.b(c,Keywords.Gp,
"same as "+Keywords.oc,b,d,a,e,f);a=this.b(c,Keywords.Ym+" ("+Keywords.Ka+")","fit pattern to display",b,d,a,e,f);a=this.b(c,Keywords.Jq+" ("+Keywords.Ka+")","autofit uses pattern history",b,d,a,e,f);a=this.b(c,Keywords.ds+" ("+Keywords.Ka+")","autofit only uses state 1",b,d,a,e,f);a=this.b(c,Keywords.Lm+" X Y","camera tracking",b,d,a,e,f);a=this.b(c," X ","horizontal speed cells/gen",b,d,a,e,f);a=this.b(c," Y ","vertical speed cells/gen",b,d,a,e,f);a=this.b(c,Keywords.Jj+" E S W N","camera box tracking",
b,d,a,e,f);a=this.b(c," E ","east edge speed cells/gen",b,d,a,e,f);a=this.b(c," S ","south edge speed cells/gen",b,d,a,e,f);a=this.b(c," W ","west edge speed cells/gen",b,d,a,e,f);a=this.b(c," N ","north edge speed cells/gen",b,d,a,e,f);a=this.b(c,Keywords.Km+" P X Y","camera tracking with loop",b,d,a,e,f);a=this.b(c," P ","period",b,d,a,e,f);a=this.b(c," X ","horizontal speed cells/gen",b,d,a,e,f);a=this.b(c," Y ","vertical speed cells/gen",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Waypoints"];
g+=1;a=this.b(c,"","Waypoints:",b,d,a,e,f);a=this.b(c,Keywords.zm+" <0..>","waypoint at generation",b,d,a,e,f);a=this.b(c,Keywords.nr+" <0.0..>","pause for time",b,d,a,e,f);a=this.b(c,Keywords.af+" "+Keywords.Ue+"|"+Keywords.cd+"|"+Keywords.dd+"|"+Keywords.oc,"linear motion",b,d,a,e,f);a=this.b(c,Keywords.Sf+" "+Keywords.Ue+"|"+Keywords.cd+"|"+Keywords.dd+"|"+Keywords.oc,"bezier motion (default)",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"POIs"];g+=1;a=this.b(c,"","Points of interest:",b,
d,a,e,f);a=this.b(c,Keywords.Do,"define point of interest",b,d,a,e,f);a=this.b(c,Keywords.Co+" <0..>","start POI at generation",b,d,a,e,f);a=this.b(c,Keywords.hm,"reset generation at POI",b,d,a,e,f);a=this.b(c,Keywords.yk,"start playback at POI",b,d,a,e,f);a=this.b(c,Keywords.zk,"stop playback at POI",b,d,a,e,f);a=this.b(c,Keywords.im+" <"+WaypointConstants.Yu+".."+WaypointConstants.Xu+">","set POI transition speed",b,d,a,e,f);a=this.b(c,"<command>|ALL "+Keywords.Va,"use initial value for POI",b,
d,a,e,f);a=this.b(c,Keywords.Xb+"<string>"+Keywords.Xb,"define message",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Annotations"];g+=1;a=this.b(c,"","Annotations:",b,d,a,e,f);a=this.b(c,Keywords.Ml+" X Y ZOOM ("+Keywords.Yc+")","define label at position",b,d,a,e,f);a=this.b(c," "+Keywords.Xb+"<string>"+Keywords.Xb,"... optionally fix position",b,d,a,e,f);a=this.b(c,Keywords.Rq+" <"+ViewConstants.Iu+".."+ViewConstants.Bu+">","define label font size",b,d,a,e,f);a=this.b(c,Keywords.Pq+" <0.0..1.0>",
"define label font alpha",b,d,a,e,f);a=this.b(c,Keywords.Sq+" <0..> <0..> <0..>","generation range / fade",b,d,a,e,f);a=this.b(c,Keywords.Qq+" <0..359>","label angle",b,d,a,e,f);a=this.b(c," ("+Keywords.Yc+")","... optionally fix angle",b,d,a,e,f);a=this.b(c,Keywords.Tq+" X Y D|"+Keywords.Ka,"label target and distance",b,d,a,e,f);a=this.b(c,Keywords.Uq+" DX DY|"+Keywords.Yc,"label move per generation",b,d,a,e,f);a=this.b(c,Keywords.fl+" X1 Y1 X2 Y2 ZOOM","define arrow at position",b,d,a,e,f);a=this.b(c,
" ("+Keywords.Yc+")","... optionally fix position",b,d,a,e,f);a=this.b(c,Keywords.Kp+" <"+ViewConstants.so+".."+ViewConstants.lo+"> <0.0..1.0>","line width and head multiple",b,d,a,e,f);a=this.b(c,Keywords.Ip+" <0.0..1.0>","define arrow alpha",b,d,a,e,f);a=this.b(c,Keywords.Lp+" <0..> <0..> <0..>","generation range / fade",b,d,a,e,f);a=this.b(c,Keywords.Jp+" <0..359>","arrow angle",b,d,a,e,f);a=this.b(c," ("+Keywords.Yc+")","... optionally fix angle",b,d,a,e,f);a=this.b(c,Keywords.Mp+" X Y D|"+Keywords.Ka,
"arrow target and distance",b,d,a,e,f);a=this.b(c,Keywords.Np+" DX DY|"+Keywords.Yc,"arrow move per generation",b,d,a,e,f);a=this.b(c,Keywords.sr+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",b,d,a,e,f);a=this.b(c," ("+Keywords.Yc+")","... optionally fix position",b,d,a,e,f);a=this.b(c,Keywords.Eo+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",b,d,a,e,f);a=this.b(c," ("+Keywords.Yc+")","... optionally fix position",b,d,a,e,f);a=this.b(c,Keywords.tr+" <"+ViewConstants.so+".."+ViewConstants.lo+">",
"line width",b,d,a,e,f);a=this.b(c,Keywords.qr+" <0.0..1.0>","define polygon alpha",b,d,a,e,f);a=this.b(c,Keywords.ur+" <0..> <0..> <0..>","generation range / fade",b,d,a,e,f);a=this.b(c,Keywords.rr+" <0..359>","polygon angle",b,d,a,e,f);a=this.b(c," ("+Keywords.Yc+")","... optionally fix angle",b,d,a,e,f);a=this.b(c,Keywords.vr+" X Y D|"+Keywords.Ka,"polygon target and distance",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Display"];g+=1;a=this.b(c,"","Display:",b,d,a,e,f);a=this.b(c,Keywords.Pk+
" <"+ViewConstants.td+".."+c.Hg+">","set LifeViewer width",b,d,a,e,f);a=this.b(c,Keywords.jk+" <"+ViewConstants.rk+".."+ViewConstants.oo+">","set LifeViewer height",b,d,a,e,f);a=this.b(c,Keywords.km+" <"+ViewConstants.td+".."+c.Hg+">","set popup width",b,d,a,e,f);a=this.b(c,Keywords.jm+" <"+ViewConstants.rk+".."+ViewConstants.oo+">","set popup height",b,d,a,e,f);a=this.b(c,Keywords.Lk+" "+Keywords.Xb+"<string>"+Keywords.Xb,"set popup window title",b,d,a,e,f);a=this.b(c," "+Keywords.Oe+"B","program build number",
b,d,a,e,f);a=this.b(c," "+Keywords.Oe+"N","pattern name",b,d,a,e,f);a=this.b(c," "+Keywords.Oe+"O","pattern originator",b,d,a,e,f);a=this.b(c," "+Keywords.Oe+"R","rule name",b,d,a,e,f);a=this.b(c," "+Keywords.Oe+"A","rule alias",b,d,a,e,f);a=this.b(c," "+Keywords.Oe+"T","program title",b,d,a,e,f);a=this.b(c," "+Keywords.Oe+Keywords.Oe,Keywords.Oe+" symbol",b,d,a,e,f);a=this.b(c,Keywords.oj+" <"+ViewConstants.ro+".."+ViewConstants.ko+">","set number of layers",b,d,a,e,f);a=this.b(c,Keywords.dj+" <"+
ViewConstants.qo.toFixed(1)+".."+ViewConstants.zu.toFixed(1)+">","set layer depth",b,d,a,e,f);a=this.b(c,Keywords.Hl+" ("+Keywords.Ka+")","display grid lines",b,d,a,e,f);a=this.b(c,Keywords.Gl+" <0..16>","set major grid line interval",b,d,a,e,f);a=this.b(c,Keywords.Vn+" <0.."+(2<c.a.g?1:63)+">","number of history states",b,d,a,e,f);a=this.b(c,Keywords.ym+" ("+Keywords.Ka+")","display stars",b,d,a,e,f);a=this.b(c,Keywords.Fq,"force hex display",b,d,a,e,f);a=this.b(c,Keywords.Yr,"force square display",
b,d,a,e,f);a=this.b(c,Keywords.Eq,"hexagonal cells for hex",b,d,a,e,f);a=this.b(c,Keywords.Xr,"square cells for hex",b,d,a,e,f);a=this.b(c,Keywords.er,"disable menus and hotkeys",b,d,a,e,f);a=this.b(c,Keywords.eu,"hide menus during playback",b,d,a,e,f);a=this.b(c,Keywords.Ur,"show timing information",b,d,a,e,f);a=this.b(c,Keywords.sq,"extended timing information",b,d,a,e,f);a=this.b(c,Keywords.Sr,"show generation statistics",b,d,a,e,f);a=this.b(c,Keywords.Tr,"show information bar",b,d,a,e,f);a=this.b(c,
Keywords.hr,"hide performance warning",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Thumb"];g+=1;a=this.b(c,"","Thumbnails:",b,d,a,e,f);a=this.b(c,Keywords.ss+" ("+Keywords.Ka+")","start at 1/"+c.Fc+" size",b,d,a,e,f);a=this.b(c,Keywords.qs+" <"+ViewConstants.Ku+".."+ViewConstants.Eu+">","set thumbnail divisor",b,d,a,e,f);a=this.b(c,Keywords.os+" ("+Keywords.Ka+")","thumbnail launches viewer",b,d,a,e,f);a=this.b(c,Keywords.rs+" <"+Number(-1/ViewConstants.Wa).toFixed(1)+".."+ViewConstants.Ib.toFixed(1)+
">","set thumbnail zoom",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Graph"];g+=1;a=this.b(c,"","Population Graph:",b,d,a,e,f);a=this.b(c,Keywords.Nn,"display population graph",b,d,a,e,f);a=this.b(c,Keywords.vq+" <0.0..1.0>","population graph opacity",b,d,a,e,f);a=this.b(c,Keywords.wq,"population graph use points",b,d,a,e,f);a=this.b(c,Keywords.wo,"disable population graph",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Colours"];g+=1;a=this.b(c,"","Colours:",b,d,a,e,f);a=this.b(c,Keywords.yh+
" <0.."+(c.a.ge-1)+">|<name>","set theme",b,d,a,e,f);a=this.b(c," <name> = "+Keywords.Kk,"set custom theme",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Yo+" R G B","set theme background",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Xo+" R G B","set theme alive color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.ms+" R G B","set theme alive ramp",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.$o+" R G B","set theme dead color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Zo+" R G B","set theme dead ramp",
b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.lt+" R G B","set boundary color",b,d,a,e,f);a=this.b(c,Keywords.ra+" <0.."+String(c.uh-1)+"> R G B","set state color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Ou+" R G B","set [R]History state color "+ViewConstants.Pu,b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Qu+" R G B","set [R]History state color "+ViewConstants.Ru,b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.fu+" R G B","set [R]History state color "+ViewConstants.gu,b,d,a,e,f);a=this.b(c,
Keywords.ra+" "+Keywords.su+" R G B","set [R]History state color "+ViewConstants.tu,b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.wu+" R G B","set [R]History state color "+ViewConstants.xu,b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.uu+" R G B","set [R]History state color "+ViewConstants.vu,b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.mu+" R G B","set [R]History state color "+ViewConstants.nu,b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Hl+" R G B","set grid color",b,d,a,e,f);a=this.b(c,Keywords.ra+
" "+Keywords.Gl+" R G B","set grid major color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.ym+" R G B","set star color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.ks+" R G B","set waypoint message color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.qq+" R G B","set error message color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Wt+" R G B","set graph background color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Vt+" R G B","set graph axis color",b,d,a,e,f);a=this.b(c,Keywords.ra+
" "+Keywords.Ut+" R G B","set graph alive color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Xt+" R G B","set graph birth color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Yt+" R G B","set graph death color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Ml+" R G B","set label text color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.fl+" R G B","set arrow line color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.bv+" R G B","set polygon color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Vv+
" R G B","set UI foreground color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Tv+" R G B","set UI background color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Wv+" R G B","set UI highlight text color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Yv+" R G B","set UI selected color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Xv+" R G B","set UI locked color",b,d,a,e,f);a=this.b(c,Keywords.ra+" "+Keywords.Uv+" R G B","set UI border color",b,d,a,e,f);a=this.b(c,Keywords.Vp,"same as "+Keywords.ra,
b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[g]=[c.M,"Pattern"];a=this.b(c,"","Pattern:",b,d,a,e,f);a=this.b(c,Keywords.jp+" <-"+(c.a.V>>1)+".."+(c.a.V>>1)+">","set pattern x offset",b,d,a,e,f);a=this.b(c,Keywords.kp+" <-"+(c.a.V>>1)+".."+(c.a.V>>1)+">","set pattern y offset",b,d,a,e,f);a=this.b(c,Keywords.iq+" <"+ViewConstants.Gu+".."+ViewConstants.yu+">","set boundary delete range",b,d,a,e,f);a=this.b(c,Keywords.dr,"disable pattern source copy",b,d,a,e,f);a=this.b(c,Keywords.jr,"hide pattern source",
b,d,a,e,f);this.b(c,Keywords.$q+" <"+ViewConstants.Hu+".."+ViewConstants.Au+">","set maximum grid size 2^n",b,d,a,e,f)},Hz:function(c,b,d,a,e,f){var g,l=Controller.mc.length,E=c.Uc,M=c.a.La[c.a.te];var G="";var r=0;c.M=1;c.ke=!1;c.R=[];c.P[0]=128;c.R[r]=[c.M,"Top"];r+=1;a=this.b(c,"","Information",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Display"];r+=1;a=this.b(c,"","Display:",b,d,a,e,f);a=this.b(c,"Size",c.A+" x "+c.v,b,d,a,e,f);DocConfig.Rl&&(a=this.b(c,"Limit Width",c.Hg,b,d,a,e,f));
var k=c.a.ma;1>k&&(k=-1/k);a=this.b(c,"View","X "+-(c.a.width/2-(c.a.da+c.a.Bb)|0)+"  Y "+-(c.a.height/2-(c.a.aa+c.a.vb)|0)+"  Z "+k.toFixed(2)+"  ANGLE "+c.a.angle.toFixed(0),b,d,a,e,f);k=c.Bk;1>k&&(k=1/k);a=this.b(c,"Saved View","X "+-(c.a.width/2-c.he|0)+"  Y "+-(c.a.height/2-c.yj|0)+"  Z "+k.toFixed(2)+"  ANGLE "+c.Lr.toFixed(0),b,d,a,e,f);a=this.b(c,"Origin","X "+c.a.Bb.toFixed(2)+"  Y "+c.a.vb.toFixed(2)+"  Z "+c.a.Pb.toFixed(3),b,d,a,e,f);c.Yb?G=c.Vb?"Multi-State Viewer":"Viewer":c.a.Dc&&(G=
"History Player");a=this.b(c,"Type",G,b,d,a,e,f);G=c.a.S?"Hexagonal":c.a.ca?"Triangular":"Square";a=this.b(c,"Mode",G,b,d,a,e,f);G=c.a.S&&c.a.Ne?"Hexagonal":c.a.ca?"Triangular":"Square";a=this.b(c,"Cells",G,b,d,a,e,f);c.zh&&(a=this.b(c,"Thumbnail","1/"+c.Fc,b,d,a,e,f));a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Pattern"];r+=1;a=this.b(c,"","Pattern:",b,d,a,e,f);""!==c.tk&&(a=this.b(c,"Name",c.tk,b,d,a,e,f));""!==c.em&&(a=this.b(c,"Originator",c.em,b,d,a,e,f));a=this.b(c,"Actual Size",c.pg+" x "+c.Kg,
b,d,a,e,f);-1!==c.Rg&&-1!==c.Qg&&(a=this.b(c,"Specified",c.Rg+" x "+c.Qg,b,d,a,e,f));a=this.b(c,"Offset","X "+c.zd+"  Y "+c.Ad,b,d,a,e,f);c.$h&&(a=this.b(c,"CXRLE Gen",c.Kn,b,d,a,e,f));c.sg&&(a=this.b(c,"CXRLE Pos","X "+c.vi+"  Y "+c.wi,b,d,a,e,f));c.Os&&(a=this.b(c,"Clipped",(0===c.a.la?"Inf":c.a.la)+" x "+(0===c.a.na?"Inf":c.a.na)+" "+PatternManager.mt(c.a.ka),b,d,a,e,f));c.xa?G=c.Lg:(G=c.Lg,""===G&&(G="(none)"));if("MAP"===G.substr(0,3)&&G.length===PatternManager.qk+3)for(a=this.b(c,"Rule","MAP",
b,d,a,e,f),k=3;k<PatternManager.qk+3;)a=this.b(c,"  "+(k-3),G.substr(k,16),b,d,a,e,f),k+=16;else c.ke=!0,a=this.b(c,"Rule",G,b,d,a,e,f),c.ke=!1;""!==c.Mf&&(a=this.b(c,"Alias",c.Mf,b,d,a,e,f));-1!==c.a.Pe?G="1D":c.a.dm?G="Hex":c.a.sa?(G=c.a.Ub.type===PatternManager.bf?"Moore":c.a.Ub.type===PatternManager.jf?"von Neumann":"Circular",1<c.a.Ub.uc&&(G+=" range "+c.a.Ub.uc)):c.a.ca?(G="Triangular",c.a.vc===PatternManager.Mk?G+=" Edges":c.a.vc===PatternManager.Nk&&(G+=" Vertices")):G=c.a.Md?"von Neumann":
"Moore";a=this.b(c,"N'hood",G,b,d,a,e,f);G=c.uh;2<c.uh&&c.gm!==c.uh&&(G=c.gm+" of "+G);a=this.b(c,"States",G,b,d,a,e,f);if(c.fm)for(g=1;g<c.uh;g+=1)c.fm[g]&&(a=this.b(c,"State "+g,c.fm[g],b,d,a,e,f));a=this.b(c,"Decoder",c.og,b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Grid"];r+=1;a=this.b(c,"","Grid:",b,d,a,e,f);a=this.b(c,"Size",c.a.width+" x "+c.a.height,b,d,a,e,f);a=this.b(c,"Maximum",c.a.V+" x "+c.a.V,b,d,a,e,f);a=this.b(c,"Area",this.Vw(c),b,d,a,e,f);a=0!==(c.a.s&1)?this.b(c,"Tiles",
c.a.Em(c.a.Ja)+" / "+c.a.Em(c.a.Xa),b,d,a,e,f):this.b(c,"Tiles",c.a.Em(c.a.qa)+" / "+c.a.Em(c.a.Xa),b,d,a,e,f);c.a.je&&(a=this.b(c,"State6",c.a.Em(c.a.je),b,d,a,e,f));a=this.b(c,"Tile Size",(c.a.Fm<<3)+" x "+c.a.Gm,b,d,a,e,f);a=this.b(c,"Generation",c.a.s,b,d,a,e,f);a=this.b(c,"DeleteRange",c.a.mm,b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);-1!==c.a.ka&&(c.R[r]=[c.M,"Bounded"],r+=1,a=this.b(c,"","Bounded grid:",b,d,a,e,f),a=this.b(c,"Type",PatternManager.mt(c.a.ka),b,d,a,e,f),a=0===c.a.la?this.b(c,"Width",
"Infinite",b,d,a,e,f):this.b(c,"Width",c.a.la,b,d,a,e,f),4!==c.a.ka&&(a=0===c.a.na?this.b(c,"Height","Infinite",b,d,a,e,f):this.b(c,"Height",c.a.na,b,d,a,e,f),2===c.a.ka&&(a=c.a.Rp?this.b(c,"Twist","Horizontal",b,d,a,e,f):this.b(c,"Twist","Vertical",b,d,a,e,f)),0!==c.a.jl&&(a=this.b(c,"H'Shift",c.a.jl,b,d,a,e,f)),0!==c.a.kl&&(a=this.b(c,"V'Shift",c.a.kl,b,d,a,e,f))),a=this.b(c,"","",b,d,a,e,f));c.R[r]=[c.M,"AutoFit"];r+=1;a=this.b(c,"","AutoFit:",b,d,a,e,f);a=this.b(c,"Enabled",c.pb?"On":"Off",b,
d,a,e,f);a=this.b(c,"Mode",this.cx(c),b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Track"];r+=1;a=this.b(c,"","Track:",b,d,a,e,f);a=this.b(c,"Enabled",c.fc&&!c.gc?"On":"Off",b,d,a,e,f);c.fc&&(c.Ij?(a=this.b(c,"Mode","Track Box",b,d,a,e,f),a=this.b(c,"Definition","E "+c.Yg.toFixed(3)+"  S "+c.Zg.toFixed(3)+"  W "+c.Bh.toFixed(3)+"  N "+c.Ah.toFixed(3),b,d,a,e,f)):(a=this.b(c,"Mode","Track",b,d,a,e,f),a=this.b(c,"Definition","X "+c.Yg.toFixed(3)+"  Y "+c.Zg.toFixed(3),b,d,a,e,f)));a=this.b(c,
"Current","E "+c.gn.toFixed(3)+"  S "+c.jn.toFixed(3)+"  W "+c.kn.toFixed(3)+"  N "+c.hn.toFixed(3),b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Snapshots"];r+=1;a=this.b(c,"","Step back:",b,d,a,e,f);a=this.b(c,"Enabled",c.Lf?"Off":"On",b,d,a,e,f);if(!c.Lf){a=this.b(c,"Snapshots",c.a.Sd.VA()+"/"+c.a.Sd.rf.length,b,d,a,e,f);g=0;k=c.a.Sd.He.length;if(0<k)for(a=this.b(c,"Reset Gens",k,b,d,a,e,f);g<k;)a=this.b(c,String(g),c.a.Sd.He[g].s,b,d,a,e,f),g+=1;a=this.b(c,"Buffer",(c.a.Sd.bufferSize()>>
10)+"K",b,d,a,e,f);a=this.b(c,"Next Gen",c.a.sj,b,d,a,e,f)}a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Engine"];r+=1;a=this.b(c,"","Engine:",b,d,a,e,f);a=this.b(c,"Name",ViewConstants.bw,b,d,a,e,f);a=this.b(c,"Build",ViewConstants.Fs,b,d,a,e,f);a=this.b(c,"Author",ViewConstants.aw,b,d,a,e,f);a=this.b(c,"Decoders","RLE, Life 1.06, Life 1.05, Cells",b,d,a,e,f);a=this.b(c,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",b,d,a,e,f);a=this.b(c,"Rules","Wolfram, Totalistic, Generations,",b,d,a,e,f);a=this.b(c,
" ","Isotropic Non-Totalistic (Hensel, Callahan),",b,d,a,e,f);a=this.b(c," ","Alternating, MAP, Larger than Life (LtL),",b,d,a,e,f);a=this.b(c," ","Higher-range outer-totalistic (HROT)",b,d,a,e,f);a=this.b(c,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",b,d,a,e,f);a=this.b(c,"States","2 state, [R]History, Niemiec, Generations",b,d,a,e,f);a=this.b(c,"Viewers",l,b,d,a,e,f);a=this.b(c,"Playing",Controller.$A(),b,d,a,e,f);if(DocConfig.Ia){k=Controller.Ec.length;a=this.b(c,"Universe","Multi ("+
(c.Lb+1)+" of "+k+")",b,d,a,e,f);c.ke=!0;for(g=0;g<k;g+=1)a=this.b(c,String(g+1)+(g===c.Lb?"*":""),Controller.Ec[g].name,b,d,a,e,f),a=this.b(c," ",Controller.Ec[g].Yz,b,d,a,e,f),a=this.b(c," ",Controller.Ec[g].width+" x "+Controller.Ec[g].height,b,d,a,e,f);c.ke=!1}else a=this.b(c,"Universe","Single",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.P[1]=210;c.P[2]=270;c.P[3]=330;if(c.Vb)for(c.R[r]=[c.M,"Colours"],r+=1,a=this.b(c,"","Set:",b,d,a,e,f),a=this.b(c,"Name",c.Zj,b,d,a,e,f),a=this.b(c,"Used",c.gm,
b,d,a,e,f),g=0;g<c.aj.length;g+=1)c.aj[g]!==ViewConstants.es&&(l=this.Qb(E[g]>>16&255,E[g]>>8&255,E[g]&255),G=String(g),c.aj[g]!==ViewConstants.Hv||c.Tm||(G+="*"),this.Da(c,E[g]>>16,E[g]>>8&255,E[g]&255,b,d+c.P[0],a,e,f),a=this.b(c,G,l,b,d,a,e,f));else{c.R[r]=[c.M,"Theme"];r+=1;a=this.b(c,"","Theme:",b,d,a,e,f);a=this.b(c,"Name",c.a.La[c.a.te].name,b,d,a,e,f);a=this.b(c,"History",c.ba,b,d,a,e,f);this.Da(c,c.a.Qa[0],c.a.Pa[0],c.a.Ma[0],b,d+c.P[0],a,e,f);a=this.b(c,"Background",this.Qb(c.a.Qa[0],c.a.Pa[0],
c.a.Ma[0]),b,d,a,e,f);if(c.a.Hb)for(g=1;g<c.a.g;g+=1)this.Da(c,c.a.Qa[g],c.a.Pa[g],c.a.Ma[g],b,d+c.P[0],a,e,f),a=this.b(c,"State "+g,this.Qb(c.a.Qa[g],c.a.Pa[g],c.a.Ma[g]),b,d,a,e,f);else if(2<c.a.g){G=c.a.g+c.ba-1;this.Da(c,c.a.Qa[G],c.a.Pa[G],c.a.Ma[G],b,d+c.P[0],a,e,f);a=this.b(c,"Alive",this.Qb(c.a.Qa[G],c.a.Pa[G],c.a.Ma[G]),b,d,a,e,f);for(g=1;g<c.a.g-1;g+=1)G=c.a.g-g+c.ba-1,this.Da(c,c.a.Qa[G],c.a.Pa[G],c.a.Ma[G],b,d+c.P[0],a,e,f),a=this.b(c,"Dying "+g,this.Qb(c.a.Qa[G],c.a.Pa[G],c.a.Ma[G]),
b,d,a,e,f);0<c.ba&&(G=c.ba,this.Da(c,c.a.Qa[G],c.a.Pa[G],c.a.Ma[G],b,d+c.P[0],a,e,f),a=this.b(c,"Dead",this.Qb(c.a.Qa[G],c.a.Pa[G],c.a.Ma[G]),b,d,a,e,f),1<c.ba&&(G=1,this.Da(c,c.a.Qa[G],c.a.Pa[G],c.a.Ma[G],b,d+c.P[0],a,e,f),a=this.b(c,"DeadRamp",this.Qb(c.a.Qa[G],c.a.Pa[G],c.a.Ma[G]),b,d,a,e,f)))}else this.Da(c,M.za.B.red,M.za.B.green,M.za.B.blue,b,d+c.P[0],a,e,f),a=this.b(c,"Alive",this.Qd(M.za.B),b,d,a,e,f),M.za.B.red!==M.za.D.red||M.za.B.green!==M.za.D.green||M.za.B.blue!==M.za.D.blue?(this.Da(c,
M.za.D.red,M.za.D.green,M.za.D.blue,b,d+c.P[0],a,e,f),a=this.b(c,"AliveRamp",this.Qd(M.za.D),b,d,a,e,f)):a=this.b(c,"AliveRamp","    (none)",b,d,a,e,f),0<c.ba&&(this.Da(c,M.wa.D.red,M.wa.D.green,M.wa.D.blue,b,d+c.P[0],a,e,f),a=this.b(c,"Dead",this.Qd(M.wa.D),b,d,a,e,f),1<c.ba&&(M.wa.B.red!==M.wa.D.red||M.wa.B.green!==M.wa.D.green||M.wa.B.blue!==M.wa.D.blue?(this.Da(c,M.wa.B.red,M.wa.B.green,M.wa.B.blue,b,d+c.P[0],a,e,f),a=this.b(c,"DeadRamp",this.Qd(M.wa.B),b,d,a,e,f)):a=this.b(c,"DeadRamp","    (none)",
b,d,a,e,f)));if(c.a.Dc)for(g=3;6>=g;g+=1)k=128+ViewConstants.hb[g],l=this.Qb(c.a.Qa[k],c.a.Pa[k],c.a.Ma[k]),G=ViewConstants.Gv[g],this.Da(c,c.a.Qa[k],c.a.Pa[k],c.a.Ma[k],b,d+c.P[0],a,e,f),a=this.b(c,G,l,b,d,a,e,f)}this.Da(c,c.Th[0],c.Th[1],c.Th[2],b,d+c.P[0],a,e,f);a=this.b(c,"Boundary",this.Qb(c.Th[0],c.Th[1],c.Th[2]),b,d,a,e,f);c.We&&(this.Da(c,c.We[0],c.We[1],c.We[2],b,d+c.P[0],a,e,f),a=this.b(c,"Text",this.Qb(c.We[0],c.We[1],c.We[2]),b,d,a,e,f));c.ih&&(this.Da(c,c.ih[0],c.ih[1],c.ih[2],b,d+c.P[0],
a,e,f),a=this.b(c,"Error",this.Qb(c.ih[0],c.ih[1],c.ih[2]),b,d,a,e,f));a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Grid Lines"];r+=1;a=this.b(c,"","Grid Lines:",b,d,a,e,f);G=c.a.jb?"On":"Off";c.a.jb&&!c.a.hh()&&(G+=" (Hidden)");a=this.b(c,"Enabled",G,b,d,a,e,f);this.Da(c,c.a.rc>>16,c.a.rc>>8&255,c.a.rc&255,b,d+c.P[0],a,e,f);a=this.b(c,"Line Color",this.Qb(c.a.rc>>16,c.a.rc>>8&255,c.a.rc&255),b,d,a,e,f);this.Da(c,c.a.de>>16,c.a.de>>8&255,c.a.de&255,b,d+c.P[0],a,e,f);a=this.b(c,"Major Color",this.Qb(c.a.de>>
16,c.a.de>>8&255,c.a.de&255),b,d,a,e,f);G=0<c.a.$e&&c.a.mh?String(c.a.$e):"Off";a=this.b(c,"Interval",G,b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Graph"];r+=1;a=this.b(c,"","Population Graph:",b,d,a,e,f);a=this.b(c,"Enabled",c.gb?"On":"Off",b,d,a,e,f);a=this.b(c,"Disabled",c.Oc?"On":"Off",b,d,a,e,f);a=this.b(c,"Mode",c.Fe?"Lines":"Points",b,d,a,e,f);a=this.b(c,"Opacity",c.Wb.toFixed(2),b,d,a,e,f);this.Da(c,c.a.$f[0],c.a.$f[1],c.a.$f[2],b,d+c.P[0],a,e,f);a=this.b(c,"Bg Color",this.Qb(c.a.$f[0],
c.a.$f[1],c.a.$f[2]),b,d,a,e,f);this.Da(c,c.a.Zf[0],c.a.Zf[1],c.a.Zf[2],b,d+c.P[0],a,e,f);a=this.b(c,"Axis Color",this.Qb(c.a.Zf[0],c.a.Zf[1],c.a.Zf[2]),b,d,a,e,f);this.Da(c,c.a.Yf[0],c.a.Yf[1],c.a.Yf[2],b,d+c.P[0],a,e,f);a=this.b(c,"Alive Color",this.Qb(c.a.Yf[0],c.a.Yf[1],c.a.Yf[2]),b,d,a,e,f);this.Da(c,c.a.ag[0],c.a.ag[1],c.a.ag[2],b,d+c.P[0],a,e,f);a=this.b(c,"Birth Color",this.Qb(c.a.ag[0],c.a.ag[1],c.a.ag[2]),b,d,a,e,f);this.Da(c,c.a.bg[0],c.a.bg[1],c.a.bg[2],b,d+c.P[0],a,e,f);a=this.b(c,"Death Color",
this.Qb(c.a.bg[0],c.a.bg[1],c.a.bg[2]),b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Stars"];r+=1;a=this.b(c,"","Stars:",b,d,a,e,f);a=this.b(c,"Enabled",c.wg?"On":"Off",b,d,a,e,f);this.Da(c,c.vh.red,c.vh.green,c.vh.blue,b,d+c.P[0],a,e,f);a=this.b(c,"Color",this.Qd(c.vh),b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[r]=[c.M,"Script"];r+=1;a=this.b(c,"","Script:",b,d,a,e,f);a=this.b(c,"Commands",c.am,b,d,a,e,f);a=this.b(c,"Errors",c.lr,b,d,a,e,f);if(c.Tb)for(a=this.b(c,"","",b,d,a,e,f),c.R[r]=[c.M,
"Waypoints"],r+=1,a=this.b(c,"","Waypoints:",b,d,a,e,f),a=this.b(c,"Enabled",c.nc?"Off":"On",b,d,a,e,f),a=this.b(c,"Number",c.w.ja.length,b,d,a,e,f),g=0;g<c.w.ja.length;g+=1)G=String(g),g===c.w.xh&&(G=c.w.Qp(c.elapsedTime)?G+">":G+"*"),a=this.b(c,G,c.w.aB(g),b,d,a,e,f);if(c.w.wb.length)for(a=this.b(c,"","",b,d,a,e,f),c.R[r]=[c.M,"POIs"],a=this.b(c,"","Points of interest:",b,d,a,e,f),a=this.b(c,"Number",c.w.wb.length,b,d,a,e,f),g=0;g<c.w.wb.length;g+=1)G=String(g+1),g===c.ve&&(G+="*"),g===c.bj&&(G+=
" INITIAL"),r=!1,k=c.w.hz(g),""!==k&&(a=this.b(c,r?" ":G,(r?"  ":"")+k,b,d,a,e,f),r=!0),k=c.w.lz(g),""!==k&&(a=this.b(c,r?" ":G,(r?"  ":"")+k,b,d,a,e,f),r=!0),k=c.w.iz(g),""!==k&&(a=this.b(c,r?" ":G,(r?"  ":"")+k,b,d,a,e,f),r=!0),k=c.w.Wu(g),""!==k&&(a=this.b(c,r?" ":G,(r?"  ":"")+k,b,d,a,e,f),r=!0),k=c.w.kz(g),""!==k&&(a=this.b(c,r?" ":G,(r?"  ":"")+k,b,d,a,e,f),r=!0),k=c.w.jz(g),""!==k&&(a=this.b(c,r?" ":G,(r?"  ":"")+k,b,d,a,e,f))},Lz:function(c,b,d,a,e,f){var g,l=0;c.M=1;c.ke=!1;c.R=[];c.P[0]=
130;c.P[1]=200;c.P[2]=250;c.P[3]=300;c.R[l]=[c.M,"Top"];l+=1;a=this.b(c,"","Themes",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);a=this.b(c,"","Themes are used to provide a visual representation of",b,d,a,e,f);a=this.b(c,"","cell history and longevity",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);c.R[l]=[c.M,"2-State"];l+=1;a=this.b(c,"","Two-state Themes:",b,d,a,e,f);a=this.b(c,"BACKGROUND","cell never occupied",b,d,a,e,f);a=this.b(c,"ALIVE","cell just born",b,d,a,e,f);a=this.b(c,"ALIVERAMP","cell alive for several generations",
b,d,a,e,f);a=this.b(c,"DEAD","cell just died",b,d,a,e,f);a=this.b(c,"DEADRAMP","cell dead for several generations",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);a=this.b(c,"",LifeConstants.pc-LifeConstants.cb+1+" states from ALIVE to ALIVERAMP",b,d,a,e,f);a=this.b(c,"",c.ba+" (HISTORYSTATES) states from DEAD to DEADRAMP",b,d,a,e,f);for(g=0;g<c.a.La.length-1;g+=1){a=this.b(c,"","",b,d,a,e,f);var E=c.a.La[g];a=this.b(c,"Name"+(g===c.a.te&&2>=c.a.g?"*":""),E.name,b,d,a,e,f);this.Da(c,E.Ra.red,E.Ra.green,E.Ra.blue,
b,d+c.P[0],a,e,f);a=this.b(c,"BACKGROUND",this.Qd(E.Ra),b,d,a,e,f);this.Da(c,E.za.B.red,E.za.B.green,E.za.B.blue,b,d+c.P[0],a,e,f);a=this.b(c,"ALIVE",this.Qd(E.za.B),b,d,a,e,f);if(E.za.B.red!==E.za.D.red||E.za.B.green!==E.za.D.green||E.za.B.blue!==E.za.D.blue)this.Da(c,E.za.D.red,E.za.D.green,E.za.D.blue,b,d+c.P[0],a,e,f),a=this.b(c,"ALIVERAMP",this.Qd(E.za.D),b,d,a,e,f);this.Da(c,E.wa.D.red,E.wa.D.green,E.wa.D.blue,b,d+c.P[0],a,e,f);a=this.b(c,"DEAD",this.Qd(E.wa.D),b,d,a,e,f);if(E.wa.B.red!==E.wa.D.red||
E.wa.B.green!==E.wa.D.green||E.wa.B.blue!==E.wa.D.blue)this.Da(c,E.wa.B.red,E.wa.B.green,E.wa.B.blue,b,d+c.P[0],a,e,f),a=this.b(c,"DEADRAMP",this.Qd(E.wa.B),b,d,a,e,f);E.lj&&(this.Da(c,E.Af>>16,E.Af>>8&255,E.Af&255,b,d+c.P[0],a,e,f),a=this.b(c,"GRID",this.Qb(E.Af>>16,E.Af>>8&255,E.Af&255),b,d,a,e,f),this.Da(c,E.Bf>>16,E.Bf>>8&255,E.Bf&255,b,d+c.P[0],a,e,f),a=this.b(c,"GRIDMAJOR",this.Qb(E.Bf>>16,E.Bf>>8&255,E.Bf&255),b,d,a,e,f),a=this.b(c,"GRIDMAJOR",E.yq,b,d,a,e,f))}a=this.b(c,"","",b,d,a,e,f);c.R[l]=
[c.M,"Multi"];a=this.b(c,"","Multi-state Themes:",b,d,a,e,f);a=this.b(c,"BACKGROUND","cell never occupied",b,d,a,e,f);a=this.b(c,"ALIVE","cell alive",b,d,a,e,f);a=this.b(c,"DYING","cell just starting dying",b,d,a,e,f);a=this.b(c,"DYINGRAMP","cell about to die",b,d,a,e,f);a=this.b(c,"DEAD","cell just died",b,d,a,e,f);a=this.b(c,"DEADRAMP","cell dead for several generations",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);a=this.b(c,"","Rule defines "+(2>c.a.g?"":String(c.a.g-1)+" ")+"states from DYING to DYINGRAMP",
b,d,a,e,f);a=this.b(c,"",c.ba+" (HISTORYSTATES) states from DEAD to DEADRAMP",b,d,a,e,f);for(g=0;g<c.a.La.length-1;g+=1){a=this.b(c,"","",b,d,a,e,f);E=c.a.La[g];a=this.b(c,"Name"+(g===c.a.te&&2<c.a.g?"*":""),E.name,b,d,a,e,f);this.Da(c,E.ah.red,E.ah.green,E.ah.blue,b,d+c.P[0],a,e,f);a=this.b(c,"BACKGROUND",this.Qd(E.ah),b,d,a,e,f);this.Da(c,E.Te.red,E.Te.green,E.Te.blue,b,d+c.P[0],a,e,f);a=this.b(c,"ALIVE",this.Qd(E.Te),b,d,a,e,f);this.Da(c,E.Ua.D.red,E.Ua.D.green,E.Ua.D.blue,b,d+c.P[0],a,e,f);a=
this.b(c,"DYING",this.Qd(E.Ua.D),b,d,a,e,f);if(E.Ua.B.red!==E.Ua.D.red||E.Ua.B.green!==E.Ua.D.green||E.Ua.B.blue!==E.Ua.D.blue)this.Da(c,E.Ua.B.red,E.Ua.B.green,E.Ua.B.blue,b,d+c.P[0],a,e,f),a=this.b(c,"DYINGRAMP",this.Qd(E.Ua.B),b,d,a,e,f);this.Da(c,E.Fb.D.red,E.Fb.D.green,E.Fb.D.blue,b,d+c.P[0],a,e,f);a=this.b(c,"DEAD",this.Qd(E.Fb.D),b,d,a,e,f);if(E.Fb.B.red!==E.Fb.D.red||E.Fb.B.green!==E.Fb.D.green||E.Fb.B.blue!==E.Fb.D.blue)this.Da(c,E.Fb.B.red,E.Fb.B.green,E.Fb.B.blue,b,d+c.P[0],a,e,f),a=this.b(c,
"DEADRAMP",this.Qd(E.Fb.B),b,d,a,e,f)}},Dz:function(c,b,d,a,e,f){var g,l=ColourManager.Uc,E=Object.keys(l);c.M=1;c.ke=!1;c.R=[];c.P[0]=260;c.P[1]=330;c.P[2]=380;c.P[3]=c.A;c.R[0]=[c.M,"Top"];a=this.b(c,"","Colours",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);a=this.b(c,"","The following names can be used in place of R G B",b,d,a,e,f);a=this.b(c,"","for example [[ COLOUR ALIVE Green ]]",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);for(g=0;g<E.length;g+=1){var M=l[E[g]];this.Da(c,M[1],M[2],M[3],b,d+c.P[0],a,e,
f);a=this.b(c,M[0],this.Qb(M[1],M[2],M[3]),b,d,a,e,f)}},Bz:function(c,b,d,a,e,f){var g,l=0,E=AliasManager.c,M=AliasManager.ff;c.M=1;c.ke=!1;c.R=[];c.P[0]=260;c.R[l]=[c.M,"Top"];l+=1;a=this.b(c,"","Aliases",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);a=this.b(c,"","Alias names can be used as rule names in RLE",b,d,a,e,f);a=this.b(c,"","for example 'rule = HighLife'",b,d,a,e,f);c.ke=!0;for(g=0;g<E.length;g+=1)""===E[g][1]?(a=this.b(c,"","",b,d,a,e,f),c.R[l]=[c.M,M[l-1]],l+=1,a=this.b(c,"",E[g][0]+" Aliases:",
b,d,a,e,f)):""!==E[g][0]&&(a=this.b(c,E[g][0]+(E[g][2]?"*":""),E[g][1],b,d,a,e,f))},Jz:function(c,b,d,a,e,f){var g,l=0,E=Controller.mc.length,M=0,G=0,r=0,k=0,w;c.M=1;c.ke=!1;c.R=[];c.P[0]=128;c.P[1]=200;c.P[2]=290;c.P[3]=530;c.R[l]=[c.M,"Top"];l+=1;a=this.b(c,"","Memory usage",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f);if(1<E){c.R[l]=[c.M,"All"];l+=1;a=this.b(c,"","Memory (all "+E+" LifeViewers):",b,d,a,e,f);for(g=0;g<E;g+=1)if(w=Controller.py(g))M+=w.a.j.Yl,r+=w.a.j.Gj>>10,G+=w.a.j.$l,k+=w.a.j.Hj>>10;
a=this.b(c,"Allocations",M+"\t"+(r>>10)+"M",b,d,a,e,f);a=this.b(c,"Frees",G+"\t"+(k>>10)+"M",b,d,a,e,f);a=this.b(c,"In Use",M-G+"\t"+((r>>10)-(k>>10))+"M",b,d,a,e,f);a=this.b(c,"","",b,d,a,e,f)}c.R[l]=[c.M,"Current"];a=this.b(c,"","Memory (this LifeViewer):",b,d,a,e,f);a=this.b(c,"Allocations",c.a.j.Yl+"\t"+this.Op(c.a.j.Gj)+"M\t"+c.a.j.Gj,b,d,a,e,f);a=this.b(c,"Frees",c.a.j.$l+"\t"+this.Op(c.a.j.Hj)+"M\t"+c.a.j.Hj,b,d,a,e,f);a=this.b(c,"In Use",c.a.j.Yl-c.a.j.$l+"\t"+this.Op(c.a.j.Gj-c.a.j.Hj)+"M\t"+
(c.a.j.Gj-c.a.j.Hj),b,d,a,e,f);a=this.b(c,this.Tu("Bytes",10),"Type\tElements\tName\tCount",b,d,a,e,f);for(g=0;g<c.a.j.Ve.length;g+=1)a=this.b(c,this.Tu(String(c.a.j.Ve[g].size),10),c.a.j.Uw(g),b,d,a,e,f);this.b(c,"","",b,d,a,e,f)},mq:function(c){var b=c.ud;c.ac=(c.v/19|0)-6;b.fillStyle="black";b.globalAlpha=.5;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=ViewConstants.Il;this.Rr=-2;this.jv(c,b,6,14,19,c.Y|0);b.fillStyle=ViewConstants.kk;this.Rr=0;this.jv(c,b,4,12,19,
c.Y|0)},Ez:function(c,b,d,a,e,f,g,l,E,M){var G=l,r=0,k=!1,w=c.M;f.fillStyle===ViewConstants.Il&&(k=!0);w>=M&&w<=M+c.ac&&(f.font=ViewConstants.Dl,k||(1<(c.Ya|0)?f.fillStyle=c.Wf:f.fillStyle=ViewConstants.On),f.fillText(b,g,l),k||(f.fillStyle=c.Wf),f.fillText(d,g+f.measureText(b).width,l),k||((c.Ya|0)<c.Rb.length-c.ac+1?f.fillStyle=c.Wf:f.fillStyle=ViewConstants.On),f.fillText(a,g+f.measureText(b+d).width,l),c.P[0]&&(r=c.P[0]),k||(f.fillStyle=c.Wf),f.font=ViewConstants.Ni,f.fillText(e,g+r,l),G+=E);
return G},Jo:function(c,b,d,a,e,f,g,l){var E=f,M=0,G=c.M;G>=l&&G<=l+c.ac&&(b.length&&(a.font=ViewConstants.Dl,a.fillText(b,e,f),M=a.measureText(b+" ").width),c.P[0]&&(M=c.P[0]),a.font=ViewConstants.Ni,a.fillText(d,e+M,f),E+=g);c.M+=1;return E},iv:function(c,b,d,a,e,f){var g,l=c.Rb,E=a;c.M=1;c.P[0]=0;b.font=ViewConstants.Ni;a=this.Jo(c,"",ViewConstants.iA,b,d,a,e,f);for(g=0;g<l.length;g+=1)a=this.Jo(c,l[g][0],l[g][1],b,d,a,e,f);c.va||(c.P[0]=120,c.M=1,a=E+e*(c.ac+2),a=this.Ez(c,"Up"," / ","Down","scroll errors",
b,d,a,e,0),a=this.Jo(c,"Esc","clear messages",b,d,a,e,0),this.Jo(c,"H  ","help on script commands",b,d,a,e,0))},lq:function(c){var b=c.ud,d=7;c.va&&(d=1);c.ac=(c.v/19|0)-d;b.fillStyle="black";b.globalAlpha=.5;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=ViewConstants.Il;this.iv(c,b,6,14,19,c.Ya|0);b.fillStyle=c.Wf;this.iv(c,b,4,12,19,c.Ya|0)}};window.Keywords={Xb:'"',yi:"[[",Ck:"]]",fs:"SUPPRESS",Co:"POIT",Va:"INITIAL",Ka:"OFF",ds:"STATE1FIT",hm:"POIRESET",yk:"POIPLAY",zk:"POISTOP",im:"POITRANS",Aq:"HARDRESET",Lm:"TRACK",Jj:"TRACKBOX",Km:"TRACKLOOP",ir:"NOREPORT",Nn:"GRAPH",wo:"NOGRAPH",vq:"GRAPHOPACITY",wq:"GRAPHPOINTS",hr:"NOPERFWARNING",eu:"AUTOHIDEGUI",Ue:"ALL",af:"LINEAR",Sf:"BEZIER",Fq:"HEXDISPLAY",Yr:"SQUAREDISPLAY",Eq:"HEXCELLS",Xr:"SQUARECELLS",kt:"CELLBORDERS",ju:"INTEGERZOOM",Ar:"RANDOMSEED",iq:"DELETERANGE",Ur:"SHOWTIMING",
sq:"EXTENDEDTIMING",Sr:"SHOWGENSTATS",Tr:"SHOWINFOBAR",jr:"NOSOURCE",Do:"POI",Lk:"TITLE",bv:"POLY",Eo:"POLYFILL",sr:"POLYLINE",qr:"POLYALPHA",tr:"POLYSIZE",ur:"POLYT",rr:"POLYANGLE",vr:"POLYTARGET",av:"POLYTRACK",fl:"ARROW",Ip:"ARROWALPHA",Kp:"ARROWSIZE",Lp:"ARROWT",Jp:"ARROWANGLE",Mp:"ARROWTARGET",Np:"ARROWTRACK",Ml:"LABEL",Pq:"LABELALPHA",Rq:"LABELSIZE",Sq:"LABELT",Qq:"LABELANGLE",Tq:"LABELTARGET",Uq:"LABELTRACK",Yc:"FIXED",$q:"MAXGRIDSIZE",ym:"STARS",Kk:"CUSTOM",jp:"XOFFSET",kp:"YOFFSET",Yo:"BACKGROUND",
Xo:"ALIVE",ms:"ALIVERAMP",$o:"DEAD",Zo:"DEADRAMP",Mv:"DYING",Lv:"DYINGRAMP",Vv:"UIFOREGROUND",vB:"UIFOREGROUNDA",Tv:"UIBACKGROUND",tB:"UIBACKGROUNDA",Wv:"UIHIGHLIGHT",wB:"UIHIGHTLIGHTA",Yv:"UISELECT",yB:"UISELECTA",Xv:"UILOCKED",xB:"UILOCKEDA",Uv:"UIBORDER",uB:"UIBORDERA",lt:"BOUNDARY",Ym:"AUTOFIT",Jq:"HISTORYFIT",Vn:"HISTORYSTATES",Cj:"STEP",fr:"NOSTEPBACK",zm:"T",nr:"PAUSE",Hl:"GRID",Gl:"GRIDMAJOR",ks:"TEXT",qq:"ERROR",Ou:"OFF",Qu:"ON",fu:"HISTORY",su:"MARK1",wu:"MARKOFF",uu:"MARK2",mu:"KILL",Wt:"GRAPHBG",
Vt:"GRAPHAXIS",Ut:"GRAPHALIVE",Xt:"GRAPHBIRTH",Yt:"GRAPHDEATH",ra:"COLOR",Vp:"COLOUR",Pm:"VIEWONLY",er:"NOGUI",dr:"NOCOPY",ss:"THUMBNAIL",qs:"THUMBSIZE",os:"THUMBLAUNCH",yh:"THEME",Zm:"AUTOSTART",ig:"LOOP",xg:"STOP",Qh:"ANGLE",oj:"LAYERS",dj:"DEPTH",kj:"GPS",oc:"ZOOM",Gp:"Z",cd:"X",dd:"Y",Pk:"WIDTH",jk:"HEIGHT",km:"POPUPWIDTH",jm:"POPUPHEIGHT",rs:"THUMBZOOM",Oe:"#"};
